id,tags,text
103,android,ランチャーアクティビティからAccountManager経由で独自AccountAuthenticatorActivityを起動 独自AccountAuthenticatorActivityでバックボタンが押されたら、認証をキャンセル AccountManagerのコールバックでfutureがキャンセルされていたら、ランチャーアクティビティをfinish アクティビティが消えるトランジションの後、一瞬 (それまでに起動していた) アプリの画面が表示される という症状です。 AndroidManifest.xml バックボタンが押された時のコールバック: 認証をキャンセルする public class LoginActivity extends AccountAuthenticatorActivity { @Override public void onBackPressed() { setAccountAuthenticatorResult(null); setResult(RESULT_CANCELED); finish(); } } AccountManagerのコールバック内でキャンセルを処理 mAccountManager.getAuthTokenByFeatures(mAccountType mAuthTokenType null activity null null new AccountManagerCallback() { @Override public void run(AccountManagerFuture future) { Bundle bundle; try { if (future.isCancelled()) { eventBus.post(new LoginFailedEvent(true)); return; } ランチャーアクティビティをfinish() public class LaunchActivity extends BaseActivity { // EventBus経由で受け取る public void onEventMainThread(LoginFailedEvent event) { if (event.isCancelled()) { finish(); } 終了の仕方がおかしいなどあるでしょうか。
106,php,PHPで文字列がメールアドレスかどうか判定する方法を教えてください。
107,python,Flask-Mobility を使っているのですが、PCのブラウザでスマホ表示の確認をする方法はないでしょうか？スマホかPCかの判定をライブラリ内で行っていると思うので、それを外部から制御できるとよいと思うのですが
143,ios,iOS開発初心者ですが、無謀にもstoryboardを使わずにiPhoneとiPadで動くuniversalアプリを開発しようとしているところです。シミュレータでiPhoneとiPad2を選択して起動すると問題なく起動しますが、iPad retinaとiPad Airを選択すると起動時にエラーが発生します。 この情報から考えられうるエラー原因はなんでしょうか。 個人的には設定関連でケアレスミスをしている気がしているのですが、、、 同じような症状がでてこれで解決できたというような方がいたらご回答お願いいたします。 ・エラー箇所 int main(int argc char * argv[]) { @autoreleasepool { return UIApplicationMain(argc argv nil NSStringFromClass([AppDelegate class]));ここでストップします(Thread1:signal SIGABRTといわれる) } } ・outputにでてきたログ > (loaded)' *** First throw call stack: ( 0   CoreFoundation                      0x000000010cedc3f5 __exceptionPreprocess + 165 1   libobjc.A.dylib                     0x000000010cb75bb7 objc_exception_throw + 45 2   UIKit                               0x000000010da56cf0 -[UIStoryboard name] + 0 3   UIKit                               0x000000010d50aca9 -[UIApplication _loadMainStoryboardFileNamed:bundle:] + 40 4   UIKit                               0x000000010d509d49 -[UIApplication _runWithMainScene:transitionContext:completion:] + 1075 5   UIKit                               0x000000010d508d22 -[UIApplication workspaceDidEndTransaction:] + 179 6   FrontBoardServices                  0x0000000110a362a3 __31-[FBSSerialQueue performAsync:]_block_invoke + 16 7   CoreFoundation                      0x000000010ce11abc __CFRUNLOOP_IS_CALLING_OUT_TO_A_BLOCK__ + 12 8   CoreFoundation                      0x000000010ce07805 __CFRunLoopDoBlocks + 341 9   CoreFoundation                      0x000000010ce075c5 __CFRunLoopRun + 2389 10  CoreFoundation                      0x000000010ce06a06 CFRunLoopRunSpecific + 470 11  UIKit                               0x000000010d508799 -[UIApplication _run] + 413 12  UIKit                               0x000000010d50b550 UIApplicationMain + 1282 13  Add or Sub                          0x000000010c645703 main + 115 14  libdyld.dylib                       0x000000010f71a145 start + 1 ) libc++abi.dylib: terminating with uncaught exception of type NSException 対処方法を発見したのでここに記載しておきます universalではなくてiPad専用の設定にしてからビルドし、その後universalの設定に戻してビルドしたら動くようになりました。原因はわかりませんが、これで動くようになりました。
145,javascript,REST APIのテストフレームワークであるFrisby.jsに関する質問。 レスポンスのJSONデータの値が「nullか文字列」である事をテストしたい場合、以下のような形でCustom Matcherが使える。 frisby.create('Test using a path as the paramater') .get('http://localhost:3000/test') .expectJSONTypes('member.*' { "name": String "hobby": function(val) { expect(val).toBeTypeOrNull(String); } // Custom Matcher "rank": { "name": string "point": Number } }) .toss() しかし、JSONがネストしている場合、Custom Matcherがうまく使えない。 例えば"rank"の"name"がnullか文字列というテストをしようとするとエラーとなってしまう。 解決方法が分かれば教えて下さい。 frisby.create('Test using a path as the paramater') .get('http://localhost:3000/test') .expectJSONTypes('member.*' { "name": String "hobby": String "rank": { "name": function(val) { expect(val).toBeTypeOrNull(String); } // エラーになる "point": Number } }) .toss() エラーメッセージは以下。 1) Frisby Test: Test using a path as the paramater [ GET http://localhost:3000/test ] Message: Error: Expected 'string' to be type 'object' on key 'name' Stacktrace: Error: Expected 'string' to be type 'object' on key 'name' at _jsonContainsTypes (/home/vagrant/frisby_test/node_modules/frisby/lib/frisby.js:1283:15) at _jsonContainsTypes (/home/vagrant/frisby_test/node_modules/frisby/lib/frisby.js:1271:9) at jasmine.Matchers.toContainJsonTypes (/home/vagrant/frisby_test/node_modules/frisby/lib/frisby.js:1156:12) at /home/vagrant/frisby_test/node_modules/frisby/lib/frisby.js:573:22 at Array.forEach (native) at Function._.each._.forEach (/home/vagrant/frisby_test/node_modules/frisby/node_modules/underscore/underscore.js:81:11) at null. (/home/vagrant/frisby_test/node_modules/frisby/lib/frisby.js:572:9) at null. (/home/vagrant/frisby_test/node_modules/frisby/lib/frisby.js:1043:43)
166,android,LinearLayoutを使ったAndroidアプリを作るため、Blank Activityから作成したプロジェクトでデフォルトに設定されているRelativeLayoutを削除しようとしたところ、なぜか削除出来ませんでした。 なお、Android Studio (Beta) 0.8.9では削除出来ていたのですが、0.8.14にバージョンアップしたら出来なくなりました（開発環境はOS X 10.10）。 手作業でactivity_main.xmlを編集してLinearLayoutへの変更は出来ましたが、GUIから削除出来ない原因がわかる方がいれば教えて下さい。よろしくお願いします。
178,javascript|java,Tungsten ReplicatorのJavaScriptフィルタで、OneRowChangeクラスの内部クラス、ColumnSpecをnewしようとしています。 ColumnSpecクラスはスタティックではないので、Javaなら oneRowChange.new ColumnSpec() とするところですが、これをRhino経由でJavaScriptで記述するにはどうすればよいでしょうか。 今まで以下を試してみましたが、エラーになるばかりです。 $ cat Outer.java public class Outer { public class Inner { public Inner() { } } } $ javac Outer.java $ java -cp /usr/local/Cellar/rhino/1.7R4/libexec/js.jar:. org.mozilla.javascript.tools.shell.Main Rhino 1.7 release 4 2012 06 18 js> o = new Packages.Outer() Outer@12413ffc js> new o.Inner() js: uncaught JavaScript runtime exception: TypeError: org.mozilla.javascript.Undefined@675dd521 is not a function it is undefined. js> new Packages.Outer.Inner() js: Java constructor for "Outer$Inner" with arguments "" not found. js> o.new Inner() js: "" line 4: missing ; before statement js: o.new Inner() js: ...........^ js: "" line 4: Compilation produced 1 syntax errors.
179,javascript,普段、Rubyを使い慣れているのでJavaScriptで配列やハッシュ、文字列等を操作するときに、「RubyでいうあのメソッドはJavaScriptにあるのかな？」と探す or 実装するのが面倒です。 というわけでベーシックなオブジェクトをRubyっぽく操作できるJSライブラリがあれば教えてください。
195,javascript,AngularJSでルーティングを行うSPAを作成した場合、戻るボタンを押すと１つ前のページに戻りますが、 ページ自体は再度リロードされます。 そのため、前のページの表示位置に戻らず、またデータのリロードが発生してしいます。 AngularJSで戻るボタンを押した場合に、SPAではない通常のアプリケーションと同様に、 前のページをリロードせずに、元のスクロール位置に戻るにはどのようにすればよろしいでしょうか？
199,java,Javaでは-Xms256mのように利用可能なメモリを指定できますが、指定しない場合のデフォルトサイズ はどのようになりますでしょうか？
209,python,Python のパッケージを配布する際、依存するパッケージを指定するのに requirements.txt と、 setuptools の install_requires オプションを利用する方法の二種類があります。 どちらの方法がより一般的で推奨されているのでしょうか。
238,android,androidのイヤホン端子でモータを制御しようとしていて、イヤホン端子からPWMを出力する方法を探しています。 周波数はある程度高周波であればあまりこだわりません。
241,c#,VisualStudio C# .NET Framewok　という環境でWindows用のアプリを開発しています。 このアプリは外部のサーバーと通信を行っております。 サーバは、devel環境、staging環境、production環境の３つが用意されております。 それに伴い、アプリも各環境用に、サーバーの指し先を変えたものをビルドしたいです。 （Android開発で言うところのflavorのような機能を期待しています) よろしくお願いいたします。
257,javascript,HTML5で画像を回転させて表示させると、斜めになった画像の縁の部分がギザギザになってしまいます。このジャギを回避する方法はないでしょうか？
265,android,webviewの設定で、 下記のように設定しないとピンチインアウトが出来ないのですが、 Controllerを非表示にできないのでしょうか？ WebSettings settings = webview.getSettings(); settings.setSupportZoom(true); settings.setBuiltInZoomControls(true);
272,python,Python 3.3.5 + Flaskでサーバアプリを作っています。 内容 FlaskにHTTPリクエストを送ると即座にレスポンスを返してくれますが、 2つ以上のリクエストを同時に送る もしくは 早かった方のリクエストの処理中に続けてリクエストを送る といった事をすると、遅かった方のリクエストのレスポンスは早かった方へのレスポンスが完了するまで待たされます。 単一スレッドで処理しているだからだと思われますが、これをFlaskで並列処理できる方法はありませんでしょうか。 テストに使ったコード if __name__ == '__main__': app = Flask(__name__) app.config.update(PROPAGATE_EXCEPTIONS = True) @app.route('/') def greet(): n = randrange(1 10) sleep(n) return 'Hello world! I slept {0}[s].'.format(str(n)) app.run() これは、リクエストが飛んできたら乱数を元に1 - 10秒待ち何秒待ったか返すコードです。 ブラウザのタブを2つ用意し、両方素早くlocalhost:5000へアクセスすると、先にアクセスした方にレスポンスが返ってきてから後の方の待つフェーズが始まることが待ち時間からわかります。 もしFlaskが並列でレスポンスを返すことができたら、待ち時間の乱数が小さかったほうが先に返ってくるはずです。
276,ios,TestFlight の外部テストでは問題なく Facebook ログインができているのにも関わらず、Apple のレビューでログインができず、何度も Reject となってしまいます。 Apple からの回答は下記の通り。 We found that your app exhibited one or more bugs when reviewed on iPad running iOS 8.1.1 and iPhone 5s running iOS 8.1.1 on both Wi-Fi and cellular networks which is not in compliance with the App Store Review Guidelines. We are still unable to log into your app with Facebook. We are presented with the error message 'ユーザーはこのアプリケーションを見ることを許可されていません。: 開発者の設定により、ユーザーはこのアプリケーションを見ることを許可されていません。' バックエンドに Parse を使用。 手元では、TestFlight の内部テスター版、外部テスター版ともに問題なく動作している。 Facebook のアプリ設定のステータスは「This app is public and available to all users」となっている。 Facebook の Approved Items は email public_profile user_friends で、アプリで指定しているものは、public_profile user_friends のみ。 Facebook の Country Restricted は NO（制限なし）に設定されている。 同様の問題を解決された方、解決法やヒントを頂けると助かります。
287,ios,例えば 1[titledescriptionlinkimgUrl]を持ったjsonをURLから取得 2下記のようなtableを作ってクリック時にsequeにlinkを渡す というような事がしたいです。 title |　　　　| descriptiondescription |　img 　| descriptiondescription |　　　　| descriptiondescription jsonを取って来てtitleを通常テーブルに入れるところまでは下記の実装でできました。 - (void)getJSON:(NSURL*)url { //NSURL *url = [NSURL URLWithString:@"http://itunes.apple.com/jp/rss/topfreeapplications/limit=10/json"]; NSURLRequest *request = [NSURLRequest requestWithURL:url]; [NSURLConnection sendAsynchronousRequest:request queue:[NSOperationQueue mainQueue] completionHandler:^(NSURLResponse *response NSData *data NSError *error) { NSLog(@"json ok"); NSDictionary *jsonDictionary = [NSJSONSerialization JSONObjectWithData:data options:0 error:nil]; // データの配列をプロパティに保持 self.items = [jsonDictionary objectForKey:@"items"] NSLog(@"%d"(int)[self.items count]); // TableView をリロード [self.tableView reloadData]; }]; } // テーブルセルの内容を設定 - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath { static NSString *CellIdentifier = @"Cell"; UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier]; if (cell == nil) { cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]; cell.accessoryType = UITableViewCellAccessoryDisclosureIndicator; } NSDictionary *item = [self.items objectAtIndex:indexPath.row]; // titleを設定 cell.textLabel.text = [item objectForKey:@"title"]; //cellにdescriptionを設定 //cellにimageを設定 //cellを押した時に発生するsequeを指定、link要素を渡す return cell; }
290,javascript|jquery,jQueryっぽく要素を回転させたい $("#elem").rotate(90);　=> #elemが90度回転 $("#elem").rotate() => "90"が返る
293,android,Shared Elements を動画で実現したいと思っています。 makeSceneTransitionAnimation の様に動的に View を共有して Activity の遷移を行いたいのですが、API level 21 未満の場合はどのように実現すればいいでしょうか。 実装方法として Service 等のライフサイクルを横断するストアに View のインスタンスを保持しておき、そのインスタンスを遷移先の View をすげ替える事で実現できるのではないかと思っていますが、どなたかご存じないでしょうか？ よろしくお願いします。
295,java,Scavenge GC と Full GC の処理の違いは何か教えて下さい。以下については理解しています。 Scavenge GC が Eden 領域がいっぱいになった時に実行される MaxTenuringThreshold の回数文、S0 から S1 に移動が発生した場合に、OLD 領域への移動が発生する Old がいっぱいになった時に Full GC が発生する。 つまり、Old に残っているオブジェクトは、どこからか参照されていて、それ故に残っていると考えられます。したがって、Full GC が Scavenge GC と同様の処理である場合、Old のオブジェクトは、どこからか参照されていると判定されるので、破棄できないのではないかと思いました。 しかし、実際にはそんなはずは無いので、Full GC と Scavenge GC には、不要なオブジェクトを探索するアルゴリズムに差異があるのでは(Full GC のほうが深く探索するなど)、と推測しているのですが裏付けとなる情報が得られていません。 よろしくお願いします。
300,javascript,ブラウザーでダウンロードリンクを踏んだときのようにJavaScriptからファイルをダウンロードさせたいのですが、どのようにしたら良いでしょうか？ $.getJSON('/data.json' function(data) { // ファイルダイアログを表示して、指定したファイルへ data を書き込む });
306,ios,UITableViewControllerを使ってcellForRowAtIndexPath等を定義してtableを表示していましたが、 table以外のモノも表示したいためstoryboadでViewControllerの中にtableViewを配置したものに変更しました。 この場合、self.tableViewに対してcellForRowAtIndexPathやnumberOfSectionsInTableViewはどうやって設定したらいいでしょうか？
308,java,Multimap を必要とするメソッドがあるのですが、Multimaps.index を使うよりも簡単な初期化方法はありませんか？ Multimap piyo = Multimaps.初期化(); くらい簡単なものがうれしいです。環境はJava6です。
310,ios,やりたいことは、ScrollViewとTableViewの判断です。 二つともデリゲートでつなげているのですが、TableviewはScrollのデリゲートがつながってしまいます・・・ なので、どちらのViewでスクロールされているのかが判断できない状態です。 現在 - (void)scrollViewDidScroll:(UIScrollView*)scrollView こちらで、スクロールが縦にされた場合TableView横でされた場合ScrollViewと判断させているのですが、もっとよいやり方があるのではないかと考えています。 どなたかご存知の方がいらっしゃればぜひご教授ください。 現在はこちらで判断しております。 CGPoint currentPoint = [scrollView contentOffset]; if(self.scrollBeginingPoint.y > currentPoint.y){ //上方向スクロール検知 }else if(self.scrollBeginingPoint.y < currentPoint.y){ //下方向スクロール検知 }
313,php,PHP の date_sun_info、date_sunrise、date_sunset 関数は、どのように計算しているのでしょうか。 関数によって算出された値の精度を知りたいので、ご存知でしたら教えて下さい。
333,javascript|ios,iOSのUIWebViewで、ロードしたページ内のjavascriptを呼び出し戻り値をiOS側に格納したいです。 どのような方法があるでしょうか？
334,android,スマートフォン向けのウェブサービスにおいて、AndroidからのアクセスでGETが連続で来る場合があります。 特徴として、 2回目のリクエストはリファラーがない 2回目のリクエストは1回目の数秒後ぐらいに来る 2回目のリクエストはユーザーエージェントがDalvik いくつかの端末で出ている この問題により、いくつかの機能で不具合のような動作が出ています。 どのように対策すれば良いでしょうか。 javascriptを読み込ませてこれを送信しないようにする等の方法があれば、ありがたいです。 無ければサーバ側で監視するのでしょうか。サーバ側の環境はphp+Zendです。
336,android,RxAndroidをローカルビルドできません RxAndroidに手を入れてみようと思い https://github.com/ReactiveX/RxAndroid 上記をローカルでgit cloneし、Android Studioで開くと数ファイルで下記のようにcom.google.auto.value.AutoValueが見つからないという現象が発生しました。 これに関しては、build.gradleの compileOnly "com.google.auto.value:auto-value:1.0-rc1" を compile "com.google.auto.value:auto-value:1.0-rc1" に変更する事で解消したのですが、今度は AutoValue_OnClickEventが見つからないという問題が発生しています。 @AutoValue を認識して自動生成されることを期待して数回ビルドやクリーンをしてみましたが状況変わらずです。 正常にビルドが通る方法をご教授いただけないでしょうか？ よろしくお願い致します。
341,javascript,直リンクで申し訳ないのですが、iPhone等のスマートフォンで下記のサイトにアクセスすると、スマートフォンの傾きに応じて背景画像がゆらゆらと動くようになっています。 http://ignition.co/104 このような効果はjQueryか何かのライブラリで実現しているのでしょうか？ そういったライブラリをご存知の方がいれば教えてください。
360,android,Materialデザインガイドラインに書いてあるようなFloating action button Raised buttonはどのように実装すれば良いのでしょうか？ Flat buttonはこの二つを入れれば良さそうな気がするのですが… style="?android:borderlessButtonStyle" android:textStyle="bold"
367,android,Gradle ベースの android プロジェクトで APT (annotation processor JSR 269) を使いたいのですが どのように設定するのがお勧めでしょうか。
373,c#,ASP.NET MVC 5(Visual Stodio 2013 Update 4)環境で開発しています。 Content(cssなど)やScript(Javascriptなど)は通常Project直下にフォルダを作成して展開すると思います。 これを各Areaごとに配置することは可能でしょうか。 私が試した環境では、 Area -hogehoge -Content -Style.css と配置しましたが、 @Url.Content(~/hogehoge/Content/Style.css) も @System.Web.Optimization.BundleTable.Bundles.ResolveBundleUrl(~/hogehoge/Content/) もファイルが参照できなくエラーとなってしまいました。
378,android,お世話になっております。 現在ListFragmentを使用し、アプリを作っているのですが、 ListFragmentの各リストをタップするとダイアログを出し、ダイアログの値をそのリストに入れたいのですが、 動的に変更する方法がいまいち思いつきません。 どなたかいい方法をご存知の方はいらっしゃらないでしょうか？ よろしくお願いいたします。
379,android,Cordovaでandroidの開発をしています。 動画再生について質問です。 【目的】 Cordovaで作成したアプリ内でvideoタグを使用してhtml内部で動画を再生させたい。 Android 5.0では動作したが、Android 4.4.2でWebViewを使用した場合に再生できない。 【問題点】 動画が100秒までしか再生できない。 【使ってるライブラリ等々】 Cordova（androidで開発） File API（Cordova plugin https://github.com/apache/cordova-plugin-file） inappbrowser（Cordova plugin https://github.com/apache/cordova-plugin-inappbrowser） CorHttpd（Cordova plugin https://github.com/floatinghotpot/cordova-httpd） 【経緯】 動画の再生のため、CordovaプラグインのFile APIを使って /data/data//files/ 以下にファイルを配置し、そこで動画を再生していたのですが、100秒までしか再生できませんでした。 動画へのアクセスがfileプロトコルだったので、httpプロトコルでのアクセスにしようとcordova.httpdプラグインを使用して、android内部でwebサーバを立ち上げました。 同時にfileプロトコルからhttpプロトコルへのアクセスはできないため、inappbrowserプラグインを使用して、別windowを立ち上げ、その内部で、video再生用HTMLを表示させていました。 http://192.168.2.1:8080/sample/sample.html として、アクセスできます。 ここで問題が出ました。 android端末がwifiに接続されていた場合（オンライン時）は動画が全て再生されるのですが、 wifiに繋がっていない場合は上記のような100秒までしか再生できない現象になります。 オフライン時は http://127.0.0.1:8080/sample/sample.html へのアクセスになります。 chromeのadb exentionを使用して、つながっているandroidのWeb Viewのデバッグができるので、そこでログ追っていると、動画ファイル読み込みが、(pending)表示になっていました。 【目的】が達成できればよいので、手段は問わないのですが、動画を読み込ませる方法、または動画再生方法はないでしょうか？
384,ios,Webアプリケーション開発時など、複数のiOS Simulatorで同時にテストしたいケースがあります。1台のMacで、複数のエミュレータを同時に起動する方法はあるでしょうか? 参考まで、手元で試した次の方法はいずれもうまく行きませんでした。2つ目のインスタンスを立ち上げようとすると、「Unable to boot device in current state: Booted」というエラーが出て、黒い画面だけが表示されます。 1) openコマンドで、-nオプションを指定する。 $ open -n -a /Applications/Xcode.app/Contents/Developer/Applications/iOS\ Simulator.app` 2) 別ユーザで、openコマンドを使う。 $ su OtherUser $ open -n -a /Applications/Xcode.app/Contents/Developer/Applications/iOS\ Simulator.app`
396,ios,（指摘を受けて編集しています） 現在、UINavigationControllerを使ってiOSの開発を行っています。 ややトリッキーな使い方ではありますが、UINavigationControllerで普通に生成されたビューの中に、 さらに「UINavigationController > UIViewController > UITableView」という構造を持ったものを表示しようとしています。 具体的には、UINavigationControllerで表示されたビューに対し、 UINavigationBar上のボタンを押下された際に以下のように処理しています。 UIViewを継承したカスタムViewを生成（HogePopupView） UINavigationControllerを生成 (2)に表示するカスタムViewControllerを生成 (3)をrootにinitWithRootViewController:を呼び出す (1)のviewを、生成元のviewControllerのviewにaddSubviewする ※ storyboardは一切使っていません。 設計の思惑としては、単純にカスタムのUIViewを生成してaddSubviewするだけで使えるようにしたい、というものです。 カスタムviewの目的としては、現在表示されているビューの上にオーバーレイする形で 画面全体からやや小さい、ポップアップのビューを表示したいと考えています。 iOS7 iOS8では特に問題なく表示されているのですが、なぜかiOS6のみ、 上記のUITableViewが20px（おそらくStatus bar分）上にずれる、という現象が発生しています。 ビューが表示されたあと（viewWillAppearなど）に位置を変更する処理を入れてもなぜか変更されません。 （具体的には、UITableViewの引っ張って更新が出てくる上端がUINavigationBarが少し重なっている状態です） こうして入れ子にした場合に起こる挙動の違いはなにが考えられるでしょうか？ （個人的にはUINavigationControllerの挙動として、自動的にステータスバーを考慮した補正がかかるのでは、と思っています） だいぶ抽象的な質問ですみません。 [追記] 実装上の問題としては解決しました。 （UINavigationBar側を逆に上にずらした） ただ、本質的な改善にはなっていないので、見た目の整合性を取った、という感じです。
406,php,実行時に、関数からその関数を実行せずに必要な引数の数を知るにはどうすれば良いですか? <?php function myFunc($a $b $c) { return "$a $b and $c!"; } このような関数を定義したとき、$a $b $c という三つの引数を必要とするので「3」という数が知りたいです。 また、メソッドについても同じように調べられますか? <?php class Hoge { public static function fuga ($a $b) { return "fuga: $a and $b!"; } public function piyo ($a $b $c) { return "piyo: $a $b and $c!"; } }
408,php,ArrayAccessを実装すれば、自作のクラスのインスタンスオブジェクトを配列のように利用することができそうです! しかし、array_mapなどの配列系の標準函数には利用できませんでした。 以下のコードでは簡単のために、SPLに含まれるArrayIteratorを例にとります。 <?php array_map('gettype' array_map('floatval' [1 2 3])); // ["double" "double" "double"] array_map('gettype' array_map('floatval' new ArrayIterator([1 2 3]))); // PHP Warning:  array_map(): Argument #2 should be an array in /tmp/array_access.php on line 5 // PHP Warning:  array_map(): Argument #2 should be an array in /tmp/array_access.php on line 5 自作のオブジェクトやArrayIteratorなどのArrayAccessを実装したクラスのインスタンスを配列と区別なく利用したいのですが、何か解決策はありますか? タイプヒントでarrayを期待する箇所で利用できると、もっと嬉しいです。
411,ios,iOS8でアプリケーションがバックグラウンドモードに移行したあとも、周期的にタスクを動かしたいと思い、ドキュメントを見ながら以下のようなコードを書いてみました。しかし、思い通り動いてくれません。なにか見落としがあるのでしょうか。 以下、AppDelegate.swiftより抜粋。 let backgroundQueue = dispatch_get_global_queue(QOS_CLASS_BACKGROUND0) func applicationDidEnterBackground(application: UIApplication) { println("did enter background") dispatch_async(self.backgroundQueue myBackgroundTask) } func myBackgroundTask() { NSThread.sleepForTimeInterval(0.5) println("this is back ground task") dispatch_async(self.backgroundQueue myBackgroundTask) }
415,android,フルスクリーン（Immersive Mode）でコンテンツを表示し、動的にナビゲーションバーの表示・非表示を行うアプリケーションを制作しています。 View.SYSTEM_UI_FLAG_VISIBLEとView.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATIONでフルスクリーンのままナビゲーションバーをコンテンツ上に出すことはできたのですが、その際にナビゲーションバーの分のパディングを取得する方法がわかりません。 fitSystemWindows(Rect insets)を利用する方法を試したところ、取得できる場合と取得できない場合がありました。 @Override protected boolean fitSystemWindows(Rect insets) { Log.d(getClass().getSimpleName() "insets="+insets.toShortString()); return super.fitSystemWindows(insets); } アプリ起動時は取得できる：insets=[075][0144] 画面回転・ナビゲーションバー表示切替時は取得できない：insets=[00][00] このfitSystemWindowsというメソッドの挙動がいまいちわかりません。 メソッドの使い方が良くないのでしょうか？ また、他に有効な手段をご存じの方がいらっしゃいましたら教えて下さい。 サンプルのコードを添付します。 public class MainActivity extends ActionBarActivity { private boolean mOverlayMode = false; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setOverlayMode(true); setContentView(R.layout.activity_main); ButterKnife.inject(this); } @OnClick(R.id.button_overlay) void switchOverlayMode() { setOverlayMode(!mOverlayMode); } /** * ステータスバー・ナビゲーションバーの表示・非表示 * @param mode */ private void setOverlayMode(boolean mode) { mOverlayMode = mode; Window window = getWindow(); if (mode) { window.clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN); window.addFlags( WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS); if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) { int systemUiVisibility = View.SYSTEM_UI_FLAG_VISIBLE | View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN; if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) { systemUiVisibility |= View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION; } window.getDecorView().setSystemUiVisibility(systemUiVisibility); } } else { window.addFlags( WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN | WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS | WindowManager.LayoutParams.FLAG_FULLSCREEN); if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) { int systemUiVisibility = View.SYSTEM_UI_FLAG_LAYOUT_STABLE | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LOW_PROFILE | View.SYSTEM_UI_FLAG_FULLSCREEN; if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) { systemUiVisibility |= View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_IMMERSIVE; } window.getDecorView().setSystemUiVisibility(systemUiVisibility); } } } ■追記 ご回答いただいた方法でうまくいきましたので最終的なコードを載せておきます。 /** * フルスクリーン表示時のシステム表示分のパディングを取得する. */ @SuppressLint("NewApi") public static Rect getSystemWindowPadding(Activity activity) { if (activity == null) { return new Rect(); } final int statusBarHeight = getStatusBarHeight(activity); // ステータスバーの高さを取得。ここでは割愛 if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) { final Display display = activity.getWindowManager().getDefaultDisplay(); final Point screenSize = new Point(0 0); final Point windowSize = new Point(0 0); display.getRealSize(screenSize); display.getSize(windowSize); final int paddingBottom = screenSize.y-windowSize.y; // ナビゲーションバーが下に表示される場合 final int paddingRight  = screenSize.x-windowSize.x; // ナビゲーションバーが右に表示される場合 return new Rect(0 statusBarHeight paddingRight paddingBottom); } else { return new Rect(0 statusBarHeight 0 0); } }
436,c#,VS2013 .NetFramework4.0環境で、 HtmlAgilityPackを使用して煩雑なHTMLをパーズし、整形したHTMLに変換するプログラムを作成しています。 しかし、HtmlAgilityPackにはHTMLテキストをインデントする機能はないようでした。 XMLを自動インデントする方法はあるのですが、変換処理が必要になってしまう・preタグの中にインデント文字が入ってしまうなど少し面倒です。 C#でHTMLテキストをインデントする簡単な方法はありますでしょうか。HTML5のタグに対応しているものだとなお良いです。 よろしくお願い致します。
449,android,連絡先アプリのように定期的にサーバーのデータをチェックして端末のデータを更新する機能を作りたいです。 場合によって通知領域にメッセージを出したりします。 サーバーからのプッシュ型ではなくクライアントからのプル型で実装したいです。皆さんどのように実装されているのでしょう？
452,ios,iOSシミュレータで開発を行っているのですが、ソフトウェアキーボードが英語入力です。 日本語入力を行うにはどうすれば良いでしょうか？
455,javascript|jquery,本家SOより自分がうまくいかなかったコードを追加して転載しています。 jQuery のセレクタで select ボックスで選択されている textNode の値を取得する方法が分からないです。 var areaSelect = $("#area"); var area = areaSelect.text() とやってしまうと、ドロップダウンに含まれている値が全部選択されてしまいます。
457,android,複数の暗黙的インテントに対応したアクティビティを起動したいケースがありますが、 指定したIntentの発行では起動できずこまっております。 起動したいアプリ(アクティビティ)のAndroid Manifest.xmlを以下のように設定されています。 上記のとおり”http”とカスタムスキーム”testapp"の2つのdataタグを設定されているのですが、 この時、”testapp”のスキームが反応しません。 adb shell am start -a android.intent.action.VIEW -d "testapp:” 起動のIntentは上記のように指定しております。 Starting: Intent { act=android.intent.action.VIEW dat=testapp: } Error: Activity not started unable to resolve Intent { act=android.intent.action.VIEW >dat=testapp: flg=0x10000000 } エラーは上記のようになっております。 このようなfilterを実装をしているActivityに対しては、どのような方法でアクティビティを呼び出すのが正しいのでしょうか？ 有効な手段をご存じの方がいらっしゃいましたら教えて下さい。
478,java,Google App Engine上でも使えるJavaのフレームワークは何ですか？実サービスとしての運用経験があると大歓迎。 そこまで本格的でなくても、検証レベルの使ってみた感想でも良いです。
496,python,Python でのパッケージ雛形作成をしてくれるようなツールでよいものがあれば教えてください。 Perl や Ruby でいえば Minilla や Bundler の bundle gem コマンドに相当するようなものを考えています。 現在は python_boilerplate_template の paster を利用していますが、作りたいパッケージが src/{{ egg_name }} のように1段深いディレクトリに作成されるのが少しおおげさで、不満を感じています。
498,php,CakePHPを採用している事を公表している国内のサイトについて知りたいです。 CakePHP1系か2系かも分かった方がより有用ですね。 うまい調査法があるでしょうか？
509,ios,https://developer.apple.com/app-store/review/guidelines/#personal-attacks 14.3 Apps that display user generated content must include a method for filtering objectionable material a mechanism for users to flag offensive content and the ability to block abusive users from the service 部分なのですが、これって以下の認識であっていますか？また、この部分でリジェクトされた方がいましたら、どのように対応しましたか？ CGM系アプリでは、以下の機能をすべて有する必要がある。 ユーザーが不愉快だと思うコンテンツをフィルタリングする機能 ユーザーが攻撃的なコンテンツだと思ったことを知らせることができる機能 サービス側が悪質なユーザーをブロックできる機能 よろしくお願いします。
510,javascript|jquery,作成したWebサイトのページに含まれるDOM要素が多く、ページの表示が遅い。 また、JavaScriptなどで再レイアウトされる要素が崩れるといった症状がでている。 すべての要素が読み込まれるまでページを表示させず、すべての要素が読み込まれた時点でページを表示させるにはどうすればよいか。
1507,javascript|jquery,ページをスクロールした時に、スクロールした距離に応じて、オブジェクトの移動や透過をさせたい。パララックス効果についても簡潔な例を知りたい。
1527,ios,もともとUITableViewControllerを使って問題なく動いていたテーブル画面を、UIViewController + UITableViewを使って動くように書き換えています。（UITableViewControllerだといろいろな制限が多いので。） 概ねうまく動いているのですが、ただひとつ問題が起きてスタックしております。 スワイプしてセルを削除しようとするとクラッシュしてしまうのです。 解決方法ご教示いただけたらうれしいです。 エラー内容 *** Terminating app due to uncaught exception 'NSInternalInconsistencyException' reason: 'Invalid update: invalid number of rows in section 1. The number of rows contained in an existing section after the update (8) must be equal to the number of rows contained in that section before the update (9) plus or minus the number of rows inserted or deleted from that section (0 inserted 0 deleted) and plus or minus the number of rows moved into or out of that section (0 moved in 0 moved out).' *** First throw call stack: ソースコード - (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath { if (editingStyle == UITableViewCellEditingStyleDelete) { //[Parse] 該当データのIDを取得 PFQuery *query = [PFQuery queryWithClassName:@"Item"]; //[Parse]favoriteData配列のなかから、行数をベースに、該当データをdictionaryとして取り出す NSDictionary * deleteContent = [_favoriteData objectAtIndex:indexPath.row]; //[Parse]該当データのIDを取り出す NSString *itemId = [deleteContent valueForKey:@"objectId"]; //[Local]favoriteデータ配列から該当データを削除 [_favoriteData removeObjectAtIndex:indexPath.row]; //[Local]テーブルビューからRowを削除 [self.tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationFade]; //[Parse]IDをベースにデータを削除する [query getObjectInBackgroundWithId:itemId block:^(PFObject *deleteItem NSError *error){ //[Parse]オブジェクトを削除 [deleteItem deleteInBackground]; }]; } else if (editingStyle == UITableViewCellEditingStyleInsert) { // Create a new instance of the appropriate class insert it into the array and add a new row to the table view. } } よろしくお願いいたします。
1534,javascript|jquery,要素#elem0 .. #elem9に対してクリックイベントを設定し、それぞれの要素に対応した番号をalertで出したいと思っています。 下記のコードだと、#elem0をクリックしたときには0、#elem1をクリックしたら1、といったようにです。しかし、下のコードだと常に10が表示され、上記のような挙動になりません。どうすればいいのでしょうか? for (var i = 0; i < 10; i++) { $('#elem' + i).click(function() { alert(i); }); }
1548,android,Viewに下記のようなアニメーションを実装しています。(translationYが 0 → 100 → 0 → -100 → 0 と変化するのを繰り返します) ObjectAnimator anim = ObjectAnimator.ofFloat(view "translationY" 0 100 0 -100 0); anim.setInterpolator(new LinearInterpolator()); anim.setDuration(5000); anim.setRepeatCount(ObjectAnimator.INFINITE); anim.setRepeatMode(ObjectAnimator.RESTART); anim.start(); できればアニメーションはなるべくXMLで指定したいのですが、このように5個の値を経由するアニメーションをres/animator/下のXMLで作成することはできますか？
1578,html,HTML/CSS を構築するにあたってできればコーディング不要、つまりグラフィカルなツールでの編集・プレビューを行いたいのですが、 何か良いツールはありませんでしょうか。 静的なページというよりは、何かしらのWebフレームワーク (Ruby on Rails CakePHP Django 等) と組み合わせるためのデザインを構築する際に使えるグラフィカルツールを必要に感じています。 過去（もちろん現在にも…）には、 ホームページ・ビルダーや Dreamweaver が活躍している時代もありましたが、 それでできあがった HTML/CSS は構造としてあまり美しいものではなく、 プログラムと連携させるのにとても苦労した、という話をよく聞きます。 Strikingly Wix Weebly Jimdo 等々のブラウザ上でグラフィカルにページデザインを行えるサイトは登場していますが、あくまでもそれらのサイトの枠組みに沿ったものを作れるだけに過ぎず、たとえばそれを独自Webサービスのデザインとして使おうとするのは簡単ではありません。 現在私の知っている限りでは、(独自Webサービスの) HTML/CSS の編集には、タグやスタイルを直打ち、または Jade Sass SCSS 等々のエンジンによって「コーディングの」効率化を図っているところが関の山です。 もう少し、上レイヤーな手段、つまりはグラフィカルツール的な操作でデザインを構築できるWebオーサリングツールが、もしありましたらご紹介いただきたいです。
1587,java,今、タイトルの通り、 Mac OS X (Yosemite) で OpenOffice.org の拡張機能を作成しようとしています。 ひとまず、 Java ベースで作成しようとしたのですが、本家サイトのドキュメントが不十分であったり (不十分なように見える)、古かったりして、extension の作成に到れていません。 ひとまず、HelloWorld 的な extension を作りたいのですが、そのために利用できる資料、ないし、サンプルの extension などは、ありませんでしょうか。
1589,python,word2vecというC言語のプログラムで単語情報を多次元ベクトル化する際に出力されたテキストファイルが手元にあります。 次のコードのelseの文章で出力されたものです。 for (a = 0; a < vocab_size; a++) { fprintf(fo "%s " vocab[a].word); if (binary) for (b = 0; b < layer1_size; b++) fwrite(&syn0[a * layer1_size + b] sizeof(real) 1 fo); else for (b = 0; b < layer1_size; b++) fprintf(fo "%lf " syn0[a * layer1_size + b]); fprintf(fo "\n"); } ソース if(binary)のelseの方で出力されたベクトルファイルが手元にありますが、その後if(binary)の方で出力されたファイルが必要になりました。 ファイルの中身は以下のようになっています。 <単語><スペース><数値><スペース><数値><スペース> 今書いているコードは次のようです。 # -*- coding: utf-8 -*- import sys import struct #テキストベクトルデータの読み込み title = sys.argv[1:] i = 0 fp = open('binaryVec.bin''wb') odata = '' for line in open(title[0]): chars = list(map(hex map(ord line))) print line print chars odata += struct.pack('s'chars) fp.write(odata) fp.close() データが大きいため効率のよい変換プログラムがあると良いです。 よろしくお願いします。 文字コードはテキストもpythonプログラムもutf-8を使用しています。 テキストベクトルの一部を載せます。 多い 0.205392 -0.245325 0.240983 0.533283 0.087030 -0.198588 0.395930 0.331363 -0.212541 0.383991 0.391010 0.140275 0.178444 -0.331018 -0.303288 -0.168199 0.227571 -0.133808 -0.583108 -0.004697 -0.068092 -0.057790 0.199027 -0.443492 0.006436 -0.098054 0.221261 -0.413350 -0.274608 -0.266688 0.198686 -0.347939 -0.272542 -0.005835 0.195161 0.255993 -0.435598 0.083113 -0.061061 -0.602378 0.244479 -0.090220 0.053294 0.225144 0.084010 0.150409 -0.078552 0.184509 0.068329 -0.045706 -0.037543 -0.347720 0.363027 -0.251563 -0.293957 0.201196 -0.062295 -0.102561 -0.093551 -0.212615 -0.000832 -0.071720 -0.404002 0.124075 0.283026 0.108321 -0.177551 -0.681601 0.051641 0.324483 0.078215 -0.282532 0.313095 -0.250052 -0.872598 0.035464 -0.266010 -0.389549 -0.120772 0.243341 -0.255850 0.044791 -0.151454 0.159697 -0.320580 -0.663053 0.167484 0.361221 0.185417 0.342295 0.889678 -0.302563 0.289107 -0.102576 0.263508 -0.012531 0.298031 -0.515175 -0.127688 -0.260832 可能 0.108951 -0.258674 0.629972 0.311664 -0.077146 -0.124886 -0.096122 0.011065 -0.309206 0.867305 0.633274 0.006818 0.267469 -0.119733 0.521135 -0.064882 -0.018288 -0.010180 -0.729432 -0.028794 -0.299309 -0.141295 0.623287 -0.417451 0.007524 0.092700 0.215297 -0.506577 -0.271396 -0.184997 -0.198890 -0.349385 -0.178141 0.230034 0.141386 0.193577 0.223477 0.341060 -0.165425 -0.397568 0.020117 0.154478 0.313013 0.013119 0.172535 0.277345 -0.347708 0.686350 -0.181311 0.344334 -0.119619 -0.433781 0.426598 -0.588145 -0.155892 0.060375 0.023153 0.062405 0.193624 -0.262037 0.259582 0.140148 -0.697635 -0.071356 0.526129 -0.122136 -0.622095 -0.284502 0.130523 0.427264 0.295688 -0.340023 0.310286 -0.043206 -0.201572 -0.319277 0.377619 0.101276 -0.208789 0.099027 0.056171 -0.081605 -0.523134 0.181316 -0.018701 -0.517925 -0.108934 0.514148 0.504512 0.430822 0.481150 -0.165199 0.472695 0.080885 -0.141376 0.324130 0.128912 -0.219854 -0.160605 -0.224664
1598,android,android.media.ImageReaderクラスを使ってSurfaceに送った結果からBitmapを取り出したいのですが、OnImageAvailableListenerのコールバックでどのようにしたらBitmapが作成できるのでしょうか？ ImageReader.acquireLatestImage()で取得できるImageのフォーマットはJPEGです。 ImageReader.OnImageAvailableListener onImageAvailableListener = new ImageReader.OnImageAvailableListener() { @Override public void onImageAvailable(ImageReader reader) { // Bitmap bitmap = doSomethingWith(reader); } }; ちなみにcamera2 APIを使った静止画撮影での用途を想定しています。
1613,c#,マルチテナントサイトを作成しています。 たとえば以下のサイトではURLにテナントIDを含めて、テナントごとに異なるURLとなるようにしていますが、このようにする理由がよくわかりません。 メリットやデメリットを教えてください。 /survey/adatum /survey/fabrikam http://msdn.microsoft.com/ja-jp/library/ff966483.aspx 作成中のサイトは テナントごとに同一スキーマを使用します。 各テーブルにUserIDカラムを設けてデータを分離します。 テナントごとに大きなカスタマイズを行う予定はありません。
1614,javascript,今のところszarouski/lodash.dom-traverseを把握しています。 npmで提供されていると嬉しいです。 背景 jQueryの以下の機能に関しては代替えが見つかりました。 DOMの生成 ：hyperscript / virtual-hyperscript で代替え可能 Selector ：　document.querySelectorAll() で代替え可能 問題 querySelectorAll一発で取得できないDOM要素を、jQueryの以下のメソッド parent() prev() children() を使って取得しています。 このような操作の代替えライブラリを探しています。 またbrowserifyを使っているため、npmで提供されていると一貫したパッケージ管理が行えて嬉しいです。
1622,javascript,Three.jsを使い、アニメーションを制作しようとしています。 タイムラインの管理が出来るAnimationライブラリを探していて、TweenMax.jsが便利そうだと感じました。 しかし、他の選択肢も考えうると思うので、もしよろしければ、他のアニメーションライブラリなどの雑感など教えていただければ幸いです。 参考までに、欲しい機能としては、 アニメーションとTweenの基本的な機能 タイムライン管理機能 コードの保守性 よろしくお願いします。
1629,android|javascript|ios,milkcocoaをiOSやAndroidなどのスマホアプリから利用する場合はアクセス制御などはどういう風にするべきななんでしょうか?
1636,android,今まで、eclipseでコーディングからビルドまで行っていたのですが、 今回、CentOSにてJenkinsビルド環境を構築中です。 作成しているアプリで、google play serviceを使用しているので Referencing a Library Projectを行ったのですが、 /usr/lib/android-sdk-linux/extras/google/google_play_services/libproject/google-play-services_lib/ resolve to a path with no project.properties file for project が出て、BUILD FAILEDになります。 解決策を教えてください。 よろしくお願いします。
1638,javascript,一部のパッケージが採用しているrequire関数が、標準的なrequire.jsやcommonjsのそれとは非互換のため、webpackで正しく動かないことが‌​あります。 自分が認識しているのは Raphaël.js と getsentry/raven-js です。 この問題を解決するために、コードの方にパッチを当てるよりも、外部からのrequireでファイル的には連結しつつも、普通のscriptタグで読み込んだ時と同じように、requireポリフィルでラップしない非commonjs環境として読み込みたいケースがあります。どなたかこの方法をご存じないでしょうか。 raw-loaderを使ってテキストとして読み込んだJSをevalすればよいのはわかっていますが、さすがに汚すぎる気がしています。 webpack/raw-loader
1678,javascript|jquery,jqXHR や Promise が成功した場合に呼ばれる done(fn) の fn に渡される引数を、事前に変形できるでしょうか？ 次のようなイメージです。 $.ajax(...) .???(function(originalResult) { // originalResult を変形して return return someTransform(originalResult); }).done(function(result) { // result には someTransform(originalResult) が渡される。 });
1680,javascript,JavaScriptのDateオブジェクトの扱いについて質問します。 ブラウザ側からサーバにPOSTする時にデータをJSON化して送付することをと試みています。 しかし、JSON.stringify()メソッドにかけると【協定世界時（UTC）】に置き換えられてしまいます。 var someDay = new Date(2014122); console.log(someDay); --- > Wed Dec 03 2014 00:00:00 GMT+0900 (東京 (標準時)) console.log(JSON.stringify(someDay)); --> "2014-12-02T15:00:00.000Z" サーバサイドでは、この挙動への対処を行いたくないので、ブラウザ側（JS側）で挙動に対する対処を行いたいと考えております。その際のベストプラクティスを教示頂けますと幸いです。
1692,java,Eclipse で javadoc を書いていると、引数名が間違っている等のエラーに気づきにくく困っています。 javadoc のエラーを eclipse で自動で検出する設定か、該当のことができる eclipse 用のプラグインなどはありますでしょうか?
1707,javascript,tmlib.jsを用いたブロック崩しゲームで次のようにコリジョンを設定しています。 ボールにthis.setBoundingType("circle"); パドルにthis.setBoundingType("rect"); コリジョン判定で次のように判定しているのですが、circle同士のコリジョンと判定されているようです。 if (this.isHitElement(paddle)) （thisはボール） 具体的なソースコードはこちらです（runstantサイトで作成）。 http://goo.gl/RjXC6v 次の『11.ボールとパドルの当たり判定』のコードを引用させていただいています。 『tmlib.jsでゲームをつくってみよう！』 http://qiita.com/h_mjlife/items/94c7381ff56966cceccb 分かりやすいようにfps値、ボールとパドルのサイズ、パドルの位置を変更し、ぶつかった時のボール位置調整をカットています。 tmlib.js本体のソース（tm.app.Object2D.jsのisHitElement）を確認すると確かにcircleとrectでは 取れないようです。何かうまく判定する方法はないでしょうか？
1729,ios,iOSでプッシュ通知の証明書を .p12形式でexportしようとしたら .p12形式が選択できないです。.p12形式を選択できなくなるのはどういった場合でしょうか？ 環境： Yosemite
1732,ios,iOSで作成中のアプリにDrawerを組込もうとしています。 下記のサンプルコードを下にして作ろうとしていました。 https://github.com/mutualmobile/MMDrawerController 現在、他の試作部分はstoryboardを用いて実装しているのですが、MMDrawerControllerはstoryboardを使わない実装のようです。 MMDrawerController-storyboardというものもあるのですが、これを落としてコンパイルしてみたところ下記のエラーになってしまいます。 ld: library not found for -lPods clang: error: linker command failed with exit code 1 (use -v to see invocation) 本家を使ってsotryboard実装のviewとコード実のviewを混在させるか、MMDrawerController-storyboardの導入をがんばるかで迷っています。 アドバイスいただければうれしいです。
1733,android|java,cocos2d-x (3.3) がプロジェクトを新規作成した際に、生成されるproj.androidフォルダがあります。 現在は、Eclipseでの開発が主流と思っていますが、Android Studioで開発できるようにすることは可能でしょうか？ "設定ファイルを追加"や、"Eclipseからの変換"などの方法や、参考サイトの情報など有りましたら合わせて、アドバイス/情報を頂きたいです。 よろしくお願いします。
1738,c#,public Text[] text; for(int i = 0; i < 10; i++){ text[i].transform.position = new Vector3(X Y Z); Instantiate(text); } と言った形でUnityのTextを複製しようと考えましたが、座標は確かに10個存在するものの、Textが表示されませんでした。 Unity4.6から搭載されたUIをスクリプトから生成するにはどのようにすればよろしいでしょうか？
1745,c#|html,C#上でjQueryのように簡単に任意のtagを操作したいです。 ASP.NETではなく、Windowsアプリケーションです。 要は、HTMLファイルを突っ込んだら、色々HTMLファイルをいじって返してくれるようなプログラムを作りたいと思っているのですが、HTMLをどうやったら簡単にいじれるかで悩んでます。 C#で使えるjQuery likeなライブラリは無いでしょうか？ もしくは、上記のようにHTMLをいじりたい場合のオススメの方法などありましたら教えていただきたいです。
1748,android,Google Play Service SDKを6.5にアップデートしたらLocationClientが使えなくなりました。代わりの実装はどうすれば良いのでしょうか？
1784,javascript,Eclipse(struts2)でWebアプリケーション開発を行っているのですが、ASP.NET MVCのようにJavaScriptやCSSを実行時にMinify、Bundleするにはどのような方法があるでしょうか？
1787,javascript,Excelの「ウィンドウ枠の固定」のようにTableのヘッダ行や列を固定したいです。 colspanやrowspanを用いてセル結合しているTableでも適用可能な手法やライブラリはあるでしょうか？
1797,javascript,GruntからJekyllを操作するのにgrunt-jekyllを使っていますがGulp.jsで同様のプラグインはないでしょうか？dannygarcia氏のgulp-jekyllは2014年1月のfirst commitから更新されておらず代わりになるものがないかと探しています。 grunt-jekyllは複数のconfigファイルを指定できることが特に気に入っています。 よろしくお願いします。
1800,android,Androidでtextboxをクリックすると下からキーボードが出てきますが、これの初期状態が日本語入力になってしまいます。最初にアルファベット入力の状態にするにはどうすればいいのでしょうか？
1825,java,ScheduledThreadPoolExecutor#scheduleAtFixedRate で定期的にジョブを実行する場合､ジョブが実行間隔より長い時間をかけて実行されると､その間次のジョブ実行が遅延されますが､前のジョブが終わらない場合は新規のジョブ実行を中止させることは可能でしょうか?ジョブ側で Mutex を作って制御しないと無理でしょうか? daemontools で言うところの setlock -n 相当の動作をさせたいです｡
1827,php,例えば $entry = Model_Article::find('all'); のような形でfindすると、結果はいくつかのプロパティを持ったオブジェクトで返ってきますが、 データを利用する際に foreach($entry as $key => $val){ echo $val['title']; } みたいに、配列として扱えてしまうのはどういう仕組なんでしょうか？
1829,javascript,Google Maps JavaScript API v3 を使用し、webサイトに地図を描画しデータに応じて地図を修飾しようとしています. その際に、表題でも述べましたがDataLayerにjsのオブジェクトを直接渡して地図のデコレートを行ないたいと思っているのですが、 https://developers.google.com/maps/documentation/javascript/datalayer この辺りを調べた限り、↓の様にデコレートの度にjsonを取得する方法しか今の所見つけられていません. map.data.loadGeoJson('https://example/a.json'); map.data.loadGeoJson('https://example/b.json'); 地図のデコレートの度に通信が飛ぶ事を避けたく、取得したjsのオブジェクト（Json）を変数に格納して漸進的に描画＋その値を使い回す方法を探しています. ↓やりたい事のイメージはこんな感じです. $.get 'https://example/a.json' function(data) { map.data.何か(data.key1); console.log(data.key2); map.data.何か(data.key3); }; よろしくお願い致します.
1854,php,SQLite(+PHP)でSNSを作っています。現状、テーブル定義は以下のようになっています。 フォローの情報を入れているfollowに、フォロー元のユーザーIDであるfrom_idと、フォロー先のユーザーIDであるto_idが存在しています。また、投稿テーブルとして、postがあり、投稿ユーザーIDとしてuser_idがあります。 このようなテーブルが定義されているときに、フォローしている人だけの投稿を取得し、表示するにはどうすればいいかがわかりません。どうすればいいのでしょうか?
1861,c++,C++ではconstキーワードを利用して以下のように定義することができると思います: class A{ const void B(const A const & const z) const; }; この定義を分解すると、以下のパターンに分解できると思います。 const void C(A & z); void D(const A & z); void E(A const & z); void F(A & z) const; void G(A & const z); これらの定義の仕方についての違いがわかりません。もし違いがあるとするならば、その違いについて教えて下さい。
1863,python,とある処理で検索エンジンなどのロボットを判定する必要があり、Pythonモジュールを探しています。 User-Agent文字列もしくは、WSGIのrequestを渡すことでロボットかどうか判定してくれるモジュールがもしあれば教えてください。
1876,java,Java用の手軽なBenchmarkライブラリ/フレームワークがあったら教えてください。 Golang の Benchmark くらい手軽に使えることが望ましいです。 よって、最も Golang の Benchmark に近いモノを教えていただいた解答を accept したいと考えています。 追記、こういうのは マイクロベンチマーク って言うべきもののようです。
1880,java,List を返すメソッドにおいて null を返さないことを保証したいと考えています。 実装上は null ではなく Collections.emptyList() を返すだけですが、null を返さないことをアノテーションで表現することは可能でしょうか。 IDE との何らかの連携があるとより良いのですが、自分の観測範囲ではわかりませんでした。
1881,c++,MFCタグが作れなかったのでC++タグで失礼いたします。(2014/12/17 16時27分提案→MFCタグ追加済) 今MFCを学んでおります。 現在MFCのSDIで図形作成プログラムを作っていて、Viewにすべてのデータを持たせてDocに保存していましたが、データが増えてきたので別クラスにてデータを管理しようとしています。 保存するデータとして ・図形が何個あるのか ・図形の座標 を考えており、数を制限したくないので可変にするためにCArrayで管理しようとしています。 CArrayを独自クラスで利用する際の書き方がよくわかりませんので下記コードだとどうなるか具体的に教えていただければ幸いです。 CPaintData.h class CPaintData : public CObject { public: CPaintData(); virtual ~CPaintData(); private: int m_nFigureNumber;        // 図形の数 double m_dCoodinateX;       // 各種X座標 double m_dCoodinateY;       // 各種Y座標 public: void setFigureNumber(int Number);       //現在の図形の数 double getFigureNumber(void); void setCoodinateX(CPoint point);       //現在のX座標の取得 double getCoodinateX(void); void setCoodinateY(CPoint point);       //現在のY座標の取得 double getCoodinateY(void); }; CPaintData.cpp CPaintData::CPaintData() : m_dCoodinateX(0) { } CPaintData::~CPaintData() { } void CPaintData::setCoodinateX(CPoint point)        // 現在のX座標の取得 { m_dCoodinateX = point.x; } double CPaintData::getCoodinateX(void) { return m_dCoodinateX; } (↑同じような形なので図形の数とY座標は省略) CPaintView.h #include "atltypes.h" #include "PaintData.h" enum{ DRAW_LINE = 1 DRAW_TRIANGLE DRAW_SQUARE DRAW_CIRCLE_CONTINUE DRAW_POLYLINE_CONTINUE }; class CScrollViewPaintView : public CView { public: afx_msg void OnLButtonDown(UINT nFlags CPoint point); CArray m_arDataArray; }; (↑必要そうなところだけ抜粋) CPaintView.cpp #include "stdafx.h" #include "Paint.h" #include "PaintDoc.h" #include "PaintView.h" (省略) void CScrollViewPaintView::OnLButtonDown(UINT nFlags CPoint point) //左クリック時の処理 { if(m_nType == DRAW_CIRCLE){     //メニューで円を選んだとき CPaintDoc* pDoc = GetDocument();    //Docを使うために必要 ASSERT_VALID(pDoc); CPaintData PaintData;           //このあたりからよくわからない PaintData.setCoodinateX(point.x);   //setできてる模様？ PaintData.setCoodinateY(point.y);   //setできてる模様？ PaintData.getCoodinateX();      //getできるけどVSで見るとm_arDataArrayに入っていない模様でどこからとってるのか謎 PaintData.getCoodinateY();      //getできてない？ //ここでクリックが2回目なら、1回目を中心、2回目を外周のどこかとする円を書く処理にとばす //図形の個数をプラス1する pDoc->SetModifiedFlag();        //Docに保存 } } CPaintDoc(今回は関係ないはずなので省略) 開発環境はwin7 64bit VS2010です。 よろしくおねがいいたします。
1884,javascript,jsfiddle上でgmaps.jsを動かしたいのですが動きません どう設定すれば使えるのでしょうか？ http://jsfiddle.net/Lsx7fabb/ var type = ''; function ryo() { type = 'ryo'; alert("りょうちんとして位置情報を送信します。"); } function maro() { type = 'maro'; alert("まろしとして位置情報を送信します。"); } window.onload = function() { setInterval(function() { GMaps.geolocate({ success: function(position) { dataStore.send({ lat: position.coords.latitude lon: position.coords.longitude type: type }); } error: function(error) { console.log('Geolocation failed: ' + error.message); } not_supported: function() { console.log('Your browser does not support geolocation'); } always: function() { console.log('done'); } }); } 5000); var lat = 35.710285; var lng = 139.77714; var map = new GMaps({ div: "#map" lat: lat lng: lng zoom: 17 }); dataStore.on('send' function(data) { var lat = data.value.lat lng = data.value.lon; var img = ''; if (data.value.type == 'ryo') { img = 'http://i.gyazo.com/7502afdcf0bbcc1f6d8f3d85e66616f6.png'; } else if (data.value.type == 'maro') { img = 'http://i.gyazo.com/f7b2e1dac073595c3e53a260413aec14.png'; } map.setCenter(lat lng); map.addMarker({ lat: lat lng: lng title: "LIG社員" icon: img infoWindow: { content: "LIG社員はココだよ!" } }); console.log('recieve' data.value); }); }; < div id = "map" > < button onClick = "ryo()" > りょうちん < button onClick = "maro()" > まろし gmapsサンプル
1914,javascript,Angular使っています。 対応していないブラウザからアクセスされた時、普通はUAなどを見て、ブラックリスト式に弾くと思いますが、対応していないブラウザは全てエラーにしたいと思っています。 そこでAngularの初期化プロセスがコケたらエラーにすればよいのではないかと考えました。 Angularで初期化に失敗した時に検出する方法はありますでしょうか？
1920,c++,C++11にて導入されたconstexprについて、従来のconst修飾子との違いを教えて下さい。 一般的な利用においては同様に振舞っているように見えますが、constとconstexprで動作に差が出る例も示していただけると幸いです。
1927,c#,VisualStudioを利用したWindows Forms アプリケーションで、 フォーム上にボタンなどコントロールを配置しております。 ボタンやテキストボックスのプロパティにてテキストのフォントへSegoe UI を指定したいのですが、 フォント選択ダイアログのフォントリストにSegoe UI が存在せず選択できません。 ＃ Segoe Marker、Segoe UI Emoji、Segoe UI Symbol、Segoe WP は、リスト上に出ています。 Segoe UIは、指定不可能なのでしょうか。 また、指定不可能な理由をご存知でしたらご教授ください。 ちなみに、Excelなどのアプリケーションでは、Segoe UIは指定可能です。 ＃ つまりSegoe UIフォント自体はインストールされている。 [環境] OS: Windows 8 64bit 日本語版 開発環境 : Visual Studio 2013
1932,python,IPython Notebook で書いたコードをGitで管理したいのですが、 *.ipynbをコミットすると差分が見にくくて辛いです。 セル単位でコードが実行できる利点を残しながら、 Gitで差分が把握しやすい方法はないものでしょうか。
1935,javascript|html,Webページのリンク先ページを表示する方法として、リンクを直接クリックするだけでなく、右クリックから「新しいタブで開く」「新しいウィンドウで開く」で開いたり、新しいタブ（ウィンドウ）を開いてアドレスバーにリンク先のURLを直接貼り付けるなど、様々な方法があると思いますが、どのような方法で表示したかを（サーバーサイドで）識別する方法はあるでしょうか？ 二重起動の抑止 複数タブの識別 などが目的です。 リンクを直接クリックしたかどうかは、clickイベントでhref属性を書き換える（適当なパラメータを後ろにつけるとか）ことで分かりそうですが、他に方法があるでしょうか。
1947,php,YouTube Data API使って管理画面に出る著作権情報（侵害しているとか、一部の国でブロックとか出るやつ） を取得しようとしています。以下のページを参考に応答を確認していますが、著作権侵害扱い動画にもかかわらずfalseで帰ってきてしまいます。 https://stackoverflow.com/questions/26084922/how-can-i-possibly-retrieve-copyright-issue-from-youtube-api 著作権侵害動画（例） https://www.youtube.com/watch?v=HB_mZsIarpc https://www.youtube.com/watch?v=juCb9LfWEBo 何をどうすればいいのでしょうか？ご指南いただけると助かります。よろしくお願いします。 ちなみにサンプルコードは以下のとおりです。 const CLIENT_ID = '*****'; const CLIENT_SECRET = '*****'; const API_KEY = '*****'; const REFRESH_TOKEN = '*****'; public function getVideo($videoId) { $client = new Google_Client(); $client->setClientId(self::CLIENT_ID); $client->setClientSecret(self::CLIENT_SECRET); $client->setDeveloperKey(self::API_KEY); $client->refreshToken(self::REFRESH_TOKEN); $youtube = new Google_Service_YouTube($client); $listResponse = $youtube->videos->listVideos('contentDetails' array('id' => $videoId)); if (!empty($listResponse)) { var_dump($listResponse[0]['contentDetails']); } } 【1/6追記】 いくつかの動画でテストしてみましたが、lisencedContent に関してはtrueになるものと falseになるもので分かれるようです。 広告が出るものに関して全て検知する属性がわかると助かります。 どうかよろしくお願いします。 広告無しtrue https://www.youtube.com/watch?v=jN8j9ZlQNxY 広告ありtrue https://www.youtube.com/watch?v=UT6i8DpJSt8 広告無しfalse https://www.youtube.com/watch?v=3EYVT81JMVI 広告ありfalse https://www.youtube.com/watch?v=TZEDqCmdejU
1977,ios|html,例えば、以下のような年月日を選択するような入力欄があったして、 -- 2000 2001 2002 2003 年 -- 1 2 3 4 月 -- 1 2 3 4 日 左から順番に選択していくとします。 ここで完了を押さずに他のセレクトボックスをタップすると一個前で選択していた項目がx番目だったとして、現在フォーカスがあったているセレクトボックスのx番目の項目が選択されます。本当は一個前のセレクトボックスが選択されて欲しいのですが、この問題を解決する方法はあるでしょうか？
1980,c++,自分で人工知能を実装したいと考えています。 DeepLearningとニューラルネットを実装したいです。 単回帰と木構造は理解しています。言語はC++ができます。 用途としては、ニューラルネットで文字識別を実装してみたいです。DeepLearningはどういうことに使えるか把握していない状態ですが、こちらも文字識別で動作確認をしたいです。 良い書籍やウェブサイトはありますか？
2000,android,スワイプを使用して数種類のデータを表示するアプリを作成したいと思っています。 各ページに表示するxmlは共通のものを使用し、その中に表示するカスタムビューに 各々のページのデータを表示することを考えております。 使用するカスタムビューはxmlの中で、下記のように記載しております。 ここで質問なのですが、このカスタムビューに何ページ目を表示しているかを 知らせる方法を知りたいと思います。 これをもとに表示するデータを選択しようと考えております。 何か方法がありましたら教えてください。
2018,c#,ツリー構造をシリアライズ化しようとした所、以下のようなエラーメッセージが出てしまいます。 Serialization depth limit exceeded at 'Node'. There may be an object composition cycle in one or more of your serialized classes. 内容的にはシリアライズかする際の深さ制限が無いからダメのようです。 明示的に深さ制限を設けても構わないので、この問題を回避する方法をご存じないでしょうか。 よろしくお願いします。 [System.Serializable] public class Node { public Node[] Children; }
2046,javascript,JavaScriptを実行している環境が次の3つのうちどれであるかをJavaScriptから検知して条件分岐をしたいです。 通常のWebページとして動作している node-webkitで動作している Node.js上で動作している 一度に3つ同時に判定しなくても、1か2かの分岐・2か３かの分岐ができれば良いです。
2048,php,以下はphpコードの抜粋ですが、以下のコードで"true" と表示される結果にするためには、 $value にはどのような値を入れればよろしいでしょうか？　また、そもそもそのような$valueの値が存在するのでしょうか？ "true" と表示される条件が見つかりません。 <?php $value =？; if (!isset($value)) return; if (is_null($value)) return; if (is_scalar($value) && $value === "") return; if (is_array($value) && count($value) == 0) return; if ($value != true && $value != false){ echo "true"; }else{ echo "false"; } $valueに、true、false、1、0、1、"1"、"0"、'1'、'0'、array("a""b")とかを入れてもダメでした。
2051,ios,iBeaconを複数個設置し、それぞれのBeaconのエリア内に入った際に別の動作(バックグラウンド)をさせるようにしたいと考えています。 同一UUIDでMajorを変えることでできるかと思いましたが、didEnterRegion内ではどのMajorのBeaconを掴んでエリア内に入ったかを認識することは可能でしょうか？ もしくは複数個のUUIDのビーコンをモニタリングし、それぞれのUUID毎のエリアに入った際の動作を決めることになるのでしょうか？
2053,javascript,tmlibのシーン管理について質問します。 シーンの動的な遷移を今までは以下のような無理矢理な書き方をしていました。 // 別途HogeSceneなどを定義しておく var sceneList = { "hoge": HogeScene "piyo": PiyoScene "fuga": FugaScene } var sceneName = "hoge" app.replaceScene(sceneList[sceneName]()); tm.app.Sceneに上記、もしくはそれに該当するような機能がないかと調べていたらtm.app.ManagerSceneなるものが出てきました。 名前からしてシーンを管理できる機能ではないかと思われますが、サンプルなどが出てこずイマイチ使い方や機能が分かりません。 ご存じの方がいましたらご教授ください。
2065,c++,グラフ構造を実装しようとしています。 枝の距離をデータとして格納する方法はどの教科書を見ても詳細に記載されていましたが、節点の場合どうすればよいか分かりません。 O'Reilly Japan - アルゴリズムクイックリファレンスP.154 隣接行列のデータ構造 int A[][]= { {0 0 0 0 0 0} {6 018 0 0 0} {0 0 0 0 0 0} {0 0 0 0 0 9} {0 0 0 0 0 0} {0 0 012 0 0} }; 隣接リストのデータ構造 (書籍を頼りに多分このようなデータ構造だろうと推測しました): std::vector>>A; このようなグラフ構造で、節点に何らかのデータを入れたい場合どのようにしたらよいでしょうか？
2089,android|java,LollipopにてVolleyのリクエスト(GET or POST)を実行した際に 極稀に瞬時にErrorListenerがコールされてしまいます。 Lollipopのバージョンは5.0.0および5.0.1どちらでも発生します。 （体感的には5.0.1は頻度が減ったようにも感じますが再現はしています） 機種はNexus4 Nexus5 Nexus7 2012です。 VolleyErrorの内容を見るとstatusCodeはなしで 例外内容はInterruptedIOExceptionとなっていました。 どうやらスレッド関連で発生しているようなのですが根本原因が分かりません。 同事象が発生している方、対応された方、ご教示をお願い致します。 【追記】 以下にVolleyのデバッグログを添付致します。 D/Volley﹕ [615] BasicNetwork.logSlowRequests: HTTP response for request=<[ ] http://example.com/system/tags/photos/53/android.png 0x66a0ca3a LOW 68> [lifetime=66] [size=13900] [rc=200]     [retryCount=0] D/Volley﹕ [1] MarkerLog.finish: (80   ms) [ ] http://example.com/system/tags/photos/53/android.png 0x66a0ca3a LOW 68 D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] add-to-queue D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-queue-take D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-miss D/Volley﹕ [1] MarkerLog.finish: (+0   ) [615] network-queue-take D/Volley﹕ [1] MarkerLog.finish: (+66  ) [615] network-http-complete D/Volley﹕ [1] MarkerLog.finish: (+6   ) [615] network-parse-complete D/Volley﹕ [1] MarkerLog.finish: (+8   ) [615] network-cache-written D/Volley﹕ [1] MarkerLog.finish: (+0   ) [615] post-response D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] done D/Volley﹕ [614] BasicNetwork.logSlowRequests: HTTP response for request=<[ ] http://example.com/system/tags/photos/50/android.png ] [retryCount=0] D/Volley﹕ [1] MarkerLog.finish: (114  ms) [ ] http://example.com/system/tags/photos/50/android.png 0x66a0ca3a LOW 67 D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] add-to-queue D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-queue-take D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-miss D/Volley﹕ [1] MarkerLog.finish: (+0   ) [614] network-queue-take D/Volley﹕ [1] MarkerLog.finish: (+100 ) [614] network-http-complete D/Volley﹕ [1] MarkerLog.finish: (+5   ) [614] network-parse-complete D/Volley﹕ [1] MarkerLog.finish: (+9   ) [614] network-cache-written D/Volley﹕ [1] MarkerLog.finish: (+0   ) [614] post-response D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] done D/Volley﹕ [613] BasicNetwork.logSlowRequests: HTTP response for request=<[ ] https://graph.facebook.com/1234/picture?type  [retryCount=0] D/Volley﹕ [1] MarkerLog.finish: (326  ms) [ ] https://graph.facebook.com/1234/picture?type 0x5280aaf9 LOW 66 D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] add-to-queue D/Volley﹕ [1] MarkerLog.finish: (+1   ) [612] cache-queue-take D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-miss D/Volley﹕ [1] MarkerLog.finish: (+0   ) [613] network-queue-take D/Volley﹕ [1] MarkerLog.finish: (+301 ) [613] network-http-complete D/Volley﹕ [1] MarkerLog.finish: (+4   ) [613] network-parse-complete D/Volley﹕ [1] MarkerLog.finish: (+20  ) [613] network-cache-written D/Volley﹕ [1] MarkerLog.finish: (+0   ) [613] post-response D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] done V/Volley﹕ [618] CacheDispatcher.run: start new dispatcher D/Volley﹕ [1] MarkerLog.finish: (160  ms) [ ] https://api.example.com/ja+9/articles/9005?page=1 0x1afe3f66 NORMAL 69 D/Volley﹕ [1] MarkerLog.finish: (+0   ) [ 1] add-to-queue D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-queue-take D/Volley﹕ [1] MarkerLog.finish: (+0   ) [612] cache-miss D/Volley﹕ [1] MarkerLog.finish: (+1   ) [616] network-queue-take D/Volley﹕ [1] MarkerLog.finish: (+61  ) [616] post-error D/Volley﹕ [1] MarkerLog.finish: (+98  ) [ 1] done
2090,javascript,AngularJS の directive における replace はどうして DEPRECATED なのですか？ また replace の代替手段には、どのような方法があるのでしょうか？ 参考: https://docs.angularjs.org/api/ng/service/$compile
2110,android,現在アクションバーの左端と右端にボタンがあり、左端のボタンを押すと左からListViewのDrawerLayoutが出てきて、右端のボタンを押すと右からも同じくListViewのDrawerLayoutが出てくるというような画面を作っています。しかし、左端のボタンを押してからDrawerLayoutが出きらないうちに右端のボタンを押すと、左右のDrawerLayoutが重なって画面に表示されてしまいます。ちなみに左側のDrawerLayoutが出きった状態で右側のボタンを押すと、右側のDrawerLayoutが表示されるとともに左側のDrawerLayoutは閉じます。下記にボタンが押された時のDrawerLayoutに関する処理のコードを記載します。この重なりを回避するにはどこを修正すればよろしいでしょうか？すみませんが、よろしくお願いします。 @Override public boolean onOptionsItemSelected(MenuItem item) { switch (item.getItemId()){ case android.R.id.home: if (mDrawerLayout.isDrawerOpen(GravityCompat.END)){ mDrawerLayout.closeDrawer(GravityCompat.END); } if (mDrawerLayout.isDrawerOpen(GravityCompat.START)){ mDrawerLayout.closeDrawer(GravityCompat.START); }else { mDrawerLayout.openDrawer(GravityCompat.START); } break; case R.id.action_drawer: if (mDrawerLayout.isDrawerOpen(GravityCompat.START)){ mDrawerLayout.closeDrawer(GravityCompat.START); } if (mDrawerLayout.isDrawerOpen(GravityCompat.END)){ mDrawerLayout.closeDrawer(GravityCompat.END); }else { mDrawerLayout.openDrawer(GravityCompat.END); } break; } return super.onOptionsItemSelected(item); }
2129,c#,GameObject[] go1; GameObject[] go2; GameObject[] go3; string[] tag = { "A" "B" "C"}; Dictionary Dict = new Dictionary(); Dict.Add(0 go1); Dict.Add(1 go2); Dict.Add(2 go3); for (int i = 0; i < tag.Length; i++) { Dict[i] = GameObject.FindGameObjectsWithTag(tag[i]); } 以上のコードを書き、タグで一括取得したGameObject群をハッシュテーブルと繰り返しを使って一括で走査しようと試みたところ、以下のように「インスタンス化されていない」というエラーが表示されました。 NullReferenceException: Object reference not set to an instance of an object GameObject群を一括で取得する際にインスタンス化されていないと表示されるエラーを解決するにはどうしたらよいでしょうか？
2150,python,下記のようなプログラムを組んで実行したいのですがエラーが出てしまい、実行できません。 プログラム自体はこちらにある動画を保存するプログラムを海外掲示板などを参考に一部改変したものです。 import numpy as np import cv2 cap = cv2.VideoCapture(0) fourcc = cv2.cv.CV_FOURCC(*'XVID') out = cv2.VideoWriter('output.avi'fourcc20.0(640480)) while(cap.isOpend()): retframe = cap.read() if ret == True: frame = cv2.flip(frame0) out.write(frame) cv2.imshow('frame'frame) if cv2.waitKey(1) & 0xFF == ord("q"): break else: break cap.release() out.release() cv2.destroyAllWindows() エラーは以下のようになります。 ** (python:14547): CRITICAL **: gst_missing_encoder_message_new: assertion 'gst_caps_is_fixed (encode_caps)' failed (python:14547): GStreamer-CRITICAL **: gst_element_post_message: assertion 'message != NULL' failed OpenCV Error: Unspecified error (GStreamer: cannot link elements ) in CvVideoWriter_GStreamer::open file /builddir/build/BUILD/opencv-2.4.9/modules/highgui/src/cap_gstreamer.cpp line 1335 Traceback (most recent call last): File "videoRecorder.py" line 9 in out = cv2.VideoWriter('output.avi'fourcc20.0(640480)) cv2.error: /builddir/build/BUILD/opencv-2.4.9/modules/highgui/src/cap_gstreamer.cpp:1335: error: (-2) GStreamer: cannot link elements in function CvVideoWriter_GStreamer::open Gstreamerというライブラリ？が関係してるようなのですが、解決方法を掴めずにいます。 これはopencv自体のバグなのでしょうか？
2152,javascript,このコードを実行してみたら、不思議な結果がでました function printFive() { for (var i = 0; i < 5; i++) { setTimeout(function () { console.log(i); } i * 1000); } } printFive(); こうすれば、 0 1 2 3 4 がゆっくり出力されると思うと、実際は 5 5 5 5 5 がでました。 jsfiddle どうして0から4までループしているのに、5ばかりが出てくるんですか。どうすれば思い通りになりますか。
2158,java,お世話になっております． scalaの初心者です．以下のコード動作の理由が分からず悩んでいます． scala> case class MyVector[A]() { def test(init:A) = { println("type=" + init.getClass) } } scala> (new MyVector[Int]()).test(3) type=class java.lang.Integer Intを渡したのでIntegerじゃなくてIntになって欲しいのですが．．． よろしくお願い致します．
2161,android,ADTバンドル版のSDKはもう配布されないという情報があるようですが、本当でしょうか？ これからAndroidアプリを開発する場合は Android Studio を前提にしたほうがよいでしょうか。
2165,android,Eclipse ADT with Android SDK で開発していたアプリの開発環境を Android Studio に移行する際に、よくおかす間違いや誤解、注意すべきポイントなどありましたら教えてください。
2167,android|c#,vuforiaを利用してAndroid用のARアプリを作っています。 C#でカメラ機能を実装したのですが、SDカードを抜き差しするか、端末を再起動しなければギャラリーに反映されません。１ヶ月ほど調べに調べて、Android側でMediaScanが必要だとは分かったものの、C#での記述法が分からず途方に暮れています。様々な機関に質問してきましたが、どれも反映には至っていません。 ../../../../DCIM/Camera/ 上記のフォルダをscanして、下記のファイルをgalleryに反映させる処理が必要です。 string fileName = "camera" + System.DateTime.Now.Ticks.ToString() + ".png"; path = path + fileName; ド素人ですみません。 何か良い方法があれば、ヒントだけでも構いませんので ご教示いただけますでしょうか。
2170,ios,デバイス別に処理を分けるには条件はどう書けば良いのでしょうか？？ できればiphone6Plusiphone6iphone5siphone5の判定条件を教えて下さい。 よろしくお願いします！objective-cでよろしくお願いします。
2173,c++,VSC2013 Qt5 Addin 1.2.4 で作成したQt Applicationプロジェクトをビルドすると以下の様なエラーが発生します。 > 1>------ ビルド開始: プロジェクト:testApp 構成:Debug Win32 ------ > 1>qtmaind.lib(qtmain_win.obj) : error LNK2038: '_MSC_VER' > の不一致が検出されました。値 '1600' が 1800 の値 'moc_mainwindow.obj' と一致しません。 > 1>C:\user\Qt5.VS2013\testApp\Win32\Debug\\testApp.exe : fatal error > LNK1319: 1 の不一致が検出されました > ========== ビルド: 0 正常終了、1 失敗、0 更新不要、0 スキップ ========== ライブラリの VC++ のバージョンが違っているということみたいですが、この問題を対処するにはどうしたらいいのでしょうか？ 自分で Qt Adin を VSC2013 でビルドし直すとか、Qt Addin の問題対処版が出るのを待つしかないのでしょうか？
2177,python,現在word2vecのdistance.cを学習していますが、コサイン類似度計算部がよくわかりません。 word2vecのdistance.c 現在pythonを用いて次のようなコードを書いています。 自分で書いたpythonコード （このコードを実行する際は、word2vecで270次元のベクトルを作成する必要があります。※オプションで -binary 0 指定の必要あり） 中でも、コサイン類似度を求める部分は次のようになっています。 cos={} # コサイン類似度を格納する辞書型リストの初期化 queryVec = vocab[query] # 全単語について探索する for word in vocab.keys(): tlist = vocab[word] i = 0 # 内積の初期化 inpro = 0 # 内積の計算 for i in range(1271): inpro = queryVec[i] *tlist[i] # 内積÷長さ cos[word] = inpro / (queryVec[0]*tlist[0]) 続いてソート部分です。ソート結果は毎回同じ単語の並びになってしまいます。 # 上位N位を初期化 i = 0 bestd = {} for i in range(0N): bestd[i]=[-1''] count = 0 # この中から上位N位を選出 for word in vocab.keys(): #print wordcos[word] a =0 # 自分と同じ単語以外 if query != word : for a in range(0N): if cos[word] > bestd[a][0] : b = N-1 count +=1 for b in range(ba-1): temp = bestd[b-1] bestd[b] = temp bestd[a] = [wordcos[word]] break a+=1 結果例（3100さんの訂正後の結果です。input wordにどんな単語を用いても結果はこれになります） please input word >愛 愛 Word       Cosine　distance 20 出産      0.353152 團        0.178738 仙界      0.262659 土        0.295177 園        0.140053 遂げる        -0.178689 シルク        0.286873
2209,ios,Swiftの列挙型がCountを返してくれないので、グローバル関数でループを回して数えるようなことを考えています。 protocol CountableIntEnum { init?(rawValue: Int) } func enumCount(CountableEnumType: CountableIntEnum.Type) -> Int { var count = 0 while CountableEnumType(rawValue: count) != nil { count++ } return count } enum Podium: Int CountableIntEnum { case First = 0 case Second case Third static let count = enumCount(Podium) } println(Podium.count) 上記のようなコードを記述すると、コーディング中は問題ないのですが ビルド時に Command failed due to signal: Segmentation fault: 11 While emitting IR SIL function @_TF8EnumTest9enumCountFPMPS_16CountableIntEnum_Si for 'enumCount' というエラーでビルドすることが出来ません。 クラスオブジェクトを変数に入れて、そのイニシャライザを呼ぶ正しい方法はどのようにすればよいでしょうか？ また、別の方法でもいいのですが、Foundationの力を借りずに動的にEnumType(rawValue: Int)を呼ぶ方法などはないでしょうか？
2219,ios,現在APIからデータを取得してiOSアプリ上で表示させるプログラムを書いております。 NSString *opentime = self.opentimesArray[number]; //opentimeにはランチ：11:30～14:30(L.O.14:00)、ディナー：17:00～22:30(L.O.21:00)が入っています。 NSString *matchedOpentime = [opentime stringByMatching:@"[〜]"]; NSLog(@"抜き出した営業時間は%@"matchedOpentime); 以下のような文字列 ランチ：11:30～14:30(L.O.14:00)、ディナー：17:00～22:30(L.O.21:00) から 「11:30～14:30」、「17:00～22:30」 の営業時間に関する部分だけを、抜き出したいのですが、正規表現を利用した経験が無いためどのように書けば良いのか分かりません。 どのように書けば良いでしょうか？ 開発言語はObjective-cで正規表現のライブラリはRegexKitLiteもしくはNSRegularExpressionを使用したいと考えております。 また正規表現を使わなくても文字列の一部を抜き出せる方法がもしあれば教えていただけると大変ありがたいです。
2220,python,Unixタイムを、特定のタイムゾーンでの日時(datetimeオブジェクト)に変換するには、 import datetime import pytz unix_time = 123456789.123456 dt = datetime.datetime.fromtimestamp(unix_time pytz.timezone('America/Los_Angeles')) のようにすればできます。 逆に、このようなdatetimeオブジェクトからunixタイムを計算するにはどのような方法が簡単でしょうか? (上記の例では、dtから、UNIXタイム 123456789.123456をなるべく簡単に求めたい。) 計算するマシンのタイムゾーンがなんであっても正しく動くアプローチが望ましいです。よろしくお願いします。
2230,javascript,tm.scene.ManagerSceneによるシーンの遷移先とパラメータの受け渡しについて教えてください。 先にサンプルを貼ります。 runstant: ManagerSceneのサンプル シーンの切り替え順番をManagerSceneの初期化時に指定した順ではなく特定のシーンへ遷移させたいです。 またその際に遷移元からパラメータを渡し、遷移先のシーンで受け取ることは可能ですか？ サンプルのコメントにも軽く書いていますが例えばthis.app.popScene()の引数で渡すようなイメージです。
2235,c++,C++でポリモーフィズムを使用する際、基底クラスのデストラクタをvirtualにする必要があるということはよく言われることですが、派生クラスのデストラクタもvirtualとして宣言しておくべきかどうか悩んでいます。 派生クラスのデストラクタも仮想関数でなければならない時というのはどういう時でしょうか。逆に仮想関数じゃなくても良い(vtableへのコストからしないほうがよい場合)時というのはどういう時か、という事も併記して頂けるととても助かります。
2236,ios,iOSのShare Extensionを使って、外部アプリから単純に画像、タイトル、URLを獲得する機能を実装しようとしているのですがうまくいきません。 システムログを見ると、"The _SandboxProfile key is not available on this platform."と言われており、Xcodeのコンソールでも"Failed to inherit CoreMedia permissions"と表示されるので、何らかのキーがうまく設定できないのだなと理解しています。 App Groupsの設定は、Developer Siteで登録し、それをXcodeの"capabilities"で本体アプリとextensionにも設定した上で、本体アプリのAppDelegate.mにて [[NSUserDefaults alloc] initWithSuiteName:@"App Groups名"]; と記述しています。 どう対処したらよいのか分からず、詰まってしまっており、アドバイス頂けたらうれしいです。 Simulatorで実行した際のシステムログ (debug > open system log) Unknown activity items supplied: ( "http://www.bing.com/" "" "" ) assigning plug-in nu.yuichi.TreasureBox.Share(1.0) to plugin sandbox enabling pid=37826 for plug-in nu.yuichi.TreasureBox.Share(1.0) B67C5E4D-676F-4F66-A0AA-D110C14ABF0C /Users/yuichimaxkato/Library/Developer/CoreSimulator/Devices/B1F9CE83-D5FE-4287-90CC-08A5DAD57BDA/data/Containers/Bundle/Application/FE12100E-C40D-4749-A481-3058E4CA83CB/TreasureBox.app/PlugIns/Share.appex The _SandboxProfile key is not available on this platform. The _OmitSandboxParameters key is not available on this platform. invoked for service: nu.yuichi.TreasureBox.Share pid: 0 invoked for service: nu.yuichi.TreasureBox.Share pid: 37835 (com.apple.imfoundation.IMRemoteURLConnectionAgent): The _DirtyJetsamMemoryLimit key is not available on this platform. Ignoring lax activation attempt for unsupported domain: nu.yuichi.TreasureBox.Share Ignoring lax activation attempt for unsupported domain: nu.yuichi.TreasureBox.Share.viewservice Ignoring lax activation attempt for unsupported domain: nu.yuichi.TreasureBox.Share.apple-extension-service assertion failed: 14B25 12B411: assertiond + 11523 [3F572A0B-7E12-378D-AFEE-EA491BAF2C36]: 0x1 --- last message repeated 1 time --- Failed to inherit CoreMedia permissions from 37826: (null) SLComposeServiceViewController got NSURL http://www.bing.com/ for public.url error: (null) SLComposeServiceViewController got attachment coarseType 3 Unable to bootstrap_look_up port with name nu.yuichi.TreasureBox.Share.gsEvents: unknown error code (1102) assertion failed: 14B25 12B411: assertiond + 11523 [3F572A0B-7E12-378D-AFEE-EA491BAF2C36]: 0x1 --- last message repeated 7 times --- [SFActivityAdvertiser] ERROR: no XPC proxy queuing advertisement <51ce8795 f1ba0601 80> assertion failed: 14B25 12B411: assertiond + 11523 [3F572A0B-7E12-378D-AFEE-EA491BAF2C36]: 0x1 [SFActivityAdvertiser] ERROR: no XPC proxy queuing advertisement <51ce8795 f1ba0601 00> シェアするURL(null) シェアするタイトル(null) ShareViewController.m #import "ShareViewController.h" #import @interface ShareViewController () @property NSString *urlString; @property NSString *titleString; @property UIImage *thumImage; @end @implementation ShareViewController - (BOOL)isContentValid { // Do validation of contentText and/or NSExtensionContext attachments here return YES; } - (void)didSelectPost { // This is called after the user selects Post. Do the upload of contentText and/or NSExtensionContext attachments. NSExtensionItem *item = self.extensionContext.inputItems.firstObject; NSItemProvider *itemProvider = item.attachments.firstObject; if ([itemProvider hasItemConformingToTypeIdentifier:(NSString *)kUTTypeURL]) { [itemProvider loadItemForTypeIdentifier:(NSString *)kUTTypeURL options:nil completionHandler:^(NSURL *url NSError *error) { self.urlString = url.absoluteString; }]; } if ([itemProvider hasItemConformingToTypeIdentifier:(NSString *)kUTTypeText]) { [itemProvider loadItemForTypeIdentifier:(NSString *)kUTTypeText options:nil completionHandler:^(NSString *text NSError *error)  { self.titleString = text; }]; } //NSExtensionItem *imageItem = [self.extensionContext.inputItems firstObject]; if([itemProvider hasItemConformingToTypeIdentifier:(NSString *)kUTTypeImage]){ // 入力画像を取得 [itemProvider loadItemForTypeIdentifier:(NSString *)kUTTypeImage options:nil completionHandler:^(UIImage *image NSError *error) { if(image){ dispatch_async(dispatch_get_main_queue() ^{ self.thumImage = image; // 画像を反転させる //UIImage* invertedImage = [self invertedImage:image]; // 表示 //[imageView setImage:invertedImage]; }); } }]; } NSLog(@"シェアするURL%@" _urlString); NSLog(@"シェアするタイトル%@" _titleString); } - (NSArray *)configurationItems { // To add configuration options via table cells at the bottom of the sheet return an array of SLComposeSheetConfigurationItem here. return @[]; } @end
2246,ios,下記画像のようなUIを作っています。 RatingとComment Textの間には画像がある場合と無い場合があり、画像が無いときに表示を詰めたいと考え、下記の処理をしているのですがうまくスペースを削除することができません。 よい方法がありましたらご教示くださいませ。 やったこと Auto LayoutでComment Text（Text View）が画像（Image View）から1ピクセルになるように設定した⇒Top Space to: Image View Equals: 1 この画面のView ControllerのviewWillAppearで、画像データが存在しないときには、Image Viewの高さが０になるようにした。 if (!_image) { CGRect rect = CGRectMake(201082800); //新しいサイズを指定 _thumImageView.frame = rect; }
2252,javascript,for (i = 0; i < array.length; i++) { $(".hoge").each(function() { alert("hoge"); }); } 上のように、ループ文の中にfunctionを作成すると、JSHint（JSLintでも同じ）でエラーになります。 JsHint (W083): Don't make functions within a loop. なぜループ内に関数を作成してはいけないのでしょうか？
2272,javascript,Ajax初心者です。JQueryからAjaxを始めるとどうしてもおまじない感がでてしまい、ビハインドロジックを理解できないと思っているため、Ajaxをjavascriptで書いてみています。jsonでファイルを渡しているのですが、うまくいきません。(ステータスは200でPOSTで送信できているのですが、receive.php側の$_POSTに何も入っていません。。)もしよろしければご指導いただければと思います。 ajax.html ajax post 送信 receive.php
2304,php,今までcakephpを使ってきたのですが、ウェブアプリでcakeを採用するべきか悩んでいます。 海外動向にあわせたいのですが、日本ではcakephpが主流になっている様に感じられました。 phpフレームワークを利用したことがある方で、それぞれの利点と欠点がわかる方がいらっしゃったら教えて下さい。
2309,android,初の質問で拙いですがよろしくお願いします Eclipse lunaでOpengl esを使用してのAndroidアプリを開発していたのですが、Linux環境からMacに開発中のプロジェクトを移したところ、今まで上手くいっていた3Dオブジェクトの表示が出来なくなりました。(正しく言うとアプリが落ちます) 3Dを使わなければ全く問題なく表示されるので、原因を探してみたところaseetsの中にあるobjファイルのコードに赤い点線が引かれていました objファイルの方はmtllibのところに mtlファイルにはほとんどです 解決方法を教えていただければ幸いです 追記: objファイルのコードの頭です # WaveFront *.obj file (generated by Cheetah3D) mtllib droid.mtl g body v 0.000000 0.458228 0.000000 v 0.000000 0.458228 0.500000... 上記のコードのmtllibに赤線が引かれます mtlファイルはこちらです # WaveFront *.mtl file (generated by Cheetah3D) newmtl default Ns 64 Kd 0.700 0.700 0.700 Ks 1.000 1.000 1.000 Ka 0.700 0.700 0.700 newmtl green Ns 64.000000 Tr 1.000000 Kd 0.604681 0.839195 0.205600 Ks 0.990051 1.000000 0.414934 Ka 0.604681 0.839195 0.205600 newmtl white Ns 64.000000 Tr 1.000000 Kd 1.000000 1.000000 1.000000 Ks 1.000000 1.000000 1.000000 Ka 1.000000 1.000000 1.000000 mtlファイルは数字意外のほとんどが赤線になっています 私はここが原因だと思うのですが、もしかしたら違うんですかね
2321,c#,ユーザーにCOMポートで接続されたデバイスを選択してもらう際、COM15のような表記ではなく、 デバイス名を表示させたい。 下記のコードでシリアルポートに接続されたデバイスの名前をWMIによって取得できますが、 Bluetoothで接続されたデバイスの場合、 「Bluetooth リンク経由の標準シリアル (COMxx)」となり、デバイス名が取得できません。 Bluetoothで接続されたデバイスの名前を取得することは、方法などありましたら、教えて下さい。 // using System.Management; using (var device = new ManagementClass( "Win32_SerialPort" )) { foreach( ManagementObject port in device.GetInstances() ) { var name = port.GetPropertyValue( "Name" ) as string; Console.WriteLine( name ); } } 開発環境: Windows 7 、C# 6.0 .NET 4.5.1
2322,javascript,railsで簡単なアプリを作ったのですが、javascriptが正常に読み込まれる場合とそうでない場合があることに気がつきました。初回読込では読まれなくて、再読み込みをすると、javascriptが読み込まれています。 $ rails sで現象を再現してログを読んでみると、あるページでは次のようになっていました。 Started GET "/customers/sign_up" for 127.0.0.1 at 2014-12-21 19:19:17 +0900 Processing by Customers::RegistrationsController#new as HTML Rate Load (0.2ms)  SELECT  "rates".* FROM "rates"   ORDER BY "rates"."id" ASC LIMIT 1 CACHE (0.0ms)  SELECT  "rates".* FROM "rates"   ORDER BY "rates"."id" ASC LIMIT 1 Rendered admin/_header.html.erb (3.3ms) Rendered customers/registrations/new.html.erb within layouts/application (9.2ms) Rendered layouts/_footer.html.erb (0.0ms) Completed 200 OK in 442ms (Views: 440.3ms | ActiveRecord: 0.2ms) 以上のみですが、再読み込みをすると Started GET "/customers/sign_up" for 127.0.0.1 at 2014-12-21 19:20:05 +0900 Processing by Customers::RegistrationsController#new as HTML Rate Load (0.1ms)  SELECT  "rates".* FROM "rates"   ORDER BY "rates"."id" ASC LIMIT 1 CACHE (0.0ms)  SELECT  "rates".* FROM "rates"   ORDER BY "rates"."id" ASC LIMIT 1 Rendered admin/_header.html.erb (1.5ms) Rendered customers/registrations/new.html.erb within layouts/application (8.5ms) Rendered layouts/_footer.html.erb (0.0ms) Completed 200 OK in 403ms (Views: 401.2ms | ActiveRecord: 0.2ms) Started GET "/assets/metronic/components.css?body=1" for 127.0.0.1 at 2014-12-21 19:20:06 +0900 Started GET "/assets/metronic/plugins.css?body=1" for 127.0.0.1 at 2014-12-21 19:20:06 +0900 Started GET "/assets/metronic/default.css?body=1" for 127.0.0.1 at 2014-12-21 19:20:06 +0900 以下、ログが続く となっていて、/assets以下を読み込んでいます。 基本的には当たり前のように読み込まれると思っていたのですが、なぜこのような挙動になるか不明です。どなたかご教示いただけないでしょうか。
2324,javascript|jquery,実際に動かしたい内容としてはjQuery / JavaScriptで、ロード画面を表示させたいとほぼ同じで、以下のことを行いたいのですが、 HTML読み込み完了後まで要素を非表示 完了後にアニメーションとともに要素を表示する 要素にclassでdisplay: none;を付けた状態にしておき、読み込み完了後にjQueryのtoggleClassで外して表示するという方法で目的を達成することができます。 ですが、この場合の問題点としてJavaScriptが無効の時に読み込みが完了しても要素が表示されないという点が上げられます。 なるべくCSSでのアニメーションに依存（しなくてもOK）しながらJavaScriptが使用できない環境でも表示を保証するにはどうしたら良いのでしょうか。 追記: を使って以下の様なコードで表示は保証されますが、この場合記述量が2倍近くに膨れ上がり、またSEO的にも悪いのでこのような方法を避けたいです。 TEST messege TEST messege 実際に動かしたいアニメーションの例： $(window).load(function() { $("#wrapper").toggleClass("is-hidden animated fadeInDown"); }); .is-hidden { display: none; } /* Animate.css */ .animated { -webkit-animation-duration: 1s; animation-duration: 1s; -webkit-animation-fill-mode: both; animation-fill-mode: both; } @-webkit-keyframes fadeInDown { 0% { opacity: 0; -webkit-transform: translate3d(0 -100% 0); transform: translate3d(0 -100% 0); } 100% { opacity: 1; -webkit-transform: none; transform: none; } } @keyframes fadeInDown { 0% { opacity: 0; -webkit-transform: translate3d(0 -100% 0); transform: translate3d(0 -100% 0); } 100% { opacity: 1; -webkit-transform: none; transform: none; } } .fadeInDown { -webkit-animation-name: fadeInDown; animation-name: fadeInDown; } TEST messege
2343,javascript,以下のコードでmousedownとtouchstartが発火しません。 touchmoveも発火したりしなかったりで安定しません。 何が原因でしょうか？ mouseupとtouchendは発火しています。 app.controller('Ctrl' ['$scope' '$resource' '$http' '$interval' '$swipe' '$location' function($scope $resource $http $interval $swipe $location) { //省略 $scope.timerStart = function() { console.log("timer start"); time_timer = $interval(function() { } 1000); console.log(time_timer); }; $scope.touchMove = function() { $interval.cancel(time_timer); }; $scope.touchEnd = function() { console.log("touch end"); $scope.timerStart(); }; $scope.timerStart(); }]) .directive('timeClick' function() { return { controller: ['$scope' '$element' '$attrs' '$http' '$interval' function($scope $element $attrs $http $interval) { var isTap isTapped; $element.bind('click' function() { if(!isTapped) { return $scope.$apply($attrs['hogeClick']); } }); $element.bind('touchstart' function() { console.log('touch start'); return isTap = true; }); $element.bind('mousedown' function() { console.log('mouse down'); return isTap = true; }); $element.bind('touchmove' function() { $scope.touchMove(); return isTap = false; }); return $element.bind('touchend mouseup' function() { $scope.touchEnd(); if(isTap) { isTapped = true; return $scope.$apply($attrs['hogeClick'] $element); } }); } ]} } );
2345,ios,xcode(ver6.1)で、アプリを作っているのですが、 アニメーションに使おうとcocoapodsでpopをインストールしました。 その後、Buildしようとしたところ「Build Faild」してしまいました。 以下のエラーが表示されました。 clang: error: linker command failed with exit code 1 (use -v to see invocation) すいません、ド素人なのですが、いろいろググってみても解決策見つけられず。。。 どなたか解決策がお分かりでしたらお教え下さい。 よろしくお願いします。 エラーの詳細は、以下となります。 Ld /Users/konya/Library/Developer/Xcode/DerivedData/MuscleRace-gtoenwwagxjhrkgnjvnipsmbjwcx/Build/Products/Debug-iphonesimulator/MuscleRace.app/MuscleRace normal i386 cd /Users/konya/Documents/apps/MuscleRace export IPHONEOS_DEPLOYMENT_TARGET=6.0 export PATH="/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin" /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang -arch i386 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator8.1.sdk -L/Users/konya/Library/Developer/Xcode/DerivedData/MuscleRace-gtoenwwagxjhrkgnjvnipsmbjwcx/Build/Products/Debug-iphonesimulator -F/Users/konya/Library/Developer/Xcode/DerivedData/MuscleRace-gtoenwwagxjhrkgnjvnipsmbjwcx/Build/Products/Debug-iphonesimulator -FKiiTutorialApp -F/Users/moshiur/git/TutorialApp/iOSSDKTutorialApp -F/Users/konya/Documents/apps/MuscleRace -filelist /Users/konya/Library/Developer/Xcode/DerivedData/MuscleRace-gtoenwwagxjhrkgnjvnipsmbjwcx/Build/Intermediates/MuscleRace.build/Debug-iphonesimulator/MuscleRace.build/Objects-normal/i386/MuscleRace.LinkFileList -Xlinker -objc_abi_version -Xlinker 2 -ObjC -lPods-pop -lc++ -fobjc-arc -fobjc-link-runtime -Xlinker -no_implicit_dylibs -mios-simulator-version-min=6.0 -framework Social -framework ImageIO -framework CoreGraphics -lsqlite3.0 -framework KiiSDK -framework Accounts -framework AssetsLibrary -framework Foundation -framework MobileCoreServices -framework QuartzCore -framework UIKit -framework Twitter -lPods -Xlinker -dependency_info -Xlinker /Users/konya/Library/Developer/Xcode/DerivedData/MuscleRace-gtoenwwagxjhrkgnjvnipsmbjwcx/Build/Intermediates/MuscleRace.build/Debug-iphonesimulator/MuscleRace.build/Objects-normal/i386/MuscleRace_dependency_info.dat -o /Users/konya/Library/Developer/Xcode/DerivedData/MuscleRace-gtoenwwagxjhrkgnjvnipsmbjwcx/Build/Products/Debug-iphonesimulator/MuscleRace.app/MuscleRace ld: warning: directory not found for option '-F/Users/moshiur/git/TutorialApp/iOSSDKTutorialApp' ld: library not found for -lPods-pop clang: error: linker command failed with exit code 1 (use -v to see invocation)
2351,javascript,Google Chrome上で動く(Firefoxでは動かない)簡単なWebアプリを作ってます。 FileAPIで取得したオーディオファイル(wav m4aなど)の中身を渡して、再生するplaySoundという関数があるのですが、たまに再生できないm4a音源があります。 コードは以下のような感じです。(余計な処理をのぞいたもの) window.AudioContext = window.AudioContext || window.webkitAudioContext; var context = new window.AudioContext(); var source; function playSound(arraybuffer) { context.decodeAudioData(arraybuffer function (buf) { this.source = context.createBufferSource(); this.source.connect(context.destination); this.source.buffer = buf; this.source.start(0); }); } // 関数の呼び出し部 function playFile(file) { var freader = new FileReader(); freader.onload = function (e) { playSound(e.target.result); }; freader.readAsArrayBuffer(file); } m4pが再生できないのであればDRMのせいだろうと思うのですが、m4aで再生できない音源があるのはなぜでしょうか。 コードの問題なのか、音源の問題なのか(iTunes上で再生できます。別のアカウントが管理するMac上でも再生できます)、何か良い解決案があればお願いします。 尚、再生できない音源についてですが ファイル名は半角スペースあり英数字(半角スペースを消しても改善なし) サイズは約25MB 長さは約3分 925kbps(?!) です。
2353,android,AndroidアプリをUnityで制作しております。 開発環境 Mac OS X 10.9.4 Unity 4.5.2 Eclipse Java EE IDE 4.4.1 問題 APKファイルサイズが50MBを越えてしまい、また諸事情によりこれ以上サイズを落とすことができないため、 ストア申請にあたり、拡張ファイルを使おうとしております。 こちらのチュートリアルをそのままやってみています。コードもそのままです。 （PUBLIC KEYなどは設定しています。） http://www.exoa.fr/tutorial-unity-4-apk-splitting-google-play-obb/ やろうとしていることは、Google Playから拡張ファイルのDLに失敗した際の処理の実装です。 アプリを起動して、拡張ファイルがDLされていなかったらDL処理をした後で、ゲームの最初のシーンに遷移する、というものです。 Google Play Developer ConsoleにUPした拡張ファイルを実機にDLするところまではできたのですが、 その後のシーン遷移がうまくいきません。 Application.LoadLevel()のところで、このようなエラーが出てしまいます。 E/Unity   (10140): Level 'SceneMenu' (1) couldn't be loaded because it has not been added to the build settings. E/Unity   (10140): To add a level to the build settings use the menu File->Build Settings... もちろん、Build Settingsでシーンの追加は確認できています。 何か他に原因は考えられますでしょうか。 ご教授いただけましたら幸いです。よろしくお願いします。
2372,ios,UITextView で選択した範囲をコードで取得したいです。 範囲選択を変更したときに呼び出されるメソッドなどはありますか？ また選択範囲を取得するメソッドも教えてください。
2373,java|python,Javaではstaticメソッドはオーバーライドできないとされています。 たとえば、以下のようなコードはオーバーライドではないとされています。 (オーバーライドではなく、隠蔽(hiding)であるとされる) class A { public static void a() { System.out.println("A.a()"); } } class B extends A { public static void a() { System.out.println("B.a()"); } } Overriding static methods in java Javaのドキュメンテーション 一方、Pythonで似たようなコードを書いてみます。 class A(object): @staticmethod def a(): print("A.a()") class B(A): @staticmethod def a(): print("B.a()") これはオーバーライドなのでしょうか? 質問: 上記のPythonコード例はオーバーライドと考えるべきか否か? その判断の根拠は? staticmethodではなく、classmethodや普通のメソッドの場合は? 一般に動的言語でどう考えるべきか?
2378,ios,UILabel UITextField UITextView この３つの違いはなんですか？
2379,html,Ghost のテンプレートエンジンとして採用されている handlebars で ページの種類によって分岐するコードを実装したいと考えいています. Ghost 自体を拡張して文字列比較をするブロックヘルパーを追加すれば 簡単にできるのはわかっているのですがテーマで完結する方法を探しています. {{body_class}} でそれっぽい変数は取れるのですが 文字列比較をするブロックヘルパーがないみたいでして... 下記のような形で実装できたらと考えています. {{#if page_type "home"}} ホームだよー {{/if}} {{#if page_type "post"}} ポストだよー {{/if}} {{#if page_type "tag"}} タグだよー {{/if}} Ghost については日本語の情報がかなり少ないので 些細なことでもコメント頂けると幸いです.
2384,php,下記のように数独を作るプログラムをかきました。 升目を初期化する（例 1～9までの場合は9×9の升目を初期化する） 左上から幅優先探索で値をランダムに入れていく ランダムで入れていき、（行・列・ブロック内でかぶって）入れられる値がなくなったら、かぶった２つの升目を初期化して再度実行 9×9では問題なく（遅いと感じることなく）作成できたのですが、 16×16では途端に重くなり、無限ループのようになり処理が終わりません。 上記3の、 升目に入れられる値がないときに、かぶった２つの升目を初期化して再度実行、 が永遠繰り返されるように見受けられたので、 かぶった値をメモして、再度実行の際にはそれを省いて実行しようとしたのですが、 たいしたかわらずでした。（ソースは汚くなったのでここでは省略） 別の観点での実装方法やソース中の改善方法等、教えてほしいです。 public function make() { // 数独のブロック数 $blkNum = 9; // マスを初期化 for ($i = 0; $i < $blkNum; $i++) { for ($j = 0; $j < $blkNum; $j++) { $d[$i][$j] = -1; } } // startを左上に設定 $sx = 0; $sy = 0; $d[$sx][$sy] = rand(1 $blkNum); // set start to init // move vector $dx = [0 1 0 -1 0]; $dy = [0 0 1 0 -1]; $queue = [[$sx $sy]]; // [0] : x // [1] : y while ($queue) { $now = array_shift($queue); for ($i = 0; $i < 5; $i++) { // vector movement num // nx ny : after move mass $nx = $now[0] + $dx[$i]; $ny = $now[1] + $dy[$i]; if ($nx >= 0 && $nx < $blkNum && $ny >= 0 && $ny < $blkNum && isset($d[$nx][$ny]) && $d[$nx][$ny] == -1) { // 挿入する値を計算する // ※やっていることはランダムで値を渡し、行・列・ブロックで重複しなければその値を採用する $calc = $this->__put($d $nx $ny range(1 $blkNum)); if ($calc['result'] === true) { // 正常に値がとれたときは値をいれ、pushする $d[$nx][$ny] = $calc['value']; array_push($queue [$nx $ny]); } else { // 正常に値がとれなかったとき // 重なっている部分を初期化し、 // queueにつみpushする $d[$nx][$ny] = -1; $d[$calc['err_x']][$calc['err_y']] = -1; array_push($queue [$calc['err_x'] $calc['err_y']]); array_push($queue [$nx $ny]); } } } } } /** * __put パラメータに入る値を取得する * */ private function __put($d $nx $ny $param) { // 配列をランダムにしてqueueでとってい く shuffle($param); while($param) { $p = array_shift($param); // 値をチェックする（行・列・ブロック内での重複チェッ ク） $check = $this->__check($d $nx $ny $p); if ($check['result'] === true) { // チェックok -> return return ['result' => true 'value' => $p]; } else { // チェックNG -> paramを減らしてregression if ($param) { return $this->__put($d $nx $ny $param); } else { // paramがないと き // 最後まで値が入らなかったので、重複チェックで引っかかったxyをreturnする return ['result' => false 'value' => $p 'err_x' => $check['x'] 'err_y' => $check['y']]; } } } }
2388,javascript,chromeのconsole上において(iframeで読み込まれ勝手に)consoleに出力されたものを 文字列として変数に入れてhtmlに出力したいのですが どのような方法がありますでしょうか？ よろしくお願いいたします。
2389,c++,C++11で静的データメンバ定義(X::singleton)のラムダ式中から、該当クラス(X)のprivateメソッド(X::X()とX::init())にアクセスできるのはどうしてですか？ C++仕様での該当パラグラフを知りたいです。 class X { X() {} void init() {} public: X(const X&) = default; void mf() const {} static const X& singleton; }; const X& X::singleton = []{ static X obj;  // X::X()にアクセス可能 obj.init();    // X::init()にアクセス可能 return obj; }(); int main() { //  X x;       // X::X()アクセス不可 //  x.init();  // X::init()アクセス不可 X::singleton.mf(); } LiveDemo: http://melpon.org/wandbox/permlink/hqOvjVHyBdfV5HtE
2393,php,Composerを利用しているPHPプロジェクトがあります。 このプロジェクトではリソースの前処理などいくつかの固有の処理があり、開発環境・CI環境・プロダクション環境を問わず、composer installやcomposer updateが実行された時に必ず実行されるようにしたいです。 composer.jsonでの設定や何らかのフックポイントでの拡張によって実現する方法があれば教えてください。
2394,java,Javaでドメイン駆動設計を実践しようとしています。 質問ですが、DBレコードからドメインモデルを完全に構築するのがコスト面で現実的でない場合、どのように実装すべきでしょうか？ 例えば、Lineが多数のPointを持ち、かつ、PointからLineを参照可能なモデルがあるとき、指定するidのPointの完全な状態のドメインモデルを構築するには、Point、Lineに加え、Lineに属する全てのPointのDBレコードを獲得しなくてはなりません。仮にLine.pointsの数が非常に多い場合、完全な状態のドメインモデルを構築するコストが高くなります。 public class Line { private Long id; private List points; } public class Point { private Long id; private Line line; } // setter getter は省略 この場合、Line.pointsを遅延ロードするというのが一般的な解決策でしょうか？ 遅延ロードは遅延ロードを行う操作が行われるまでDBセッションを閉じられないのが少し気にかかります。 別の策として、似て非なるLineとPointクラスを用意することも考えましたが、LineやPointクラスにフィールドやロジックが増えてくるとコードの重複が多くなってしまいそうです。 皆さんはこういったケースではどのように実装されていますか？
2396,android,Google+アプリのように、ToolBarの背景のみ透過度を変更したいのですが、それらしいメソッドが見当たりません。。。 ToolBarのsetAlpha()メソッドでアルファ値を変更すると、ToolBarの背景だけでなく、ナビゲーションやタイトルも一緒に透過されてしまいます。
2399,ios,PFQueryTableViewControllerのサブクラスを作りLabelをoutlet接続してParseのデータをLabelに表示しようとしていますが上手くいきません。 Parseチュートリアルや英語stackoverflowを読んでも解決できませんでした。 どなたか回答宜しくお願いします。 cell.textLabel.textやcell.detailTextLabel.textなどを使うのではなくUILabelを使ってセルの任意の場所にParseのデータを表示したいのです。 コンソールには[PFTableViewCell postLabel]: unrecognized selector sent to instanceと出ます。 AppDelegate.mではアプリ固有のIDとclientKeyを指定しています。 storyboardでCellのClassにMyTableCellを指定しています。 MyTableCell.h #import @interface MyTableCell : PFTableViewCell @property (weak nonatomic) IBOutlet UILabel *postLabel; @end MyPFQueryTableViewController.h #import #import @interface MyPFQueryTableViewController : PFQueryTableViewController @end MyPFQueryTableViewController.m #import "MyPFQueryTableViewController.h" #import "MyTableCell.h" @interface MyPFQueryTableViewController () @end @implementation MyPFQueryTableViewController - (id)initWithStyle:(UITableViewStyle)style { NSLog(@"%s"\__func__); self = [super initWithStyle:style]; if (self) { self.parseClassName = @"UserPost"; self.pullToRefreshEnabled = YES; self.paginationEnabled = YES; self.objectsPerPage = 25; } return self; } - (PFQuery *)queryForTable { PFQuery *query = [PFQuery queryWithClassName:self.parseClassName]; if (self.pullToRefreshEnabled) { query.cachePolicy = kPFCachePolicyNetworkOnly; } if (self.objects.count == 0) { query.cachePolicy = kPFCachePolicyCacheThenNetwork; } [query orderByDescending:@"createdAt"]; return query; } - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath: (NSIndexPath *)indexPath object:(PFObject *)object { NSLog(@"%s"\__func__); static NSString *CellIdentifier = @"Cell"; PFTableViewCell *cell = (PFTableViewCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier]; if (cell == nil) { cell = [[PFTableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier]; } MyTableCell *PostCell = nil; PostCell = (MyTableCell *)cell; NSString *PostText = [object objectForKey:@"PostText"]; PostCell.postLabel.text = PostText; return cell; } - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath { [super tableView:tableView didSelectRowAtIndexPath:indexPath]; } @end
2406,android,先ほどAndroid Studioを起動した所、至る所のファイルが文字化けしていました。 前回起動した時は問題ありませんでしたし、Android Studioの設定は特に変更していないのですが… Android Studioを使用せず、ソースコードを見てみると正しく表示され、また、新規プロジェクトを作成しても文字化けが起こっています。 環境はWindows 8.1 x64でAndroid Studio 1.0.2です。
2408,php,PHPでスクリプト挿入攻撃やXSS対策として、サイタイズのためにhtmlspecialchars()を使うことがあると思いますが、使用する際の詳細が気になったので質問します。具体的には以下の２点です： サニタイズ関数を適用するタイミングについて 【ユーザからの入力時】【HTMLへの出力時】【その中間】の３パターンが考えられますが、ベストなのはどれでしょうか？GET・POSTパラメータの処理と、その出力がほぼ同時に行われる場合では違いが顕在化しませんが、そうでないより一般的な場合に注意する点が知りたいです。 『パーフェクトPHP』330・334頁によると「出力時にエスケープ」とだけ書いてありますが、それに関連する詳細の記述やサンプルコードがないため背景知識があってそうなるのか、それとも単なる著者の思いつきなのか判断できません。 【ユーザからの入力時】にサニタイズしてしまうと、HTML出力以外でサニタイズ前の文字列が必要になった際にhtmlspecialchars_decode()等で元に戻す必要があるため、やはり【HTMLへの出力時】がベストなのでしょうか？ htmlspecialchars()とhtmlentities()の使い分けについて いずれも第２引数にENT_QUOTESを指定すると思いますが、サニタイズ目的に限る場合、htmlspecialchars()で十分でしょうか。それともhtmlentities()まで使用する必要があるでしょうか？ get_html_translation_table()で変換される文字の違いは分かるのですが、どこまでやればサニタイズ目的で十分なのかよく分かりません。 以上詳しい方いらっしゃいましたら、ご教示ください。
2410,php,PHPにおいて、 開発環境で変更したテーブルのスキーマを本番環境にもプログラマブルに反映させたいのですが、どのような管理がおすすめでしょうか？ PHPのLaravelを使っているので、マイグレーションファイルで管理すべきというのはわかるのですが、他に手段がないものかと思いまして。 そもそもRailsやlaravel等のフルスタックなフレームワークを使ってる人はきちんとマイグレーションファイルで管理してるのでしょうか？
2415,php,Symfonyを使っています。 プロパティの名前などに使っている文字列を、キャメルケースとスネークケースで相互に変換したいのですが、フレームワークのクラスなどで簡単にできるでしょうか？
2417,java,ListIteratorでaddメソッドを実装しArrayListやLinkedListと速度比較したのですが、独自実装のListIteratorの動作が異常に遅いのです。その理由がわかりません。 ListIteratorをimplementしたMyListItrを作成し、最初にaddを実装しその速度を比較しました。 MyListに格納するオブジェクトはElm型オブジェクトとします。 public class Elm { public Elm next; public E data; public Elm() {  } public Elm(E obj) { data = obj; } @Override public String toString() { return data.toString(); } } MyListItrの未実装のメソッドは省略して載せます。 import java.util.ListIterator; public class MyListItr implements ListIterator{ protected Elm cursor; public Elm temp; public MyListItr(Elm element int i) { super(); if(i<0)throw new IndexOutOfBoundsException(); cursor = element; } @Override public void add(E e) { Elm n = new Elm<>(cursor.data); n.next = cursor.next; cursor.data = e; cursor.next = n; cursor = n; temp = null; } } MyListItrを使用してMyListを作ります。 import java.util.AbstractSequentialList; import java.util.ListIterator; public class MyList  extends AbstractSequentialList { public Elm element; public MyList(){ super(); element = new Elm(); } @Override public ListIterator listIterator(int arg) { return new MyListItr(elementarg); } @Override public int size() { return size1(element); } private int size1(Elm e) { if(e.next == null) return 0; return size1(e.next)+1; } } このMyListに50000個のElmをaddしていくと15秒近くかかります。ArrayListやLinkedListより1000倍遅いです。どうにかして少しでも早くしたいのですがなにかいい方法はないでしょうか。何故遅いのかよくわかりません。 よろしくお願い致します。
2421,javascript,本家のほうでも質問させて頂いたのですが、日本語版でも質問させてください。 今、sails.jsを用いてウェブアプリを作成しております。 sails.jsはデフォルトでテスト環境がないため、こちらのサイトを参考にテスト環境を作成しました。 （http://thenullpointer.in/2014/09/08/Testing-and-code-coverage-using-grunt-mocha-istanbul-in-Sails-js/index.html） そしてテスト用フレームワークにwolfpackをインストールして以下のようなコードを作成し、実行したところ以下のようなメッセージが出てエラーになってしまいます。 1) The UserController should return a HTTP 200 response if the user was added successfully: ReferenceError: runs is not defined at Context. (my_project_path/test/controllers/UserController.spec.js:42:9) 2) The UserController #create ユーザーが作成されるはず: ReferenceError: sails is not defined at Object.module.exports.create (my_project_path/api/controllers/UserController.js:9:457) コントローラテストのコードは以下の通りです。 global.jsの中のsails:trueのコメントは外している為、sails のインポート宣言はグローバルで使えるはずなのですがテストフォルダ以下では使えないのでしょうか？　またテストフォルダ内で使えるようにするための何か設定が必要なのでしょうか？　もし分かる方いらっしゃったらご教授いただけると助かります。 どうぞよろしくお願いします。 var UserController = require('../../api/controllers/UserController') sinon = require('sinon') constant = require('../../config/const') User = require('../../api/models/User') wolfpack = require('wolfpack'); global.User = wolfpack(User); var request = { params: { username: 'testuser' email: 'testuser@test.com' familyname: 'test' firstname: 'user' gender: constant.constVal.gender.male subscription: true term: true } }; var response = { send: sinon.stub() }; describe('The UserController' function() { describe('#create' function() { it('ユーザーが作成されるはず' function() { UserController.create(request response); expect(User.username.lastCall.args[0]).toBe(request.params.username); expect(User.email.lastCall.args[0]).toBe(request.params.email); expect(User.familyname.lastCall.args[0]).toBe(request.params.familyname); expect(User.firstname.lastCall.args[0]).toBe(request.params.firstname); expect(User.gender.lastCall.args[0]).toBe(request.params.gender); expect(User.subscription.lastCall.args[0]).toBe(request.params.subscription); expect(User.term.lastCall.args[0]).toBe(request.params.term); }) }); it("should return a HTTP 200 response if the user was added successfully" function() { // Run first part of test asynchronously (jasmine function) runs(function() { UserController.create(request response); }); // When the callback executes it should call res.send so we should wait for it waitsFor(function() { return response.send.called; }); // Now we can test if the proper code was sent runs(function() { expect(response.send.lastCall.calledWith(200)).toBeTruthy(); }); }); });
2433,php,これからSymfonyを使ってアプリケーション開発を始めたいと考えています。 公式サイトのダウンロードページをみると2.6と2.3の2つのバージョンがダウンロード可能になっていますが、バージョンの古い2.3の方がサポート期間が長くなっています。 どちらのバージョンを利用して開発を始めるのが良いでしょうか？
2435,ios,以下の連想配列 dicを post送信しようとしていますが上手くいきません。 連想配列 dicは以下の要素を持ちます。 key `"id"`         : `<文字列>` key `"cond_array"` : `<配列>` また、配列cond_arrayは、文字配列の配列で今回のコードでは以下の要素を持ちます。 cond_array[0]=["2""8""1"] cond_array[1]=["2""3"] このデータをPOST送信しようとしていますがうまくいきません。 教えていただける方おられましたらご教授願います。 書いたコードは以下になります。 let URL = NSURL(string: "aaa.php/") let request = NSMutableURLRequest(URL: URL!) request.HTTPMethod = "POST" var data2: [String] = ["2" "8" "1"] var data3: [String] = ["2" "3"] var array1 = [data2 data3] var dic: [String: AnyObject] = [ "id": "abc" "cond_array": array1 ] request.HTTPBody = NSJSONSerialization.dataWithJSONObject(dic options: nil error: nil) let connection = NSURLConnection(request: request delegate: self startImmediately: false)! var data: NSData! = NSURLConnection.sendSynchronousRequest(request returningResponse: nil error: nil)
2440,javascript,コードをgrepする方法を除きブラウザのjsコンソールなどからあるオブジェクトがどこから由来したか調べる方法はありますか？ 具体的には、あるwebサイトのjsコンソールに'hoge'というオブジェクトがいて、これがどのファイルで（またどのファイルでもない）定義されているかコンソール上から追うにはどうしたら良いでしょうか. またjsのオブジェクト空間（という名称は一般的ですか？）のログ見る方法はありますか. つまりどの瞬間にどのオブジェクトがどの様な順番で定義されているか見てみたいです.
2443,javascript|jquery,要素に紐付くイベントハンドラを全て取得する方法はあるでしょうか。 たとえば、 test のようなページの場合、#button1のボタンをクリックすると test1 test2 test3 test4 の４つのalertが表示されますが、この４つの関数を全て取得したいです。 ちなみに、 var onclick = $("#button1").get(0).onclick; という方法では、最初の test1 に相当する関数しか取得できませんでした。
2447,android|java,最近になりましてjavaの勉強を始めました。 下記のように抽象クラスでもインスタンスを作成できることを 知ったのですが、ここでわからないことがあります。 abstract class mylog{ public void logout(int i){ String messageText = "log-" + String.valueOf(i); Log.v("my-app"messageText); } } public class hoge{ mylog mylogclass = new mylog(){}; } 調べてみましたところこれは抽象クラスのmylogのインスタンスを 作成しているのではなく、自動でこれを継承したクラスが作成される との記述をどこかの掲示板で見たのですが、この認識で良いのでしょうか？ 抽象クラスのインスタンスを作成できるということに違和感を覚えます。 このようなことが出来ることによって、どのようなメリットがあるので しょうか。 どなたかお分かりになる方、教えていただけますようお願いします。
2459,android,Android Studioとscaloidで、アプリの作成はscalaでできたのですが、ライブラリの作成方法がいまいちわかりませんでした。 したいことは、scalaでAndroidのライブラリを開発し、AAR(Android Archive)ファイルの形にして、他のアプリ開発の際に参照することです。 scalaでAndroidライブラリモジュールを作成して、AARファイルを作成するにはどうすればよいのでしょうか？
2472,android|java,Mac OS X 10.9.5、 Unity 4.5.5 を利用しています。 Androidビルド時に、 Error building Player: CommandInvokationFailure: Unable to convert classes into dex format. See the Console for details. java -Xmx1024M -Dcom.android.sdkmanager.toolsdir="/Applications/android-sdk/tools" -Dfile.encoding=UTF8 -jar "(Unityのパス).app/Contents/BuildTargetTools/AndroidPlayer/sdktools.jar" - と出てエラーとなります。 エラーを下っていくと、 UNEXPECTED TOP-LEVEL ERROR: java.lang.OutOfMemoryError: GC overhead limit exceeded と出ています。 どなたか、同じようなエラーが発生した方、いらっしゃいますでしょうか？
2473,java,CoffeeScript → JavaScript のように Javaを別の言語で書いて、コンパイルしたときにJavaのコードでコンパイルされるというものを探しています。 ○○ → Java こういう感じをイメージしているのですが、近いものでも良いのであれば教えていただけないでしょうか。 あと、今回、検索の仕方がわからなかったので、そういうものを調べるときのワードなども教えていただけると幸いです。
2481,android,現在、Google Map上のマーカーをタップした時にinfoWindowを表示させ、次にそのinfoWindowをタップすると別のカスタムinfoWindowを表示させようとしているのですが、マーカーをタップして出てきたinfoWindowをタップしてもsetOnInfoWindowClickListener内のgetInfoContents()が呼ばれず、カスタムinfoWindowが表示されません。なぜでしょう？（getInfoContents()が複数あるから……とか？）下記にマーカー部分に関するコードを載せます。すみませんが、よろしくお願いします。 MarkerOptions options = new MarkerOptions().position(new LatLng(latitude longitude)).title(company).snippet(address); mMap.addMarker(options); mMap.setOnMarkerClickListener(new GoogleMap.OnMarkerClickListener() { @Override public boolean onMarkerClick(Marker marker) { mMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() { @Override public View getInfoWindow(Marker marker) { return null; } @Override public View getInfoContents(Marker marker) { Log.v("--->" "markerClicked"); return setInfoWindow(R.layout.marker_normal_window R.id.simple_title false marker); } }); return false; } }); mMap.setOnInfoWindowClickListener(new GoogleMap.OnInfoWindowClickListener() { @Override public void onInfoWindowClick(Marker marker) { mMap.setInfoWindowAdapter(new GoogleMap.InfoWindowAdapter() { @Override public View getInfoWindow(Marker marker) { return null; } @Override public View getInfoContents(Marker marker) { Log.v("--->" "infowindowClicked"); return setInfoWindow(R.layout.marker_detail_window R.id.title true marker); } }); } });
2484,java,画像から直線を検出する方法としてハフ変換などがありますが、ライブラリを見る限り 「一定の太さ以上の線のみ抽出する」といった指定方法が見当たりません。 線の太さを考慮した直線検出の手法またはライブラリをご存知の方がいらっしゃいましたら、教えていただけると幸いです。 言語と現在使用しているライブラリは以下のとおりです。 ＜言語＞　　　　Java　（Androidアプリ） ＜ライブラリ＞　OpenCV 2.4.10 【補足】 対象画像は文字とその他オブジェクトが混在した白黒画像で、最終的には文字のみを抽出することが目的です。 文字以外のオブジェクトが非常にやっかいで、英字のoと図形の○のように、文字との見分けがつきにくいノイズとなっています。 強いて言えば、「文字は他よりも太い線で描かれている」という特徴があるため、今回の質問に至りました。 文字抽出の処理自体はtesseract-ocrに任せるつもりですが、対象画像は ・文字の位置がバラバラ ・縦書きと横書きが混在 ・数種類のフォントサイズが混在 と非常に面倒くさいもので、そのままOCRを行ってもまともな結果が得られません。 そのため、OCR前に ①画像から文字と思われるオブジェクトのみ抽出 ②大きさを基準にオブジェクトを整列（文章のような横書き形式） という前処理を施したいと考えています。
2488,javascript,AngularJS で以下のような URL になってしまった際に query string (key=value) を取得するスマートな方法はありますか？ 'http://example.com/?key=value#/users/123' $location.search() では # をうまく解釈するようにできているせいか、期待通りには取得できませんでした。素の location.search を使うのが良いのでしょうか？
2492,php,phpでexecを用いてpsqlを動かそうとしました。 $cmd = '/usr/pgsql-9.3/bin/psql -U testuser example -c "SELECT * FROM test LIMIT 1"'; exec($cmd); すると、 $ php -f test.php Password for user testuser: とパスワード入力を求めるプロンプトが表示されてしまいます。 パスワードを渡す方法が知りたいです。 なお、サーバの設定は変更できません。
2494,android|ios,私は、CordovaとMiddlemanを使って、AndroidとiOS両対応のアプリを開発しています。 構成は単純で、MiddlemanとCordovaのプロジェクトを別々に作り、Middlemanのbuild出力先をCordovaプロジェクトのwwwに指定しているだけです。 開発が進みcordova.jsを用いた機能を作る事になりましたが、いくつか問題が発生しました。 Middleman上ではcordova.jsというファイルは無い Middlemanのserverで実行した際に、deviceOnReadyイベントも飛んでこない なので、現状、いちいち実機(シミュレータ)に転送してデバッグしています。 簡単にデバッグ可能なうまいやり方は無いでしょうか？
2504,java,<2014/12/19 17時15分53秒 JST>    <ログ・ファイルC:\Oracle\user_projects\domains\base_domain\servers\AdminServer\logs\datasource.logはローテーションされます。処理が停止した場合は、ログ・ファイルを再オープンしてください。これは、Windowsなど一部のプラットフォームで起こる可能性があります。> <2014/12/19 17時15分53秒 JST>    <ログ・ファイルはC:\Oracle\user_projects\domains\base_domain\servers\AdminServer\logs\datasource.log01725までローテーションされました。ログ・メッセージは引き続きC:\Oracle\user_projects\domains\base_domain\servers\AdminServer\logs\datasource.logに記録されます。> Weblogicを起動していると、上記のようなログメッセージが大量に出ることがあります。 これをWebアプリケーションからフィルタリング出来ないかと思い、 http://otndnld.oracle.co.jp/document/products/wls/docs81/logging/filtering.html 上記URLを参考にフィルタクラスを作成し、Webアプリケーションに登録してみました。 そこで、いくつかのログオブジェクトはフィルタリング出来たのですが、 肝心の上記ログをフィルタリングすることが出来ませんでした。 Loggerオブジェクト、Handlerオブジェクトを取得するときのコンテキストを間違えているのかと思ったのですが、 どれを試してもフィルタにかかりませんでした。 上記のログをフィルタリングするにはこの方法ではいけないのでしょうか。
2512,javascript|jquery,Windows系の開発でよく出てくるGUIDのようなランダムな文字列を生成したいです。 一定の長さ以上のランダムな文字列を生成するだけなので自作できると思いますが、jQueryなどの普及しているライブラリで提供されている関数、または標準的な生成方法があれば、そちらに倣いたいと思います。
2522,android,[GooglePlayストア]　アプリでは、NavigationDrawerで画面を切り替えて、かつ切り替わった画面にタブが使用されてますよね。 例）ドロワー　→　マイアプリ　→　インストール済み、全て(←ここ) これを自分のアプリでも実現するするにはどうすれよいか、分かる方いらっしゃいますか？ 実現したいのはNavigationDrawerで画面を切り替え、画面内にタブを使用することです。
2524,php,言語は何でも良いのですが、一応PHPにしておきます。 日が変わるごとに配列の順序がランダムに変わるようにしたい場合どのようにやるのが良さそうか教えてください。 私が考えたのは、keyと日付によってhash値を生成し、そのhash値をキーとしてソートすることです。 function random_sort_day_by_day($arr){ $today = strtotime('today'); $hash_table = array(); foreach($arr as $key => $val){ $hashkey = md5($key . $today); $hash_table[$hashkey] = $key; } ksort($hash_table); $result = array(); foreach ($hash_table as $arr_key) { $result[] = $arr[$arr_key]; } return $result; } もっと良い方法あります？
2531,c#,C# にて、以下のように、delegate を変数を介さずに直接実行したいです。 int n = delegate() { return 10; }(); 実際には上記コードは構文エラーになるので、以下のように変数を絡める必要があります。 Func f = delegate() { return 10; }; int n = f(); 変数を介さずに呼ぶことができないと困る、というわけではありませんが、何かしら直接呼べる方法があると少しだけ嬉しいです。他言語の例を挙げると、JavaScript等では前述のコードに似た記述ができますよね。何か良い解決策または代案ありますでしょうか。
2541,android,GridLayoutを使用して横2縦4マスの表を作っています。「住所」と書かれたTextViewの右に住所を入れるTextViewが来るのですが、このTextViewが画面より右側にはみ出てしまいます。これを上手くGridLayoutの表示領域に合わせることはできるのでしょうか？ レイアウトXMLはこんな感じにしています。
2542,php,PHPを使ったアプリケーションを運用している時に、アプリケーションコードの デプロイなどの外的な要因に突然負荷が上がる事があります。 その際に コードの変更を加えない Apacheの設定に変更を加えない パッケージをインストールすることは有りとする という条件の場合に一般的なシステムツール等を使ってボトルネックとなっているPHPのページを見つける手段はどのようにすればよいのでしょうか？
2544,javascript,JavaScriptの参照に関する記事でよく、オブジェクトは共有渡しで、プリミティブ値は値渡しと書かれていますが、仕様書をみても当該の記述を見つけられません。 仕様書を読む限り区別がない、つまり全てが値渡しの様に見えてしまいます。 もしくはReference型にbaseとして格納されているのは値を構成するデータ配列ではなく、値の存在そのもの、つまり参照（ポインタ）に近い概念であって、結局実は全部が共有渡しということなのでしょうか？ 例えばProperty Accessorsの仕様で 「Return a value of type Reference whose base value is bv」 というのは、作成されるReferenceのbaseにbvそのものを格納する→bvをデータとして複製して格納ではなく、その存在そのものを格納→実際は参照（ポインタ）に当たるものが格納されるイメージ、というニュアンスなのでしょうか？
2548,php,Apache上にmod_phpを載せてサービスを運営しているとします。この際特定のページで稀に apc_fetchを実行した時と思われるのですが PHP Fatal error:  apc_fetch() [function.apc-fetch] Stuck spinlock (0xXXXXXXXX) detected in ~ というエラーが出ることがあります。 apcのStuck spinlockが発生してしまうとApacheのResponseが悪くなってしまいサービス運用上困ってしまいます。Stuck Spinlockがでる原因は一般的に考えてどのようなことなのでしょうか？
2553,java,eclipseを使って、apache.wicketの勉強を始めたのですが、サンプルが少なくてよく分かりません。 特にdatabaseを使ったものはほとんどありません。 どなたかご教授して頂けたらありがたいのですが。 (V.1.4.23)
2559,php|jquery,fullcalendarとMysqlを連動してアプリケーションを作成しております。 月の切り替えボタン（前月、次月）クリック時に、その月のイベントを 切り替えて描画したいのですが、どのように実装すればよろしいでしょうか？ 1.最初の表示→12月一覧のデータを取得 2.ボタンで月を切り替える→切り替えた月のイベント一覧を取得し再描画 すいませんが、ご教示いただけると幸いです。
2576,javascript,はじめまして。JavaScriptのフレームワークについて質問します。 AngularやEmberやBackboneなどのフレームワークがありますが、 みなさんはどういった理由・観点からフレームワークを選定しますか？ アプリケーションの種別とニーズに応じて選ぶべきだと思うのですが、 例えばどんなときに、何のフレームワークを選べばよろしいのでしょうか？
2582,javascript,JavaScriptで数値をカンマ区切りする方法としては、 こちらの正規表現を使った方法がメジャーなようですが、以下のように var re = /(\d)(?=(\d\d\d)+(?!\d))/g; String(1234).replace(re '$1');      // 1234 OK String(1234.56).replace(re '$1');   // 1234.56 OK String(1234.5678).replace(re '$1'); // 1234.5678 NG 小数点以下が３桁を超えると破綻してしまいます。 どのような解決策があるでしょうか。
2593,python,12月からPythonを学び始めました。FlaskとSQLAlchemyを使ってアプリを作ろうとしています。 困ったのが、検索条件の組み立てです。ベタにやるとこんな感じになると思います。名前と苗字を検索条件に入れてユーザーを探すイメージです。 def search(): firstname ='' lastname = '' rs = session.Query(User) if firstname: rs = rs.filter(User.firstname==firstname) if lastname: rs = rs.filter(User.lastname==lastname) これしか方法が無いなら諦めるのですが、例えば検索条件に入れた変数(この場合はfirstnamelastname)がNoneとか空文字だったらfilterを通しても無視されるような感じに出来たら良いなぁ...と。 ユーザーから与えられる複数のリクエストパラメータに対して、よりスマートに検索条件を組み立てる方法があればご教示頂けると幸いです。
2614,html,http://example.com/test.phpがあったとします。(PHPである必要はない) ?foo=bar ?fizz=buzz このとき、手元にあるユーザーエージェント(Chrome 41 w3m/0.5.3 GNU Wget 1.13.4)は、どれもリンクを以下のように展開します。 "?foo=bar" => http://example.com/test.php?foo=bar "?fizz=buzz" => http://example.com/test.php?fizz=buzz このような挙動について、HTMLや関連する規格の裏付けはあるのでしょうか。それとも、ユーザーエージェントの実装上の慣習に過ぎないのでしょうか。
2657,ios,iOS開発においてUITableViewでカスタムセルを使用した場合の高速化について質問です。 カスタムセルはFacebookのタイムラインでいう写真のように、動的に表示が切り替わる箇所が4箇所ほど存在しています。 また当該カスタムセルにはAutoLayoutを使用しています。 現状、検索して把握している処置として以下のようなことは検証済みです。(セルの再利用など当たり前のことは割愛) 透過を使用しない 高さをキャッシュする 画像の加工等は別スレッドで行う ベンチマークを取ると動的に要素を表示したり非表示にするところで重たくなっており、上記のようなことは積み重ねると多少効果はあるのですが、大勢に影響なしという状況です。 (必ずしもそうではないのですが傾向として、非表示→非表示→表示といった場合、3度目の表示が切り替わる場面でとりわけ時間がかかっています) ちなみにAutoLayoutではなくプログラムでViewを生成することも検証しましたが、やはり同じ箇所で動作が重たくなってしまいます。 他社様のアプリを見るとカスタムセルを使用しているであろう場面で、私と同様にカクつくものもあれば、FacebookやTwitterのように動的な要素ながら驚くほどスムーズに動くものもあります。 後者のように動的なセルでも滑らかに動作させたいのですが、どのようなアプローチを取れば可能になるのでしょうか。ご存じの方がいらっしゃれば、ご教示ください。
2673,javascript|android|html,メニュー付きのコンテンツ表示ページを作ろうと考えています。 ピンチイン・アウトで画像を自由に拡大縮小が可能。画面の上下に常時メニューが表示される。メニューはコンテンツを拡大縮小しても固定位置・サイズである。コンテンツの拡大縮小はブラウザの処理に任せる。 という条件のUIを考えておりまして、以下の様なサンプルを作ってみました。 http://fushi.x0.com/php_system/20141227-stackoverflow-question/sample.html 中身はこんな感じです。 ほげkageまげ ほげkageまげ ページをピンチインすると画面上下の赤いメニューエリアのheightが固定されて狙い通りなのですが 赤いメニューエリアの中の文字やbutton要素のサイズがメニューエリアのそれと食い違ってしまいます。 左が初期状態、右がピンチインした状態。右側のメニューの高さはほぼ維持されているが、テキストやボタンのサイズの比率が異常になってしまう ボタンやテキスト、その他全ての要素のサイズを％で指定する方法を教えて頂けますでしょうか。 回答を元に再度考えなおしてみた結果、いい感じのコードが書けましたので追記しクローズ 自己解決とさせて頂きます。 問題を単純化すると、zoom:50% と指定しているのになぜボタンやテキストは正確に半分のサイズにならないのか？という事になり、zoomプロパティを使わずtransform:scaleプロパティで拡大率を指定する方法にしました。 注意点として、widthも調節する必要がある。transform-originを調節したりと環境によっては差異が出る可能性があるという点があります。 本来はzoomプロパティについて詳しく調べて何故50％で半分にならないのかを突き止めるべきですが、またの機会という事で。 ありがとうございます。 ほげkageまげ ほげkageまげ http://taneppa.net/footerbottom/
2681,ios,Int.maxよりも大きな値(20桁以上)を使いたいのですがどうすればできますか？
2683,javascript,TypeScript にて Google Feed API を利用したいのですが、以下の一文だけでエラーになってしまいます。 var feed = new google.feeds.feed(); // Uncaught TypeError: undefined is not a function 型定義ファイルにはgoogle.feed.api.d.tsを利用しています。 https://github.com/borisyankov/DefinitelyTyped/blob/master/google.feeds/google.feed.api.d.ts 何か不足しているものがあるのか、大きな勘違いをしているのか、教えていただければ幸いです。
2684,javascript,Number の toLocaleString() や Date の toLocaleString() をロケールを指定せずに実行した場合、 Number(1234).toLocaleString(); -> "1234" (new Date).toLocaleString(); -> "‎2014‎年‎12‎月‎27‎日‎ ‎18‎:‎50‎:‎30" と表示されました。（IE11の場合） おそらくロケールのデフォルト値が "ja-JP" になっているからと思われますが、このデフォルト値をJavaScriptから取得・変更することは出来るでしょうか？
2686,c#,Button をクリックするとディレクトリを選択するダイアログを表示し、選択したディレクトリに存在する txt ファイルを ListBox に表示させようと思いました。コードを実行し、無事に指定したディレクトリに存在する txt ファイルを ListBox に表示することはできましたが、 ListBox に表示されたデータは、C:\からはじまる絶対パス付きで表示されています。 以下が書いたコードの一部になります。 var Dialog = new CommonOpenFileDialog(); var Result = Dialog.ShowDialog(); if (Result == CommonFileDialogResult.Ok) { var Directory = Dialog.FileName; string[] files = System.IO.Directory.GetFiles(Directory "*.txt"); listBox1.Items.AddRange(files); } これを実行すると ListBox にパス付きでファイル名が表示されます。どうにか ファイル名.txt のみを表示させたいのですが、うまくいっていません。調べてみたところ、 GetFileNameを使う方法があるようですが、どうもうまくいきません。 何か方法がありましたら、教えていただけないでしょうか？ ※ ちなみにディレクトリの選択するダイアログには、 Windows API CodePack を使用しています。
2701,php,Symfonyで、コントローラが多数になることが見込まれるのですが、通常はバンドルのControllerディレクトリの直下にすべて配置する前提になっているかと思います。 これを例えば Controller/Foo/SearchController Controller/Foo/EditController Controller/Bar/AddController Controller/Bar/EditController のように分類したいです。 これが可能なのかどうかと、可能な場合、次の設定はどのように記述したらよいでしょうか。 routing.yml でのコントローラ名 コントローラに対応するテンプレートファイルの配置場所 テンプレートファイルを render() で指定する時の指定方法
2703,java,Java8のSteam APIで並行リダクション(concurrent reduction)をサポートした自作Collectorを作るとき、Collectorのcombiner関数が呼ばれることはないと仮定しても良いものでしょうか？ （実効的な意味はない）下記サンプルコードでは、自作CollectorはCONCURRENTかつUNORDERED特性を持っており： 並列ストリーム(parallel()あり)なら並列リダクション = supplier関数があるスレッド上で1回呼ばれる＋各Workerスレッドから並行にaccumulator関数が呼ばれる 逐次ストリーム(parallel()なし)なら単一スレッド上のリダクション = supplier関数＋accumulator関数が単一スレッドから呼ばれる と期待されるため、いずれのケースでもcombiner関数が使われる事は無いと考えられます。 import java.util.stream.*; import java.util.concurrent.*; import java.util.concurrent.atomic.*; public class DoesConcReductionCollectorNeedsCombiner { static public void main(String[] args) { ConcurrentMap result = IntStream.range(1 10_000_001).boxed()  // Stream .parallel()  // 並列ストリーム化 .collect(Collector.of( () -> new ConcurrentHashMap<>() (mv) -> { AtomicInteger a = m.putIfAbsent(v % 10 new AtomicInteger(v)); if (a != null) a.getAndAdd(v); } (mn) -> { // 並行リダクションなら呼び出されない? = 実装不要? // （まじめに実装するなら2つの並行Mapのマージが必要） System.out.println("!"); return null; } Collector.Characteristics.CONCURRENT Collector.Characteristics.UNORDERED )); System.out.println("r="+result); } }
2708,php,php <?php exec('sh read.sh' $output); print_r($output); read.sh #!/bin/sh /usr/bin/expect -c " set timeout 10 spawn ssh test expect \"passphrase\" { send \"pass\r\" expect \"Last login\" send \"ls\r\" expect \"$\" send \"exit\r\" } interact " 上記のコードのように phpからexecでシェルを実行して、 sshで接続した先でlsをし、その結果をphpで受け取りたいです。 しかしコードの結果は spawn ssh test という、戻り値になってしまっています。 read.shを直接実行すると、意図したlsの結果が返却されます sshの接続や、実行権限などは確認済みです。 なにか原因やコツなどわかるかたいましたらご教授ください。 宜しくお願いします。 環境 さくらVPS php 5.5 apache2.2
2718,ios,初投稿です。 よろしくお願いいたします。 サーバに以下の様な PHP ファイルを置き UIWebView に読み込ませています。 ... Swiftで、shouldStartLoadWithRequest メソッドで var data:NSData? = request.HTTPBody とすると data は nil になります。 を消すと data は nil ではなく正しく取得できます。 やりたいことは Form から送った画像を SQLite にも保存したいのです。 別の方法でも結構です、どうかご教授願います。
2721,android,Creating a Sync Adapterを始め、SyncAdapterについて解説している記事では、AbstractThreadedSyncAdapterのサブクラスのコンストラクタで、 public SyncAdapter(Context context boolean autoInitialize) { super(context autoInitialize); mContentResolver = context.getContentResolver(); } ContentResolverを取得してプライベートなメンバ変数として保持するのがセオリーとしていることが多いです。 しかし、onPerformSync()の呼び出しを見ると、 provider = mContext.getContentResolver().acquireContentProviderClient(mAuthority); if (provider != null) { AbstractThreadedSyncAdapter.this.onPerformSync(mAccount mExtras mAuthority provider syncResult); } else { syncResult.databaseError = true; } このタイミングでContentResolverを取得し、さらにContentProviderClientを獲得してonPerformSync()の引数に渡してくれます。コンストラクタでContentResolverを保持するより、引数providerを利用してContentProviderを操作した方が効率的なように思えます。 引数providerを利用しないのには、何か意味があるのでしょうか？
2738,ios,Paper by FiftyThree App の初回起動時に表示されるようなVideoViewを作りたいと思っています。 そこで自分で単純なソースコードを組んでみました。 https://github.com/kawai-hiroyuki/KHFVideoViewBeta しかし、私の作ったのはViewが角が丸い四角形になりません。 通常ならUIView.layerに layer.cornerRadius = 16.0; というコードを追加すれば、UIViewでは角が丸くなるのですが、反応しません。 どなたかアドバイスをいただけませんか？
2766,c#,.NET 4.5 (C# 6.0)にてWindowsフォームアプリケーションを開発しています。 下記のライブラリを使用してTaskDialogを使用したところ、例外が発生します。 Microsoft.WindowsAPICodePack.dll Microsoft.WindowsAPICodePack.Shell.dll 【例外の内容】 System.ComponentModel.Win32Exception (0x80004005): Dialog contents too complex. System.OutOfMemoryException: Insufficient memory to continue the execution of the program. at Microsoft.WindowsAPICodePack.Dialogs.NativeTaskDialog.NativeShow() at Microsoft.WindowsAPICodePack.Dialogs.TaskDialog.ShowCore() 【追記】 x64環境で64ビットモードで動作させた場合に例外が発生します。 Visual Studioにて32ビット優先にチェックを入れてコンパイルしたところ、正常に動作します。
2770,android|java,error: No resource identifier found for attribute 'latout_height' in package 'android' javaを利用していたところこのようなエラーが発生しました。解決方法を教えていだだけますか。
2777,c#,現在、.NET Framework 4.5を使用し、Windowsフォームアプリケーションを作っています。 指定したテキストファイルを読み込み、行ごとにリストボックスに表示し、その表示された項目を選択（複数選択も可）した後にボタンを押すと、選択していた項目の部分をリストボックスに表示していたテキストファイルから削除するという処理を書いています。 テキストファイルから直接指定した部分を削除する様な機能は実装されていないと思うので、一度テキストファイルを読み込み、読み込んだデータからリストボックスで指定していた項目を除いたデータを別のファイルに出力し、その出力されたファイルを最初のテキストファイルに上書きする形で実装しようと思いました。 まず、テキストファイルを読み込み、そのデータをそのまま別のファイルに出力してもとのファイルに上書きすることはできました。 しかし、リストボックスで選択していた項目を覗いて出力する方法がわからないままです。 以下が書いたコードの一部になります。 StreamReader cReader = (new StreamReader(@"C:\" Encoding.GetEncoding("shift_jis"))); string stResult = string.Empty; string tempFile = @"C:/temp.file" string removeTxt = listBox2.SelectedItems.ToString(); while (cReader.Peek() >= 0) { string stBuffer = cReader.ReadLine(); StreamWriter writer = new StreamWriter(tempFile false Encoding.GetEncoding("shift-jis")); writer.WriteLine(stBuffer); writer.Close(); stResult += stBuffer + Environment.NewLine; } cReader.Close(); File.Delete(tempFile); 上記のコードが、リストボックスで選択している箇所を削除する処理を除いた一連のコードです。 if(cReader.ReadLine() != listBox2.SelectedItems.ToString()) を使い、選択した項目と一致しなかった時にtempFileに書き込んでいこうとしましたが、うまくいきませんでした。 何かいい方法がお有りでしたら、ご教授お願いします。 ※上記のコードは複数選択された項目ではなく単数選択の項目をテキストファイルから除く処理ですが、複数選択の処理は今回の質問が解決した後に取り組もうと思っています。 .NETのバージョンは4.5です
2797,ios|php,iOSアプリケーションからNSURLSessionを利用してクエリをPHPにGETし、レスポンス(HTML)をアプリケーション上のUIWebViewで表示したいと考えております。 PHPからのレスポンスはNSURLResponseの中にHTMLがテキストとして入ってると思うのですが、そのデータをUIWebViewに渡して表示するにはどのようにすればよいのでしょうか？
2805,ios,Objective-C で iOS アプリ作成の勉強をしている学生です。 未熟ゆえ語弊があったり、勘違いがあったりで至らぬ質問かもしれませんが、回答していただけますと幸いです。 全ての iPhone 、 iPad の画面サイズに対応させるアプリを作る場合、どのように作成するのがベターと言いますか効率が良いでしょうか。 また、 Autolayout は万能なのでしょうか？ この質問のきっかけは、自分なりに Autolayout を勉強して、 View(IB) の並びが複雑な画面に色々制約を加えて試行錯誤しても思い通りの配置にできなかったからです。 というのも 4inch  4.7inch に対応できても 5.5inch でズレていたり、元の UIImageView の素材画像にも手を加える必要が出てきたり？と問題が発生しました。 iPad 用と iPhone 用に Storyboard を使い分ける作りならまだしも、 4inch+4.7inch 用、5.5inch 用の Autolayout 設定など解決策に考えましたが、非常に効率の悪い作りに感じました。 Autolayout 自体、ケースバイケースなものなら良いのですが、もし Autolayout が万能な(適切に設定することであらゆる画面に対応できる)ものだとして、自分が使いこなせていないだけなら非常に効率が悪いことを続けることになるのでそれだけは避けたいと思い、鉄板な方法といいますか、可能であればプロがやっている方法？意見( Autolayout をどう活用しているのかなど)を聞きたいと思いました。 そんな感じで Autolayout についてネット上で色々調べたのですが、 Universalアプリ作成に対する自分の結論が出せずとても困っています。 ご回答よろしくお願いいたします。
2828,php,CakePHP を動作させる際に phpMyAdmin を設定する際のことに関して質問です。 環境： CentOS6 PHP 5.5 CakePHP 2.6.0 でやっています。 /var/www/phpmyadmin/ に alias 指定でアクセスさせるために質問後半に示すような設定ファイルを書いた結果 http://localhost/phpmyadmin/ でアクセスすることはできたんですが、 File not Found が出てしまいます… 読み込ませるにはどうすればいいでしょうか？ 以下 /etc/nginx/conf.d/default.conf に記載した設定 server { listen 80; server_name localhost; #中略 location /phpmyadmin { alias /var/www/phpmyadmin; index index.php; location ~ \.php$ { root /var/www/phpmyadmin; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } } #中略 #CakePHPのURLリライティング設定 location ~ \.php$ { fastcgi_pass   127.0.0.1:9000; fastcgi_index  index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include        fastcgi_params; } }
2831,c++,入力画像に対してcv::warpperspectiveTransform()によってホモグラフィー行列を適用したいのですが、 メモリアクセス違反が発生してしまいます。 OpenCV warpperspectiveを参考に色々試してみましたがどうも上手く行きません。 助言をいただけないでしょうか。 cv::Mat src_image = cv::imread("image.png"); // 入力画像 cv::Mat src_corner = cv::Mat(4 1 CV_32FC2); // 入力画像の四隅 cv::Mat dst_corner = cv::Mat(4 1 CV_32FC2); // 出力画像の四隅 for (int i = 0; i < 2; ++i) { for (int j = 0; j < 2; ++j) { src_corner.at(i*2+j 0)[0] = src_image.cols * j; src_corner.at(i*2+j 0)[1] = src_image.rows * i; } } // ホモグラフィー行列homographyはあらかじめ適切に計算済み // 入力画像の四隅の点をホモグラフィー変換 cv::perspectiveTransform(src_corner dst_corner homography); // ホモグラフィー変換によって負の座標を持つ点を補正 cv::Mat h; cv::Rect br; { br = cv::boundingRect(dst_corner); cv::Mat offset_mat = cv::Mat::eye(3 3 CV_32FC1); offset_mat.at(0 2) -= br.x; offset_mat.at(1 2) -= br.y; h = offset_mat * homography; } // ホモグラフィー変換 cv::Mat dst_image; cv::warpPerspective(src_image dst_image h br.rect);
2841,python,Rユーザが、python を使いはじめていますが、戸惑うことが多いです。そういったRユーザのための比較対象表などが乗っているよいサイトを教えてください。できるだけ新しいものか、よくアップデートされているのがよいです。
2889,c++,C++言語において、確率P(xy)を実装しています。 P(x)については実装してみました。といってもmapを利用してkeyが何回出現したかをsecondのカウンターを利用して全体で割ったものですが、 std::map P; for(int i=0;i<10;i++) P.insert(std::make_pair(i0)); P.find(rand())->second++; のような形で、P(x)と見立てたものです。 しかし、P(ab)のような２つの変数となるとどのような実装方法が適切かわかりません。 P(ab)を実装したい理由は、P(abc)のように変数が3つの場合に、cは任意とした場合、cについて全て走査する必要があり効率的で無いからです。 どのようなデータ構造を利用すればよいでしょうか。
2903,ios,iPhoneアプリケーションがバックグラウンドの際にUILocalNotificationを利用して通知を送信し、その通知からアプリを起動した際に、特定のビューを表示したいと考えております。 現在、通知の開くを押すと、普通にアプリが起動し、アプリの最初の画面(ViewControler)を表示すると事までは完成しています。通知から起動した際に特定のビュー(SecondViewControler)などを表示するにはどのようにすればよいのでしょうか？ - (void)setLocalNotification:(NSString *)message { UILocalNotification *notification = [[UILocalNotification alloc] init]; notification.fireDate = [[NSDate date] dateByAddingTimeInterval:0]; notification.timeZone = [NSTimeZone defaultTimeZone]; notification.alertBody = message; notification.alertAction = @"開く"; notification.soundName = UILocalNotificationDefaultSoundName; notification.applicationIconBadgeNumber = 1; // 通知を登録 [[UIApplication sharedApplication] scheduleLocalNotification:notification]; }
2905,php,当方cakephp初心者です。require_onceに関する cakephp2.6.0からwebスクレイプを行いたく、goutteを利用しようとしています。 参照① ->  https://github.com/FriendsOfPHP/Goutte そこで、 -> http://www.buildinsider.net/web/bookphplib100/088 を参考にしつつ、 ①path/to/cake/app/Vendor以下に Goutte.pharをおく ②読みたいコントローラーにてrequire_onceでGoutte.pharをひっぱってくる とすればできると思っているのですが、 Error: require() [function.require]: Failed opening required '/Library/WebServer/Documents/yushen/app/Vendor/goutte.phar' (include_path='/Library/WebServer/Documents/yushen/lib:.:') File: /Library/WebServer/Documents/yushen/app/Controller/EditController.php Line: 2 とエラーが出てきてしまいます。以下実際に書いたコードになります。 <?php require "/Library/WebServer/Documents/yushen/app/Vendor/goutte.phar"; use Goutte\Client; class EditController extends AppController{ public function add(){ $client = new Client(); } } ①require_onceでズバリどこを指定すればいいのか ②app::importを使って呼ぶ方法はないのか を質問したいと思っています。 初歩的な質問で申し訳ございません。。。よろしくお願いします！
2918,php,【やりたいこと】 特定のURLへのアクセスを決まったファイルへリダイレクトする 例： sunday.local/app/get/1へアクセスがあったとして sunday.local/dispatch.phpへリダイレクトする。 dispatch.phpの中でapp/get/1を解析して内部の形式で呼び出す（ディスパッチ）ようにしたいのですがリダイレクトが想定した動作をしません。 【環境】 OS：Ubuntu14.04 Apache:2.4.7 【手順】 VirtualHostの設定 /etc/apache2/sites-available/sunday.local.confを作成 AllowOverride Allで.htaccessの利用を許可しています。 ServerName sunday.local ServerAdmin webmaster@virtual.host DocumentRoot /home/oono/bear/public ErrorLog /var/log/apache2/virtual.host.error.log CustomLog /var/log/apache2/virtual.host.access.log combined LogLevel warn Require all granted AllowOverride All VirtualHostの有効化 有効にするために以下のコマンドを実行 $ sudo a2ensite sunday.local $ sudo service apache2 reload /etc/hostsに追記 以下を追記しました。 127.0.1.1   sunday.local /home/oono/bear/public/test.htmlを配置 ブラウザからhttp://sunday.local/test.htmlにアクセスして表示されることを確認 mod_rewriteを有効化 Apacehのモジュールrewriteを有効にする $ sudo a2enmod rewrite $ sudo service apache2 restart .htaccessを作成 sunday.localのドキュメントルート「/home/oono/bear/public」に.htaccessを作成 http://weblabo.oscasierra.net/apache-rewrite-1/を参考に RewriteEngine on RewriteRule ^/$ http://www.google.co.jp [R=302L] ブラウザからアクセス まずはテストなので分かりやすく「sunday.local/」にアクセスしたら「www.google.co.jp」にリダイレクトされることを期待してるのですが、403 Forbiddenの画面になります。 何か設定が不足、間違っているのでしょうか？
2931,python,tortoisehg が提供している svn_1.7.5_py27_x86.zip  を site-packages 以下に展開し、 from svn import core にて ImportError が発生します。 https://bitbucket.org/tortoisehg/thg-winbuild/downloads/ c:\Python276>python Python 2.7.6 (default Nov 10 2013 19:24:18) [MSC v.1500 32 bit (Intel)] on win32 Type "help" "copyright" "credits" or "license" for more information. >>> >>> from svn import core Traceback (most recent call last): File "" line 1 in File "c:\Python276\lib\site-packages\svn\core.py" line 26 in from libsvn.core import * File "c:\Python276\lib\site-packages\libsvn\core.py" line 25 in _core = swig_import_helper() File "c:\Python276\lib\site-packages\libsvn\core.py" line 21 in swig_import_helper _mod = imp.load_module('_core' fp pathname description) ImportError: DLL load failed: このオペレーティング システムでは %1 は実行されません。 >>> >>> 環境は、Windows 8.1 Update の 64-bit 環境です。 32-bit 版だと発生し、64-bitのPythonではこのエラーは発生しません。 【再現手順】 Python 2.7.6 をインストールする (C:\Python276) ダウンロードする https://bitbucket.org/tortoisehg/thg-winbuild/downloads/svn_1.7.5_py27_x86.zip C:\Python276\Lib\site-packages 以下に展開する python.exe を起動し from svn import core を実行する
2950,javascript|html,htmlタグの属性値 CSSのプロパティ（urlなど） JavaScript の文字列リテラル これらで使用する引用符はシングルクォート、ダブルクォートのどちらも使用できますが、メンテナンス性を考慮してスタイルを統一したいです。 また、 htmlタグのイベント属性（onlickなど）に直接JavaScriptを記述する場合 JavaScriptで属性値付きのhtmlタグを編集する場合 のように引用符が入れ子になる場合についても書き方を統一したい。 標準的なルール、合理性のある使い分けのガイドラインがあれば教えてください。
2958,php,この部分が1行目～27行目のコードになっています。 エラーメッセージにはline 10とあるので、require_once 'checkinput.php'; の周辺だと思うのですが周辺をいじっても解決しませんでした。 cehckinput.phpはこのコードの書かれたファイルと同じ階層に存在しています。 ちなみにそれ以降のコードは以下のとおりで、 setAttribute(PDO::ATTR_EMULATE_PREPARESfalse); //エラーが発生した場合、例外がスローされるようにする $db->setAttribute(PDO::ATTR_ERRMODEPDO::ERRMODE_EXCEPTION); //sql文の準備 //検索文字列の数だけ[:data0][:data1]…のようにプレースホルダを用意 $where = ''; foreach ($datalist as $key => $value) { $where .= sprintf('AND name LIKE :name%d  $key'); } $sql = 'SELECT * FROM goods WHERE 1' . $where; $prepare = $db->prepare($sql); //sql文のプレースホルダに値をバインドしてクエリを実行 for($i = 0; $i < count($datalist); $i++){ //検索文字列の中のワイルドカード文字及びエスケープ文字をエスケープ $link = preg_replace('/([_%\\\\])/u' '\\\\$1' $datalist[$i]); $prepare->bindValue(':name'.$i '%' .$link .'%' PDO::PARAM_STR); } $prepare->execute(); $result = $prepare->fetchAll(PDO::FETCH_ASSOC); if(count($result) == 0){ print '「'.h($data).'」はデータベースに登録がありません'; }else{ print '「'.h($data).'」はデータベースに登録がありました'; ?> 検索結果 ID 商品名 価格 '; } $sql = 'SELECT * FROM goods'; $prepare = $db->prepare($sql); $prepare->execute(); $result = $prepare->fetchAll(PDO::FETCH_ASSOC); ?> データベースの内容一覧 ID 商品名 価格 '; //接続でいない場合、PDOException例外がスローされるのでキャッチする }catch(PDOException $e){ print 'エラーが発生しました。。　内容：' . h($e->getMessage()); } } ?> こうなっています。 長くなって申し訳ないですが、力を貸していただきたいです。 どこがおかしいでしょうか？
2961,php,度々失礼します。 htmlspecialchars() expects parameter 2 to be long array givenというエラーが出たので解決策をしらべていたのですが、文字列を入れるべきところを配列を入れてしまっていることが原因だとは分かりました。 しかし、参考にさせていただいたところには「配列でも処理できるようになっています」と書かれています。 配列を入れたらエラーが出るのに、配列でも処理できるようになっているというのはどういう事なのでしょうか？ HTMLでのエスケープを処理する関数として、以下のコードを書いています。 ちなみにですが、このコードの書かれたファイルを実行してもブラウザは真っ白な状態でなにも表示されません。 本体(？)もといエラーメッセージの出たコードの部分は となっており、エラーメッセージにはon line 6 と書かれています。 初心者で申し訳ないですが、力を貸していただきたいです。 よろしくお願いします。 追記 checkinput.phpの中身は以下のとおりです。
2966,jquery,$('.hogehoge .hugahuga .piyopiyo div').on('click'function(){ index = $('.hogehoge .hugahuga .piyopiyo div').index(this) }); のように、長ったらしいセレクタを2度記述するのを回避する方法は target = $('.hogehoge .hugahuga .piyopiyo div') target.on('click'function(){ index = target.index(this) }); のように変数を定義するしかないですか？ $('.hogehoge .hugahuga .piyopiyo div').on('click'function(e){ index = $(e.xxx).index(this) }); のようにコールバック関数の内部から呼び出すことは不可能ですか？
2973,java,Javaの文字列の中で以下のRubyのコードのように式の展開をすることは可能でしょうか？ name = "Joel Spolsky" p "Hello #{name}"
2977,c++,こんにちは 私はいままでautotoolsを使用してC++のビルドを管理していました。 これをVisualStudioでもビルド出来るようにしようと考えて、bakefileというツールでvc++向けのプロジェクトファイルを作りました。 ですが、リポジトリには依存しているライブラリの多くは入っていません。（※libcurlやwxWidgetsなど）VisualStudioで開発する場合このようなOSSはどのように管理するのが正しいでしょうか？作成したソリューションの配下にこれらを置く必要があるのでしょうか？ ※一応自分でも調査はしており、nugetというパッケージマネージャーがあることを知っています。そのへんのVisualStudioの作法等知っておられる方がいれば教えてください ※できるだけ、リポジトリからソースコードをチェックアウトすると依存のライブラリは揃う状態に出来たらと思っています
2979,ios,スマートフォンサイトを制作していて発生した問題です。 headerタグにposition:fixed;を指定しスクロール時に画面上部に常に固定配置されるヘッダーを作成しました。 そのヘッダーにinputを利用して検索ボックスを設置したのですがiOS8のsafariで検索ボックスにフォーカスをあてると、htmlの構造上ではinput要素がコンテンツより上部に存在するためか一番上まで自動的にスクロールしてしまうという問題が発生しました。 aaa aaa aaa ... こちらに実際にテストができるサンプルページを作成しましたので是非iPhoneなどで閲覧していただければと思います。 サンプルページ ちなみに、古い機種ですがArrowsESという機種（Android2.3）では、自動的にスクロールが発生するというようなことはありませんでした。 この問題を解消する方法がわかる方いらっしゃいましたら、是非アドバイスお願い致します。
3005,ios,UIButtonを使用して、個別App用のキーボードを作成しています。 （iOS8に導入されたカスタムキーボードではありません） iPhoneの英語キーボードや、デフォルトアプリである計算機（Calculator）では、 ボタンをスワイプしていくと、タッチされている位置のボタンがハイライトされていき、 最終的にタッチを離した位置のボタンがタップされたようになります。 （キーボードの外からドラッグされてきた場合には、ボタンは反応しません） このような仕組みを実装したいのですが、うまく行きません。 なにか、よき解決方法、よき例などありましたら、示唆いただけないでしょうか？ 現在、Swiftを使っていますが、Objective-Cでも構いません。 独力でできる範囲では、 self.addTarget(self action: "buttonHighlight" forControlEvents: UIControlEvents.TouchDown) self.addTarget(self action: "buttonHighlight" forControlEvents: UIControlEvents.TouchDragEnter) self.addTarget(self action: "buttonUnhighlight" forControlEvents: UIControlEvents.TouchUpInside) self.addTarget(self action: "buttonUnhighlight" forControlEvents: UIControlEvents.TouchDragExit) を組み込んだUIButtonのサブクラスを作成して、 TouchDownとTouchDragEnterでボタンをハイライト化 TouchUpInsideとTouchDragExitでボタンをハイライト解除 するみたいな方法を検討したのですが、TouchDragEnterが、 最初にボタンをタッチしたあと、一度、ボタン外にドラッグされて、「再度」ボタン内にドラッグされてきた 場合 を意味しているため、意図通りになりませんでした。 （このTouchDragEnterの挙動については、英語版のStackoverflowにもObjective-Cでの場合ですが、 記事がありました。） なお、 iPadの英語キーボードの場合には、最初にタッチされた場所のボタンがハイライト されたあと、ドラッグしてタッチされている位置がボタンの範囲から外れると、 そのボタンのハイライトが解除されるだけで、他のボタンがタッチされている状態に なっても、それぞれのボタンは反応しません。（ちなみに、ドラッグしたまま元のボタン に戻っても何の反応もしません） こちらは、上記の方法で、ほぼ同等の状態が出来ています。 （ドラッグしたまま元のボタンに戻ると、ボタンが押された状態になってしまいますが）
3017,android,adbコマンドを使用したところ、"adb: command not found" とエラーが返ってきました。 色々と調べると環境変数を変えればいいことがわかり、下のようにパスを変更しました。 export PATH=$PATH:/Applications/sdk/platform-tools しかしその後adbコマンドを使用したところ、また "adb: command not found" というエラーが出てきました。確認したところ、platform-toolsフォルダの中にはadbがありました。 かれこれずっと調べているのですがこれ以上どうすればいいか分からないので、どなたかお助けいただきたいと思います。 すみませんが宜しくお願いします。
3023,android,adb shell "run-as package.name chmod 666 /data/data/package.name/databases/file" データベースファイルをPC上にpullしたくて、上記のコマンドを打ち込むと下記のエラーが返ってきます。 「run-as: exec failed for chmod Error:Operation not permitted」 原因を色々と調べていたところ、root権限を取得しなければいけないらしく、adb shellと打ち、suとコマンドを打ち込んでも、「su: not found」とエラーが出てきてrootが取得できず、どうすればいいか分かりません。 adb shell "run-as・・・・・・を正常に実行できるようにするにはどうすればよろしいでしょうか？ すみませんが宜しくお願いします。
3042,android,アクションバーにあるホームボタンのロゴを表示しようとしているのですが、ロゴが表示されません。 まずManifestファイルをいじってみたのですが、変化なしです。 コード側でgetSupportActionBar().setLogo(R.drawable.icon)としても何の変化もありません。 ホームボタンのアイコンを表示するにはどうすればいいでしょうか？ 何か他に必要な設定があるのでしょうか？ ちなみに現在の端末のバージョンは4.1.2です。
3082,android,Android端末を自分のMacにUSBで接続してAndroid File Transferを起動すると、「Android搭載端末が見つかりません」と表示され、何も画面に出てきません。Android StudioなどではAndroid端末は認識されており、メディアデバイス（MTP）にもチェックが入っています。USBデバッグにもチェックが入っています。ということは、この端末がAndroid File Transferを利用できない端末ということなのでしょうか？現在使用している端末は「MOTOROLA 201M」です。他にAndroid File Transferを利用できるようにする方法はないのでしょうか？すみませんが、宜しくお願いします。
3084,php,検索フォームに商品名をの一部でも入力した場合、 その文字列を含むデータがデータベース内に存在する場合は「データベースに登録があります」というメッセージと入力された文字列を含んだデータを全て表示させ、 データベース内に存在しない場合は「データベースに登録がありません」というメッセージを出力させるプログラムです。 (コードは殆ど参考資料そのままで、データベース名とテーブル名のみ個人のものです。) データベース内には、「りんご」「バナナ」「みかん」のデータが存在しています。 現在、検索フォームに「りんご」と入力すると 「データベースに登録があります」というメッセージは表示されますが、検索結果が表示されません。 また、データベース内に存在しない文字列を入力しても「データベースに登録があります」と表示されます。 fetchAllを使用して全ての結果行を返していると思うのですが、正直なところ自分でも理解しきれておらず原因が分からないので困っています。 以下がコードです。 ページタイトル "SET NAMES utf8")); //プリペアドステートメントのエミュレーションを無効にする //$pdo->setAttribute(PDO::ATTR_EMULATE_PREPARESfalse); //エラーが発生した場合、例外がスローされるようにする $pdo->setAttribute(PDO::ATTR_ERRMODEPDO::ERRMODE_EXCEPTION); //sql文の準備 //検索文字列の数だけ[:data0][:data1]…のようにプレースホルダを用意 $where = ''; foreach ($datalist as $key => $value){ $where .= sprintf('AND name LIKE :name%d'  $key); } $sql = 'SELECT * FROM goods WHERE 1;' . $where; $prepare = $pdo->prepare($sql); //sql文のプレースホルダに値をバインドしてクエリを実行 for($i = 0; $i < count($datalist); $i++){ //検索文字列の中のワイルドカード文字及びエスケープ文字をエスケープ $link = preg_replace('/([_%\\\\])/u' '\\\\$1' $datalist[$i]); $prepare->bindValue(':name'.$i '%' .$link .'%' PDO::PARAM_STR); } $prepare->execute(); $result = $prepare->fetchAll(PDO::FETCH_ASSOC); if(count($result) == 0){ print '「'.h($data).'」はデータベースに登録がありません'; }else{ print '「'.h($data).'」はデータベースに登録がありました'; ?> 検索結果 ID 商品名 価格 '; } //接続でいない場合、PDOException例外がスローされるのでキャッチする }catch(PDOException $e){ print 'エラーが発生しました。。　内容：' . h($e->getMessage()); } } ?> AND検索したい文字列を入力 どこが間違っているでしょうか？ よろしくお願いします。 コメントを頂いたので、h.phpのコードを、追加でcheckinput.phpのコードも付け足しておきます。 h.php checkinput.php
3096,php,PHP、SymfonyでテンプレートにTwigを使っています。 Twigのテンプレートに表示する文字列を、先頭N文字等で切り詰めたいのですが、テンプレート側で使える関数などがあるのでしょうか？ ドキュメントを見たところ、truncateというフィルタや関数は標準ではありませんでした。
3098,ios,iOS8でUIPickerViewを使用しているのですが、項目のtitleが長すぎて、最後が「...」と省略されてしまうので、フォントサイズを調整して対応しようとしました。 pickerView:titleForRow:forComponent:　メソッドでは、フォントサイズの調整項目がないので、 pickerView:viewForRow:forComponent:reusingView:　メソッドで、UILabelにattributedStringを指定したものを戻り値にして、フォントサイズの調整を行いました。 その目的は上手く果たせたのですが、pickerView:titleForRow:forComponent:　メソッドでは、pikerViewの中央選択部位が、非選択部位に対して拡大表示されているのに対し、pickerView:viewForRow:forComponent:reusingView:　メソッドでは、その拡大表示効果がなくなっていることに気がつきました（添付図をご参照ください）。 選択項目全体が表示されることが第一優先ではあるのですが、選択部位が拡大表示される効果は、選択時に分かりやすい効果があると思っています。もし、可能であれば、この２つを両立させたいと思っているのですが、UIPickerViewを用いて、これを実現するのは可能でしょうか？　もし、可能であるなら、その手法、あるいは例を示唆いただけないでしょうか？　 現在、Swiftを使っていますが、Objective-Cでも構いません。よろしくお願いいたします。 ちなみに pickerView:attributedTitleForRow:forComponent:　メソッドは、referenceにもdeprecatedとの記載はないのですが、iOS7以降では、上手く稼働しないとの報告もあり、実際試してみましたが、pickerView:titleForRow:forComponent:　メソッドとの違いが確認できませんでした（フォントサイズの調整ができませんでした）。
3104,php,Symfonyで既にDBへ登録されているEntityであるか否かはどのように判断しているのでしょうか？ PlanとCourseがoneToManyの関係であるEntityを作成しました。 Planへ、CourseをDBより検索しaddCourse()するのと、既にDBに登録されているEntityと全く同じEntityを手動で作成しaddCourse()するのはどのような違いがあるのでしょうか？
3110,android,AndroidStudio にて、 ProGuard を有効に設定し、 ./gradlew assembleRelease 上記コマンドにてビルドを行ったところ、下記のようなエラーが発生します。 FAILURE: Build failed with an exception. What went wrong: Execution failed for task ':app:proguardRelease'. java.io.IOException: Can't read [[project_path]/app/android-support-v4.jar(;;;;;;!META-INF/MANIFEST.MF)] (No such file or directory) おそらくandroid-support-v4 を含んだ複数のライブラリを利用しているため(後述)発生するエラーかと思うのですが、正しい解消法がわかっておりません。 上記に対して有効な解決手段をご存じの方がいらっしゃいましたら教えて下さい。 ちなみに、ライブラリには、android-support-v7-appcompat および facebook を使用しており、 ライブラリプロジェクトととして import しております。 build.gradle 抜粋: dependencies { compile fileTree(dir: 'libs' include: ['*.jar']) compile project(':External:android-support-v7-appcompat') compile project(':External:facebook:facebook’) compile project(':External:PagerSlidingTabStrip:library') }
3120,javascript|html,これまで OpenLayers を使っていました。 訳あって今回、 Leaflet を使ってみようと思い、導入をしてみましたが、 Leaflet では getExtent 関数が使えない事がわかりました。 公式サイトのAPI を調べてみて、 var extent = map.getExtent().transform( new OpenLayers.Projection("EPSG:900913") new OpenLayers.Projection("EPSG:4326")); $('input[name="latmax"]').val(extent.top); $('input[name="latmax"]').val(extent.bottom); $('input[name="latmax"]').val(extent.right); $('input[name="latmax"]').val(extent.left); から $('input[name="latmax"]').val(L.latLngBounds(getNorth())); $('input[name="latmax"]').val(L.latLngBounds(getSouth())); $('input[name="latmax"]').val(L.latLngBounds(getEast())); $('input[name="latmax"]').val(L.latLngBounds(getWest())); へ変更してみたのですが、ReferenceError: getNorth is not definedとなってしまいます。 Reference　の使い方が間違っているは分かっているのですが、どうやったらいいのか分かりません。 どなたか教えていただけないですか？また、他の方法で構いませんので、 ・表示されている地図から緯度経度の最大値最小値を取得する方法 をご存知の方どなたかご教示お願い致します。
3136,android,CrashlyticsのMavenリポジトリから新しいFabricのリポジトリにした後、Gradleのビルドが信じられないほど遅くなりました。 この問題はGradleが依存関係を解決するうえで、FabricのMavenリポジトリが 401 Unauthorized を返しているので引き起こされているように見えます。 Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/recyclerview-v7/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/appcompat-v7/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/support-v4/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/google/android/gms/play-services/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/support-annotations/21.0.2/support-annotations-21.0.2.pom] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/mediarouter-v7/19.0.1/mediarouter-v7-19.0.1.pom] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/support-annotations/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/recyclerview-v7/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/appcompat-v7/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/android/support/support-v4/maven-metadata.xml] Failed to get resource: GET. [HTTP HTTP/1.1 401 Unauthorized: https://maven.fabric.io/repo/com/google/android/gms/play-services/maven-metadata.xml] 古いCrashlyticsのMavenリポジトリは 401 Unauthorized を返してきません。 何か解決策はあるでしょうか。 これは、実際に私が遭遇した問題を解決できたStack Overflowの質問を翻訳し、編集したものです。 android - Fabric maven repo causes slow gradle builds - Stack Overflow
3139,c#,UnityでC#を用いています。 独自クラスをリストで扱いたいのですが、要素を一行で追加しようとするとエラーが出てしまいます。 using UnityEngine; using System.Collections; using System.Collections.Generic; public class TEST : MonoBehaviour { public class test { public int    I; public float  F; public string S; } private List qwe = new List(); private List asd = new List(); void Start() { asd.Add("あああ"); test q = new test(); q.I = 1; q.F = 2.5f; q.S = "いいい"; qwe.Add(q); // バラバラなら追加できた qwe.Add (new test(2 3.5f "ううう")); // この方法でできるはず？ Debug.Log(asd[0]+"  "+qwe[0].S+"  "+qwe[1].S); Debug.Break(); } } 発生したエラーは次の３つです。 Assets/Scripts/TEST.cs(2451): error CS1729: The type `TEST.test' does not contain a constructor that takes `3' arguments Assets/Scripts/TEST.cs(2421): error CS1502: The best overloaded method match for `System.Collections.Generic.List.Add(TEST.test)' has some invalid arguments Assets/Scripts/TEST.cs(2421): error CS1503: Argument `#1' cannot convert `object' expression to type `TEST.test' サイト内のコードをコピーしたりもしたのですが、何故か動作しません。 正常に追加するにはどうしたら良いでしょうか？
3143,android,以前 Android 2.1 くらいに作成した Android アプリケーションで Intent intent = new Intent(); intent.setAction(Intent.ACTION_PICK); intent.setType(MediaStore.Audio.Media.CONTENT_TYPE); intent.setData(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI); と書いた場合に音楽を選択することができ、startActivityForResultでコンテンツプロバイダのIDデータなどを取得するアプリケーションを実装したのですが、 Android 5.0 で実行したところ、MP4 ファイル等は少数表示されるのですが以前のように音楽情報が選択できなくなっていました。 おそらく原因は音楽アプリケーションが Google Music に移行した為とは思いますが、どうやったら Google Music でも以前と同じ方法で選択・データベースの情報を取得できるのでしょうか？ ご教授願います。
3150,android,Android エミュレータ（avd）に proxy オプションを付けて起動しようとするとFATALエラーになって起動できません。proxy オプションを付けない場合は起動できます。 解決策はあるでしょうか。 C:\Users\jirolabo\AppData\Local\Android\sdk\tools\emulator.exe -avd Nexus_S_API_21 -netspeed full -netdelay none -http-proxy http://xxx:yyy@192.168.1.100:8080 Creating filesystem with parameters: Size: 69206016 Block size: 4096 Blocks per group: 32768 Inodes per group: 4224 Inode size: 256 Journal blocks: 1024 Label: Blocks: 16896 Block groups: 1 Reserved block group size: 7 Created filesystem with 11/4224 inodes and 1302/16896 blocks emulator: device fd:824 HAX is working and emulator runs in fast virt mode creating window 107 144 433 721 FATAL:.//android/base/sockets/SocketWaiter.cpp:89:Check failed: isValidFd(fd). fd 1332 max1024 Error accepting connection aborting エミュレータはAndroid Studio（バージョンは1.0.2 ）のメニューから AVD Manager > Create Virtual Device で表示される Virtual Device Configurationのダイアログで作成しました。 System Image は Lollipop、API Level:21、ABI:x86 です。
3160,php,symfonyのCrawlerを使ってxmlにノードを追加したいと思い下記のように実装しました。 //analyticsController.php use Symfony\Component\DomCrawler\Crawler; use Symfony\Component\CssSelector\CssSelector; public function analize() { $node = $this->generateDOMNode('ksj:station' 'xlink:href' ''); $crawler->filter('ksj|Dataset ksj|RailroadSection')->addNode($node); $stations = $crawler->filter('ksj|Dataset ksj|RailroadSection ksj|station')->extract('xlink:href'); var_dump($stations); } private function generateDOMNode($nodeName $attr $nodeValue){ $dom = new \DOMDocument(); $node = $dom->createElement($nodeName $nodeValue); $attribute = $dom->createAttribute($attr); $attribute->value = "hello"; $node->appendChild($attribute); return $node; } こちらを実行してもなぜか"hello"を返してくれません。 実際のxmlデータは下記のようななものです。 //railRoad.xml 23 5 沖縄都市モノレール線 沖縄都市モノレール 上記のxmlデータを下記のように変えたいと思っています。 23 5 沖縄都市モノレール線 沖縄都市モノレール hello よろしくお願い致します。
3172,ios,Accounts.frameworkを使って // Twitterアカウントを取得する処理 let accountStore = ACAccountStore(); let twitterAccountType = accountStore.accountTypeWithAccountTypeIdentifier(ACAccountTypeIdentifierTwitter); let handler : ACAccountStoreRequestAccessCompletionHandler = { (granted error) in if (!granted) { NSLog("拒否") self.showAlertMessage( "Twitterアカウントにアクセスできません" message: "設定 > プライバシー > Twitter からアクセスを許可してください") } } accountStore.requestAccessToAccountsWithType(twitterAccountType options: nil completion: handler); こんな感じでTwitterアカウントにアクセスできなかったらalertを出して、設定ボタンから設定画面に誘導しようと思っています。 UIApplication.sharedApplication().openURL(NSURL(string: UIApplicationOpenSettingsURLString)!); こんな感じに自分のアプリの設定画面を開くことはできますが、これだとTwitterの設定を変更する画面まで遠いので、 自分の設定画面に位置情報の許可のようにTwitterの設定をおいたりとか、なにかTwitterの設定へ誘導する良い方法はできないものでしょうか？
3178,javascript|java,Webアプリの負荷テストをするために、JMeterでテスト計画を作っているのですが、 WebアプリのPOSTデータでUUIDをランダムにPOSTする必要があるため、BSF PreProcessorでUUIDをランダム生成し、POSTの中で使おうとしています。 複数回のHTTPリクエストで同じUUIDを使ってPOSTしてほしいのですが、なぜかPreProcessorが何度も実行されているようで、UUIDがHTTPリクエスト毎に変わってしまう問題にぶち当たりました。 テスト計画の構成は スレッドグループ －Pre Processor（この中でJavaScriptを使ってUUIDをランダム生成しvars.putでパラメータ化。パラメータ名は連番を与える） －ユーザーパラメータ（ユーザー毎の値を設定。authkeyなど） －HTTPリクエスト（JSONをPOST。ここで連番のパラメータ名のUUIDを使う。） －ループコントローラ －－HTTPリクエスト（上記のPOSTに関連したJSONをPOST。この際に同じUUIDを使う。ループのカウントで連番のパラメータ名を指定） です。 ループ内のUUIDが変わってしまうため、POSTデータの関連性が失われてWebアプリのテストが正常に行えないのです。 UUIDを最初のリクエストで全部投げて、以降のループでUUID毎に１つずつ詳細内容をPOSTするため、パラメータ名は連番です。（例：UUID1 UUID2....） なのでユーザーパラメータで${__UUID()}を使って羅列するのは非常に厳しいです。 ググってみても、Pre Processorの挙動について書かれた記事が見当たりません。 どなたか解決策を知っている方、教えてください。 よろしくお願いします。
3180,ios,はじめまして。 Objective-C での同期通信処理で JSON ファイルのやりとりを行いたいのですが、 具体的にどの方法が良いのかわかりません。 AFNetworkingを使わない方法が知りたいです。 Google で検索するも色々なやり方があり迷ってます。 ご教授、宜しくお願い致します。
3181,android,ActivityにTheme.AppCompat.Light.Dialogのテーマを適用してダイアログを実装しています。 下図に赤く示しているオーバーレイ領域の色をもう少し暗くしたいと思うのですが、ここの色を指定することはできるのでしょうか？
3188,ios,XCode 5で作ったプロジェクトをXCode 6で開いたら、こちらのエラーが出ていてビルド出来ません。 解決策をご教授願います。 clang: error: no such file or directory: '/Users/username/Documents/XCode/Projects/Projects/CollecCell.m' clang: error: no input files Command /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang failed with exit code 1 試行錯誤してみましたがお手上げです。よろしくお願いします。
3191,php,度々失礼します。 データベース(MySQL)にOR検索をかけて、結果の一覧を表示するプログラムを作っています。 質問の内容が前回と似通っているとは思いましたが、今回は前回解決した内容をコードに組み込んだ状態で の事でしたので再度質問をさせていただきました。 また、今回は前回とコードの書き方に違いが多くあるのでそちらも再度質問をさせていただいた理由になります。 テーブル名：goods カラム名：name カラムの内容：りんご　バナナ　みかん　りんす　ミカルゲ SQL文を作成するところまではできていると思うのですが、どう表示させたら良いのかが分かりません。 while文を配列の個数分回して、中でforeachを使って表示するのかと思って以下のコードを書いてみたのですが、結果は「データベースに登録がありました」と出るもののデータ自体は表示されません。 前回解決した時の原因として、echoが足りなかったところにはecho(自分はprintです)を、SQL文の必要な部分に半角スペースを入れていなかったことによるエラーに関しても必要部分に半角スペースを入れて対処してあります。 ページタイトル "SET NAMES utf8")); //プリペアドステートメントのエミュレーションを無効にする $pdo->setAttribute(PDO::ATTR_EMULATE_PREPARESfalse); //エラーが発生した場合、例外がスローされるようにする $pdo->setAttribute(PDO::ATTR_ERRMODEPDO::ERRMODE_EXCEPTION); //検索結果 if($datalist <> ""){//検索窓が空なら検索しない //単ワードでの検索時 if($count == 1){ $datalist2 = '%'.$datalist.'%'; //検索文字列を%検索文字%とする $stmt = $pdo->prepare("SELECT * FROM goods WHERE name LIKE :datalist"); $stmt->bindParam(':datalist'$datalist2PDO::PARAM_STR); $stmt->execute(); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); } }//OR検索時 elseif($count > 1){ $stmt = $pdo->prepare($query); for($i=0; $i<$count; $i++){ //検索ワードの数だけ繰り返す $keyword2[$i] = '%'.$keyword.'%';   //検索ワード1つ1つを%検索文字%にする $holder = ':datalist'.$i;   //ホルダー用 $stmt->bindParam($holder$keyword2[$i]PDO::PARAM_STR); } $stmt->execute(); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); } if(count($result) == 0){ print '「'.h($data).'」はデータベースに登録がありません'; }else{ print '「'.h($data).'」はデータベースに登録がありました'; ?> 検索結果 商品名 価格 count($result)){ foreach ($result as $row){ ?> '; } //接続でいない場合、PDOException例外がスローされるのでキャッチする }catch(PDOException $e){ print 'エラーが発生しました。。　内容：' . h($e->getMessage()); } } ?> 検索したい文字列を入力 それと些細なことなのですが、 $query = $query.$sql; この部分でUndefined variable: sql というエラーが出てしまいます。 $sqlが定義されていないというエラーだと思うのですが、上のfor文の中のif文で既に使われているので原因が分かっていません。 こちらについてもよろしければご指摘ください。 よろしくお願いします。
3199,c#,WPF、Windows Forms問わずに共有されるライブラリ(dll)があるとして、 そのライブラリを呼び出したEXEがWPFなのか、フォームなのか、コンソールなのかを判定する方法は、ありませんか？ リフレクションを使用する方法でも構いません。 [開発環境] C# 6.0 .NET 4.5.1 VS2015 Preview
3225,python,こちらの記事Download search queries data using Pythonを参考にOSX 10.10.1でWebMaster Toolsで取得できる検索クエリデータのCSVダウンロードを試しています。 このサンプルで（example-create-spreadsheet.py）はスプレッドシートへの保存を例にしていますが、gitにダウンロードを行う別のサンプル（example-simple-download.py）が用意されておりこちらを使ってダウンロードすることができました。 ただ、このソースでは期間指定ができず当方Python、Data APIともにほとんど知識が無くそもそも期間指定が可能なのか、またはData APIに指定を加えることで可能になるのかご教示いただけないかと思い質問しました。可能であれば、example-simple-download.py及びdownloader.pyに追記する形で例を示していただけるととても有り難いです。 期間指定についてphpにはなりますがこちらGWTdata: Download website data from Google Webmaster Tools as CSV.のSetDaterangeの項で日付指定が行えているようで指定はできるのではないかと考えております。 よろしくお願いします。
3229,android|java,Androidで位置情報を利用するアプリを作っているのですが、端末の位置情報を利用する設定がオフになっている場合にダイアログを出す処理を作りたいです。 端末の位置情報が有効になっているかどうかをJavaのプログラムで取得するにはどうしたら良いのでしょうか？
4228,ios,iOSでUIViewのアニメーションでは、view自体の位置やアルファ、色などのアニメーションが使えるのは分かりました。 アプリを利用していると他にも多彩なアニメーションがあると思います。 想定しているのはゲームなどではなく、ちょっとしたツールのアプリの中でリッチさを出すためのアニメーションについてです。 どのような形式のファイルを使うことが出来て、どのような選択肢、手法がありますか？ 例えば、 ①画像の細かい繰り返しの動きがあるようなアニメーションではgifアニメーションを使うのでしょうか？ ②Lineツムツムのオープニングムービーのようなものは動画でしょうか？一般的にアプリに使う動画圧縮形式はなんでしょうか？ ③ゲームなどのアプリの起動時に、開発会社のロゴなどがアニメーションするようなものは動画でしょうか？ など 参考になりそうな情報があまり見つかりませんでしたので、相談させてください。 iOS7以上を想定しています。
4229,javascript|ios,iOS8 で利用できるようになった WKWebView を利用しています。 ページ読み込み完了時に実行される JavaScript で、 要素の入力欄にフォーカスを当ててキーボードを出したいです。 しかしデフォルトでは、ユーザーのアクションなくキーボード入力を呼び出すことは出来ないようです。 UIWebView であれば keyboardDisplayRequiresUserAction プロパティに NO をセットすることで ユーザーのアクションが無くても入力欄にフォーカスを当てることが可能になりましたが、 WKWebView には keyboardDisplayRequiresUserAction のような設定が見当たりません。 `WKWebView で、ユーザーアクションが無い状態での入力欄へのフォーカスを許可する方法はあるのでしょうか。
4241,javascript|jquery|html,例えば、name属性がtitleであるinputタグを内包しているliタグは、ulタグ内で何番目に位置するか という情報を取得したいとき、どのようなJavaScriptを記述すれば実現できるのか良いアイディアが出ません。 どなたかご教授いただければ幸いです。 1 2 3 4 5
4250,ios|c++,XCode 6.1.1 で boost-1.57.0 を利用した iOS 向けのアプリを製作しています。 iOS シュミレータ iPhone 5s 6 6Plus iPad Airでビルドする際には問題ないのですが、他シュミレータ、Deviceでビルドすると以下のような警告と大量の referenced from エラーが出てビルドできません。 他シュミレータでビルドした場合 Undefined symbols for architecture i386: Device(iPhone 5S)でビルドした場合 ld: warning: ignoring file /Users/Himatya/src/boost/lib/libboost_serialization.a file was built for archive which is not the architecture being linked (arm64): /Users/Himatya/src/boost/lib/libboost_serialization.a Undefined symbols for architecture arm64: どうすればビルドできるようになるでしょうか。
4261,ios,コードを整理する目的でUIAlertControllerを使った独自クラスを作りたいと思っています。 限定的な内容なので、OriginalAlertController内に要素（テキストやアクションなど）は全て突っ込んでおいて、あとは初期化するだけにできればと思っていました。 例えば利用するのViewControllerから下記のように呼び出したいです。 let alertController = OriginalAlertController() presentViewController(alertController animated: true completion: nil) そこで下記のようなクラスを作ろうかとしましたが、「must call a designated initializer of the superclass」のエラーが発生します。 import UIKit class OriginalAlertController: UIAlertController{ let titleStr = "タイトル" let messageStr = "メッセージ" override init() { super.init(title: self.titleStr message: self.messageStr preferredStyle: .Alert) // Error: Must call a designated initializer of the superclass } required init(coder aDecoder: NSCoder) { fatalError("init(coder:) has not been implemented") } } 調べるとconvenience initializerは呼べないということでしたが、 どのようにすれば同じような目的を達成できそうでしょうか？
4265,c++,3dsMax2015で作成したデータのライトを取得してプログラムで表示したいのですが、 Autodeskのヘルプを見てもアロー演算子を使っても位置情報がどこに入っているのかがわかりません… 誰か是非、どこに位置情報が格納されているのか教えてください！ ライトはポイントライトです。 開発ソフトはVisual Studio 2010で、 C++を使用しています。
4271,ios,現在アニメーションに関する実装をしており、フェードインしながら画像が切り替わるアニメーションがスタートし、数秒経った後にフェードアウトしてアニメーションが終了するという処理をしようとしているのですが、アニメーションの設定を無限リピートにしており、フェードアウト後にもう一度アニメーションがスタートしてしまいます。なので、フェードアウトした後に画像を画面から消そうとしているのですが、それがうまくいきません。下記のように実装してもアニメーションがスタートした段階でcompletion:^(BOOL finished){以下が呼ばれてしまいます。 [UIView animateWithDuration:0.5f delay:0.5f options:UIViewAnimationOptionCurveEaseIn animations:^{ [self imageFade:_imageView fadeIn:0 fadeOut:1 delay:0]; _imageView.animationImages = imageList; _imageView.animationDuration = _duration; _imageView.animationRepeatCount = 0; [_imageView startAnimating]; } completion:^(BOOL finished){ [_imageView removeFromSuperview]; }]; アニメーションの終了を検知するにはどうすればよろしいでしょうか？ ちなみにanimationsブロックにあるimageFadeメソッドは以下のようになっており、フェードインとフェードアウトを開始する時間をし、フェードアウトが終わればimageviewをviewから削除するという処理を行っています。 - (void)imageFade:(UIImageView *)imageView fadeIn:(int)fadeIn fadeOut:(int)fadeOut delay:(int)delay { imageView.alpha = fadeIn; [UIView animateWithDuration:1 delay:delay options:UIViewAnimationOptionCurveEaseIn animations:^{ imageView.alpha = fadeOut;} completion:^(BOOL finished){ [self imageFade:_imageView fadeIn:1 fadeOut:0 delay:_fadeDelay]; dispatch_after(dispatch_time(DISPATCH_TIME_NOW _finishDelay * NSEC_PER_SEC) dispatch_get_main_queue() ^{ [_imageView removeFromSuperview]; }); }]; }
4284,ios,先ほどAppleのDeveloper登録を済ませて実機でアプリを動かそうとしたのですが、No signing identity foundというエラーが出てしまいます。No signing identity foundエラーが出てきたダイアログにあるFix Issueというボタンを押すと、今度はYour account already has a valid certificateというエラーが表示されます。そしてYour account already has a valid certificateエラーが表示されているダイアログのRevoke and Requestというボタンを押すと、Cannot find a matching certificate to revokeというエラーが出て、結果実機で動かすことができませんでした。xcodeのpreferenceでApple IDを確認すると、iOSの項目が「Member」になっています。これは登録はできているということなのでしょうか？ちなみにDeveloper登録は知人に招待してもらって登録しました。現在使っているXcodeのバージョンは6.1.1です。 また、iOS Developer CenterのiOS Certificates内の自分のアカウントのExpiresがチーム内で一人だけPending Approvalとなっています。これも原因の一つでしょうか？
4291,c#,自作 SRPG ゲームのデータを、 Entity Framework の Code-First でデータベースに保存しています。テーブルは Character Item Weapon Equipment などです（中身は名前から想像できるようなもの）。 概ね順調に実装できていたのですが 1 点どうしても解決できません。 それは SaveChanges() を呼ぶまでオートインクリメントの ID が発番されず 0 のままな事です。 SRPG の場合は途中でセーブしないためゲーム中はすべて .Local キャッシュに対してのみ読み/書き/挿入/削除します。そうすると途中で入手したアイテムをデータベースに挿入しても ID=0 のままになり一意なアイテムID を期待するプログラムから (セーブするまで）利用できません。このまま削除できないことがあると一番困ります。 ゲームで Entity Framework を利用するときに誰もが困ると思うのですが、どのような解決方法が考えられるでしょうか。
4294,ios,App Store にアプリをリリース後、本番のストアからそのアプリをダウンロードします。すると、アプリ内の一部の画像が正しく表示されず、ローディング画像 (Activity Indicator) がずっと表示される状況です。 アーカイブした時点でビルドした際は、正常に表示できていました。 （ Apple の審査も無事に通過しています） ストアからダウンロードした場合にだけ発生する現象に頭を抱えています。 何かアドバイスなどいただければ幸いです。 ■ 使用した環境 XCode 6.1.1 Objective-C ■ 該当箇所の特徴 ある写真を一覧表示するUIがある コレクションビューを使用して、タイル状に画像を並べる タイル状に並んだ画像はAPIを叩いて一覧のURLを取得 取得したURLを元に画像をコレクションビュー内部に imageView として表示 ■ View の構成 collectionView の中に cell を配置 cell の中には Activity Indicator が下になるように ImageView を配置 表示する際に、 SDWebImage を使用 実装はこんな感じ [imageView setImageWithURL:imageURL placeholderImage:nil options:SDWebImageCacheMemoryOnly completed:^(UIImage *image NSError *error SDImageCacheType cacheType) { [UIView transitionWithView:weakImageView duration:0.4 options:UIViewAnimationOptionTransitionCrossDissolve | UIViewAnimationOptionCurveLinear | UIViewAnimationOptionAllowUserInteraction animations:nil completion:nil]; }]; 順番に表示させるために duration:0.4 を付けています。 タイル状の画像をタップすると、Navigation Controller で詳細にサムネイル画像を大きく表示。 一覧の画像の背景にはローディング画像 (Activity Indicator) があり、画像が表示されるまでにローディング画像が表示されます。 ■ 補足 次の3つの端末で検証しましたがすべて同じ状況でした。 iPhone66+ 、 iPhone5S（すべて iOS 8.1 以上）ただし、 iPhone4S (iOS 7.0.2) だけは問題なく表示されました。
4296,php,失礼します。 explode() で半角スペースを区切り文字として入力された文字列を配列に格納しようと思っています。 入力された文字列：「り す」 配列：(［0］り［1］す) 上のような状態に持って行きたいです。 伝わっているでしょうか？ explode() を使用している部分のコードはこちらです。 //三項演算子で検索文字列の有無を判定し処理 $data = isset($_POST['data']) ? trim($_POST['data']) : ''; //OR検索 $query = 'SELECT * FROM goods WHERE ';  //クエリ前半 $sql =""; if($data){ $count = 1; //カウントを１にしておく //全角スペースはmb_convert_kana()関数で半角スペースに変換 $datalist = mb_convert_kana($data 's'); //print $datalist.''; //複数キーワードでの検索 //if(stristr($datalist" ")){ //検索ワードをスペースで分割して配列に格納 $keyword = explode(" "$datalist); コメントアウトの部分は確認用だったり必要か不要かが個人的に曖昧なものを残してあるだけなので無視してくださって構わないかと思います。 現在の状態では、「り す」と入力すると配列の中身は([0]り す)となってしまいます。 なお、文字コードセットはUTF8の状態でファイルを保存してあります。 MySQL が UTF8 で文字化けしてしまうということもあるので、これも原因なのではと思っていますが解決法が見つかりません。 どこが間違っているでしょうか？ よろしくお願いします。 念の為に全コードを載せておきます。 '; //複数キーワードでの検索 //if(stristr($datalist" ")){ //検索ワードをスペースで分割して配列に格納 $keyword = explode(" "$datalist); //print_r ($keyword); //配列の数を数える $count = count($keyword); //空スペースで区切られた数によってSQL文を組み立てる for($i=0; $i<$count; $i++){//配列の数だけ繰り返す if($i!="0"){ $sql = $sql." OR"; } $sql = $sql." name LIKE :keyword "; } //} }else{ $count = 0; } //SQL文準備 $query = $query.$sql; ?> ページタイトル "SET NAMES utf8")); //プリペアドステートメントのエミュレーションを無効にする $pdo->setAttribute(PDO::ATTR_EMULATE_PREPARESfalse); //エラーが発生した場合、例外がスローされるようにする $pdo->setAttribute(PDO::ATTR_ERRMODEPDO::ERRMODE_EXCEPTION); //検索結果 if($datalist <> ""){//検索窓が空なら検索しない //単ワードでの検索時 if($count == 1){ $datalist2 = '%'.$datalist.'%'; //検索文字列を%検索文字%とする $stmt = $pdo->prepare("SELECT * FROM goods WHERE name LIKE :datalist"); $stmt->bindParam(':datalist'$datalist2PDO::PARAM_STR); $stmt->execute( ); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); }//OR検索時 elseif($count > 1){ $stmt = $pdo->prepare($query); for($i=0; $i<$count; $i++){ //検索ワードの数だけ繰り返す $keyword2[$i] = '%'.$keyword.'%';   //検索ワード1つ1つを%検索文字%にする $holder = ':keyword'.$i;    //ホルダー用 $stmt->bindParam(':holder'$keyword2[$i]PDO::PARAM_STR); } $stmt->execute( ); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); } } if(count($result) == 0){ print '「'.h($data).'」はデータベースに登録がありません'; }else{ print '「'.h($data).'」はデータベースに登録がありました'; ?> 検索結果 商品名 価格 '; } //接続でいない場合、PDOException例外がスローされるのでキャッチする }catch(PDOException $e){ print 'エラーが発生しました。。　内容：' . h($e->getMessage()); } } ?> 検索したい文字列を入力
4312,c#,textfile_001.txt のような数字３桁の連番を含んだファイル名を生成したいです。 単に連番を生成するのではなく、作成先のフォルダ内を検索して同じパターンのファイル名があったら連番の最大値＋１でファイル名を生成したい。 たとえば、フォルダが空の時は、textfile_001.txt フォルダに textfile_001.txt textfile_002.txt がある時は、textfile_003.txt フォルダに textfile_001.txt datafile_002.dat がある時は、textfile_002.txt（datafile_002.dat はファイル名のパターンが違うので無視） という感じです。 どのようにコーディングすればよいでしょうか。
4317,ios,iOSでau WALLETというアプリに、Touch IDを利用する認証画面があります。 そこで直接パスコードを入力してロックを解除することもできます。 ここでTouch IDから出す「パスコード直接入力ビュー」とはカスタマイズで実装したものですか？ iPhoneのシステムロック画面ですか？ ネットで色々調べましたがシステムのロック画面を呼び出す方法はなさそうです。 ＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ テスト用で実装したソースを共有致します。 参照： [参照1]https://developer.apple.com/library/ios/samplecode/KeychainTouchID/Introduction/Intro.html [参照2]https://www.secsign.com/fingerprint-validation-as-an-alternative-to-passcodes/ // show the authentication UI with our reason string LAContext *context = [[LAContext alloc] init]; __block  NSString *msg; [context evaluatePolicy:LAPolicyDeviceOwnerAuthenticationWithBiometrics localizedReason:NSLocalizedString(@"UNLOCK_ACCESS_TO_LOCKED_FATURE" nil) reply: ^(BOOL success NSError *authenticationError) { if (success) { msg =[NSString stringWithFormat:NSLocalizedString(@"EVALUATE_POLICY_SUCCESS" nil)]; } else { msg = [NSString stringWithFormat:NSLocalizedString(@"EVALUATE_POLICY_WITH_ERROR" nil) authenticationError.localizedDescription]; if (authenticationError.code == LAErrorUserFallback) { // The identifier and service name together will uniquely identify the keychain entry. NSString * keychainItemIdentifier = @"fingerprintKeychainEntry"; NSString * keychainItemServiceName = @"com.secsign.secsign"; // Determine a string which the device will display in the fingerprint view explaining the reason for the fingerprint scan. NSString * secUseOperationPrompt = @"Authenticate for server login"; // The keychain operation shall be performed by the global queue. Otherwise it might just nothing happen. dispatch_async(dispatch_get_global_queue( DISPATCH_QUEUE_PRIORITY_DEFAULT 0) ^(void) { // Create the keychain query attributes using the values from the first part of the code. NSMutableDictionary * query = [[NSMutableDictionary alloc] initWithObjectsAndKeys: (__bridge id)(kSecClassGenericPassword) kSecClass keychainItemIdentifier kSecAttrAccount keychainItemServiceName kSecAttrService secUseOperationPrompt kSecUseOperationPrompt nil]; // Start the query and the fingerprint scan and/or device passcode validation CFTypeRef result = nil; OSStatus userPresenceStatus = SecItemCopyMatching((__bridge CFDictionaryRef)query &result); // Ignore the found content of the key chain entry (the dummy password) and only evaluate the return code. if (noErr == userPresenceStatus) { NSLog(@"Fingerprint or device passcode validated."); } else { NSLog(@"Fingerprint or device passcode could not be validated. Status %d." (int) userPresenceStatus); } // To process the result at this point there would be a call to delegate method which // would do its work like GUI operations in the main queue. That means it would start // with something like: //   dispatch_async(dispatch_get_main_queue() ^{ }); } } [self printResult:self.textView message:msg]; }];
4325,php,PHP スクリプトを実行しようとしたら下記のエラーが出てきます： WARNING: is_readable() [function.is-readable]: open_basedir restriction in effect. File(/usr/share/php/Am/View/Helper/HeadScript.php) is not within the allowed path(s): (/home/1205915141/members-net/:/tmp:/usr/share/pear/) in line 198 of file /home/1205915141/membersnet/public_html/library/Zend/Loader.php サーバーの管理者に聞いたら、open_basedirをセキュリティ上変更ができないといわれて、こっちでhtaccessを使って下記のように解除しようとしていますが、だめのようです。 php_value open_basedir  /usr/share/php/ パスが間違ってるか、書き方自体が間違ってるか分かりませんが、どうしてもうまくいかないので教えていただければ幸いです。
4331,android|java,現在パケット使用量を取得するアプリを作成しており、2点わからない個所がありました。この場をお借りして、質問させていただきます。 TrafficStats のリセットについて パケット量の取得を、以下の様な方法で取得しております。 TrafficStats.getMobileRxBytes() + TrafficStats.getMobileTxBytes() 日付が変更された際、 TrafficStats の情報をリセットしたいのですが、方法が見つかりませんでした。 TrafficStats の情報をリセットする方法は、ありますか？ TrafficStats.getUidRxBytes(uid) について 各アプリ毎のパケット使用量は、TrafficStats.getUidRxBytes(uid) で取得しております。取得した値を見てみると、 WiFi の使用した通信も含まれているように感じます。 Mobile 通信だけ取得する方法は、ありませんか？ 何卒よろしくお願いいたします。
4339,javascript|jquery|html,event.target には click などのイベント発生時にイベント発生元のDOM要素がセットされていると思いますが、jQuery の ajax() を非同期で実行した場合は XMLHttpRequest オブジェクトが入っていました。 変数の値がDOM要素の場合だけ特定の処理を行いたいです。 event.target に限らず、変数・プロパティに設定されている値がDOM要素かどうかはどのようにしたら判定できるでしょうか？ ちなみに、typeof(event.target) はclickイベントの時も、ajax()の時もobject でした。
4355,android|java,Android アプリで､アプリを起動したタイトル画面にて効果音を自動的に鳴らしたいのですが､どのようにすればよいのでしょうか｡検索をしてみたのですが､ボタンを押した時のコードは出てくるものの、自動的にというものはないので、教えていただきたいです｡ private SoundPool mSoundPool; private int mSoundId; @Override protected void onStart() { // TODO 自動生成されたメソッド・スタブ super.onStart(); mSoundPool = new SoundPool(1 AudioManager.STREAM_MUSIC 0); mSoundId = mSoundPool.load(this R.raw.wolf 1); } @Override protected void onResume() { // TODO 自動生成されたメソッド・スタブ super.onResume(); mSoundPool.play(mSoundId 1 1 0 0 1); } @Override protected void onPause() { // TODO 自動生成されたメソッド・スタブ super.onPause(); mSoundPool.release(); } このように書いて見たのですが､アプリ起動しただけでは音が出ません｡ ちなみにボタンクリックでは音が出ました｡
4364,android|java,androidアプリで､TableRowを動的に作成しようと思い､次のコードを書いたのですが､何故かpositionの列だけ表示されません｡ //main.class ViewGroup vg = (ViewGroup)findViewById(R.id.tb_finish); for(int i=0; i //table_row_3 以下がgetPosition()です｡ public String getPosition(Context context){ switch (this.position) { case 0: return context.getString(R.string.civilian); case 1: return context.getString(R.string.diviner); case 2: return context.getString(R.string.mystic); case 3: return context.getString(R.string.knight); case 4: return context.getString(R.string.freemason); case 5: return context.getString(R.string.monstercat); case 6: return context.getString(R.string.werewolf); case 7: return context.getString(R.string.fanatic); case 8: return context.getString(R.string.vampire); default: return "hoge"; } このメソッドはPlayerというクラスのメソッドです｡  PlayerはActivityを継承していません｡
4367,c#,http://codezine.jp/article/detail/6091 にあったサンプルコードをほぼそのまま使用したのですが、四角形の描写が行われません。 原因がよくわらないです。よろしくお願いします。 MainWindow.xaml MainWindow.xaml.cs namespace touch_test { /// /// MainWindow.xaml の相互作用ロジック /// public partial class MainWindow : Window { public MainWindow() { InitializeComponent(); } private void Canvas_TouchDown(object sender TouchEventArgs e) { // 四角形用変数 Rectangle rect = new Rectangle(); // 四角形の幅と高さを設定 rect.Width = 50; rect.Height = 50; // 乱数を使用して色を作成 Random r = new Random(); byte alpha = (byte)128; byte red = (byte)r.Next(0 256); byte green = (byte)r.Next(0 256); byte blue = (byte)r.Next(0 256); // 作成した色で四角形を塗りつぶす rect.Fill = new SolidColorBrush(Color.FromArgb(alpha red green blue)); // ★★★タッチされた位置を取得★★★ var tp = e.GetTouchPoint(Canvas); // 四角形を描画する位置をタッチされた位置にする rect.RenderTransform = new TranslateTransform(tp.Position.X - rect.Width / 2 tp.Position.Y - rect.Height / 2); // 作成した四角形をcanvas1に追加（表示）する Canvas.Children.Add(rect); } private void Canvas_MouseDown(object sender MouseButtonEventArgs e) { // 四角形用変数 Rectangle rect = new Rectangle(); // 四角形の幅と高さを設定 rect.Width = 50; rect.Height = 50; // 乱数を使用して色を作成 Random r = new Random(); byte alpha = (byte)128; byte red = (byte)r.Next(0 256); byte green = (byte)r.Next(0 256); byte blue = (byte)r.Next(0 256); // 作成した色で四角形を塗りつぶす rect.Fill = new SolidColorBrush(Color.FromArgb(alpha red green blue)); // ★★★タッチされた位置を取得★★★ var tp = e.GetPosition(Canvas); // 四角形を描画する位置をタッチされた位置にする rect.RenderTransform = new TranslateTransform(tp.X - rect.Width / 2 tp.Y - rect.Height / 2); // 作成した四角形をcanvas1に追加（表示）する Canvas.Children.Add(rect); } } }
4377,jquery,FullCalendar について教えてください。 いくつかのサイトを参考にしてセットアップをしました。 （参考サイト）jQueryのFullCalendarが素敵 予定を新規登録したりドラッグしてずらしたりしても、F5で再読込を行うと元に戻ってしまい、スケジュール登録前に戻ってしまいます。公式のデモもドラッグして予定をずらしてもF5で再読込すると元に戻ってしまいますよね？ これは、登録したスケジュールがサーバサイドに保存できていないためではと考えているのですが、サーバサイドに保存し、複数人でイベントを共有するような使い方をするためにはどうしたらよいのでしょうか？
4396,php,データベースに以下の3つのテーブルを作る。 create table users( id int not null auto_increment primary key name varchar(50) comment_id varchar(50) created datetime not null modified datetime not null); create table comments( id int not null auto_increment primary key name varchar(50)); create table groups( id int not null auto_increment primary key name varchar(50)); cake bake all app/Console/cake bake model all app/Console/cake bake controller all app/Console/cake bake view all app/Controller/UsersController.php User->recursive = 0; $this->set('users' $this->Paginator->paginate()); } public function view($id = null) { if (!$this->User->exists($id)) { throw new NotFoundException(__('Invalid user')); } $options = array('conditions' => array('User.' . $this->User->primaryKey => $id)); $this->set('user' $this->User->find('first' $options)); } public function add() { if ($this->request->is('post')) { $this->User->create(); //Edit from here if ($this->request->data['User']['comment_id']['group_id'] !== '') { $csv = implode('' $this->request->data['User']['comment_id']['group_id']); $this->request->data['User']['comment_id']['group_id'] = $csv; } else { $this->request->data['User']['comment_id']['group_id'] = ''; } //Edit far if ($this->User->save($this->request->data)) { $this->Session->setFlash(__('The user has been saved.')); return $this->redirect(array('action' => 'index')); } else { $this->Session->setFlash(__('The user could not be saved. Please try again.')); } } $comments = $this->User->Comment->find('list'); $groups = $this->User->Group->find('list'); $this->set(compact('comments' 'groups')); } public function edit($id = null) { if (!$this->User->exists($id)) { throw new NotFoundException(__('Invalid user')); } if ($this->request->is(array('post' 'put'))) { //Edit from here if ($this->request->data['User']['comment_id']['group_id'] !== '') { $csv = implode('' $this->request->data['User']['comment_id']['group_id'])); $this->request->data['User']['comment_id']['group_id'] = $csv; } //Edit far if ($this->User->save($this->request->data)) { $this->Session->setFlash(__('The user has been saved.')); return $this->redirect(array('action' => 'index')); } else { $this->Session->setFlash(__('The user could not be saved. Please try again.')); } } else { $options = array('conditions' => array('User.' . $this->User->primaryKey => $id)); $this->request->data = $this->User->find('first' $options); } $comments = $this->User->Comment->find('list'); $groups = $this->User->Group->find('list'); $this->set(compact('comments' 'groups')); } public function delete($id = null) { $this->User->id = $id; if (!$this->User->exists()) { throw new NotFoundException(__('Invalid user')); } $this->request->allowMethod('post' 'delete'); if ($this->User->delete()) { $this->Session->setFlash(__('The user has been deleted.')); } else { $this->Session->setFlash(__('The user could not be deleted. Please try again.')); } return $this->redirect(array('action' => 'index')); } } app/View/Users/add.ctp Form->create('User'); ?> Form->input('name'); echo $this->Form->input('comment_id' array( 'type' => 'select' 'options' => $comments 'multiple' => 'checkbox' )); echo $this->Form->input('group_id' array( 'type' => 'select' 'options' => $groups 'multiple' => 'checkbox' )); ?> Form->end(__('Submit')); ?> Html->link(__('List Users') array('action' => 'index')); ?> Html->link(__('List Comments') array('controller' => 'comments' 'action' => 'index')); ?> Html->link(__('New Comment') array('controller' => 'comments' 'action' => 'add')); ?> Html->link(__('List Groups') array('controller' => 'groups' 'action' => 'index')); ?> Html->link(__('New Group') array('controller' => 'groups' 'action' => 'add')); ?> app/View/Users/edit.ctp Form->create('User'); ?> Form->input('id'); echo $this->Form->input('name'); echo $this->Form->input('comment_id' array( 'type' => 'select' 'options' => $comments 'multiple' => 'checkbox' 'value' => explode('' $this->data['User']['comment_id']) )); echo $this->Form->input('group_id' array( 'type' => 'select' 'options' => $groups 'multiple' => 'checkbox' 'value' => explode('' $this->data['User']['group_id']) )); ?> Form->end(__('Submit')); ?> Form->postLink(__('Delete') array('action' => 'delete' $this->Form->value('User.id')) array() __('Are you sure you want to delete' $this->Form->value('User.id'))); ?> Html->link(__('List Users') array('action' => 'index')); ?> Html->link(__('List Comments') array('controller' => 'comments' 'action' => 'index')); ?> Html->link(__('New Comment') array('controller' => 'comments' 'action' => 'add')); ?> Html->link(__('List Groups') array('controller' => 'groups' 'action' => 'index')); ?> Html->link(__('New Group') array('controller' => 'groups' 'action' => 'add')); ?> データベースに保存時グループIDがArrayになりCSVで保存できません。 $values = array( (int) 0 => 'testuser01' (int) 1 => '1234' (int) 2 => array( (int) 0 => '1' (int) 1 => '2' (int) 2 => '3' ) (int) 3 => '2015-01-11 04:41:20' (int) 4 => '2015-01-11 04:41:20' ) $id = null $count = (int) 5 $i = (int) 5 $valueInsert = array( (int) 0 => ''testuser01'' (int) 1 => ''1234'' (int) 2 => array( (int) 0 => ''1'' (int) 1 => ''2'' (int) 2 => ''3'' ) (int) 3 => ''2015-01-11 04:41:20'' (int) 4 => ''2015-01-11 04:41:20'' ) $fieldInsert = array( (int) 0 => '`name`' (int) 1 => '`comment_id`' (int) 2 => '`group_id`' (int) 3 => '`modified`' (int) 4 => '`created`' ) 以下のようにグループIDもCSVで保存できないのでしょうか。 $values = array( (int) 0 => 'testuser01' (int) 1 => '1234' (int) 2 => '123' (int) 3 => '2015-01-11 04:41:20' (int) 4 => '2015-01-11 04:41:20' ) $id = null $count = (int) 5 $i = (int) 5 $valueInsert = array( (int) 0 => ''testuser01'' (int) 1 => ''1234'' (int) 2 => ''123'' (int) 3 => ''2015-01-11 04:41:20'' (int) 4 => ''2015-01-11 04:41:20'' ) $fieldInsert = array( (int) 0 => '`name`' (int) 1 => '`comment_id`' (int) 2 => '`group_id`' (int) 3 => '`modified`' (int) 4 => '`created`' )
4410,c++,現在、C++/CLIを使ったアプリケーションを作成しています。 C++/CLIでDLLを作成し(CライクにDllexport構文を使っての関数公開です) そのDLLをネイティブCとWin32で作成したアプリケーションが呼び出しています。 呼び出し側は、MTオプションでCランタイムと依存関係が削除できますが、C++/CLIの場合、MTオプションは適応できないので、なんとかしてCランタイムとの依存関係を削除したいのです。 何か良い方法があれば、ご教授ください。
4428,ios,iOS8でカメラを使ったアプリの開発をしているおり、実機でのテストが不可欠な状況です。 起動時にAVAuthorizationStatusを調べて、その対応を行うようにしているのですが、 一度、実機でテストを行ってしまうと、 その後、アプリアイコンを長押しして、アプリを削除しても、 アプリにひも付けられたAuthorizedStatusが残っているようで、 AVAuthorizedStatus.NotDetermind の状態をテストすることができません。 シミュレーターなら、リセットすると、AuthorizedStatusがクリアされるようですが、 テストとは言え、使用する実機は実生活で使用しているものでもあり、その度に 実機をクリアするのは、実質的に無理な状況です。 なにかよい解決方法はありますでしょうか？ 現在、Swiftを利用していますが、Objective-Cでも構いません。 よろしくお願いいたします。
4431,c#,TextBox や Button などのコントロールの命名規則のガイドラインはあるでしょうか。 参考にできるガイドラインがあれば教えてください。 オブジェクト ハンガリー表記法の名前付け規則というのはあったのですが、一覧の内容から推測すると VB6.0 時代のものと思われます。 このようなコントロールにプレフィックスを付ける命名方法は、現在では推奨されていないのでしょうか？ 追記: MSDNの名前に関するガイドラインに従うと、コントロールは（Windows Formsであれば フォームの private）フィールドに該当しますので フィールド名には Pascal 形式を使用してください。 フィールド名にはプリフィックスを使用しないでください。 たとえば、静的フィールドと非静的フィールドを区別するために、g_ や s_ を使用しないでください。 が当てはまりそうです。 ですが、本家の StackOverflow でプレフィックス記法が推されている場合もあり、どのような命名スタイルが実用的なのか測りかねています。 TextBox txtName     // NG TextBox name        // OK TextBox nameTextBox // OK TextBox uxName      // OK？（ローカル変数と区別したい時に使う？） このような理解で良いでしょうか？
4444,c#,SslStreamでサーバーサイドの実装をしています。 読み取るデータがない状態でRead()を呼ぶと、ブロッキングされてしまいます。 戻り値に0が返ってくると思っていましたが、返ってきません。 これ以上読むべきデータがない状態を判断することはできますか？ 同じSslStreamを使用してクライアントの実装をしたら0が返ってくるので判断できました。 サーバーサイドの実装だけがブロッキングしてしまっているので困っています。 NetWorkStreamではDataAvailableというプロパティがあるのでデータがそれ以上ない状態を判断できますが、SslStreamの場合のやり方がわかりません。 public static byte[] Read(SslStream stream) { MemoryStream ms = new MemoryStream(); byte[] resBytes = new byte[1024]; try { while (true) { int n = stream.Read(resBytes 0 resBytes.Length); if (0 < n) { ms.Write(resBytes 0 n); } else { break; } } } catch (Exception e) { throw e; } return ms.ToArray(); }
4446,c#,Windows フォームアプリで、Form に PictureBox を貼り付けて、 this.pictureBox1.Image = Clipboard.GetImage(); クリップボードのイメージを PictureBox に設定すると、以下のように画像が大きく表示されてしまいます。 (左側がイメージコピー元のオリジナルのウィンドウ、右側がクリップボードのイメージを表示したフォームです。ペイントをアクティブウィンドウにして Alt + PrintScreenでクリップボードに保存しました) この現象は、ディスプレイの解像度が 1920 x 1080 の時だけ発生し、1600 x 900 や 1024 x 768 など他の解像度の場合は、同じサイズで表示されました。 ＰＣ環境に依存する要因があると思いますが、 特定の解像度でオリジナル画像と表示サイズが異なってしまう原因はなんでしょうか。 また、常にオリジナル画像と同じサイズで表示するためにはどうしたらよいでしょうか？ 補足: クリップボードに保存した画像をペイントなどの画像ツールに貼り付けると表示サイズはオリジナルと変わりません。ですので、PictureBoxに表示する際の問題と考えています。
4448,java,今Javaで弾幕シューティングゲームを作成しているのですが､弾の画像を使いたいと考え､ネット上でフリーの弾画像を探しまして､こちらのサイトの弾幕項目の1番上のものを使おうと考えたのですが､この画像の1つの弾画像をJavaで使うことは可能なのでしょうか｡
4449,c++,CentOS6.6 gcc4.9.2 mpio及びmsgpack-cは正常にインストールできたのですが、MessagePack-RPC for C++のmakeでエラーが出ます。 エラーの内容は、 exception.cc: 関数 ‘void msgpack::rpc::throw_exception(msgpack::rpc::future_impl*)’ 内: exception.cc:44:17: エラー: ‘RAW’ is not a member of ‘msgpack::v1::type’ if(err.type == msgpack::type::RAW && exception.cc:45:12: エラー: ‘union msgpack::v1::object::union_type’ has no member named ‘raw’ err.via.raw.ptr == TIMEOUT_ERROR_PTR) { exception.cc:48:24: エラー: ‘RAW’ is not a member of ‘msgpack::v1::type’ } else if(err.type == msgpack::type::RAW && exception.cc:49:12: エラー: ‘union msgpack::v1::object::union_type’ has no member named ‘raw’ err.via.raw.ptr == CONNECT_ERROR_PTR) { となっています。 インストールしたいのですが、自力では解決できそうにありません。 お知恵を拝借願えますか?
4455,javascript|php,Wordpressでサイトを構築して、JetPackのInfinite Scrollで無限スクロールを設定して、トップページで各記事の概要を表示しているのですが、最初7件からスクロールして次の7件の記事を読み込む際にSNSバルーンボタンがうまく表示されずに若干表示が崩れてしまいます。 http://soundrope.com/ JavaScriptやPHPの知識がまだ疎いもので、解決方法が分からないため、対応を教えていただければ有り難いです。
4465,c#,Win7Pro＋Visual Studio Community 2013で以下のようなcodeを書いたところD driveに対する処理で例外が発生して取得できません。解決のためにご助力ください。 Cは通常のHDD、DはCの任意のpathをsubstで仮想driveとしたものです。 subst d: c:\tmp\d static void Main(string[] args) { string drvC = "c:\\"; string drvD = "d:\\"; var foldersC = Directory.GetDirectories(drvC); var foldersD = Directory.GetDirectories(drvD); // DirectoryNotFoundException発生 } 上記のようなC#のcodeを実行すると、D driveに対しての処理を行うところで例外が発生してしまいます。 同じことを、Win7Pro＋Visual Studio Pro 2013環境で実行してみたところ例外が発生しませんでした。 おそらくCommunityに依存していると思うのですが、Proで実現できていることからどうにか対処できないかと悩んでおります。 正直、どうアプローチして良いかも分からず、半分途方に暮れています。何かご存知の方が居られましたら、教えていただけるとありがたいです。 場所 System.IO.__Error.WinIOError(Int32 errorCode String maybeFullPath) 場所 System.IO.FileSystemEnumerableIterator`1.CommonInit() 場所 System.IO.FileSystemEnumerableIterator`1..ctor(String path String originalUserPath String searchPattern SearchOption searchOption SearchResultHandler`1 resultHandler Boolean checkHost) 場所 System.IO.Directory.GetDirectories(String path) 場所 ConsoleApplication1.Program.Main(String[] args) 場所 System.AppDomain._nExecuteAssembly(RuntimeAssembly assembly String[] args) 場所 System.AppDomain.ExecuteAssembly(String assemblyFile Evidence assemblySecurity String[] args) 場所 Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly() 場所 System.Threading.ThreadHelper.ThreadStart_Context(Object state) 場所 System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx) 場所 System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx) 場所 System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state) 場所 System.Threading.ThreadHelper.ThreadStart()
4470,c++,下記のような、テンプレートの明示的特殊化をしたクラスにて、静的メンバを使用したいと思っています。 template struct Hoge{}; template<> struct Hoge{ static int Value; }; template<> int Hoge::Value = 0; int main(){ Hoge::Value = 4; return 0; } しかし、少なくとも VisualStudio2013 においては、上記コードでは int Hoge::Value=0; の部分で下記のコンパイルエラーが発生します。 error C2998: 'int Hoge::Value' : テンプレート定義にはなれません。 おそらく静的メンバ変数の宣言部分の書き方がまずいんだろうと思いますが、どうすればコンパイルが通るようになるのか、どなたかご教授いただけませんでしょうか？
4472,java,どちらもリストを変換できますが、どう違うのかを共有します。まずは書き方。 1. Lists.transform()の場合： List list = Lists.newArrayList("aaa" "bbb" "ccc"); List newList = Lists.transform(list new Function() { public String apply(String input) { System.out.println("transform -> " + input); return input + "_add"; } }); 2. FluentIterable.from().transform().toList()の場合： List list = Lists.newArrayList("aaa" "bbb" "ccc"); List newList = FluentIterable.from(list).transform(new Function() { public String apply(String input) { System.out.println("transform -> " + input); return input + "_add"; } }).toList();
4487,java,PrimeFaces の DataExporterで PDF を出力すると日本語が表示されません。 以下のような対応を実施してみましたが、解決できていません。 iTextAsian.jar をプロジェクトに組み込み primefaces-extensions の exporter を利用し、 fontName=HeiseiKakuGo-W5encording=UniJIS-UCS2-H を指定 対処方法をご存知の方がいれば教えてください。
4494,c#,与えられた文字列から句読文字を探し出すプログラムを作成しています。 String str = "while i < 10 {"; String regexpat_test = "[\\p{P}]?"; Regex rgx_test = new Regex(regexpat_test); MatchCollection matchCol_test = rgx_test.Matches(str); foreach (Match match in matchCol_test) { String strtest = match.Value; } しかしこれにてmatchに入るのは空の文字列のみです。 \p{P}で句読文字に対応すると考えておりましたが、何か他に 設定するような事項があるのでしょうか？
4539,javascript|java|jquery,によって複数選択されたファイル(例として5つ選択されたとします)を のように Javascript 等で分割して、 form を submit することは可能でしょうか。 サーバサイド( SAStruts で構築)の都合で  multiple属性 が設定されたフォームの入力を 受け取ることができません・・・。 以下経緯になります。 multiple属性を設定することで可能になる複数ファイル選択は利用したい しかし SAStruts だと multiple属性 が設定された　input="file" を配列、または List で受け取ろうとしてもできない(実現する方法が見つからなかった 分割した形式であれば受信できた) なので Javascript で、複数ファイルが選択されたタイミングで multiple属性が設定された input="file" を分割しようと思った という流れです。 解決方法として 上記の経緯の通りに、 input="file" を分割する 何かしらの方法で SAStruts で multiple属性 が設定されている input="file" を受信する そもそも不可能で、分割する前に複数のmultipleが設定されていない input="file" を用意する このいずれかの方法に関してご存知の方いましたらアドバイスいただけないでしょうか。 よろしくお願い致します。(このアプリケーションでは jQuery も併せて利用しています。)
4541,java,現在JAVAでシューティングゲームを作成しているのですが､ボスを作成し､試しにmainスレッドに表示しようとしたところ､表示されず､黒い画面のままでした｡  どこを改善すれば表示できるようになるのかを教えていただけるとありがたいです｡  よろしくお願いいたします｡ 以下がソースコードです｡ 他にも何かおかしいところがありましたら教えていただけるとありがたいです｡ //Boss.java package boss; import java.awt.Graphics2D; import java.awt.Image; import java.util.Random; import javax.swing.ImageIcon; public class Boss extends Enemy { //ボス画像 private Image image; //このカウンタで動きを制御する｡ private int moveCount; //ボスのHP private double hp; //各ショットを入れる配列 private BossShot[] bs1; private BossShot[][] bs2; private BossShot[][] bs3; private BossShot4[] bs4; //1度に打てる玉の数 private static final int NUM_BULLET = 10000; //弾の各パラメタ //弾の角度 private double shotAngle1; private double shotAngle2; private double shotAngle4; //弾の角度の変化量 private double shotAngleRate1; private double shotAngleRate2; private double shotAngleRange4; //弾の速度 private double shotSpeed1; private double shotSpeed2; private double shotSpeed3; private double shotSpeed4; //玉の数 private int countShot23; //インターバル private int intval23; private int intval4; //インターバルで使う時間 private int time; //角度と角度の変化量の配列｡これはBossShot3で使用 private double shotAngleArray[]; private double shotAngleRateArray[]; //ランダムを生成する private Random random; public Boss(){ super(); moveCount=0; moveCount=0; ImageIcon icon = new ImageIcon("./res/boss.png"); image = icon.getImage(); this.hp=1000; //配列にショットを生成 shotAngle1=0; shotAngleRate1=0.02; shotSpeed1=0.005; bs1 = new BossShot1[NUM_BULLET]; for(int i=0; iNUM_BULLET; i++){ bs4[i].show(g2); } } public void move(){ //時間で動きを変える if(this.ext==false)return; if(moveCount % 2000 > 0 && moveCount % 2000 < 2999){ for(int i=0; i 2000 && moveCount % 4000 < 3999){ for(int i=0; i 4000 && moveCount % 6000 < 4999){ for(int i=0; i 6000 && moveCount % 8000 < 6999){ for(int i=0; i 0 && moveCount % 2000 < 2999){ for(int i=0; i 2000 && moveCount % 4000 < 3999){ for(int i=0; i 4000 && moveCount % 6000 < 6999){ for(int i=0; i 6000 && moveCount % 8000 < 8999){ for(int i=0; i50){ //ボスの体力を減らして､自機の残機を減らして､消す｡ this.hp-=10; fighter.nLeft--; fighter.ext=false; //HPが0以下ならボス死亡//ボスが死んだ時にゲームクリア画面へ遷移するならば､booleanではなく､フラグを返す? if(this.hp<0){ this.ext=false; } return true; }else{ return false; } } //ボスと自機の弾との当たり判定 public void hitCheckBossAndFightersShot(Fighter fighter){ if(fighter.bulletFlg==Fighter.NORMAL){ for(int i=0; i82){ this.hp-=10; //HPが0以下ならボス死亡//ボスが死んだ時にゲームクリア画面へ遷移するならば､booleanではなく､フラグを返す? if(this.hp<0){ this.ext=false; } } } }else if(fighter.bulletFlg==Fighter.NWAY){ for(int i=0; i82){ this.hp-=10; if(this.hp>0){ this.ext=false; } } } } } //ボスの弾と自機の当たり判定 public boolean hitCheckBosssShotAndFighter(Fighter fighter){ if(moveCount % 2000 > 0 && moveCount % 2000 < 2999){ for(int i=0; i 2000 && moveCount % 4000 < 3999){ for(int i=0; i 4000 && moveCount % 6000 < 4999){ for(int i=0; i 6000 && moveCount % 8000 < 6999){ for(int i=0; i480+17||y<-31||y>640+31){ ext=false; } } //showは具象クラス public abstract void show(Graphics2D g2); //当たり判定弾と自機 public boolean hitCheckBulletAndFighter(Fighter fighter){ if((Math.pow(this.x - fighter.x 2)+Math.pow(this.y-fighter.y 2))>42){ this.ext=false; return true; }else{ return false; } } } 皆様返答ありがとうございます｡  コメントを参考にしてmainを次のように変更しました｡ package boss; import java.awt.*; import javax.swing.*; public class Main extends JPanel implements Runnable{ public static Thread thread = null; private Image buffer; private Graphics bufferGraphics; private Boss boss; public static void main(String[] args) { // TODO 自動生成されたメソッド・スタブ Main app = new Main(); SwingUtilities.invokeLater(new Runnable() { @Override public void run() { // TODO 自動生成されたメソッド・スタブ JFrame frame = new JFrame(); frame.getContentPane().add(app); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); frame.setBounds(10 10 480 640); frame.setTitle("Test"); frame.setVisible(true); } }); thread = new Thread(app); app.init(); } @Override public void paintComponent(Graphics g){ super.paintComponent(g); Graphics2D g2 = (Graphics2D)g; g2.setBackground(Color.black); g2.clearRect(0 0 480 640); g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING RenderingHints.VALUE_ANTIALIAS_ON); g2.setStroke(new BasicStroke(4.0f)); showObject(g2); } public void init(){ setBackground(Color.black); setForeground(Color.white); boss = new Boss(); boss.ext=true; boss.setXY(200 -50); boss.setSpeed(0 5); if(buffer==null){ buffer = createImage(480 640); bufferGraphics = buffer.getGraphics(); } requestFocus(); thread.start(); } @Override public void run() { // TODO 自動生成されたメソッド・スタブ while(true){ boss.move(); boss.shoot(); repaint(); try{ Thread.sleep(20); }catch(InterruptedException e){ break; } } } private void showObject(Graphics2D g2){ boss.show(g2); } } 実行してみたところ､表示されるようにはなりましたが､以下のようなエラーが出るようになってしまいました｡ Exception in thread "AWT-EventQueue-0" java.lang.NullPointerException at boss.Main.showObject(Main.java:79) at boss.Main.paintComponent(Main.java:40) at javax.swing.JComponent.paint(Unknown Source) at javax.swing.JComponent.paintChildren(Unknown Source) at javax.swing.JComponent.paint(Unknown Source) at javax.swing.JComponent.paintChildren(Unknown Source) at javax.swing.JComponent.paint(Unknown Source) at javax.swing.JLayeredPane.paint(Unknown Source) at javax.swing.JComponent.paintChildren(Unknown Source) at javax.swing.JComponent.paintToOffscreen(Unknown Source) at javax.swing.RepaintManager$PaintManager.paintDoubleBuffered(Unknown Source) at javax.swing.RepaintManager$PaintManager.paint(Unknown Source) at javax.swing.RepaintManager.paint(Unknown Source) at javax.swing.JComponent.paint(Unknown Source) at java.awt.GraphicsCallback$PaintCallback.run(Unknown Source) at sun.awt.SunGraphicsCallback.runOneComponent(Unknown Source) at sun.awt.SunGraphicsCallback.runComponents(Unknown Source) at java.awt.Container.paint(Unknown Source) at java.awt.Window.paint(Unknown Source) at javax.swing.RepaintManager$4.run(Unknown Source) at javax.swing.RepaintManager$4.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source) at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source) at javax.swing.RepaintManager.paintDirtyRegions(Unknown Source) at javax.swing.RepaintManager.prePaintDirtyRegions(Unknown Source) at javax.swing.RepaintManager.access$1300(Unknown Source) at javax.swing.RepaintManager$ProcessingRunnable.run(Unknown Source) at java.awt.event.InvocationEvent.dispatch(Unknown Source) at java.awt.EventQueue.dispatchEventImpl(Unknown Source) at java.awt.EventQueue.access$400(Unknown Source) at java.awt.EventQueue$3.run(Unknown Source) at java.awt.EventQueue$3.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at java.security.ProtectionDomain$1.doIntersectionPrivilege(Unknown Source) at java.awt.EventQueue.dispatchEvent(Unknown Source) at java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source) at java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source) at java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source) at java.awt.EventDispatchThread.pumpEvents(Unknown Source) at java.awt.EventDispatchThread.pumpEvents(Unknown Source) at java.awt.EventDispatchThread.run(Unknown Source)
4542,android|java,お世話になります。 Android の勉強を再開して、手始めに Fragment を使ってみようと思い、このページ「AndroidStudioの標準デザインパターンで分かるFragment入門」でトライしてるのですが、うまく行かず、質問させていただきました。 unfortunately アプリ名 has stopped logcat にもなんのエラーも出ないので、どうしたものかと思っております。 関係ありそうなソースも記載しておきます。 package jp.co.shiratsu.testfragment; import android.app.Activity; import android.net.Uri; import android.os.Bundle; import android.support.v4.app.Fragment; import android.view.LayoutInflater; import android.view.View; import android.view.ViewGroup; import android.widget.ImageView; /** * A simple {@link Fragment} subclass. * Activities that contain this fragment must implement the * {@link ImageFragment.OnFragmentInteractionListener} interface * to handle interaction events. * Use the {@link ImageFragment#newInstance} factory method to * create an instance of this fragment. */ public class ImageFragment extends Fragment { // TODO: Rename parameter arguments choose names that match // the fragment initialization parameters e.g. ARG_ITEM_NUMBER private static final String ARG_PARAM_RESOURCE_ID = "resource_id"; private int mResourceId; private OnFragmentInteractionListener mListener; /** * Use this factory method to create a new instance of * this fragment using the provided parameters. * * @param resourceId * @return A new instance of fragment ImageFragment. */ // TODO: Rename and change types and number of parameters public static ImageFragment newInstance(int resourceId) { ImageFragment fragment = new ImageFragment(); Bundle args = new Bundle(); args.putInt(ARG_PARAM_RESOURCE_ID resourceId); fragment.setArguments(args); return fragment; } public ImageFragment() { // Required empty public constructor } @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); if (getArguments() != null) { mResourceId = getArguments().getInt(ARG_PARAM_RESOURCE_ID); } } @Override public View onCreateView(LayoutInflater inflater ViewGroup container Bundle savedInstanceState) { // Inflate the layout for this fragment View rootView = inflater.inflate(R.layout.fragment_image container false); ImageView imageView = (ImageView)rootView.findViewById(R.id.image_view); imageView.setImageResource(mResourceId); return rootView; } // TODO: Rename method update argument and hook method into UI event public void onButtonPressed(Uri uri) { if (mListener != null) { mListener.onFragmentInteraction(uri); } } @Override public void onAttach(Activity activity) { super.onAttach(activity); try { mListener = (OnFragmentInteractionListener) activity; } catch (ClassCastException e) { throw new ClassCastException(activity.toString() + " must implement OnFragmentInteractionListener"); } } @Override public void onDetach() { super.onDetach(); mListener = null; } /** * This interface must be implemented by activities that contain this * fragment to allow an interaction in this fragment to be communicated * to the activity and potentially other fragments contained in that * activity. * * See the Android Training lesson Communicating with Other Fragments for more information. */ public interface OnFragmentInteractionListener { // TODO: Update argument type and name public void onFragmentInteraction(Uri uri); } } package jp.co.shiratsu.testfragment; import android.app.Activity; import android.net.Uri; import android.support.v7.app.ActionBarActivity; import android.support.v7.app.ActionBar; import android.support.v4.app.Fragment; import android.support.v4.app.FragmentManager; import android.content.Context; import android.os.Build; import android.os.Bundle; import android.view.Gravity; import android.view.LayoutInflater; import android.view.Menu; import android.view.MenuItem; import android.view.View; import android.view.ViewGroup; import android.support.v4.widget.DrawerLayout; import android.widget.ArrayAdapter; import android.widget.ImageView; import android.widget.TextView; public class MainActivity extends ActionBarActivity implements NavigationDrawerFragment.NavigationDrawerCallbacks{ /** * Fragment managing the behaviors interactions and presentation of the navigation drawer. */ private NavigationDrawerFragment mNavigationDrawerFragment; /** * Used to store the last screen title. For use in {@link #restoreActionBar()}. */ private CharSequence mTitle; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); mNavigationDrawerFragment = (NavigationDrawerFragment) getSupportFragmentManager().findFragmentById(R.id.navigation_drawer); mTitle = getTitle(); // Set up the drawer. mNavigationDrawerFragment.setUp( R.id.navigation_drawer (DrawerLayout) findViewById(R.id.drawer_layout)); } @Override public void onNavigationDrawerItemSelected(int position) { // update the main content by replacing fragments FragmentManager fragmentManager = getSupportFragmentManager(); if(position == 0){ fragmentManager.beginTransaction() .replace(R.id.container ImageFragment.newInstance(R.drawable.yukiyama)) .commit(); }else{ fragmentManager.beginTransaction() .replace(R.id.container PlaceholderFragment.newInstance(position + 1)) .commit(); } } public void onSectionAttached(int number) { switch (number) { case 1: mTitle = getString(R.string.title_section1); break; case 2: mTitle = getString(R.string.title_section2); break; case 3: mTitle = getString(R.string.title_section3); break; } } public void restoreActionBar() { ActionBar actionBar = getSupportActionBar(); actionBar.setNavigationMode(ActionBar.NAVIGATION_MODE_STANDARD); actionBar.setDisplayShowTitleEnabled(true); actionBar.setTitle(mTitle); } @Override public boolean onCreateOptionsMenu(Menu menu) { if (!mNavigationDrawerFragment.isDrawerOpen()) { // Only show items in the action bar relevant to this screen // if the drawer is not showing. Otherwise let the drawer // decide what to show in the action bar. getMenuInflater().inflate(R.menu.main menu); restoreActionBar(); return true; } return super.onCreateOptionsMenu(menu); } @Override public boolean onOptionsItemSelected(MenuItem item) { // Handle action bar item clicks here. The action bar will // automatically handle clicks on the Home/Up button so long // as you specify a parent activity in AndroidManifest.xml. int id = item.getItemId(); //noinspection SimplifiableIfStatement if (id == R.id.action_settings) { return true; } return super.onOptionsItemSelected(item); } /** * A placeholder fragment containing a simple view. */ public static class PlaceholderFragment extends Fragment { /** * The fragment argument representing the section number for this * fragment. */ private static final String ARG_SECTION_NUMBER = "section_number"; /** * Returns a new instance of this fragment for the given section * number. */ public static PlaceholderFragment newInstance(int sectionNumber) { PlaceholderFragment fragment = new PlaceholderFragment(); Bundle args = new Bundle(); args.putInt(ARG_SECTION_NUMBER sectionNumber); fragment.setArguments(args); return fragment; } public PlaceholderFragment() { } @Override public View onCreateView(LayoutInflater inflater ViewGroup container Bundle savedInstanceState) { View rootView = inflater.inflate(R.layout.fragment_main container false); return rootView; } @Override public void onAttach(Activity activity) { super.onAttach(activity); ((MainActivity) activity).onSectionAttached( getArguments().getInt(ARG_SECTION_NUMBER)); } } } よろしくお願い致します。
4548,java,あるsshサーバが起動している装置にjschライブラリを使って下記の通りconnectしたところLogin:とユーザ名を聞いてきてログインが完了しません、無事にログインを完了するにはどのように修正すれば良いのでしょうか？ ググってみた所、このような場合シェルスクリプトのexpectコマンドのように対話的にプログラムを書かないといけないという記事を見たのですが、この方法でも良いので無事にログインを完了し任意のコマンドを自動的に実行するプログラムを実現したいです。 import java.io.IOException; import java.io.InputStream; import java.net.ConnectException; import java.util.Hashtable; import com.jcraft.jsch.ChannelExec; import com.jcraft.jsch.JSch; import com.jcraft.jsch.JSchException; import com.jcraft.jsch.Session; public class ZombieEx { private static final String hostname = "192.168.10.2"; private static final String userid ="super"; private static final String password = "admin"; public static void main(String[] args) { try { ZombieEx test = new ZombieEx(); test.doProc(); } catch(JSchException ex) { System.out.println(ex); } catch(ConnectException ex) { System.out.println(ex.toString()); } catch(IOException ex) { System.out.println(ex); } } private void doProc() throws JSchException IOException ConnectException { JSch jsch = new JSch(); // HostKeyチェックは行わない Hashtable config = new Hashtable(); config.put("StrictHostKeyChecking" "no"); jsch.setConfig(config); // connection Session Session session = jsch.getSession(userid hostname 22); session.setPassword(password); session.connect(); //exec command remotely String command = "ls -l"; ChannelExec channel = (ChannelExec) session.openChannel("exec"); channel.setCommand(command); channel.connect(); // get stdout InputStream in = channel.getInputStream(); byte[] tmp = new byte[1024]; while (true) { while (in.available() > 0) { int i = in.read(tmp 0 1024); if (i < 0) break; System.out.print(new String(tmp 0 i)); } if (channel.isClosed()) { System.out.println("exit-status: " + channel.getExitStatus()); break; } try { Thread.sleep(1000); } catch(Exception ex) { } } // disconnect channel.disconnect(); session.disconnect(); } } ▪️追記 本件の実行環境はクライアントがMacBookでサーバがルータになります。この環境では上記を実行しても自動login出来ず。「Login:」とユーザ名を聞いてきます。尚、ユーザ名、パスワードについてはsshコマンドを使って確認手動で問題なくlogin出来ることを確認しています。 ・追記２ Yamamotoさんheliac2001さんからご指摘あった通り、User名が無視されている事がわかりました。よって当方の環境ではコマンド一発でのLoginは出来ず、対話型でのログインが必要であることが判りました。どなたか対話型で自動ログイン出来る（サーバからのメッセーを待って、このメッセージに応じて自動的にユーザ名、パスワードを順番にコマンで送信してログインする）ライブラリをご存知ないでしょうか？宜しくお願いします。
4553,python,tumblrのような*.tumblr.comというバーチャルホスト型のサイトを、Pythonで公開する設定をどのようにしたら良いのか、悩んでいます。 単一ドメインのサイトでgunicornを使う場合、nginxの最小限の設定はこのようなものになります。 location / { proxy_pass: http://localhost:8000/ } しかし、nginxでバーチャルホストを利用してマルチサイトを稼働する場合、gunicornを先に動かすというのがネックで、100個のサイトがあると100個のgunicornプロセスを起動するような回答が本家のstackoverflowでありました。サイト毎にnginxの設定ファイルを及びgunicornの起動スクリプトを用意しています。微妙です... https://stackoverflow.com/questions/3756934/running-multiple-sites-with-djangos-sites-framework-through-gunicorn-nginx/5358948#5358948 gunicornでマルチドメインを動かすのは難しそうです。 pythonで作られた同じアプリをマルチドメインで動かす場合には、どのようなサーバ構成で実現すべきなのでしょうか？ 追記 自分で調べて動作確認が取れました。 http://aroundthedistance.hatenadiary.jp/entry/2015/01/15/234259 で実現方法を書きました。
4556,python,あるクラスのメンバ関数内から、そのクラス名を取得することは可能でしょうか。 教えていただきたいのはPython 3での方法ですが、一応Python 2での方法も教えていただけると幸いです。 例 class Foo: def __init__(self): pass という風なクラスがあった時に、Fooを取得するといったものです。
4566,javascript|html,現在、 VLC メディアプレイヤーの Web プラグインを利用して動画再生を行うページを作成しています。 そこで動画を倍速再生する必要があり、その方法として Javascript API の vlc.input.rate で再生速度を操作しようとしていたのですが、問題が発生しました。 解決方法をご存知の方はいらっしゃらないでしょうか。 ○問題 ∟vlc オブジェクトが取得できない。 ○現象 ∟「VLC Wiki: Documentation:WebPlugin」を参照として、以下のソースで再生速度を1.5倍に操作しようとしたのですが、ソース中の vlc.input が undefined となっていました。 ○ソース
4576,android|java,現在ダイアログ上のスタートボタンを押すことで録音を開始し、ストップボタンを押すと別の保存確認ダイアログが表示され、そこで保存ボタンを押すと録音した音声が保存されるプログラムを組んでいます。しかし、録音を終了すると、 RecDialog クラスの stopRecording メソッド内の mRecorder.stop() で NullPointerExceptionが返ってきます。色々とトライしてみても依然結果は同じです。これはなぜなのでしょうか？ DialogFragment を使っているあたり何か関係があるのでしょうか？ すみませんが、宜しくお願いします。 RecDialog: public class RecDialog extends DialogFragment { private MediaRecorder mRecorder; @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); LayoutInflater inflater = (LayoutInflater) getActivity().getSystemService(Context.LAYOUT_INFLATER_SERVICE); mView = inflater.inflate(R.layout.rec_dialog null); final ImageButton recordButton = (ImageButton) mView.findViewById(R.id.recButton); recordButton.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { if (!mRecButtonClick) { recordButton.setImageResource(R.drawable.microphone_on); mRecorder = new MediaRecorder(); startRecording(); mRecButtonClick = true; } else { recordButton.setImageResource(R.drawable.microphone_off); mRecButtonClick = false; showDialogBroadcast(); } }); } public class MyBroadcastReceiver extends BroadcastReceiver { @Override public void onReceive(Context context Intent intent) { DialogFragment dialog = new SaveDialog(); dialog.show(getFragmentManager() "dialog"); } } public void showDialogBroadcast() { Intent broadcastIntent = new Intent(); broadcastIntent.setAction("show_saveDialog"); getActivity().sendBroadcast(broadcastIntent); } public void startRecording() { File sampleDir = new File(Environment.getExternalStorageDirectory() + "/Test"); try { mAudiofile = File.createTempFile("voice" ".3gp" sampleDir); } catch (IOException e) { return; } mRecorder = new MediaRecorder(); mRecorder.setAudioSource(MediaRecorder.AudioSource.MIC); mRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP); mRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB); mRecorder.setOutputFile(mAudiofile.getAbsolutePath()); try { mRecorder.prepare(); } catch (IOException e) { e.printStackTrace(); } mRecorder.start(); } public void stopRecording(String fileName) { mRecorder.stop(); mRecorder.release(); addVoiceToMediaLibrary(fileName); } SaveDialog: RecDialog recDialog = new RecDialog(); recDialog.stopRecording(editText.getText().toString());
4590,php,PHP　での、コロンの意味について教えて下さい。 最近　PHP　を学習しだした者です。 書籍にて、　Slim　フレームワークのサンプルがあったので、それを意味を理解しながら、写経しています。 そこで不明な点が有りましたので、質問します。 ↓ Slimサンプルアプリケーション Tinitter のコードで、 $app->get('/' '\Tinitter\Controller\TimeLine:show'); とあります。 TimeLine:show のコロンはなぜ一つなのでしょうか?? TimeLine クラスのクラスメソッドの show を呼んでいるのですが、 TimeLine::show ではないのでしょうか?? インスタンスメソッドの時は、アロー演算子で呼び出すと思うのですが、クラスメソッドの時は、 :: ではなくて、 : を間に挟んで呼び出すということなのでしょうか?
4616,python,画像のエラーはいったいどうすれば解決できるのでしょうか？ 調べた結果属性に問題があるようですがよくわからなかったため質問しました。 ソースコードは以下に記載します。 よろしくお願いします。 import sys getopt import sqlite3 class Location: def __init__(self filename=""): self.filename = filename self.locations = list() def seek(self): if self.filename=="": return False file = open(self.filename"r") for line in file: line_sep=line.split("\t") if( len(line_sep) > 2 ): if(line_sep[1] == "LOC"): time     = line_sep[2].split('')[0] latitude = line_sep[2].split('')[1] longitude= line_sep[2].split('')[2] location = {'time':time 'latitude':latitude 'longitude':longitude} self.locations.append(location) return True def printAll(self): if(len(self.locations) > 0): print 'time latitude longitude' for location in self.locations: print location['time'] location['latitude'] location['longitude'] class Audio: def __init__(self filename=""): self.filename = filename self.startTime = 0.0 self.stopTime = 0.0 def seek(self): if self.filename=="": return False file = open(self.filename"r") for line in file: line_sep=line.split() if( len(line_sep) > 2 ): if(line_sep[1] == "AUDIO"): if(line_sep[2] == "start"): self.startTime = line_sep[0] elif(line_sep[2] == "stop"): self.stopTime = line_sep[0] return True def printTime(self): print self.startTime self.stopTime def getDuration(self): return (float(self.stopTime) - float(self.startTime)) class FileManager: def __init__(self filename database): #database connection self.conn = sqlite3.connect(database) self.cur = self.conn.cursor() self.filename = filename # filename must be separated by '-'. (e.g. hasc-20120527-115511-raw.log) self.idname = '-'.join(filename.split("-")[0:3]) def _getFileinfoId(self): self.cur.execute("select fileinfo.id from files inner join fileinfo on files.id=fileinfo.fileId where files.filename like '" + self.idname + "%'") return self.cur.fetchone()[0] def updateDatabase(self): fileinfoId = str(self._getFileinfoId()) audio = Audio(self.filename) audio.seek() self.cur.execute("update fileinfo set startTime='"+ audio.startTime + "' where id=" + fileinfoId ) self.cur.execute("update fileinfo set endTime='"  + audio.stopTime  + "' where id=" + fileinfoId ) self.conn.commit() loc = Location(filename = self.filename) loc.seek() for location in loc.locations: self.cur.execute("insert into geolocations(fileId time latitude longitude) values("+ fileinfoId +" "+ location['time'] +" "+ location['latitude'] +" "+ location['longitude']+")") self.conn.commit() def main(argv): logfile = '' database = '' try: opts args = getopt.getopt(argv"hl:d:"["log=""db="]) if len(opts) < 1: raise getopt.GetoptError("") except getopt.GetoptError: print 'hascseeker.py --log  --db ' sys.exit() for opt arg in opts: if opt in ("-h" "--help"): print 'hascseeker.py --log  --db ' sys.exit() elif opt in ("-l" "--log"): logfile = arg elif opt in ("-d" "--db"): database = arg man = FileManager(logfile database) man.updateDatabase() if __name__ == "__main__": main(sys.argv[1:])
4632,java,例えば、以下のようなコードで、引数 msg の型を Message を継承した MyMessage に変えたい場合、どのようにしたらよいでしょうか。 オーバーライドするメソッドがあるクラスに書き足すしか方法はないのでしょうか。 MessageHandler handlerReqNormalizedCardinal = new MessageHandler() { @Override public Message process(Message msg) throws Exception { return new RepNormalizedCardinalMessage(MyCFRTChord.this.routingTable.normalizedCardinal); } };
4642,java,Java で以下のようなことを簡潔に記述可能でしょうか。 稚拙な質問ですが、慣習等あればご回答いただけたらと思います。 よろしくお願いいたします。 class A { B b; A() { this.b = new B(); } // 以下、b を使ったメソッドなど } class B {} class A' extends A { // b を使ったメソッドの動作はそのままに b を B' のインスタンスとしたい } class B' extends B {} 自分で考えたのは、以下のようなコードです。 そもそもクラス A のメンバにクラス B のインスタンスを生成せず、クラス A を継承した A' でメンバ変数を付加する形です。 もちろん、B' で拡張された実装を利用する場合は b を B' でキャストする必要があります。 class A { B b; A() { } // 以下、b を使ったメソッドなど } class B {} class A' extends A { A'() { this.b = new B'(); } // b を使ったメソッドの動作はそのまま // B' で拡張された実装を利用する場合は b を B' でキャストする } class B' extends B {}
4646,c#,方式的な質問ですが、どなたか教えてください。 社内のSharePointに置くプログラム（Feature）から、自社で契約しているOffice365にアクセスしたいのですが、認証方法は、OAuth2を利用しなければいけないのでしょうか? また、c#でプログラムを作るときに、参考になるWebサイトがあれば教えてください。
4654,java,テキストファイルの末尾から指定した行数のテキストを効率的に取り出したいです。 Linux の tail コマンドのようなものです。 File file = new File("c:¥¥tmp¥¥test.txt"); BufferedReader br = new BufferedReader(new FileReader(file)); String str; while((str = br.readLine()) != null){ ・・・ } br.close(); このようなファイルの先頭から順番に１行ずつ取得する方法を応用して最後のｎ行を取り出すことは出来るのですが、この方法だとファイルサイズが大きい時に処理時間が長くなってしまいます。 ファイルの末尾から１行ずつ取り出す方法はあるでしょうか？ 対象のテキストファイルは以下の想定です。 文字コードは UTF-8 改行はCRLF、LFが混在 １行の文字数に上限なし
4670,javascript|jquery,JavaScript ライブラリの Galleria で画像ギャラリーを実装しましたが、 Fatal error: Could not extract a stage height from the CSS. Traced height: 0px. というエラーが出てしまいます。 #galleria { height: 500px; } のように height を指定することで問題無く動くようにはなったのですが、中に入る画像のサイズは実装ページによって異なるので、高さ数値は固定ではありません。 ギャラリーの高さを固定することなく動かしたいのですが、解決策をご教示頂きたく存じます。 ソースコード追記します。 これで再現します。styleに#galleria{height: 500px;}を入れるとちゃんと動きます。 // Load the classic theme Galleria.loadTheme('http://cdnjs.cloudflare.com/ajax/libs/galleria/1.4.2/themes/classic/galleria.classic.min.js'); // Initialize Galleria Galleria.run('#galleria');
4682,android|java,今まで使っていたEclipse+ADTからAndroid Studioへ移行したいのですが､そのままandroid Studioをインストールしてしまって大丈夫なのでしょうか? android Studioをインストールするときに､Select components to installという所で､選択してはいけない項目などありますか?  そこにはAndroid Studio本体､AndroidSDK Android Virtual Device Performanceという項目があるのですが､こちらで書かれているようにSDKマネジャーとADVマネジャーが共存してしまいなにか不具合がしょうじないか心配です｡  またAndroidアプリでは無いのですが､今Eclipseで開発しているソフトウェアがありまして､そのまま開発を続けたいと考えております｡  そういった場合､Android Studioへ移行して開発を続けることは可能ですか? Eclipseでは､高速版のエミュレータもインストールしています｡
4715,javascript|jquery,下記サイトの右メニュー下にある、「スポンサードリンク」のように、スクロールしてもページ内の固定位置に残るメニューを実装したいです。 http://www.akb48matomemory.com/archives/1017688632.html ただ、以下のようにもしたいのですがこういった実装は可能なのでしょうか。 下にスクロールした場合はトップ固定 下から上にスクロールした場合はウインドウの下部に固定 お知恵を拝借させてください。 よろしくお願いします。
4725,php,失礼します。 mysqlとphpを使ったOR検索のプログラムを作っています。 複数ワードで検索をした時に、 SQLSTATE[HY093]: Invalid parameter number: parameter was not defined という例外がスローされました。 調べてみたところ、プレースホルダとパラメータの数が合っていない？という意味なのかと思ったのですがコードを見なおしても自分では理解できませんでした。 以下がコードです。(一部を抜粋) //OR検索時 elseif($count > 1){ $stmt = $pdo->prepare($query); for($i=0; $i<$count; $i++){ //検索ワードの数だけ繰り返す $keyword2[$i] = "'%".$keyword[$i]."%'"; //検索ワード1つ1つを%検索文字%にする $holder = ':keyword'.$i;    //ホルダー用 $stmt->bindParam(':holder'$keyword2[$i]PDO::PARAM_STR); } $stmt->execute(); $result = $stmt->fetchAll(PDO::FETCH_ASSOC); } どう直したらよいのでしょうか？ 全コードが必要でしたら書き直します。 よろしくお願いします。 追記：$queryの中身です。 $query = 'SELECT * FROM goods WHERE ';  //クエリ前半 $sql =""; if($data){ $count = 1; //カウントを１にしておく //全角スペースはmb_convert_kana()関数で半角スペースに変換 $datalist = mb_convert_kana($data 's''UTF-8'); //複数キーワードでの検索 //if(stristr($datalist" ")){ //検索ワードをスペースで分割して配列に格納 $keyword = explode(" "$datalist); //print_r ($keyword); //配列の数を数える $count = count($keyword); print $count; //空スペースで区切られた数によってSQL文を組み立てる for($i=0; $i<$count; $i++){//配列の数だけ繰り返す if($i!="0"){ $sql = $sql." OR "; } $sql = $sql."name LIKE :keyword"; }
4730,python,Python の ctypes モジュールを使って Windows DLL から DDE (動的データ交換) のクライアントを作りたいのですがうまく機能しません。 ここの Python スクリプトを参考に作りました。実際は数値を返すものなのですが、 N##A というバイト列が返ってきてしまいます。 Excel から MetaTrader4 という株価取得ソフトのDDE サーバに接続した場合はきちんと数値が返ってきているのでクライアントの問題だと思うのですが、何が問題なのか教えていただけないでしょうか? 実際のコード ## {{{ http://code.activestate.com/recipes/577654/ (r1) #!/usr/bin/env python # Send DDE Execute command to running program import time from ctypes import POINTER WINFUNCTYPE c_char_p c_void_p c_int c_ulong c_char_p from ctypes.wintypes import BOOL DWORD BYTE INT LPCWSTR UINT ULONG # DECLARE_HANDLE(name) typedef void *name; HCONV     = c_void_p  # = DECLARE_HANDLE(HCONV) HDDEDATA  = c_void_p  # = DECLARE_HANDLE(HDDEDATA) HSZ       = c_void_p  # = DECLARE_HANDLE(HSZ) LPBYTE    = c_char_p  # POINTER(BYTE) LPDWORD   = POINTER(DWORD) LPSTR    = c_char_p ULONG_PTR = c_ulong # See windows/ddeml.h for declaration of struct CONVCONTEXT PCONVCONTEXT = c_void_p DMLERR_NO_ERROR = 0 # Predefined Clipboard Formats CF_TEXT         =  1 CF_BITMAP       =  2 CF_METAFILEPICT =  3 CF_SYLK         =  4 CF_DIF          =  5 CF_TIFF         =  6 CF_OEMTEXT      =  7 CF_DIB          =  8 CF_PALETTE      =  9 CF_PENDATA      = 10 CF_RIFF         = 11 CF_WAVE         = 12 CF_UNICODETEXT  = 13 CF_ENHMETAFILE  = 14 CF_HDROP        = 15 CF_LOCALE       = 16 CF_DIBV5        = 17 CF_MAX          = 18 DDE_FACK          = 0x8000 DDE_FBUSY         = 0x4000 DDE_FDEFERUPD     = 0x4000 DDE_FACKREQ       = 0x8000 DDE_FRELEASE      = 0x2000 DDE_FREQUESTED    = 0x1000 DDE_FAPPSTATUS    = 0x00FF DDE_FNOTPROCESSED = 0x0000 DDE_FACKRESERVED  = (~(DDE_FACK | DDE_FBUSY | DDE_FAPPSTATUS)) DDE_FADVRESERVED  = (~(DDE_FACKREQ | DDE_FDEFERUPD)) DDE_FDATRESERVED  = (~(DDE_FACKREQ | DDE_FRELEASE | DDE_FREQUESTED)) DDE_FPOKRESERVED  = (~(DDE_FRELEASE)) XTYPF_NOBLOCK        = 0x0002 XTYPF_NODATA         = 0x0004 XTYPF_ACKREQ         = 0x0008 XCLASS_MASK          = 0xFC00 XCLASS_BOOL          = 0x1000 XCLASS_DATA          = 0x2000 XCLASS_FLAGS         = 0x4000 XCLASS_NOTIFICATION  = 0x8000 XTYP_ERROR           = (0x0000 | XCLASS_NOTIFICATION | XTYPF_NOBLOCK) XTYP_ADVDATA         = (0x0010 | XCLASS_FLAGS) XTYP_ADVREQ          = (0x0020 | XCLASS_DATA | XTYPF_NOBLOCK) XTYP_ADVSTART        = (0x0030 | XCLASS_BOOL) XTYP_ADVSTOP         = (0x0040 | XCLASS_NOTIFICATION) XTYP_EXECUTE         = (0x0050 | XCLASS_FLAGS) XTYP_CONNECT         = (0x0060 | XCLASS_BOOL | XTYPF_NOBLOCK) XTYP_CONNECT_CONFIRM = (0x0070 | XCLASS_NOTIFICATION | XTYPF_NOBLOCK) XTYP_XACT_COMPLETE   = (0x0080 | XCLASS_NOTIFICATION ) XTYP_POKE            = (0x0090 | XCLASS_FLAGS) XTYP_REGISTER        = (0x00A0 | XCLASS_NOTIFICATION | XTYPF_NOBLOCK ) XTYP_REQUEST         = (0x00B0 | XCLASS_DATA ) XTYP_DISCONNECT      = (0x00C0 | XCLASS_NOTIFICATION | XTYPF_NOBLOCK ) XTYP_UNREGISTER      = (0x00D0 | XCLASS_NOTIFICATION | XTYPF_NOBLOCK ) XTYP_WILDCONNECT     = (0x00E0 | XCLASS_DATA | XTYPF_NOBLOCK) XTYP_MONITOR         = (0x00F0 | XCLASS_NOTIFICATION | XTYPF_NOBLOCK) XTYP_MASK            = 0x00F0 XTYP_SHIFT           = 4 TIMEOUT_ASYNC        = 0xFFFFFFFF def get_winfunc(libname funcname restype=None argtypes=() _libcache={}): """Retrieve a function from a library and set the data types.""" from ctypes import windll if libname not in _libcache: _libcache[libname] = windll.LoadLibrary(libname) func = getattr(_libcache[libname] funcname) func.argtypes = argtypes func.restype = restype return func DDECALLBACK = WINFUNCTYPE(HDDEDATA UINT UINT HCONV HSZ HSZ HDDEDATA ULONG_PTR ULONG_PTR) class DDE(object): """Object containing all the DDE functions""" AccessData         = get_winfunc("user32" "DdeAccessData"          LPBYTE   (HDDEDATA LPDWORD)) ClientTransaction  = get_winfunc("user32" "DdeClientTransaction"   HDDEDATA (LPBYTE DWORD HCONV HSZ UINT UINT DWORD LPDWORD)) Connect            = get_winfunc("user32" "DdeConnect"             HCONV    (DWORD HSZ HSZ PCONVCONTEXT)) CreateStringHandle = get_winfunc("user32" "DdeCreateStringHandleW" HSZ      (DWORD LPCWSTR UINT)) Disconnect         = get_winfunc("user32" "DdeDisconnect"          BOOL     (HCONV)) GetLastError       = get_winfunc("user32" "DdeGetLastError"        UINT     (DWORD)) Initialize         = get_winfunc("user32" "DdeInitializeW"         UINT     (LPDWORD DDECALLBACK DWORD DWORD)) FreeDataHandle     = get_winfunc("user32" "DdeFreeDataHandle"      BOOL     (HDDEDATA)) FreeStringHandle   = get_winfunc("user32" "DdeFreeStringHandle"    BOOL     (DWORD HSZ)) QueryString        = get_winfunc("user32" "DdeQueryStringA"        DWORD    (DWORD HSZ LPSTR DWORD c_int)) UnaccessData       = get_winfunc("user32" "DdeUnaccessData"        BOOL     (HDDEDATA)) Uninitialize       = get_winfunc("user32" "DdeUninitialize"        BOOL     (DWORD)) class DDEError(RuntimeError): """Exception raise when a DDE errpr occures.""" def __init__(self msg idInst=None): if idInst is None: RuntimeError.__init__(self msg) else: RuntimeError.__init__(self "%s (err=%s)" % (msg hex(DDE.GetLastError(idInst)))) class DDEClient(object): """The DDEClient class. Use this class to create and manage a connection to a service/topic.  To get classbacks subclass DDEClient and overwrite callback.""" def __init__(self service topic): """Create a connection to a service/topic.""" from ctypes import byref self._idInst = DWORD(0) self._hConv = HCONV() self._callback = DDECALLBACK(self._callback) res = DDE.Initialize(byref(self._idInst) self._callback 0x00000010 0) if res != DMLERR_NO_ERROR: raise DDEError("Unable to register with DDEML (err=%s)" % hex(res)) hszService = DDE.CreateStringHandle(self._idInst service 1200) hszTopic = DDE.CreateStringHandle(self._idInst topic 1200) self._hConv = DDE.Connect(self._idInst hszService hszTopic PCONVCONTEXT()) DDE.FreeStringHandle(self._idInst hszTopic) DDE.FreeStringHandle(self._idInst hszService) if not self._hConv: raise DDEError("Unable to establish a conversation with server" self._idInst) def __del__(self): """Cleanup any active connections.""" if self._hConv: DDE.Disconnect(self._hConv) if self._idInst: DDE.Uninitialize(self._idInst) def advise(self item stop=False): """Request updates when DDE data changes.""" from ctypes import byref hszItem = DDE.CreateStringHandle(self._idInst item 1200) hDdeData = DDE.ClientTransaction(LPBYTE() 0 self._hConv hszItem CF_TEXT XTYP_ADVSTOP if stop else XTYP_ADVSTART TIMEOUT_ASYNC LPDWORD()) DDE.FreeStringHandle(self._idInst hszItem) if not hDdeData: raise DDEError("Unable to %s advise" % ("stop" if stop else "start") self._idInst) DDE.FreeDataHandle(hDdeData) def execute(self command timeout=5000): """Execute a DDE command.""" pData = c_char_p(command) cbData = DWORD(len(command) + 1) hDdeData = DDE.ClientTransaction(pData cbData self._hConv HSZ() CF_TEXT XTYP_EXECUTE timeout LPDWORD()) if not hDdeData: raise DDEError("Unable to send command" self._idInst) DDE.FreeDataHandle(hDdeData) def request(self item timeout=5000): """Request data from DDE service.""" from ctypes import byref hszItem = DDE.CreateStringHandle(self._idInst item 1200) hDdeData = DDE.ClientTransaction(LPBYTE() 0 self._hConv hszItem CF_TEXT XTYP_REQUEST timeout LPDWORD()) DDE.FreeStringHandle(self._idInst hszItem) if not hDdeData: raise DDEError("Unable to request item" self._idInst) if timeout != TIMEOUT_ASYNC: pdwSize = DWORD(0) pData = DDE.AccessData(hDdeData byref(pdwSize)) DDE.GetLastError(res) #if not pData: #    DDE.FreeDataHandle(hDdeData) #    raise DDEError("Unable to access data" self._idInst) #    # TODO: use pdwSize #    DDE.UnaccessData(hDdeData) #else: #    pData = None #    DDE.FreeDataHandle(hDdeData) return pData def callback(self value item=None): """Calback function for advice.""" print "%s: %s" % (item value) def _callback(self wType uFmt hConv hsz1 hsz2 hDdeData dwData1 dwData2): #if wType == XTYP_ADVDATA: from ctypes import byref create_string_buffer dwSize = DWORD(0) pData = DDE.AccessData(hDdeData byref(dwSize)) if pData: item = create_string_buffer('\000' * 128) DDE.QueryString(self._idInst hsz2 item 128 1004) self.callback(pData item.value) DDE.UnaccessData(hDdeData) return DDE_FACK return 0 def WinMSGLoop(): """Run the main windows message loop.""" from ctypes import POINTER byref c_ulong from ctypes.wintypes import BOOL HWND MSG UINT LPMSG = POINTER(MSG) LRESULT = c_ulong GetMessage = get_winfunc("user32" "GetMessageW" BOOL (LPMSG HWND UINT UINT)) TranslateMessage = get_winfunc("user32" "TranslateMessage" BOOL (LPMSG)) # restype = LRESULT DispatchMessage = get_winfunc("user32" "DispatchMessageW" LRESULT (LPMSG)) msg = MSG() lpmsg = byref(msg) while GetMessage(lpmsg HWND() 0 0) > 0: TranslateMessage(lpmsg) DispatchMessage(lpmsg) #Go #if __name__ == "__main__": #get connect with server SPnet #dde = DDEClient("Spserver" "G41") #while True: #print dde.request("R(5640)") #time.sleep(1) #WinMSGLoop() #ここまでが実際のコードです。 #ddecli = DDEClient("service_name" "topic_name") #ddecli.request(item_name) #N##Aが帰ってきてしまう。
4737,c++,以下の警告文が出力ウィンドウに表示されます。 D3D11 WARNING: ID3D11DeviceContext::OMSetRenderTargets: Resource being set to OM RenderTarget slot 0 is still bound on input! [ STATE_SETTING WARNING #9: DEVICE_OMSETRENDERTARGETS_HAZARD] D3D11 WARNING: ID3D11DeviceContext::OMSetRenderTargets[AndUnorderedAccessViews]: Forcing PS shader resource slot 0 to NULL. [ STATE_SETTING WARNING #7: DEVICE_PSSETSHADERRESOURCES_HAZARD] ググった所、OMSetRenderTargets()で設定しようとしているビューのリソースが、すでにピクセルシェーダのシェーダリソースビューとして割り当てられている為のようです。 解決策として、OMSetRenderTarget()とPSSetShaderResources()にNULLを渡してステートをリセットすればいいみたいなことが書かれていました。 なので、OMSetRenderTarget()を呼び出す前に、 ID3D11RenderTargetView* dummyRTVs[D3D11_SIMULTANEOUS_RENDER_TARGET_COUNT] = {nullptr}; ID3D11ShaderResourceView* dummySRVs[D3D11_COMMONSHADER_INPUT_RESOURCE_SLOT_COUNT] = {nullptr}; pImmediateContext->OMSetRenderTargets( _countof(dummyRTVs) dummyRTVs nullptr); pImmediateContext->PSSetShaderResources( 0 _countof(dummySRVs) dummySRVs); という処理を実行しているのですが、相変わらずおなじ警告文を吐いてしまいます。 何か他に原因があるのでしょうか。 よろしくお願いします。
4740,c#,テキストファイルの末尾から指定した行数のテキストを効率的に取り出したいです。 Linux の tail コマンドのようなものです。(こちらの質問 のC#版です) 簡単な実装方法として、 var path = "test.txt"; var n = 10; var lines = File.ReadAllLines(path); foreach (var line in lines.Skip(lines.Length - n).Take(n)) { System.Console.WriteLine(line); } このようにファイルを先頭から全て読み込んで末尾のｎ行を取り出すということは出来るのですが、この方法だとファイルサイズが大きい時に処理時間が長くなってしまいます。ディスクI/Oやメモリ消費という面からも好ましくないと思います。 ファイルをランダムアクセスして末尾から１行ずつ取り出すにはどのような方法があるでしょうか？ 対象のテキストファイルは以下の想定です。 文字コードは UTF-8 改行はCRLF、LFが混在 １行の文字数に上限なし
4764,java,RxJava なんですが、 Observable s = Observable.from("hoge"); s.subscribe((str) -> { System.out.println(str); }); この文字列 "hoge" を取り出すスマートなやり方は何かありますか？ インスタンス変数経由はちょっとダサい final String[] 経由もいまいちダサい 2015/1/18 14:34頃追記 質問の仕方とサンプルがまずかったです。 Observable s = getS3object.flatMap(obj -> { return Observable.create(observer -> { new Thread(() -> { try { BufferedReader reader = new BufferedReader(new InputStreamReader(obj.getObjectContent())); String line; while ((line = reader.readLine()) != null) { observer.onNext(line); } } catch (Throwable e) { observer.onError(e); } observer.onCompleted(); }).start(); }); }).reduce((acc x) -> acc + "\n" + x); return s.get(); // こんなメソッドは無いが、こんな感じのことがやりたい こんな感じのことがやりたいことです。
4791,php,会員登録せずに、お気に入り機能や、コメント履歴などを管理する方法について教えて下さい。 言語はPHPを想定し、個人情報は取り扱わない方向で。 通常こういったサービスはユーザー登録を登録させて、ログインした状態で使えるようにすると思いますが、簡易的に行うにはどうしたらよいでしょうか。 md5("一意のID")としてハッシュ化したセッションIDをクッキーかローカルストレージに持たせて管理して大丈夫でしょうか。
4805,java,Java で以下のようなことは可能でしょうか。 abstract class A { T baz; A() {} String getFoo() { return this.baz.b1; } class B { String b1; B() { this.b1 = "bar"; } } } class A' extends A { A'() { this.baz = new B'(); } String getBar() { return this.baz.b2; } class B' extends B { String b2; B'() { super(); this.b2 = "bar"; } } } class Main { public static void main(String[] args) { A' a = new A'(); System.out.println(a.getFoo() + a.getBar()); // out "foobar" } } また、クラス B のメソッドをクラス B' でオーバーライドすることは可能でしょうか。
4834,c++,現在開発中のプログラムにおいて、SoundDesigner2のファイル「.sd2」を読み込む必要があります。 その中で、リソースフォークに書かれているデータを読み込むために、 以前はTextUtils.hのStringHandle GetString(short stringID)を利用していましたが、10.5.sdk からDeprecated になっています。 ヘッダファイルを見ると、以下のような記述があるのですが、CFBundleCopyLocalizedString の使い方がよく分かりません。 *  Deprecated: *    use CFBundleCopyLocalizedString instead. どなたか、CFBundleCopyLocalizedString の使い方、もしくは、 どんな方法でも構いませんので「.sd2」ファイルのリソースフォークを読み込む方法をご存知の方がいらっしゃいましたら、教えて頂けないでしょうか。
4842,c#,GMap.NETを利用してWindowsFormsアプリケーションを作成しています。マップはOpenStreetMap利用しており地図の描画は出来ています。 その描画された地図の上に更にタイルでイメージをオーバーレイしたいのですが方法がわかりません。タイルでない画像をオーバレイすることは可能なのですが、ズームしたときに粗くなってしまうのでタイルで描画したいです。
4851,java,Vagrantfile に config.vm.synced_folder でAPIを仮想環境とホストで共有しています。 仮想環境: VirtualBox + Vagrant API: Play Framework 2.0 + Java 仮想環境で activator run を走らせて、ホストのAPIに変更を加えると自動ビルドが走るようにしたいのですが、うまくいきません。 ホストのAPIをいじる → 仮想環境で自動ビルドする方法についてご教授頂きたいです。
4858,java,Java アプリケーションで BGM を流したいと思い､次のクラスを作りました｡ import java.applet.Applet; public class Sound { java.applet.AudioClip ac; public Sound() { // TODO 自動生成されたコンストラクター・スタブ ac = Applet.newAudioClip(getClass().getClassLoader().getResource("res/BGMn.wav")); } public void loop(){ ac.loop(); } public void stop(){ ac.stop(); } public void play(){ ac.play(); } } しかし､ main スレッドで呼び出したところ､次のようなエラーが出てしまいました｡ Exception in thread "main" java.lang.NullPointerException at sun.applet.AppletAudioClip.(Unknown Source) at java.applet.Applet.newAudioClip(Unknown Source) at boss.Sound.(Sound.java:9) at boss.Main.init(Main.java:68) at boss.Main.main(Main.java:45) getResource() のパスが間違っていると思われるのですが､いろいろ試してみてもできませんでした｡  パスには何を指定すれば良いのでしょうか｡ ディレクトリ構造: Project src package Main.java Sound.java res BGMn.wav .classpath:
4861,android|java,表題通り、MediaExtractorを使用しない場合のMediaCodecのデコード方法がわかりません。 自分が探した限りではMediaCodecによるデコードのサンプルはほとんどがMediaExtractorを使用したものばかりでした。MediaExtractorを使用したくない理由として再生をしながら メタデータ(icy-meta Shoutcast)、MP3 Rawバイナリを操作したいと考えているからです。 MediaExtractorをもちいたデコードのサンプルを元にFileInputStreamを使用したコードを書いてみました。エラーが起きてまともにデコードできません。 package com.test; import android.app.Activity; import android.media.AudioFormat; import android.media.AudioManager; import android.media.AudioTrack; import android.media.MediaCodec; import android.media.MediaCodec.BufferInfo; import android.media.MediaFormat; import android.os.Bundle; import android.os.Environment; import android.util.Log; import java.io.File; import java.io.FileInputStream; import java.io.IOException; import java.nio.ByteBuffer; import com.test.R; public class AndroidTestActivity extends Activity { private static final String TAG = "TAG"; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.main); new Thread() { @Override public void run() { try { process(); } catch (IOException e) { e.printStackTrace(); } } }.start(); } private synchronized void process() throws IOException { File inputFile = new File(Environment.getExternalStorageDirectory().getPath() + "/download/music/test.mp3"); FileInputStream fis = new FileInputStream(inputFile); MediaFormat format = MediaFormat.createAudioFormat("audio/mpeg" 441002); String mime = format.getString(MediaFormat.KEY_MIME); //int sampleRate = format.getInteger(MediaFormat.KEY_SAMPLE_RATE); MediaCodec codec = MediaCodec.createDecoderByType(mime); codec.configure(format null  null  0); codec.start(); ByteBuffer[] codecInputBuffers = codec.getInputBuffers(); ByteBuffer[] codecOutputBuffers = codec.getOutputBuffers(); AudioTrack track = new AudioTrack(AudioManager.STREAM_MUSIC format.getInteger(MediaFormat.KEY_SAMPLE_RATE) AudioFormat.CHANNEL_OUT_STEREO AudioFormat.ENCODING_PCM_16BIT 8000 AudioTrack.MODE_STREAM); track.play(); BufferInfo info = new BufferInfo(); boolean inputEos = false; boolean outputEos = false; long timeoutUs = 1000; byte[] tempBuffer = new byte[8192]; while (!outputEos) { if (!inputEos) { int inputBufIndex = codec.dequeueInputBuffer(timeoutUs); if (inputBufIndex >= 0) { ByteBuffer buf = codecInputBuffers[inputBufIndex]; int bytesRead = fis.read(tempBuffer 0 buf.limit()); long presentationTimeUs = 0; if (bytesRead < 0) { inputEos = true; bytesRead = 0; } else { presentationTimeUs = System.nanoTime(); } codec.queueInputBuffer(inputBufIndex 0 bytesRead presentationTimeUs inputEos ? MediaCodec.BUFFER_FLAG_END_OF_STREAM : 0); } } int res = codec.dequeueOutputBuffer(info timeoutUs); if (res >= 0) { int outputBufIndex = res; ByteBuffer buf = codecOutputBuffers[outputBufIndex]; byte[] dst = new byte[info.size]; int oldPosition = buf.position(); buf.get(dst); buf.position(oldPosition); //Play music track.write(dst 0 dst.length); codec.releaseOutputBuffer(outputBufIndex false); if ((info.flags & MediaCodec.BUFFER_FLAG_END_OF_STREAM) != 0) { Log.d(TAG "output eos."); outputEos = true; } } else if (res == MediaCodec.INFO_OUTPUT_BUFFERS_CHANGED) { Log.d(TAG "output buffer changed."); codecOutputBuffers = codec.getOutputBuffers(); } else if (res == MediaCodec.INFO_OUTPUT_FORMAT_CHANGED) { MediaFormat f = codec.getOutputFormat(); Log.d(TAG "output format changed. " + f); //track.setPlaybackRate(f.getInteger(MediaFormat.KEY_SAMPLE_RATE)); } } Log.d(TAG "complete stop!"); fis.close(); codec.stop(); codec.release(); } } 以下実行時のエラー 01-20 00:57:22.271: I/OMXClient(2626): Using client-side OMX mux. 01-20 00:57:22.276: E/SEC_COMP_REGS(2626): . 01-20 00:57:22.276: E/SEC_COMP_REGS(2626): .. 01-20 00:57:22.276: E/SEC_COMP_REGS(2626): libOMX.SEC.AVC.Decoder.so 01-20 00:57:22.276: E/SEC_COMP_REGS(2626): Path & libName : /system/lib/omx/libOMX.SEC.AVC.Decoder.so 01-20 00:57:22.276: E/SEC_COMP_REGS(2626): libOMX.SEC.AVC.Encoder.so 01-20 00:57:22.276: E/SEC_COMP_REGS(2626): Path & libName : /system/lib/omx/libOMX.SEC.AVC.Encoder.so 01-20 00:57:22.281: E/SEC_COMP_REGS(2626): libOMX.SEC.M4V.Decoder.so 01-20 00:57:22.281: E/SEC_COMP_REGS(2626): Path & libName : /system/lib/omx/libOMX.SEC.M4V.Decoder.so 01-20 00:57:22.281: E/SEC_COMP_REGS(2626): libOMX.SEC.M4V.Encoder.so 01-20 00:57:22.291: E/SEC_COMP_REGS(2626): Path & libName : /system/lib/omx/libOMX.SEC.M4V.Encoder.so 01-20 00:57:22.291: E/SEC_COMP_REGS(2626): libOMX.SEC.WMV.Decoder.so 01-20 00:57:22.291: E/SEC_COMP_REGS(2626): Path & libName : /system/lib/omx/libOMX.SEC.WMV.Decoder.so 01-20 00:57:22.311: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.321: D/TAG(2626): output format changed. {sample-rate=44100 channel-count=2 what=1869968451 mime=audio/raw} 01-20 00:57:22.331: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.341: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.351: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.396: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.436: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.481: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.486: D/libEGL(2626): loaded /system/lib/egl/libEGL_mali.so 01-20 00:57:22.491: D/libEGL(2626): loaded /system/lib/egl/libGLESv1_CM_mali.so 01-20 00:57:22.496: D/libEGL(2626): loaded /system/lib/egl/libGLESv2_mali.so 01-20 00:57:22.506: E/(2626): Device driver API match 01-20 00:57:22.506: E/(2626): Device driver API version: 23 01-20 00:57:22.506: E/(2626): User space API version: 23 01-20 00:57:22.506: E/(2626): mali: REVISION=Linux-r3p2-01rel3 BUILD_DATE=Wed Oct  9 21:05:57 KST 2013 01-20 00:57:22.526: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.536: D/OpenGLRenderer(2626): Enabling debug mode 0 01-20 00:57:22.576: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.621: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.626: I/ActivityManager(2626): Timeline: Activity_idle id: android.os.BinderProxy@424d6780 time:611732103 01-20 00:57:22.666: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.716: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:22.811: E/SoftMP3(2626): mp3 decoder returned error 12 ...以下略... 01-20 00:57:29.171: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:29.221: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:29.266: E/SoftMP3(2626): mp3 decoder returned error 12 01-20 00:57:29.401: D/TAG(2626): output eos. 01-20 00:57:29.401: D/TAG(2626): complete stop! 01-20 00:57:29.411: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cc9d8 successful 01-20 00:57:29.411: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cc8d8 successful 01-20 00:57:29.411: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cc7c0 successful 01-20 00:57:29.416: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cad28 successful 01-20 00:57:29.416: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cd018 successful 01-20 00:57:29.421: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524ccf48 successful 01-20 00:57:29.421: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cce30 successful 01-20 00:57:29.426: I/OMXNodeInstance(2626): OMX_FreeBuffer for buffer header 0x524cccb8 successful
4867,java,@Testアノテーションに例外クラスを指定したのですが、NoSuchFileExceptionはスロー宣言をしないとコンパイラに怒られます。 NullPointerExceptionは大丈夫なんですが、これはどうしてですか？ NullPointerExceptionはスロー宣言が不要 @Test(expected = NullPointerException.class) public void NullPointerException_発生テスト() { throw new NullPointerException("test"); } NoSuchFileExceptionはスロー宣言が必要 @Test(expected = NoSuchFileException.class) public void NoSuchFileException_発生テスト() throws NoSuchFileException { throw new NoSuchFileException("test"); }
4870,java,コンソールからDatastoreのクエリを閲覧するためにGoogle Cloud Datastore APIのONが必要になりました。 その中で独自ドメイン＋CloudGateを設定/導入しているプロジェクトでのみ、クエリの読込が失敗し、データの参照ができなくなっています （※旧コンソールのDatastore Adminに至ってはサーバーエラーになって、画面が開けもしないんですが･･･） もし、対策等々ご存じの方いらっしゃいましたらご教授ください。
4877,android|html,携帯対応のサイトを作成しています。 にフォーカスしたときに Android の入力モードを数字キーボードに切り替える方法はありますか？ ガラケー (istyle format mode) および iPhone (pattern="\d*") については数字入力に切り替えられるのですが、Androidだけが数字入力に切り替える方法がわかりません。 Android については他の数字入力欄は  を  のように変更して数字入力ができるようにしているのですが、パスワード入力欄に関しては type="number" を指定するとマスキングがなくなってしまう等、都合が悪いです。 別の方法で工夫できないかと考えています。
4882,php,SQLiteとPHPを用いたSNSで、メッセージを送れる相手を両思い(お互いがお互いをフォローしている)のユーザーに限りたいのですが、 自分が:idのIDだとして、自分と両思いしているユーザー(ID)一覧を取得するにはどのようなSQL文を発行すればいいのでしょうか? followテーブルは以下のようになっています。 from_id:フォローしたユーザーID to_id:フォローされたユーザーID
4900,php,下のスクリプトでexecを用いてシェルスクリプトを実行しようとしています。 定期的にページへアクセスがあった場合に、シェルスクリプトが同時に動かないようにするため 排他制御を加えないといけないのですが、ご教示いただけないでしょうか。 http://localhost/index.php?hoge=30 で引数を渡しています。 \n"); } // hogeが規定値より大きい場合 if ($hoge > 50 ){ echo '動作1'; } //hogeが規定値と等しい場合 elseif ($hoge == 50) { echo '動作2'; //hogeが規定値より小さい場合 } else { echo '動作3'; exec(' /Users/hoge/Desktop/test.sh'); } ?>
4903,python,pythonモジュールがインストールされている/いないに関わらず、コマンドラインでモジュールの最新バージョンを出力させる方法はあるでしょうか。 イメージとしてはyum info [package_name]でAvailable Packagesが取得できるのと同じようにできればと思っています。
4908,php,mysqldumpを使えば一瞬ですが、PHPMyAdminはmysqldumpが無くても動くというので、裏側でどういった処理を行っているのでしょうか？PHPだけでどうやってSQLをダンプしているのか、気になります。 お恥ずかしいですが、ソース読んでも膨大すぎてさっぱりだったので、何方かご教示頂けたら幸いです。 ちなみに、「WP Migrate DB」というWordPressのプラグインがあるのですが、こちらも気になりますね。
4931,android|php,WifiManagerからRSSIの値を取得し、5秒平均の値を$hogeとし http://localhost/index.php?SigStrength=$hogeに自動的にアクセス （RSSIの平均が40であれば、http://localhost/index.php?SigStrength=40にアクセス） これを10秒毎に繰り返すアプリを作りたいです。 ・URLの引数部分を生成するにはどうすればよいでしょうか ・定期的に処理を実行し、HTTPでPostリクエストを飛ばすにはどうすればよいでしょうか。 WebViewで、web.loadUrl("http://localhost/index.php?SigStrength=$hoge")として 10秒毎にリロードするのがよいでしょうか？ サーバ側で、受け取った値に応じて、その場で外部機器を自動操作する用途で使います。 数秒程度のズレが生じても、特に問題はありません。
4933,c#,kinectのfacetrackを使ってまばたきを検出したいのですが、前処理として画像のトリミング(目の周辺部分)を行わなければならないと思うのですが、トリミング処理がうまく行きませんがうまくいきません。良い方法はありますでしょうか？使っている言語はC#です。どうかよろしくお願いします。 using System; using System.Windows; using System.Windows.Media; using System.Windows.Media.Imaging; using System.Drawing; using System.Drawing.Imaging; using System.Collections.Generic; using System.Linq; using Microsoft.Kinect; using Microsoft.Kinect.Toolkit; using Microsoft.Kinect.Toolkit.FaceTracking; namespace FaceTrackingCamera { /// /// MainWindow.xaml の相互作用ロジック /// public partial class MainWindow : Window { // 解像度・フレームレート private ColorImageFormat rgbFormat = ColorImageFormat.RgbResolution640x480Fps30; private const DepthImageFormat depthFormat = DepthImageFormat.Resolution320x240Fps30; // KinectSensorChooser private KinectSensorChooser kinectChooser = new KinectSensorChooser(); // FaceTrackerオブジェクト FaceTracker faceTracker = null; // Kinectセンサーからの画像情報を受け取るバッファ private byte[] pixelBuffer = null; // Kinectセンサーからの深度情報を受け取るバッファ private short[] depthBuffer = null; // Kinectセンサーからの骨格情報を受け取るバッファ private Skeleton[] skeletonBuffer = null; // 画面に表示するビットマップ private RenderTargetBitmap bmpBuffer = null; // ビットマップへの描画用DrawingVisual private DrawingVisual drawVisual = new DrawingVisual(); private WriteableBitmap bgImg2 = null; private Int32Rect rectimg; public MainWindow() { InitializeComponent(); } // 初期化処理(Kinectセンサーやバッファ類の初期化) private void WindowLoaded(object sender RoutedEventArgs e) { kinectChooser.KinectChanged += KinectChanged; kinectChooser.Start(); } // 終了処理 private void WindowClosed(object sender EventArgs e) { kinectChooser.Stop(); } // Kinectセンサーの挿抜イベントに対し、初期化/終了処理を呼び出す private void KinectChanged(object sender KinectChangedEventArgs args) { if (args.OldSensor != null) UninitKinectSensor(args.OldSensor); if (args.NewSensor != null) InitKinectSensor(args.NewSensor); } // Kinectセンサーの初期化 private void InitKinectSensor(KinectSensor kinect) { // ストリームの有効化 ColorImageStream clrStream = kinect.ColorStream; clrStream.Enable(rgbFormat); DepthImageStream depthStream = kinect.DepthStream; depthStream.Enable(depthFormat); SkeletonStream skelStream = kinect.SkeletonStream; kinect.DepthStream.Range = DepthRange.Near; skelStream.EnableTrackingInNearRange = true; skelStream.TrackingMode = SkeletonTrackingMode.Seated; skelStream.Enable(); // バッファの初期化 pixelBuffer = new byte[clrStream.FramePixelDataLength]; depthBuffer = new short[depthStream.FramePixelDataLength]; skeletonBuffer = new Skeleton[skelStream.FrameSkeletonArrayLength]; // 画面に表示するビットマップの初期化 bmpBuffer = new RenderTargetBitmap(clrStream.FrameWidthclrStream.FrameHeight96 96 PixelFormats.Default); bgImg2 = new WriteableBitmap(clrStream.FrameWidth clrStream.FrameHeight 96 96 PixelFormats.Bgr32 null); // イベントハンドラの登録 kinect.AllFramesReady += AllFramesReady; faceTracker = new FaceTracker(kinect); rectimg = new Int32Rect(0 0 clrStream.FrameWidth clrStream.FrameHeight); } // Kinectセンサーの終了処理 private void UninitKinectSensor(KinectSensor kinect) { if (faceTracker != null) { faceTracker.Dispose(); faceTracker = null; } kinect.AllFramesReady -= AllFramesReady; } // FrameReady イベントのハンドラ // (Kinectセンサーの情報をもとにFaceTrackingを行い、 //  認識した顔の各点に赤い点を描画) private void AllFramesReady(object sender AllFramesReadyEventArgs e) { KinectSensor kinect = sender as KinectSensor; using (ColorImageFrame colorImageFrame = e.OpenColorImageFrame()) using (DepthImageFrame depthImageFrame = e.OpenDepthImageFrame()) using (SkeletonFrame skeletonFrame = e.OpenSkeletonFrame()) { if (colorImageFrame == null || depthImageFrame == null || skeletonFrame == null) return; // 顔の各点の座標を保持するバッファ EnumIndexableCollection facePoints = null; EnumIndexableCollection facePoints3D = null; colorImageFrame.CopyPixelDataTo(pixelBuffer); depthImageFrame.CopyPixelDataTo(depthBuffer); skeletonFrame.CopySkeletonDataTo(skeletonBuffer); //描画の準備(左画面) var drawContext1 = drawVisual.RenderOpen(); int frmWidth = colorImageFrame.Width; int frmHeight = colorImageFrame.Height; rgbImage.Source = bmpBuffer; IPLImage.Source = bgImg2; // カメラの画像情報から原画像のビットマップを作成し描画(左) var bgImg1 = new WriteableBitmap(frmWidth frmHeight 96 96 PixelFormats.Bgr32 null); bgImg1.WritePixels(new Int32Rect(0 0 frmWidth frmHeight) pixelBuffer frmWidth * 4 0); //右画面の原画像を追加 bgImg2.WritePixels(rectimg pixelBuffer frmWidth * 4 0); var rect1 = new System.Windows.Rect(0 0 frmWidth frmHeight); drawContext1.DrawImage(bgImg1 rect1); //System.Drawing.Pen pen = Pens.White; foreach (Skeleton skeleton in skeletonBuffer) { // トラックできている骨格だけを対象とする if (skeleton.TrackingState == SkeletonTrackingState.Tracked) {  // 今回のフレームにFaceTrackingを適用 FaceTrackFrame frame = faceTracker.Track(rgbFormat pixelBuffer depthFormat depthBuffer skeleton); //顔情報が認識できなかった場合は0を書き出す //1フレーム毎に顔情報情報を取得する facePoints3D = frame.Get3DShape(); facePoints = frame.GetProjected3DShape(); var rect2 = new System.Windows.Rect(facePoints[15].X facePoints[15].Y 100 50); if (frame.TrackSuccessful) { //原画像の上から新たに描写 drawContext1.DrawRectangle(System.Windows.Media.Brushes.Red null rect2); foreach (var facePt in facePoints) { // 取得した顔の各点に赤い点を描画(左) var pt = new System.Windows.Point(facePt.X facePt.Y); drawContext1.DrawEllipse(System.Windows.Media.Brushes.Red null pt 1 1); } } } //if (facePoints != null) { } } // 画面に表示するビットマップに描画(左) drawContext1.Close(); bmpBuffer.Render(drawVisual); } } } }
4946,c++,makeにおいて、以下の構成でプロジェクトを作成したいのですが、objディレクトリにオブジェクトファイルを格納するようなMakefileはどのように作れば良いでしょうか。 環境構成 ./ ├ bin/     # 実行ファイル用ディレクトリ ├ include/ # インクルードファイル用ディレクトリ │  └ Util.h ├ obj/     # オブジェクトファイル用ディレクトリ ├ src/     # ソースコード用ディレクトリ │  ├ main.cxx │  └ Util.cxx └ Makefile 一応以下のやり方で実行ファイルの生成は出来ましたが、カレントディレクトリにオブジェクトファイルができてしまい、所望の動作ではないです。 (中途半端な変数化はスルーしてください･･･) TARGET=./bin/test SOURCES=$(wildcard src/*.cxx) OBJECTS=$(notdir $(SOURCES:.cxx=.o)) VPATH=src .SUFFIXES: .cxx .o $(TARGET): $(OBJECTS) rm -f $@ g++ -Wall -I./include -o $@ $^ .cxx.o: g++ -Wall -I./include -c $< .PHONY: all clean all: echo $(SOURCES) echo $(OBJECTS) clean: rm -f *.o bin/* オブジェクトファイルをobjディレクトリに格納するため、以下のようにしましたが、make時にエラーになってしまいます(-c $<が常にUtil.cxxを指してしまう)。 TARGET=./bin/test SOURCES=$(wildcard src/*.cxx) OBJECTS=$(patsubst src/%.cxx obj/%.o $(SOURCES)) $(TARGET): $(OBJECTS) rm -f $@ g++ -Wall -I./include -o $@ $^ $(OBJECTS): $(SOURCES) g++ -Wall -I./include -o $@ -c $< .PHONY: all clean all: echo $(SOURCES) echo $(OBJECTS) clean: rm -f bin/* obj/* 実行結果 $ make g++ -Wall -I./include -o obj/Util.o -c src/Util.cxx g++ -Wall -I./include -o obj/main.o -c src/Util.cxx # ここがNG。src/main.cxxになって欲しい 環境 GNU Make 3.81
4960,c#,C# を使っています。 二つのスレッドから一つの計算メソッドを同時に使用したいのですが、 （スレッドA　→　計算メソッド　←　スレッドB） とする場合はやはり以下のように、計算メソッドを２つ作るしかないのでしょうか？ （スレッドA　→　計算メソッドA　/　スレッドB　→　計算メソッドB）
4968,java,リストをforEach()メソッドでラムダ式によって処理している際、for、whileで使われるcontinueと同じ動作を行う方法を共有します。 List list = Arrays.asList("aaa" "bbb" "ccc" "ddd"); list.stream().forEach(str -> { if (str.equals("ccc")) { // 次の要素に行きたい(continueしたい) } System.out.println(str); });
4973,c#,Visual Studio Community 2013 で C#を使って開発をしようとしています。チームで共同作業です。 プロジェクトを SVN にコミットして複数人で共同開発を行います。 利用したい外部 DLL がいくつかあり、これを一番簡単に間違いなく管理したいのですが、やり方がわかりません。 なお、現在は、プロジェクトディレクトリの下に lib というディレクトリを作って、そこに DLL を放り込み、 Solution Explorer で References に追加しています。 しかしこの方法だと、他のメンバーが初めてプロジェクトを開く時に同様の手順で References を追加する必要があり、不便ですしミスを招きそうです。 Solution の DLL の管理はどのように行うのがベストでしょうか？ 他に良い方法があれば教えて下さい。
4980,c#,Visual Studio Community 2013 の C# で開発をしています。 Build した exeファイルが下記の環境に標準でインストールされた .Net Framework で(他のバージョンをインストールすること無く)実行されて欲しいのですが、可能でしょうか？ また、その場合に必要な設定を教えていただけるとありがたいです。 対象となる Windows のバージョン Windows Vista SP2 Windows 7 SP1 Windows 8 Windows 8.1 32bit / 64bit 版の違いも吸収できるとなお良いです。
4990,php,失礼します。 phpとmysqlを利用したショッピングカートシステムを作ろうとしています。 現在、商品名を検索するとデータベースから参照して検索条件と一致する商品を一覧表示するところまではできました。 次の取り組みとして、｢カートに入れる｣ボタンを押すとカートページに飛び、ボタンを押した商品のデータをセッションに保持させ、その情報を表示するという事を可能にしたいです。 自分でコードを組んでみたのですが、以下の問題点が出てきました。 1.セッションに情報を保存できない問題 2.配列の最後に格納されているデータしかPOSTで取得できない問題 この2点になります。 1についてですが、正確にはセッションに情報を保存できているのかもしれませんが私の知識が足りないばかりに上手くセッションを使えていないため、質問させていただきたいです。 これはつまり何が言いたいかというと、 商品「りんご」をカートに入れる→カートページにはりんごが表示されている→商品の一覧ページに戻る→商品みかんを入れる→カートページには商品「りんご」と商品「みかん」の2つが表示される このようにしたいのですが、商品「みかん」を入れてカートページに飛び、一覧ページに戻って商品「もも」をカートに入れるとカートページには商品「もも」しか表示されないのが現状なので、これを商品「みかん」と商品「もも」の2つを表示させられるようにしたいです。 2についてですが、商品ID「1」のりんごの「カートに入れる」ボタンをクリックした時、商品一覧ページにりんごのみがある場合には問題ないのですが、商品ID「2」のみかんも一緒に一覧ページに表示されている場合、りんごの「カートに入れる」ボタンを押してもカートページにはみかんが表示されてしまいます。 試してみたところ、どうやら配列の一番最後に格納されているもののみを表示しているようです。 これを最後だけではなく全て表示させたいです。 それではコードです。 商品一覧ページ(一部抜粋。他に原因が考えられる場合は追ってコードを載せます。) 1 2 3 カートページ $_POST['id']'name' => $_POST['name']'price' => $_POST['price']); } } }else{ $msg = 'no item';   //何もカートに入れてませんよー } //配列の中身確認用 print_r ($item); //セッション変数「cart」が未設定の場合は０を設定 if(!isset($_SESSION['cart'])){ $_SESSION['cart'] = 0; } //セッション変数「cart」に配列の中身を格納 //セッションにカートに入れる商品の情報が登録したい(できてなかった) $_SESSION['cart'] = $item; ?> ページタイトル カートの中身 "; } ?> 戻る よろしくお願いします。
4995,php,phpでapiを開発しています。 フレームワークにはSilexを利用し、お作法に則って開発をしていますが、 // web/index.php require_once __DIR__.'/../vendor/autoload.php'; $app = new Silex\Application(); // 定義をここに書きます。 $app->run(); http://silex-users-jp.phper.jp/doc/html/usage.html $app->run()のあとにexitする必要があるか ご教授を頂きたいです 参考サイトにはexitの記述ありませんが、 たまに処理の終わりにexitしている記述も見かけます。 exitするとどんなメリットがあるか知りたいです。 宜しくお願いします。 開発環境は PHP 5.5.16 Server version: Apache/2.2.15 (Unix) mod_php
5002,javascript|jquery,fancyBox2 で写真をポップアップさせたいのですが、The requested content cannot be loaded. Please try again later. という文章が出てしまいます。 何が間違えているのでしょうか？？ 僕が現状書いているプログラムは以下のとおりです。 なお、 DreamWeaver CS6 の可変グリッドを使いウェブサイトを作っております。 Welcome to Web Site 1 2 3 4 5 6 We are Copyright© 2014 we are web maker . All Rights Reserved.
5010,javascript|jquery,Backbone.js と Backbone.Marionette の組み合わせで、以下のようなコードを書いています。 var Model = Backbone.Model.extend({ url: '任意のURL' dataFetch: function() { this.fetch() .fail(alert('error!!')); } }); var ViewItem = Marionette.ViewItem.extend({ model: new Model(); modelEvents: { 'sync': 'displayModelAttr' } initialize: function() { this.model.dataFetch(); } displayModelAttr: function() { console.log(this.model.attributes); } }); var viewItem = new ViewItem(); model で発火した sync イベントで拾い、 model の attributes をコンソールに表示しています。 しかしながら指定した url から fetch した値ではなく、空の Object が表示されてしまいます。 sync イベントが発火した時点で、 model は fetch した結果を自身に set していると考えていたのですが、まず、その認識から誤っているのでしょうか。 通信そのものは正常に成功しており、期待したjsonが返却されていることをブラウザの開発ツールで確認しております。
5025,javascript|jquery,アコーディオンを使ったウェブページをつくっておりまして、そのアコーディオン自体は正常に動いております。（動作は問題ないです） アコーディオンは５つありまして、その一つ一つにそれぞれのコンテンツをいれたサイトを作りたいのですが、たとえばAのコンテンツを開くと縦幅が長すぎて、下のほうに空欄が出てしまいます。（BC、D、Eも同様です）。 JavaScript で CSS の命令文を書き込まなければいけないんだろうなぁ・・・って言うのはうすうすわかっているつもりですが、いかんせん、いかに書くのかがわかりません。 ↓こんな感じで。 以下は、現状僕が作っているサイトの header と body の一部です。 教えてください。よろしくお願いいたします。 Aボタン Aのコンテンツがいろいろ入っています。 画像もあれこれ １００pxもあれば十分です。 Bボタン Cボタン Cのコンテンツは決まっていません Dボタン Dのコンテンツもまだです。 Eボタン 製作中です。しばらくお待ちください。
5030,python,Mac OS X Python 2.7.6 を使用し、以下のように buildout 環境を構築しています。 $ python bootstrap.py $ bin/buildout この時に最新の setuptools がインストールされてしまい、現時点だと 12.0.4 がインストールされます。しかしこのバージョンには、以下のバグが存在し、この後行うインストールでバージョン依存の問題が出てしまいます。 Issue #310 "document the backward-incompatible PEP 440 change to requirement semantics" setuptools を古いバージョン(例えば 8.0 とか)にすれば、問題が解決するのではないかと考えています。 以下で、 buildout のバージョンを固定する方法が見つけました。しかし、これだけでは setuptools のバージョンが固定されません。 $ python bootstrap.py -v VERSION
5033,c#,ウインドウを閉じてもマルチスレッドの動作が終了しないという事態に悩んでいます。 現在のソースは、 Aクラス・Bクラス・Cクラスがあり、AクラスからマルチスレッドでB・Cクラスを呼び出し実行しています。 （Aクラス・Bクラス・CクラスはCSファイルで分けています。） ウインドウは一つだけしか表示しておらず、そのウインドウの閉じるボタンを押下すると、 アプリケーションが終了すると考えていました。 しかし、B・Cクラスの処理はウインドウを閉じた後も動作し続けています。 ウインドウの閉じるボタンを押下したと同時に全ての処理を終了したいのですが、 windowのclosingイベント内でB・Cクラスの処理を終了させる方法しかないのでしょうか？ 他に良い案があれば教えていただきたいです。
5037,php,function.php に下記の記述を追加しています。 seasonという固定ページで、リクエストパラメータ y の値を使い、channelカスタム投稿のカスタムフィールド year にヒットする記事をすべて取得するメインクエリに書き換えたいです。 $query->set で意図する動作への書き換えは可能でしょうか？ フックする関数は上記で問題ないでしょうか？ご教授ください。 add_action( 'init' 'my_init' ); function my_init() { global $wp; $wp->add_query_var( 'y' ); } add_action( 'pre_get_posts' 'my_pre_get_posts' ); function my_pre_get_posts( $query ) { if ( $query->is_page('season') && is_main_query()) { $year = get_query_var('y'); if ($year) { // ここに書きたい } } }
5051,c#,Visual Studio C# で開発しているアプリケーションの Form で、Localizable=true にしていたのですが、ローカライズ対応不要ということがわかり、このプロパティを false へ変更しました。 変更後も作成済の *.jp-JP.resx / *.ja.resx のようなリソースファイルが残っており、削除するとビルドエラーとなります。 Resouce file *****.ja-JP.resx cannot be found. このエラーを回避し、プロジェクトが参照しないようにする方法をご教示ください。
5053,php,PHP と MySQL を利用しています。 以下のようにユーザー入力値など外部からの文字列を使用して SQL クエリーを生成する場合、SQL インジェクションの危険性があります。 $dbh = new PDO('mysql:host=127.0.0.1;dbname=test' 'username' 'password'); $email = $_POST['email']; $password = $_POST['password']; // ユーザー入力値を利用して SQL 文を生成 $sql = "SELECT * FROM users WHERE email = '$email' AND password = '$password'"; $sth = $dbh->query($sql); $userInfo = $sth->fetch(PDO::FETCH_ASSOC); // ... 上記のようなコードは SQL インジェクションが行えてしまします。 例えば email に ' OR 1=1 -- が入力されると、以下の SQL が発行されて期待しない結果（例の場合、他人としてログインできる）になってしまいます。 SELECT * FROM users WHERE email = '' OR 1=1 -- ' AND password = '' このような SQL インジェクション対策はどのように行うべきでしょうか？
5067,python,OS Marvericks で PIL を使うを方法について質問させていただきます。 現在、Mac (OS 10.9.5 Mavericks) で Python を使用しており、Xcode(6.1) X11(2.7.7) The freetype(2.5.3_1.) Python(2.7.6.) はすでにインストール済です。 画像処理をするために、PIL (もしくは Pillow ) をインストールしようとしているのですが、うまくいきません。類似したトラブルが本家 Stack Overflow でも報告されており、参考にしましたが、やはりインストールできずにおります。 具体的な現状は下記の通りです。同様のエラーを修正できた方、または Python に詳しい方がおりましたら、ご教示いただければ幸いです (当方、Python を最近勉強し始めました)。 _imagingft.c:73:10: fatal error: 'freetype/fterrors.h' file not found **#include freetype/fterrors.h ^ 1 error generated. error: command 'clang' failed with exit status 1 上記インストールエラーが出たため、下記を入力 ln -s /usr/local/include/freetype2 /usr/local/include/freetype するとターミナル上で下記が表示されたので、 ln: /usr/local/include/freetype: File exists さらに下記を入力しました pip install PIL --allow-external PIL --allow-unverified PIL しかし、改善されず、インストールできずにおります。 上記の各対応は本家 Stack Overflow を参考にしたものです (本家では残念ながら、この質問への回答がありません)。 よろしくお願いします。
5075,javascript|html,あるサイトの HTML を取得して更新をチェックするというスクリプトを書こうとしています。 wget を使用してHTML ファイルを取得したところ、 JavaScript が使用されていたサイトであった為、JavaScript のコードが取得できただけで実際のデータを取得することはできませんでした。 このような場合、 JavaScript を実行した結果を取得する方法はどのようなものがあるのでしょうか？ 最近、 Ruby を触りはじめたこともあり、 RubyToolbox で "HTML get JavaScript" と検索してみましたが、思ったようなライブラリが見つけられず困っています。 もし情報ありましたら、教えていただけないでしょうか。 よろしくお願いいたします。
5079,c#,エラーの原因が分かりません。 エラー内容は以下の通りです。 「mscorlib.resources.dll' が読み込まれました。モジュールがシンボルなしでビルドされました。」 おそらく無限ループさせている処理の部分が原因だと予想して今調査しているのですが、ソース自体に問題はないと思います。 これは何が原因で起こるエラーなのでしょうか？ 初歩的でしたら申し訳ありませんがご教授をお願いします。
5103,c++,Windowsの音声認識については以下の連載で説明があり、なんとかやればできそうだと思うのですが 、マイクではなくＰＣで再生中の音を入力にしたい場合はどうすれば良いでしょうか？ 連載：Intel Perceptual Computing SDK入門（5）PerC SDKを利用して開発する方法 googleの音声認識等の方が設定が簡単なのであれば、そちらでもよいかなと考えています。
5117,python,以下のツールを利用して、 OpenStreetMap の地図を表示しようとしています。 postgresql --with-protobuf-c postgis mapnik --with-postgres osm2pgsql brew コマンドでそれぞれインストールを行い、 シンプルな世界地図は表示されるようになりました。(world_map_and_styles.py) 目的としては、日本周辺の地図を表示したいため、日本周辺の地図データをダウンロードし、以下のコマンドを利用し、 DB を作成しました。 osm2pgsql -d gis japan-latest.osm.pbf --style openstreetmap-carto.style (実際は、上記コマンドの前に、osm2pgsql -d gis japan-latest.osm.pbf のみを実行済みでした。) その後、サンプルを改造した以下のコード(Python)を実行しているのですが、画像全体に、海部分のみが表示され、地形部分が全く表示されません。 ぜひ、解決のためのご助言を頂きたいです。 よろしくお願いします。 #!/usr/bin/env python from mapnik import * import mapnik import math m = Map(600300'+proj=latlong +datum=WGS84') m.background = Color('steelblue') m.zoom_to_box( mapnik.Envelope(128.026.0136.048.0) ); m.aspect_fix_mode = aspect_fix_mode.ADJUST_BBOX_HEIGHT poly = PolygonSymbolizer(Color('lavender')) line = LineSymbolizer(Color('slategray').3) sr = Style()Rule() r.symbols.extend([polyline]) s.rules.append(r) m.append_style('My Style's) # Layer lyr = Layer('Geometry from PostGIS') db_params = dict( #host='' #user='' #password ='' dbname='gis' table='planet_osm_polygon' ) lyr.datasource = PostGIS(**db_params) lyr.srs = '+proj=latlong +datum=WGS84' lyr.styles.append('My Style') m.layers.append(lyr) render_to_file(m 'map/hello_world_in_pure_python.png')
5126,javascript|jquery,jQuery/javascriptを勉強中のものです。よろしくお願いします。 テキストボックスでAmazon.co.jpのキーワードサジェスト機能を使いたいと思いまして 調べたところ、 jQueryでAmazon/Googleのsuggest機能を実装する http://d.hatena.ne.jp/tatsu-no-toshigo/20140428/1398667460 こちらのページでJquery UI のautocompleteを用いて出来る事が解説されておりましたので、 こちらを参考に実装しようとしています。 サンプルコード しかし、これを動かすと、日本語を入力している途中で実行されてしまいます。 iOS（iOS8のSafari）などでは、日本語入力中に表示された候補ワードを選択すると、 入力中のひらがなと選択したワードが混ざってしまい、意図しない表示となってしまいます。 例えば　「あま」と入力し、確定しないまま、表示された候補リストから「Amazon」を選択すると、「あまzon」となってしまいます。 そこで、 jQuery UI Autocompleteウィジェットでの日本語使用 http://shiba-sub.sakuraweb.com/?p=5415 こちらのページで、 日本語入力中は検索を実行させない処理についての記載があったため、コードを以下のように書きなおしました。 しかし、このように実装しても、日本語入力中にキーワードの候補が表示されてしまいます。 上記のコードに何か問題はありますでしょうか。 日本語入力中にオートコンプリートを実行させず、確定後に初めて実行させる他の方法はありますでしょうか。 ご指導よろしくお願いします。
5130,c#,「ストリームを読み取れませんでした。」というエラーが出るのですが、 原因を特定することが出来ないので質問させていただきました。 現在クラス変数で宣言している１つのストリーム変数に対して、 二つのマルチスレッドで、交互にストリームを生成・上書きを1秒おきに繰り返しています。 そして、そのストリームを別スレッドで定期的にBinaryReaderで読み込んでいます。 マルチスレッドによって、常にストリーム変数にストリームが格納されている状態なので、今回のようなエラーは起こりえないと考えていますが、ランダムなタイミングで今回のエラーが発生する状況です。 このエラーの解決方法や原因が分かる方がいましたら、ご教授をお願いします。 ～大まかですがソースを載せます // ストリーム private Stream stream; public void reader() { // ストリーム生成処理呼び出し Thread thread_A = new Thread(new ThreadStart(A)); thread_A.Start(); while (true) { try { using (BinaryReader reader = new BinaryReader(this.stream)) { 読み取り処理 } reader.Close(); Thread.Sleep(1000); } catch{ ストリームが読み取れませんでした。 } } private void A() { while (true) { // ストリーム生成処理 thread thread_A = new Thread(new ThreadStart(B)); thread_A.Start(); Thread.Sleep(1000); // ストリーム生成処理 Thread thread_B = new Thread(new ThreadStart(C)); thread_B.Start(); Thread.Sleep(1000); } } private void B() { this.stream = File.Open(path FileMode.Open FileAccess.Read     FileShare.ReadWrite); } private void C() { this.stream = File.Open(path FileMode.Open FileAccess.Read FileShare.ReadWrite); }
5139,c#|c++,C++/MFCのプログラムからC#/WPFのプログラムにドラッグアンドドロップでデータを渡すにはどうするのがよいでしょうか。現在以下のようなコードで、C#側でDragEventArgsにデータが入っているのまで確認できたのですがうまく取り出せません。C++側は既存コードなのでC#側で対応したいです。値を変換するためだけのDLLをC++/CLIで作るとよいのでしょうか？ C++のコード typedef struct { bool isBar; int val; WCHAR name[100]; } Bar; typedef struct { int val; TCHAR name[100]; Bar bar[1]; } Foo; void StartDrag(Foo foo) { STGMEDIUM   data; data.tymed = TYMED_HGLOBAL; data.hGlobal = (HGLOBAL)foo; data.pUnkForRelease = NULL; CLIPFORMAT f; f = RegisterClipboardFormat(TEXT("FOO")); COleDataSource *DataSource = new COleDataSource(); DataSource->CacheData(f &data); DataSource->DoDragDrop(DROPEFFECT_COPY|DROPEFFECT_MOVE); } C#のコード [StructLayout(LayoutKind.Sequential)] public struct Bar { [MarshalAs(UnmanagedType.Bool)] public bool IsText; public int value; [MarshalAs(UnmanagedType.ByValTStr SizeConst = 100)] public string name; } [StructLayout(LayoutKind.Sequential)] public struct Foo { public int value; [MarshalAs(UnmanagedType.ByValTStr SizeConst = 100)] public string name; [MarshalAs(UnmanagedType.ByValArray SizeConst = 1)] public Bar[] bar; } void OnDrop(object sender DragEventArgs e) { if (e.Data.GetDataPresent("FOO")) { var fooStream = e.Data.GetData("FOO"); // fooStreamはMemoryStream、BinaryReaderで見ると // C++側で設定した値が入っているのが見える var foo = e.Data.GetData(typeof(Foo)); // fooはnull } }
5154,c#,Sandcastle Help File Builderを使用してC#ソリューションのヘルプを作成しています。 ヘルプに出力されるメンバーをアセンブリ(名前空間も分離しています)とアクセス修飾子に応じて変更したいのですが、GUIによるAPI Filterの指定はメンバー毎となっているため指定に非常に手間がかかります。リフレクションを使用してshfbprojファイルに除外メンバーを書き込む手もありますが、パターンマッチングやアドオンなどを使用してスマートに解決する方法はないでしょうか。
5155,android|python,Android のライブラリ Volley で JSON を POSTで送った後、Pythonで取り出せません。 クライアント側 (Android ) JsonObjectRequest request = new JsonObjectRequest(Request.Method.POSTurljsonData new Response.Listener() { @Override public void onResponse(JSONObject response) { } } new Response.ErrorListener() { @Override public void onErrorResponse(VolleyError error) { } }); サーバ側 (Python) import json import sys import cgi print "Content-Type: application/json\n" form = cgi.FieldStorage() print form myjson = json.load(sys.stdin) print myjson 結果 FieldStorage(None None '{"key":"value"}') エラーログ Traceback (most recent call last): File "receive.py" line 20 in myjson = json.load(sys.stdin) File "/usr/lib/python2.7/json/__init__.py" line 290 in load **kw) File "/usr/lib/python2.7/json/__init__.py" line 338 in loads return _default_decoder.decode(s) File "/usr/lib/python2.7/json/decoder.py" line 366 in decode obj end = self.raw_decode(s idx=_w(s 0).end()) File "/usr/lib/python2.7/json/decoder.py" line 384 in raw_decode raise ValueError("No JSON object could be decoded") ValueError: No JSON object could be decoded curl で　-d "{'key':'value'}" で渡しても同じでした。 データの送信自体はできているようなのですが、自由に使えるデータとして変数に格納するなど、取り出す方法がわかりません。回答よろしくお願いします。
5157,c#,C#でWindows API Code PackのExplorerBrowserを使用しています。 ExplorerBrowserの実装を変更し、表示されるファイルに対して コンテキストメニューの追加 プレビューまたはサムネイルの変更 などのシェル拡張をレジストリや他プロセスに影響しない方法で適用することは可能でしょうか。
5164,jquery,はじめまして。 今度運用することになった Web サイトで、専門業者より XSS の脆弱性が指摘されました。 内容は・・・ 最新版でないバージョンのjQueryが使用されています。 古いバージョンのjQueryでは、クロスサイトスクリプティング等の脆弱性が報告されているため、新しいバージョンのjQueryを使用することを推奨します。 とのことでした。 その Web サイトの jQuery のバージョンは v1.4.3 なので、確かに古いです。しかしながら、 jQuery というのは新しいバージョンにすると、今まで使っていたものが使えなくなっていたり、仕様が変わって Web サイトの画面の動作に影響するので、安易にバージョンアップするのはとても危険だと思います。 また、 jQuery というのは頻繁にバージョンアップされているので、バージョンアップするたびに最新版の jQuery に置き換えて XSS の対応しなければならないのは、とても現実的でないと感じています。 jQuery の XSS 対応について、何か良い方法はないものでしょうか？ どうかお知恵をお貸しください。
5171,python,自分はよく PHP で以下のようにしてデータベースから取得したレコードの変換を行います。 "A" "NAME" => "りんご" "COUNT" => 1) array("GROUP" => "A" "NAME" => "ゴリラ" "COUNT" => 2) array("GROUP" => "B" "NAME" => "ラッパ" "COUNT" => 3) ); $convert_list = array_reduce($list function($result $row) { if (!key_exists($row["GROUP"] $result)) { $result[$row["GROUP"]] = array(); } $result[$row["GROUP"]][] = $row; return $result; } array()); var_dump($convert_list); 結果は以下のようになります。 array(2) { ["A"]=> array(2) { [0]=> array(3) { ["GROUP"]=> string(1) "A" ["NAME"]=> string(9) "りんご" ["COUNT"]=> int(1) } [1]=> array(3) { ["GROUP"]=> string(1) "A" ["NAME"]=> string(9) "ゴリラ" ["COUNT"]=> int(2) } } ["B"]=> array(1) { [0]=> array(3) { ["GROUP"]=> string(1) "B" ["NAME"]=> string(9) "ラッパ" ["COUNT"]=> int(3) } } } これと同様の変換をを Python の reduce()（ないし別の方法）で行うことはできませんでしょうか。
5255,html,Tableタグで構成された表をChromeで印刷すると、tdの高さがランダムに倍になってしまいます。 名前 住所 電話番号 上記のようなシンプルなtableで構成されています。 Chromeの印刷プレビューで、 のように行が倍の高さになる箇所が発生し、そのまま印刷されてしまいます。 tdに高さを与えても効果がありませんでした。 上記のような症状の解決法をご存知でしょうか？ 宜しくお願いします。
5271,python,Pythonのwith文はファイルI/Oに関してよく見かけますが，それ以外に使い方があるのでしょうか？with open('myfile') as f:以外で，with文を使うべき，または使っているのを見かけた例は何かありますか？
5272,javascript|jquery,Javascriptで2つの配列の要素を比較し、配列間で重複している要素だけを削除し結合したいと思っています。 比較する配列は以下のような形です。 var a = new Array("あああ""いいい""ううう""えええ""おおお"); var b = new Array("あああ""いいい""あああ""ううう""えええ""ううう"); 配列[a]がすべての要素がひとつずつ入った配列、配列[b]はその中の要素が増減した配列になり、 最終的に、以下の値を取得したいと思っています。 ("あああ""いいい""あああ""ううう""えええ""ううう""おおお"); 配列[a]と配列[b]を比較し、配列[a]にだけ存在する要素を配列[b]にpush、 配列[b]の中で重複している要素については、削除せずにそのままにしたいのです。 しかも、必ず配列[b]のほうが要素数が多いとも限りません。。。 ※（"あああ"）だけという場合もあります。 ごく簡単なscriptなのかもしれないのですが、思うような結果になかなか辿り着けません。 お力をお貸しください。どうぞよろしくお願いいたします。
5286,c#,メインウインドウを閉じると同時に、 別で開いているウインドウも一緒に閉じたいのですが、下のコードでは閉じることが出来ません。 方法があればご教授をお願いします。 ～メインウインドウクラス～ //メインウインドウを閉じるときのイベント private void closing(object sender EventArgs e) { //別ウインドウを閉じる Window setWindow = new settingWindow(this); setWindow.close(); }
5288,python,Python2.7を使っています。 HTML HEAD内のCSSファイルやStyle定義を、BODY内のタグにStyleとして埋め込みたい。変換してくれるモジュールを探しています。 変換前 タイトル文章 変換後 タイトル文章 Pythonでこのよな処理が可能なモジュールなどはありませんか？ HTMLメールを出す際に必要となっています。
5294,c#,ひとつのクリックイベントメソッドを、複数のボタンから使用したいのですが、 ボタンによって、色コードを表示するテキストボックスが異なります。 ですので、このメソッドの引数としてテキストボックスを渡したいと考えていますが、今のところ解決出来ておりません。 解決方法の分かる方がいましたらご教授をお願いします。 private void Button_Click(object sender RoutedEventArgs e) { // [色の設定]ダイアログを表示 System.Windows.Forms.ColorDialog colorDialog1 = new System.Windows.Forms.ColorDialog(); if (colorDialog1.ShowDialog() == System.Windows.Forms.DialogResult.OK) { // 色を取得 System.Drawing.Color col = colorDialog1.Color; // 色を数値から、16進数の文字列として表現させる string strColor = "#" + col.R.ToString("X2") +  // Red(赤)  を16進数2桁表示 col.G.ToString("X2") +  // Green(緑)を16進数2桁表示 col.B.ToString("X2");   // Blue(青) を16進数2桁表示 // テキストボックスがボタンによって異なる Tテキストボックス.Text = strColor; } }
5324,javascript|jquery,こんにちは。 現在運用中のWebサイトで、jQueryを使ってコードを書いている箇所を探しています。 今のところ、htmlファイルをテキストファイルで開いて「$(」をキーにして検索をしています。 しかしながら、htmlやPHPのファイルが沢山あり苦痛になってきました。 jQueryを使っている箇所を探しだす良い方法はないものでしょうか？ また、ツールなどがあったら教えてください。 どうぞ宜しくお願い致します。 P.S. 作業環境（開発環境含む）：Windows7Pro 公開しているWebサイト：レンタルサーバー（CentOS） 他、HTMLやPHPのファイルはFTPソフトを使って、自分のパソコンにダウンロードして作業を行っています。
5329,python,AWS CloudFrontを Pythonから boto を使って設定しています。 しかし、以下の設定ができません。 botoでは出来ないのでしょうか？ Grant Read Permissions on Bucket: Yes Update Bucket Policy
5335,php,前任者から引き継いだPHPコードをメンテナンスのために読み込みしています。 Zend_Auth::getInstance()->getIdentity(); のリターン値は下記URLで記述のように getIdentity() - 認証を試みた ID 情報を返します。 http://framework.zend.com/manual/1.12/ja/zend.auth.introduction.html これは例えばログインIDのような単なる文字列だと認識していますが、それで良いのでしょうか？ なぜこんな質問をするかというと現在読み込んでいるソースコードで $user = Zend_Auth::getInstance()->getIdentity(); $user_id = $user["id"]; のような実装をしています。 $userを連想配列（ユーザオブジェクト）のように扱っているように見えます。 そのためZend_Auth::getInstance()->getIdentity() のリターン値が単なる文字列なのかオブジェクトを返すことができるのだろうか？ という質問です。 よろしくお願い致します。
5342,c#,System.Linq.GroupBy()メソッドについて、Groupingのキー項目を 動的に指定するにはどうしたらよいのでしょうか。 対応方法をご存知の方がいらっしゃいましたら、ご教示お願いいたします。 なお、.NET Frameworkは4.5を使用しています。 Groupingの結果、keyは一意になる場合に限り出力し、 valueは、常にサマリ値を出力するという制限を設けております。 // メイン処理 void main() { // 初期化 groupByList = new List(); for (int i = 0; i < 10; i++) { groupByList.Add(new GroupByEntity() { key1 = "key1" + Math.Floor((double)(i / 2)).ToString() key2 = "key2" + Math.Floor((double)(i / 3)).ToString() key3 = "key3" + Math.Floor((double)(i / 4)).ToString() key4 = "key4" + Math.Floor((double)(i / 4) + 2).ToString() key5 = "key5" + Math.Floor((double)(i / 5)).ToString() value1 = 10 + i value2 = 20 + i value3 = 30 + i }); } outputToConsole(groupByList "初期値"); // 動的GroupBy Type groupByType = typeof(GroupByEntity); ParameterExpression groupByParam = Expression.Parameter(groupByType "m"); MemberExpression key1Member = Expression.MakeMemberAccess(groupByParamgroupByType.GetMember("key1").First()); MemberExpression key2Member = Expression.MakeMemberAccess(groupByParamgroupByType.GetMember("key2").First()); MemberExpression key3Member = Expression.MakeMemberAccess(groupByParamgroupByType.GetMember("key3").First()); MemberExpression key4Member = Expression.MakeMemberAccess(groupByParamgroupByType.GetMember("key4").First()); MemberExpression key5Member = Expression.MakeMemberAccess(groupByParamgroupByType.GetMember("key5").First()); List keyMembers = new List(); //---修正前ここから--- //keyMembers.Add(key1Member); //keyMembers.Add(key2Member); // //// ■■このkeyMembersを、下のgroupingにラムダ式として設定したい（以下のように）■■ //---修正前ここまで--- //---修正後ここから--- if (条件１) keyMembers.Add(key1Member); if (条件２) keyMembers.Add(key2Member); if (条件３) keyMembers.Add(key3Member); if (条件４) keyMembers.Add(key4Member); if (条件５) keyMembers.Add(key5Member); // ■■このkeyMembersを、下のgroupingにラムダ式として設定したい // ■■例えば、上記条件１・条件２がtrueとなる場合は、下記groupingと同等になるようにしたい //---修正後ここまで--- Expression> grouping = (m => new { m.key1 m.key2 }); List list = groupByList .GroupBy(grouping.Compile()) .Select(m => new GroupByEntity() { key1 = selectUniqueValue(m.Select(val => val.key1)) key2 = selectUniqueValue(m.Select(val => val.key2)) key3 = selectUniqueValue(m.Select(val => val.key3)) key4 = selectUniqueValue(m.Select(val => val.key4)) key5 = selectUniqueValue(m.Select(val => val.key5)) value1 = m.Sum(val => val.value1) value2 = m.Sum(val => val.value2) value3 = m.Sum(val => val.value3) }) .ToList(); outputToConsole(list "結果"); } // リスト内の文字列が一意になる場合に限り、その値を戻り値とする private string selectUniqueValue(IEnumerable list) { if (list.Distinct().Count() == 1) { return list.First(); } else { return string.Empty; } } // コンソールへの出力 private void outputToConsole(List list string title) { Console.WriteLine(string.Format("---{0}---" title)); foreach (GroupByEntity row in list) { Console.WriteLine(row.createOutputLine()); } Console.WriteLine("------------"); } // Grouping用属性 public class GroupByEntity { public string key1; public string key2; public string key3; public string key4; public string key5; public int value1; public int value2; public int value3; // 出力用文字列作成 public string createOutputLine() { List ret = new List(); ret.Add(createOutputValue(key1)); ret.Add(createOutputValue(key2)); ret.Add(createOutputValue(key3)); ret.Add(createOutputValue(key4)); ret.Add(createOutputValue(key5)); ret.Add(createOutputValue(value1.ToString())); ret.Add(createOutputValue(value2.ToString())); ret.Add(createOutputValue(value3.ToString())); return string.Join("" ret); } // 出力用文字列整形 public string createOutputValue(string value) { return value.PadRight(7); } }
5346,c#,現在，VisualStudioC#のフォームアプリケーションで，CheckedListBoxを使用してToDoリストを制作しています． ListBoxの機能に加えて各アイテムがチェックされているかどうかという状態を保存できますが， それに加えて各アイテムに対し重要であるかどうかという状態を保存できるようにしたいと考えています． CheckedListBoxを継承したカスタムコントロールを作成して，これを実現することは可能でしょうか．この重要かどうかを変更できるメソッドをフォームから呼び出せるようにし，最終的にはOnDrawItemをオーバーライドし，重要な要素のForeColorを変えるということを考えています． できれば具体的な実装方法を教えていただきたいです． よろしくお願いします．
5363,c#,Visual Studio Community 2013です。 C# でコードにエラーがある時にソースを保存すると、このようなメッセージが毎回表示されます。 私はソースを編集中にこまめに保存する癖があるので何度もメッセージが出て使いにくいです。 このメッセージを非表示に設定する方法をご存じの方は教えてください。
5368,c#,.NET 4.5.2 + Prism Library 5.0 for WPF の環境にて、 Microsoft.Practices.Prism.Mvvm.BindableBase を継承したクラスを作成したところ、 下のビルドエラーが特定の環境で発生するようになりました。 エラー   1   型 'System.ComponentModel.INotifyPropertyChanged' が参照されていないアセンブリで定義されています。アセンブリ 'System.ObjectModel Version=4.0.0.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a' への参照を追加してください。 クラスの中身は何も書かれておらず、クラス名の部分に波線のエラー表示が出ます。 3つの環境でテストし、1台の PC でのみエラーになってしまいます。 3台の PC の環境はどれも Windows 8.1 64bit Visual Studio 2013 Update 4 です。 原因が分かる方がいましたらご教授をお願いします。
5381,c++,以下の C++ ソースコードにおいて template class OuterClass { public: class InnerClass; }; template class OuterClass<_t_type_>::InnerClass { public: InnerClass() { } template InnerClass(const typename OuterClass<_t_type2_>::InnerClass& _a_InnerClass_) {  } }; struct foo { }; struct bar { }; int main() { OuterClass::InnerClass o1; OuterClass::InnerClass o2 = o1; // error: no viable conversion from 'OuterClass::InnerClass' to 'OuterClass::InnerClass' } OuterClass::InnerClass o2 = o1; がエラーとなります。 template InnerClass(const typename OuterClass<_t_type2_>::InnerClass& _a_InnerClass_) {  } において _t_type_ が bar _t_type2_ が foo となって解決されることを期待したのですが、期待通りではありませんでした。 clang++ g++ の両方でコンパイルしたのですが同じ結果でした。 やりたいことは任意の typename T に対し OuterClass::InnerClass となって、 任意の typename　T1 と任意の typename T2 で OuterClass::InnerClass　と　OuterClass::InnerClass のコピーコンストラクタが成り立つようにしたいためです。 質問1: なぜこれは解決できないでエラーとなるのでしょうか。 質問2: エラーがでないようにするには、どうしたらいいでしょうか。 参考までに OuterClass::InnerClass o2 = o1 をコメントアウトすることで、 InnerClass() { } は期待どおりに機能します。
5396,c#,下記画像のように、ひし形パレットとカスタムパレットのカラーダイアログを使用したいのですがなかなか見当たりません。 このダイアログの実装方法など分かる方がいましたらご教授をお願いします。
5403,c#,Visual Studio 2010 C# / .Net Framework 4.0 にて、 Windows Form アプリケーションの開発を行っています。 アプリケーションの実行環境は Windows 8.1 タブレットをターゲットとしており、 機能としてはタブレットに内臓されている GPS より現在位置情報の取得を行っています。 下記 LocationInfo クラスの Get() にて緯度経度を返しているのですが、Wifiに接続されているときと、接続されていない場合で取得値に差異があります。 ※ WiFi 接続時は現在地とは全く違う場所を返してきている様です。 Windows 8 標準アプリの「地図」ではオンラインオフラインいずれの場合も正常な位置を取得できているようなのですが、Windows.Device より取得できる値と Windows.System.Device から取得できる値には違いがあるのでしょうか？ また WiFi 接続時に全く違う場所が返されていることの原因としては、位置情報データベース（どこのサービス？）に登録されているアクセスポイントと経度緯度座標の情報がおかしいと考えればよいのでしょうか？これを解決する術はありますか？ Wifi 接続時であっても GPS センサーの値（衛星値）のみを取得する方法はないでしょうか？ デバイスに COMポートから直接アクセスを試みましたが、デバイスマネージャの COMポートのツリーには GPS デバイスは表示されておらず、センサーのツリーに表示されていました。 public class LocationInfo { private static System.Device.Location.GeoCoordinateWatcher _wtc; private static double _latitude = double.MinValue; private static double _longitude = double.MinValue; private static bool _changed; public static void Get(ref double latitude ref double longitude) { _changed = false; System.Threading.Thread _proc = new System.Threading.Thread(WatcherStart); _proc.Start(); while(true) { if(_changed) { latitude = _latitude; longitude = _longitude; return; } System.Threading.Thread.Sleep(100); } } private static void WatcherStart() { _wtc = new System.Device.Location.GeoCoordinateWatcher(System.Device.Location.GeoPositionAccuracy.Default); _wtc.PositionChanged += new EventHandler>(PositionChanged); _wtc.Start(); } private static void PositionChanged(object sender System.Device.Location.GeoPositionChangedEventArgs e) { _latitude = e.Position.Location.Latitude; _longitude = e.Position.Location.Longitude; _changed = true; } } やりたいことは、常に GPS の衛星情報のみを使用できるようにしたいと考えています。 （電波をつかめていないときはエラー応答で構わない） 上記質問内容の方法以外にも対応方法等がありましたらご教示ください。
5406,javascript|jquery,http://example.com から、以下のコードを実行すると、 var url = 'http://www.yahoo.co.jp'; $.ajax(url { crossDomain: true success: function(res) { console.log(res); } }); 以下のようなエラー表示されます。 XMLHttpRequest cannot load http://www.yahoo.co.jp. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://**.**.**.**' is therefore not allowed access. crossDomainオプションを有効にしているのになぜでしょうか？
5428,html,表題の通りですがwebviewでフェイスブックの参照が出来ません。 以下のような、方法でやっているのですが上手く行きません。 他のページでは上手く行くのですが、フェイスブックはwebviewができないのでしょうか? 確認デバイスはipodipadです。 お詳しい方がおりましたら、ご教授よろしくお願いします。 表示できるURL 表示できないURL(Facebook)
5442,html,cssのtableとtable-cellを使ってdivを横に並べ、さらに入れ子にしたdivの高さを揃えたいです。下のsnippetで、赤い枠線の高さを左側と右側で同じにしたい。 左側の高さは内側の要素によって変わるので、heightを明示的に指定することはできません。 JavaScriptを使用せずにcssのみで可能でしょうか？ .table { display: table; width: 100%; } .table > div { display: table-cell; width: 50%; padding: 10px; border: 1px solid #000; } .table > div > div { height: 100%;  /* 指定しても効果なし */ padding: 10px; border: 1px solid #F00; } 左側 左側 左側 右側
5443,c++,背景 void * と関数ポインタとの相互変換は、ISO/IEC 9899 や ISO/IEC 14882 では未定義となっています (広く使われている言語拡張の例として挙げられてはいますが) が、そのままでは POSIX のdlsym() が使い物にならなくなるため、dlsym() の解説に以下のような注釈が付けられ、void* から関数ポインタへの変換が認められています。 IEEE Std 1003.1 2013 Edition の dlsym() の解説より引用: Note that conversion from a void * pointer to a function pointer as in: fptr = (int (*)(int))dlsym(handle "my_function"); is not defined by the ISO C standard. This standard requires this conversion to work correctly on conforming implementations. 質問 そこで気になったのですが、逆方向の変換、即ち関数ポインタから void * への変換は認められているのでしょうか。 私が IEEE Std 1003.1 を調べた範囲内ではそのような記述を見付けられなかったのですが、見落しかもしれないと思い、質問させて頂きました。 関数ポインタをvoid *に変換することは、Linux上でプログラミングをするにあたり、今までちょくちょくやっていたのですが、もしPOSIXで認められていければ避けるようにしようかと考えています。
5472,c#,PDFjetを用いて以下のように総ページ数を取得していますが、 int CountPage(string filePath) { var pdf = new PDF(); using (var fs = new FileStream(filePath FileMode.Open FileAccess.Read) { using (var bs = new BufferedStream(fs)) { return pdf.GetPageObjects(pdf.Read(bs)).Count; } } } この書き方だと保護されたPDFを読み込むとReadでSystem.IO.InvalidDataException が発生してしまいます。 保護されたPDFで総ページ数を取得するにはどうすれば良いでしょうか？ もしくは総ページ数を取得するための他のライブラリを教えていただければと思います。 (iTextはライセンスの問題で使えません。MITやBSDなどのライセンスで探しています。)
5476,php|html,WordPress ブログに、 LINE Facebook Twitter に OGP を適応させたいのですが、 LINE だけうまく表示されません。 コードが悪いのかと思い、別の WordPress サイトに同じ OGP コードとリンクを設置しましたが、普通に LINE も表示されました。 検索しても LINE の OGP について詳しく書いている記事を私の力では見つけることができませんでした。 WordPress 側の設定が何かLINEの表示を邪魔しているのでしょうか？ 詳しい方が居ましたらお手数をおかけしますが、解決にご協力いただければと思います。 参考までに OGP を記載したコードを貼っておきます。（xxxで隠している箇所は絶対パスで記載しています。）
5490,java|html,JSP の html:checkbox で、初期値でチェックを入れた状態にしたいのですが、属性には初期値でチェックをいれた状態にするものがないように思います。 方法が分かる方がいましたら、ご教授お願いします。 ﾁｪｯｸﾎﾞｯｸｽ
5514,jquery,下記の様に、canvasにexplodeのアニメーションをかけたところ、動作しません。 $("#my_canvas").effect("explode" {} 200); こちらはOK $("#my_canvas").effect("bounce" {} 200); canvasにかけられるアニメーションとかけられないアニメーションがあるのでしょうか？ 追記： 私の環境では下記のコードを実行すると、アニメーションせずにただ画像が消えます。 実行環境はmacのchromeです。 読み込み $canvas = $("").appendTo("body").width(500).height(500); var ctx = $canvas[0].getContext('2d'); var img = new Image; img.onload = function(){ ctx.drawImage(img00); // Or at whatever offset you like }; img.src = "https://www.google.co.jp/images/srpr/logo11w.png" イメージロード後にアニメーション実行 $canvas.effect("explode"{}500);
5555,ios|html,スマートフォン向け Web サイト制作に関する質問です。 画面の下に固定のナビゲーションを配置しようと思っているのですが、 iOS の Safari で画面下部をタップすると戻るボタン等のメニューバーが現れる動きをします。 これでは 1 回目の操作ではメニューバーが出るだけで、もう一度タップしないとナビゲーションを操作する事ができません。 viewport の minimal-ui の設定でそもそもメニューを表示させない事も検討したのですが、メニューは無くさないようにしたいです。 つきまして、 iOS の Safari でページを上下にスクロールしてもメニューバーが常に表示されている状態にする事ができればと思っていますが、実装方法がおわかりになる方はご教示ください。
5565,c#,テキストボックス以外のスペースをクリックしたら、テキストボックスからフォーカスがはずれるようにしたいのですが、この場合ウインドウのクリックイベント時に、Focus()でウインドウにフォーカスを合わせる方法しかないのでしょうか？ textboxにフォーカスが合って以後、他のtextboxやbuttonをクリックするまでフォーカスが移動しません。 （FocusableがTrueの空きスペースをクリックしても、textboxからフォーカスがはずれません） 他の方法が分かる方がいましたらご教授お願いします。
5568,c#,LabelのBackgroundを、System.Windows.Forms.ColorDialogのcolorに適用したいです。 方法が分かる方がいましたら、ご教授をお願いします。
5576,c++,MFCで１秒周期で処理を行うプログラムを作成していますが、 標準のタイマーを利用するとほぼ毎秒に10ミリ秒〜15ミリ秒のずれが発生します。 マルチメディアタイマーを利用するとタイマーの精度問題は解決できますか 他のライブラリと相性が悪く他ライブラリがクラッシュしてしまいます。 プロジェクトの関係で他ライブラリは変更できません。 標準のタイマーの精度は上げる方法はありますか？ あるいは標準のタイマーのズレを補正する方法はありますか？ ご教授よろしくお願いいたします。 -- 2015/02/01 -- 遅くなりましたが、時間がなかったのでとりあえずタイマーのズレを補正する方法で対応しました。 補正の方法としては 最初のマイマーのセットのタイミングで、基準時間と実行回数を設定し、 基準時間より総ずれた時間とズレの平均値を計算し次のタイマーにその分を減算してセットしています。 しばらく動かして見ましたが、ほぼ安定して動作しています。 あとは1日1回基準時間と実行回数を初期化するロジックを追加すれば問題は解決できると思います。
5577,jquery,Lightbox2 で小さい画像をクリックして下の画像のように大きく表示させるまではできました。しかし、本来は赤丸の内部にキャプチャを表示させたいですし、 "Go to blog!" のフォントは "Taro Yamada" より小さくしたいです（それぞれフォントサイズをコントロールできるようにしたいです） 現状のプログラムは以下のとおりです。 Welcome to Web Site We are Staff 一部改定しておりますが、おおむねこのような感じです。 ただ、Lightbox2 の  タグはこのままです。 CSS でどの様にプログラミングをしたらいいのでしょうか？ よろしくお願いいたします。
5579,python,始めまして。 supervisordを利用しました。 /etc/supervisord.confというファイルにprogramを記載しました。 programを4つほど登録しました。 しかしながら、アルファベット順で4番目のものがどうしてもWebのコンソールに表示されません。 Webのコンソールと言うのは、http_portで指定して開くものです。 ※正式名がわかりません。が「(c) 2006 Chris McDonough」の記載がされてるWebページです。 コマンドは間違ってなさそうです。 [program:program_name] command=python /home/hoge/hoge.py some param startsecs = 5 user = root redirect_stderr = true stderr_logfile = /var/log/supervisor/program/hoge-stderr.log stdout_logfile = /var/log/supervisor/program/hoge-stdout.log のように行っています。 ご教授お願いします。 全部です。 ↓ [supervisord] http_port=/var/tmp/supervisor.sock ; (default is to run a UNIX domain socket server) http_port=0.0.0.0:8888 ; (alternately ip_address:port specifies AF_INET) ;http_port=127.0.0.1:9001  ; (alternately ip_address:port specifies AF_INET) ;sockchmod=0700              ; AF_UNIX socketmode (AF_INET ignore default 0700) ;sockchown=nobody.nogroup     ; AF_UNIX socket uid.gid owner (AF_INET ignores) ;umask=022                   ; (process file creation umask;default 022) logfile=/var/log/supervisor/supervisord.log ; (main log file;default $CWD/supervisord.log) logfile_maxbytes=50MB       ; (max main logfile bytes b4 rotation;default 50MB) logfile_backups=10          ; (num of main logfile rotation backups;default 10) loglevel=info               ; (logging level;default info; others: debugwarn) pidfile=/var/run/supervisord.pid ; (supervisord pidfile;default supervisord.pid) nodaemon=false              ; (start in foreground if true;default false) minfds=1024                 ; (min. avail startup file descriptors;default 1024) minprocs=200                ; (min. avail process descriptors;default 200) ;nocleanup=true              ; (don't clean up tempfiles at start;default false) ;http_username=user          ; (default is no username (open system)) ;http_password=123           ; (default is no password (open system)) ;childlogdir=/tmp            ; ('AUTO' child log dir default $TEMP) ;user=chrism                 ; (default is current user required if root) ;directory=/tmp              ; (default is not to cd during start) ;environment=KEY=value       ; (key value pairs to add to environment) ;[unix_http_server] ;file = /tmp/supervisor.sock ;chmod = 0777 ;chown = dev:dev [supervisorctl] serverurl=unix:///var/tmp/supervisor.sock ; use a unix:// URL  for a unix socket ;serverurl=http://127.0.0.1:9001 ; use an http:// url to specify an inet socket ;serverurl=http://127.0.0.1:3331 ; use an http:// url to specify an inet socket ;username=chris              ; should be same as http_username if set ;password=123                ; should be same as http_password if set ;prompt=mysupervisor         ; cmd line prompt (default "supervisor") ; App appname Program ================================ ; hoge 3 [program:hoge_appname] command=python /home/username/work/some_program.py start 3 demo_appname /var/www/django/demo/appname/appname startsecs = 5 user = root redirect_stderr = true stderr_logfile = /var/log/supervisor/Program/hoge_appname-stderr.log stdout_logfile = /var/log/supervisor/Program/hoge_appname-stdout.log ; bar 4 [program:bar_appname] command=python /home/username/work/some_program.py start 4 demo_appname /var/www/django/demo/appname/appname startsecs = 5 user = root redirect_stderr = true stderr_logfile = /var/log/supervisor/Program/bar_appname-stderr.log stdout_logfile = /var/log/supervisor/Program/bar_appname-stdout.log ; appnametwo Program ================================ ; hoge [program:hoge_appnametwo] command=python /home/username/work/some_program.py start 3 demo_appnametwo /var/www/django/demo/appnametwo/appname startsecs = 5 user = root redirect_stderr = true stderr_logfile = /var/log/supervisor/Program/hoge_appnametwo-stderr.log stdout_logfile = /var/log/supervisor/Program/hoge_appnametwo-stdout.log ; bar 4 [program:bar_appnametwo] command=python /home/username/work/some_program.py start 4 demo_appnametwo /var/www/django/demo/appnametwo/appname startsecs = 5 user = root redirect_stderr = true stderr_logfile = /var/log/supervisor/Program/bar_appnametwo-stderr.log stdout_logfile = /var/log/supervisor/Program/bar_appnametwo-stdout.log ; The below sample program section shows all possible program subsection values ; create one or more 'real' program: sections to be able to control them under ; supervisor. ;[program:theprogramname] ;command=/bin/cat            ; the program (relative uses PATH can take args) ;priority=999                ; the relative start priority (default 999) ;autostart=true              ; start at supervisord start (default: true) ;autorestart=true            ; retstart at unexpected quit (default: true) ;startsecs=10                ; number of secs prog must stay running (def. 10) ;startretries=3              ; max # of serial start failures (default 3) ;exitcodes=02               ; 'expected' exit codes for process (default 02) ;stopsignal=QUIT             ; signal used to kill process (default TERM) ;stopwaitsecs=10             ; max num secs to wait before SIGKILL (default 10) ;user=chrism                 ; setuid to this UNIX account to run the program ;log_stdout=true             ; if true log program stdout (default true) ;log_stderr=true             ; if true log program stderr (def false) ;logfile=/var/log/cat.log    ; child log path use NONE for none; default AUTO ;logfile_maxbytes=1MB        ; max # logfile bytes b4 rotation (default 50MB) ;logfile_backups=10          ; # of logfile backups (default 10)
5584,javascript|jquery,現在WEBページを運営しておりますが、初回読み込み時に背景→テキスト→画像の順番で表示されます。 テキストはWeb Fontで、画像はjQueryを使用していますので、個人的には納得（CDNとキャッシュを利用して２回目以降の読み込みはいたって快適）していたのですが「せめてヘッダー画像だけでも先に表示できないか」との要望を受けてしまい現在困っております。 画像の軽量化/最適化やコードの圧縮なども行っております。 他に何か有効的な方法がございましたらご教授お願いいたします。 使用CMS：WordPress ヘッダー：スライダー(Rev Slider)
5601,html,見出しタグなどから目次を生成し、ページ内にリンクを張りたいと考えています。 JS等で自動で生成するにはどうしたらいいでしょうか？
5630,javascript|html,Webブラウザで 1. Webページ上の「ダウンロード」リンクをクリックしたら、フォルダ選択のダイアログを表示 2. ユーザーが選択したフォルダに複数のファイルを一括でダウンロード 3. ダウンロードするファイル数は不定（サーバー側で決定） このような要件があるのですが、何らかの方法で実現できるものなのでしょうか。 たとえば、ブラウザの特定のアドオンやプラグインを使用すれば実現できるとか。 クライアントＯＳは Windows（７以降）です。 ブラウザは Internet Explorer（11以降）が望ましいですが、他のブラウザでも構いません。 サーバーサイドは ASP.NET が前提ですが、他のプラットフォームで実現できるのであれば、それでも良いです。
5647,python,supevisorのWebコンソールを使用しています。 デフォルトですと、/etc/supervisord.confファイルでprogramに設定したものが そもまま出てしまいますので、 そこを別名にして、日本語などを使用することは可能でしょうか？ そのまま、programを直接日本語などを入力しても文字化けしてしまい不可能でした。 よろしくお願いします。
5655,python,Python3のインタラクティブシェル上で補完を有効にしたいのですが、どうすればいいのでしょうか? Ctrl-nで補完がしたいのですが、PYTHONSTARTUPで指定したファイルに import readline import rlcompleter readline.parse_and_bind("\C-n: complete") としてもインタラクティブシェル上で補完されせん。 OSはOS X Yosemiteです。
5685,python,pythonでテキストから単語を抽出し、リストに代入しました # -*- coding: utf-8 -*- import sys title = sys.argv[1:] pare=[] #vocab.txtから読み取り for line in open(title[1]): line = line.split() i=0 for word in line: if(i==0): pare.append(word) i+=1 fp = open('distance用words.txt''w') その後、単語に割り当てられた数値に応じた単語を出力しようとした際に次のコードを書きました。 for line in open(title[0]): line = line.split() for score in line: fp.write(str(pare[score])) fp.write('\n') fp.write('EXIT\n') 出力結果が fp.write(str(pare[score])) TypeError: list indices must be integers not str となり、エラーになります。どうしたら入力文字で出力できますか？
5698,html,タグは終了タグが必要 あいうえお   これはＯＫ あいうえお         これはＮＧ タグは終了タグを書いてはいけない これはＯＫ これはＮＧ タグは終了タグを省略できる あいうえお   これはＯＫ あいうえお        これもＯＫ どのタグが終了タグ必須で、どのタグが終了タグ不可、という仕様を確認できる資料を探しています。 HTML4やHTML5、XHTMLなどで微妙に仕様が異なる点もあると思いますが、HTML5だけの仕様でも構いません。 一覧のような形でまとめて確認できるものがあれば教えてください。
5704,html,ブラウザでHTMLの記述をチェックして問題があればアラートを表示するようなことは出来るでしょうか？ Webアプリケーションで動的にHTMLを生成する場合、バグで文法的に間違ったHTMLを生成してしまうことがあります。間違ったHTMLでもブラウザはエラーで停止したりせず、それなりに表示してくれるのですが、エラーにならないので開発者が間違いに気づかないことがあります。 静的なHTMLであれば、HTML向けのエディタで検証出来ますが、動的にHTMLを生成している箇所についてはエディタの検証機能ではカバーしきれません。（例えば、以下の snippet のような場合） 現在はHTML用のエディタや、W3Cのチェックツールに生成されたHTMLのソースをコピペして検証する、ということをやっているのですが、検証するパターンが多いと手間が大変なので、もう少し簡単に確認できる方法を探しています。 p { border: 1px solid red; } あいうえお かきくけこ
5744,c++,お世話になっております。 MFCでは CFileDialog https://msdn.microsoft.com/ja-jp/library/dk77e5e7.aspx でWindowsの一般的なファイルを開いたりするダイアログを作成できます。 その画面をWindowsタブ等で利用する際に、タッチしやすいようにダイアログそのものの見た目の全体サイズを拡大し、「開く」「キャンセル」等のボタンを大きく表示させたいと考えています。 具体的なコードがわかりませんので教えていただければ幸いです。 環境はwin7 VS2008SP1となります。
5753,javascript|html,input.blur時に独自のエラーボックスを出すことを想定したプログラムで focus状態で「tab button」をclickしようとした場合tabもlayerもクリックされていないようですが一体何がクリックされているのでしょうか？ tab button
5758,python,DTIのServersMan VPSを使用しています。 OSはCentOS6です。 PythonのWSGIミドルウェアであるuWSGIをeasy_installを使って入れようとしてますが、 うまく入りません。 コマンドは下記をしています。 #easy_install uwsgi 初めはCコンパイラが必要とのことでgccを入れましたが、 それでも大量のエラーがでてしまい、完了しません。 [thread 1][gcc -pthread] plugins/python/python_plugin.o [thread 0][gcc -pthread] plugins/python/pyutils.o In file included from plugins/python/python_plugin.c:1: plugins/python/uwsgi_python.h:2:20: error: Python.h: No such file or directory plugins/python/uwsgi_python.h:4:25: error: frameobject.h: No such file or directory In file included from plugins/python/python_plugin.c:1: plugins/python/uwsgi_python.h:59: error: expected ‘)’ before ‘*’ token plugins/python/uwsgi_python.h:60: error: expected ‘)’ before ‘*’ token （中略） plugins/python/pyutils.c:386: error: implicit declaration of function ‘PyDict_SetItemString’ plugins/python/pyutils.c:386: error: implicit declaration of function ‘PyString_FromString’ 上記のようなエラーが発生します。 pipで試しても同じ状況です。 WEBで調べて見てもみなさんシンプルにトラブル無くインストールができているようで 対策がわかりません。 よろしくお願いいたします。
5780,android|javascript|html,どなたかご助力下さい。 getFilesDir() で、 data/data/パッケージ名/Files/○○○ の下に css フォルダ javascript フォルダ 画像フォルダ html ファイル を配置しています。 ※ これらは HTML 経由で ZIP ファイルをダウンロード後、こちらに解凍しております。 この HTML ファイルを WebView の loadURL で読み込ませたところ、 JavaScript や CSS は反応しませんでした。 ※ HTML に記述済みのコードは実行されています。 JavaScript や CSS を使うにはどうしたらよろしいでしょうか？ 何卒、宜しくお願い致します。 追記 2016/2/4 ご回答頂いた皆様ありがとうございます。 JavaScripte 側で JQuery を使用しておりまして、 その JQuery の Ajax が原因で読み込みが出来ていないようでした。 そこで、 .setAllowUniversalAccessFromFileURLs() を使用し表示することは出来ました。 皆様の知恵をお貸し頂き大変助かりました。 ありがとうございました。
5798,javascript|html,「ファイルダウンロード完了後に画面遷移などをjavascriptで行う」を参考にASP.NET MVCで実装してみました。 サーバー側はファイルをダウンロードをさせつつCookieをセット、クライアント側はJavaScriptで定期的にCookieをチェックすることでダウンロードの完了を検出する、というものですが、サーバーで設定したCookieがブラウザ側で有効になるのはサーバーからレスポンスデータをすべて受け取った後と理解して良いでしょうか？ 下記コードで実行してみましたが、レスポンスをすべて受信する前にCookieが有効になっているように思われました。（思われました、というのはダウンロードを途中で一時停止する方法が分からなかったので、ダウンロード完了前にalertが表示されてしまうことを確実に確認できていないため） cshtmlは download コントローラーは public ActionResult Download() { var cookie = new HttpCookie("downloaded"); cookie.Value = "yes"; Response.Cookies.Add(cookie); var path = @"c:\hoge.jpg"; return File(path "image/jpeg" "fuga.jpg"); }
5822,python,画像処理を行っていて、特徴量抽出に scikit-learn の PCA を使いましたが、様々な処理を行った後その結果から画像を復元したい（参考（これをpythonでやりたい）：R prcomp での主成分分析結果から元データを復元する）。 具体的には以下のようなコードになっています。 from sklearn.decomposition import PCA from PIL import Image import numpy as np # loading image and convert to gray-scale imgAry = np.asarray(Image.open('image.png').convert('L')) print imgAry.shape  # (224 224) # doing pca decomposition pca = PCA(n_components=2) pca_res = pca.fit(imgAry).transform(imgAry).T[0] print pca_res.shape  # (224) この時、pca_resを使って元画像のarrayを得る方法はありますか？ よろしくお願いします。
5851,html,描画しているDOMを画像へと書き出すにはどうしたら良いでしょうか？ 具体的には下記のようなhtmlを丸ごと一枚の画像にしたいという場合です。 処理はサーバ側、クライアント側を問いません。 test test1 test2
5875,python,OS Marvericks で PillowもしくはPIL を使うを方法について質問させていただきます。 現在、Mac (OS 10.9.5 Mavericks) で Python を使用しており、Xcode(6.1) X11(2.7.7) The freetype(2.5.3_1.) Python(2.7.6.) はすでにインストール済です。 画像処理をするために、Pillow (2.6.1) をインストールしました (Python Pillow / PIL ライブラリを Mavericks (10.9.5) にインストールできない)。 ところが実際に使用しようとするとエラーが出て、使用できません。類似したトラブルが本家 Stack Overflow でも報告されており、参考にしましたが、使えずにおります。 詳しい現状は下記の通りです。同様のエラーを修正できた方、または Python に詳しい方がおりましたら、ご教示いただければ幸いです (当方、Python を最近勉強し始めました)。 pip install pillow で、pillow はインストールされました。 インストール済は下記の通りです。 $pip freeze Pillow==2.6.1 PyOpenGL==3.1.0 arrow==0.5.0 nose==1.3.3 numpy==1.9.0 pygame==1.9.2pre pyserial==2.7 python-dateutil==2.4.0 six==1.9.0 wsgiref==0.1.2 PyCharmで試しに使用したところ (画像を提示するだけのプログラムを実行)、下記エラーが出ました。 ImportError: '関数名' can not be initialized. The Python package 'Python Imaging Library (PIL)' is not installed. Exception AttributeError: "'関数名' object has no attribute 'compression_filename'" in > ignored この時、pillowをimportしていなかったので (他に実験制御系ライブラリを使用しており、そのライブラリをインストールしたあとは、pillowをインストールすれば自動的に使える、と開発者から言われたためです。このライブラリ自体は、pillowを使うようなプログラム以外は問題なく使えます)、プログラムに import pillow とし、再度実行したところ、 Traceback (most recent call last): File "" line 1 in ImportError: No module named pillow が出て、使えずにおります。 ライブラリのインストール方法やパス設定など、私の勉強不足かもしれませんが、よろしくお願いします。 2015/2/12 追記 実行したプログラムのエラー詳細です import expyriment import PIL exp = expyriment.design.Experiment(name="test") expyriment.control.initialize(exp) mask = expyriment.stimuli.extras.VisualMask(size=(100 100)) mask.preload() expyriment.control.start(exp) mask.present() exp.clock.wait(2000) expyriment.control.end() 上記プログラムを実行すると、下記エラーが生じます。 /Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7 /Users/ユーザ名/PycharmProjects/first_test/test0.py Expyriment 0.7.0 (Revision 7a6b73d; Python 2.7.6) File: test0.py (91a9a8) Traceback (most recent call last): File "/Users/ユーザ名/PycharmProjects/first_test/test0.py" line 9 in mask = expyriment.stimuli.extras.VisualMask(size=(100 100)) File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/expyriment/stimuli/extras/_visualmask.py" line 61 in __init__ raise ImportError(message) ImportError: VisualMask can not be initialized. The Python package 'Python Imaging Library (PIL)' is not installed. Exception AttributeError: "'VisualMask' object has no attribute '_compression_filename'" in > ignored Process finished with exit code 1
5926,html,をHTMLで記述し コントローラー内で $scope.tm を記述すると、 「Thu Jan 01 1970 15:32:00 GMT+0900 (JST)」 といったものが取得されます。 HTML側の入力欄には 15:32:00 と入っているのに、その値を取得することが出来ません。 15:32:00のようにhh:tt:ssの書式で取得する方法を教えて下さい。 AngularJS 1.3.0 Cordova 4.1.0
5928,html,現在作成しているECサイトにOGP(Open Graph Protocol)を導入しようとしています。 商品一覧に使うのに適したog:typeはなんなのでしょうか？ 適切なtypeがわからないのでとりあえずarticleとして設定しています。 現在、トップページにog:type websiteをいれ、商品詳細のページにはproductをいれ、その他にはarticleをいれています。
5994,python,公式ドキュメントを参考にしてDjangoでローカライズを行おうとしております。 https://docs.djangoproject.com/en/1.6/topics/i18n/translation/#the-set-language-redirect-view urls.pyに (r'^localize/' welcome_translated) を追加。 settings.pyには MIDDLEWARE_CLASSES = ( 'django.middleware.locale.LocaleMiddleware' # localize のように追加。 さらにこれらはどちらもTrueにしました。 USE_I18N = True USE_L10N = True 更に、今回使うjaの設定方法がドキュメントによって違うので from django.utils.translation import ugettext_lazy as _ LANGUAGES = ( ('ja' _('Japanese')) ('en' _('English')) ) も gettext = lambda s: s LANGUAGES = ( ('ja' gettext('Japanese')) ('en' gettext('English')) ) を両方試しました。※違いがわかりません。 views.pyには、先ほどのurls.pyから呼ばれる最小限の以下のコードを追加しました。 from django.http import HttpResponse from django.utils.translation import get_language activate ugettext_lazy as _ def welcome_translated(request): language = 'ja' cur_language = get_language() try: activate(language) text = _("login") finally: activate(cur_language) return HttpResponse(text) # これがきちんとログインと出るべき 直打ちで'ja'をactivateしており、 locale/ja/LC_MESSAGES/django.po もあり、 msgid "login" msgstr "ログイン" のように設定しています。 しかしながら、Webブラウザでは「login」が表示されてしまいます。 「ログイン」が出るはずです。 しかし、テンプレートでも {% load i18n %} {% trans "title" %} とやっても一向に「ログイン」が表示されません。 ドキュメントの例には、 Calling this function with the value ‘de’ will give you "Willkommen" とあったので、そもそもdjango.poに自分で設定するものではなく、何らかの形で自動的に変換するものかと思い、 'de'を設定して、「welcome」にしたら、ドイツ語の「Willkommen」が表示されるのかと思いましたが、「welcome」がそのまま表示されてしまいました。 なぜでしょうか？ ご教授よろしくお願いします。
5997,c++,vectorとlistどのように使い分けますか？この様な質問を受けました。 そこで私は、vectorは配列でlistはリストだろう。 具体的な使い分けとなると、リストは切ったりつなげたりが得意でvectorは配列メモリが消費が少ない。 けれど、実際に表現するときに切ったりつなげたりして使う使い方なんて心当りがない。 中間地点への一つのデータを頻繁に削除・挿入するのだとしたら検索まで含めるとmapやsetの方が早い気がします。 最初や最後の地点だとしたらlistでなくてもqueueで足りるはずです。 となると、メモリを多く消費して実例の見当たらない切ったりつなげたりの動作が必要になる場面が思い浮かばず、「vectorの方が優れています。」と言ってしまいました。 stlのデータ構造のどれを差し置いてもlistで表現するのが適切となるアルゴリズムやプログラムは存在しますか
5998,html|jquery,htmlのある要素をcanvasに書き出しそれをサーバへpostする処理はhtml2canvas.jsを用いて可能になっています。 この時htmlにアニメーションがあった場合は、アニメーションgifとしてpostしたいと考えていますが、可能でしょうか？
6057,html,下図のように、div要素内のテキストを上下左右の中央揃えにしたいです。 どのようなCSSを書けば良いのでしょうか？ width:200px; height:200px;と書いたのは一例です。 特にこの大きさ自体に意味があるわけではありませんが、要素の大きさはCSSで指定したいのです。
6086,javascript|html,div要素にonloadを付けたいのですが、残念ながら現在の時点ではdivにonloadは付けれません。 ですが、divにonloadなる物を付けたいのですが、何か代用できる方法などはございますでしょうか？ 私がやりたいことは、「onload指定している箇所が読み込まれた後、他の要素を表示する」事です。 本文 上記のサンプルコードの処理をdivでやりたいと思っておりますが、私の知識では実現できなかったので、皆様のお力をお貸しいただければと思っております。 ご返答よろしくお願いいたします。
6087,javascript|jquery,venobox という jQuery用のライブラリを使用してモーダルウィンドウで外部 HTML (同サイト内)をアイフレームで読み込む WEB サイトを制作しています。 venobox http://lab.veno.it/venobox/ モーダルウィンドウを開いた際、背景の右上に × の閉じるボタンが表示されますが、これをモーダルウィンドウ内(枠内右上)に表示する方法と、読み込まれたHTML内に閉じるボタンを設置する方法を教えていただけませんでしょうか。 【追記】 少し質問内容がおかしかったので追記させていただきます。 アイフレームで読み込まれる側に閉じるボタンが設置できれば 閉じるボタンが枠内に表示されることになるので、私の質問はひとつでした。 何卒ご教授の程よろしくお願いいたします。 下記を読み込まれる側のHTMLに設置しただけではタメでした。 X Fancyboxで閉じるボタンを設置する場合などを参考に 読み込む側（親）を操作する必要があるようなので読み込まれる側（子）のHTMLにjQueryを読み込んだ上で下記のようにして parent以降の部分をvonoboxやcloseVboxなど色々変更してみたのですがダメでした。
6108,jquery,$('.target').on('mousemovetouchmove' function(){ console.log('ok'); }); のようにカンマ区切りで複数のイベント発生時処理を同時に定義出来た気がするのですが、出来ませんでした。 $('.target').on('touchmove' function(){ console.log('ok'); }); $('.target').on('mousemove' function(){ console.log('ok'); }); または func = function(){ console.log('ok'); }; $('.target').on('touchmove' func).on('mousemove' func); のようにするしか方法はありませんか？ もう少しなエレガントな書き方はできないでしょうか。
6133,c++,プログラムで確保されるメモリ領域には、スタック領域とヒープ領域があると思います。 スタック領域は関数内などで定義される変数によって確保される領域で、 コンパイルをした時点でメモリの大きさが決まり、確保や解放もOS任せになります。 それに対してヒープ領域は動的確保(mallocとかnew)で確保される領域のことで、 プログラマが解放しない限りそこに残り続けます。 ここで質問なのですが、(上の解釈が間違っている時はご指摘ください) 例えば以下のコード(C++)があったとします。 void Hoge() { int hoge1 = 0; for( int i = 0; i < 10; ++i ){ hoge1+=i; } } ここで変数hoge1、for文内の変数iはどちらもスタック領域に確保されると思います。 また、変数iのスコープはfor文内のみで、ほかからはアクセス出来ません。 質問というのは、for文を抜けた時点で、変数iはメモリ上には残るのでしょうか？ 何が知りたいかというと、変数のスコープが小さければ小さいほど、 メモリの節約になるのかということです。 よろしくお願いします。
6142,c++,今ある問題は足し算と掛け算とわり算のみで構成されている演算です。 double c m d1 d2; /*それぞれに値を代入*/ double x = (c* m + ( d1 + 1.0/ d2 )/ 2.0 )/ (c + 1.0 ); という式です。この式をMaximaに投げると double x = (c* m + 0.5*( d1 + 1.0/ d2 ))/ (c + 1.0); と変形されます。式の整理を行うと double x = (2.0* c* d2* m + d1* d2 + 1.0)/ ((2.0* c + 2.0)* d2); のようになります。 そのまま打ち込めば式を間違えることがないのですが 計算誤差まで考慮して式変形をするとなると 割り算や掛け算による誤差が大きいのか 足し算や引き算による誤差が大きいのか を考える必要があると感じました どちらの演算子が少ない状態のほうが計算誤差が発生しにくいですか 追記 書籍「数値計算の常識」には式変形により誤差を回避できる例が挙げられているが具体的にどのように式を変形することが誤差の軽減につながるかについては書かれていない。（特に割り算掛け算について） 多倍長演算や加算アルゴリズムの詳解を期待しているのではなく この質問では式変形により軽減できるのだとしたらどのように変形することが望ましいのかを質問しています。
6151,python,API的な事を実現したいのですが、PythonでDjangoなどの大掛かりなFrameworkを使用せずにURLDispatchを行うには、どのように実装すれば良いのでしょうか？
6157,python,コマンドラインからpip installを実行するのではなく、PyCharm から pip のライブラリをインストールする方法はありますか？
6190,javascript|html|jquery,img要素の読み込み完了を検知し、非表示要素を表示するため、onload=""を使用してCSSの生成を行いたいのですが、いまいち方法が理解できておりません。 上記のCSSを、onloadを使用して に上書きしたいと思っています。 onloadの処理でdisplay:blockを生成する事は可能でしょうか？ 知識のある方お手数をお掛けいたしますが、ご教授いただける幸いでございます。 以下は現在のコードでございます。 .main_off { display: none; } .main_on { display: block; } 上記コードは(div内はかなりフェイクいれています)色々なサンプルを混ぜ合わして作っている為、私自身理解しきれていません。 ですので、まったく手法が変わっても構いませんので、どうぞよろしくお願いいたします。
6206,javascript|html,全てののロードが完了した時点で処理をしたい、といった質問の回答において、$.Deferredを使った例が挙げられています。 （以下 https://ja.stackoverflow.com/questions/6086#comment5088_6127 よりコードを引用） $.fn.all_loaded = function () { var all_done = new Array(); this.each(function () { if ( this.complete || this.readyState === 4) return; var promise = new $.Deferred(); all_done.push(promise); this.onload = function () { promise.resolve(); } }); return $.when.apply($ all_done); }; $('.images').each( function(i holder) { $(holder).find('img').all_loaded().done(function() { if( holder.onload) holder.onload.call( holder); }); }); このコードではcompleteやreadyStateを用いたロード済みチェックを行った後にonloadイベントの設定を行っていますが、この間にロードが完了することでonloadが呼ばれない可能性はないのでしょうか。 試しにonloadイベントを設定する直前にダミーループを仕込んで時間をかけさせてみたところ、きちんとイベントは発火しているようなのですが、規格上の根拠がないものかと探しています。 // IE8では画像がキャッシュされている際に後から設定したonloadが呼ばれないという話が // あるようなので、逆にそれ以外では後から設定しても呼ばれるのが通例のような気はしますが。。
6212,javascript|html,jQueryやBootstrapなど .min とついているファイルはスペースやコメントもなくギュウギュウ詰めで書かれているのですが、このようなものはどうやって作成するのでしょうか？
6225,python,pythonでテキストデータの行数を取得したいです 1行読み込む毎にint型変数をインクリメントする以外に良い方法はありますか？
6318,php|html,あまりにも初歩的な質問で失礼します。 例えば、 http://www.example.com/index.html?a=1 http://www.example.com/index.html?a=1&b=2 のようなURLがあるとします。 上記URLの末尾にindex.html?a=1とかindex.html?a=1&b=2など、 ?以下がURLパラメータということを最近知りました。 この「?a=1」とか「?a=1&b=2」という箇所（パラメータ）は、 "通常"はPHPなどのプログラミング言語から出力されるものなのでしょうか？ それともHTMLで出力されるものなのでしょうか？ ご教授よろしくお願い致します。
6327,python,Mac (OS 10.9.5 Mavericks) のターミナルで、~/.bash_profile を開く方法について質問させていただきます (python初心者です)。 Python (2.7.6.) のライブラリ (すでにインストール済みのもの) をimportして使用できるようにするために、パス設定をしようとしています。 (Python Pillow/PILライブラリをMavericks (10.9.5) で使えない) PYTHONPATHの設定を確認するため、ターミナル上で下記を入力しました。 import sys print(sys.path) もしくは、 echo $PYTHONPATH しかし、双方何も出力されず、パス設定がされていないことがわかりました。 そのためパス設定を行うべく、~/.bash_profileターミナルに入力したのですが、Permission deniedと出力され、開くことができませんでした。 ~/.bash_profileを開き、パス設定をする方法をご存じでしたら、ご教示いただければ幸いです。 よろしくお願いします。
6349,javascript|html,現在は str = "url(http://exapmle.com)" str.split("(")[1].split(")")[0] => "http://exapmle.com" 等としていますが、もうちょっとスマートな方法があるような気がします。
6362,php|html,いつもお世話になっております。 Web系超初心者のWeb_beginnerです。 HTMLに埋め込まれたPHPのコードで構造が分からない箇所があります。 それは上記のようなコード（もちろん変数名などは変えています）なのですが・・・ if文の構造について 上記のコードですが、if文はどのように働いているのでしょうか？「zipcode」があったら「〒zipcode」を表示しないさい、という感じの意味なのでしょうか？ .' ';について if文の途中で.' ';と記述があるのですが、これはどういう意味なのでしょうか？ .$について 変数名の前に.$（ダラーの前にドットが付いている）とありますが、どういった意味で変数の前にドット（.）が付いているのでしょうか？ PHPの本や他のWebサイトにも、記載例や説明がなかったので、こちらのサイトに教わりにきました。 どうぞご教授よろしくお願い致します。
6503,javascript|php|html,初めまして。 PHPを3ヶ月前に勉強し始めたもので、現在PHP+MySQLで初歩的なウェブアプリを作ろうと試行錯誤しています。まずは簡単な発注書を作ってみようと始めたのでが、フォームの入力で躓き、ネットで調べてますがうまくいかないので教えて頂けると幸いです。 入力項目ですが、 日付 注文先 企業名 支店名 注文項目 大分類 中分類 小分類 単価 数量 総額 となってます。 日付、注文先、注文項目毎に選定ボタンを用意して色々と試行錯誤しているのですが、複数の実行ボタンがあるせいで、入力した項目が消えてしまいます。つまり、日付確定ボタンを押した後に、注文先確定ボタンを押すと入力した日付が消えてしまうといった感じです。＄_COOKIEも試してはいるのですが、なかなかうまく行きません。どなたかこういった販売管理ツールをPHPで構築されたことがあればご教示頂けると幸いです。私が目指す仕様は以下の通りです。よろしくお願い致します。 ★ やりたいこと： ①.注文日付を選択 ② dcodeというINPUT欄に品目コードを入れて品目をDBから抽出 ③ 全てのデータを入れて発注書を作成 ★ 困っていること： 日付を入れても、set_itemボタンを押すと消えてしまう function show_item($counter) { // PDO情報 $dbhost_name = "localhost"; $database = "xxx"; $username = "yyy"; $password = "zzz"; $pdo = new PDO('mysql:host='.$dbhost_name.';dbname='.$database $username $password array(PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION)); // 品目情報取得 $filter_item = ""; $var1 = "set_item" . $counter; $var2 = "dcode" . $counter; if(isset($_POST[$var1])) { $filter_item = $_POST[$var2]; $sql_item = "SELECT type_name prod_name item_name FROM mst_item WHERE dcode = '{$filter_item}'"; // PDOデータ取得 foreach ($pdo -> query($sql_item) as $lst_item) { ${"type".$counter} = $lst_item['type_name']; ${"prod".$counter} = $lst_item['prod_name']; ${"item".$counter} = $lst_item['item_name']; } } // 品目選択テーブルの表示 echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '個' . "\n"; echo '箱' . "\n"; echo 'kg' . "\n"; echo 'g' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo '' . "\n"; echo "\n"; } 日付 "> 取扱コード 操作ボタン 種類 品目 品種 産地 数量 単位 単価 小計
6521,php|jquery,データのWeb管理画面を作成しています。 【現在の状況】 管理者ログイン画面は作成しました。またログイン後に、CakePHPとで取得したテーブル情報を、JSONでViewに送信するところはできています。 【やりたいこと】 取得した JSON ファイルをもとに、管理テーブルを作成したいです。 イメージとして、各行には、取得した情報と、ステータスを操作するためのボタンがついています。ボタンを押すと、アクションを実行(パラメータに、押した箇所のid)して、特定のカラムの数値を変更するイメージです。どのような技術で、実現できるのか教えていただけますとありがたいです。 よろしくお願いいたします。
6524,python,Herokuを使って、Flaskのアプリケーションをpushしたいと思ってます。 Djangoの時はうまくいきましたが、 以下のようにrequirements.txtを記載し、 distribute psycopg2==2.5.1 Flask Flask-SQLAlchemy==2.0 Flask-SocketIO==0.4.3 Jinja2==2.7.2 SQLAlchemy==0.9.8 gevent==1.0 gevent-socketio==0.3.6 gevent-websocket==0.9.2 gunicorn==19.2.1 httplib2==0.9 distributeのバージョンを記載してハマってるのも見たので バージョンを抜いたりしました。 Procfileもファイルの名前も大文字と小文字気をつけて、 web: gunicorn app:app --log-file - を記載してます。 しかし、 git push heroku master のコマンドで失敗します。 Initializing repository done. Counting objects: 49 done. Delta compression using up to 4 threads. Compressing objects: 100% (42/42) done. Writing objects: 100% (49/49) 13.59 KiB | 0 bytes/s done. Total 49 (delta 10) reused 0 (delta 0) !     Push rejected no Cedar-supported app detected To git@heroku.com:sugichat.git ! [remote rejected] master -> master (pre-receive hook declined) error: failed to push some refs to 'git@heroku.com:sugichat.git' Djangoの時はrequirements.txtのファイルを忘れた時に一度ハマりましたが 今回は忘れてないのにどうしてもHerokuのリポジトリにpush出来ません。 ご教授お願いします。
6531,javascript|jquery,数値入力イベントのstreamと -1-2-3---4-5-6---7-8-9-- 演算子入力イベントのstreamから、 -------+-------+-------- 計算に用いるオペランドのstreamを生成して、 ---123-----456-----789-- 最終的に演算結果のstreamを生成する ---123-----579-----1368- という流れかなと考えているんですが、実装方法がイマイチつかめていません。 試行錯誤をしてみた結果が以下ですが、結局scanで無理やり実装している感じです。 var ds = $('.digit').asEventStream('click').map(function(d) { return parseInt(d.target.textContent) }); var os = $('.operation').asEventStream("click").map('.target.textContent'); var buffer = ds.merge(os).scan({ current: 0 result: 0 display: 0 nextOperation: '+' } function(buf v) { if (isFinite(v)) { buf.current = buf.current * 10 + v; buf.display = buf.current; } else { buf.result = eval('buf.result ' + buf.nextOperation + ' buf.current'); buf.result = isFinite(buf.result) ? buf.result : 0; buf.display = buf.result; buf.current = 0; buf.nextOperation = v; } return buf; }); buffer.onValue(console 'log'); buffer.map('.display').onValue($('#display') 'text'); 1 2 3 4 5 6 7 8 9 0 + - * / FRP的には本来どのように実装するのでしょうか？
6659,javascript|html,バックエンドAPIサーバーと通信するクライアントを、JavaScript&HTMLで作成しようとしています。 バックエンドで「正しいクライアントからのリクエストか否か」を調べるためには、クライアントに専用の秘密の文字列を埋め込んでおき、それをリクエストパラメータまたはヘッダに含めて送信するのが一般的なのではないかと思います。 しかし、JavaScript&HTMLでその手法を採用した場合、ユーザは秘密の文字列に容易にアクセスすることができてしまいます。 それにより、(知識のあるユーザであれば)バックエンドAPIを利用した野良サイトを作るなどして自由にAPIを使うことが可能です。 JavaScript&HTMLのクライアントで、「正しいクライアントからのリクエストか否か」を調べるセキュアな方法はありますでしょうか。
6735,c++,Boost.Statechart を使っているのですが、遷移元の状態がいくつかある場合、前の状態に戻る簡単な方法はないでしょうか？ どの状態から入ってきたのかを自前で覚えておけば出来るのですが、もっとよい方法があればお教え頂けませんでしょうか？
6740,php|html,現在XSS（クロスサイトスクリプティング）のテストを行っていて、 PHPの対象箇所をhtmlspecialcharsの関数を用いて対応しています。 テスト用の値としてはalert(document.cookie)のスクリプトコード をURLパラメータにセットしてみて、Cookie情報がポップアップされないように 修正を行っています。 しかしながら、あるHTMLファイル内にPHPで記述されたコードがあるのですが、 htmlspecialchars関数を使ったら、添付画面のように、 表示されてしまいます。 ポップアップすることは直ったようですが、画面にこのような文字列が表示 されるようになってしまいました。 何か思い当たる原因はないでしょうか？ 試してみるべきことがあったら教えてください。 どうぞよろしくお願い致します。
6745,python,Windows の Miniconda で仮想環境を作ったのですが，activate して Python を実行してみたところ，Miniconda 本体の方の site-package を見てしまっているのか仮想環境の方の site-package のライブラリを import できません． 環境変数の PYTHONHOME を削除すると import できるようにはなるのですが，そのような環境変数の変更なしに実現する方法はあるのでしょうか． C:\>conda create -n myenv numpy The following NEW packages will be INSTALLED: numpy:  1.9.1-py27_0 python: 2.7.9-1 C:\>activate myenv Activating environment "myenv"... [myenv] C:\>conda list # packages in environment at C:\Miniconda\envs\myenv: # numpy 1.9.1   py27_0 python 2.7.9    1 [myenv] C:\>python >>> import numpy Traceback (most recent call last): File "" line 1 in ImportError: No module named numpy >>> 環境変数の PYTHONHOME には C:\Miniconda を，PYTHONPATH には C:\Miniconda\Lib\site-package を設定し，上で作成した [myenv] を activate した状態での sys.path の結果が以下のものになります． >>> sys.path ['' 'C:\\Miniconda\\Lib\\site-packages' 'C:\\Miniconda\\envs\\myenv\\python27.zip' 'C:\\Miniconda\\DLLs' 'C:\\Miniconda\\lib' 'C:\\Miniconda\\lib\\plat-win' 'C:\\Miniconda\\lib\\lib-tk' 'C:\\Miniconda\\envs\\myenv' 'C:\\Miniconda'] また，そこから PYTHONHOME を削除して同じように sys.path を実行した結果が以下のものになります． >>> sys.path ['' 'C:\\Miniconda\\Lib\\site-packages' 'C:\\Miniconda\\envs\\myenv\\python27.zip' 'C:\\Miniconda\\envs\\myenv\\DLLs' 'C:\\Miniconda\\envs\\myenv\\lib' 'C:\\Miniconda\\envs\\myenv\\lib\\plat-win' 'C:\\Miniconda\\envs\\myenv\\lib\\lib-tk' 'C:\\Miniconda\\envs\\myenv' 'C:\\Miniconda\\envs\\myenv\\lib\\site-packages']
6796,c++,開発PC：Windows XP＋VC6 実行PC：Windows XP or Windows7 MFCで作られたアプリからバッチファイルをモーダルで実行してバッチファイルの終了待ちをしたいと考えています。 バッチファイルは末尾に「pause」を入れて何らかのキー入力かウィンドウを閉じることで 終了とします。 ・バッチファイル実行部 STARTUPINFO siStartInfo ; PROCESS_INFORMATION piProcInfo ; GetStartupInfo(&siStartInfo); if(!CreateProcess(NULL "[cmd.exeのフルパス] /c [バッチファイルのフルパス]" NULL NULL FALSE NORMAL_PRIORITY_CLASS NULL NULL &siStartInfo &piProcInfo)){ return FALSE; } WaitForSingleObject(piProcInfo.hProcessINFINITE); CloseHandle(piProcInfo.hProcess); CloseHandle(piProcInfo.hThread); ・バッチファイルの中身 @echo off echo TestTest pause WaitForSingleObjectで終了待ちをしているのですが、 WindowsXP上で実行すると、プロンプト画面でキーの入力＆ウィンドウ終了が出来ますが、 同じアプリをWindows7で実行すると、プロンプト画面でキーの入力もウィンドウの終了も出来ません。 WindowsXPとWindows7とで、WaitForSingleObjectの挙動が変わったのでしょうか？ ■2015/06/05追記 下記の様にしたら出来ました。 while(WaitForSingleObject(piProcInfo.hProcess100) == WAIT_TIMEOUT){ app->PumpMessage();     // 定期的にメッセージキューを消化させます } メッセージが処理されていなかったようです。
6877,c++,連想配列のようですが 連想配列ならmapやすでにSTLで用意されているで十分に足りると思うのですが なぜ、Judy arrayというものが生まれたのですか mapやsetと比べてそちらで用意されているものは何が大きく違うのですか？
6882,c++,C++言語においてイテレータとポインタの違いは何ですか
6887,html,foobar foo1bar1 foo2bar2 foo3bar3 table-hoverがなぜかききません。どうしてでしょうか？
6967,javascript|jquery,jsonファイルの読み込みの際にnullが帰ってきた場合のみ表示させないようにしたいのですが、なかなかうまくできません。 以下コードになります。 time.json { "fromTokyo" : {"air" : "1 hour 30 min" "train" : null "bus" : null} "fromOsaka" : {"air" : "1 hour 45 min" "train" : null "bus" : null} "fromFukuoka" : {"air" : "2 hour 10 min" "train" : null "bus" : null}} index.html $(function() { $('#hoge').click(function(){ $.ajax( { url: 'time.json' dataType : 'json' success: function( data ) { var message = fromTokyo(data) + ''; message = message + fromOsaka(data) + ''; message = message + fromFukuoka(data); $( '#fuga' ).html( message ); } error: function( data ) { $( '#fuga' ).html( 'something went wrong.' ); } }); } ); }); function fromTokyo(json) { var tokyo = "From Tokyo" + ''; tokyo = tokyo + 'Airplane : ' + json.fromTokyo.air + ''; tokyo = tokyo + 'Train : ' + json.fromTokyo.train + ''; tokyo = tokyo + 'Bus : ' + json.fromTokyo.bus + ''; return tokyo; }// 以下fromOsakafromFukuoka同じ関数 出力結果 From Tokyo Airplane : 1 hour 30 min Train : null Bus : null From Osaka Airplane : 1 hour 45 min Train : null Bus : null From Fukuoka Airplane : 2 hour 10 min Train : null Bus : null ここでnullを持つデータは吐き出さずに、 From Tokyo Airplane : 1 hour 30 min From Osaka Airplane : 1 hour 45 min From Fukuoka Airplane : 2 hour 10 min のようにしたいです。 ご教授宜しくお願いいたします。 ＊追記＊ さらに発展させてみたく追記させていただきます。 日本地図をクリックして各都道府県のattrとマッチするデータを取得する事は可能でしょうか？ 例えば北海道をクリックして北海道へのアクセス時間のデータを以下のjsonから取得する形になります。 { "hokkaido" : { "Tokyo" : {"air" : "1 hour 30 min" "train" : null "bus" : null} "Osaka" : {"air" : "1 hour 45 min" "train" : null "bus" : null} "Fukuoka" : {"air" : "2 hour 10 min" "train" : null "bus" : null} } "aomori" : { "Tokyo" : {"air" : "1 hour 20 min" "train" : "3 hour 20 min" "bus" : null} "Osaka" : {"air" : null "train" : null "bus" : null} "Fukuoka" : {"air" : null "train" : null "bus" : null} } "iwate" : { "Tokyo" : {"air" : null "train" : "2 hour 20 min" "bus" : "7 hour 25 min"} "Osaka" : {"air" : null "train" : null "bus" : null} "Fukuoka" : {"air" : null "train" : null "bus" : null} } "miyagi" : { "Tokyo" : {"air" : null "train" : "1 hour 36 min" "bus" : "5 hour 27 min"} "Osaka" : {"air" : null "train" : null "bus" : null} "Fukuoka" : {"air" : null "train" : null "bus" : null} } }
6972,python,try: hoge() except: fuga() すべての例外をキャッチするために上のように書いたのですが、その例外の詳細を出力させるにはどうしたらよいですか？
6978,c++,本家サイトで英語で質問したものの、英語が苦手＆現状回答が得られず、日本語で質問いたします。 test.txtというのが次のようになっています。 123456 89 ※1行目は改行あり(WindowsでならCR/LF CygwinでならLF) 2行目は改行なし 次のコードで g++4.8.3(Cygwin 64bit)とVC++ 2013とでifstream::read()の出力が違います #include #include #include #include int main() { std::ifstream ifs("test.txt"); if (ifs.fail()) { std::cerr << "failed." << std::endl; return -1; } int begin = static_cast(ifs.tellg()); ifs.seekg(0 ifs.end); int end = static_cast(ifs.tellg()); int size = end - begin; ifs.clear(); ifs.seekg(0 ifs.beg); char *str = new char[size + 1]; ifs.read(str size); std::cout << "[" << str << "]" << std::endl; std::cout << "size: " << size << "    strlen: " << std::strlen(str) << std::endl; delete[] str; return 0; } g++ 4.8.3(Cygwin 64bit)では次のようにでます。 [123456 89 ] size: 10    strlen: 10 VC++ 2013では次のようにでます。 [123456 89] size: 10    strlen: 9 どうして結果が違うのでしょうか？ifstream::read()の使い方がまずいのでしょうか？ 本家サイトで質問しましたところ、読んでるファイルが違うんじゃ？といわれましたが、 確かに違いますが、問題はそこではないのです。 g++のほうはなぜか最後にLFが付加されてしまっているようです。 解決いたしました。ViがLFを追加していました……。ご回答ありがとうございました。
6996,jquery,jQueryのCSSセレクタの中にある「>」の存在理由がわかりません。 元のhtml aaa-btn aaa css 何かしら適当な色や形状 jQuery $(function(){ $("#button1 .big).on("mouseover"function(){ $(this).find(">span").stop(true).animate({   ////// という風に後はいろいろと続くのですが、この (">span") の中の「>」の意味がわかりません。これは何を意味するのでしょうか？無くても普通に動いているようですが。
7012,c++,constexprを非constexprセンテンス中で使用すると定数になりませんが、簡単な回避方法はないでしょうか。 使用環境: gcc-4.9.2 (MSYS2 32bit) 最適化なし テストコードを示します。逆アセンブル時の読みやすさのためiostreamではなくprintf()を使っています。 #include template  struct Fact    { static const int _ = N * Fact::_; }; template <>      struct Fact<1> { static const int _ = 1; }; constexpr int fact(int n) { return n <= 1 ? 1 : n * fact(n - 1); } int main() { printf("fact 10 = %d\n" Fact<10>::_); printf("fact 10 = %d\n" fact(10)); } main()を逆アセンブルした該当箇所を引用します。 $ g++ -std=c++11 -g fact.cpp $ objdump -S -Mintel a.exe ...snip... printf("fact 10 = %d\n" Fact<10>::_); 4011ce:       c7 44 24 04 00 5f 37    mov    DWORD PTR [esp+0x4]0x375f00 4011d5:       00 4011d6:       c7 04 24 64 30 40 00    mov    DWORD PTR [esp]0x403064 4011dd:       e8 46 00 00 00          call   401228 <_printf> printf("fact 10 = %d\n" fact(10)); 4011e2:       c7 04 24 0a 00 00 00    mov    DWORD PTR [esp]0xa 4011e9:       e8 b2 05 00 00          call   4017a0 <__Z4facti> 4011ee:       89 44 24 04             mov    DWORD PTR [esp+0x4]eax 4011f2:       c7 04 24 64 30 40 00    mov    DWORD PTR [esp]0x403064 4011f9:       e8 2a 00 00 00          call   401228 <_printf> ...snip... テンプレートの方はコンパイル時評価で定数化されていますが、constexprは実行時評価です。 一時変数に入れるとコンパイル時評価されますが、同じ定数が二か所で現れてしまいます。（最適化なし） #include constexpr int fact(int n) { return n <= 1 ? 1 : n * fact(n - 1); } int main() { constexpr auto n = fact(10); printf("fact 10 = %d\n" n); } 逆アセンブル:（該当箇所のみ） constexpr auto n = fact(10); 4011ce:       c7 44 24 1c 00 5f 37    mov    DWORD PTR [esp+0x1c]0x375f00 4011d5:       00 printf("fact 10 = %d\n" n); 4011d6:       c7 44 24 04 00 5f 37    mov    DWORD PTR [esp+0x4]0x375f00 4011dd:       00 4011de:       c7 04 24 64 30 40 00    mov    DWORD PTR [esp]0x403064 4011e5:       e8 2a 00 00 00          call   401214 <_printf> テンプレートで細工すればコンパイル時に評価されます。 #include constexpr int fact(int n) { return n <= 1 ? 1 : n * fact(n - 1); } template  struct C { static const T _ = N; }; int main() { printf("fact 10 = %d\n" C::_); } 逆アセンブル:（該当箇所のみ） printf("fact 10 = %d\n" C::_); 4011ce:       c7 44 24 04 00 5f 37    mov    DWORD PTR [esp+0x4]0x375f00 4011d5:       00 4011d6:       c7 04 24 64 30 40 00    mov    DWORD PTR [esp]0x403064 4011dd:       e8 2a 00 00 00          call   40120c <_printf> これは結局テンプレートの力を借りているので釈然としません。 質問をまとめます。 前提条件: 最適化なし テンプレートを使わずに、constexprだけで式中の呼び出しをコンパイル時に評価できないでしょうか。 もし無理なら、上の例で独自に定義したCのような標準関数はないでしょうか。 追記 テンプレートメタプログラミングをconstexprに置き換える際、前者の感覚で使うとコンパイル時評価にならない落とし穴として、何か定石があるのではないかと期待した質問です。
7054,python,supervisorを使っておりますが、 [inet_http_server]の項目にて、 usernameとpasswordがありますが、 それを複数にし、 ログインしたユーザごとに、表示したいprogramを分けたいと思っています。 可能でしょうか？ 何卒、よろしくお願いします。
7098,javascript|html,Monacaでメモ帳アプリを開発している者です。 メモ帳アプリのテンプレートを元に作っているのですが、テンプレートにはメモの編集機能がありませんでした。 そこで、以下のように編集機能を加えてみたのですが、編集画面に移ると元のメモ内容が表示されないという現象が起こっています。 細かく言いますと、メモ登録後、最初に編集ボタンを押した際には元のメモ内容が表示されないのですが、再度入力し直して上書き保存を押すと、次に編集する際には、入力し直した内容がきちんと表示される、という複雑な現象です。 おそらく、 onShowLink あたりの記述が足りていないように思うのですが、改善方法をご教授いただけましたら幸いです。 どうぞよろしくお願い致します。 ～～～index.html～～～ メモ帳 メモを追加 戻る 新しいメモ 保存 戻る 編集 戻る メモを編集 上書き保存 ～～～app.js～～～ ///// Save memo and return to top page function onSaveBtn() { var text = $("#Memo").val(); if (text != '') { // Save to local storage addMemo(text); // Clear form $("#Memo").val(""); // Initialize top page initTopPage(); } $.mobile.changePage("#TopPage" { reverse: true }); } ///// Initialize top page function initTopPage() { $("#TopListView").empty(); var list = getMemoList(); for (var i in list) { var memo = list[i]; var d = new Date(memo.time); var date = d.getFullYear() + "/" + (d.getMonth() + 1) + "/" + d.getDate(); $li = $("Delete"); $li.data("id" memo.id); $li.find("h3").text(date); $li.find("p").text(memo.text); $("#TopListView").prepend($li); } if (list.length == 0) { $li = $("メモがありません"); $("#TopListView").prepend($li); } $("#TopListView").listview("refresh");  // Call refresh after manipulating list } ///// Move to detail page function onShowLink() { var $li = $(this).parent(); selectedMemoId = $(this).parents('li').data("id"); var memoTitle = $li.find("h3").text(); var memoHtml = $li.find("p").html().replace(/\n/g ""); $("#ShowPage h1").text(memoTitle); $("#ShowPage p").html(memoHtml); $.mobile.changePage("#ShowPage"); } ///// Delete memo function onDeleteLink() { if (!confirm("このメモを削除しますか？")) { return; } var $li = $(this).parent(); var id = $li.data("id"); deleteMemo(id); initTopPage(); // Return to top $.mobile.changePage("#TopPage" { reverse: true }); } ///// Called when app launch function onReady() { initTopPage(); $("#SaveBtn").click(onSaveBtn); $("#TopListView").on("click" "a.show" onShowLink); $("#TopListView").on("click" "a.delete" onDeleteLink); } ///// Edit memo function saveEditedMemo() { var editedText = $("#EditPage input#edit").val(); if (editedText != '') { deleteMemo(selectedMemoId); addMemo(editedText); // Clear form $("#Memo").val(""); // Initialize top page initTopPage(); } $.mobile.changePage("#TopPage" { reverse: true }); } $(onReady); // on DOMContentLoaded
7099,javascript|html,Monacaでメモ帳アプリを開発している者です。 以下のような記述のメモ帳アプリを作っているのですが、保存したメモの内容を Twitter やFacebook でシェアできる機能を加えたいと思っています。 Detail Page 内への記述だと思うのですが、どのように書いたらよいでしょうか。 ご教授の程、どうぞよろしくお願い致します。 ～～～index.html～～～ メモ帳 メモを追加 戻る 新しいメモ 保存 戻る 編集 戻る メモを編集 上書き保存 ～～～app.js～～～ ///// Save memo and return to top page function onSaveBtn() { var text = $("#Memo").val(); if (text != '') { // Save to local storage addMemo(text); // Clear form $("#Memo").val(""); // Initialize top page initTopPage(); } $.mobile.changePage("#TopPage" { reverse: true }); } ///// Initialize top page function initTopPage() { $("#TopListView").empty(); var list = getMemoList(); for (var i in list) { var memo = list[i]; var d = new Date(memo.time); var date = d.getFullYear() + "/" + (d.getMonth() + 1) + "/" + d.getDate(); $li = $("Delete"); $li.data("id" memo.id); $li.find("h3").text(date); $li.find("p").text(memo.text); $("#TopListView").prepend($li); } if (list.length == 0) { $li = $("メモがありません"); $("#TopListView").prepend($li); } $("#TopListView").listview("refresh");  // Call refresh after manipulating list } ///// Move to detail page function onShowLink() { var $li = $(this).parent(); selectedMemoId = $(this).parents('li').data("id"); var memoTitle = $li.find("h3").text(); var memoHtml = $li.find("p").html().replace(/\n/g ""); $("#ShowPage h1").text(memoTitle); $("#ShowPage p").html(memoHtml); $.mobile.changePage("#ShowPage"); } ///// Delete memo function onDeleteLink() { if (!confirm("このメモを削除しますか？")) { return; } var $li = $(this).parent(); var id = $li.data("id"); deleteMemo(id); initTopPage(); // Return to top $.mobile.changePage("#TopPage" { reverse: true }); } ///// Called when app launch function onReady() { initTopPage(); $("#SaveBtn").click(onSaveBtn); $("#TopListView").on("click" "a.show" onShowLink); $("#TopListView").on("click" "a.delete" onDeleteLink); } ///// Edit memo function saveEditedMemo() { var editedText = $("#EditPage input#edit").val(); if (editedText != '') { deleteMemo(selectedMemoId); addMemo(editedText); // Clear form $("#Memo").val(""); // Initialize top page initTopPage(); } $.mobile.changePage("#TopPage" { reverse: true }); } $(onReady); // on DOMContentLoaded
7100,javascript|html,Monaca でメモ帳アプリを開発している者です。 以下の記述のようなメモ帳テンプレートを元に作っているのですが、メモ一覧の各項目の頭に「確認済み」を意味するチェックボックスを設けたいと思っています。 input type="checkbox" を TOP Page の ul の前に入れて ul 以下を label で囲ってしまうと、メモが複数になったときにそのすべてを包括する1つのチェックリストのみが表示されてしまいます。 ul の中に記述して、メモそれぞれにチェックボックスを設けるためにはどうしたらいいでしょうか。 ご教授の程、どうぞよろしくお願い致します。 ～～～index.html～～～ メモ帳 メモを追加 戻る 新しいメモ 保存 戻る 編集 戻る メモを編集 上書き保存 ～～～app.js～～～ ///// Save memo and return to top page function onSaveBtn() { var text = $("#Memo").val(); if (text != '') { // Save to local storage addMemo(text); // Clear form $("#Memo").val(""); // Initialize top page initTopPage(); } $.mobile.changePage("#TopPage" { reverse: true }); } ///// Initialize top page function initTopPage() { $("#TopListView").empty(); var list = getMemoList(); for (var i in list) { var memo = list[i]; var d = new Date(memo.time); var date = d.getFullYear() + "/" + (d.getMonth() + 1) + "/" + d.getDate(); $li = $("Delete"); $li.data("id" memo.id); $li.find("h3").text(date); $li.find("p").text(memo.text); $("#TopListView").prepend($li); } if (list.length == 0) { $li = $("メモがありません"); $("#TopListView").prepend($li); } $("#TopListView").listview("refresh");  // Call refresh after manipulating list } ///// Move to detail page function onShowLink() { var $li = $(this).parent(); selectedMemoId = $(this).parents('li').data("id"); var memoTitle = $li.find("h3").text(); var memoHtml = $li.find("p").html().replace(/\n/g ""); $("#ShowPage h1").text(memoTitle); $("#ShowPage p").html(memoHtml); $.mobile.changePage("#ShowPage"); } ///// Delete memo function onDeleteLink() { if (!confirm("このメモを削除しますか？")) { return; } var $li = $(this).parent(); var id = $li.data("id"); deleteMemo(id); initTopPage(); // Return to top $.mobile.changePage("#TopPage" { reverse: true }); } ///// Called when app launch function onReady() { initTopPage(); $("#SaveBtn").click(onSaveBtn); $("#TopListView").on("click" "a.show" onShowLink); $("#TopListView").on("click" "a.delete" onDeleteLink); } ///// Edit memo function saveEditedMemo() { var editedText = $("#EditPage input#edit").val(); if (editedText != '') { deleteMemo(selectedMemoId); addMemo(editedText); // Clear form $("#Memo").val(""); // Initialize top page initTopPage(); } $.mobile.changePage("#TopPage" { reverse: true }); } $(onReady); // on DOMContentLoaded ～～～memo.js～～～ ///// Return list of memo function getMemoList() { var list = localStorage.getItem("memo_list"); if (list == null) { return new Array(); } else { return JSON.parse(list); } } ///// Save memo function saveMemoList(list) { try { localStorage.setItem("memo_list" JSON.stringify(list)); } catch (e) { alert('Error saving to storage.'); throw e; } } ///// Add memo function addMemo(text) { var list = getMemoList(); var time = new Date().getTime(); list.push({ id: time time: time text: text }); saveMemoList(list); } ///// Delete specified memo function deleteMemo(id) { var list = getMemoList(); for (var i in list) { if (list[i].id == id) { list.splice(i 1); break;  // Quit for loop when found } } saveMemoList(list); }
7114,javascript|jquery,$.ajax({ url: '/ajax/' type: 'get' async: false success: function (d) { console.log(d); } });
7151,python,Djangoでモデルを作るとき、 class UserCustom(models.Model): hoge = models.AutoField(primary_key=True help_text='hogeを入力して下さい' verbose_name=u'別名') のようにすれば、別名をつけることが出来ます。 class UserCustom(models.Model): hoge = models.AutoField(primary_key=True help_text='hogeを入力して下さい' verbose_name=u'別名') def custom_column(self): return 'bar' のようにcustom_columnを追加した時に、 custom_columnに別名を付けたいです。 ※このテクニックをカスタムカラムというのかわかりませんが、便宜上こう名づけました。 情報が無いため試しにこれらを行ってみましたが、 def custom_column(self): class Meta: verbose_name = u'カスタムカラム' や def custom_column(self): self.verbose_name = u'カスタムカラム' ダメでした。 よろしくおねがいします。
7158,c++,以下のコードはコンパイルし，動作します．(Wandboxのg++ 4.9.2clang 3.5.0にて確認，以下同じ) #include int main(){ auto p = new int const(0); delete p; } しかし，delete p;を::operator delete(p);で置き換えた場合にはコンパイルエラーが発生してしまいます．（g++での例，clangでもコンパイルエラー） prog.cc: In function 'int main()': prog.cc:4:24: error: invalid conversion from 'const void*' to 'void*' [-fpermissive] ::operator delete(p); 確かにconstなオブジェクトへのポインタは非constなオブジェクトへのポインタには変換できませんし，operator deleteが非constなオブジェクトへのポインタを要求するのは理解できるのですが，ではなぜ最初のdelete式がコンパイル可能であるのかが分かりません． N3797の§5.3.5.7より， Otherwise the delete-expression will not call a deallocation function (3.7.4.2). とあるので，operator deleteの呼び出しが省略されたのかと考えましたが，以下のコードを実行してみたところ，op deleteが出力されました．（bは無関係なオブジェクトでの呼び出しを避けるために使用しています） #include #include bool b = false; void operator delete(void*) noexcept{ if(b){ std::cout << "op delete" << std::endl; } } int main(){ b = true; auto p = new int const(0); delete p; b = false; } この結果はどのように解釈すれば良いのでしょうか．
7171,html,formタグ内にbuttonタグを配置したところ、クリックするとsubmitされてしまう様なのですが これをsubmitしないただのボタンとして扱いたい場合はどうすれば良いでしょうか？
7181,html,ウェブサイトを開発していますが、 表示されるHTMLの幅が、実際のブラウザのサイズよりも小さいサイズで表示されるため困っています。 Chrome と Safari でキャプチャをとりました。 Chrome では定規のサイズと実際のブラウザサイズが異なっています。 Safari ではウィンドウのサイズと body 要素の width が同じなので問題なしです。 以下のブラウザで、上記の現象が起こります。 ・Google Chrome v40.0.2214.115 ・Fire Fox 33.0.2 ※ Safariは実際のブラウザのサイズで表示されています。 OSは、Mac OSX 10.9.5 ディスプレイの解像度は、1680x1050 です。 画像をブラウザで直接開いた場合は、 この現象は起こりません。 ブラウザやOSのズーム機能は使っていません。 何が原因か全くわからないため、 アドバイスお願いします。
7182,html,文字の隣にテキストボックスを配置したいのですが、 画面幅のせいかテキストボックスが文字の下段に移動してしまいます。 これを防ぐ方法はありませんか？ 分かる方がいましたらご教授をお願いします。 文字
7184,html,代用ボタンのクリックを、本物のボタンに適用したいのですが、 方法が分かりません。 因みに本物のボタンは非表示になっています。 代用ボタン
7199,html|python,Pythonでhtmlのframe内のデータを取得するにはどうすればいいのでしょうか? 私が取得したいWebページにはがあるのでframeの内容を取得せずにそちらの内容を取得してしまいます。こちらがに対応しているとサーバーに思わせるにはどうすればいいのでしょうか?
7215,javascript|html|jquery,html 1 2 3 4 jquery $('a').onAttr('href' 'hoge'); // 1のjqueryオブジェクト $('a').onAttr('href' 'huga'); // 2のjqueryオブジェクト $('a').onAttr('href' /hoge/); // 14のjqueryオブジェクト $('a').onAttr('href' /huga/); // 23のjqueryオブジェクト このように'href'がマッチした要素を取得したいのですが、どのようにしたらよいのでしょうか。 aを取得してeachで回してチェックするやり方しか思いつきません・・・。
7216,python,Django の django-social-auth のプラグインを使ってます。 こちらで Facebook で認証した後に生成されたユーザで Django の admin に入りたいと思ってます。 まず、models.py にこのユーザを作成し、 is_staff を無理やり True にしようと、以下のようにしました。 class CustomUser(User): class Meta: verbose_name = u'カスタムユーザ' verbose_name_plural = verbose_name def __init__(self *args **kwargs): super(User self).__init__(*args **kwargs) # self._meta.get_field('is_staff').default = True # 試したが出来ない super(User self)._meta.get_field('is_staff').default = True # CustomUser._meta.get_field('is_staff').default = True settings.py にて SOCIAL_AUTH_USER_MODEL = 'my_app.CustomUser' のように行いました。 コメントアウトしたものもいろいろ試しました。 しかし、Facebook ユーザでログインできませんでした。 次に、それらしき記事を見つけました。 https://djangosnippets.org/snippets/2856/ しかし、出来ませんでした。 settings.py の中では、 USE_SOCIAL_AUTH_AS_ADMIN_LOGIN なのに、admin.pyで SOCIAL_AUTH_USE_AS_ADMIN_LOGIN となってるものおかしいと思い同じ変数に変更しましたがそれでも出来ませんでした。 もし解決策がありましたら、ご教示いただきたいです。
7223,python,あるサービスにプログラム上からPythonでログインしたいと思っています。 しかし、「動作環境が対象外です」というページに飛ばされてしまいます。 User-Agentを偽装しても同じようなことが起こってしまいます。 User-Agent以外で環境を判定しているような箇所はないのでしょうか? 必要な情報は全て、POSTで送っています。 ちなみにリクエストを送る先は.jspファイルです。 送っているデータはUserid passwordでUserIdは8桁の数字、passwordは8文字の英数字です。 ちなみにこのサービスの実装がどうなっているのか、私はわかりません。 Statusは200  OKを返しています。 import urllib.request import urllib.parse post_data = {"UserId": 12345678 "Password": "password"} encoded_data = urllib.parse.urlencode(post_data).encode() req = urllib.request.Request("http://example.com/login" encoded_data headers={"User-Agent": "Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko"}) res = urllib.request.urlopen(req) res_read = res.read().decode("shift-jis") # res_readに"動作環境が対象外です"の文字が含まれています。 必要な動作環境は以下の通りです。 Windows Vista SP2以上 ・Internet Explorer 7 ・Internet Explorer 8 ・Internet Explorer 9 ・Google Chrome Windows 7 ・Internet Explorer 8 ・Internet Explorer 9 ・Internet Explorer 10 ・Internet Explorer 11 ・Google Chrome Windows 8 (デスクトップUI) ・Internet Explorer 10 Windows 8.1 (デスクトップUI) ・Internet Explorer 11 Mac OS X 10.6 ・Safari 5.1.7 Mac OS X 10.7 ・Safari 5.1.7
7258,javascript|jquery,たとえば、aaa222が右に100px動いていて、bbbをクリックすると、その動いていたaaa222を元の0pxのポジションに戻して、bbb222を右に100px動かしたいです。 ccc222も同じように動いてほしいです。 つまり、右側に動かすのは１つだけで、ほかの２つはクリックされたら、元の0pxに戻る、というプログラムにしたいのですが、どうしたらよいのでしょうか？
7263,c++,Range-based for loopで参照にした時としないときではどのような違いがあるでしょうか。 特に速度的な面では違いがあるのでしょうか？例えばvectorをRange-based for loopで回す場合、単に値を書き換えることなく使う場合、通常のケースでは下記のどのケースが良いのでしょうか？直感的には3だと思われるのですが、今まで常に1を使っていました。 vector vec = { "foo" "bar" "baz" }; // case 1 for ( auto it : vec ) { cout << it << endl; } // case 2 for ( auto &it : vec ) { cout << it << endl; } // case 3 for ( const auto &it : vec ) { cout << it << endl; } 追記 ------------- 皆さま、申し訳ございません。確かに質問として成り立っておりませんでした。 私のほうでCygwin上のgcc 4.8.3でのベンチマークを追記いたします。 100万行程度では差がほとんど見られなかったので ランダムなアルファベット文字列1000万行のテキストで最適化オプションなしで 計測いたしました。 ケース1 参照なしのパターン #include #include #include #include using namespace std; int main() { vector v; ifstream ifs("test_mil.txt"); if (ifs.fail()) return -1; for (string line; getline(ifs line); ) { v.push_back(line); } const auto startTime = chrono::system_clock::now(); string ss; int i = 0; for (auto s : v) { if (i % 2 == 0) ss = s.substr(i % s.size()); else ss = s; cout << (i % 2); i++; } cout << '\n'; const auto endTime   = chrono::system_clock::now(); const auto timeSpan = endTime - startTime; cout << "処理時間: " << chrono::duration_cast(timeSpan).count() << " [ms]" << std::endl; cout << ss << endl; return 0; } ケース2 参照のパターン #include #include #include #include using namespace std; int main() { vector v; ifstream ifs("test_mil.txt"); if (ifs.fail()) return -1; for (string line; getline(ifs line); ) { v.push_back(line); } const auto startTime = chrono::system_clock::now(); string ss; int i = 0; for (auto &s : v) { if (i % 2 == 0) ss = s.substr(i % s.size()); else ss = s; cout << (i % 2); i++; } cout << '\n'; const auto endTime   = chrono::system_clock::now(); const auto timeSpan = endTime - startTime; cout << "処理時間: " << chrono::duration_cast(timeSpan).count() << " [ms]" << std::endl; cout << ss << endl; return 0; } 計測結果： ケース1  3123ms  3125ms  3135ms  平均 3128ms ケース2  2944ms  2927ms  2935ms  平均 2935ms ということでケース2のほうが速いことがわかりました。 また次のようなコードを書くと #include #include using namespace std; class mystring : public std::string { public: mystring(const char *str) : std::string(str) { } // コピーコンストラクタ mystring(const mystring &rhs) : string(rhs.c_str()) { cout << "mystring copy constructor" << endl; } }; int main() { vector v; mystring m("abc"); v.push_back(m); cout << "test start" << endl; for (auto &s : v) { cout << s << endl; } cout << "test end" << endl; return 0; } このケースではコピーコンストラクタが呼び出されず、 for (auto s : v)としたほうではコピーコンストラクタが呼び出されました。 よって私の環境下につきましてはjoy1192さんの解答の通りとなりました。
7318,c++,タイトルの件となります。 WindowsデスクトップアプリでWinRTのAPIを利用できるということなので https://software.intel.com/en-us/articles/using-winrt-apis-from-desktop-applications (利用可能なAPI一覧) https://msdn.microsoft.com/en-us/library/windows/desktop/dn554295%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396 をみて、MediaCaptureクラスを利用しようと考えたのですが、Windowsストアアプリなどではカメラの利用を許可するために「package.appxmanifest」を変更していると思います。 デスクトップアプリの場合はどのようにすればカメラが利用できるのでしょうか。
7337,python,djangoで開発を進めています。djangoでmodelの設定が、runserverで立ち上げたadminページに反映されないことで困っています。どなたか原因のわかる方がいれば、ご教授いただけると幸いです。 背景 model.pyにモデルクラスTestModel(models.Model)を記載しました。そのモデルはsampleField = models.CharField(max_length='20')のフィールドを含んでいます。 admin.pyにそのTestModelをregisterしました。syncdb、makemigrations等を行い、そして以下のコマンドで開発サーバーを立ち上げました。 python manage.py runserver http://localhost:8000/adminからログインしました。そのモデルでレコードを追加していたところ、sampleFieldにブランクを設定したいということになりました。 model.pyの対応するsampleField = models.CharField(max_length='20')をsampleField = models.CharField(max_length='20'blank=Truenull=True)に変更し、makemigrationsおよびsyncdbを実施しました。 再度adminページからレコードの追加を試みましたが、sampleFieldで以下のエラーが発生しました。 This field is required. model.pycが存在することが原因かと考え、削除しました。また、開発サーバーを念のため以下のコマンドで再起動しました。しかし、同様のエラーが発生しました。 python manage.py runserver htmlのキャッシュが原因かと考え、ブラウザのキャッシュを削除しました。しかし、同様にエラーが発生しました。 djangoのdbキャッシュがあるのかと考え、以下のコマンドで削除しました。ですが、エラーが発生しました。 python manege.py shell;from django.core.cache import cache;cache.clear() htmlが反映されていないようにたので、TestModel(models.Model)にsampleField2 = models.CharField(max_length='20'blank=Truenull=True)を追加し、makemigrationsおよびsyncdbを実施し、開発サーバー再起動、adminページへのアクセスを実施しました。adminページでは、sampleField2の入力項目が表示されていませんでした。 どこかにhtmlのキャッシュがたまっている？かと思っていますが、どこから削除すれ良いかわかりませんでした。どなたか上記問題の解決策がわかれば、ご教授ください。 よろしくお願いします。 追記 ローカル環境で、設定を実施していた際は、htmlが反映されなかったのですが、Apacheの立ち上がっているWEBサーバーにpushして、そこで確認してみると、問題なく起動されました。 runserverで立ち上げたサーバの挙動がイマイチ理解できていないようです。 解決報告 下記の流れで、本件が発生しておりました。私のミスでした。色々ご迷惑をおかけしました。 ターミナルAにて、bashを利用し、プロジェクトリポジトリ/home/myname/myDjangoProjectにてpython manage.py runserverを実行。 別にターミナルBを起動し、/home/myname/myDjangoProjectで、model.py等を編集。 サーバー上のリポジトリにpushする際に、コンフリクトが発生したので、ターミナルBにて/home/myname/myDjangoProjectを/home/myname/_myDjangoProjectにリネーム。サーバー上のリポジトリをローカルに再度、cloneし、作業を再開。 ここまでが背景の１から３に隠れていました。その後、背景の４以降を実施。 ターミナルAが参照しているディレクトリは、実は、/home/myname/_myDjangoProjectであったが、pwdの実行結果は/home/myname/myDjangoProjectとなるため、ワーキングディレクトリがズレていることに気付きませんでした。そのため、今回のように設定が反映されないと考えていました。 参照先のDBがズレていないかとご指摘いただいたことで、参照していたsqlite3を確認しようと、ターミナルAでrunserverを停止し、open .を実行したところ、今回の問題に気付きました。 ご迷惑おかけしました。そして、色々ありがとうございました。 （タイトルは本質からズレていますが、どのように修正したら良いのでしょう。）
7421,c++,昔のゲームでドット絵のドラクエやポケモンのような2DのRPGゲームをC++で再現したいのですが、わからないことがあります。 マップの表示 マップに重ねてキャラクターの表示 ドット絵のマップ画像を作ってそれの上にキャラを表示すればいいのでしょうか？ 根本的なところがわからず、停滞しております。 教えていただけると助かります、宜しくお願いします。
7441,python,Golangでpythonのパッケージ全てを並列実行で高速に最新にするものを作りたいのですが、どうすればいいのでしょうか? goルーチンを使い、書いてみましたが下記のPythonのスクリプトより遅くなってしまいます。 Golangでマルチプロセスで実行するにはどうすればいいのでしょうか? 下記のPythonスクリプトのようなことをGolangで実現したいと思っています。 #!/usr/local/bin/python3.4 # coding:utf-8 from multiprocessing import Process import re import subprocess import os def u(v): os.system("echo 'mypassword' | sudo -S -H -p '' pip3.4 install " + v + " -U") output = subprocess.check_output(["pip3.4" "freeze"]).decode() output_list = re.findall(".+(?===)" output) output_list.extend(["pip" "setuptools"]) print(output_list) for v in output_list: Process(target=u args=(v)).start() package main import ( "fmt" "os" "os/exec" "regexp" "strings" "log" ) func main() { out err := exec.Command("pip3.4" "freeze").Output() if err != nil { log.Fatal(err) } str_output := string(out) re := regexp.MustCompile(".+==") re_list := re.FindAllString(str_output -1) for _ v := range re_list { c := make(chan string 1) go update(v[:len(v)-2] c) command_output := <-c fmt.Println(command_output) } fmt.Println("end") } func update(package_name string s chan string) { cmd := exec.Command(os.Getenv("SHELL") "-c" "pip install "+package_name+" -U") cmd.Stdin = strings.NewReader("mypassword\n") out err := cmd.Output() out_str := string(out) s <- out_str if err != nil { log.Fatal(err) } }
7446,javascript|jquery,お世話になってます 初心者ですがなにとぞよろしくお願いします。 要素の値が変わったことをトリガーに見栄えが変わるjQueryのプラグインを作成中です。 の選択が「他のスクリプト」によって変更されたときにjQueryでそのイベントを取得したいと考えています。「他のスクリプト」は不特定です。 jQueryにおいて $('select').change(myFnc); ですがスクリプトによる操作では、myFncは呼び出されません。 （スクリプトによる変更は発火しない、と解釈しています）。 「他のスクリプト」で値が変更された場合にもイベントをとりたいので、 $('select').val('hoge').trigger('change'); としたいところですが、当然「他のスクリプト」は不特定なのでそれはできません。 なにとぞアドバイスをお願いします。
7521,jquery,obj = $('.hoge' item); と記述すると、itemのノードに対して.hogeを検索することができますが itemからitemのparentに向かって.hogeを検索するにはどうすればよいですか？ つまり以下の様なHTMLのボタンをクリックした時に ボタンから、ボタンを囲んでいるコンテナのみを見つけたいのですが、そのような関数は存在しますでしょうか。 コンテナを見つける コンテナを見つける できれば、.container:firstや.container[id=3]といった 複雑なセレクタも利用できるようなものが望ましいです。
7559,c++,開発環境: Windows7 x64 の VirtualBox 上の CentOS7(多分x64) g++ ハッシュテーブルの概念自体は、いろいろなサイトで説明されているので、自作も考えましたが、 速度など考えるといろいろ試してみたりと、大変なので、 今回はunordered_mapの使用を想定しています。 ちょっとしたクローラー的な物を開発しており(他サイトに迷惑を掛ける事はまず無いです。)、 仮想環境上で上手く動作すれば、8G程度のメモリを乗せたマシンでも安く組んで、 その上で動かそうと考えています。 そこで、unordered_mapを用いて、 過去に調べたデータの[履歴]や、収集した[データ]の格納を考えています。 ここで、[履歴]の方はクロール時に毎回アクセスする事になります。 しかし、[データ]については、([データ]を解析した後、)最悪破棄しても問題ありません。(アクセスする事は稀です。) となると、unordered_mapを用いて、 [履歴]と[データ]を等しく格納するのはメインメモリの無駄遣いのように思います。 これらを切り分けて格納する事はできるでしょうか？ <<質問①>> 要するに、[履歴]は頻繁にアクセスするのでO(1)でアクセスしたい。 [データ]は、そのままHDDに格納してしまいたい。 ただし、[データ]には[履歴]と同じキーワード(ハッシュ値)で、 それなり(……このそれなりが曲者かもしれないですが)の速度でアクセスしたい。O(N)はさすがに困る。 unordered_mapは、 http://vivi.dyndns.org/tech/cpp/unordered_map.html#assign などで説明されており、 「全てのキー・値の取得」する場合は、 std::unordered_map mp // いろんな値を設定; for(auto itr = mp.begin(); itr != mp.end(); ++itr) { std::cout << "key = " << itr->first           // キーを表示 << " val = " << itr->second << "\n";    // 値を表示 } (上記URLより引用) のようにすればいいようです。 例えばマシンをシャットダウンする場合、 当然メモリ上のハッシュテーブルを上記のような方法で退避する必要があると思います。 しかし、この方法で退避すると、HDDの容量こそ削減できるものの、 再起動時にハッシュ値を全て再計算する事になると思います。 <<質問②>> ハッシュテーブルのバイナリをそのままHDDに退避する事は可能ですか？ (全て自作ならこのくらいはそれ程難しい話しではないと思うのですが……たぶん) あるいは、一件一件退避するとして、そのコストは……どの程度でしょうか？ (もちろん規模と実装に依るのは分かっているのですが、 見当が付かないので、どうすればいいか困っています。 処理が30秒で終わるのか、1時間かかるのか。        ) <<質問③>> unordered_mapを用いるとして、ハッシュテーブルのサイズが、 メインメモリの容量を越えてしまった場合、どうなるのでしょうか？ また、その場合の解決策について教えて下さい。 最後に、 MySQLなどのデータベース?がC++から使えるかどうかは良く分かりませんが、 取りあえず、今回は余り使いたくないです。 ライセンスを気にしなくてはいけない程のコードは書いていませんが、 巻き込まれたくは無いです。 ただ、もし、随分と簡単にMySQLなどのデータベースが、 この問題を明快に解決してくれるのであれば、 使えて損は無いので、ちょっと気になります。 (でもなるべくC++で作りたい、というのが本音です。)
7610,javascript|jquery,jQueryでJSONオブジェクトを扱うときに､例えばhoge:fugaみたいな､コロンが途中に入っている要素はどのようにして扱えばいいのでしょうか｡
7635,javascript|html|jquery,chrome extensionでitune RSSをパースしてHTMLに表示したくて以下のコードを書いたのですが､結果が反映されませんでした｡  どこを変更すれば表示できるようになりますか?  教えて下さい｡よろしくおねがいします｡ chrome.browserAction.onClicked.addListener(function(){ sendMessage({action: "getMusic"}); }) var sendMessage = function(message callback){ chrome.runtime.sendMessage(message callback); }; chrome.runtime.onMessage.addListener( function (request sender sendResponse){ if(request.action == "getMusic"){ $.ajax({ url: 'https://itunes.apple.com/jp/rss/topsongs/limit=50/genre=29/xml' method: 'GET' dataType: 'xml' success: function(feed) { $(feed).find('entry').each(disp); } error: function(){ console.log('itunes api search error.' arguments); } }); } } ) //HTMLに追加 var disp = function(){ var userAgent = window.navigator.userAgent.toLowerCase(); if ((userAgent.indexOf('msie') != -1) || (userAgent.indexOf('firefox') != -1)) { $name = $(this).find('im\\:name'); $musicName = $(name).find('label'); $artist = $(this).find('im\\:artist'); $artistName = (artist).find('label'); $('#music_list').append('' + musicName + '') }else{ $name = $('im:name' this).text(); $musicName = $(name).find('label'); $artsit = $('im:artist' this).text(); $artistName = $(artist).find('label'); $('#music_list').append('' + musicName + ''); } } aiueo kakikukeko
7641,javascript|html|jquery,javascript内の　var name = $("#in").val();　の部分で、 $ is not definedになってしまいます。 入力欄 表示欄 *javascript // okボタン押下時イベント function x() { // id=inのテキストボックス取得 var name = $("#in").val(); // ホスト名取得 var localhost = window.location.host; // 取得した入力を基に、URL作成 var url = "http://fujimicwapi.azurewebsites.net/api/MstUsers"; // 表示欄にjsonのデータを出力 $.get(url { serchStr: name } function (data) { $("#out").val(JSON.stringify(data)); }); } 解決方法が分かりません。 解決方法の分かる方がいましたら、ご教授をお願いします。
7661,android|javascript|jquery,お世話になっております。 monacaでアプリ開発をしてるのですが、 googleplayでリリースしたアプリで音がでませんでした。 原因等わかればご教示ください。 ■開発環境 monaca（Cordvaバージョン3.5.1） ・monaca DebuuggerでXPERIA端末からテスト⇒音がなる。 ・デバッグビルドを行い、XPERIA端末から確認⇒音がなる。 ・googleストアにリリースしアプリをインストールして確認⇒音がならない。 ■ソースコード スタートボタンを押したら音がなるようにしています。 必要部分を抜粋しているつもりですが、その他必要な情報等ございましたら ご教示ください。 function start(){ document.getElementById("Sound").play(); }
7688,javascript|jquery,Highchartsライブラリ ／ X軸件数が多い時、(動的生成する)全体件数から判断して、適当に間引く(良い感じに表示する)方法はあるでしょうか？
7701,javascript|html|jquery,現在下記ソースのようにjqueryのcolumnsを使用して実装をしています。 データの無い行も含めて常に５０行を表示したいのですが、方法が分かりません。 また、常に５０行を表示したいので、表示行数設定は削除したいです。 ご教授をお願いします。 DataTable
7769,javascript|html|jquery,まず、現在の実装状況です。 HTMLではカラム名のみを設定しています。 javascriptでは、すでにjsonを取得しています。 jsonの内容は {"NO":"1" "cal1":"taro" "cal2":"1234" "cal3":"jap" "cal4":"30"}の構成で、複数来ます。 取得したデータ要素はそれぞれ「No.←NO、列１←cal1、列２←cal1、列３←cal1、列４←cal1」というようにカラムに追加していきたいです。 ※また、最終的にはTableにチェックボックスカラムを追加する予定です。 このように、JsonをTableに反映させたいのですが、方法が分かりません。ご教授をお願いします。 ＊java script $(document).ready(function () { var url = "http://url"; // Jsonデータ取得 $.get(url function (jsonData) { }); $('#example').dataTable({ bProcessing: true iDisplayLength: 100 sPaginationType: "full_numbers" bSortClasses: false bFilter: true bLengthChange: true bJQueryUI: true }); }); *HTML DataTables example No. 列１ 列２ 列３ 列４ 画面イメージです。
7831,html|jquery,現在のCSSは下記の通りで、ページ選択のデザインはボタンではなく文字です。 その文字をクリックすることで、ページが遷移します。 そして、この文字をボタンにしたいのですが、方法が分かりません。 ご教授をお願いします。 .dataTables_paginate { float: right; text-align: right; padding-right:6px; font-family: "Verdana"; } .paging_full_numbers { height: 22px; line-height: 22px; } .paging_full_numbers a:active { outline: none } .paging_full_numbers a:hover { text-decoration: none; } .paging_full_numbers a.paginate_button .paging_full_numbers a.paginate_active { border: 1px solid #aaa; -webkit-border-radius: 5px; -moz-border-radius: 5px; border-radius: 5px; padding: 2px 5px; margin: 0 3px; cursor: pointer; color: #333 !important; } .paging_full_numbers a.paginate_button { background-color: #ddd; } .paging_full_numbers a.paginate_button:hover { background-color: #ccc; text-decoration: none !important; } .paging_full_numbers a.paginate_active { background-color: #99B3FF; }
7851,javascript|jquery,先日、画像を左右にスワイプできるslider系のjQueryライブラリを利用していた時、標準のjQueryには存在しないメソッドを呼び出すことで、ライブラリ専用のインスタンスを取得でき、そのインスタンスを利用することで様々なメソッドにアクセスできる、というものがありました。 そこで、自分もjQueryを拡張してみようと思い、真似をして以下の様なコードを書いてみました。 $.fn.extend({ slider: function(){ var idx = 0; this.method = function(){ return ++idx; }; return this; } }); var slider = $('body').slider(); // 特にbodyを指定することに意味は無い slider.method(); // -> 1 slider.method(); // -> 2 うまく実行することが出来ました。 しかし、同じようにもう一度slider()メソッドを利用してインスタンスを取得すると、別のインスタンスになってしまい値はリセットされてしまいます。 var slider = $('body').slider(); slider.method(); // -> 1 slider.method(); // -> 2 slider = $('body').slider(); slider.method(); // -> 1 slider.method(); // -> 2 この場合、複雑なシステムなどでjsファイルが複数存在する場合、ファイルをまたいで同じインスタンスを利用するには、予めインスタンスを取得しておき、必要なメソッドにインスタンスを渡すというような方法が考えられます。 コード的にはそういった書き方をしたほうが適切なのかもしれません。しかし、いろいろと面倒なので同じDOMで一度呼び出したことがあるインスタンスには同じインスタンスが返ってくるように以下のような更なる別の拡張を追加しました。 window.instances = window.instances || {} $.extend({ // $.fn.extendではない getInstance: function(jqobj){ if(jqobj.length==0) return undefined; return window.instances[jqobj.attr('instance-id')]; } setInstance: function(instance){ var id = (Math.random()+'').substr(2); instance.attr('instance-id' id); return window.instances[id] = instance; } }); インスタンスを作成した際にinstance-id属性に乱数を設定たものを割り当て、取得するときにinstance-id属性が存在していれば、idからインスタンスを取得するというわけです。 そして、$.fn.extendのsliderを以下のようにします。 $.fn.extend({ slider: function(){ instance = $.getInstance(this); if(instance) return instance; var idx = 0; this.method = function(){ return ++idx; } return $.setInstance(this); } }); var slider = $('body').slider(); slider.method(); // -> 1 slider.method(); // -> 2 slider = $('body').slider(); slider.method(); // -> 3 slider.method(); // -> 4 少し無理やりなような気もするのですが、これでどこからでも同じ対象DOMであれば、同じインスタンスを取得することが出来るようになりました。 しかし、なにかしてはいけないことをしている気がして気持ちが悪いです。 皆様は、このような状況をどう感じますでしょうか？ より良い解決策や、アドバイスなどございましたらよろしくお願いいたしますm(_ _)m
7884,c++,この配列に何かバイナリデータが入っているとします。 char c[9] これの先頭３バイトをintの変数に入れたいのですが、mem～系の関数を使わずに実現することは可能ですか？ ちなみに４バイト目以降は無傷で残しておきたいです。 【追記】 意味の分かりづらい質問ですいません。 このような感じです。エンディアンに関してはバイトオーダーの関数は後で使って調整できるものとします。なのでとにかくintに入れれば大丈夫です。 int n = 0; char cc[4] = { 0xe8 0x03 0x00 0x00 }; //数字の1000 memcpy(&n cc 3); // 3バイト取り出して1000を復元する 回答していただいた方々、ありがとうございます。 sanadanさんのコードをベースに下記の方法で数値を復元することができました。 char c[4] = {0x000x000x060x00};  // int6のネットワークバイトオーダー(3バイト目まで) int x = (*(int *)c) & 0xffffff;  // この時点で0x000x060x000x00になる x = x << 8;  // 3桁しか使わない x = ntohl(x); // オーダー解決 yoh2さんの方法を使えばバイトオーダーも同時に解決できそうですね。 ご回答していただいた通り、このようなことをするよりも素直にmemcpyを利用しようかとも思っています。 【さらに追記】 よく考えたら任意の場所から取り出して最後の3バイトを取り出す場合もありそうなので、やはり上記コードは使えなさそうです。 最初の意図を明確にしておくと、 インプットデータはネットワークバイトオーダーのバイト配列でした。 それの3バイト目までをintとして扱いたいマシンはリトルエンディアンマシン。。でしたが、この質問を書き、回答を読んで将来ビッグエンディアンで使う可能性もあると思い直しました。 なので、ビットシフトなどは今回の用途では使わない方向でいきます。
7913,c++,Apache DerbyにC言語もしくはC++から接続して、扱いたいのですが。 できれば、緩めのライセンスで利用できるものを探しています。 何か良い方法はないものでしょうか…。
7970,c++,SSL_writeやSSL_readをノンブロッキングで処理したいです。(目的が達成できればBIOでもなんでも可) スレッドではなく、select()のような関数を使って通知を受けたいと考えています。 具体的な方法を教えていただけると助かります。
8006,c++,N3797(pdf) の P.309 にある template  double operator "" _\u03C0(); これの意味がわかりません。 引数が空って、2_π の 2 が無視されるんですか？ それとも _π で使うなら constexpr との違いは？ なぜパラメータパックなんですか？
8063,c++,表題の通りです。 バッファクラスを作ったのですが、newとreallocの混在に加えて、それをdeleteしています。このようにした場合に解放されない部分が発生したりしないかを確認したいと思っています。 char *p = new char[10]; p  = realloc((void*)p 15); delete p[]; よろしくお願いします。 すいませんdeleteはミスです。修正しました。
8521,c++,Visual Studio Community 2013 で webView を含む cocos2d-x 3.4 のコードをビルドすると、以下の様なリンクエラーが発生します。 error LNK2019: 未解決の外部シンボル "__declspec(dllimport) public: static class cocos2d::experimental::ui::WebView * __cdecl  cocos2d::experimental::ui::WebView::create(void)" (__imp_?create@WebView@ui@experimental@cocos2d@@SAPAV1234@XZ) が関数 "public: virtual bool __thiscall HelloWorld::init(void)" (?init@HelloWorld@@UAE_NXZ) で参照されました。 このエラーに対処するには、どうしたらいいのでしょうか？
8561,c++,iPhoneのカメラを使って写真を撮った時に、斜めに傾いてしまった写真を正確な位置に戻したいです。 iPhoneの連写アプリなどをつかって何枚か写真を撮った時、写真1のようにまっすぐ撮れた写真と写真2のように少し傾いてしまった写真があったとします。傾いてしまった写真2をまっすぐにするために、写真1を基準にし何かしらのアルゴリズム(★1)を使って、写真2を補正したいと考えています。OpenCVにおいて、この問題を解決できるアルゴリズムは存在するでしょうか？
8574,c#|c++,表題の通り、並列パターンライブラリ（PPL)を使用しているDLLをC#側から利用しようと思い、 C++/CLIでラッパーDLLを作成していたのですが、 ERROR: Concurrency Runtime is not supported when compiling /clr. とエラーが発生しました。 どうもPPLはCLI上からは使えないようなのですが、 このライブラリをどうにかC#上から使う方法はないでしょうか？
8577,c++,私は今、unique_ptrを用いてメモリ管理を行っています。 その際、unique_ptrで配列を動的確保し、それをforeach文で回す方法があるかどうか知りたいです。 具体的には、 unique_ptr < int[] > foo = make_unique< int[] >(20); for(auto& a : foo){ a = 0; } のような感じです。 unique_ptrにはイテレータが用意されていないので、私の知識ではこのような処理を記述することができませんが、配列の要素数を気にせず使えるので、出来ればforeach文で処理したいと考えています。 C++はまだ１年も触ってない初心者ですので、解りにくい表現や、間違えて認識している部分を多々あるとは思いますが、どなたかご教授願います。
8580,c#|c++,unmanagedなC++ DllをC#側から使うため、C++/CLIでラッパーライブラリを作成しました。 C#側から、とりあえずTestプロジェクトを作成して動作を確認しようと試みたのですが、ライブラリの読み込みに失敗してしましました。 Testプロジェクトのビルド出力フォルダにはラッパーライブラリのコピーが作成されるのですが、 UnmanagedのDllはコピーされないことが原因のようです。 この場合、プロジェクトの設定はどのように設定するのが良いのでしょうか？ 実行環境はVisualStudio2013 Comunity UnmanagedなDllもソースコードからソリューションに登録しています。
8596,c++,今、C++のマクロを自力で展開しようとしています。 そこで、"#define"　を見つけたのですが、このようになっていました。 #ifndef  OuHolder_h #define  OuHolder_h このような"#define"は「OuHolder_hが定義されている」ということを表すようなのですが、 これをどう展開すればよいか分かりません。 どうすればいいでしょうか?
8607,jquery,mobileのsafariにて、画面を表示した段階でfocusをあてて入力可能な状態にしたいのですが focusが上手く動作しません。 (focusがあたってはいるのかもしれませんが、キーボードが表示されない状態です) iOSのsafariの場合、clickなどのイベントにbindしたらfocusが効くようになるとの記事等は見つけたのですが、click自体しないでfocusを当てておきたいため、上手くいっておりません。 HTML JavaScript $(document).on('pageshow' '#sample' function() { var onClickHandler = function () { $('#text').focus(); } $('#bind').on('click' onClickHandler); /*  #bindをクリックすると#textにfocusはあいますが、 *  setTimeout('$("#bind").click()' 1000); *  のように操作してもキーボードが表示されない状態です */ }); どなたか方法をご存知のかたはいらっしゃいますでしょうか。 よろしくお願いします。
8611,android|java,AndroidでSQLiteを操作する方法はある程度分かるのですが、サーバー上のデータベースを操作（主に追加）をしたいのですがどうしたらいいのでしょうか。 URLで取得などすればいいのでしょうか。 MySQLなら出来なくはなさそうだったのですが、SQLiteは見つける事が出来ませんでした。 ご教授願います。
8621,c++,C++でゲーム開発を行っております。 マウスカーソルをウィンドウから出さないためにはどのような処理をすればよろしいでしょうか。 例えば Teeworlds や Steam 内の多数のゲームで実装されています。 ゲーム内ではマウスカーソルは別の画像を用いているのでマウスカーソルを消すことは可能です。 マウスカーソルがウィンドウ外に出ている場合 SetCursorPos で内に戻す処理を行っても やはり 60FPS なので多少出てしまいます。 マウスカーソルを消して、常にアクティブ状態にすれば見かけ上可能ですが、 その場合は 現在 ShowCursor によりカーソルを非表示にしておりますが、自 window 外でも消去する方法。 常にアクティブ状態に保つ方法が分かりません。( WM_ACTIVATE 時に SetForegroundWindow や 60FPS でSetForegroundWindow を行いましたが少しちらつきます) カーソルを 60FPS で画面中央に固定し、各フレーム毎に変位を求め、別でマウスカーソルの位置を処理する方法だとまあまあ上手くいきますが、1フレームで画面外まで移動されるとやはり同じこととなってしまいます。 60FPS が遅いなら別スレッドで処理すれば良いのですが、Windows がマウスを処理するクロックサイクル以下にはできないかと思います。 ですので、できれば他の方法で行いたいと考えております。 環境は C++ で行っており、DxLib を使用しておりますが、Window メッセージは処理できる形になっております。
8625,html,スマートフォン用ブラウザの多くはWebページの記事部分のみを抜き出して読み易く表示する「リーダーモード」という機能が備わっています。他にも似たような機能を持つWebサービスとしてReadabilityやInstapaperがあります。 リーダーモードは便利ですが、ページによっては画像が表示されなかったり記事の抽出に失敗したりと、ブラウザの実装やサービスによってレンダリングがまちまちな印象です。 これらの表示をある程度統一させるためのガイドラインまたは参考資料はあるのでしょうか？ 参考までに、IE11のReading Viewに関する資料は見つかりました。 Introducing Reading View in IE 11 - MSDN Blogs Reading View Guidelines
8628,javascript,質問 addEventListenerで、クリックした要素そのもの(id未指定)を受け取るには、どうすれば良いでしょうか？ ・渡す側で何とかしてループ処理するしかない？ 現状 ・onclick 1 2 やりたいこと ・addEventListenerで、クリックした要素(divではなくbutton)を受け取りたい 1 2 その他 ・buttonタグには、id名class名を付与しない ・buttonタグは動的生成のため、階層構造は変化する(生成の度に前後にノードを挿入する可能性あり)
8630,javascript|jquery,仕事の合間なので時間がかかってしまいましたが、やっと編集できました！ 現在、こんな感じです。↓ $(function(){ var duration=300; var duration2=500; $("#pc-page-box1").on("mouseover"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:0.6} duration); }); $("#pc-page-box1").on("mouseout"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:1} duration); }); $("#pc-page-box2").on("mouseover"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:0.6} duration); }); $("#pc-page-box2").on("mouseout"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:1} duration); }); $("#pc-page-box3").on("mouseover"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:0.6} duration); }); $("#pc-page-box3").on("mouseout"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:1} duration); }); $("#pc-page-box4").on("mouseover"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:0.6} duration); }); $("#pc-page-box4").on("mouseout"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:1} duration); }); $("#pc-page-box5").on("mouseover"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:0.6} duration); }); $("#pc-page-box5").on("mouseout"function(){ $(this).find(".black-sheet").stop(true).animate({ opacity:1} duration); }); }); $(function(){ var duration=300; $(document).on('click' '.leftBoxParent' function(){ $(this).parent('div').find('.leftBox').stop(true).animate({left:-300} duration); $(this).find('.leftBox').stop(true).animate({left:300} duration); }); }); $(function(){ var duration=300; $(document).on('click' '.rightBoxParent' function(){ $(this).parent('div').find('.rightBox').stop(true).animate({right:-300} duration); $(this).find('.rightBox').stop(true).animate({right:300} duration); }); }); bodytdth { font-family: "Noto Sans CJK JP Light" "Noto Sans CJK JP Black" "Noto Sans CJK JP Bold" "Noto Sans CJK JP DemiLight" "Noto Sans CJK JP Medium" "Noto Sans CJK JP Regular" "Noto Sans CJK JP Thin"; } h1h2h3h4h5h6 { font-family: "Noto Sans CJK JP Light" "Noto Sans CJK JP Black" "Noto Sans CJK JP Bold" "Noto Sans CJK JP DemiLight" "Noto Sans CJK JP Medium" "Noto Sans CJK JP Regular" "Noto Sans CJK JP Thin"; } .img_box { position:relative; display:block; margin:0; padding:0; } .img_box img { z-index:0; margin:0; padding:0; } .img_box a { color:white; font-size:70px; } .img_comment2 { font-size:70px; font-family: 'Oswald' sans-serif; font-weight:300; position:absolute; bottom:150px; left:0px; z-index:1; text-align:left; padding:10px; margin:0; text-shadow:3px 3px 3px #000; } .pages{ display:block; float:left; position:relative; } .comments{ font-size:70px; font-family: 'Oswald' sans-serif; font-weight:300; color:white; position:absolute; bottom:150px; left:150px; z-index:1; text-align:center; padding:10px; margin:0; text-shadow:3px 3px 3px #000; } .japanese-font{ font-family:"Noto Sans"; font-size:18px; font-weight:bold; color:white; position:absolute; bottom:100px; left:150px; z-index:1; text-align:center; padding:10px; margin:0; text-shadow:3px 3px 3px #000; } body{ } /*.gridContainer { width: 88.5%; max-width: 1300px; padding-top:50px; padding-left: 0.75%; padding-right: 0.75%; margin: auto; clear: none; float: none; margin-left: auto; }*/ #pc-wrapper{ display:block; width:1300px; height:1800px; margin:0 auto; } #pc-wrapper p{ margin:0; } #pc-wrapper img{ display:block; } #pc-header-box{ display:block; position:relative; width:1300px; height:800px; margin:0 auto; vertical-align:bottom; } .pc-header-title{ display:inline-block; position:absolute; font-size:60px; } #pc-logo-box{ display:block; position:relative; width:1300px; height:200px; margin:0 auto; } #pc-logo-box img{ display:block; position:relative; top:50px; margin:0 auto; } #pc-page-box1{ display:block; position:relative; width:650px; height:430px; float:left; overflow:hidden; } #pc-page-box2{ display:block; position:relative; width:650px; height:430px; float:left; overflow:hidden; } #pc-page-box3{ display:block; position:relative; width:650px; height:430px; float:left; overflow:hidden; } #pc-page-box4{ display:block; position:relative; width:650px; height:430px; float:left; overflow:hidden; } #pc-page-box5{ display:block; position:relative; width:650px; height:430px; float:left; overflow:hidden; } .black-sheet{ display: block; position: absolute; width: 650px; height: 430px; background: rgba(0000.8); z-index: 1; } .pc-page-title{ display:block; position:absolute; font-size:30px; color:rgba(2552552551); z-index:2; } .pc-page-title-japanese{ display:block; position:absolute; top:30px; font-size:24px; color:rgba(2552552551); z-index:3; } #we-are-infobox{ display:block; position:absolute; left:-300px; width:300px; height:300px; background:rgba(511532041); opacity:1; z-index:5; } #info-infobox{ display:block; float:right; position:absolute; right:-300px; width:300px; height:300px; background:rgba(511532041); opacity:1; z-index:5; } #price-infobox{ display:block; position:absolute; left:-300px; width:300px; height:300px; background:rgba(511532041); opacity:1; z-index:5; } #blog-infobox{ display:block; float:right; position:absolute; right:-300px; width:300px; height:300px; background:rgba(511532041); opacity:1; z-index:5; } #contact-us-infobox{ display:block; position:absolute; left:-300px; width:300px; height:300px; background:rgba(511532041); opacity:1; z-index:5; } Welcome to our website" We Are私たちについて Info お知らせ Priceプライス Blogブログ Contact Us メール まずは状況から説明させていただきます。 モニターの可視領域を作り、その中にボタンを4つ作りました。 btnA B C D　という風です。 それから、モニターの不可視領域にコンテンツABCDを作りました。 イラストαの状況です 次にそれぞれのbtnにプログラムしたいです。 ・btnAをクリックしたら、不可視領域にあるAが左から右へスライドしてきて、可視領域の中央に配置される。 イラストβの状況です。 また、btnA C は「左から右へ」、btnB Dは「右から左へ」動かしたいです。 自分の知識でできる範囲で作ってみました。 if文を使って動かすべきなのかどうか、よくわからず、とにかく動くようにプログラミングしてみました。 しかし、右セクションはは右、左セクションは左とセパレートになってしまっていますが、本来は、右が動いていて、もし、左を押したら、右は右に戻って、左は左から出てくるという動きにしたいです。。 教えてください。 お願いいたします
8637,javascript|jquery,いくつか参考サイトを探し、 http://qiita.com/yoya_k/items/4bce6201fde9ee3a9561 こちらを参考にさせていただきながら、なんとか近い形にはできたのですが 気になったのはそもそも情報が少ないということは、別の方法があるからなのか？ 予想ではもっとこの問題で悩んでいる方がいるかと思っておりましたので意外でした。 ime-modeが使えない場合の基本的なやり方が分かればと思います。 入力モードが全角になっていても半角の数値のみが入力（即時変換？）可能にしたいです。 実現可能であれば、jqueryやangularjs等も利用したいと思っています。 何卒どうぞよろしくお願いいたします。
8642,java,SpringBoot 製 の war を JBoss にデプロイしてセッションレプリケーションしたいのですが方法が解らず困っています。 通常、Java のウェブアプリケーションでセッションレプリケーションしたい場合、web.xml に  を追記する必要があるかと思います。 しかし SpringBoot の場合、web.xml が存在しないため、通常通りに行きません。 なにか方法がないか検索してみたのですが、解らずじまいでした。 SpringMVC などの他のフレームワークで作成したアプリケーションでのセッションレプリケーションは出来ることを確認しております。 やりたいことの前提としましては、下記のとおりです。 ・SpringBoot を使いたい。 ・アプリケーションサーバは SpringBoot の組み込み Tomcat ではなく、通常の JBoss を使いたい。 ・JBoss の機能でセッションレプリケーションしたい。 他のプロダクト（Hazelcast 等）を使う方法はあまり望んでおりません。 これが可能かどうか、可能であればその方法が知りたいです。 宜しくお願い致します。
8645,ios,TabBarControllerから他の画面に画面遷移すると、画面遷移後のViewControllerにTabBarが表示されません。 そしてそのViewControllerから元のTabBarControllerのタブページに戻った時も、画面下にTabBarが表示されていません。 TabBarController → ViewController でViewControllerにTabBarが表示されないのは今回いいとして、 ViewController → TabBarController でTabBarControllerのタブページに戻った時にTabBarが表示されるようにするにはどうすればいいでしょうか？ どなたか分かる方がいれば教えていただきたいです。すみませんが、よろしくお願いします。
8648,c#,現在実行しているEXEファイルと検索対象フォルダであるNameは、同じ階層にあります。 そして、Nameフォルダ内にある、1つのファイル(ファイル名はランダム)を相対パスで取得したいのですが、取得することが出来ません。 現在のC#での実装は var file = Directory.GetFiles("Name""*.DAT"); としており、var fileにはなにも入らない状態です。 解決方法の分かる方がいましたら、ご教授をお願いします。
8654,php,お世話になります。PHPとsymfony勉強中です。 Parent/AdminBundle/ Parent/UserBundle/ 二つのBundleがあります。 テーブルは以下の3つです。(既に作成済みでデータも入っています。） admin user product productをAdminBundleからもUserBundleからも参照したいです。 Parentの下にEntityを作れば良いのかと思いymlファイルを定義して生成を試してみたのですが $ sudo php app/console doctrine:generate:entities Parents Generating entities for namespace "Parents" [RuntimeException] Namespace "Parents" does not contain any mapped entities. というエラーが出てきてしまい、Entityを作成することができませんでした。 どのようにすれば解決することができますか？
8656,python,ブラウザから送られてきたPOSTのフォームデータをcgi.FieldStorage()として、受け取ろうとするのですが、 FieldStorage(None None []) になってしまいます。どうすればいいのでしょうか? htmlは data Create Create name Back to top serverは import http.server import cgi class handler(http.server.BaseHTTPRequestHandler): def do_POST(self): print(cgi.FieldStorage()) # FieldStorage(None None []) というふうになっています。
8665,ios,「3 4 5」という範囲の整数があるとします。カレントロケーションを 5、インクリメントを +1 としたとき、3 を返してほしいです。もし、インクリメントが +2 なら 4、+7 であれば 3 のように、3 4 5 3 4 5 3... とインクリメントの結果が循環してほしいです。 やってみたこと : +1、-1 のインクリメント/デクリメントの場合は下記のコードで実装できましたが、+2 や -4 など加減数が 1 を超える場合に対応させようとすると、方法がわからなくなります（下記の関数を加減数ぶんfor文で繰り返し実行することはできますが……）。 実装 NSUInteger NSRangeIncrementLocationInRange(NSUInteger location NSRange range) { NSIndexSet *indexSet = [NSIndexSet indexSetWithIndexesInRange: range]; if (![indexSet containsIndex: location]) { return NSNotFound; } NSUInteger index = [indexSet indexGreaterThanIndex: location]; return index != NSNotFound ? index : [indexSet firstIndex]; } NSUInteger NSRangeDecrementLocationInRange(NSUInteger location NSRange range) { NSIndexSet *indexSet = [NSIndexSet indexSetWithIndexesInRange: range]; if (![indexSet containsIndex: location]) { return NSNotFound; } NSUInteger index = [indexSet indexLessThanIndex: location]; return index != NSNotFound ? index : [indexSet lastIndex]; } 実行例 // 4 〜 8の範囲内で8をインクリメントする NSLog(@"%zd" NSRangeIncrementLocationInRange(8 NSMakeRange(4 5))); // 8の次は最小値に戻って4が返る 求めているもの : 理想的なのは下記のような関数で、 NSUInteger NSRangeIncrementLocationInRange(NSUInteger location NSInteger increment NSRange range); increment に 3 だの -8 だの正負どちらでも渡せるようにしたいです。 質問 : このようなメソッド、または関数は、Objective-C、またはCのフレームワークやライブラリに存在しますか？　もしない場合、実装するためにどのようなコードが考えられますか？
8674,java|html,現在Java、Seasar2(SAStrats/S2JDBC)、JSP、PostgreSQLで DBを使ったWebアプリケーションを作っています。 質問があるのですが、 Javaでログイン時の「パスワードを記憶する」機能を作るにはどうしたらいいでしょうか？ 次のような機能です。 作り方やサンプルコードを調べているのですが、なかなか見つけられません。 もし情報を提供できる方がいれば、参考ページのURLなどを教えて頂けると助かります。
8680,javascript,MonacaおよびJavaScript、アプリ開発初心者です。 恐れ入りますがお力添えいただきたく質問させていただきます。 以下のサイトで初歩の初歩を勉強しており、実際にMonacaで同じソースコードをコピーして動かしているのですがクラスを呼び出すようにすると、なぜか画面に何も出てこなくなってしまいます。 http://code.9leap.net/ 想定どおり画像が表示されるソースコード enchant(); // おまじない // ここで自作クラスBearをつくる Bear = Class.create(Sprite // Spriteクラスを継承 { initialize: function(x y) { //初期化する Sprite.call(this 32 32); //Spriteオブジェクトを初期化 this.image = game.assets['./img/chara1.png']; this.x = x; this.y = y; this.tx = this.x; //行きたい場所のX座標 this.ty = this.y; //行きたい場所のY座標 this.frame = 0; game.rootScene.addChild(this); } //enterframeイベントのリスナーを定義する onenterframe: function() { slow = 30; //クマが行きたい場所へ近づく遅さ //行きたい場所へ近づく this.x += (this.tx - this.x) / slow; this.y += (this.ty - this.y) / slow; } }); window.onload = function() { var game = new Game(320 320); // ゲーム本体を準備すると同時に、表示される領域の大きさを設定しています。 game.fps = 24; // frames（フレーム）per（毎）second（秒）：ゲームの進行スピードを設定しています。 game.preload('./img/chara1.png'); // pre（前）-load（読み込み）：ゲームに使う素材をあらかじめ読み込んでおきます。 game.onload = function() { // ゲームの準備が整ったらメインの処理を実行します。 //bear = new Bear(100 120); // クマさんをつくる var kuma = new Sprite(32 32);  // くまというスプライト(操作可能な画像)を準備すると同時に、スプライトの表示される領域の大きさを設定しています。 kuma.image = game.assets['./img/chara1.png']; // くまにあらかじめロードしておいた画像を適用します。 kuma.x = 100; // くまの横位置を設定します。 kuma.y = 120; // くまの縦位置を設定します。 game.rootScene.addChild(kuma); // ゲームのシーンにくまを表示させます。 game.rootScene.backgroundColor  = '#7ecef4'; // ゲームの動作部分の背景色を設定しています。 }; game.start(); // ゲームをスタートさせます![画像の説明をここに入力][1] }; クラス呼び出しのために以下のコメントアウトを取り消すと何も表示されなくなってしまいます bear = new Bear(100 120); // クマさんをつくる コンソールにエラーなども出ておらず、何が原因か見当もつかない状態でして、何かお気づきの方いらっしゃいましたら助けていただけないでしょうか…。 以上よろしくお願いいたします。
8682,javascript|html|jquery,Datatablesのソースで、表示件数変更欄を生成している部分が知りたいと思い、 settings._iDisplayLengthと記載されているソースを調査していますが、見つける事が出来ていません。 分かる方がいましたらご教授をお願いします。 DataTablesダウンロード
8685,javascript|jquery,こんにちは。よろしくお願いいたします。 現在、jqueryを使って下記のような動きを試みています。 4つのselectタグ(0番～3番とします）があり、デフォルトでは select0(選択可能状態） select1～3(disabled状態） となっています。 これを、0が選択されたら次の1を選択可能に、1が選択されたら次の2を・・・と順番に選んでいけるようにしたく、下記のようにIDを指定して個別に書く方法ではなんとかできるようになりました。 $("#select0").change(function(){ $("#select1").removeAttr("disabled"); }); $("#select1").change(function(){ $("#select2").removeAttr("disabled"); }); ... 上記の書き方でselect3まで繰り返して書いています。 これを、eq: などを使ってもっとスマートに書きたいのですが変数？の書き方がわからず困っています。 $("select").change(function(){ $("select").eq(ここに自身の番号に+1した番号).removeAttr("disabled"); }); こんな感じでまとめることは可能でしょうか？ 当方、javascript自体あまりよくわかっていない状態です。 どなたかご教示いただければと思います。 よろしくお願いいたします。
8690,php,phpのheader関数でリダイレクトの指定をしているのですが、 http://example.com/あいうえお/かきくけこ などの日本語が入っているURLにリダイレクトされません。 $redirect =  'http://example.com/あいうえお/かきくけこ'; if(!empty($redirect)){ header("Location: 0; URL= ".$redirect ); } どなたかご教示いただければと思います。 よろしくお願いいたします。
8693,c#,Visual studio2013でクラスライブラリを作成しようと考えています。 新しいプロジェクトでクラスライブラリを選択してプロジェクトを作成、新しい項目の追加でClass2.csを追加しました。そしてビルドをしてdllを作成しました。 次に、新しいプロジェクトでコンソールアプリケーションを選択してプロジェクトを作成、参照の追加で先ほど作成したdllを追加しました。 その結果、コンソールアプリケーションのプロジェクトでデフォルトで生成されるClass1は認識できるのですが、後から自分で追加したClass2は見つからずコンパイルエラーとなります。 このような現象について何か考えられることはありますか よろしくお願いします
8706,ios,お世話になります。 XcodeのStoryboardでViewのサイズ取得について質問があります。 マルチデバイス対応をしたくて、AutoLayoutを利用しています。 添付画像のツールバーは高さ44と左右のSpacingを0にConstraints設定しています。 ラベルは一番下はツールバーに対してBottom Spaceと、上のラベルに対するTop SpaceとのConstraintsを、以下他のラベルも上下関係のConstraintsを設定しています。 上にある赤い部分はViewで、Top Spaceを0に、左右のSpacingを0に、Bottom Spaceを一番上のラベルに対して5のConstraintsを設定しています。 動作させると赤いViewはデバイスに対して大きさをきちんと変えてくれるのですが、この「Constraintsの制約によって大きさの変わったView」の正確なサイズを取得する事はできますか？ ご教示頂ければ幸いです。 追記：4/5 ご指摘に従って再度試してみました。 viewDidLayoutSubviewsで [self.view layoutIfNeeded]; の後に数値を取得したところ、正しい値を取得できました。 有難うございました。
8709,ios,application:(UIApplication *)application openURL:を用いてURLスキームより独自のアプリを起動しているのですが、TOPページより何回か遷移したDetailページをいきなり表示させることはできますでしょうか？また、そのページから戻る処理を行いTOPに戻ることもできればよいです。
8719,javascript|jquery,javascript(jQueryなど可)を使ってドラッグ可能な要素を作りたいのですがやり方が全くわかりません。 jQuery UIを使えばドラッガブルな要素を作るのは簡単ですが、以下の条件にしたいときはどうしたらよいのでしょうか。 縦には動かせない 横には10pxずつ動かすことができる 指定した範囲を超えることはできない また、Aの要素に近づいたらAに吸い付いてピタッと止まるというものも教えていただけますか。 あと、こういうUIの動きはどういうところで学べますか? 今まで決まった動きをするということしかやったことが無いため、これから挑戦しようと思っています。
8734,ios,1.環境 XcodeVer:6.2 Deployment Target:iOS7.1 Device:iPhone 開発言語:Objective-C 2.具体的なプログラミングの問題 顔文字をユーザ辞書に登録できるアプリを作成しています。 アプリ内から呼び出した「ユーザ辞書」の「よみ」部分を自動で「☻」文字に変更したいと考えています(よみを「☻」で辞書登録した内容は、顔文字一覧に登録されるため便利)。 現在、アプリ内からユーザ辞書を呼び出す所まではできましたが、「よみ」部分が「☻」文字に変更出来ない状況です。 3.調べた、試してみたことなど ・ユーザ辞書を呼び出すUITextFieldの非公開メソッド「- (void)_addShortcut:(id)arg1;」を確認(引数が「よみ」の値？、引数に「☻」を渡したが変化無し)。 ・「class-dump」を使用して「_addShortcut:」内のコードを見ようとしましたが、ヘッダー部分しかダンプ出来ず分かりませんでした。 ・「よみ」に該当するプロパティが無いか調べましたが、それらしいものは見つけられませんでした。 4.本機能を実装しているアプリ かわいい顔文字登録：https://itunes.apple.com/jp/app/kawaii-yan-wen-zi-deng-lu/id882667868?mt=8 かわいい顔文字「かおもじシンプル」…：https://itunes.apple.com/jp/app/kawaii-yan-wen-zi-kaomojishinpuru/id788417205?mt=8 5.コード内容 // FIXME:辞書登録機能の処理 - (void)runJisyoSignUpTextField:(UITextField*)textField text:(NSString*)text { // テキストフィールドに顔文字を代入 textField.text = text; // テキストフィールド内のテキストを全選択 [textField selectAll:nil]; // ユーザ辞書呼び出し if([textField respondsToSelector:@selector(_addShortcut:)]) { [textField performSelector:@selector(_addShortcut:) withObject:nil]; } // テキストフィールドのテキストを空にする textField.text = @""; // テキストフィールドのキーボードを閉じる [textField resignFirstResponder]; } ご存知の方がおられましたら、ご教授頂けないでしょうか。 よろしくお願い致します。
8738,python,こんにちは Python2.7で商用ソフトを作りたいのですが以下お教え下さい。 ①ソースコードは全て開示しなければいけないのでしょうか？ ②逆コンパイルさせないコンパイルはできないのでしょうか？ ③Pandas等複数のモジュールを使っているのですが、コンパイルしてexe 形式にするにはこつがあるのでしょうか(以前、ScipyNumpyをpy2exeした ところうまくいなかった記憶があります。うろ覚えなのですが。。。)。 よろしくお願いいたします。
8740,android,例えば以下のようにしてXMLで定義されたView(content)があります｡そこに子ViewとしてcontentItemを8個追加します｡ final LinearLayout content = (LinearLayout)view.findViewById(R.id.content_list); for(int i=0; i<8; i++){ LinearLayout contentItem = (LinearLayout) inflater.inflate(R.layout.general_item null); content.addView(contentItem); } これのそれぞれの､Viewつまり､contentの子View(contentItem)の位置を取得する方法を知りたいです｡ onViewCreatedで以下のようにgetLocationInWindowを使ったのですが､すべての値が0のなってしまいました｡ private final int[] viewPosition = new int[8]; @Override public void onViewCreated(View view Bundle bundle){ LinearLayout content = (LinearLayout)view.findViewById(R.id.content_list); for(int i=0; i<8; i++){ final int [] anchorPos = new int[2]; View contentView = content.getChildAt(i); contentView.getLocationInWindow(anchorPos); viewPosition[i] = anchorPos[1]; } } 他になにか方法はありますか?  もしあれば教えて下さい｡  よろしくおねがいします｡ 追記: 何をやりたいのかというと､http://doruby.kbmj.com/daoka_tips/20120417/Android_ScrollView_このサイトに書かれている､ObservableScrollViewというものを使うとScrollViewの位置がわかるようなので､Viewの位置を調べて､その位置で特定の処理を行うということをしたいです｡
8743,python,djangoのプロジェクトをgitで管理したいのですが、以下の位置で大丈夫でしょうか。 mysite/ .git manage.py mysite/ __init__.py settings.py urls.py wsgi.py また、djangoにおいて.gitignoreに登録しておくべきものはなんでしょうか。
8747,html,http://omg165cm.tumblr.com/ 上は私のブログです。 http://melmilkuoxou.tumblr.com/ のように上に画像をヘッダーを設定し固定したいです。
8754,python,rubyではgemfileでプロジェクトごとに必要なパッケージを管理できますが、 pythonではどのようにすれば良いのでしょうか。 ちなみにdjangoを使った開発を想定しています。
8766,android,AndroidのEvernoteアプリには右下に＋ボタンがありますが、これは何かライブラリを利用したものなのでしょうか。それとも標準でできるのでしょうか。 ライセンスを読んでライブラリを調べてみたのですが結局分からず、教えていただければと思います。 主にしたいことは、右下にボタンを出して押したら上にメニューが表示され選択されれば実行。のようなことです。（ほぼ、Evernoteと同じことがしたいです。）
8781,javascript,・constructorプロパティは、コンストラクタ関数にも、コンストラクタ関数.prototypeにも、存在するのでしょうか？ ・それとも、プロトタイプチューンを辿って単にそう見えるだけ？ 下記は何が違うのでしょうか？ ・「Hoge.constructor」「Hoge.prototype.constructor」に何らかのオブジェクトは存在する？ ・それぞれの役割は？ ・どういうタイミングで作成される？ function Hoge() {}; 1 console.log(Hoge); 2 console.log(Hoge.prototype.constructor); 3 console.log(Hoge.constructor.prototype); 4 console.log(Hoge.prototype.constructor.prototype); 3 ・Hoge.constructor.prototypeに実体はあるでしょうか？ ・それとも、プロトタイプチューンを辿って取得した結果を表示しているだけ？ 4 ・ここに継承したオブジェクトが保存される？ 理解できないので質問追記します。 ・下記ページに以下の記載があるのですが、この仕様はどこで確認できるでしょうか？ 継承されたオブジェクトはconstructor.prototypeに格納される http://qiita.com/maccotsan/items/45b348d4eb52f473b0e3
8785,javascript|ios,BLE CordovaPlugin(https://github.com/don/cordova-plugin-ble-central/blob/master/README.md) を使ってMonacaでiPhoneアプリを開発しようとしています。 実行環境: iPhone5s(iOS7) プラグインを設定してjavascriptで以下コードを実行すると javascript: document.addEventListener("deviceready" onDeviceReady false); function onDeviceReady() { console.log("PhoneGap is ready"); } $(function() { log("bbbb"); scan(); log("aaaa"); }) function log(str) { $("#log").append(str + ""); $("#log").scrollTop($("#log")[0].scrollHeight); } function scan() { log(">> scan"); window.ble.scan([] 5 function(device) { log(JSON.stringify(device)); } function(reason) { log("ERROR: " + reason); }); log("<< scan"); } HTML: 実行結果が、 bbbb >> scan と表示されるだけでした。 期待している結果は、 bbbb >> scan [Device情報] << scan aaaa です。 iPhoneのコンソールログは、以下のようになります。 Apr  5 15:09:43 WWTF MonacaApp[957] : DiskCookieStorage changing policy from 2 to 0 cookie file: file:///private/var/mobile/Containers/Data/Application/3A33816B-D3DC-4EC2-8866-DEA6F2221654/Library/Cookies/Cookies.binarycookies Apr  5 15:09:43 WWTF MonacaApp[957] : Multi-tasking -> Device: YES App: YES Apr  5 15:09:43 WWTF MonacaApp[957] : Unlimited access to network resources Apr  5 15:09:43 WWTF MonacaApp[957] : [CDVTimer][monaca] 0.181019ms Apr  5 15:09:43 WWTF MonacaApp[957] : [CDVTimer][splashscreen] 33.852994ms Apr  5 15:09:43 WWTF MonacaApp[957] : [CDVTimer][statusbar] 11.131048ms Apr  5 15:09:43 WWTF MonacaApp[957] : Cordova BLE Central Plugin Apr  5 15:09:43 WWTF MonacaApp[957] : (c)2014-2015 Don Coleman Apr  5 15:09:43 WWTF MonacaApp[957] : [CDVTimer][ble] 1.643002ms Apr  5 15:09:43 WWTF MonacaApp[957] : [CDVTimer][TotalPluginStartup] 49.099982ms Apr  5 15:09:43 WWTF MonacaApp[957] : Status of CoreBluetooth central manager changed 5 State powered up and ready (CBCentralManagerStatePoweredOn) Apr  5 15:09:43 WWTF MonacaApp[957] : Resetting plugins due to page load. Apr  5 15:09:44 WWTF MonacaApp[957] : Finished load of: file:///private/var/mobile/Containers/Bundle/Application/5B3DD2D2-53DA-4040-B246-9E70DC9501A7/MonacaApp.app/www/index.html iPhoneアプリのLightBlue等では正常にスキャンができて、デバイス情報が取得できているのは確認できています。 何が間違っているのかどなたかご教授して頂けないでしょうか？
8799,php,初心者です。 ローカル環境の Wordpress で簡単な自作のプラグインを作って、 そこに GoogleAnalytics の値を表示しようとしていのですが、うまくいきません。 Fatal error: Class 'Google_Service' not found in C:\xampp\htdocs\lansub\wp-content\plugins\practice\google-api-php-client-master\src\Google\Service\Analytics.php on line 32 というエラーが出ます。 require_once '\src\Google\Client.php'; require_once '\src\Google\Service\Analytics.php'; // サービスアカウント名（メールアドレス） $service_account_name = 'xxxx@developer.gserviceaccount.com'; // P12キーファイルのパス $key_file_location = 'C:\xampp\htdocs\lansub\wp-content\plugins\practice\xxxxxx.p12'; // アナリティクスのビューID 例)'ga:1234567' $analytics_view_id = 'ga:xxxxxxx'; session_start(); if ( !strlen($service_account_name) || !strlen($key_file_location)) { echo missingServiceAccountDetailsWarning(); } $client = new Google_Client(); if (isset($_SESSION['service_token'])) { $client->setAccessToken($_SESSION['service_token']); } $key = file_get_contents($key_file_location); $cred = new Google_Auth_AssertionCredentials( $service_account_name array('https://www.googleapis.com/auth/analytics') $key ); $client->setAssertionCredentials($cred); if($client->getAuth()->isAccessTokenExpired()) { $client->getAuth()->refreshTokenWithAssertion($cred); } $_SESSION['service_token'] = $client->getAccessToken(); // アナリティクスクライアントを生成 $analytics = new Google_Service_Analytics($client); try { // リアルタイムデータを取得する $results = $analytics->data_realtime->get( $analytics_view_id // アナリティクスのビューID(アナリティクス設定 -> ビュー -> ビュー設定から確認) 'rt:activeUsers'  // リアルタイムアクティブユーザー数を取得 ); // 取得結果からリアルタイムアクティブユーザ数を取り出す $totals = $results->getTotalsForAllResults(); // activeUsers:ユーザ数 の配列に加工 $array = array("activeUsers" => $totals["rt:activeUsers"]); // JSONに変換して表示 header("Content-Type: application/json; charset=utf-8"); header('Access-Control-Allow-Origin: *'); echo json_encode($array); } catch (apiServiceException $e) { echo $e->getMessage(); } Analytics.php を見ても意味が分かりませんでした。 解決の糸口が何かないでしょうか。 よろしくお願いします。
8810,javascript,現在は下記のような実装になっており、処理中画像は処理終了と同時に一瞬出現し、消えるという状態です。 これを、処理開始～処理終了まで表示したいのですが、方法が分かる方がいましたらご教授をお願いします。 参考にしたサイト function upload(form) { //処理中画像表示 dispLoading(); ～処理～ $.ajax( { url: url type: 'POST' processData: false contentType: false data: fd async: false ～処理～ }) //処理中画像削除 removeLoading(); } // Loadingイメージ表示関数 function dispLoading(msg) { // 画面表示メッセージ var dispMsg = ""; // 引数が空の場合は画像のみ if (msg != "") { dispMsg = "" + msg + ""; } // ローディング画像が表示されていない場合のみ表示 if ($("#loading").size() == 0) { $("body").append("" + dispMsg + ""); } } // Loadingイメージ削除関数 function removeLoading() { // Loadingイメージを消す $("#loading").remove(); }
8816,c#,テキストボックス２つとボタン１つの簡単なアプリケーションを作っています。 textBox1に入力された文字列をボタンを押すと置換されたtextBox2に表示させるだけです。 textBox1に http://example.com/2244/ha/saitama/jfa4w09f.12.jpg と入力すると と置換されます。 ポイントはここです。 .{10~50までのランダム数字}.jpg この10~50までの数字はランダムに足されていきます。 文字列の置換方法を教えて下さい。MSDN公式正規表現サイトを見ても難儀でした。
8826,c#,Guidはconstとして扱うことができないため、下記のようにGUID値を文字列定数にしてpublic staticなGuid値にしています。 初期化の順番がNullObjectGuidSingleton、GuidTextの順になるなど、 環境によって変わることがありえますか？ ありえるなら、Guidのコンストラクタに同じものを書くのは避けたいのですが、 どのようにコーディングするのがよいでしょうか？ public sealed class NullObject : IGameObject { private const string GuidText = "1887ABDE-4B0B-4D87-860B-1E811CCE3A89"; public static readonly Guid NullObjectGuidSingleton = new Guid(GuidText); // ...
