id,tags,text
5,c++,¿Cuál es la forma más eficiente de separar un string en c++? como el que se muestra en el código, el cual contiene espacios entre las palabras, este es el método que yo estoy usando actualmente.
#include <iostream>
#include <sstream>
int main(int argc, char** argv){
std::string str("Texto para dividir");
std::istringstream isstream(str);
while(!isstream.eof()){
std::string tempStr;
isstream >> tempStr;
std::cout << tempStr << std::endl;
}
return 0;
}
6,c++,¿Cómo estar seguro o qué pautas seguir a la hora de usar los moldes explícitos  en C++?
Por lo que entiendo al usar los moldes le estamos pidiendo al compilador que pase de la comprobación de tipos, y eso no creo que sea muy bueno si uno no sabe exactamente qué molde usar. Por eso quería saber qué guías usan o cosas a tener en cuenta para decidirse por un tipo de molde u otro a la hora de modelar los datos, para determinadas situaciones, y así saber cuándo es seguro usar uno u otro.
const_cast
static_cast
dynamic_cast
reinterpret_cast
16,ios,Estoy tratando de descargar el simulador de iOS 8.4 en Xcode 7 y me devuelve este error:
Could not download and install ios 8.4. Authorization is required to install the packages.
Antes de eso ingresé mi password de usuario.
29,javascript,Hoy intenté este algoritmo para medir a cuantos cuadros por segundo (FPS) se refresca mi pantalla (yo sé de antemano que son 50 FPS).
function measureFpsAsync() {
requestAnimationFrame(function(t0) {
requestAnimationFrame(function(t1) {
fps = Math.round(1000/(t1 - t0));
alert(fps);
});
});
}
window.onload = measureFpsAsync;
Para mi sorpresa el resultado no fue 50, tampo un resultado estable, algunas veces resulta 25, otras 13, otras 7. Parece que se salta algunos "frames" (o cuadros) entre los callbacks.
Lo probé en Chrome, Firefox y Edge y siempre pasa lo mismo.
Luego intenté envolverlo en un setTimeout a ver que sucedía y funcionó, siempre me devuelve un resultado estable de 50 FPS.
setTimeout(function() {
measureFpsAsync();
}, 500);
La verdad me sorprende, yo entendía que requestAnimationFrame tenía cierta correlación con el refresco vertical de la pantalla y que se llama a intervalos regulares, ahora no se si este método es seguro para calcular el FPS.
¿Alguien me puede explicar por qué pasa esto?
Es importante para mi, porque estoy creando una coreografía y necesito calcular un epsilon muy preciso.
Es seguro este método o debería moverme a un enfoque que tome mas muestras?
http://jsfiddle.net/foqoh61o/1/
33,javascript|jquery,Ya que en jQuery es posible cambiar la visibilidad de un elemento, ¿Cómo puedo saber si un elemento está visible o no en tiempo de ejecución?
34,android,Estoy realizando una aplicación en la que me gustaría recibir la temperatura a través de un Arduino. Creo que utilizar Sockets es una excelente forma de comunicación, pero no tengo idea de cómo utilizar Sockets en una aplicación Android hecha con Delphi.
¿Es diferente de cómo se utiliza en Delphi compilado para Windows?
46,c++,Estaba practicando con lambdas y me encontré con el siguiente código:
auto make_fibo()
{
return [](int n) {
std::function<int(int)> recurse;
recurse = [&](int n){
return (n<=2)? 1 : recurse(n-1) + recurse(n-2);
};
return recurse(n);
};
}
Yo no sabia que era function ni como trabajaba después de buscar y leer varios textos por ejemplo el siguiente:
http://www.cplusplus.com/reference/functional/function/
Mi pregunta es si, std::function es similar a lo siguiente por ejemplo:
typedef  int (*FredMemFn)(int i);
47,javascript,He creado un proyecto vinculado (bounded) a una hoja de cálculo en Google Apps Script y estoy pensando en crear otros más en otras aplicaciones.
No quiero que los colaboradores de mis hojas de cálculo o de mi otros contenedores de apps scripts puedan visualizar el código de mis proyectos. Sólo quiero que puedan ejecutarlos.
Según entiendo de lo siguiente, publicar el código como una biblioteca (library) no ayuda ya que se requiere dar acceso de lectura para que esta sea agregada al proyecto y que pueda ser ejecutada.
De Collaborating with Other Developers:
Sharing and libraries
Libraries included in your project are shared with project
collaborators. Though, if they do not have at least read-level access
to an included library they are unable to use those libraries and will
encounter an error if they attempt to do so. For more information
about libraries, see Managing Libraries.
¿Cómo puedo bloquear el acceso de visualización al código?
He consultado la documentación indicada en referencias pero no logro encontrar cómo bloquear la visualización del código a los colaboradores de los contenedores (hojas de cálculo, documentos, formularios).
Referencias
1: https://developers.google.com/apps-script/
2: https://developers.google.com/apps-script/guide_libraries
48,javascript,Estoy usando moment.js para manejar fechas desde JavaScript y Jasmine para escribir pruebas unitarias. En un momento dado quiero hacer un test que compruebe que dos fechas son iguales, para lo cual hago lo siguiente:
it('properly compares dates', function () {
var date1 = moment("2000-01-02", "YYYY-MM-DD");
var date2 = moment("1999-03-04", "YYYY-MM-DD");
expect(date1).toEqual(date2);
});
Esto funciona como se espera: si las fechas fueran iguales el test pasaría, pero como no lo son, pues no pasa. El problema: el mensaje de error que lanza contiene el objeto completo, del cual es muy difícil extraer los valores comparados:
Expected Moment({ _isAMomentObject: true, _i: '2000-01-02', _f:
'YYYY-MM-DD', _isUTC: false, _pf: Object({ empty: false, unusedTokens:
[  ], unusedInput: [  ], overflow: -1, charsLeftOver: 0, nullInput:
false, invalidMonth: null, invalidFormat: false, userInvalidated:
false, iso: false }), _locale: Locale({ _ordinalParse:
/\d{1,2}(th|st|nd|rd)/, ordinal: Function, _abbr: 'en',
_ordinalParseLenient: /\d{1,2}(th|st|nd|rd)|\d{1,2}/ }), _d: Date(Sun Jan 02 2000 00:00:00 GMT+0100 (Romance Standard Time)) }) to equal
Moment({ _isAMomentObject: true, _i: '1999-03-04', _f: 'YYYY-MM-DD',
_isUTC: false, _pf: Object({ empty: false, unusedTokens: [  ], unusedInput: [  ], overflow: -1, charsLeftOver: 0, nullInput: false,
invalidMonth: null, invalidFormat: false, userInvalidated: false, iso:
false }), _locale: Locale({ _ordinalParse: /\d{1,2}(th|st|nd|rd)/,
ordinal: Function, _abbr: 'en', _ordinalParseLenient:
/\d{1,2}(th|st|nd|rd)|\d{1,2}/ }), _d: Date(Thu Mar 04 1999 00:00:00
GMT+0100 (Romance Standard Time)) })
Mi pregunta es: ¿hay alguna forma de personalizar los mensajes de error para los tests fallidos en Jasmine (específicamente para moment.js)? No he podido encontrar ninguna solución en la documentación oficial.
60,javascript,Quisiera saber cómo detectar el cambio en la propiedad de un objeto observable en una grilla al seleccionar un checkbox con knockoutjs.
El código que actualmente  tengo es de esta forma.
<div data-bind="kendoGrid:{data: asignados, columns:columns}"></div>
<script type="text/javascript>
var RecursosVm = function () {
var self = this;
self.columns = [
{
title   : "",
field   : "isChecked",
template: "<input type='checkbox' data-bind='checked: checkedAlert'/>"
},
{ title: "Código", field: "reC_CLIENTKEY" },
{ title: "Nombre", field: "reC_NOMBRE_COMPLETO" }
];
self.asignados = ko.observableArray([]);
self.disponibles = ko.observableArray([]);
self.checkedAlert = function() {
//aqui deberia capturar el objeto
};
self.moverDisponibles = function() {
//TODO:
}}
El problema es que al seleccionar el checkbox no cambia el valor del objeto ni dispara la función y de allí no hay forma de recuperar los objetos seleccionados.
77,c#,Tengo una lista:
List<byte> unaLista = new List<byte> { 1,4,3,6,1 };
¿Cómo puedo comprobar que no contenga elementos repetidos, es decir, está Unqiue o no?
81,java,Quiero saber ¿Cómo cerrar la sesión hibernate, si estoy manejando la transacción con Spring 4.x?.
Modelo
import java.util.Date;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.Table;
import javax.persistence.Temporal;
import javax.persistence.TemporalType;
@Entity
@Table(name="EGRESOS")
public class Egreso {
@Id
@GeneratedValue
@Column(name="id")
private Long id;
@Temporal (TemporalType.DATE)
@Column(name="fecha")
private Date fecha;
@Column(name="importe")
private Double importe;
@Column(name="detalle")
private String detalle;
public Egreso() {
// TODO Auto-generated constructor stub
}
//all getters and setters
Persistencia
public abstract class CustomHibernateSupport<T> extends HibernateDaoSupport implements IGenericDAO<T> {
private Class<T> persistentClass;
@Autowired
private SessionFactory sessionFactory;
@SuppressWarnings({ "unchecked", "deprecation" })
public CustomHibernateSupport() {
this.persistentClass = (Class<T>) ((ParameterizedType) getClass()
.getGenericSuperclass()).getActualTypeArguments()[0];
this.sessionFactory = new Configuration().configure() // configures
// settings from
// hibernate.cfg.xml
.buildSessionFactory();
}
@PostConstruct
public void init(){
setSessionFactory(sessionFactory);
getHibernateTemplate().setCacheQueries(true);
}
public Class<T> getPersistentClass() {
return persistentClass;
}
public void setPersistentClass(Class<T> persistentClass) {
this.persistentClass = persistentClass;
}
public void insert(T entity) {
getHibernateTemplate().save(entity);
}
public void delete(T entity) {
getHibernateTemplate().delete(entity);
}
public void update(T entity){
getHibernateTemplate().update(entity);
}
@SuppressWarnings("unchecked")
public List<T> findAll() {
Session session = getSessionFactory().openSession();
Criteria cr = session.createCriteria(getPersistentClass());
return cr.list();
}
@SuppressWarnings("unchecked")
public T findById(Long id) {
Session session = getSessionFactory().openSession();
Criteria criteria= session.createCriteria(getPersistentClass());
criteria.add(Restrictions.eq("id",id));
return (T) criteria.uniqueResult();
}
@SuppressWarnings("unchecked")
public List<T> findByDate(Date date) {
System.out.println(date);
Session session = getSessionFactory().openSession();
Criteria criteria= session.createCriteria(getPersistentClass());
criteria.add(Restrictions.eq("fecha",date));
return  criteria.list();
}
}
Servicio
@Transactional(readOnly=false)
public boolean cargarGasto(GastosRequestDTO nuevo){
Egreso e = new Egreso();
try{
e.setDetalle(nuevo.getDetalle());
e.setFecha(nuevo.getFecha());
e.setImporte(nuevo.getImporte());
egreso.insert(e);
log.info("se inserto correctamente el nuevo gasto ID: "+ e.getId());
return true;
}
catch(Exception ex){
log.error(Throwables.getStackTraceAsString(ex));
log.error("No se pudo insertar gasto ");
}
return false;
}
Controlador
public void cargarGasto() {
GastosRequestDTO nuevoGasto = new GastosRequestDTO();
nuevoGasto.setFecha(fecha);
nuevoGasto.setDetalle(descripcion);
nuevoGasto.setImporte(importe);
if (hotel.cargarGastos(nuevoGasto)) {
obtenerBalance();
setImporte(null);
setDescripcion(null);
}
}
ApplicattionContex.xml
<context:annotation-config/>
<context:component-scan base-package="ar.com.as.hotel"/>
<bean id="recordDataSource" class="com.mchange.v2.c3p0.ComboPooledDataSource"
lazy-init="true" destroy-method="close">
<property name="driverClass" value="org.gjt.mm.mysql.Driver" />
<!-- CHANGE THE DATABASE CONNECTION-->
<property name="jdbcUrl" value="jdbc:mysql://127.0.0.1:3306/hotelTest"/>
<property name="user" value="********" />
<property name="password" value="********" />
<!-- ***************************************** -->
<property name="minPoolSize" value="1" />
<property name="maxPoolSize" value="100" />
<property name="initialPoolSize" value="5" />
</bean>
<bean id="sessionFactory" class="org.springframework.orm.hibernate4.LocalSessionFactoryBean">
<property name="configLocation">
<value>./WEB-INF/classes/hibernate.cfg.xml</value>
</property>
<property name="dataSource">
<ref bean="recordDataSource" />
</property>
</bean>
<bean id="transactionManager"
class="org.springframework.orm.hibernate4.HibernateTransactionManager">
<property name="sessionFactory">
<ref local="sessionFactory" />
</property>
</bean>
<tx:annotation-driven transaction-manager="transactionManager" />
Hibernate.xml
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-configuration SYSTEM
"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd">
<hibernate-configuration>
<session-factory>
<property name="connection.driver_class">com.mysql.jdbc.Driver</property>
<property name="connection.url">jdbc:mysql://127.0.0.1:3306/hotel***</property>
<property name="connection.username">******</property>
<property name="connection.password">******</property>
<property name="hbm2ddl.auto">update</property>
<property name="connection.autocommit">false</property>
<!--        <mapping resource="Cliente.hbm.xml" /> -->
<mapping class="ar.com.as.hotel.modelo.Ingreso" ></mapping>
<mapping class="ar.com.as.hotel.modelo.Precio"></mapping>
<mapping class="ar.com.as.hotel.modelo.Habitacion"></mapping>
<mapping class="ar.com.as.hotel.modelo.Temporada"></mapping>
<mapping class="ar.com.as.hotel.modelo.Egreso"></mapping>
<!-- List of XML mapping files -->
</session-factory>
</hibernate-configuration>
87,python,Para inicializar algunas variables en un programa escrito en Python (de forma estructurada, sin usar programación orientada a objetos), quiero utilizar una función denominada inicializacion(), a la cual se invoca desde una función main(). El problema es el ámbito de estas variables, ya que si les doy su valor inicial en la función inicializacion(), al tratar de usarlas en la función main() se va a generar un error porque allí no existen. Por ejemplo:
import serial
def inicializacion():
puerto = '/dev/ttyACM0'
baudRate = 115200
buffer = ''
ser = serial.Serial(puerto, baudRate, timeout=1)
def main():
inicializacion()
buffer = buffer + leerDatos(ser)
¿Qué alternativas hay para evitar el uso de "global" en la función de inicialización? ¿Es posible implementar alguna solución sin tener que pasar las variables como argumentos y sin tener que devolverlas en el "return"?
89,java|android,Estoy trabajando una aplicación con android la cual realiza una autenticación a través de una actividad "A" (LoginActivity), este instancia la actividad "B" (LoginTask) que hereda de AsyncTask para realizar dicho proceso, una vez realizada la autenticación se instancia a la actividad "C" (PrincipalActivity), siendo algo como esto A ==> B ==> C.
Ubicado en la actividad "C", presiono el botón "Atras" y este me "saca" de la actividad principal y me ubica en la actividad "A", decir, me regresa a la pantalla de logueo. Aquí mi código:
LoginActivity
public class LoginActivity extends AppCompatActivity {
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_login);
initUI();
}
private void initUI() {
Typeface font = Typeface.createFromAsset(getApplicationContext().getAssets(),"fonts/NotoSans-Regular.ttf");
final EditText txtUser = (EditText)findViewById(R.id.txtUser);
txtUser.setTypeface(font);
final EditText txtPass = (EditText)findViewById(R.id.txtPass);
txtPass.setTypeface(font);
Button btnAccess = (Button) findViewById(R.id.btnAccess);
btnAccess.setTypeface(font);
btnAccess.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
Login loginBean = new Login();
String user = txtUser.getText().toString().trim();
String pass = txtPass.getText().toString().trim();
if (!user.equals("")){
if(!pass.equals("")){
loginBean.setUser(user.toUpperCase());
loginBean.setPass(pass);
}else {
txtPass.setError(getString(R.string.err_pass));
return;
}
}else {
txtUser.setError(getString(R.string.err_user));
return;
}
LoginTask loginTask = new LoginTask(LoginActivity.this,loginBean);
loginTask.execute();
}
});
}
}
LoginTask
public class LoginTask extends AsyncTask {
private ProgressDialog progressDialog;
private Context context;
private Resources resources;
private Login loginParams;
private String msgAccess;
public LoginTask(Context context, Login loginParams){
this.context = context;
this.resources = context.getResources();
this.loginParams = loginParams;
}
protected void onPreExecute(){
progressDialog = new ProgressDialog(context);
progressDialog.setMessage(resources.getString(R.string.msg_access));
progressDialog.setCancelable(true);
progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
progressDialog.show();
}
@Override
protected String doInBackground(Object[] objects) {
//Autenticación
return msgAccess;
}
protected void onPostExecute(Object o){
if (msgAccess != null) {
if (msgAccess.equals("OK")) {
Intent intent = new Intent(context, PrincipalActivity.class);
intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);
context.startActivity(intent);
((Activity)context).finish();
} else{
Toast.makeText(context, msgAccess, Toast.LENGTH_LONG).show();
}
}else{
Toast.makeText(context, R.string.err_msg_null, Toast.LENGTH_LONG).show();
}
if (progressDialog.isShowing()) {
progressDialog.dismiss();
}
}
}
Entonces, lo que habia pensado era realizar algun tipo de validación en el evento onBackPressed() de mi clase principal para que cuando presione el botón "Atras" no me regrese a "A", sino, me mantenga en la actividad principal "C":
@Override
public void onBackPressed() {
if (LoginPersistence.getStatus() > 0 && !LoginPersistence.getToken().equals("")){
//Agregar aqui la validación
}
}
Para ser mas explicito, lo que indico es que cuando estoy en mi actividad principal "C" y presiono el botón "Atrás", este me regresa a la actividad "A", es decir, para ingresar nuevamente usuario y password, cuando no debería hacerlo. Al presionar el botón "Atrás", debería "minimizar" mi aplicación y cuando vuelva a ingresar debería mantenerla en la actividad principal. Es lo que hago cuando presiono el botón "Home", me minimiza la aplicación y cuando vuelvo, me carga donde me quedé y esto lo logro con intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);.
Espero haberme explicado. Gracias.
101,php,Este es el código ejemplo de un controlador y el manejo normal (no AJAX) de un Request o solicitud.
<?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use Illuminate\Routing\Controller;
class UserController extends Controller
{
/**
* Store a new user.
*
* @param  Request  $request
* @return Response
*/
public function store(Request $request)
{
$name = $request->input('name');
//
}
}
¿Qué debo hacer para que funcione también para solicitudes AJAX en la función store() ?
Si creo otra función storeAjax() , puedo incluirla en routes.php (con una nueva ruta asignada) y funciona, pero no es una buena práctica, pues tengo 2 rutas y debe ser la misma para ambas solicitudes.
103,html,Necesito centrar horizontalmente el div interno dentro del externo tomando como base este código HTML y CSS:
<div class="externo">
<div class="interno">
</div>
</div>
.interno {
background-color: green;
height: 20px;
width: 50%;
}
.externo {
background-color: red;
width: 200px;
padding: 20px;
}
JSFiddle: https://jsfiddle.net/fpvkcrkg/
123,ios,La pantalla de inicio que viene al crear un nuevo proyecto para iOS (LaunchScreen.storyboard) solo trae unas etiquetas con el nombre de la aplicación y del desarrollador. Si uso Main.storyboard como pantalla de inicio, la aplicación arranca con la pantalla en negro, para luego si cargar la interface principal.
¿Qué tipo de controles debo poner entonces en LaunchScreen.storyboard? Si cualquier tipo de control me sirve, ¿porqué entonces no puedo usar Main.storyboard?
Lo que no quiero es tener que mantener una copia de la interface principal pero sin Custom Class en los controles, para poder usarla como pantalla de inicio.
136,android,En android hay diferentes unidades de medición de pixeles. ¿Cuál es la diferencia entre las siguientes?
px
dp
dip
sp
139,java,Necesito obtener el código HTML tal cual lo envía el servidor. Note que el método asXml() devuelve algo similar pero está formateado.
¿Hay alguna forma de resolver esto usando esta librería o tengo que recurrir a llamadas de bajo nivel?
142,javascript,Pregunta
¿Cómo validar un e-mail que acepte todos los caracteres latinos?
Por caracteres latinos me refiero a letras acentuadas, ñ, ç, y todas las usadas por idiomas como español, portugués, italiano... latinos.
Contexto
El objetivo es mostrar un icono al lado del texto a medida que el usuario va tipeando su dirección de mail.
No me interesa aceptar todos los casos válidos. Fue una decisión de diseño abarcar sólo los mails más frecuentes. Es decir, letras (incluyendo acentos y similares) y los símbolos ._%+-.
Puedo usar código de otras fuentes, siempre y cuando sean populares (ej: jQuery).
Código
document.getElementById('email').addEventListener('input', function() {
campo = event.target;
valido = document.getElementById('emailOK');
emailRegex = /^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i;
//Se muestra un texto a modo de ejemplo, luego va a ser un icono
if (emailRegex.test(campo.value)) {
valido.innerText = "válido";
} else {
valido.innerText = "incorrecto";
}
});
<p>
Email:
<input id="email">
<span id="emailOK"></span>
</p>
Casos
Estoy usando el regex
/^[-\w.%+]{1,64}@(?:[A-Z0-9-]{1,63}\.){1,125}[A-Z]{2,63}$/i
Que funciona perfecto en casos como
abcde.fghi@gmail.com
nombre-apellido@do-mi-nio.info
Pero falla con acentos y otras letras latinas
germán@bla.com
yo@mi-compañía.com
estação@brasil.com.br
145,c#,En C#, ¿cuál es la diferencia entre String y string? (véase la mayúscula)
Ejemplo:
string s = "¡Hola mundo!";
String S = "¡Hola mundo!";
¿Cuáles son las reglas de uso para cada una? ¿Y cuáles son las diferencias?
Pregunta original: What's the difference between String and string?
146,c++|java,He aquí una porción de código C++ muy peculiar. Por algún extraño motivo ordenar los datos milagrosamente provoca que el código se ejecute 3 veces más rápido.
#include <algorithm>
#include <ctime>
#include <iostream>
int main()
{
// Generate data
const unsigned arraySize = 32768;
int data[arraySize];
for (unsigned c = 0; c < arraySize; ++c)
data[c] = std::rand() % 256;
// !!! Con esto el siguiente bucle se ejecuta más rápido.
std::sort(data, data + arraySize);
// Test
clock_t start = clock();
long long sum = 0;
for (unsigned i = 0; i < 100000; ++i)
{
// Primary loop
for (unsigned c = 0; c < arraySize; ++c)
{
if (data[c] >= 128)
sum += data[c];
}
}
double elapsedTime = static_cast<double>(clock() - start) / CLOCKS_PER_SEC;
std::cout << elapsedTime << std::endl;
std::cout << "sum = " << sum << std::endl;
}
Sin std::sort(data, data + arraySize);, el código se ejecuta en 12,41 segundos.
Con los datos ordenados se ejecuta en 3,82 segundos.
Al principio pensé que podría ser una anomalía del lenguaje o el compilador. Así que probé en Java:
import java.util.Arrays;
import java.util.Random;
public class Main
{
public static void main(String[] args)
{
// Generate data
int arraySize = 32768;
int data[] = new int[arraySize];
Random rnd = new Random(0);
for (int c = 0; c < arraySize; ++c)
data[c] = rnd.nextInt() % 256;
// !!! Con esto el siguiente bucle se ejecuta más rápido.
Arrays.sort(data);
// Test
long start = System.nanoTime();
long sum = 0;
for (int i = 0; i < 100000; ++i)
{
// Primary loop
for (int c = 0; c < arraySize; ++c)
{
if (data[c] >= 128)
sum += data[c];
}
}
System.out.println((System.nanoTime() - start) / 1000000000.0);
System.out.println("sum = " + sum);
}
}
Que da unos resultados similares aunque menos extremos. 10,7 y 6,2 segundos.
Al principio pensé que podría tener que ver con que ordenar los datos los introduce en la caché, y después me di cuenta que los datos acababan de ser generados con lo que ya debía estar en la caché antes de ordenarlos.
¿Qué está pasando?
¿Por qué es más rápido un array ordenado que uno desordenado?
El código está calculando la suma de términos independientes. El orden no debiera influir, de todas formas se recorren todos los elementos y se suman siempre los mismos dando el mismo resultado, tanto si están ordenados como si no.
Esta es una pregunta traducida del original en inglés y adaptada a los resultados que da en mi ordenador : Why is processing a sorted array faster than an unsorted array? de GManNickG
161,java,Tengo un try/catch con un return adentro. ¿Se ejecutará el bloque finally?
try {
something();
return success;
}
catch (Exception e) {
return failure;
}
finally {
System.out.println("No se si esto se va a imprimir.");
}
Yo se que puedo escribir esto y ver que pasa (Que es realmente lo que voy a hacer) pero cuando lo busquè en google, nada apareció, entonces hice la pregunta aquí.
Esta es una pregunta traducida del original en ingés y adaptada a los resultados que da en mi ordenador : Does finally always execute in Java? de jonny five
168,php,Hay veces que es difícil entender cuándo es preferible usar strtr y cuándo usar str_replace. Parece que es posible obtener el mismo resultado con cualquiera de ellas, aunque el orden en que los substrings son reemplazados está invertido. Por ejemplo:
echo strtr('test string', 'st', 'XY')."\n";
echo strtr('test string', array( 's' => 'X', 't' => 'Y', 'st' => 'Z' ))."\n";
echo str_replace(array('s', 't', 'st'), array('X', 'Y', 'Z'), 'test string')."\n";
echo str_replace(array('st', 't', 's'), array('Z', 'Y', 'X'), 'test string');
Entrega como salida:
YeXY XYring
YeZ Zring
YeXY XYring
YeZ Zring
Aparte de la sintaxis, ¿hay algún beneficio por usar una u otra? ¿Existen casos donde una no sería suficiente para obtener el resultado buscado?
Pregunta original:
When to use strtr vs str_replace?
174,java,¿Cómo agrego la funcionalidad de mostrar publicidad de AdMob a un proyecto android de dukescript creado con netbeans?
Digamos por ejemplo que seleccioné android en el ejemplo del hola mundo, y que la aplicación ya está publicada y que ya tengo unos espacios creados desde el sitio de admob.
Para este ejemplo me gustaría decir que sus Ad unit ID son
ca-app-pub-99999999999999999/9999999999
correspondiente a una publicidad interstitial (las que muestran animaciones en pantalla completa) y
ca-app-pub-9999999999999999/9999999998
correspondiente a un baner.
Hasta donde sé, no se pueden mostrar únicamente con javascript, se deben agregar jars a las librerías antes de compilar (ya sea la de admob SDK o la de Google Play Services).
178,java,Al intentar ejecutar una clase hecha en java, aparece el siguiente mensaje de error:
java.lang.UnsupportedClassVersionError: MiClase (Unsupported major.minor version 50.0)
¿Qué significa este mensaje de error?
187,java,Tengo un servidor JBoss configurado en dos workspaces diferentes de eclipse con exactamente la misma configuración que consiste en
Argumentos de programa: --configuration=all --host=localhost -Djboss.server.base.url=file:/C:/jboss-eap-5.1/jboss-as/server/
Argumentos de MV: "-Dprogram.name=JBossTools: JBoss Enterprise Application Platform 5.1" -server -Xms2g -Xmx3g -XX:MaxPermSize=1024m -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 "-Djava.endorsed.dirs=C:\jboss-eap-5.1\jboss-as\lib\endorsed"
En un workspace me hace el debug en el eclipse sin problemas, pero en el otro, se nota lentitud al cargar y siempre se apaga sin mandar ningún mensaje de error tras unos 10 minutos mostrando como último en el log:
---------------------------------------------------------
GMS: address is 127.0.0.1:55200 (cluster=DefaultPartition)
---------------------------------------------------------
17:55:53,235 INFO  [DefaultPartition] Number of cluster members: 1
17:55:53,235 INFO  [DefaultPartition] Other members: 0
17:55:53,641 INFO  [PlatformMBeanServerRegistration] JBossCache MBeans were successfully registered to the platform mbean server.
17:55:56,449 INFO  [STDOUT]
---------------------------------------------------------
GMS: address is 127.0.0.1:55200 (cluster=DefaultPartition-HAPartitionCache)
---------------------------------------------------------
17:55:58,494 INFO  [RPCManagerImpl] Received new cluster view: [127.0.0.1:55200|0] [127.0.0.1:55200]
17:55:58,495 INFO  [RPCManagerImpl] Cache local address is 127.0.0.1:55200
17:55:58,542 INFO  [RPCManagerImpl] state was retrieved successfully (in 2.05 seconds)
17:55:59,010 INFO  [ComponentRegistry] JBoss Cache version: JBossCache 'Malagueta' 3.2.8.GA_JBCACHE_1620
17:55:59,010 INFO  [DefaultPartition] Fetching serviceState (will wait for 30000 milliseconds):
17:56:00,351 INFO  [DefaultPartition] State could not be retrieved (we are the first member in group)
17:56:04,129 INFO  [HANamingService] Started HAJNDI bootstrap; jnpPort=1100, backlog=50, bindAddress=localhost/127.0.0.1
17:56:04,302 INFO  [DetachedHANamingService$AutomaticDiscovery] Listening on localhost/127.0.0.1:1102, group=230.0.0.4, HA-JNDI address=127.0.0.1:1100
17:56:21,920 WARN  [JBossASSecurityMetadataStore] WARNING! POTENTIAL SECURITY RISK. It has been detected that the MessageSucker component which sucks messages from one node to another has not had its password changed from the installation default. Please see the JBoss Messaging user guide for instructions on how to do this.
17:57:01,259 INFO  [UnifiedInvokerHA] Service name is jboss:service=invoker,type=unifiedha
17:57:32,764 INFO  [TransactionManagerService] JBossTS Transaction Service (JTA version - tag:JBOSSTS_4_6_1_GA_CP12) - JBoss Inc.
17:57:32,764 INFO  [TransactionManagerService] Setting up property manager MBean and JMX layer
17:57:37,070 INFO  [TransactionManagerService] Initializing recovery manager
ACTUALIZACIÓN:
Cambié a la perspectiva de depuración y observé que la depuración funcionaba, se veían los hilos, pero tras un tiempo se desconectaba, y era el proceso javaw el que marcaba error.
Ruta del workspace que dejó de funcionar:
C:\Users\ruslan.lopez\Downloads\Aplicaciones\TODO-PAO
Ruta del workspace que funciona:
C:\Users\ruslan.lopez\Downloads\Aplicaciones\TODO-MPCCS
Borrando el error log antes de correr me da dos errores sin Stack Trace.
En el segundo ni siquiera hay descripción del error
¿Alguien tiene idea de cómo puedo hacer la depuración en estas condiciones?
ACTUALIZACION
Espero que nadie haya tenido que pasar po la misma penosa situación que yo, todo en mi mente indica que es un eor propio de eclipse y no de configuración. Mi problema surgió cuando estando en modo depuración hubo un corte de corriente y se apagó el PC. Tuve que hacer algo tediosísimo que fue lanzar el sevidor en modo depuración y jugar con la opción de espera por conexiones y conectarme desde netbeans para realizar la depuración en netbeans( lo cual para ser honestos tuvo sus ventajas). Entiendo que la mayoría no contará con tanta RAM como yo en ese momento así que les sugiero en cuanto les sea posible reinstalar su IDE.
195,php,Considérese la siguiente tabla configuraciones
id |  nombre  |  valor  |  categoria
-----------------------------------------------
1  |   color  |  azul   |  personal
2  |   día    |  martes |  personal
3  |   ciudad |  Limón  |  general
Suponga que hay muchas configuraciones más clasificadas por categoría. He tratado ejecutar una consulta que me permita obtener dichas configuraciones:
$q = Doctrine_Query::create()
->from('Configuracion c')
->where('c.categoria = ?', $categoria);
Todo funciona genial hasta este punto. Pero ¿existe alguna forma de crear una consulta que me devuelva una estructura ordena en categorías? Por ejemplo:
$resultado = $q->execute();
//la idea acá es usar la columna "nombre" como índice:
$color = $resulSet['color']
//imprimir el valor de color:
echo $color['valor'];  //debería imprimir "azul"
206,javascript,Tengo un código JavaScript que realiza un procesamiento de datos bastante intensivo (tarda unos dos segundos en completarse) cuando el usuario pulsa un botón, y me gustaría establecer el cursor de espera a nivel global de la página mientras tanto.
Uso AngularJS y esto es lo que he intentado:
document.body.style.cursor = 'wait';
$timeout(function() { document.body.style.cursor = 'wait'; }, 1)
.then(function() { /*procesamiento intensivo aquí*/  })
.then(function() { document.body.style.cursor = 'default'; });
...pero no funciona como esperaba: el procesamiento se realiza pero el cursor no cambia. Curiosamente, si elimino la última línea veo que el cursor sí cambia, pero después de finalizado el procesamiento.
Estoy seguro de que estoy pasando por alto algún aspecto esencial del ciclo de eventos del UI en Javascript, pero no consigo verlo. ¿Cómo podría conseguir que se vea el cursor de espera?
221,javascript|jquery,Tengo un formulario donde relleno una serie de campos de una entidad JPA, el caso es que entre los campos hay una lista la cual voy rellenando mediante un modal, hasta ahí todo correcto, de hecho tengo este método hecho para varios controladores y va a la perfección.
El problema está cuando entro a editar la ficha, todo carga correctamente pero cuando le doy al botón Borrar de la lista, al llegar al método del controlador que lo hace, el id del formulario es distinto al que debería, o es -1 o es el número siguiente (cosa que no tiene mucho sentido).
Os dejo la parte del código que puede estar influyendo a ver si alguien ve algo que yo no pude ver.
Lista
<table class="table table-striped table-condensed flip-content dataTable" th:if="${concert.choirs.size()>0}">
<thead class="flip-content">
<tr>
<th width="90%">
Nombre
</th>
<th width="10%"></th>
</tr>
</thead>
<tbody id="cuerpoTablaCorista">
<tr th:each="choir,status : ${concert.choirs}">
<td th:text="${choir.choir.name}"></td>
<td class="operations">
<a class="delete"  href="/concert/delete_choir/__${status.index}__}" th:href="@{/concert/delete_choir/__${status.index}__}">
Borrar
</a>
</td>
</tr>
</tbody>
</table>
Métodos del controlador
@RequestMapping(value = "concert/delete_choir/{index}", method = RequestMethod.GET)
public String deleteChoir(@PathVariable String index, @ModelAttribute("concert") ConcertForm concertForm,
RedirectAttributes ra, Model model) {
ConcertChoir concertChoir = concertForm.getChoirs().get(Integer.parseInt(index));
concertForm.getChoirs().remove(Integer.parseInt(index));
if (null != concertChoir.getId()) {
basicServ.delete(concertChoir);
}
model.addAttribute("concert", concertForm);
return "redirect:/concert";
}
@RequestMapping(value = "/concert", method = RequestMethod.GET)
public String concert(@ModelAttribute("concert") ConcertForm concertForm, Model model) {
model.addAllAttributes(Utils.rellenaCombosConcierto(basicServ));
model.addAttribute("concert", concertForm);
return "concert/new";
}
@RequestMapping(value = "concert/edit/{idConcert}", method = RequestMethod.GET)
public String edit(@PathVariable String idConcert, Model model) {
Concert concert = (Concert) basicServ.findById(Long.valueOf(idConcert), Concert.class);
ConcertForm concertForm = new ConcertForm(concert);
model.addAttribute("concert", concertForm);
return "redirect:/concert";
}
Formulario
public class ConcertForm extends BaseForm {
private String name;
private String date;
private String act;
private String notes;
private Long country;
private Long province;
private String provinceName;
private Long city;
private String cityName;
private Long schedule;
private Long orchestra;
private Long director;
private Long composer;
private Long choir;
private String choirName;
private Long soloist;
private String soloistName;
private ConcertModalForm concertModal;
private List<ConcertSoloist> soloists = new ArrayList<ConcertSoloist>();
private List<ConcertChoir> choirs = new ArrayList<ConcertChoir>();
public ConcertForm(Concert c) {
this.id = c.getId();
this.createDate = c.getCreateDate();
this.createdBy = c.getCreatedBy();
this.name = c.getName();
this.date = Utils.simpleDateToString(c.getDate());
this.act = c.getAct();
this.notes = c.getNotes();
this.country = c.getCountry().getId();
this.province = c.getProvince().getId();
this.provinceName = c.getProvince().getName();
this.city = c.getCity().getId();
this.cityName = c.getCity().getName();
this.schedule = c.getSchedule().getId();
this.director = c.getDirector().getId();
this.composer = c.getComposer().getId();
this.orchestra = c.getOrchestra().getId();
this.choirs.addAll(c.getChoirs());
this.soloists.addAll(c.getSoloists());
}
public Concert getConcert(BasicService bs) {
Concert c = new Concert();
c.setId(this.id);
c.setCreateDate(this.createDate);
c.setCreatedBy(this.createdBy);
c.setName(this.name);
c.setDate(Utils.validaFecha(this.date));
c.setAct(this.act);
c.setNotes(this.notes);
c.setCountry((Country) (null != this.country && this.country != -1 ? bs.findById(this.country, Country.class)
: null));
if (null == this.id) {
c.setProvince((Province) (null != this.province && this.province != -1
? bs.findById(this.province, Province.class) : null));
c.setCity((City) (null != this.city && this.city != -1 ? bs.findById(this.city, City.class) : null));
} else {
Concert concertAux = (Concert) bs.findById(this.id, Concert.class);
if (null == this.province || this.province == -1) {
c.setProvince(concertAux.getProvince());
} else {
c.setProvince((Province) (null != this.province && this.province != -1
? bs.findById(this.province, Province.class) : null));
}
if (null == this.city || this.city == -1) {
c.setCity(concertAux.getCity());
} else {
c.setCity((City) (null != this.city && this.city != -1 ? bs.findById(this.city, City.class) : null));
}
}
c.setSchedule((Schedule) (null != this.schedule && this.schedule != -1
? bs.findById(this.schedule, Schedule.class) : null));
c.setDirector((ConcertDirector) (null != this.director && this.director != -1
? bs.findById(this.director, ConcertDirector.class) : null));
c.setComposer((ConcertComposer) (null != this.composer && this.composer != -1
? bs.findById(this.composer, ConcertComposer.class) : null));
c.setOrchestra((Orchestra) (null != this.orchestra && this.orchestra != -1
? bs.findById(this.orchestra, Orchestra.class) : null));
for (ConcertChoir cc : this.choirs) {
cc.setConcert(c);
}
for (ConcertSoloist cs : this.soloists) {
cs.setConcert(c);
}
c.getSoloists().addAll(this.soloists);
c.getChoirs().addAll(this.choirs);
return c;
}
//getters y setters
}
224,python,A la hora de crear un proyecto en Django, digamos, de relativa complejidad y tamaño, siempre me he inclinado por usar FBV ya que las encuentro más fáciles de usar. Algunos dicen que es mejor usar CBV ya que tienen algunas ventajas como por ejemplo la Herencia brindada por la POO y menos cantidad de código.
A pesar de las ventajas de las CBV todavía las encuentro un poco mas difíciles de seguir:
¿Cuáles son las ventajas de CBV sobre FBV?
225,java,Estoy creando un mini juego en el que el usuario intenta adivinar un nombre. Pero cuando quiero comparar dos cadenas de texto para ver si son iguales no parece funcionar.
final String miNombre = "Jordi";
Scanner input = new Scanner(System.in);
System.out.println("Adivina mi nombre: ");
while (true) {
String intento = input.next();
if(intento == miNombre) {
System.out.println("Acertaste!");
break;
} else {
System.out.println("Intentalo de nuevo!");
}
}
SALIDA:
Adivina mi nombre:
manuel
Intentalo de nuevo!
jordi
Intentalo de nuevo!
Jordi
Intentalo de nuevo!
227,python,Es posible conocer el orden en el que los elementos de un diccionario fueron insertados, es decir:
d = {}
d['a'] = 'A'
d['b'] = 'B'
d['c'] = 'C'
d['d'] = 'D'
d['e'] = 'E'
for key, value in d.items():
print key, value
Ejemplo de salida:
b B
e E
a A
c C
d D
Al iterar sobre los elementos del diccionario se imprimen los valores de forma arbitraria. ¿Existe alguna forma de "recordar" el orden de inserción?
228,java,¿Puede una clase abstracta de Java tener constructor ?
Y si es así ¿Qué fines tiene?
238,python,Estoy observando un mensaje de alerta (no es un error) InsecurePlatformWarning al ejecutar el comando pip en Linux:
$ pip search reportlab
/usr/local/lib/python2.7/dist-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:90:
InsecurePlatformWarning: A true SSLContext object is not available.
This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail.
For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.
InsecurePlatformWarning
reportlab           - The ReportLab Toolkit
Tengo instalada la última versión de pip:
$ pip show pip
---
Metadata-Version: 2.0
Name: pip
Version: 7.1.2
Summary: The PyPA recommended tool for installing Python packages.
Home-page: https://pip.pypa.io/
Author: The pip developers
Author-email: python-virtualenv@groups.google.com
License: MIT
Location: /usr/local/lib/python2.7/dist-packages
Requires:
Estoy usando Python 2.7.6.
En versiones anteriores no me mostraba este mensaje. Entiendo que me está indicando que mi plataforma es insegura, ¿cómo o qué tengo que instalar para evitar recibir esta alerta?
Actualización:
Ya tengo instalada la última versión de PyOpenSSL:
$ pip show pyOpenSSL
---
Metadata-Version: 1.0
Name: pyOpenSSL
Version: 0.13
Summary: Python wrapper module around the OpenSSL library
Home-page: http://pyopenssl.sourceforge.net/
Author: Jean-Paul Calderone
Author-email: exarkun@twistedmatrix.com
License: APL2
Location: /usr/lib/python2.7/dist-packages
Requires:
Si intento instalar request[security] me da el siguiente mensaje:
$ pip install 'request[security]'
requests 2.2.1 does not provide the extra 'security'
254,c#,He estado trabajando recientemente con ASP.NET 5, adicional a las nuevas características que tiene y las mejoras que hace no logro encontrar la forma de hacer scaffolding como se hacía en ASP.NET 4.
¿Hay algún complemento funcional y estable para un proyecto de ASP.NET 5 o esta funcionalidad estará disponible para versiones posteriores?
267,html,Al correr una página y ponerle en el valor del color de fondo una cadena arbitraria como por ejemplo "chucknorris" el fondo se pone rojo. ¿Por qué sucede esto?
<body bgcolor="chucknorris">test</body>
Pregunta original: Why does HTML think “chucknorris” is a color?
272,java,He oido que las clases de Java tienen algo llamado un número mágico en las cabeceras que las identifica, y que dice algo así como 0xCAFEBABE.
¿Alguien podría explicarme cómo puedo comprobar dicha información?
274,c#,Estoy haciendo una aplicacion de registro de inasistencia de personal y me surgió el problema que necesito indicarle a un formulario, en donde se lista cierta entidad, el siguiente formulario que se debe abrir despues de haberla sido elegida.
Mi duda es, mas que nada, de implementación y diseño ya que tengo una idea de como aplicarla pero tengo mis dudas con respecto si es mantenible.
Tengo la posibilidad de usar un enumerado para indicar que el siguiente formulario o pasar el tipo de formulario o la instancia del formulario por constructor. Capaz exista otra manera mas elegante de hacerlo pero la desconozco.
No elegí instanciar los formularios en serie por una cuestión de perfomance, mantenibilidad y extensibilidad.
Para orientarlos un poco mas, flujo de trabajo seria el siguiente:
frmPrincipal.cs:
Es la pantalla principal para arrancar y tiene esta 2 opciones.
private void tsmiDatosPersonal_Click(object sender, EventArgs e)
{
frmPersonalListado frm = new frmPersonalListado();
frm.ShowDialog(this);
}
private void tsmiInasistenciasPersonal_Click(object sender, EventArgs e)
{
frmPersonalListado frm = new frmPersonalListado();
frm.ShowDialog(this);
}
frmPersonalListado.cs:
Es donde se listan el personal del establecimiento y luego selecciono uno de la lista y abre el siguiente formulario.
public frmPersonalListado()
{
InitializeComponent();
_personalNegocio = new PersonalNegocio();
_inasistenciaNegocio = new Lazy<InasistenciaNegocio>();
}
public frmPersonalListado(Form formularioObjetivo)
: this()
{
_formularioObjetivo = formularioObjetivo;
}
private void tsbVerPersonal_Click(object sender, EventArgs e)
{
Aplicacion.Entidades.Personal personalSeleccionado = lvPersonal.SelectedItems[0].Tag as Aplicacion.Entidades.Personal;
frmPersonalCRUD frm = new frmPersonalCRUD(ModoFormulario.Ver, personalSeleccionado); // <<< Aca deberia instanciar el formulario correcto elegido desde el menú.
frm.ShowDialog(this);
}
El flujo es parecido al de un workflow con la cual hay un comportamiento que se define al principio: Si se abre X o Y formulario final.
Edición 1:
Como cuesta interpretar la idea, les dejo una imagen que muestra el flujo de trabajo que siguen los formularios que trabajo.
El real problema es cual es el diseño e implementación correcta para hacer que formulario inicial le indique al formulario siguiente que comportamiento debe tener para que abra alguno de los últimos formularios.
Edición 2:
El siguiente commit del código demuestra el code smell que menciono anteriormente.
Mi idea es que, cada vez que instancio frmPersonalListado, pase por constructor el comportamiento que tiene que tener cuando selecciono un personal de lista.
Este comportamiento es el de instanciar el siguiente formulario, pasando como parámetro al constructor, el personal elegido de la lista.
private void tsbPersonalInasistencias(object sender, EventArgs event)
{
var frm = new frmPersonalListado(x => {
var frm2 = new frmCrudPersonal(); // <<< Como inyecto el personal aca?
frm2.ShowDialog(this) // <<< Ese this podria ser frm?
});
frm.ShowDialog(this);
}
public frmPersonalListado(Func<Personal, void> nextForm)
{
_func = nextForm;
}
private void btnSeleccionar_Click(object sender, EventArgs event)
{
var personal = ObtenerPersonalSeleccionado();
_func(personal); // Magicamente, deberia instanciar el form con el personal seleccionado.
}
Pero el código de arriba es una idea que no compila.
285,python,Tengo definida una función en Python que funciona correctamente para valores escalares:
>>> def signo(x):
...   if x < 0:
...     return -1
...   elif x > 0:
...     return 1
...   else:
...     return 0
...
>>> signo(10)
1
>>> signo(-5)
-1
Pero cuando le paso un array de NumPy, falla con un ValueError:
>>> import numpy as np
>>> t = np.arange(-5, 5)
>>> t
array([-5, -4, -3, -2, -1,  0,  1,  2,  3,  4])
>>> signo(t)
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
File "<stdin>", line 2, in signo
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
¿Por qué sucede esto?
287,android,Me gustaría agregar varias imágenes en una galería dentro de un articulo en Google Play Newsstand, he tratado de agregar por ejemplo 3 imágenes con la medida permitida, pero no pueden ser desplegadas como galería.
<media:content url="[URL IMAGE]"
type="image/png" expression="full" width="538" height="190"><media:description type="plain">[DESCRIPTION]</media:description>
<media:credit role="author" scheme="urn:ebu">[AUTHOR]</media:credit></media:content>
Este es un ejemplo de mi elemento artículo:
<item>
<title><![CDATA[Arquean a cafetería]]></title>
<link><![CDATA[http://google/wE-bacdkE]]></link>
<content:encoded><![CDATA[Today we’re introducing a new age-based rating system for apps and games on Google Play. We know that people in different countries have different ideas about what content is appropriate for kids, teens and adults, so today’s announcement will help developers better label their apps for the right audience. Consistent with industry best practices, this change will give developers an easy way to communicate familiar and locally relevant content ratings to their users and help improve app discovery and engagement by letting people choose content that is right for them.]]></content:encoded>
<author>Grupo Jorgesys</author>
<media:content url="http://www.jorgesys.com/libre/online07/appiphone/imagenes/ipad/960x640/2/974/1973850.png"
type="image/png" expression="full" width="538" height="190"><media:description type="plain"><![CDATA[Android]]></media:description><media:credit role="author" scheme="urn:ebu"><![CDATA[Grupo Jorgesys  / Staff]]></media:credit></media:content>
<media:content url="http://flv.grupoJorgesys.com/flash/elnorte/articulo/mp3/online/1/489/488838.mp3" medium="audio"><media:title><![CDATA[Arquean a cafetería]]></media:title><media:description><![CDATA[Arquean a cafetería]]></media:credit></media:content>
<media:content url="http://www.jorgesys.com/libre/online07/appiphone/imagenes/ipad/960x640/2/974/1973852.png"
type="image/png" expression="full" width="538" height="190"><media:description type="plain"><![CDATA[Android0]]></media:description><media:credit role="author" scheme="urn:ebu"><![CDATA[Grupo Jorgesys  / Staff]]></media:credit></media:content>
<media:content url="http://www.jorgesys.com/libre/online07/appiphone/imagenes/ipad/960x640/2/974/1973856.png"
type="image/png" expression="full" width="538" height="190"><media:description type="plain"><![CDATA[Android1]]></media:description><media:credit role="author" scheme="urn:ebu"><![CDATA[Grupo Jorgesys  / Staff]]></media:credit></media:content>
<media:content url="http://www.jorgesys.com/libre/online07/appiphone/imagenes/ipad/960x640/2/974/1973858.png"
type="image/png" expression="full" width="538" height="190"><media:description type="plain"><![CDATA[Android2]]></media:description><media:credit role="author" scheme="urn:ebu"><![CDATA[Grupo Jorgesys  / Staff]]></media:credit></media:content>
<media:content url="http://www.jorgesys.com/libre/online07/appiphone/imagenes/ipad/960x640/2/974/1973860.png"
type="image/png" expression="full" width="538" height="190"><media:description type="plain"><![CDATA[Arquean a cafetería]]></media:description><media:credit role="author" scheme="urn:ebu"><![CDATA[Grupo Jorgesys  / Staff]]></media:credit></media:content>
</item>
289,ios,Utilizando el nuevo Contacts Framework en iOS 9, ¿cómo puedo obtener la fecha de creación del contacto?
En versiones anteriores, usando el Address Book Framework, podía hacer:
ABRecordRef person = ...
NSDate *creationDate = (__bridge_transfer NSDate *)ABRecordCopyValue(person, kABPersonCreationDateProperty);
pero usando el nuevo framework no encontré ninguna propiedad en CNContact ni ninguna "key" para poder obtener este valor.
298,android,Quiero mostrar el teclado virtual (soft-keyboard) para algún EditText que tiene focus y que ha sido obtenido programáticamente (sin que haya sido presionado). Y cerrarlo cuando ocurre algún evento como presionar un Button en la pantalla.
314,python,Digamos que tengo que sumar 2 vectores de n-dimensiones. ¿Cuál es la forma pytonica de sumarlos directamente?
Por ejemplo en R^3, pero sin estar limitado a R^3,
a = (123.45, 23.45, 1.0)
b = (45.678, 56.78, 5.0)
(Obtener (169.128, 80.23, 6.0))
319,html,Por fin me estoy animando a escribir HTML, y me enfrento con un detalle: al probar mi página Web en un navegador de escritorio, se ve tal como deseo que se vea, pero al probarla en un navegador de celular, se ve demasiado pequeña (quiero decir, se ve tal como la versión de escritorio, pero como si le hubiera hecho un zoom como al 25%).
¿Existe alguna forma sencilla de lograr que, cuando la página sea visitada desde un teléfono móvil, esta tenga un tamaño apropiado? De ser así, ¿cómo?
329,ios|jquery,He creado una app cordova nueva usando el último CLI (5.4.1) que incluye la versión 3.9.2 de cordova-ios con el comando
cordova create ajaxTest es.test.ajaxtest ajaxTest
He añadido la plataforma iOS
cordova platform add ios
He añadido jquery en la carpeta js, he puesto el link en mi index.html, eliminado los comentarios de código que trae la plantilla y alguna cosa más para simplificar:
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *">
<meta name="format-detection" content="telephone=no">
<meta name="msapplication-tap-highlight" content="no">
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
<link rel="stylesheet" type="text/css" href="css/index.css">
<title>Hello World</title>
</head>
<body>
<div class="app">
<h1>Apache Cordova</h1>
</div>
<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/index.js"></script>
</body>
</html>
He reemplazado todo el código del index.js con esta llamada AJAX:
$( function() {
$.ajax("http://jcesar.16mb.com/prueba.php" )
.done(function(data) {
console.log( data );
})
.fail(function(jqXHR) {
console.log( jqXHR.statusText );
});
}
);
La llamada AJAX siempre falla y va a fail, lo que me saca por consola el mensaje de error:
Error: SecurityError: DOM Exception 18
¿A qué puede deberse este error?
331,javascript,Siempre he visto que en JavaScript hay:
asignaciones =
comparaciones == y ===
Creo entender que == hace algo parecido a comparar el valor de la variable y el === también compara el tipo (como un equals de java).
¿Alguien podría confirmarme este punto y extenderlo?. Soy javero y el no tipado de javascript a veces me encanta y otras lo odio.
¿Cuál es la manera correcta en javascript de comparar undefined, null y otros valores por defecto?
variable == null
variable === null
¿undefined se usa como cadena de texto o como palabra clave? ¿Cual de las siguientes comparaciones es la correcta para un elemento html sin value? (por ejemplo un label sin contenido)
variable == "undefined"
variable === "undefined"
variable == undefined
variable === undefined
336,javascript,Estoy desarrollando una aplicación con AngularJS y necesito definir un gancho (handler) que se ejecute antes y después de cada transacción ajax realizada con el objeto $http. He visto que para jQuery existen los métodos ajaxStart y ajaxStop, pero evidentemente no funcionan en este caso. ¿Existe algún equivalente directo, o se puede conseguir de alguna forma el mismo efecto, en AngularJS? La documentación no parece mencionar nada al respecto.
Nótese que quiero que el código se ejecute para todas las transacciones, no para una en concreto (en ese caso incluiría el código en los delegados .then).
340,python,En mi proyecto de Django he creado una app llamada Deportes (agregada en el settings.py). Al entrar en el administrador de Django en la zona de Deportes se muestran listados los deportes agregados. Esta lista me gustaría que se mostrase ordenada alfabéticamente.
El código que uso dentro de models.py es sencillísimo:
def __unicode__(self):
return self.nombre_deporte_es
342,javascript|jquery|html,Tengo una serie de labels en mi vista JSP. Cada label muestra una unidad de medida y en caso de querer editarla se reemplaza via javascript por un input via boton.
NOTA: tanto las labels como los input son elementos con class="CCC_UNIDAD" para iterarlos posteriormente. El html resultante simplificado quedaria algo asi:
<label class="CCC_UNIDAD">%</label>
<input class="CCC_UNIDAD">
<input class="CCC_UNIDAD" value="$">
<label class="CCC_UNIDAD">€</label>
$.each($(".CCC_UNIDAD"), function (index, value) {
var valor = value.textContent === undefined
? (value.value === undefined ? "" : value.value)
: value.textContent;
alert("VALOR = " + valor);
});
Como véis, en el snippet, intento coger el valor de la label (value.textContent), si no lo tiene busco el valor del input value.value pero no esta funcionando correctamente.
¿Cómo puedo diferenciar que tipo de elemento es la variable value para así coger el atributo correspondiente a cada tipo?
366,java,Al invocar una consulta con nombre especifica el sistema lanza la excepción: org.hibernate.MappingException: Named query not known. Le he dado varias vueltas pero no consigo encontrar donde está el problema.
Consumo.java
@Entity
@Table( name = "consumo" )
@NamedQueries( {
@NamedQuery(
name = "Consumo.findConsumoPasoHistorico",
query = "SELECT c FROM Consumo c WHERE c.fecha < :fechaTope ORDER BY c.fecha, c.id" )
} )
public class Consumo implements Serializable {
@Id
@Basic( optional = false )
@Column( name = "id" )
@GeneratedValue( strategy = GenerationType.IDENTITY )
private Long id;
@Temporal( TemporalType.TIMESTAMP )
@Column( name = "fecha" )
private Date fecha;
@Column( name = "valor" )
private double valor;
@Temporal( TemporalType.TIMESTAMP )
@Column( name = "created" )
private Date created;
@Temporal( TemporalType.TIMESTAMP )
@Column( name = "updated" )
private Date updated;
//Getters y setters
}
El método desde el que invoco la función:
public List<Consumo> findConsumoPasoHistorico(Date fechaTope) {
Query query = getSession().getNamedQuery("Consumo.findConsumoPasoHistorico");
query.setParameter("fechaTope", fechaTope);
return query.list();
}
Me he cerciorado de que el fichero de configuración hibernate.cfg.xml contenga la referencia para mapear la clase Consumo:
<mapping class="es.kestrel.monitorizador.modelo.Consumo"/>
368,jquery|html,Uso un Userscript para cambiar ciertas funcionalidades de YouTube y estoy intentando bloquear el "select all" en el text field del enlace para compartir, allí donde pone la dirección del vídeo:
el motivo es que no necesito el https:// y hago ese copiar/pegar a menudo
El text field solo aparece en el DOM después de pinchar al botón Share. He conseguido quitar la propiedad focus con el script abajo, pero el "select all" sigue activo:
// Botón "Share"
$('button[data-trigger-for="action-panel-share"]').on('click', function() {
window.setTimeout (function(){
// Input field con la URL - no hay onclick, pero por si acaso
$("input[name=share_url]").prop('onclick',null).prop('focus',null);
},300);
});
He intentado buscar por share_url en el Depurador JavaScript de Firefox pero no he encontrado la propiedad que tengo que quitar para conseguir el comportamiento deseado...
Cómo solución alternativa, acabo de intentar sustituir el contenido del input, pero automáticamente vuelve a su valor original (!!!).
var nueva_url = $("input[name=share_url]").val();
nueva_url = nueva_url.replace('https://','');
$("input[name=share_url]").val(nueva_url);
PS: La página de YT no viene con jQuery por defecto, pero para hacer pruebas es posible inyectarlo a través de la consola usando el siguiente script:
var head = document.getElementsByTagName("head")[0];
var script = document.createElement("script");
script.src = "//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js";
head.appendChild(script);
370,java,Tengo un JsonObject llamado "datos" con el siguiente contenido:
{
"cliente": "127.0.0.1",
"servidores": [
"8.8.8.8",
"8.8.4.4",
"156.154.70.1",
"156.154.71.1"
]
}
Yo sé cómo puedo obtener el array "servidores" con:
mapping.get("datos").getAsJsonArray();
Ahora necesito convertir ese objeto JsonArray en un objeto
java.util.List...
¿Cuál es la forma más fácil de conseguir esto?
Pregunta original: Parsing JSON array into java.util.List with Gson
376,java,En el código veo muchas veces x++ en bucles, pero alguna vez me encuentro ++x.
¿Hay alguna diferencia entre estas dos expresiones?
380,java,Recientemente hice un plugin para netbeans basado en un tutorial para hacer una barra de búsqueda.
He recibido al sugerencia de convertirlo de barra de búsqueda a una barra de búsqueda rápida, pero he notado que no tiene iconos.
¿Existe alguna forma de que al transformar mi barra a la barra de búsqueda rápida y que se muestren los iconos que tenía en la primera barra que hice?
Los iconos tienen undimensiones de 16x16.
La barra de búsqueda rápida se vería similar a
y me gustaría que se viera algo como
387,python,Estoy usando reportlab==3.2.0 y quiero saber la forma de poder centrar el Table de platypus. Tengo lo siguiente dentro de una función AJAX en Django:
# Response
response = HttpResponse(content_type='application/pdf')
response['Content-Disposition'] = 'attachment; filename="somefilename.pdf"'
# Crear PDF
pdf = SimpleDocTemplate(
response,
pagesize=A4,
rightMargin=inch/2,
leftMargin=inch/2,
topMargin=inch,
bottomMargin=inch/2
)
Story = []
# Estilos
styles = getSampleStyleSheet()
styles.add(ParagraphStyle(name='Center', alignment=TA_CENTER))
# Cabecera
text = '''
<strong><font size=14>REPORTE DE ASISTENCIA</font></strong>
'''
Story.append(Paragraph(text, styles['Center']))
Story.append(Spacer(1, 15))
data = [(
Paragraph('<strong><font size=6>#</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>DNI</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>APELLIDO PATERNO</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>APELLIDO MATERNO</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>NOMBRES</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>JORNADA</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>HORA DE INGRESO</font></strong>', styles['Center']),
Paragraph('<strong><font size=6>HORA DE SALIDA</font></strong>', styles['Center']),
)]
# Registros
for counter, record in enumerate(records, 1):
nro_documento = record['nro_documento']
apellido_paterno = record['apellido_paterno']
apellido_materno = record['apellido_materno']
nombres = record['nombres']
jornada = record['fecha'].strftime('%d/%m/%Y')
fecha_hora_entrada = ''
fecha_hora_salida = ''
if record['fecha_hora_entrada']:
fecha_hora_entrada = record['fecha_hora_entrada'].strftime('%d/%m/%Y %H:%M:%S')
if record['fecha_hora_salida']:
fecha_hora_salida = record['fecha_hora_salida'].strftime('%d/%m/%Y %H:%M:%S')
data.append((
Paragraph('<font size=6>%s</font>' % counter, styles['Normal']),
Paragraph('<font size=6>%s</font>' % nro_documento, styles['Normal']),
Paragraph('<font size=6>%s</font>' % apellido_paterno, styles['Normal']),
Paragraph('<font size=6>%s</font>' % apellido_materno, styles['Normal']),
Paragraph('<font size=6>%s</font>' % nombres, styles['Normal']),
Paragraph('<font size=6>%s</font>' % jornada, styles['Normal']),
Paragraph('<font size=6>%s</font>' % fecha_hora_entrada, styles['Normal']),
Paragraph('<font size=6>%s</font>' % fecha_hora_salida, styles['Normal'])
))
table = Table(
data,
colWidths=50 # Valor del ancho de las columnas
)
table.setStyle(
TableStyle([
('VALIGN',(0, 0), (-1, -1),'MIDDLE'),
('INNERGRID', (0, 0), (-1, -1), 0.25, colors.black),
('BOX', (0, 0), (-1, -1), 0.25, colors.black),
])
)
Story.append(table)
pdf.build(Story)
Como pueden apreciar estoy usando un ancho estático de 50 ya que no encuentro la manera de centrar la tabla, la idea es que este ancho varíe por el tipo de columna. Asi es como se ve mi PDF, hay demasiado espacio libre en los bordes izquierdo y derecho y si aumento el ancho de la columna entonces excede el ancho del documento:
394,c#,Estoy desarrollando una solución Sandbox para SharePoint Online1 que recibe como parámetro de configuración una URL absoluta:
Ejemplo de URL absoluta:
https://stackoverflow.com/questions/86477/does-c-sharp-have-an-equivalent-to-javascripts-encodeuricomponent
Debido a la limitaciones nativas de las soluciones Sandbox, estoy buscando una manera nativa en C# para codificar una URL absoluta en C# sin usar la clase HttpServerUtility y clases relacionadas (sin usar dependencias de librerías de SharePoint u otras clases que puedan no estar disponibles por el tipo de solución Sandbox).
1 Esta versión de SharePoint admite soluciones Add-ins y Sandbox("esta última se encuentra sin soporte de Microsoft desde la introducción de las Add-ins o también llamadas Apps").
397,python,En algunas aplicaciones sencillas que me ha tocado escribir en C/C++ he visto la facilidad con la que se resuelven ciertas tareas utilizando punteros. Ahora, más interesado en otro lenguaje: Python, he notado la ausencia de este concepto. ¿A qué se debe esta ausencia? Siendo Python un lenguaje muy poderoso y utilizado, entonces, ¿qué concepto lo sustituye?, ¿está implícito en los tipos de datos, en las asignaciones, en la instanciación de una clase?
Un ejemplo extremadamente sencillo sería que en C podemos codificar cosas como esta:
#include <stdio.h>
int main(void) {
// your code goes here
int a = 5;
int *b = &a;
printf("a = %d; b = %d\n", a, *b); // (1)
a = 6;
printf("a = %d; b = %d\n", a, *b); // (2)
return 0;
}
(1): a = 5; b = 5
(2): a = 6; b = 6
b apunta a la dirección de memoria de a, cualquier modificación en a podrá ser observada al desreferenciar b. Cualquier asignación por indirección *b = <valor>; modificará a.
Pero, en Python:
a = 5
b = a
print "a = {0:d}; b = {1:d}".format(a,b) # (1)
b is a # resultado: True
a = 6
print "a = {0:d}; b = {1:d}".format(a,b) # (2)
b is a # resultado: False
(1): a = 5; b = 5
(2): a = 6; b = 5
Al principio a y b hacen referencia al mismo objeto. Luego, cuando a es modificado se crea un nuevo objeto; entonces, ambos hacen referencia a objetos diferentes y de valores diferentes.
No hay una forma de hacer lo que en C en Python con este tipo de dato, pero es posible hacer algo similar con tipos de datos mutables; sin embargo, solo se puede cuando hacemos modificaciones internas del dato mutable, por ejemplo: cambiar el valor de un elemento de una lista.
a = [1, 2]
b = a
print b is a # resultado: True
b.append(3)
print b is a # resultado: True
a = [4, 5]
print b is a # resultado: False
411,android,He creado un proyecto de prueba en Mac OSX 10.11.1 para android-auto, y siguiendo las instrucciones de la guía estoy obteniendo el siguiente mensaje a la hora de lanzar el DHU (simulador de Android Auto):
015-12-04 08:46:41.717 desktop-head-unit[764:17863] 08:46:41.717 WARNING: 140: This application, or a library it uses, is using the deprecated Carbon Component Manager for hosting Audio Units. Support for this will be removed in a future release. Also, this makes the host incompatible with version 3 audio units. Please transition to the API's in AudioComponent.h. Connecting over ADB to localhost:5277...connected. Failed to read from transport - disconnect. Exiting...
¿Qué puedo hacer para solucionarlo?
415,java,¿Cómo creo una expresión regular que me valide números de teléfono móvil español?
Deben seguir las siguientes normas.
Al inicio:
[opcional] +34
[opcional] 34
[opcional] 0034
A partir de aquí debe tener:
Exactamente 9 números (los espacios y guiones están permitidos)
El primer número debe ser 6 o 7
Válidos:
666444555
666-444-555
666 44 45 55
666-44-45-55
+34666555444
0034666555444
No válidos
935554488
+44777555444
800444666
635*554*488
635/554/488
NOTA: Está etiquetado java porque es como voy a parsear el String y por si queréis mostrar código. Eso sí, no es estrictamente necesario, con la expresión regular tengo bastante.
417,java,Tengo una lista para números de teléfono móvil validados que debo mostrar de una misma manera:
El formato deseado es: +34 666 111 222
String telefonos =
"666444555,
666-444-555,
666 44 45 55,
666-44-45-55,
+34666555444,
0034666555444";
Pattern pattern = Pattern.compile(""); // aqui es donde me clavo.
Matcher matcher = pattern.matcher(telefonos);
while (matcher.find())
System.out.println(matcher.group());
Salida esperada:
+34 666 444 555
+34 666 444 555
+34 666 444 555
+34 666 444 555
+34 666 555 444
+34 666 555 444
425,python,La famosa frase de Grace Hopper:
Es más fácil pedir perdón que pedir permiso
La cual es popular dentro de la comunidad de programadores, hace que me pregunte si esto aplica en el código para Python, muchas veces me siento inclinado (por facilidad) en usar excepciones. Consideren el siguiente caso:
lista = []
# Pedir perdón
try:
elemento = lista[0]
except IndexError:
elemento = None
# Pedir permiso
elemento = None
if len(lista) > 1:
elemento = lista[0]
En resumen lo que quiero saber es, ¿existe alguna diferencia de desempeño en Python al usar una o la otra?
Pregunto esto ya que he escuchado de un amigo que en Java, por ejemplo, es costoso usar el bloque try {} catch {} debido a una serie de procesos realizados para llenar el stack trace lo cual hace que pienses bien antes de usarlos. ¿Ocurre lo mismo para Python?
445,javascript,En muchas ocasiones he requerido de tomar un valor proporcionado por la URL para llevar a cabo alguna acción o simplemente para imprimir al usuario dichos datos sin necesidad de pasar por un lenguaje del lado del servidor (ya sea Python, PHP, Ruby, entre otros).
¿Cuál es la mejor solución?
447,java,Estoy implementando un servicio web SOAP en Java en una aplicación que usa Struts en la capa de presentación y tengo problemas para probarlo. El IDE que estoy usando es Netbeans y el servicio lo realicé usando el asistente que provee el IDE. La aplicación despliega correctamente en un servidor GlassFish y el servicio web que estoy implementando se expone de forma adecuada. La dirección del WSDL generado es:
http://localhost:8080/Medicamentos/webServices/TestWSDL?WSDL
El inconveniente ocurre cuando deseo probar el servicio cambiando la URL a http://localhost:8080/Medicamentos/webServices/TestWSDL?Tester, link que debería mostrarme una página para ingresar los datos necesarios para probar el servicio, pero me redirige a la página de información del endpoint (http://localhost:8080/Medicamentos/webServices/TestWSDL). En el archivo struts.xml ya le he indicado a Struts que excluya las rutas /webServices/* para que estas sean manejadas por el servlet encargado del servicio web:
<constant name="struts.action.excludePattern" value="/webServices/.*"/>
Mi archivo web.xml:
<display-name>Medicamentos</display-name>
<!-- Spring/Hibernate conf -->
<context-param>
<param-name>contextConfigLocation</param-name>
<param-value>/WEB-INF/applicationContext.xml</param-value>
</context-param>
<listener>
<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
</listener>
<!--Struts filter and interceptor -->
<filter>
<filter-name>struts2</filter-name>
<filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>
</filter>
<filter-mapping>
<filter-name>struts2</filter-name>
<url-pattern>/*</url-pattern>
</filter-mapping>
<!-- Sticky session -->
<distributable/>
<listener>
<listener-class>com.sun.xml.ws.transport.http.servlet.WSServletContextListener</listener-class>
</listener>
<servlet>
<servlet-name>TestWSDL</servlet-name>
<servlet-class>com.sun.xml.ws.transport.http.servlet.WSServlet</servlet-class>
<load-on-startup>1</load-on-startup>
</servlet>
<servlet-mapping>
<servlet-name>TestWSDL</servlet-name>
<url-pattern>/webServices/*</url-pattern>
</servlet-mapping>
¿Algo adicional debo agregar para excluir la URL y poder probar el servicio web o tengo algo mal en las expresiones regulares?. Ya probé el servicio usando SoapUI y similares, pero me gustaría poder realizar las pruebas desde el navegador a través de la URL.
450,javascript,En ocasiones me encuentro que requiero validar si una variable tiene como estructura un arreglo u objeto, de tal forma pueda llevar una acción correspondiente dependiendo del tipo de valor almacenado a la variable.
¿Qué sería lo recomendable para distinguir entre un arreglo y un objeto?
Hablando de un objeto que no sea producto de una función instanciada.
if (isObject(valor)) {
/* Código */
} else {
/* Código */
}
460,c++,Me han dicho en numerosas ocasiones es una mala practica usar using namespace std; en nuestros programas. Por lo tanto, debemos utilizar std::cout y std::cin, que es la forma mas adecuada.
¿Por qué es using namespace std; considera malo? ¿Es realmente muy ineficiente, o el riesgo de declaración de variables ambiguas (variables que comparten el mismo nombre que una función en el espacio de nombres std)? ¿o afecta al rendimiento notablemente?
462,c++,Java tiene un método split conveniente para separar una cadena de texto en tokens:
String str = "wiki de comunidad";
String[] results = str.split(" ");
¿Hay una manera fácil de hacer esto en C++?
464,c++,Autor original de la pregunta
https://stackoverflow.com/questions/114180/pointer-vs-reference
Jack Reza https://stackoverflow.com/users/20349/jack-reza
¿Qué sería mejor práctica a la hora de pasar la variable original a la función para trabajar con ella por:
unsigned long x = 4;
void func1(unsigned long& val) {
val = 5;
}
func1(x);
o por:
unsigned long x = 4;
void func2(unsigned long* val) {
*val = 5;
}
func2(&x);
¿Hay alguna razón para elegir uno sobre el otro?
468,javascript|jquery,Estoy tratando de desactivar el scroll horizontal en un sitio web; pero sin afectar al vertical.
Tengo un script que funciona como un control deslizante deslizando el "cuerpo" de la página hacia la izquierda y revelando más contenidos. Sin embargo, esto crea un espacio vacío adicional a la derecha.
Tengo que desactivar el desplazamiento horizontal para que los usuarios no vean este espacio vacío. He probado lo siguiente; pero deshabilita tanto el desplazamiento horizontal como el vertical:
window.onscroll = function () {
window.scrollTo(0,0);
}
He probado con el estilo overflow-x:hidden pero eso no funciona cuando el ancho del body es dinámico y no estático.
Pregunta:
¿Hay alguna forma de modificar mi script para deshabilitar el scroll horizontal y mantener el vertical en funcionamiento?
Pregunta original: https://stackoverflow.com/q/22678482/4359029
476,php,Estoy tratando de ordenar alfabéticamente una variable de tipo array de la siguiente forma:
Código
$palabras = array(
'así',
'alfabeto',
'alfabético',
'año',
);
sort($palabras);
var_export($palabras);
Resultado
array (
0 => 'alfabeto',
1 => 'alfabético',
2 => 'así',
3 => 'año',
)
Pero como se ve, no funciona correctamente con los acentos y la "ñ", que deberían ordenarse como si no estuvieran los acentos, y con "n" < "ñ" < "o".
¿Cómo puedo hacer para ordenarlos alfabéticamente sin usar librerías externas?
477,javascript|html,¿Cómo puedo lograr que cada que el contenido aumente o disminuya de tamaño, se ajuste el iframe que lo contiene?
Si existe algún plugin JQuery, JavaScript puro o una solución sencilla sería de gran aporte puesto que lo que sólo logro hacer es que se adapte al contenido una vez que terminó de cargar, pero no cada que se modifica.
Adjunto el código que tengo al momento:
document.getElemenById('iframeToResize').onload = function() {
var newheight = this.contentWindow.document.body.scrollHeight,
newwidth = this.contentWindow.document.body.scrollWidth;
this.height = (newheight) + 'px';
this.width = (newwidth) + 'px';
};
<div id="iframeDiv">
<iframe src="dominio.com/pagina" width="100%" height="100px" id="iframeToResize" marginheight="0" frameborder="0"></iframe>
</div>
Fuentes de apoyo:
How can I detect whether an iframe is loaded? - Stack Overflow
Adjust width height of iframe to fit with content in it - Stack Overflow
486,java,Quiero crear una aplicación web utilizando Java. Tengo algunos conocimientos del lenguaje, y al buscar en tutoriales en línea siempre mencionan la creación de un servlet. ¿Es necesario aprender y utilizar servlets para crear este tipo de aplicaciones? ¿Es posible crear una aplicación web en Java donde no tenga que utilizar un servlet en absoluto?
Nota: utilizar un framework como Spring, MVC o JSF también exige el uso de un servlet, aunque yo no tenga que codificar el servlet por mi cuenta. Considerar esto al momento de la respuesta.
489,php,El punto es que al acceder a mi controlador Entrenamiento por medio del navegador (URL), éste me devuelve formato XML a menos que especifique en la petición Content-type: application/json. Según la documentación esto debería funcionar por default (JsonParse) al establecerlo en el archivo de configuración.
Dejo la configuración en mi archivo frontend/config/main.php:
$params = array_merge(
require(__DIR__ . '/../../common/config/params.php'),
require(__DIR__ . '/../../common/config/params-local.php'),
require(__DIR__ . '/params.php'),
require(__DIR__ . '/params-local.php')
);
return [
'id' => 'app-frontend',
'basePath' => dirname(__DIR__),
'bootstrap' => ['log'],
'controllerNamespace' => 'frontend\controllers',
'components' => [
'user' => [
'identityClass' => 'common\models\User',
'enableAutoLogin' => true,
],
'log' => [
'traceLevel' => YII_DEBUG ? 3 : 0,
'targets' => [
[
'class' => 'yii\log\FileTarget',
'levels' => ['error', 'warning'],
],
],
],
'urlManager' => [
'enablePrettyUrl' => true,
'enableStrictParsing' => true,
'showScriptName' => false,
'rules' => [
['class' => 'yii\rest\UrlRule', 'controller' => 'entrenamiento'],
'<controller:\w+>/' => '<controller>/index',
'<controller:\w+>/<id:\d+>' => '<controller>/view',
'<controller:\w+>/<action:\w+>' => '<controller>/<action>',
'<controller:\w+>/<action:\w+>/<id:\d+>' => '<controller>/<action>',
],
],
'request' => [
'parsers' => [
'application/json' => 'yii\web\JsonParser',
]
],
'errorHandler' => [
'errorAction' => 'site/error',
],
],
'params' => $params,
];
En mi controlador (frontend/controllers/EntrenamientoController.php) tengo:
namespace frontend\controllers;
use yii\rest\ActiveController;
/**
* Entrenamiento controller
*/
class EntrenamientoController extends ActiveController
{
public $modelClass = 'common\models\Entrenamiento';
}
505,javascript,Google Apps Script soporta disparadores (Triggers), también llamados activadores, que pasan eventos (Events) a las funciones disparadoras/activadoreas para  disparar/activar funciones. Lamentablemente el ambiente de desarrollo no permite probar las funciones sin pasar parámetros así que no es posible simular un evento de esa forma. Cuando se intenta, resulta un error como:
ReferenceError: 'e' is not defined.
Uno puede tratar el evento como un parámetro opcional e insertar un valor predeterminado en la función disparadora usando las técnicas de "Is there a better way to do optional function parameters in Javascript?". Pero esto introduce el riesgo de que un programador perezoso (¿Quién dijo yo?) dejara ese código con efectos colaterales no intencionados.
Con toda seguridad hay mejores maneras.
Referencias
Basado en How can I test a trigger function in GAS? por Mogsdad edición de 2014-11-14 19:40:55Z
510,c++,Tengo un char [], con el nombre de buffer, los datos son almacenados usando un ifstream en modo binary mode,
void File::mostrarBuffer(){
for (int a = 0; a < std::strlen(buffer); a++){
std::cout << std::hex << ((int)buffer[a]) << std::endl;
}
std::cout <<  "==="  << std::endl;
for (int a = 0; a < std::strlen(buffer); a++){
std::cout <<  buffer[a] << std::endl;
}
char charTest = '\211';
std::cout <<  "==="  << std::endl;
std::cout << std::hex << (int)charTest  << std::endl;
std::cout << std::hex << (int)buffer[0] << std::endl;
}
El shell muetra lo siguiente:
ffffff89
50
4e
47
===
\211
P
N
G
===
ffffff89
ffffff89
Parte de fichero en hexdump ("little-endian"):
0000000 5089 474e 0a0d 0a1a 0000 0d00 4849 5244
¿Por qué imprime ffffff89 y no 89, y solo en el primer elemento del char []?
512,python,Usando Python, ¿cómo verifico si un archivo existe?, sin usar la sentencia try.
Pregunta original:
Check whether a file exists using Python de spence91
515,python,En Python, ¿cómo puedo conocer la profundidad de color en bits de una imagen digital almacenada en un fichero TIFF? Por ejemplo: 8, 16, 32 bits, etc.
Un enfoque habitual es utilizar la biblioteca PIL para cargar los datos de imagen; sin embargo, al crear un objeto de imagen de esta forma, los métodos asociados a ese objeto dependerán del tipo de imagen cargada, por lo que algunos métodos como bits o _getexif no están disponibles para imágenes TIFF. Con este enfoque también se tiene el método mode que arroja información relacionada con el tipo de dato almacenado por píxel; es útil, pero generalizar la extracción de la profundidad de color en bits quizá requiera de una función menos sencilla de lo que se cree, pues existen muchas combinaciones para los modos.
540,c++,Yo uso:
template<class T>
Arbol<T>::Arbol(){
}
cuando T va hacer una clase.
y uso:
template<typename T>
Arbol<T>::Arbol(){
}
cuando va T a ser un tipo por ejemplo bool, char osea tipos fundamentales.
Pero mirando un fragmento de código de un programa (no creado por mi) vi que usaba typename donde yo suelo usar class, y hasta ahora no me había fijado en eso. si ahora me preguntas el por que, pues no sabría decir cien por cien el por que, pero quizás de alguna manera me (imagine) que el compilador diferenciaba cuando era un tipo incluido en el lenguaje y actuaba en consecuencia.
Mi pregunta es:
¿Es igual utilizar uno u otro?
Pues los dos ahora lo he testado y trabajan bien pero no se, si se me esta escapando algo, o quizás exista alguna sutil diferencia entre class y typename en este contexto.
541,javascript,Tengo un array de objetos como el siguiente:
var nicknames = []
nicknames.push( {id:"100", name:"Juan"} , {id:"200", name:"Mateo"} );
¿Cómo puedo obtener los datos de uno de los objetos del array nicknames suministrándole el nombre o el ID de dicho objeto?
Pregunta original: Javascript get corresponding key/value from object
546,php,¿Cómo puedo obtener en PHP una fecha en formato de timestamp?
$fecha = "2015-12-06";
echo TIMESTAMP($fecha);
552,javascript,Yo sé que por años, no ha existido ninguna manera de usar eval en JavaScript sin conceder acceso a toda la aplicación al código ejecutado en el eval.
Por lo que no es posible usar eval con código posiblemente no confiable. Es por ello que la opción de unsafe-eval existe en CSP (content security policy), por ejemplo.
Mi pregunta es ¿Ya existe un modo para hacer más seguro el eval? ¿Quizás con ECMAScript 5 o 6?
En un aplicación nueva, me gustaría permitir usuarios usar el eval, sin concederles todos los permisos. Lo ideal será que solo pudieran interactuar con un parte específica del DOM, y variables locales.
¿Es un sueño?
557,python,¿Cómo puedo crear reportes personalizados en Django que se puedan filtrar por fecha, y varios campos de un modelo?
Adicionalmente, quisiera poder exportarlos en formato de Excel, Word, o PDF.
¿Hay alguna forma de hacer también esto?
560,javascript,Pregunta Original: Why are two different numbers equal in JavaScript?
Estuve jugando un poco con la consola y se me ocurrió probar lo siguiente:
var num1 = 0x100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
var num2 =  0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF;
console.log(num1 == num2)
Y me sorprendió que realmente esta comparación se evalúa como verdadera (pueden probarla en consola).
¿Por qué pasa esto? Está claro que son números diferentes (el segundo tiene un dígito menos que el primero; si llego a agregar una F al segundo o un 0 al primero la comparación ya es falsa, pero mientras tanto, es verdadera).
564,javascript,Estoy desarrollando un chat simple con signalr y me he topado con un error que aún no logro resolver.
Dice que la variable chat no está definida lo cual no es cierto, ya que yo la estoy declarando.
var chat = $.connection.chat;
$(function () {
chat.client.nuevoMensaje = onNewMessage;
$.connection.hub.start();
});
function onNewMessage(message) {
chat.server.enviarMensaje("hola");
};
He agregado todas la referencias requeridas.
<script src="Scripts/jquery-1.6.4.min.js"></script>
<script src="Scripts/jquery.signalR-2.2.0.min.js"></script>
<script src="signalr/hubs"></script>
Este es el Hub que he creado del lado del servidor.
[HubName("Chat")]
public class ChatHub : Hub
{
public void EnviarMensaje(string mensaje)
{
var msg = string.Format("{0} {1}", Context.ConnectionId, mensaje);
Clients.All.nuevoMensaje(msg);
}
public void UnirSala(string sala)
{
Groups.Add(Context.ConnectionId, sala);
}
public void EnviarMensajeSala(string sala, string mensaje)
{
var msg = string.Format("{0} {1}", Context.ConnectionId, mensaje);
Clients.Group(sala).nuevoMensaje(msg);
}
public void EnviarMensajeData(EnviarData data)
{
Clients.All.nuevaData(data);
}
public override Task OnConnected()
{
EnviarDataAMonitor("Conectado", Context.ConnectionId);
return base.OnConnected();
}
public override Task OnDisconnected(bool stopCalled)
{
EnviarDataAMonitor("Desconectado", Context.ConnectionId);
return base.OnDisconnected(stopCalled);
}
public override Task OnReconnected()
{
EnviarDataAMonitor("Reconexción", Context.ConnectionId);
return base.OnReconnected();
}
private void EnviarDataAMonitor(string typoEvento, string connectionId)
{
var context = GlobalHost.ConnectionManager.GetHubContext<MonitorHub>();
context.Clients.All.nuevoEvento(typoEvento, connectionId);
}
}
¿Alguien sabe el por qué del error, sabiendo que ya he declarado la variable?
568,python,Usando una aplicación escrita en Python, ¿cómo puedo conectarme a una Base de Datos MySQL?
Pregunta original:
How do I connect to a MySQL Database in Python? formulada por Marc Lincoln
588,c++,Dado el siguiente código:
class Padre
{
public:
int func()
{ return 0; }
int func2()
{ return 0; }
};
class Hija
: public Padre
{
public:
int func(int param)
{ return param; }
};
int main()
{
Hija clase;
std::cout << clase.func(); << std::endl; // ERROR
std::cout << clase.func(5); << std::endl; // OK
std::cout << clase.func2(); << std::endl; // OK
}
¿Por qué razón el método func de la clase padre no existe en la clase hija pese a que la herencia es pública, y sin embargo, func2 sí?
600,python,En PowerShell no me están funcionando los entornos (environments) creados con conda. Al momento de intentar activar, por ejemplo un entorno que se llama py34, utilizo activate py34.
Sin embargo, al momento de abrir el intérprete, me sigue mostrando el intérprete que está por defecto en la instalación, no el del entorno. ¿Existe alguna forma para activarlos?
602,python,Tengo esta configuración actual:
def config_matplotlib(self):
self.fig = Figure((130.0, 6.0), dpi=70, facecolor="#F6F4F2")
self.canvas = FigureCanvas(self.fig)
self.canvas.setParent(self.window.graphicsGroupBox)
self.window.graphicsGridLayout.addWidget(self.canvas)
self.graph_a = self.fig.add_subplot(311)
self.graph_b = self.fig.add_subplot(312)
self.graph_c = self.fig.add_subplot(313)
self.graph_a.grid(True)
self.graph_b.grid(True)
self.graph_c.grid(True)
self.graph_plot_a = self.graph_a.plot(
[],
linewidth=1,
color=("darkorange"),
)[0]
self.graph_plot_b = self.graph_b.plot(
[],
linewidth=1,
color=("darkorange"),
)[0]
self.graph_plot_c = self.graph_c.plot(
[],
linewidth=1,
color=("darkorange"),
)[0]
ajust = {"top": 0.95,
"bottom": 0.1,
"right": 0.97,
"left": 0.05,
"wspace": 0.2,
"hspace": 0.2,}
self.fig.subplots_adjust(**ajust)
#graficar (lo que se ve cuando se ejecuta el programa por)
self.canvas.draw()
Da como resultado lo siguiente:
Necesito obtener una gráfica con los estilos de línea y los límites iguales a los que tengo aquí:
He revisado documentación y tutoriales y no encuentro cómo poner los estilos de línea, imprimir dos gráficos en un mismo plot, y adicionalmente meter texto, todo esto embebido, claro está, por que normalmente sé como se hace.
Quiero tener la configuración inicial con los límites establecidos, y lo otros ponerlo en una función update_plot().
607,javascript,He tratado de explicar las clausuras en JavaScript a un amigo de 27 años pero he fallado completamente.
¿Cómo explicarle el concepto a alguien con los conocimientos que forman parte de las clausuras (como funciones y variables) pero que no entienden las clausuras por sí mismas?
Pregunta original por Zaheer Ahmed.
610,php,En el siguiente ejemplo se puede ver como crear una propiedad pública, esto me permitiría leer y escribir la variable, pero deseo que solo se pueda leer.
<?php
class Test{
public $luckNumber = 51;
}
$obj = new Test();
//No debe ser posible asignar a esta propiedad
$obj->luckNumber = 42;
echo $obj->luckNumber; //51
621,javascript|jquery|html,¿Cómo puedo copiar el contenido de un div (o de cualquier elemento) al portapapeles usando exclusivamente JavaScript/jQuery sin necesidad de usar Flash?
Por ejemplo, si tengo este código:
<p id="mi_parrafo">
Texto que quiero copiar
</p>
<button>Copiar al portapapeles</button>
¿Qué debo hacer para que, después de pulsar el botón, cuando pulse Ctr + V se pegue el contenido dentro de la etiqueta marcada como #mi_parrafo?
648,php,$azul = "#4285f4"; // Azul
$verde = "#34a853"; // Verde
$amarillo = "#fbbc05"; // Amarillo
$rojo = "#ea4335"; // Rojo
$color = rand(1, 4);
Estoy usando $color dentro de un loop pero de esta forma tan simple que es mi código, el valor de la variable se repite, tipo: 3, 3, 1.
¿Cómo hacer que en 3 iteraciones el valor no se repita? formando secuencias del tipo 1, 2, 3, 1, 3, 2, 3, 2, 1, 3, 1, 2, etc...
while ( $destacados->have_posts() ) {
if($color == 1) { $color = $azul; }
elseif ($color == 2) { $color = $verde; }
elseif ($color == 3) { $color = $amarillo; }
elseif ($color == 4) { $color = $rojo; }
}
Pregunta original (portugués) : Como atribuir um valor diferente a variável em cada loop? - Stack Overflow em Português
735,php,En la red me he topado con este tutorial https://stackoverflow.com/questions/32831288/yii2-translation-does-not-work,
lo he seguido pero al momento de ejecutar la extracción de mensajes en el paso 5, me aparece este error en la consola
Este es el fichero config para la consola
y si es un proyecto funcional que tiene instaladas varias extensiones,
Esta es la configuracion de yii para la ejecucion del batch
739,javascript|jquery,Estoy usando la función $.each de jQuery para recorrer un JSON,  y dada cierta validación quiero mostrar un alert(), salir del $.each y de la función que lo contiene, sé que con return false; se sale de la función $.each, pero continua con la ejecución de la función.
Ejemplo
function guardarCuestionario() {
var preguntas = JSON.parse('cadena de texto con formato JSON');
$.each(preguntas, function () {
value = $("input:radio[name ='" + this.ID + "']:checked").val();
if (this.EsObligatoria && value === undefined) {
alert('Necesitas seleccionar una respuesta para todas las preguntas que no son opcionales');
return false; // solamente se sale del $.each pero no de la funcion
}
/*
Mas código
*/
});
console.log('No quiero que continúe hasta aquí si (this.EsObligatoria && value === undefined) se cumple!!!');
/*
Mas código
*/
}
Sé que puedo lograr lo que quiero asignando un valor a una bandera para saber si en algún momento entro en la condición y checarla al final, pero quiero saber si existe alguna forma de salir del $.each y de la función que la contiene en una sentencia.
753,javascript,En https://stackoverflow.com/a/26395487/1595451 por Mogsdad del 2014-11-26 01:27:15Z comparte el código de evenBetterBuildUrls(). Este tiene la finalidad de generar los URLs de prellenado de formularios de Google. Algunas cosas las he podido realizar pero en otras estoy atorado.
La adaptación a realizar es la siguiente:
Obtener las respuestas de una hoja específica en lugar de la hoja predeterminada.
Incluir respuestas del tipo TIME, DURATION y GRID
Traducción de los comentarios para facilitar la adopción del mismo por quienes sólo hablan español.
Agregar instrucciones para usuarios que recien empiezan con Google Apps Script.
Sé que varían los parámetros de cada clase de tipo elemento de respuesta para el método createResponse() correspondiente a cada una y que el nombre de las preguntas del tipo GRID no coincide con el título de la pregunta del formulario.
/**
* Use Form API to generate pre-filled form URLs
*
* https://stackoverflow.com/a/26395487/1677912
*/
function evenBetterBuildUrls() {
var ss = SpreadsheetApp.getActive();
var sheet = ss.getSheetByName("Form Responses 1");
var data = ss.getDataRange().getValues();  // Data for pre-fill
var headers = data[0];                     // Sheet headers == form titles (questions)
var formUrl = ss.getFormUrl();             // Use form attached to sheet
var form = FormApp.openByUrl(formUrl);
var items = form.getItems();
var urlCol = headers.indexOf("Prefilled URL");   // If there is a column labeled this way, we'll update it
// Skip headers, then build URLs for each row in Sheet1.
for (var row = 1; row < data.length; row++ ) {
Logger.log("Generating pre-filled URL from spreadsheet for row="+row);
// build a response from spreadsheet info.
var response = form.createResponse();
for (var i=0; i<items.length; i++) {
var ques = items[i].getTitle();           // Get text of question for item
var quesCol = headers.indexOf(ques);      // Get col index that contains this question
var resp = ques ? data[row][quesCol] : "";
var type = items[i].getType().toString();
Logger.log("Question='"+ques+"', resp='"+resp+"' type:"+type);
// Need to treat every type of answer as its specific type.
switch (items[i].getType()) {
case FormApp.ItemType.TEXT:
var item = items[i].asTextItem();
break;
case FormApp.ItemType.PARAGRAPH_TEXT:
item = items[i].asParagraphTextItem();
break;
case FormApp.ItemType.LIST:
item = items[i].asListItem();
break;
case FormApp.ItemType.MULTIPLE_CHOICE:
item = items[i].asMultipleChoiceItem();
break;
case FormApp.ItemType.CHECKBOX:
item = items[i].asCheckboxItem();
// In a form submission event, resp is an array, containing CSV strings. Join into 1 string.
// In spreadsheet, just CSV string. Convert to array of separate choices, ready for createResponse().
if (typeof resp !== 'string')
resp = resp.join(',');      // Convert array to CSV
resp = resp.split(/ *, */);   // Convert CSV to array
break;
case FormApp.ItemType.DATE:
item = items[i].asDateItem();
resp = new Date( resp );
break;
case FormApp.ItemType.DATETIME:
item = items[i].asDateTimeItem();
resp = new Date( resp );
break;
default:
item = null;  // Not handling DURATION, GRID, IMAGE, PAGE_BREAK, SCALE, SECTION_HEADER, TIME
break;
}
// Add this answer to our pre-filled URL
if (item) {
var respItem = item.createResponse(resp);
response.withItemResponse(respItem);
}
// else if we have any other type of response, we'll skip it
else Logger.log("Skipping i="+i+", question="+ques+" type:"+type);
}
// Generate the pre-filled URL for this row
var editResponseUrl = response.toPrefilledUrl();
// If there is a "Prefilled URL" column, update it
if (urlCol >= 0) {
var urlRange = sheet.getRange(row+1,urlCol+1).setValue(editResponseUrl);
}
}
};
Referencias
Ejemplos de preguntas que podrían beneficiarse de esta adaptación
Como asociar resultados de una hoja a un formulario de google - Foro de Ayuda de Google Drive
756,ios,Cuando corro mi aplicacion utilizando iOS 8, veo que la siguiente excepcion es generada dentro de la implementación de UIWebView:
[WebActionDisablingCALayerDelegate setBeingRemoved:]: unrecognized selector sent to instance 0x167ee900
* WebKit discarded an uncaught exception in the webView:willRemoveScrollingLayer:withContentsLayer:forNode: delegate: -[WebActionDisablingCALayerDelegate setBeingRemoved:
Esto ocurre cuando cambio algunas de las restricciones de NSLayoutConstraints  de mi UIWebView:
self.webViewWidthConstraints.constant = newWidth;
[self.webView setNeedsLayout]
[self.webView layoutIfNeeded];
(Hago esto para que el contenido del UIWebView vuelva a ser dibujado por UIKit para que quepa dentro de la anchura de mi UIWebView correctamente)
Por suerte, la excepción es ignorada, por lo tanto la aplicación no se cuelga.
¿Por qué ocurre esto, y hay alguna manera de prevenirlo?
Pregunta original: UIWebView throwing exception for [WebActionDisablingCALayerDelegate setBeingRemoved:]
759,c++,Hoy intenté este código
fuente.cpp
#include <iostream>
#define private public
#include "cabecera.hpp"
#undef private
int main()
{
claseCualquiera datos;
std::cout << datos.dato_privado << "!\n";
}
cabecera.hpp
struct claseCualquiera {
private: int dato_privado = 1234;
};
Luego corrí desde la linea de comandos:
$ g++ fuente.cpp -o salida -std=c++11; ./salida
1234
Fue una sorpresa porque yo esperaba algún tipo de error. Nunca creí que funcionaría.
¿Por que me permitió el compilador (o pre-compilador) modificar el significado de una palabra reservada? En este caso private fue claramente cambiada como public y logré acceder a un miembro privado.
¿Es intencional o accidental? ¿Esto significa que puedo acceder a miembros privados de clases que están en otras librerías del sistema?
Por si sirve de algo, esta es la versión de mi compilador.
$ g++ --version
g++ (GCC) 4.8.1
Copyright (C) 2013 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
763,javascript|php,Detalles de añadidos
Encontré en internet las siguientes dos formas de negar:
?!
[^\w]
Pero no logro encontrar documentación en español y el inglés que usan para describir el funcionamiento lo considero demasiado avanzado para comprender el significado de ambos y como usarlos apropiadamente para obtener el resultado esperado. La respuesta actual soluciona el problema pero no da definición de uso.
Planteamiento del problema
Quiero seleccionar todas aquellas palabras que no estén entre comillas dentro de un texto. Sé como hacer lo contrario.
Ejemplo:
Lorem ipsum "dolor sit amet", consectetur adipiscing elit, maecenas est felis "sit amet".
Con la siguiente expresión regular podría tomar las palabras que están entre paréntesis:
/"([\w\s]+)"/gim
El resultado
[
1 => 'dolor sit amet',
2 => 'sit amet'
]
Lo que busco
[
1 => 'Lorem ipsum ',
2 => ', consectetur adipiscing elit, maecenas est felis ',
3 => '.',
]
Otro ejemplo sería, de la lista siguiente:
Hola
Hol@
hol.
hol*
holo
Imprimir / seleccionar aquellos que no usen caracteres alfanuméricos (sé como tomar los contrario a la indicación establecida). Tomar todo lo que no es un caracter alfanumérico, tomar todas aquellas palabras que no tenga una «l», tomar todo aquello que no inicie con la letra «z», etc.
Ejemplo funcional: http://www.regextester.com/15
Yo esperaría hacer algo como esto para todo lo que no inicie con «a»:
/!^a.*/
Pero evidentemente no me funciona, quedo a espera de su feedback.
Aclaración
Me gustaría también entender la solución que planteen y no sólo sea un copy-paste para resolver el problema.
Nota: La expresión regular que aquí cito para obtener el texto me funciona en PHP y JavaScript (lenguajes que uso para resolver el problema), he visto que hay pequeñas variaciones de expresiones regulares en los distintos lenguajes pero entre éstos 2 no es algo sustancial. Por tanto me gustaría que la solución propuesta funcione en uno los 2.
Fuentes de apoyo
http://www.regular-expressions.info/lookaround.html
https://stackoverflow.com/a/406408/2578107
764,javascript,Estoy aprendiendo a desarrollar aplicaciones web con el stack MEAN y me surgió una duda; ¿cómo debuguear una aplicación en Node.js?
Teniendo en cuenta que vengo del desarrollo de aplicaciones web en Java, donde las herramientas de debug de Eclipse son muy buenas.
Además, para proyectos en JavaScript, no utilizo ningún IDE en particular, solo un editor de texto como SublimeText.
774,python,Imaginen que para un juego se tiene una clase NaveEspacial en la que los jugadores tienen la capacidad, entre otras cosas, de cambiar el nombre de la nave luego de haberla creado:
class NaveEspacial:
def __init__(self, nombre, capitan):
self.nombre = nombre
self.capitan = capitan
def imprimir_datos(self):
datos = {
'nombre': self.nombre,
'capitan': self.capitan
}
print datos
def renombrar(self, nombre):
self.nombre = nombre
nave = NaveEspacial('Death Star', 'Cesitar')
nave.renombrar('Millennium Falcon')
nave.imprimir_datos()
# Resultado
{'nombre': 'Death Star', 'capitan': 'Cesitar'}
{'nombre': 'Millennium Falcon', 'capitan': 'Cesitar'}
Si quisiera saber cuantas veces se ha cambiado el nombre de la nave, podría agregar un contador:
class NaveEspacial:
def __init__(self, nombre, capitan):
self.nombre = nombre
self.capitan = capitan
self.total_renombres = 0
def imprimir_datos(self):
datos = {
'nombre': self.nombre,
'capitan': self.capitan,
'total_renombres': self.total_renombres
}
print datos
def renombrar(self, nombre):
self.nombre = nombre
self.total_renombres += 1
nave = NaveEspacial('Death Star', 'Cesitar')
nave.imprimir_datos()
nave.renombrar('Millennium Falcon')
nave.imprimir_datos()
# Resultado
{'nombre': 'Death Star', 'capitan': 'Cesitar', 'total_renombres': 0}
{'nombre': 'Millennium Falcon', 'capitan': 'Cesitar', 'total_renombres': 1}
Pero lo anterior solo me ayudaría a saber cuantas veces ha sido renombrada cada instancia de la clase, es decir, cada nave:
nave = NaveEspacial('Death Star', 'Cesitar')
nave.imprimir_datos()
nave.renombrar('Millennium Falcon')
nave.imprimir_datos()
nave = NaveEspacial('USS Enterprise', 'Fiorella')
nave.imprimir_datos()
nave.renombrar('USS Centaur')
nave.imprimir_datos()
nave.renombrar('USS Challenger')
nave.imprimir_datos()
# Resultado
{'nombre': 'Death Star', 'capitan': 'Cesitar', 'total_renombres': 0}
{'nombre': 'Millennium Falcon', 'capitan': 'Cesitar', 'total_renombres': 1}
{'nombre': 'USS Enterprise', 'capitan': 'Fiorella', 'total_renombres': 0}
{'nombre': 'USS Centaur', 'capitan': 'Fiorella', 'total_renombres': 1}
{'nombre': 'USS Challenger', 'capitan': 'Fiorella', 'total_renombres': 2}
Lo que necesito es contar las llamadas totales al método de la clase y no el total por cada instancia. Se que una forma podría ser acumular todas las naves y sumar el atributo total_renombres de cada una:
naves = [nave1, nave2, nave3]
total = sum([nave.total_renombres for nave in naves])
Pero quiero saber si es posible hacer esto a nivel de la clase, como algún tipo de variable persistente durante todo el tiempo de vida del juego. ¿Existe una forma de hacerlo?
Nota:
Por el momento quiero mantenerlo sencillo y evitar el uso de Bases de Datos.
Actualización 1 (respuesta de @RuslanLópezCarro)
Es posible conseguir el total creando una variable de la clase, pero eso implicaría tener que incrementar manualmente la variable cada vez que se llama al método renombrar():
nave1 = NaveEspacial('Death Star', 'Cesitar')
nave1.renombrar('Millennium Falcon')
NaveEspacial.total_llamadas += 1 # Incrementar
nave2 = NaveEspacial('USS Enterprise', 'Fiorella')
nave2.renombrar('USS Centaur')
NaveEspacial.total_llamadas += 1 # Incrementar
nave2.renombrar('USS Challenger')
NaveEspacial.total_llamadas += 1 # Incrementar
nave3 = NaveEspacial('ABC', 'Tany')
nave3.renombrar('XYZ')
NaveEspacial.total_llamadas += 1 # Incrementar
print NaveEspacial.total_llamadas
# Resultado 4
Lo cual no me parece una opción, quiero hacerlo de forma automática con cada llamada al método.
780,javascript,Panorama
La celda A1 tiene el valor 01:00 (una hora). Al usar una función como la siguiente:
function prueba() {
var libro = SpreadsheetApp.getActiveSpreadsheet();
var hoja = libro.getSheetByName("Hoja 1");
var datos = hoja.getDataRange().getValues();
var valor = datos[0][0];
Logger.log(valor.getHours());
Logger.log(valor.getMinutes());
}
Se registran los valores
1.0
36.0
Lo esperado es que los valores registrados fueran:
1.0
0.0
¿Cómo puedo hacer que mi código lea los valores esperados?
Comentarios
Esta es una "pregunta real" para la cual encontré la respuesta en stackoverflow.com. Véase la referencia.
No se tradujo la pregunta, pero podría decir que está basada en la referencia.
Referencias
How to read the correct time values from Google Spreadsheet
782,c++,Esto es lo que he usado para llamar a funciones no miembro en C++ desde código de C y funciona bien.
file.cpp
extern  "C" void f(int);
void f(int i){
printf("c++!\n");
}
main.c
#include <stdio.h>
#include <stdlib.h>
void f(int);
int main()
{
printf("Hello world!\n");
f(1);
return 0;
}
shell:
Hello world!
c++!
¿Cómo puedo llamar a funciones miembro desde C?
788,c#,Visual Studio 2015 Update 1 incluye la herramienta CSI.EXE, que permite ejecutar scripts .CSX, escritos directamente en C#. Me gustaría saber cómo puedo leer los argumentos pasados a CSI.EXE en la línea de comandos y dirigidos al código que se ejecuta, no a la propia herramienta. Sé que debe haber alguna manera, porque al ejecutar csi /? aparece lo siguiente como parte de la ayuda:
--  Indicates that the remaining arguments should not be treated as options.
es decir,
--  Indica que el resto de argumentos no deben ser tratados como opciones.
por lo que al ejecutar csi MiPrograma.csx /foo /bar -- fizz buzz, debe haber alguna forma de que el código tenga acceso a fizz buzz.
He mirado incluso el código fuente de CSI.EXE y de las clases asociadas, pero no encuentro ninguna pista. ¿Alguna idea?
793,c#,Me gustaría saber cómo puedo realizar esto ya que podría implementar un mecanismo de cache para una aplicación de ejemplo escrita en C#. Esta implementación está destinada a que termine como librería.
Sé que EntityFramework tiene un mecanismo algo parecido con Auto Refresh y que NHibernate tiene niveles de cache. Pero tengo una idea vaga del concepto y no tengo idea de cómo funcionan internamente.
Por lo poco que investigué, sé que algo tiene que ver con SQL Server Broker Service, donde el servicio envía mensajes a MSMQ y desde mi aplicación hago pooling contra MSMQ pero nunca vi un ejemplo de implementación.
Actualización
Bien, para contextualizar a dónde se aplica esto, se trata de un Sistema de Gestión de Almacenes a nivel industrial. El sistema tiene alrededor de 15 servicios corriendo al mismo tiempo y preguntándole a la base de datos todo el tiempo sobre el movimiento de los productos y contenedores que están las respectivas zonas de almacenamiento.
¿Por qué razón hay 15 servicios funcionando?
El almacén que usa este sistema de gestión tiene varias líneas con escáneres de código de barra leyendo alrededor de 10 etiquetas por minuto en hora pico y, cada una de esta líneas, tiene un servicio en particular porque varía la lógica en cada línea y en cada lógica hace una verificación a diferentes servicios y la existencia de dicho código de barras en la base de datos.
Además, tiene 10 AGV (Automated Guided Vehicle) que tienen servicios como: Emisor de tareas para AGV, Planificador de Tareas a realizar, etc. y estos están constantemente pooleando contra la base de datos buscando nuevas tareas para realizar. Lo mismo sucede con las terminales de los operarios de montacargas que todo el tiempo poolean la base de datos en busca de nuevas órdenes de movimiento de contenedores.
Falta agregar que también la recepción, despacho y almacenado también están automatizados y cada uno de estos tiene su(s) propio(s) servicio(s).
¿Por qué el sistema no tiene middleware?
Debo aclarar que este sistema, de tal magnitud, no tiene middleware (que sería una gloria que tenga porque solventaría muchos problemas arquitectónicos) ya que es un sistema adaptado a un viejo sistema del año 1995 aprox. y otros sistemas más donde la producción era acotada para esas fechas. Hoy en día, se tuvo que actualizar y estamos teniendo problemas de escalabilidad para aumentar la producción.
A entender esto, la BL y el DAL están en el mismo servidor y, por ende, no me da la posibilidad de distribuir la carga de consulta de datos.
Aclaro que la aplicación tiene el cliente hecho en WinForms donde se conectan a los servicios (aplicación de consola).
803,c++,Hoy encontré una pieza de código en donde el programa parece tener un error, pero funciona como se espera:
Esta es una simplificación de ese código, que reproduce el mismo comportamiento:
int main()
{
int arreglo[] = { 0, 1, 2, 3 };
int indice = 0;
std::cout << arreglo[indice] << "\n";
indice++;
std::cout << arreglo[indice] << "\n";
indice++;
std::cout << indice[arreglo] << "\n";
indice++;
std::cout << arreglo[indice] << "\n";
}
Salida:
$ ./prueba
0
1
2
3
La pregunta es: ¿Por qué funciona la expresión indice[arreglo] como si estuviera poniendo arreglo[indice], si deberían estar al revés?
807,javascript,Tengo el siguiente Array desde un select que contiene los IDs de una tabla:
var arreglo = ["1", "2", "4", "5"]
Quiero saber si "3" está contenido en arreglo. En Python es posible hacer esto:
>>> arreglo = ['1', '2', '4', '5']
>>> '3' in arreglo
False
Pero intentando esto desde la consola en JavaScript me di con la sorpresa de que no funciona de la misma manera:
> var arreglo = ["1", "2", "4", "5"]
> "3" in arreglo
true
Investigando un poco en la documentación de MDN encontré el problema (énfasis de mi parte):
El operador in retorna true si la propiedad especificada se encuentra en el objeto especificado.
Efectivamente, arreglo cuenta con la propiedad (o índice) "3", es por eso que me retorna true:
> Object.keys(arreglo)
["0", "1", "2", "3"]
Mi consulta, ¿como puedo hacer entonces para validar que un objeto está contenido dentro de un arreglo?
818,c++,Estoy investigando algunos archivos de Mesa 3-D graphics library y me he topado con este código:
gl.h
//..
#if defined(__WIN32__) && !defined(__CYGWIN__)
#  if (defined(_MSC_VER) || defined(__MINGW32__)) && defined(BUILD_GL32) /* tag specify we're building mesa as a DLL */
#    define GLAPI __declspec(dllexport)
#  elif (defined(_MSC_VER) || defined(__MINGW32__)) && defined(_DLL) /* tag specifying we're building for DLL runtime support */
#    define GLAPI __declspec(dllimport)
//..
Mi pregunta es ¿Qué función tiene __declspec(dllexport) y  __declspec(dllimport) y cuándo deben de usarse?.
821,java|android,Desde hace unos días vengo trabajando en una aplicación en Android, en la cual tengo que almacenar datos en SQLite, datos básicos para un control de usuario.
He estado buscando información al respecto sobre la mejor manera de guardar una fecha en SQLite y la mejor que encontré fue guardarlo como valor numérico Long, pero me gustaría conocer la opinión de ustedes, basado en su experiencia.
De esta manera almaceno los datos incluida la fecha
public String getInsertLoginOffline(Login loginParams) {
long idResult = -1
UseDatabaseHelper useDataBaseHelper = new UseDatabaseHelper(context, "MyDataBase", null, 1);
SQLiteDatabase db = useDataBaseHelper.getWritableDatabase();
ContentValues dbInsert = new ContentValues();
StringBuilder fecha = new StringBuilder();
String outSave = null;
try {
dbInsert.put("user", loginParams.getUser());
dbInsert.put("password", loginParams.getPass()); //--hash
SimpleDateFormat formatter = new SimpleDateFormat("yyyy-MM-dd");
Calendar gregorianCalendar = new GregorianCalendar();
fecha.append(String.valueOf(gregorianCalendar.get(Calendar.YEAR)))
.append("-")
.append(gregorianCalendar.get(Calendar.MONTH)+1)
.append("-")
.append(gregorianCalendar.get(Calendar.DAY_OF_MONTH));
Date vpstatusdate = formatter.parse(fecha.toString());
dbInsert.put("datereg", vpstatusdate.getTime());
dbInsert.put("status", 1);
idResult = db.insertOrThrow("LOGIN", null, dbInsert);
if (idResult > -1) {
outSave = "OK";
}
} catch (Exception e) {
e.printStackTrace();
} finally {
if (db != null) {
db.close();
}
if (useDataBaseHelper != null) {
useDataBaseHelper.close();
}
}
return outSave;
}
Y la manera de leerla sería así de manera resumida:
SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
long fecReg = login.getFecReg();
Date outFecReg = new Date(fecReg);
txtFechaReg.setText("Fecha Registro: " + sdf.format(outFecReg));
¿Existe alguna otra forma más eficiente?
841,python,Tengo problemas al instalar dentro de mi entorno virtual pillow:
$ sudo pip install pillow
He tratado por todas partes y revisé la documentación oficial.
También instalé:
sudo apt-get install python-dev python-setuptools
También probé versiones anteriores:
$ sudo pip install pillow==2.9
Actualicé pip y sin mas, me muestra este error:
853,java|android,Estoy desarrollando una aplicación para Android que contiene un menu que se genera dinámicamente, con lo que el menú lo genero por programación:
private void cargarAvisosMenu()
{
// Menu
final Menu menu = this.mNavigationView.getMenu();
// Carga de datos
CentroSelection selection = new CentroSelection();
CentroCursor cur = selection.query(getApplicationContext().getContentResolver());
// Recorro el cursor de centros
while (cur.moveToNext()) {
boolean avisosTipoA = false;
boolean avisosTipoB = false;
Centro c = Centro.getFromCursor(cur);
if (c.getIsTipoAVisible() && c.getComponenteTipoA().getControlesTipoAPendientes() > 0) {
avisosTipoA = true;
}
if (c.getIsTipoBVisible() && c.getComponenteTipoB().getControlesTipoBPendientes() > 0){
avisosTipoB = true;
}
if (avisosTipoA || avisosTipoB) {
// Añado la sección y los items.
final SubMenu subMenu = menu.addSubMenu(c.getNombre());
if (avisosTipoA) {
subMenu.add("TipoA").setIcon(R.drawable.ic_tipoA);
}
if (avisosTipoB) {
subMenu.add("TipoB").setIcon(R.drawable.ic_tipoB);
}
}
}
}
Mi intención es agregar un contador que indique el número de notificaciones (al estilo de gmail).
Según la documentación esto es posible, bien a través de un menú xml, utilizando el atributo app:actionLayout, o bien utilizando la función MenuItemCompat.setActionView(). Puesto que el menú que estoy desarrollando es dinámico, he optado por la segunda opción, de modo que el código quedaría de la siguiente forma:
private void cargarAvisosMenu()
{
// Menu
final Menu menu = this.mNavigationView.getMenu();
// Carga de datos
CentroSelection selection = new CentroSelection();
CentroCursor cur = selection.query(getApplicationContext().getContentResolver());
// Recorro el cursor de centros
while (cur.moveToNext()) {
boolean avisosTipoA = false;
boolean avisosTipoB = false;
Centro c = Centro.getFromCursor(cur);
if (c.getIsTipoAVisible() && c.getComponenteTipoA().getControlesTipoAPendientes() > 0) {
avisosTipoA = true;
}
if (c.getIsTipoBVisible() && c.getComponenteTipoB().getControlesTipoBPendientes() > 0){
avisosTipoB = true;
}
if (avisosTipoA || avisosTipoB) {
// Añado la sección y los items.
final SubMenu subMenu = menu.addSubMenu(c.getNombre());
if (avisosTipoA) {
subMenu.add("TipoA").setIcon(R.drawable.ic_tipoA);
}
if (avisosTipoB) {
// subMenu.add("TipoB").setIcon(R.drawable.ic_tipoB);
int itemId = subMenu.add("TipoB").getItemId();
View menuItem = MenuItemCompat.setActionView(subMenu.findItem(itemId), R.layout.menu_notificaciones).getActionView();
((ImageView) menuItem.findViewById(R.id.ivMenuNotificaciones)).setBackground(getDrawable(R.drawable.ic_barcode));
((TextView) menuItem.findViewById(R.id.tvMenuNotificaciones)).setText("TipoB");
((TextView) menuItem.findViewById(R.id.tvContadorNotificaciones)).setText("100");
}
}
}
}
Y el fichero "menu_notificaciones.xml":
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingLeft="16dp"
android:paddingRight="16dp"
android:orientation="horizontal">
<ImageView
android:id="@+id/ivMenuNotificaciones"
android:layout_width="64dp"
android:layout_height="match_parent" />
<TextView
android:id="@+id/tvMenuNotificaciones"
android:layout_width="wrap_content"
android:layout_height="match_parent" />
<TextView
android:id="@+id/tvContadorNotificaciones"
android:layout_width="wrap_content"
android:layout_height="match_parent"
android:layout_gravity="right"/>
</LinearLayout>
Sin embargo el menú no carga la vista "menu_notificaciones".
854,c++,¿En qué escenarios es recomendable usar std::move?
std::vector<int> func()
{
std::vector<int> toReturn(1000000,5);
return std::move(toReturn); // 1
}
int main()
{
std::vector<int> datos = std::move(func()); // 2
// operaciones varias
}
En el ejemplo anterior, ¿Son correctos los usos de std::move? ¿Por qué? ¿Qué efectos puede tener un mal uso de std::move?
870,c#,Tengo un ejemplo donde bindeo un ViewModel con 2 textbox y agrego algunas reglas de validación (ValidationRule) en xaml y en el código (code-behind). También tengo un Control (UserControl) que básicamente envuelve un TextBox al cual también le agrego reglas de validación (ValidationRule).
Cuando ingreso un numero inválido en los TextBox que están bindeados (asociados) directamente al ViewModel, todo funciona genial, el error se muestra (contorno rojo en el TextBox). Pero en el TextBox que está bindeado a una DependencyProperty de mi control (UserControl TextBoxWrapper) el error no se muestra y el valor se resetea (cambia) al valor válido que tenía antes.
Estoy usando Bindeo Múltiple (MultiBinding) con un Converter (heredando IMultiValueConverter). Esto parece funcionar muy bien afuera del control (UserControl), pero cuando lo combino con el UserControl y la DependencyProperty algo "se rompe".
Por ejemplo si un numero menor de 10 es inválido, e ingreso 3, al perder foco, en los dos primeros TextBox aparece un contorno rojo marcando el error, pero en el que está dentro de mi control (UserControl), el valor cambia al valor anterior (si había un 39 antes de que yo ingrese 3, el TextBox se seta otra vez a 39).
Estoy creando este ejemplo para tratar de resolver un problema que tenemos en una aplicación. Esta es la versión simplificada del problema. Ahora mismo no podemos actualizar nuestra aplicación para que tenga un CustomControl en vez de un UserControl, pero necesitamos solucionar este problema.
Pueden reproducir el error con el siguiente código:
TestViewModel
public class TestViewModel
{
public double ValueNotNull { get; set; }
public double? NulleableValue { get; set; }
public double? UserControlNulleableValue { get; set; }
public bool Factor { get; set; }
}
MainWindow.xaml
<Grid>
<Grid.Resources>
<testMultiBinding:TestMultiBindingConverter x:Key="TestMultiBindingConverter"></testMultiBinding:TestMultiBindingConverter>
</Grid.Resources>
<Grid.RowDefinitions>
<RowDefinition Height="40"/>
<RowDefinition Height="40"/>
<RowDefinition Height="40"/>
<RowDefinition Height="40"/>
</Grid.RowDefinitions>
<Grid.ColumnDefinitions>
<ColumnDefinition Width="100"/>
<ColumnDefinition Width="100"/>
</Grid.ColumnDefinitions>
<TextBlock Grid.Row="0" Grid.Column="0">Not Nulleable: </TextBlock>
<TextBox Grid.Row="0" Grid.Column="1" x:Name="NotNullTextBox">
<TextBox.Text>
<MultiBinding Converter="{StaticResource TestMultiBindingConverter}" Mode="TwoWay">
<Binding Path="ValueNotNull"></Binding>
<Binding Path="Factor"></Binding>
<MultiBinding.ValidationRules>
<testMultiBinding:ValidateIsBiggerThanTen/>
</MultiBinding.ValidationRules>
</MultiBinding>
</TextBox.Text>
</TextBox>
<TextBlock Grid.Row="1" Grid.Column="0">Nulleable</TextBlock>
<TextBox Grid.Row="1" Grid.Column="1" x:Name="NulleableTextBox">
<TextBox.Text>
<MultiBinding Converter="{StaticResource TestMultiBindingConverter}" Mode="TwoWay" x:Name="NulleableMultiBinding">
<Binding Path="NulleableValue"></Binding>
<Binding Path="Factor"></Binding>
<MultiBinding.ValidationRules>
<testMultiBinding:ValidateIsBiggerThanTen/>
</MultiBinding.ValidationRules>
</MultiBinding>
</TextBox.Text>
</TextBox>
<TextBlock Grid.Row="2" Grid.Column="0">Nulleable</TextBlock>
<testMultiBinding:TextBoxWrapper Grid.Row="2" Grid.Column="1" Value="{Binding UserControlNulleableValue}" AnotherProperty="3"></testMultiBinding:TextBoxWrapper>
</Grid>
MainWindow.xaml.cs
public partial class MainWindow : Window
{
private TestViewModel viewModel;
private ValidateIsNot validateIsNot;
public MainWindow()
{
DataContextChanged+=MainWindow_DataContextChanged;
InitializeComponent();
viewModel = new TestViewModel();
DataContext = viewModel;
}
private void MainWindow_DataContextChanged(object sender, DependencyPropertyChangedEventArgs e)
{
validateIsNot = new ValidateIsNot(87);
NulleableMultiBinding.ValidationRules.Add(validateIsNot);
}
}
User Control (TextBoxWrapper)
TextBoxWrapper.xaml
<UserControl x:Class="TestMultiBinding.TextBoxWrapper"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:System="clr-namespace:System;assembly=mscorlib"
xmlns:testMultiBinding="clr-namespace:TestMultiBinding"
mc:Ignorable="d"
x:Name="parent"
d:DesignHeight="300" d:DesignWidth="300" Loaded="OnTextBoxWrapperLoaded">
<Grid>
<Grid.Resources>
<testMultiBinding:TestMultiBindingConverter x:Key="TestMultiBindingConverter"></testMultiBinding:TestMultiBindingConverter>
</Grid.Resources>
<TextBox x:Name="textBoxWrapper" TextAlignment="Right">
<TextBox.Text>
<MultiBinding Converter="{StaticResource TestMultiBindingConverter}" x:Name="TextBoxBinding" Mode="TwoWay">
<Binding ElementName="parent" UpdateSourceTrigger="PropertyChanged" Path="Value" Mode="TwoWay" TargetNullValue="{x:Static System:String.Empty}" />
<Binding ElementName="parent" Path="AnotherProperty" Mode="OneWay"/>
<Binding ElementName="textBoxWrapper" Path="IsFocused" Mode="OneWay"/>
</MultiBinding>
</TextBox.Text>
</TextBox>
</Grid>
</UserControl>
TextBoxWrapper.xaml.cs
public partial class TextBoxWrapper : UserControl
{
/// <summary>
/// Using a DependencyProperty as the backing store for Value.  This enables animation, styling, binding, etc...
/// </summary>
public static readonly DependencyProperty ValueProperty =
DependencyProperty.Register("Value", typeof(double?), typeof(TextBoxWrapper),
new FrameworkPropertyMetadata(0.0, OnValueChanged)
{
BindsTwoWayByDefault = true
});
private static void OnValueChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)
{
//Do something
}
public static readonly DependencyProperty AnotherPropertyProperty =
DependencyProperty.RegisterAttached(
"AnotherProperty", typeof(int), typeof(TextBoxWrapper));
public int AnotherProperty
{
get { return (int)GetValue(AnotherPropertyProperty); }
set { SetValue(AnotherPropertyProperty, value); }
}
public double? Value
{
get { return (double?)GetValue(ValueProperty); }
set { SetValue(ValueProperty, value); }
}
public TextBoxWrapper()
{
InitializeComponent();
}
private void OnTextBoxWrapperLoaded(object sender, RoutedEventArgs e)
{
AddDefaultValidationRules();
}
private bool isRequired = false;
private void AddDefaultValidationRules()
{
AddValidationBinding(new ValidateIsNot(87));
AddValidationBinding(new ValidateIsBiggerThanTen());
}
private void AddValidationBinding(ValidationRule validationRule)
{
TextBoxBinding.ValidationRules.Add(validationRule);
}
}
TestMultiBindingConverter
public class TestMultiBindingConverter : IMultiValueConverter
{
public object Convert(object[] values, Type targetType, object parameter, CultureInfo culture)
{
if (values[0] != null)
return values[0].ToString();
return DependencyProperty.UnsetValue;
}
public object[] ConvertBack(object value, Type[] targetTypes, object parameter, CultureInfo culture)
{
if (value != null)
{
double doubleValue;
var stringValue = value.ToString();
if (Double.TryParse(stringValue, out doubleValue))
{
object[] values = { doubleValue };
return values;
}
}
object[] values2 = { DependencyProperty.UnsetValue };
return values2;
}
}
ValidateIsBiggerThanTen
public class ValidateIsBiggerThanTen : ValidationRule
{
private const string errorMessage = "The number must be bigger than 10";
public ValidateIsBiggerThanTen()
{}
public override ValidationResult Validate(object value, CultureInfo cultureInfo)
{
var error = new ValidationResult(false, errorMessage);
if (value == null)
return new ValidationResult(true, null);
var stringValue = value.ToString();
double doubleValue;
if (!Double.TryParse(stringValue, out doubleValue))
return new ValidationResult(true, null);
if (doubleValue <= 10)
return error;
return new ValidationResult(true, null);
}
}
ValidateIsNot
public class ValidateIsNot : ValidationRule
{
private const string errorMessage = "The number must be different to {0}";
private int invalidNumber;
public ValidateIsNot(int number)
{
invalidNumber = number;
}
public override ValidationResult Validate(object value, CultureInfo cultureInfo)
{
var message = string.Format(errorMessage, invalidNumber);
var error = new ValidationResult(false, message);
if (value == null)
return new ValidationResult(true, null);
var stringValue = value.ToString();
double doubleValue;
if (!Double.TryParse(stringValue, out doubleValue))
return new ValidationResult(true, null);
if (doubleValue == invalidNumber)
return error;
return new ValidationResult(true, null);
}
}
¿Por qué no se muestran los errores en mi TextBoxWrapper?
871,java,Hace tiempo que ando buscando una alternativa sólida a Eclipse para desarrollar sobre J2EE, ya que en ciertos momentos Eclipse se muestra un tanto "errático" (fallos, corrupción, ...) sobre todo cuando tratas de trabajar con un servidor J2EE como puede ser Wildfly.
Para ser más específico en cuanto a lo que requiero:
Es necesario que soporte trabajar directamente con servidores J2EE (Wildfly)
Que tenga soporte comercial, donde poder apoyarnos
Permitir extensiones/plugins o al menos que nosotros podamos desarrollar dichas extensiones
¿Que IDE conocéis que cumpla estos puntos?
873,javascript|jquery,Contexto
Para un sistema, existe un proceso que sincroniza información desde una API externa (6 tablas en total) usando transacciones con Web SQL, este proceso se hace de forma manual mediante el botón SINCRONIZAR y mientras el proceso se está ejecutando es necesario evitar que inicien sesión o que vuelvan a sincronizar por lo que ambos botones se bloquean:
Proceso actual
Traté de comentar las partes irrelevantes para que sea un poco más fácil de entender.
Mediante el uso de setInterval() y clearInterval() conseguí, de alguna manera, que se pueda esperar la finalización de varios eventos asíncronos:
// URLs para consumir cada tabla del API externo
// baseAPI viene desde otro archivo
var cultivosAPI = baseAPI + "/api/cultivos/";
var usuariosAPI = baseAPI + "/api/usuarios/";
var terminalesAPI = baseAPI + "/api/terminales/";
var personalAPI = baseAPI + "/api/personal/";
var laboresAPI = baseAPI + "/api/labores/";
var plantasAPI = baseAPI + "/api/plantas/";
// Objeto para saber el estado de la sincronización de cada
// tabla
var updateStates = {};
// ID inicial del intervalo usado en la función setInterval()
var intervalId = 0;
$(document).ready(function(){
// ...
// Boton ACTUALIZAR, antes de sincronizar se asegura
// de que exista conexión con el servidor
$("#updateBtn").on("click", testConnection);
// ...
});
function testConnection() {
$.ajax(
baseAPI
).done(function (data) {
// Si todo está bien, sincronizar las tablas
updateTables();
}).fail(function() {
// ...
});
}
function updateTables() {
// ...
// Hash para conocer el resultado de actualización de cada tabla,
// es la variable definidida arriba
updateStates = {
"cultivo": null,
"labor": null,
"personal": null,
"planta": null,
"terminal": null,
"usuario": null
};
// Deshabilitar botones
$("#loginBtn").prop("disabled", true);
$("#updateBtn").prop("disabled", true);
// ...
// ***************************************************
// Esta es la parte asíncrona en donde se llama el API
// de cada tabla
// ***************************************************
// Insertar cultivos
$.getJSON(cultivosAPI, {
format: "json"
}).done(function (data) {
db.transaction(function(tx) {
// SQL y otras cosas
});
}).fail(function(data) {
// Marcamos la tabla como incompleta
updateStates["cultivo"] = false;
// ...
});
// Insertar personal
$.getJSON(personalAPI, {
format: "json"
}).done(function (data) {
db.transaction(function(tx) {
// SQL y otras cosas
});
}).fail(function(data) {
// Marcamos la tabla como incompleta
updateStates["personal"] = false;
// ...
});
// Insertar terminales
$.getJSON(terminalesAPI, {
format: "json"
}).done(function (data) {
db.transaction(function(tx) {
// SQL y otras cosas
});
}).fail(function(data) {
// Marcamos la tabla como incompleta
updateStates["terminal"] = false;
// ...
});
// Insertar usuarios
$.getJSON(usuariosAPI, {
format: "json"
}).done(function (data) {
db.transaction(function(tx) {
// SQL y otras cosas
});
}).fail(function(data) {
// Marcamos la tabla como incompleta
updateStates["usuario"] = false;
// ...
});
// Insertar labores
$.getJSON(laboresAPI, {
format: "json"
}).done(function (data) {
db.transaction(function(tx) {
// SQL y otras cosas
});
}).fail(function(data) {
// Marcamos la tabla como incompleta
updateStates["labor"] = false;
// ...
});
// Insertar plantas
$.getJSON(plantasAPI, {
format: "json"
}).done(function (data) {
db.transaction(function(tx) {
// SQL y otras cosas
});
}).fail(function(data) {
// Marcamos la tabla como incompleta
updateStates["planta"] = false;
// ...
});
// Esperar que finalicen las actualizaciones para habilitar
// los botones, valida cada segundo
intervalId = setInterval(updateIsFinished, 1000);
}
function updateIsFinished() {
// El proceso puede haber terminado sin terminar de actualizar por algún
// error encontrado
var updated = true;
var finished = true;
// Iteramos cada estado de la tabla, si la tabla tiene un valor
// false es porque hubo un error en la llamada AJAX, si tiene un
// valor null es porque el AJAX aun no finaliza
for (table in updateStates) {
if (updateStates[table] == false) {
updated = false;
}
if (updateStates[table] == null) {
finished = false;
}
}
if (updated || finished) {
// Limpiar el intervalo
clearInterval(intervalId);
// Resetear valores globales
updateStates = {};
intervalId = 0;
// Habilitar botones
if (updated) {
$("#loginBtn").prop("disabled", false);
$("#updateBtn").prop("disabled", false);
} else if (finished) {
$("#updateBtn").prop("disabled", false);
}
}
}
Pregunta
Aunque funciona, siento que podría existir una forma más adecuada para conseguirlo sin la necesidad de estar verificando cada segundo. Intenté usando jQuery.when() pero no funcionó.
¿Cómo puedo esperar eventos asíncronos sin necesidad de estar verificando cada cierto intervalo de tiempo?
875,javascript,Estoy programando un script que contiene un botón; el cual desarrolle una función que busca por número de identificación un registro (objeto).
Esta es la función:
function buscarobjeto(){
var transaction = db.transaction(["gente"],"readonly");
var objectStore = transaction.objectStore("gente");
var ob = objectStore.get(numero);
bd.onsuccess = function(e) { }
Este es el código que tengo hasta el momento.
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Base de Datos con JavaScript</title>
<script type="text/javascript">
var bd;
function iniciar(){
MostrarDatos=document.getElementById("MostrarDatos");
boton=document.getElementById("grabar");
boton.addEventListener("click",agregarobjeto, false);
boton=document.getElementById("buscar");
boton.addEventListener("click",buscarobjeto, false);
var solicitud=indexedDB.open("sistemas");
solicitud.onsuccess=function(e){
bd=e.target.result;
}
solicitud.onupgradeneeded=function(e){
bd=e.target.result;
bd.createObjectStore("gente", {keyPath: "nombre"});
}
}
function agregarobjeto(){
var nombre=document.getElementById("nombre").value;
var apellido=document.getElementById("apellido").value;
var identificacion=document.getElementById("identificacion").value;
var numero=document.getElementById("numero").value;
var facultad=document.getElementById("facultad").value;
var programa=document.getElementById("programa").value;
var semestre=document.getElementById("semestre").value;
var asignatura=document.getElementById("asignatura").value;
var transaccion=bd.transaction(["gente"], "readwrite");
var almacen=transaccion.objectStore("gente");
var agregar=almacen.add({nombre: nombre, apellido: apellido, identificacion: identificacion, numero: numero, facultad: facultad,
programa: programa, semestre: semestre, asignatura: asignatura});
agregar.addEventListener("success", mostrar, false);
document.getElementById("nombre").value=""
document.getElementById("apellido").value=""
document.getElementById("identificacion").value=""
document.getElementById("numero").value=""
document.getElementById("facultad").value=""
document.getElementById("programa").value=""
document.getElementById("semestre").value=""
document.getElementById("asignatura").value=""
}
function mostrar(){
MostrarDatos.innerHTML="";
var transaccion=bd.transaction(["gente"],"readonly");
var almacen=transaccion.objectStore("gente");
var cursor=almacen.openCursor();
cursor.addEventListener("success", mostrarDatos, false);
}
function buscarobjeto(){
}
window.addEventListener("load", iniciar, false);
var elements = [];
function mostrarDatos(e){
var cursor=e.target.result;
if(cursor){
MostrarDatos.innerHTML+="<div><table border=1></caption><thead>"
+ "<tr> <td width=85>" + cursor.value.nombre
+ "</td><td width=85>" + cursor.value.apellido
+ "</td><td width=85>" + cursor.value.identificacion
+ "</td><td width=85>" + cursor.value.numero
+ "</td><td width=85>" + cursor.value.facultad
+ "</td><td width=85>" + cursor.value.programa
+ "</td><td width=85>" + cursor.value.semestre
+ "</td><td width=85>" + cursor.value.asignatura
+ "</td></tr></thead></table></div>";
cursor.continue();
}
}
</script>
</head>
<body>
<form name="formulario">
<div id="contenedor">
<section id="cajaformulario">
<table border=1>
<caption><B>Registro de Estudiantes</B></caption>
<thead>
<tr>
<th><input type="text" id="nombre" placeholder="Introducir nombre" /></th>
<th><input type="text" id="apellido" placeholder="Introducir apellido" /></th>
<th><input type="text" id="identificacion" placeholder="Introducir tipo identificacion" /> </th>
<th><input type="text" id="numero" placeholder="Introducir # de identificación" /></th>
</tr>
<tr>
<th><input type="text" id="facultad" placeholder="Introducir facultad" /></th>
<th><input type="text" id="programa" placeholder="Introducir programa" /></th>
<th><input type="text" id="semestre" placeholder="Introducir semestre" /></th>
<th><input type="text" id="asignatura" placeholder="Introducir asignatura" /></th>
</tr>
<tr>
<th colspan=7><button type="button" name="grabar" id="grabar" value="Grabar">Guardar</button></th>
</tr>
<tr>
<th colspan=7><button type="button" name="buscar" id="buscar" value="Buscar">Buscar</button></th>
</tr>
</thead>
</table>
</section>
</div>
<div id="elements">
<section id="MostrarDatos">
<table border=1>
<caption><B>Estudiante(s) Registrado(s)</B></caption>
<thead>
<tr>
<td width=85><B><Center>Nombre</B></td>
<td width=85><B><Center>Apellido</B></td>
<td width=135><B><Center>T de Identificación</B></td>
<td width=135><B><Center>N de dentificacion</B></td>
<td width=85><B><Center>Facultad</B></td>
<td width=85><B><Center>Programa</B></td>
<td width=85><B><Center>Semestre</B></td>
<td width=85><B><Center>Asignatura</B></td>
</tr>
</thead>
<tbody id="cursor">
<tr>
<td colspan="9">No hay elementos a mostrar</td>
</tr>
</tbody>
</table>
</section>
</div>
</form>
</body>
</html>
899,c#,Tengo un metodo que recibe un IList. ¿Hay alguna forma de obtener el tipo de los items que están adentro de la IList?
public void MiMetodo(IList miLista)
{
}
Tengo una clase a la cual le puedes asociar una IList. Tambien le puedes agregar una función NuevoItem para agregar nuevos items. Me gustaría poder agregar items con el constructor sin parametros por defecto en caso que el usuario de mi clase no le asigne valor a la función NuevoItem.
Agrego un ejemplo, porque parece no he sido clara con mi pregunta.
Si recibo un IList<Int32>, quiero saber el tipo del item, es decir, necesito obtener el Int32.
¿Cómo puedo obtener el Tipo de los items que estan adentro del IList que recibo por parametro? Sabría hacerlo si tuviera un IList<T>, pero no puedo cambiar mi API, ya que podemos recibir cualquier tipo de colección, no sólo IList<T>. La única restricción, aunque no está enforzada por código, es que todos los items en la colecciones que recibimos son del mismo tipo.
905,c#,Tengo un problema que no tengo idea cómo puedo solucionarlo.
Tengo una clase de la siguiente manera:
public class Message {
public long Id { get; set; }
public DateTime DateCreated { get; set; }
public DateTime DateModified { get; set; }
public string AddressIp { get; set; }
public string English { get; set; }
public string Spanish { get; set; }
public string French { get; set; }
public string Portuguese { get; set; }
}
Y otra clase así:
public class MessageDto
{
public long Key { get; set; }
public string MessageValue { get; set; }
}
Ahora bien, para obtener el mensaje en el idioma del usuario utilizó esta función:
public static string GetPropValue(object source)
{
var propertyName = CultureInfo.GetCultureInfo(CultureInfo.CurrentCulture.Name).Parent.EnglishName;
return source.GetType().GetProperty(propertyName).GetValue(source, null).ToString();
}
En mi controller OData tengo esto:
[EnableQuery]
public IQueryable<MessageDto> Get()
{
var messages = _messageService.Queryable();
var messagesDto =  messages.ToList().Select(t => _messageFactory.GetMessageViewModel(t));
return other.AsQueryable();
}
La función GetMessageViewModel() hace esto:
public MessageDto GetMessageViewModel(Message model)
{
return new MessageDto
{
Key = model.Id,
MessageValue = PropertyValueHelper.GetPropValue(model)
};
}
Ahora bien, ¿es posible hacer lo mismo pero mediante el uso de Automapper?
Por ejemplo al momento de realizar el mapeo no tengo idea cómo hacerlo para la columna MessageDto.MessageValue
Mapper.CreateMap<Message, MessageDto>()
.ForMember(dest => dest.MessageValue, opt => opt.MapFrom(src => src.???))
.ForMember(dest => dest.Key, opt => opt.MapFrom(src => src.Id));
Tampoco he logrado convertir en la clase donde realizo el mapeo el mensaje en el idioma del usuario:
Mapper.CreateMap<Message, MessageDto>()
.AfterMap((src, dest) => dest.MessageValue = PropertyValueHelper.GetPropValue(src));
¿Alguien me puede orientar o apoyar a realizarlo?
906,html,Deseo tomar el hermano siguiente a una estructura pero no logro obtenerlo, tomando en cuenta que tengo lo siguiente:
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<div class="container">
<div class="row list-items">
<!-- Elemento que toma actualmente -->
<div class="col-md-12">
<div class="update-nag">
<div class="update-split">
<i class="glyphicon glyphicon-refresh"></i>
</div>
<div class="update-text">
Lorem ipsum
<a href="#">Lorem</a>
</div>
</div>
</div>
<!-- Elemento que hermano siguiente -->
<div class="col-md-6">
<div class="update-nag">
<div class="update-split">
<i class="glyphicon glyphicon-refresh"></i>
</div>
<div class="update-text">
Lorem ipsum
<a href="#">Lorem</a>
</div>
</div>
</div>
<div class="col-md-6">
<div class="update-nag">
<div class="update-split">
<i class="glyphicon glyphicon-refresh"></i>
</div>
<div class="update-text">
Lorem ipsum
<a href="#">Lorem</a>
</div>
</div>
</div>
</div>
</div>
Mi ruta XPATH que toma el primer elemento es:
//div[contains(@class, "list-items")]//div[@class="col-md-12"]
y me gustaría poder tomar el próximo nodo, con algo como:
//div[contains(@class, "list-items")]//div[@class="col-md-12"]//next-sibling
¿Se puede hacer tal cosa?, ¿Cómo lo hago?.
914,c++,Desde hace un tiempo en algunos blogs aparecen dos términos que no termino de comprender: Rvalue y Lvalue. Sin tener claro el significado de ambos términos el contenido de determinados ejemplos se hace complicado de entender.
¿Qué diferencias hay entre un Rvalue y un Lvalue?
¿Cómo se puede identificar cada uno?
¿Qué se puede hacer y qué no con cada uno de ellos?
930,python,No se si sea un tema recurrente, el de saber cuando trabajar con el esquema de autenticación de Django, cual es la mejor forma de usarlo y extenderlo o si se substituye por uno personalizado, pero siempre con la idea de preservar los mecanismos y funcionalidades de autenticación.
Por lo anterior deseo compartir esta inquietud que tengo sobre algunas probables alternativas o acercamientos de diseño que he pensado acerca de la siguiente situación, con el ánimo de que puedan ayudarme a analizar/proponer o escoger la mejor:
Estoy construyendo una aplicación en donde tengo tres tipos diferentes de usuarios:
Médico
Paciente
Fisioterapeuta
Todos tres usuarios deben poder iniciar sesión en el sistema y existirían relaciones (desde el contexto del objeto de negocio de la aplicación o requerimientos) entre los usuarios Medico con los usuarios pacientes y los
usuarios Fisioterapeuta con los usuarios Paciente, entendiendo que:
Un paciente es tratado por un médico
Un paciente es tratado por un terapeuta
Un paciente podría tener estos tres roles en el sistema (asumo que esto no sería problema)
Mi inicial idea, es utilizar el esquema de autenticación por defecto de Django (django.contrib.auth)
Inicialmente pensé en el siguiente esquema de entidades, en el cual la tabla/modelo User es equivalente a la tabla auth_user que Django genera automaticamente en nuestra base de datos cuando aplicamos nuestra primera migración, y en la cual los usuarios de Django son almacenados:
En esta tabla User yo tengo tres campos boolenos que he adicionado los cuales son:
is_patient, is_medical and is_physiotherapist
El anterior, creo que es un acercamiento que me permitiría hacer lo que busco, solo que hay un detalle y es que el modelo de autenticación por defecto de Django, no se puede modificar, es inmutable, pensaría que para modificarlo habría que modificar el core de Django y esto es algo mas dispendioso o habría que hacerlo bien o saber que es lo que se esta haciendo.
Por esta razón, los campos is_patient, is_medical and is_physiotherapist no pueden ser adicionados a la tabla User como lo pretendo.
Una recomendación clásica que nos da Django en su documentación es extender el modelo User con una relación OneToOne a otro modelo que contenga los datos adicionales que queremos agregar a los usuarios.
Un ejemplo básico de esto que digo es esta siguiente figura:
Es de esta forma en como yo puedo conseguir que los usuarios que tengo en Django (gestionados por el esquema de autenticación por defecto de Django django.contrib.auth) puedan tener atributos adicionales como una foto, fecha de nacimiento, entre otros que deseemos.
En relación a esto último, el esquema que presento a continuación, ¿podría resultar útil para manejar los diferentes roles de usuario que necesito?, es decir pacientes, médicos y fisioterapeutas
Yo debo tener relaciones entre estas tablas:
Usuarios Medicos y Usuarios Pacientes
Usuarios fisioterapeutas y Usuarios Pacientes
y asi entre ellas y otras tablas
Con este enfoque, ¿éstas relaciones no se verán afectadas?
Los tres tipos diferentes de usuarios, sus atributos serían almacenados entre las tablas UserProfile y User.
En si la tabla UserProfile tendría todos los campos propios de los usuarios paciente, medico y terapeuta.
¿Es esto una buena práctica en sentido de escalabilidad? Sé que no estarían normalizadas claro está.
Porque otra alternativa es pensar en mi enfoque inicial, pero sin los campos booleanos is_patient, is_medical e is_physiotherapist y entonces por transitividad trabajar con los diferentes roles de usuario, es decir asi:
Además de lo anterior, también se presentan algunas alternativas tales como:
Crear una tabla/Modelo llamado Role
Si tengo una tabla/modelo role separado o independiente, y esta estaría relacionada con el modelo de usuarios de Django User entonces podría decir que un User puede tener varios roles.
Este enfoque puede ser útil si yo deseo almacenar información exclusiva acerca de un rol en particular.
Sistema de Permisos y Autorización de Django
Django Permissions and Authorization
En estos momentos ignoro el grado de granularidad (hasta donde me pemitiría llegar a trabajar con los modelos y sus instancias en cuanto a operaciones con ellos).
He mirado de manera superficial que el sistema de autorización y permisos me permitiría trabajar con las operaciones de crear, editar y eliminar
También podría mirar lo de la creación de grupos, POr ejemplo, un grupo llamado Medicos en donde los usuarios medicos pertenezcan a él y que este grupo (y por ende los usuarios que lo componen) pueda tener determinados permisos a ciertos modelos y operaciones. Y asi con los otros tipos de usuarios.
¿Es esto otra buena alternativa?
AUTH_USER_MODEL Creating a Custom User model
Otra alternativa que se presenta para cuando el esquema de Django de manejo de usuarios por defecto, no satisface  los requerimientos que se tienen de autenticación o manejo de usuarios en un proyecto, es substituir o personalizar el modelo de usuarios, pero esto no se si tendria sus desventajas en cuanto a no preservar los mecanismos de autenticación y mas funcionalidades que Django nos provee con su modelo User.
Mi requerimiento de tener un usuario paciente, un usuario medico y un usuario fisioterapeuta, ¿requiere construir un modelo de Usuarios personalizado?
Todo lo que nos muestra Django acerca del manejo de usuarios y de las múltiples cosas que nos permiten hacer con este tema, no es algo que sea complicado en si en un principio, pero por lo que he visto y desde mi punto de vista me atrevo a afirmar que es un tema algo extenso, y por lo mismo, me siento algo confundido para tomar la mejor decisión acorde a lo que necesito.
Si alguien ha hecho algo similar o tiene alguna propuesta de orientación (se que tal vez puede ser un caso muy particular para postearl en una comunidad free), estaría muy agradecido.
Muchas gracias por el tiempo y disculpas por el post tan largo.
932,javascript,Con el tiempo que he trabajado con el lenguaje JavaScript, he empleado distintas formas para crear objetos por medio de lo que propiamente podría ser la emulación de una clase (u objeto literal).
Las formas que he trabajado son las siguientes:
Clausuras:
var NombreClase = (function () {
function NombreClase () {}
NombreClase.prototype.metodo = function () {
// código
}
NombreClase.metodoEstático = function () {
// código
}
function metodoPrivado () {
// código
}
return NombreClase;
})();
Prototipo (prototype):
function NombreClase (arg1, arg2) {
this.arg1 = arg1;
this.arg2 = arg2;
}
NombreClase.prototype.metodo = function () {
// código
}
NombreClase.metodoEstático = function () {
// código
}
Objeto literal:
var NombreClase = {
prop: 'foo',
metodo: function () {
// body...
}
};
Me gustaría conocer objetivamente ¿cuál es la conveniente usar?, ¿si existe otra forma? y ¿por qué es recomendable?.
936,python,Trasteando con Python, me he dado de bruces con un error tipo takes 2 positional arguments but 3 were given. Mi método, que está dentro de una clase, era de la forma
def add(x, y):
return x +y
Acababa de leer la documentación básica sobre clases y conocía la existencia de los modificadores @classmethod y @staticmethod, que la documentación dice que son básicamente "azúcar sintáctico". También sé que self o cls no son palabras reservadas, así que no importa si mi primer parámetro se llama self, cls o x.
El error obtenido me da por pensar que por defecto, los métodos de una clase son considerados métodos de clase (y el primer argumento es considerado una referencia a la clase/instancia) y si los quiero estáticos tengo entonces que poner el modificador, pero no he encontrado nada que lo indique explícitamente en la documentación.
Puede parecer obvio, pero para mí ha sido bastante contraintuitivo que si declaro
def saludar() :
print("hola")
dentro de una clase, la llamada dará error porque la función tiene 0 parámetros pero intentaremos pasar uno (implícito) con la llamada. ¿Puede alguien confirmar que los métodos son por defecto de clase, como si estuvieran anotados con @classmethod?
939,c#,He creado un proyecto en Visual Studio 2012 C#. He agregado un archivo .xml y este archivo contiene información que la consola lee cuando es ejecutada.
Necesito publicarla para poder ejecutarla y poder dársela a las personas que me pidieron hacer esto.
Es que el archivo .exe puede ser encontrado en el directorio debug, pero esto no me sirve porque cuando la ejecuto en otra computadora dice que le faltan archivos relacionados a la consola (el archivo xml)
Cuando he publicado la consola, me da unos archivos en el directorio release, pero no incluye el xml y tampoco tengo que incluirlo para que sea visible ya que contiene información privada.
¿Cómo podría hacer esto?
Sintáxis del archivo XML:
<root>
<url></url>
</root>
En el código estoy usando XmlDocument con esto cargo mi archivo xml llamándolo por tag, o sea GetElementsByTagName, y así referencio el tag que quiero llamar adentro de un ciclo for.
940,python,Estoy trabajando en una aplicación Django, la cual tiene tres diferentes tipos de usuarios. Estos usuarios deben ser algo así como consumidos o utilizados por una aplicación externa a través de HTTP para el proceso de inicio de sesión y utilizar los datos asociados de estos usuarios.
Básicamente pensaría que mi aplicación Django sería algo como tipo Backend para que esta tercera aplicación la utilice.
¿Cómo puedo lograr exponer mis usuarios y demás modelos para que sean utilizados por terceros o por mi misma aplicación?.
Estoy explorando Django Rest Framework y pienso que es una gran alternativa para ello, en cuanto a la autenticación, no se si opciones como OAuth2 me ayuden a ello, a juzgar por su documentación parece que se puede conseguir lo que deseo.
Mire este post, y parece que el usuario que lo hizo, consiguió lo mismo o al menos eso entiendo.
Mi pregunta es:
¿Puedo yo exponer mis diferentes modelos en Django (entre ellos mi modelo de Users) para que éstos sean consumidos por terceros o incluso por otras aplicaciones de mi mismo proyecto?.
Al parecer por el post que dio referencia y por este artículo pensaría que si. ¿Cuales son sus consideraciones?.
956,python,La idea general de lo que quiero hacer es conectarme a una red Wi-Fi pero desde Python y me preguntaba cuál es el módulo más recomendado para lograr esta funcionalidad, preferiblemente una solución para OSX, los módulos que encontré no tienen una documentación del todo clara, busco algo fácil de usar.
968,c#,Como primera opción estoy intentando crear una vista parcial fuertemente tipada. La misma se renderizaría dentro de dentro de mi _Layout.cshtml ya que la idea es que esta vista parcial _UserInfoPartial.cshtml se vea en todas las demás vistas.
La segunda sería que desde un vista padre, por ejemplo desde el home/index, renderizar la vista antes mencionada.
¿Cómo podría hacer para pasarle otro model a la vista hija?
Modelo de la vista parcial:
public class DatosUsuario
{
public short Compania { get; set; }
public Legajo LegajoUsuario { get; set; }
public Funcion Funcion { get; set; }
public string UsuarioNT { get; set; }
}
Modelo de la vista padre:
public class Visita
{
public short Compania { get; set; }
public Local Local { get; set; }
public DateTime Fecha { get; set; }
public DateTime Periodo { get; set; }
public Legajo LegajoGerente { get; set; }
public Color Color { get; set; }
public DateTime FechaCierre { get; set; }
}
Este es mi _Layout.cshtml
<body>
<div class="container body-content">
@RenderBody()
<hr />
@Html.Partial("_UserInfoPartial") @*aqui renderizo mi vista parcial*@
<footer>
<p>&copy; @DateTime.Now.Year</p>
</footer>
</div>
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")
@RenderSection("scripts", required: false)
</body>
No se porque opción ir, pero me parece la mas acertada de hacerlo en el layout ya que se debería mostrar en todas las vistas.
973,python,Tengo escritos algunos programas en Python (uso Python 2.7, pero no tendría problemas para pasarme a Python 3) para analizar una base de datos alojada en MySQL (todo en localhost, así que no tengo ningún problema para conectarme). Los programas funcionan a la perfección en Debian... sin embargo, necesito también ejecutar estos análisis en una computadora Mac, y me enfrento al problema de que no está disponible el módulo MySQLdb.
Intenté instalar este módulo con pip (siguiendo las instrucciones descritas aquí y aquí también) y al ejecutar mi código, me sigo topando con el mensaje "No module named MySQLdb".
¿Qué puedo hacer?
Actualización
Aquí está el output de la consola, al intentar usar pip:
$ sudo pip install MySQL-python
Password:
Downloading/unpacking MySQL-python
Real name of requirement MySQL-python is mysql-python
Downloading MySQL-python-1.2.5.zip (108Kb): 108Kb downloaded
Running setup.py egg_info for package MySQL-python
Traceback (most recent call last):
File "<string>", line 14, in <module>
File "/Users/miusuario/build/MySQL-python/setup.py", line 13, in <module>
from setup_posix import get_config
File "setup_posix.py", line 2, in <module>
from ConfigParser import SafeConfigParser
ImportError: No module named ConfigParser
Complete output from command python setup.py egg_info:
Traceback (most recent call last):
File "<string>", line 14, in <module>
File "/Users/miusuario/build/MySQL-python/setup.py", line 13, in <module>
from setup_posix import get_config
File "setup_posix.py", line 2, in <module>
from ConfigParser import SafeConfigParser
ImportError: No module named ConfigParser
----------------------------------------
Command python setup.py egg_info failed with error code 1
Storing complete log in /Users/miusuario/.pip/pip.log
Y este es el contenido de pip.log:
------------------------------------------------------------
/usr/local/bin/pip run on Tue Dec 15 15:54:01 2015
Downloading/unpacking MySQL-python
Getting page http://pypi.python.org/simple/MySQL-python
Could not fetch URL http://pypi.python.org/simple/MySQL-python: HTTP Error 301: Moved Permanently - Redirection to url '/simple$
Will skip URL http://pypi.python.org/simple/MySQL-python when looking for download links for MySQL-python
Getting page http://pypi.python.org/simple/
Real name of requirement MySQL-python is mysql-python
URLs to search for versions for MySQL-python:
* http://pypi.python.org/simple/mysql-python/
Getting page http://pypi.python.org/simple/mysql-python/
Analyzing links from page https://pypi.python.org/simple/mysql-python/
Skipping link https://pypi.python.org/packages/2.4/M/MySQL-python/MySQL_python-1.2.2-py2.4-win32.egg#md5=6620279666cb40e26d89$
Skipping link https://pypi.python.org/packages/2.5/M/MySQL-python/MySQL_python-1.2.2-py2.5-win32.egg#md5=596ec38e498e80ce7375$
Skipping link https://pypi.python.org/packages/2.5/M/MySQL-python/MySQL_python-1.2.3b1-py2.5-linux-i686.egg#md5=43ace300f3eda$
Skipping link https://pypi.python.org/packages/2.5/M/MySQL-python/MySQL_python-1.2.3b2-py2.5-linux-i686.egg#md5=36f78115685d8$
Skipping link https://pypi.python.org/packages/2.5/M/MySQL-python/MySQL_python-1.2.3c1-py2.5-linux-i686.egg#md5=1efcbed6f1f29$
Skipping link https://pypi.python.org/packages/2.6/M/MySQL-python/MySQL_python-1.2.3b1-py2.6-linux-i686.egg#md5=4a640ca00352a$
Skipping link https://pypi.python.org/packages/2.6/M/MySQL-python/MySQL_python-1.2.3b2-py2.6-linux-i686.egg#md5=08ba3e38b899a$
Skipping link https://pypi.python.org/packages/2.6/M/MySQL-python/MySQL_python-1.2.3c1-py2.6-linux-i686.egg#md5=fd472a7c42ef8$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4.win32-py2.7.exe#md5=313b4ceed0144a3019f8$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4b1.win32-py2.7.exe#md5=e0a9f62c7a65eca79a$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4b2.win32-py2.7.exe#md5=ac5812bf27dde82c41$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4b3.win32-py2.7.exe#md5=4596e73263008aa83d$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4b4.win32-py2.7.exe#md5=b53ad22d5a8e16d11f$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4b5.win32-py2.7.exe#md5=ad3dd07e28fd38c89a$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.4c1.win32-py2.7.exe#md5=2a07d427814482fb90$
Skipping link https://pypi.python.org/packages/2.7/M/MySQL-python/MySQL-python-1.2.5.win32-py2.7.exe#md5=6f43f42516ea26e79cfb$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.3.tar.gz#md5=215eddb6d853f6f4be5b4afc41542$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.3b1.tar.gz#md5=906c00cbfb81f54a474b3e7dcf7$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.3b2.tar.gz#md5=e30ae85d490e87f3788eb4a59e5$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.3c1.tar.gz#md5=310dd856e439d070b59ece6dd7a$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4.zip#md5=ddf2386daf10a97af115ffad2ed4a9a0$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b1.tar.gz#md5=138669627e06f10c1c2e75122f6$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b2.tar.gz#md5=d13f7351e195277ffd019bd7644$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b3.tar.gz#md5=b495d89426d83ba1e305f774e81$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b3.zip#md5=2fb8db45f5c71dbc5869bd19eaaf54$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b4.tar.gz#md5=0958cb9c23d5a656caac031c488$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b4.zip#md5=2ce6fad5c5fe4074c33e8e799dc7a0$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b5.tar.gz#md5=2d760ee948aff4f50d01afdf8af$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4b5.zip#md5=4f645ed23ea0f8848be77f25ffe94a$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.4c1.zip#md5=a05925412cd824104da064db6a8896$
Found link https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.5.zip#md5=654f75b302db6ed8dc5a898c625e030c$
Using version 1.2.5 (newest of versions: 1.2.5, 1.2.4, 1.2.4c1, 1.2.4b5, 1.2.4b5, 1.2.4b4, 1.2.4b4, 1.2.4b3, 1.2.4b3, 1.2.4b2, $
Downloading from URL https://pypi.python.org/packages/source/M/MySQL-python/MySQL-python-1.2.5.zip#md5=654f75b302db6ed8dc5a898c$
Running setup.py egg_info for package MySQL-python
Traceback (most recent call last):
File "<string>", line 14, in <module>
File "/Users/miusuario/build/MySQL-python/setup.py", line 13, in <module>
from setup_posix import get_config
File "setup_posix.py", line 2, in <module>
from ConfigParser import SafeConfigParser
ImportError: No module named ConfigParser
Complete output from command python setup.py egg_info:
Traceback (most recent call last):
File "<string>", line 14, in <module>
File "/Users/miusuario/build/MySQL-python/setup.py", line 13, in <module>
from setup_posix import get_config
File "setup_posix.py", line 2, in <module>
from ConfigParser import SafeConfigParser
ImportError: No module named ConfigParser
----------------------------------------
Command python setup.py egg_info failed with error code 1
Exception information:
Traceback (most recent call last):
File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages/pip/basecommand.py", line 126, in main
self.run(options, args)
File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages/pip/commands/install.py", line 223, in run
requirement_set.prepare_files(finder, force_root_egg_info=self.bundle, bundle=self.bundle)
File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages/pip/req.py", line 986, in prepare_files
req_to_install.run_egg_info()
File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages/pip/req.py", line 222, in run_egg_info
command_desc='python setup.py egg_info')
File "/Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages/pip/__init__.py", line 255, in call_subproc$
% (command_desc, proc.returncode))
pip.exceptions.InstallationError: Command python setup.py egg_info failed with error code 1
De aquí deduzco (pero puedo estar equivocado) que hace falta un módulo llamado ConfigParser... pero al momento de intentar instalarlo, también con pip, esto es lo que sucede:
$ sudo pip install ConfigParser
Password:
Requirement already satisfied (use --upgrade to upgrade): ConfigParser in /Library/Frameworks/Python.framework/Versions/3.2/lib/python3.2/site-packages
Cleaning up...
Estoy perplejo... el módulo ConfigParser sí existe, pero al intentar instalar MySQL-python no lo encuentra
979,ios,En la aplicación que estoy desarrollando usamos UITextView para mostrar los cajetines de respuesta de los usuarios pero me gustaría poder añadirle el comportamiento que tienen los UITextField para añadirle un placeholder que indique la información que debe rellenar el usuario.
¿Es posible hacer esto de alguna forma?
980,c++,En C++ disponemos de dos mecanismos similares para limitar el ámbito de aplicación de una variable al fichero de código actual (no cabecera):
//fichero.cpp
// opción 1
static std::string Mensaje = "algo";
// opción 2
namespace
{
std::string Mensaje = "algo";
}
¿Hay alguna diferencia entre ambas opciones?, ¿cuál se debería usar?, ¿por qué?
991,javascript,Tengo una aplicación en la cual me gustaría mostrar el nombre del pueblo o ciudad donde se encuentre la ubicación de la persona que utiliza la aplicación, actualmente tengo la LATITUDE y LONGITUDE. Pero ahora no sé como proceder.
navigator.geolocation.getCurrentPosition(function(pos) {
var position = new google.maps.LatLng(pos.coords.latitude, pos.coords.longitude);
}, function (error) {
// Código de error
});
996,javascript|jquery,Resulta que siguiendo la documentación de la librería fancybox me encuentro que para definir el comportamiento de sus elementos mediante clases se debe seguir una sintaxis como la siguiente:
<a href="http://www.dominio-ejemplo.mx/pagina" class="fancybox.iframe">
<!-- Código HTML -->
</a>
Deseo añadirles «x» comportamientos por medio de jQuery a ese tipo de elementos, pero me encuentro que aún escapando el caracter de «.» (punto) con la barra invertida () no toma el elemento.
Dejo el siguiente snippet:
$(function(){
$('button').on('click', function(){
/* No funciona */
$('.fancybox\.image').remove();
});
});
.fancybox\.iframe {
color: white;
background-color: red;
}
.fancybox\.image {
color: white;
background-color: green;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<ul>
<li>
<a href="http://www.dominio-ejemplo.mx/pagina" class="fancybox.iframe">Estilo iframe</a>
</li>
<li>
<a href="http://www.dominio-ejemplo.mx/pagina" class="fancybox.image">Estilo imagen</a>
</li>
</ul>
<button>Borrar: fancybox.iframe</button>
1012,python,Me he topado con una sorpresa al tratar de cambiar algunas funciones lambda por funciones parciales usando functools.partial, el tema parece estar relacionado con las variables aunque ambas funciones se encuentran en el mismo "scope".
He creado este ejemplo sencillo para que puedan entender el problema:
>>> import functools
>>> multiplicar = lambda x, y: x * y
>>> variable = 5
>>> multiplicador_1 = lambda y: multiplicar(variable, y)
>>> multiplicador_2 = functools.partial(multiplicar, variable)
>>> print multiplicador_1(4), multiplicador_2(4)
20 20
Ambas funcionan perfecto y retornan el mismo resultado. Pero observen lo que pasa si cambiamos el valor de variable:
>>> variable = 10
>>> print multiplicador_1(4), multiplicador_2(4)
40 20
Los resultados difieren como si multiplicador_2 no estuviera respetando el valor actual de variable en el "scope". ¿Qué está pasando?
1014,java,Hay alguna manera de eliminar un caracter escrito por consola con System.out o System.err?
Por ejemplo si tengo un proceso que carga durante un rato, simular una animación con los 3 puntos suspensivos .... Algo parecido a esta demo en fiddle.
int puntos = 0;
final String PUNTO = ".";
System.out.print("Conectando, espera");
while (condicionQueSeCumplaAlAcabarElProceso) {
if (puntos < 3) {                       // comprobar cuantos puntos hay
System.out.print(PUNTO);            // poner un punto
puntos ++;                          // indicarlo
try {
Thread.sleep(1000);             // esperar 1 segundo
} catch(InterruptedException ex) {
Thread.currentThread().interrupt();
}
} else {
// aqui hay que borrar los 3 puntos ¿como se hace?
puntos = 0;                         // resetear
}
}
1015,c#,¿Existe alguna diferencia técnica concreta en entre hacer esto…
using OtraLibreria;
namespace Libreria {
class MiClase {
/// mas código aqui
}
}
y esto otro?
namespace Libreria {
using OtraLibreria;
class MiClase {
/// mas código aqui
}
}
1021,javascript,Quisiera saber si es posible realizar un binding entre dos objetos (viewmodel), el primero es creado como parte de la función y el  otro se crea a partir del Get, y la propiedad que quisiera sincronizar entre los dos viewModels es visibleTabs  con ultimoNivel con KnockoutJS.
Mi código actual es el siguiente:
var vm = function() {
var self = this;
this.visibleTabs = ko.observable(false);
this.select = function(e) {
var idEquipo = treeview().dataItem(e.node).id;
var equipo = Get("equipo/getbyid/" + idEquipo).responseText;
self.equipo(ko.mapping.fromJS(JSON.parse(equipo)));
self.visibleTabs(self.equipo().ultimoNivel());
}
this.visibleTabsChange = ko.computed(function () {
if (self.equipo()) {
self.equipo().ultimoNivel(self.visibleTabs());
}
});}
1026,python,Como puedo poner {% csrf_token %} a los formularios que genero en el admin de Django, tengo este problema sobre estos formularios y no se como editarlos por que he consultado y la solución es poner {% csrf_token %} en los formularios.
1030,python,Estoy aprendiendo a utilizar Django (específicamente la versión 1.9). Sin embargo, al momento de crear una vista, y al iniciar el servidor de Django, tengo el siguiente error:
TypeError: render() takes at least 2 arguments (1 given)
Lo que no entiendo es, ¿qué otros parámetros debe tener el método render(), aparte de la dirección de la vista (considerando que es estática)?
Este error fue corregido con la adición de parámetros faltantes. Sin embargo, ahora se me presenta el siguiente error, el cual no sé por qué se presenta:
AttributeError: 'str' object has no attribute 'regex'
En mi archivo views.py de mi aplicación, tengo lo siguiente (CORREGIDO):
from django.shortcuts import render
from django.template import Template
def index(request):
template_name = '/app/web/index.html'
return render(request, template_name)
En cuanto a mi archivo de URLs, éste tiene lo siguiente:
from django.conf.urls import include, url
from django.contrib import admin
import app.views
urlpatterns = ['',
# Vista para pagina de inicio
url(r'^$', app.views.index),
# Otras vistas
url(r'^admin/', include(admin.site.urls)),
]`
Y en el archivo de configuración, edité en parte la sección de templates, agregando la carpeta en donde está mi página en cuestión:
# Application definition
INSTALLED_APPS = (
'django.contrib.admin',
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'django.contrib.staticfiles',
'app'
)
MIDDLEWARE_CLASSES = (
'django.contrib.sessions.middleware.SessionMiddleware',
'django.middleware.common.CommonMiddleware',
'django.middleware.csrf.CsrfViewMiddleware',
'django.contrib.auth.middleware.AuthenticationMiddleware',
'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
'django.contrib.messages.middleware.MessageMiddleware',
'django.middleware.clickjacking.XFrameOptionsMiddleware',
'django.middleware.security.SecurityMiddleware',
)
ROOT_URLCONF = 'vehiculos.urls'
TEMPLATES = [
{
'BACKEND': 'django.template.backends.django.DjangoTemplates',
'DIRS': [
'/app/web',
],
'APP_DIRS': True,
'OPTIONS': {
'context_processors': [
'django.template.context_processors.debug',
'django.template.context_processors.request',
'django.contrib.auth.context_processors.auth',
'django.contrib.messages.context_processors.messages',
],
},
},
]
WSGI_APPLICATION = 'vehiculos.wsgi.application'
# Database
# https://docs.djangoproject.com/en/1.8/ref/settings/#databases
DATABASES = {
'default': {
'ENGINE': 'django.db.backends.mysql',
'NAME': 'vehiculos',
'USER': 'root',
'PASSWORD': '',
# 'HOST': 'localhost'
# 'PORT': '3306',
}
}
# Internationalization
# https://docs.djangoproject.com/en/1.8/topics/i18n/
LANGUAGE_CODE = 'es-CL'
TIME_ZONE = 'America/Argentina/Mendoza'
USE_I18N = True
USE_L10N = True
USE_TZ = True
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/1.8/howto/static-files/
STATIC_URL = '/static/'
Muchas gracias de antemano
1054,ios,Estoy intentando abrir una conversación de Whatsapp desde mi app. Tengo importados mis contactos en core data, he mirado la info que da Whatsapp en su web y hace falta añadir el ABid del contacto en el URL scheme.
He estado mirando la documentación de Contacts en la pagina de Apple Developer y CNContact tiene una constante llamada CNContactIdentifierKey pero me devuelve una cadena como esta : 86BA6C28-74E5-4A32-A270-5D18C2DFCD3B.
Cualquier tipo de ayuda es bienvenida y agradecida.
1056,php,Tengo una clase en PHP con un método que contiene 260 líneas de código. Quiero saber si tener tal cantidad de líneas de código hace que mi aplicación no sea óptima.
1072,python,Estoy trabajando en una aplicación en la cual tengo tres diferentes tipos de usuarios o roles (Paciente, Médico y Fisioterapeuta)
Las inquietudes que enunciaré en esta pregunta se derivan de este inicial post que hice y de la ilustrativa respuesta que obtuve por parte de @cesar-bustios
Recapitularé un poco la respuesta que obtuve del post anterior que referencio con objetivos de brindar acá en mi pregunta el ejemplo completo y poder tener mas elementos de análisis.
1. Se ha creado un modelo de usuarios personalizado
Después de crear el proyecto de Django, cree la aplicación llamada userprofile
# settings.py
# Application definition
INSTALLED_APPS = [
'django.contrib.admin',
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'django.contrib.staticfiles',
'crispy_forms',
'userprofile',
]
# Seleccionamos que userprofile establezca el manejo de nuestros usuarios
AUTH_USER_MODEL = 'userprofile.User'
2. Creamos nuestro esquema de usuarios (roles Patient, Medical, y Physiotherapist)
# userprofile/models.py
from django.contrib.auth.models import AbstractUser
from django.db import models
# Create your models here.
# Creamos la clase User que hereda de AbstractUser para adicionar
# tres atributos booleanos `is_medical`, `is_physiotherapist`, e `is_patient`
class User(AbstractUser):
is_medical = models.BooleanField(default=False)
is_physiotherapist = models.BooleanField(default=False)
is_patient=models.BooleanField(default=False)
# Obtenemos los perfiles de cada usuario acorde a su tipo
def get_medical_profile(self):
medical_profile = None
if hasattr(self, 'medicalprofile'):
medical_profile=self.medicalprofile
return medical_profile
def get_patient_profile(self):
patient_profile = None
if hasattr(self, 'patientprofile'):
patient_profile = self.patientprofile
return patient_profile
def get_physiotherapist_profile(self):
physiotherapist_profile = None
if hasattr(self, 'physiotherapistprofile'):
physiotherapist_profile = self.physiotherapistprofile
return physiotherapist_profile
class Meta:
db_table = 'auth_user'
# Le decimos que estos campos vayan a la tabla auth_user
# de igual nombre que la de django.contrib.auth
# Creamos un modelo Profile por cada rol o tipo de usuario
# `Medical`, `Physiotherapist`, y `Patient` en donde en cada uno
# almacenaremos datos propios de cada rol de usuario
class MedicalProfile(models.Model):
user=models.OneToOneField(User, on_delete=models.CASCADE)
active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
class PatientProfile(models.Model):
user=models.OneToOneField(User, on_delete=models.CASCADE)
active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
class PhysiotherapistProfile(models.Model):
user=models.OneToOneField(User, on_delete=models.CASCADE)
active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
He visto que al heredar de la clase AbstractUser para crear un modelo de usuario personalizado haciendo uso de AUTH_USER_MODEL, cuando efectuamos la primera migración, veo que no tenemos en el admin el modulo de User dado que lo hemos personalizado usando AbstractUser, y entonces es necesario registrarlo de forma manual en mi archivo admin.py con los atributos que maneja User en Django.
Al final del día, esto no es problema, se registra:
3. Registrando la clases/modelos User, PatientProfile, MedicalProfile y PhysiotherapistProfile en el admin de Django
Detallar que en el caso de la clase UserAdmin, estamos heredando de admin.ModelAdmin
#userprofile/admin.py
from django.contrib import admin
from .models import User, PhysiotherapistProfile, PatientProfile, MedicalProfile
from django.contrib.auth.admin import UserAdmin
# Registramos el modelo User con los atributos por defecto que
# Django provee, además de los atributos booleanos
# 'is_medical','is_patient','is_physiotherapist'
@admin.register(User)
class UserAdmin(admin.ModelAdmin):
list_display =   ('id','username','password','first_name','last_name',
'email','is_staff','is_active','is_superuser',
'is_medical','is_patient','is_physiotherapist',
'last_login','date_joined')
# Registramos los modelos para cada tipo de usuario
@admin.register(PatientProfile)
class PatientAdmin(admin.ModelAdmin):
list_display = ('id','name','active','user_id',)
@admin.register(MedicalProfile)
class MedicalAdmin(admin.ModelAdmin):
list_display = ('id','name','active','user_id',)
@admin.register(PhysiotherapistProfile)
class PhysiotherapistAdmin(admin.ModelAdmin):
list_display = ('id','name','active','user_id',)
Entonces al efectuar la migracion y cuando vamos al admin via web, detallamos que ya tenemos registrados los modelos Users, PatientProfile,MedicalProfile, y PhysiotherapistProfile
Si entro a User, y edito un usuario puedo detallar que tengo adicionados los tres atributos booleanos is_medical, is_patient, is_physiotherapist
De la misma manera cuando quiero crear un usuario en el administrador, tengo disponibles estos mismos tres atributos:
Pero una de las cosas que detallo es que cuando estoy creando el usuario, el campo de texto Password no cifra el contenido que uno escribe:
Y al almacenarlo así, pues por ende, también se visualiza en texto plano cuando miramos el listado de usuarios:
4. Haciendo que el campo Password aparezca cifrado
El admin de django y django en general utilizan PBKDF2 por defecto como mecanismo o función de cifrado
En este post dicen que cuando registramos un modelo que herede de AbstractUser, en la clase que creamos para su registro en el archivo admin.py se debe es heredar de la clase UserAdmin y no de la admin.ModelAdmin que usamos para registrar los modelos en el administrador de Django. Al hacer esto, UserAdmin hace que mi campo password salga cifrado tanto para ser ingresado como cuando lo visualizo.
Hacemos que nuestro modelo User personalizado herede de UserAdmin en lugar de admin.ModelAdmin
#userprofile/admin.py
# Hacemos que nuestro modelo User personalizado
# herede de UserAdmin en lugar de admin.ModelAdmin
@admin.register(User)
class UserAdmin(UserAdmin):
list_display = ('id','username','password','first_name','last_name','email','is_staff','is_active','is_superuser','is_medical','is_patient','is_physiotherapist','last_login','date_joined')
Después de hacer este cambio, si quiero crear un usuario el campo para ingresar el password sale protegido:
Asi como tambien si quiero visualizarlo después de que he guardado dicho usuario creado anteriormente:
El que heredemos de UserAdmin y no de admin.ModelAdmin, resuelve el problema para que los passwords salgan encriptados o "haseados" en el administrador de Django, pero entonces, ya heredando de UserAdmin, si voy a crear un nuevo usuario en User, no aparecen los campos o atributos que agregamos con anterioridad de is_patient, is_physiotherapist y de is_medical
Ya no aparecen estos atributos, en la creación del usuario, los cuales finalmente fueron la razón de crear un modelo personalizado y heredar de AbstractUser
Es lógico, no aparecen, porque ya estoy heredando de UserAdmin y asumo que al hacer esto, el sobreescribirá los campos que colocará en el administrador, los cuales asumo que son todos los de por defecto de Django menos los tres atributos booleanos de is_patient, is_physiotherapist y de is_medical que yo he agregado antes.
Tengo esa inquietud.
¿Qué mecanismo habría para que con nuestro modelo personalizado quede el password hasheado en el admin?
o
Que cuando heredemos de UserAdmin,¿cómo podemos tambien ver reflejados los campos adicionados en el admin como is_patient, is_physiotherapist y de is_medical?
A veces me pregunto si son tan necesarios estos tres campos booleanos is_patient, is_physiotherapist y de is_medical o con el solo hecho de tener User relacionado con PatientProfile, con MedicalProfile y con PhysiotherapistProfile, sería suficiente para tener estos tres roles de usuario y que cada uno tenga sus propios privilegios, como lo tengo en este acercamiento
Claro esto es algo que yo debo probar.
Cualquier ayuda, consideración o aporte será altamente apreciado.
Muchas gracias.
1073,ios,Tengo una aplicación muy simple. Que dibuja líneas cuando tocas la pantalla con dos dedos, cuando levantan los dedos quiero borrar el dibujo, y cuando dibujen de nuevo muestre nuevas líneas.
Sin embargo, cuando borro las líneas la primera vez, la siguiente pulsación causa un error con ningún mensaje de error. Me imagino que estoy haciendo algo pequeño mal, pero no puedo entenderlo. Aquí está mi código:
var prevX: CGFloat!
var prevY: CGFloat!
var startX: CGFloat = 150
var startY : CGFloat = 450
var reset: Bool = true
override func viewDidLoad() {
super.viewDidLoad()
var pan = UIPanGestureRecognizer(target: self, action: "pan:")
pan.cancelsTouchesInView = false
pan.delegate = self
self.view.addGestureRecognizer(pan)
}
func pan(recognizer:UIPanGestureRecognizer) {
print(self.view.layer)
var state = recognizer.state
if (state == UIGestureRecognizerState.Ended) {
reset = true
var sublayers = self.view.layer.sublayers
for layer in sublayers {
layer.removeFromSuperlayer()
}
} else {
var interval = recognizer.translationInView(self.view)
if (reset) {
reset = false
prevX = CGFloat(startX + interval.x)
prevY = CGFloat(startY + interval.y)
}
var newPointX = startX + interval.x
var newPointY = startY + interval.y
var path = UIBezierPath().bezierPathByReversingPath()
path.moveToPoint(CGPoint(x: prevX, y: prevY))
path.addLineToPoint(CGPoint(x:newPointX, y:newPointY))
var shapeLayer = CAShapeLayer()
shapeLayer.path = path.CGPath
shapeLayer.strokeColor = UIColor.blueColor().CGColor
shapeLayer.lineWidth = 1.0
shapeLayer.fillColor = UIColor.clearColor().CGColor
self.view.layer.addSublayer(shapeLayer)
prevX = newPointX
prevY = newPointY
}
}
Un poco mas información sobre el error
Thread 1: EXC_BAD_ACCESS code=1, address=0x499e....
___UIApplicationExtensionGetAccurateShareServicesExtensionForIdentifier_block_invoke_2
0x18c00e3c0:  adrp   x8, 54568
0x18c00e3c4:  ldr    x8, [x8, #2248]
0x18c00e3c8:  ldr    x8, [x8]
0x18c00e3cc:  ldr    x9, [sp, #56]
0x18c00e3d0:  sub    x8, x8, x9
0x18c00e3d4:  cbnz   x8, 0x18c00e3fc           ; UIApplicationMain + 1548
0x18c00e3d8:  movz   w0, #0
Yo creo que es esta linea lo que esta causando el error.
for layer in sublayers {
layer.removeFromSuperlayer()
}
porque si la remuevo el programa funciona sin ningun problema ( pero no borra la las lineas )
1076,javascript|jquery,Tengo un formulario donde divido los campos en diferentes tabs, y lo estoy validando con jquery.validate pero al momento de la validación al parecer sólo está tomando los input que se encuentran visibles, es decir los que se muestran en el tab activo.
Mi formulario luce de la siguiente forma:
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" />
<script src="http://cdn.jsdelivr.net/jquery.validation/1.14.0/jquery.validate.min.js"></script>
<form class="form-horizontal" submit.delegate="save()">
<!-- Nav tabs -->
<ul class="nav nav-tabs" role="tablist">
<li role="presentation" class="active">
<a href="#personal" aria-controls="personal" role="tab" data-toggle="tab">Personal</a>
</li>
<li role="presentation">
<a href="#ubicacion" aria-controls="ubicacion" role="tab" data-toggle="tab">Ubicación</a>
</li>
<li role="presentation">
<a href="#contacto" aria-controls="contacto" role="tab" data-toggle="tab">Contacto</a>
</li>
</ul>
<!-- Tab panes -->
<div class="tab-content">
<div role="tabpanel" class="tab-pane active" id="personal">
<div class="form-group">
<label for="PrimerNombre" class="control-label col-xs-3">Primer Nombre</label>
<div class="col-xs-9">
<input required type="text" class="form-control" value.bind="currentItem.PrimerNombre" name="PrimerNombre">
</div>
</div>
<!--- ...  -->
</div>
<div role="tabpanel" class="tab-pane" id="ubicacion">
<div class="form-group">
<label for="Direccion" class="control-label col-xs-3">Dirección</label>
<div class="col-xs-9">
<input maxlength="200" type="text" class="form-control" value.bind="currentItem.Direccion" name="Direccion">
</div>
</div>
<!--- ...  -->
</div>
<div role="tabpanel" class="tab-pane" id="contacto">
<div class="form-group">
<label for="Celular" class="control-label col-xs-3">Celular</label>
<div class="col-xs-9">
<input required maxlength="10" type="text" class="form-control" value.bind="currentItem.Celular" name="Celular">
</div>
</div>
<!--- ...  -->
</div>
</div>
</form>
La validación se dispara a la hora de enviar los datos del formulario así:
save() {
if ($("form").validate().form()) {
//Código Guardado
}
}
Nota
Estoy usando aurelia.io para bindar los campos y el modelo que está en TypeScript pero no creo que esto afecte en algo la funcionalidad del plugin de validación.
1087,python,He estado buscando en la red ¿cuál es la mejor forma de importar módulos en Python? y me he encontrado estas tres:
Modificando PYTHONPATH.
Agregando el directorio con sys.append("/ruta_directorio").
Con un archivo .pth.
Mi estructura es la siguiente:
project
├── carpeta1
│   ├── __init__.py
│   ├── archivo.py
│   ├── archivo2.py
│   └── subcarpeta1
│       ├── __init__.py
│       └── archivo3.py
└── main.py
La cuestión es que necesito importar algo de archivo.py en archivo3.py. Tanto carpeta1 como carpeta2 tienen el archivo __init__.py.
¿Alguien podría indicarme cuál es el procedimiento para ello?.
Actualización (detalles)
Tanto carpeta1 como carpeta2 tienen el archivo init.py.
1091,ios,Estoy tratando de compilar mi proyecto de Xcode en mi iPad, pero estoy recibiendo un error que dice que mi iPad no puede ser reconocido, el dispositivo esta actualizado a la última versión de IOS 9.2.
Al principio me dio un error diciendo Xcode no se puede ejecutar el dispositivo seleccionado, luego quité mi dispositivo y lo conecté de nuevo porque no estaba seguro de qué hacer.
También intenté probar mi proyecto usando en un iPhone y el error que me dieron era diferente. El error, dijo: No code signing identities found, no estoy preocupado por el error de que me dio el iPhone porque mi aplicación fue basada para el iPad.
Limpié el proyecto y reinicie Xcode para ver si eso lo arreglaría, pero nada.
1097,ios,Cómo pueden ver el contenido en mi aplicación se traslapa a la barra de contenido. Yo no quiero que mi aplicación sea así. ¿Cómo puedo quitar la barra de contenidos y hacer mi aplicación; pantalla completa?.
1112,ios,Estoy intentando mostrar en una UITableViewController mis elementos guardados en Core Data en un orden específico dado por uno de sus atributos. Hay un atributo que puede ser 1 o 0 y mi intención es mostrar primero aquellos cuyo valor es 1.
NSFetchRequest *req = [NSFetchRequest fetchRequestWithEntityName:@"MyContacts"];
req.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@"value" ascending:YES]];
NSFetchedResultsController *results = [[NSFetchedResultsController alloc]initWithFetchRequest:req managedObjectContext:self.Model.context sectionNameKeyPath:nil cacheName:nil];
ContactsViewController *cVC = [[ContactsViewController alloc]initWithFetchedResultsController:results style:UITableViewStylePlain]`;
Este es mi código, pero no ordena la lista.
Cualquier ayuda sería estupenda.
1117,java,Estoy pasando una app de Java6 a java-8, hay casos en el que tenemos que contar las ocurrencias de un String en una lista. Para ello usamos:
Collections.frequency(lista, stringALocalizar);
Creo que esta parte no deberia tocarse. Si, en cambio, tenemos que contar todos los String y sus ocurrencias a traves de toda la lista tenemos que iterar sobre la lista y usar un HashMap<String, Integer> para almacenar los resultados y no realizar las iteraciones extra que causaría Collections.frequency. Algo parecido a esto:
for (String stringALocalizar : lista) {
if (mapaDeResultados.containsKey(stringALocalizar)) {
mapaDeResultados.put(stringALocalizar, mapaDeResultados.get(stringALocalizar)+1);
} else {
mapaDeResultados.put(stringALocalizar, 1);
}
}
¿Cómo puedo conseguir el mismo resultado con los streams de java-8?
1132,java,¿Por qué si uso BigDecimal en este caso, no obtengo el resultado esperado?
double value1 = 5.68;
double value2 = 2.45;
System.out.println(BigDecimal.valueOf(value1 + value2));
SALIDA:
8.129999999999999
ESPERADO:
8.13
1138,java,Estoy desarrollando una aplicación en java que me permita leer archivos .xls y .xlsx. Logré implementar la lectura de la extensión .xls con la librería Apache POI 3.13 mediante HSSFWorkbook y sé que necesito XSSFWorkbook para leer .xlsx.
Mi pregunta es si puedo hacer que la aplicación lea ambas extensiones y cómo.
Anexo parte del código con el cuál leo un archivo en .xls
HSSFWorkbook      workBook = new HSSFWorkbook (fileSystem);
HSSFSheet         sheet    = workBook.getSheetAt (0);
int totalRows = sheet.getPhysicalNumberOfRows();
System.out.println("Filas totales: "+totalRows);
if (totalRows <= 4){
JOptionPane.showMessageDialog(null,
"El archivo debe contener al menos 1 artículo.", //Mensaje
"Mensaje de Advertencia", //Título
JOptionPane.WARNING_MESSAGE);
}
Iterator<?> rows     = sheet.rowIterator ();
ArrayList<ArrayList<String>> data = new ArrayList<ArrayList<String>>();
while (rows.hasNext ())
{
HSSFRow row = (HSSFRow) rows.next();
int rowNumber = row.getRowNum ();
// muestra el número de fila
System.out.println ("No. Fila: " + rowNumber);
// get a row, iterate through cells.
Iterator<?> cells = row.cellIterator ();
ArrayList<String> rowData = new ArrayList<String>();
while (cells.hasNext ())
{
HSSFCell cell = (HSSFCell) cells.next ();
switch (cell.getCellType ())
{
case HSSFCell.CELL_TYPE_NUMERIC :
{
// NUMERIC CELL TYPE
System.out.println ("Numerico: " + cell.getNumericCellValue ());
rowData.add(cell.getNumericCellValue () + "");
break;
}
case HSSFCell.CELL_TYPE_BLANK :
{
// NUMERIC CELL TYPE
System.out.println ("Campo en Blanco" + cell.getErrorCellValue ());
rowData.add(cell.getErrorCellValue () + "");
break;
}
case HSSFCell.CELL_TYPE_STRING :
{
// STRING CELL TYPE
HSSFRichTextString richTextString = cell.getRichStringCellValue ();
System.out.println ("String: " + richTextString.getString ());
rowData.add(richTextString.getString ());
break;
}
default:
{
// types other than String and Numeric.
System.out.println ("Tipo de dato no soportado.");
break;
}
} // end switch
} // end while
data.add(rowData);
1139,python,Básicamente, lo que necesito es formatear un datetime para obtener el día del año y mostrarlo en una etiqueta. Es decir, si tengo por ejemplo una datetime cualquiera:
>>> import datetime
>>> datetime.datetime.now()
datetime.datetime(2015, 12, 16, 11, 8, 2, 620935)
Quiero convertirlo al siguiente formato AÑO+DIA_DEL_AÑO:
10229
El ejemplo anterior significa que el producto fue producido el año 2010 en el 229avo día del año.
¿Existe alguna función, método o librería que me ayude a obtenerla?
1159,c#,Quisiera saber como puedo manejar la transparencia de un label en Windows Forms en C#, quisera hacer un efecto de desvanecimiento a un label.
1173,javascript|html,Tengo un View con backbone que muestra un listado de items y tengo otro View que utilizo para editar cada item.
El problema consiste en que cada View se encuentra en un HTML diferente y cuando trato de editar no puedo pasar los valores desde el View de listado hacia el View de edición porque se hace postback y los valores se pierden.
¿Alguien conoce alguna forma de pasar los valores de un View a otro (entre páginas) sin tener que hacer un SPA?
1179,ios,Estoy trabajando en una app que reproducirá archivos de sonido. El caso, es que si reproduzco algo desde la app de música de apple, me permite mover el slider y desplazarme entre la pista que esta reproduciéndose.
En otras apps como Spotify o Overcast, no se puede.
Hasta ahora, he logrado que se actualice este slider con el tiempo que lleva reproducida la pista, así como el tiempo tiempo total, pero no veo como puedo hacer el slider editable y que el usuario lo pueda mover. ¿Alguna pista?.
Por cierto, para los botones estoy utilizando este código:
MPRemoteCommandCenter *commandCenter = [MPRemoteCommandCenter sharedCommandCenter];
NSArray *commands = @[commandCenter.playCommand, commandCenter.pauseCommand, commandCenter.nextTrackCommand, commandCenter.previousTrackCommand, commandCenter.bookmarkCommand, commandCenter.changePlaybackPositionCommand, commandCenter.changePlaybackRateCommand, commandCenter.dislikeCommand, commandCenter.enableLanguageOptionCommand, commandCenter.likeCommand, commandCenter.ratingCommand, commandCenter.seekBackwardCommand, commandCenter.seekForwardCommand, commandCenter.skipBackwardCommand, commandCenter.skipForwardCommand, commandCenter.stopCommand, commandCenter.togglePlayPauseCommand];
for (MPRemoteCommand *command in commands) {
[command removeTarget:nil];
[command setEnabled:NO];
}
[commandCenter.playCommand addTarget:self action:@selector(playTrack)];
[commandCenter.pauseCommand addTarget:self action:@selector(pauseTrack)];
[commandCenter.playCommand setEnabled:YES];
[commandCenter.pauseCommand setEnabled:YES];
1200,c#,Tengo una aplicación con una capa llamada conexión para conectarme a una base de datos.
Cuando realizó el instalador genera el DLL para la conexión donde se puede ver el usuario y contraseña de mi Base de Datos.
Quisiera encriptar el contenido del DLL para que no puedan ver el usuario y contraseña, pero que mi aplicación siga funcionando normal.
1204,c#,Se me presentó un problema al intentar comunicarme a un servicio de almacenamiento Azure Storage, la comunicación la realizo desde un sitio web de Windows Azure a un contenedor Storage. Cuando se realiza la comunicación desde un sitio web local funciona perfectamente. He intentado actualizar las librerias de windows Storage Client, pero no se que podría ser.
1207,ios,En el código de abajo inicie las imágenes en un array con una lista de nombres. Quiero que el orden de las imágenes sean alineada con el orden de el array de nombres. Esto es lo que intenté y conseguí un error que dice:
Thread 1: EXC_BAD_INSTRUCTION ( code=EXC_I386_INVOP, subcode = 0x0)
La consola dice: fatal error: Array index out of range (lldb)
Code
class NonameTableViewController: UITableViewController {
var Names = [" Ferro", "Korean", "HUH?","CatCafe", "UINITY", "FAKESTORE" ,"IRANOUTOFNAMES", "OKAY", "KEEP CODING"]
var Images = ["cafedeadend.jpg", "homei.jpg", "teakha.jpg", "cafelois1.jpg"," petiteoyster.jpg", "forkeerestaurant.jpg"]
override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
let cellIndentifier = "Cell"
let cell = tableView.dequeueReusableCellWithIdentifier(cellIndentifier, forIndexPath: indexPath)
//configure cell
cell.textLabel?.text = Names[indexPath.row]
cell.imageView?.image = UIImage(named: Images[indexPath.row])
return cell
}
override func numberOfSectionsInTableView(tableView: UITableView) -> Int {
// #warning Incomplete implementation, return the number of sections
return 1
}
override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
// #warning Incomplete implementation, return the number of rows
return Names.count
}
1214,java,Tengo un proyecto de java internacionalizado y versionado, pero parece que al abrirlo los caracteres con acentos del resource bundle ( el archivo .properties ) del idioma español se ve de manera incorrecta.
Ya intenté cambiarle la codificación, pero parece no ser la mejor solución.
¿De qué forma puedo lograr una internacionalización consistente con mis colaboradores que tienen otra codificación diferente a la mía?
1217,java|android,Esto es lo que he probado, sin obtener los resultados esperados:
private final View.OnItemClickListener itemClickListener = new AdapterView.OnItemClickListener() {
@Override
public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
Intent intent = null;
switch (position) {
case 0: //search//todo
intent = new Intent(context, Fragment_Tabs.class);
context.startActivity(intent);
break;
}
Y aquí es donde me quedo bloqueado totalmente con el (View v):
import android.content.Context;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.TextView;
import android.widget.Toast;
import com.example.javier.MaterialDesignApp.R;
import com.example.javier.MaterialDesignApp.RecyclerView.RecyclerViewClasses.Calendario;
import com.squareup.picasso.Picasso;
import java.util.ArrayList;
public class Adapter_Calendario extends RecyclerView.Adapter<Adapter_Calendario.ViewHolder>{
private ArrayList<Calendario> calendario;
Context context;
private final View.OnClickListener onClickListener = new View.OnClickListener() {
@Override
public void onClick(View v) {
Toast.makeText(context,"Clicked",Toast.LENGTH_SHORT).show();
}
};
// Adapter's Constructor
public Adapter_Calendario(Context context, ArrayList<Calendario> calendario) {
this.calendario = calendario;
this.context = context;
}
// Create new views. This is invoked by the layout manager.
@Override
public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
// Create a new view by inflating the row item xml.
View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_post, parent, false);
v.setOnClickListener(onClickListener);
return new ViewHolder(v);
}
// Replace the contents of a view (invoked by the layout manager)
@Override
public void onBindViewHolder(final ViewHolder holder, final int position) {
// Set strings to the views
final TextView textViewJornada = (TextView) holder.view.findViewById(R.id.tv_jornada);
final TextView textViewFecha = (TextView) holder.view.findViewById(R.id.tv_fecha);
final TextView textViewHora = (TextView) holder.view.findViewById(R.id.tv_hora);
final TextView textViewEquipo_local = (TextView) holder.view.findViewById(R.id.tv_equipo_local);
final TextView textViewResultado_local = (TextView) holder.view.findViewById(R.id.tv_resultado_local);
final TextView textViewResultado_visitante = (TextView) holder.view.findViewById(R.id.tv_resultado_visitante);
final TextView textViewEquipo_visitante = (TextView) holder.view.findViewById(R.id.tv_equipo_visitante);
final ImageView imageViewEscudo_local = (ImageView) holder.view.findViewById(R.id.tv_escudo_local);
final ImageView imageViewEscudo_visitante = (ImageView) holder.view.findViewById(R.id.tv_escudo_visitante);
textViewJornada.setText("Jornada: "+calendario.get(position).getJornada());
textViewFecha.setText("  El  "+calendario.get(position).getFecha()+"     ");
textViewHora.setText("A las  "+calendario.get(position).getHora()+"  ");
textViewEquipo_local.setText(calendario.get(position).getEquipo_local());
textViewResultado_local.setText("   "+calendario.get(position).getResultado_local()+"   -   ");
textViewResultado_visitante.setText(calendario.get(position).getResultado_visitante()+"   ");
textViewEquipo_visitante.setText(calendario.get(position).getEquipo_visitante());
Picasso.with(context).load(calendario.get(position).getEscudo_local())
.placeholder(holder.view.getResources()
//.getDrawable(R.drawable.ic_contact_icon)).transform(new CircleTransform()).into(imageViewImage);
.getDrawable(R.drawable.ic_contact_icon)).into(imageViewEscudo_local);
Picasso.with(context).load(calendario.get(position).getEscudo_visitante())
.placeholder(holder.view.getResources()
//.getDrawable(R.drawable.ic_contact_icon)).transform(new CircleTransform()).into(imageViewImage);
.getDrawable(R.drawable.ic_contact_icon)).into(imageViewEscudo_visitante);
}
// Return the size of your dataset (invoked by the layout manager)
@Override
public int getItemCount() {
return calendario.size();
}
// Provide a reference to the views for each data item
// Complex data items may need more than one view per item, and
// you provide access to all the views for a data item in a view holder
public static class ViewHolder extends RecyclerView.ViewHolder {
// each data item is just a string in this case
public View view;
public ViewHolder(View v) {
super(v);
view = v;
}
}
}
1218,python,Tengo un método en Python 2.7 que me devuelve como respuesta una lista tal cual:
[{u'usuario': u''}]
Y necesito obtener sólo el valor y guardarlo en una variable unicode. En este caso sería una cadena vacía, pero podría ser [{u'usuario': u'Pepe'}]
¿Cómo se haría esto de forma sencilla?.
1221,java,Swagger lanza el error TypeError: property is undefined por la consola Javascript cuando intenta renderizar el fichero "swagger.json" generado por el módulo swagger-core que he integrado en la API que estoy desarrollando con Jersey (Java).
Al parecer dicho error tiene que ver con el siguiente método:
public ArrayList<ProductoStock> generarEntradaStock(EntradaRecurso entrada)
Si modifico la cabecera de dicho método de forma que, por ejemplo, retorne un ArrayList<Integer>, swagger-ui genera correctamente la documentación.
Para el desarrollo de esta aplicación estoy utilizando swagger-core 1.5, en concreto la librería io.swagger:swagger-jersey-jaxrs:1.5.0 para Jersey (Java), el cual genera correctamente el fichero "swagger.json", y la última versión de swagger-ui (2.1.3).
1222,java,Estoy tratando de generar números aleatorios en Java dentro de un rango determinado con el siguiente código:
int randomNum = rand.nextInt((max - min) + 1) + min;
Pero esto sólo me genera números en el conjunto de los números enteros. ¿Cómo puedo obtener números que también sean decimales?
1227,java,Estoy desarrollando una aplicación de escritorio y deseo hacerlo mediante Sqlite e Hibernate.
¿Sabe alguien si es posible integrar Hibernate con Sqlite3?
1229,java|android,Estoy intentando obtener las dimensiones de la pantalla de un dispositivo Android, estoy intentando con este código:
Display display = getWindowManager().getDefaultDisplay();
int width = display.getWidth();  // obsoleto (deprecated)
int height = display.getHeight();  // obsoleto (deprecated)
El cual se encuentra obsoleto (deprecado), ¿Cual sería la actual forma correcta de obtener las dimensiones de la pantalla del dispositivo?
1232,python,Tengo este pequeño incoveniente:
Los iconos que deberían aparecer en la parte de calendario y reloj no se están mostrando. He estado buscando la solución y encontré soluciones que al parecer ya estan deprecadas, por ejemplo que añadiera en settings:
ADMIN_MEDIA_PREFIX = '/static/admin/'
Sin embargo esto no me funciona.
Mi archivo settings.py:
import os
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
DEBUG = True
ALLOWED_HOSTS = []
# Application definition
INSTALLED_APPS = (
'django.contrib.admin',
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'django.contrib.staticfiles',
'invoiceapp',
)
MIDDLEWARE_CLASSES = (
'django.contrib.sessions.middleware.SessionMiddleware',
'django.middleware.common.CommonMiddleware',
'django.middleware.csrf.CsrfViewMiddleware',
'django.contrib.auth.middleware.AuthenticationMiddleware',
'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
'django.contrib.messages.middleware.MessageMiddleware',
'django.middleware.clickjacking.XFrameOptionsMiddleware',
'django.middleware.security.SecurityMiddleware',
)
ROOT_URLCONF = 'invoice.urls'
TEMPLATES = [
{
'BACKEND': 'django.template.backends.django.DjangoTemplates',
'DIRS': [],
'APP_DIRS': True,
'OPTIONS': {
'context_processors': [
'django.template.context_processors.debug',
'django.template.context_processors.request',
'django.contrib.auth.context_processors.auth',
'django.contrib.messages.context_processors.messages',
],
},
},
]
WSGI_APPLICATION = 'invoice.wsgi.application'
# Database
DATABASES = {
'default': {
'ENGINE': 'django.db.backends.sqlite3',
'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
}
}
# Internationalization
LANGUAGE_CODE = 'en-us'
TIME_ZONE = 'UTC'
USE_I18N = True
USE_L10N = True
USE_TZ = True
# Static files (CSS, JavaScript, Images)
STATIC_URL = '/static/'
STATIC_ROOT = os.path.join(BASE_DIR, 'static')
Supongo que esto debe ser bastante común, ¿alguien sabe como arreglarlo?
1234,java,¿Cuál es la diferencia entre HashMap y Hashtable? Según lo que se de estructuras de datos vendría a ser lo mismo conceptualmente, pero en Java ¿cual sería la diferencia?
¿Cuál es más recomendado para ser usado en aplicaciones que utilicen Threads?
1239,javascript,Pregunta
¿Cómo reducir las imágenes recibidas en el cuerpo de un mensaje de Gmail usando un bookmarklet?
Contexto
La interfaz web de Gmail no reduce automáticamente las imágenes embebidas en el cuerpo del mensaje cuando su tamaño supera el ancho del marco (frame) de lectura del mensaje. Esto dificulta la lectura, pues el texto se extiende a lo ancho de la imagen y provoca que haya que usar la barra de desplazamiento (scrollbar) horizontal para leer cada línea.
En algunos casos abrir el mensaje en una nueva ventana soluciona el problema, en otros no.
1258,javascript,Estoy trabajando con oclazyload para la carga por la demanda de módulos externos y tengo que traducir el contenido, por lo que estoy usando angular-translate pero la traducción no funciona porque el código que añade la parte está dentro del controlador que se carga de forma asincrónica.
angular
.module('main')
.controller('invoicesCtrl', invoicesCtrl);
function invoicesCtrl($scope, $translatePartialLoader, $translate) {
$translatePartialLoader.addPart('invoices');
$translate.refresh();
...
}
La aplicación principal carga las traducciones aquí:
(function () {
angular.module('main', [
'ui.router',                // Angular flexible routing
'oc.lazyLoad',
'ngResource',
'pascalprecht.translate'    // Angular-translate
]);
angular.module('main').config(function ($translateProvider,     $translatePartialLoaderProvider) {
$translateProvider.useLoader('$translatePartialLoader', {
urlTemplate: './i18n/{part}/{lang}.json'
});
$translateProvider.preferredLanguage('en_US');
$translateProvider.forceAsyncReload(true);
$translatePartialLoaderProvider.addPart('secure');
// Enable escaping of HTML
$translateProvider.useSanitizeValueStrategy('escape');
});
})();
Y para la carga asíncrona de invoicesCtrl y los otros controladores que uso (esta parte está funcionando bien):
function configState($stateProvider, $urlRouterProvider, $compileProvider) {
function resolveUrl(path){
var loadUrl = { // Any property in resolve should return a promise and is executed before the view is loaded
loadModule: ['$ocLazyLoad', function($ocLazyLoad) {
// you can lazy load files for an existing module
return $ocLazyLoad.load(path);
}]
};
return loadUrl;
}
}
Necesito cargar este addPart antes de que el propio controlador.
$translatePartialLoader.addPart('invoices');
$translate.refresh();
Tal vez una aproximación puede ser el uso de un evento, pero soy nuevo en javascript y no sé cómo ponerlo en práctica.
1270,javascript|html,He visto que sitios como Twitter, Facebook, Bitbucket, Github, Gmail, entre otros. Añaden emojis tras escribir cierto conjunto de caracteres o algunos los añaden tras publicar el contenido . Algo como:
:D - ->
Imagino que existe un escucha, programado con expresiones regulares en JavaScript a la espera de contenido que coincida con dicho patrón para luego remplazar por imágenes o unicode (como Font Awesome).
Me gustaría conocer que es lo que pasa para lograr eso. ¿Existe algún patrón de diseño que pueda usar?, ¿requiero tener alguna configuración especial en mi DB (MySQL)?.
Nota: Más que usar un framework (si existe) me gustaría saber como se logra.
1271,c++,Tengo una estructura de carpetas que se ve de la siguiente forma para mi código en C++:
include/
src/
utils/
run/
cmt/
lib/
En estas carpetas se reparte el código de la siguiente forma: los headers están en include, los source están en src, el Makefile y posibles scripts para compilación está en cmt. El código se corre en run, en utils está todo el código que va a generar un ejecutable y las librerías se generan en lib.
Básicamente cualquier par de header source que haya en include y src va a generar un .o que va a ser usado por algún código en utils que generará el ejectuable. El Makefile que llevo usando mucho tiempo es el siguiente:
CXX        = g++
ROOTFLAGS    = cosas
ROOTLIBS      = cosas
NPAFLAGS = otrascosas
NPALIBS = otrascosas
OBJDIR = ../lib
SRCDIR = ../src
INCDIR  = ../include
CODE   = ../utils
BIN    = ../run
CXXFLAGS   = -g -O3 $(ROOTCFLAGS) $(NPAFLAGS) -std=c++11
LIBS       = $(ROOTLIBS) $(NPALIBS) -L$(OBJDIR)
INCLUDES = -I$(ROOTSYS)/include -I$(INCDIR)
# Dependencies
DEPS = $(wildcard $(SRCDIR)/*cxx)
TOBUILD = $(wildcard $(CODE)/*cxx)
# Objects
OBJS = $(addprefix $(OBJDIR)/,$(notdir $(DEPS:.cxx=.o)))
EXEC = $(addprefix $(BIN)/,$(notdir $(TOBUILD:.cxx=)))
################################################################################
# Rules
################################################################################
all: header exec
header:
@echo "******************************************"
@echo " Compiling VLQ_NTuple"
@echo "******************************************"
$(OBJDIR)/%.o: $(SRCDIR)/%.cxx $(INCDIR)/%.h
@echo Compiling $@
$(CXX) $(CXXFLAGS) $(INCLUDES) -c $< -o $@
$(BIN)/%: $(CODE)/%.cxx $(OBJS)
@echo Compiling $@
$(CXX) $(CXXFLAGS) $(INCLUDES) $< -o $@ $(OBJS) \
$(LIBS)
exec: $(EXEC)
clean:
rm -f $(OBJDIR)/*
El problema con este Makefile es que si una de las dependencias cambia todas y la regla exec es ejecutada se compilaran todos los códigos que haya en utils.
¿Se os ocurre una forma alternativa de compilar cualquier fichero en src para una librería y cualquier fichero en utils para un ejecutable usando las librerías compiladas pero que solo se compilen aquellas que cambian?
Fue una solución que encontré cuando no tenía tiempo para casi nada y cualquier solución era buena pero ahora que tengo tiempo me gustaría arreglarlo.
1284,java|android,necesito una pequeña ayuda, el emulador de android studio me esta presentando un particular error, al momento de lanzar un avd nexus_5 con API 21, aparece esto:
y luego el emulador se inicia pero en pantalla negra... que podría ser?
1290,java,Quiero conectar un programa de java con una base de datos de Firebird con extensión ".fire" ¿Cómo podría hacerlo? Ando un poco perdido con las conexiones con bases de datos.
1291,java,Tengo una base de datos en PostgreSql 9.3 la cual contiene tres tablas sin vínculos entre ellas (como llaves foráneas). A esta base de datos se conectan dos aplicaciones en Java 8 que corren una en un cliente y otra en el servidor donde está la BD. La aplicación en el servidor necesita saber si se está modificando sólo una de las tablas de la BD.
Estuve jugando con el código de esta web,
y pude recibir notificaciones en mi aplicación de ejemplo, incluso enviándolas desde la ventana de scripts sql del pgAdmin III simplemente ejecutando "Notify mymessage" (en mi caso, funcionó sin necesidad de hacer "Select 1").
Lo bueno de este método es que bastaría que la aplicación cliente envíe notificaciones cada vez que modifica la tabla que le interesa a la aplicación en el servidor.
Lo malo de este método es que la aplicación en el servidor no sabe qué registro se está modificando, insertando o eliminando.
¿Hay alguna manera de enviar, junto a la notificación, datos como la clave primaria del registro involucrado?
1296,javascript,Estoy tratando de integrar «autenticarme» con el SDK JavaScript de Facebook, funciona en Firefox/Chrome/Safari pero en Internet Explorer se queda en "stand by" ya para darle permisos a la aplicación de que pueda acceder a mi información. ¿Hay algo mal o es alguna configuración del IE?.
index.html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Facebook SDK para Javascript</title>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="main.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="main.css">
</head>
<body>
<h1>Facebook SDK login con Javascript</h1>
<a href="#" id="login" class="btn btn-primary">Iniciar sesión</a>
<script>
// Load the SDK asynchronously
(function(d, s, id){
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) {return;}
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/sdk.js";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
</body>
</html>
main.js
$(function() {
var app_id = 'APP_ID_HERE';
var scopes = 'email';
var btn_login = '<a href="#" id="login" class="btn btn-primary">Iniciar sesión</a>';
var div_session = "<div id='facebook-session'>"+
"<strong></strong>"+
"<span></span>"+
"<img>"+
"<a href='#' id='logout' class='btn btn-danger'>Cerrar sesión</a>"+
"</div>";
window.fbAsyncInit = function() {
FB.init({
appId      : app_id,
status     : true,
cookie     : true,
xfbml      : true,
version    : 'v2.2'
});
FB.getLoginStatus(function(response) {
statusChangeCallback(response, function() {});
});
};
var statusChangeCallback = function(response, callback) {
console.log(response);
if (response.status === 'connected') {
getFacebookData();
} else {
callback(false);
}
}
var checkLoginState = function(callback) {
FB.getLoginStatus(function(response) {
callback(response);
});
}
var getFacebookData =  function() {
FB.api('/me', { locale: 'en_US', fields: 'name, email' }, function(response) {
$('#login').after(div_session);
$('#login').remove();
$('#facebook-session strong').text("Bienvenido: "+response.name);
$('#facebook-session span').text("Email: "+ response.email);
$('#facebook-session img').attr('src','http://graph.facebook.com/'+response.id+'/picture?type=large');
});
}
var facebookLogin = function() {
checkLoginState(function(data) {
if (data.status !== 'connected') {
FB.login(function(response) {
if (response.status === 'connected')
getFacebookData();
}, {scope: scopes});
}
})
}
var facebookLogout = function() {
checkLoginState(function(data) {
if (data.status === 'connected') {
FB.logout(function(response) {
$('#facebook-session').before(btn_login);
$('#facebook-session').remove();
})
}
})
}
$(document).on('click', '#login', function(e) {
e.preventDefault();
facebookLogin();
})
$(document).on('click', '#logout', function(e) {
e.preventDefault();
if (confirm("¿Está seguro?"))
facebookLogout();
else
return false;
})
})
1297,java|android,Estoy desarrollando una aplicación para android y no quiero que a la pantalla se le aplique la rotación de la misma.
¿Cómo hago para desactivar la opción de rotación de pantalla en android para cuando se gire el teléfono este se quede en vertical?
1300,javascript|jquery,Estoy cargando estados para el $stateProvider desde un archivo .json, todo funciona, pero tal vez hay una mejor manera de hacerlo sin la llamada ajax de jQuery:
config.js
var STATES_FILE = '../config/states.json';
var statesObj,
states;
function configState($stateProvider, $urlRouterProvider, $compileProvider) {
function resolveUrl(path){
var loadUrl = { // Any property in resolve should return a promise and is executed before the view is loaded
loadModule: ['$ocLazyLoad', function($ocLazyLoad) {
// you can lazy load files for an existing module
return $ocLazyLoad.load(path);
}]
};
return loadUrl;
}
// Optimize load start with remove binding information inside the DOM element
$compileProvider.debugInfoEnabled(true);
// Set default state
$urlRouterProvider.otherwise("/dashboard");
// Get states from configuration file
states = $.ajax({
type: 'GET',
url: STATES_FILE,
async: false
})
.responseText;
statesObj = eval("(" + states + ")")
// Load states from states configuration
for(var prop in statesObj){
$stateProvider.state(prop, statesObj[prop]);
}
}
angular
.module('homer')
.config(configState)
.run(function($rootScope, $state) {
$rootScope.$state = $state;
});
Y mi archivo states.json:
{
"dashboard": {
"name": "dashboard",
"url": "/dashboard",
"templateUrl": "./views/dashboard.html",
"data": {
"pageTitle": "Dashboard"
}
},
"users": {
"name": "users",
"url": "/users",
"controller": "usersCtrl",
"templateUrl": "/users/views/users.html",
"resolve": "resolveUrl('/users/app/js/compiled/users_app.js')"
},
"invoices": {
"name": "invoices",
"url": "/invoices",
"controller": "invoicesCtrl",
"templateUrl": "/invoices/views/invoices.html",
"resolve": "resolveUrl('/invoices/app/js/compiled/invoices_app.js')"
},
"invoices.upload": {
"name": "invoices.upload",
"url": "/upload",
"controller": "invoicesCtrl",
"templateUrl": "/invoices/views/invoices.html",
"resolve": "resolveUrl('/invoices/app/js/compiled/invoices_app.js')"
},
"reports": {
"name": "reports",
"url": "/reports",
"templateUrl": "./views/reports.html",
"data": {
"pageTitle": "Reports"
}
}
}
Por lo que he leído es mejor utilizar las funciones $q y $http de Angular. Así que traté de resolverlo con:
function resolveStates($http, $q) {
var deferred = $q.defer();
$http({
method:'GET',
url: STATES_FILE
}).success(function (data) {
deferred.resolve(data);
});
return deferred.promise;
}
Pero me da este error, Uncaught Error: [$injector:modulerr]
1310,javascript,Estoy creando un ABM con AngularJS, tengo un controlador usuario.controller.js que tiene la responsabilidad de crear, eliminar y mostrar el listado de usuarios. El problema es que cada vez que cargo la vista crear se vuelve a instanciar el controlador y vuelve a pedir la lista de usuarios.
Es decir, se hace la petición de la lista de usuarios en la vista listado y en la vista crear. Las estoy cargando dinámicamente usando ui-router
¿Es necesario crear un controller usuario.crear.controller.js y otro usuario.listado.controller.js?
¿Que diseño se suele usar para este tipo de situaciones?
1316,c#,Tengo un problema al querer mostrar el DateTime en un input date. La cuestión es que yo traigo de la base de datos una fecha mediante una consulta por parametro y lo guardo en un objeto haciendo:
usuario.FechaDeNacimiento = Convert.ToDateTime(tablaResultado.Rows[0]["FechaDeNacimiento"]);
Luego en el controller creo un manager, ejecuto la consulta y los datos del objeto se los paso al viewbag.
En esa vista tengo un input="date" y trate de mostrarlo con el value="@ViewBag...." pero no funciona.
Alguna ayuda o sugerencia?
1319,java|android,Lo hice así pero no se oculta.
ActionBar actionBar = getActionBar();
actionBar.hide();
1321,c#|jquery,tengo esta funcion:
$.ajax({
type:"post",
url:"/Home2/test01",
data: procesoData,
succes: function(datos){
$("#DatosRespuesta").html(datos);
}
);
donde procesoData corresponde a una lista de datos:
var procesoData = { 'items':[ ] }
Mi pregunta es
¿Cómo puedo trabajar con ellos (recibir el parámetro en forma de lista) en un controller de  MVC 5 en C#? Cualquier ayuda me vendría bien, gracias.
Pregunta formulada originalmente en Google+
1323,ios,En el coding the de abajo comprueba si la condición es true, enseña una marca de verificación en el cellsi no, enseña nada. ¿Como puedo hacer que el usuario pueda deseleccionar el cell pulsando en el dispositivo?
// Boolean Array
var esVisitado = [Bool] (count: 21, repeatedValues: false)
if Visitado[indexPath.row] {
cell.accessoryType = .Checkmark
} else {
cell.accessoryType = .None
}
return cell
let esVisitadoAction = UIAlertAction(title: "Que quieres decir?", style: .Default, handler: { (action:UIAlertAction!) -> Void in
let cell = tableView.cellForRowAtIndexPath(indexPath)
cell?.accessoryType = .Checkmark
self.Visitado[indexPath.row] = true
})
optionMenu.addAction(esVisitadoAction)
tableView.deselectRowAtIndexPath(indexPath, animated: false)
1325,javascript,Tengo un programa en Python que lee un archivo de texto (.txt) y con una serie de datos del archivo, genera un PDF con cierta información.
Para leer el .txt utiliza expresiones regulares. En Javascript no hay problema, lo puedo hacer de forma similar a Python, pero no encuentro ninguna librería que genere un PDF para que pueda se descargado por el usuario de la web.
Alguien sabe si hay alguna librería en Javascript para generar un PDF descargable.
1326,javascript|android,Estamos realizando una app híbrida con Phonegap y jQuery Mobile que, mediante peticiones ajax, recupera de un servidor externo unos datos en formato JSON para después tratarlos.
Nunca hemos tenido ningún problema ni en iOS ni en Android. Desde que actualizamos el certificado de seguridad del dominio (nos obligan a que el algoritmo de firma sea SHA-256 con cifrado RSA) al que la App realiza las peticiones, las conexiones de Ajax nos devuelven un error 404, cuando el día antes estando aún el certificado con firma SHA1 no había ningún problema. En iOS por el contrario sigue sin darnos ningún problema.
¿Alguien podría darme algo de luz al respecto?
1335,javascript,Sé que puedo declarar un array en JavaScript de este modo var miArray = [];, también puedo añadir elementos con miArray.push(elemento);.
Pero: ¿Como añado o elimino elementos en una posición determinada?
He visto que existe splice() y que hace las dos cosas (borrar y añadir) pero no acabo de entender correctamente el funcionamiento con los ejemplos que he encontrado.
1346,python,Estoy implementando en Python el algoritmo de Floyd-Warshall para hallar caminos mínimos en un grafo. He tenido un problema escribiendo una función recursiva para imprimir dicho camino mínimo utilizando la matriz de predecesores (del inglés predecessor matrix):
def print_path(p_ij, ii, jj):
"""Recursive function to reconstruct the shortest path from i to j.
"""
if ii != jj:
print_path(p_ij, ii, p_ij[ii, jj])
print(jj)
Quería hacerlo con generadores, pero me he topado con algo curioso. Esta forma no funciona, porque solo imprime el último número:
def build_path(p_ij, ii, jj):
"""Recursive function to reconstruct the shortest path from i to j.
"""
if ii != jj:
build_path(p_ij, ii, p_ij[ii, jj])
yield jj
def print_path(p_ij, ii, jj):
for jj in build_path(p_ij, ii, jj):
print(jj)
Y esta otra forma (solo cambio build_path) me devuelve una lista con un número y un generador, totalmente inútil:
def build_path(p_ij, ii, jj):
"""Recursive function to reconstruct the shortest path from i to j.
"""
if ii != jj:
yield build_path(p_ij, ii, p_ij[ii, jj])  # <-- Añado un yield
yield jj
¿Cómo puedo conseguir algo equivalente a la primera versión usando generadores?
1348,c#,Tengo problemas con la impresión, he usado desde el componente PrintDocument y CrystalReport y siempre tengo el mismo error que no me respeta las posiciones que le mando a imprimir pues siempre el texto impreso se va a la izquierda.
1350,javascript|java|jquery,Estoy desarrollando una aplicación donde con un número determinado de filas y columnas genere automáticamente mediante JQuery con la libreria JQuery-Seat-Charts.
En principio consigo hacer perfectamente esta generación mediante funciones por AJAX que envían la petición a la aplicación y por Java; creo el mapa que requiere la libreria.
Un ejemplo de asientos sería el siguiente:
[
'aaa___aaa',
'aaaa_aaaa',
'aaaa_aaaa'
]
Donde las 'a' serían asientos y las '_' huecos. El problema que tengo está en la generación automática de números que tiene la propia libreria ya que el usuario final quiere poder asignarle a mano los números, para ello la librería cuenta con un recurso para sobrescribir estos números directamente en el mapa tal que así:
[
'a[,NUMBUTACA1]a[,NUMBUTACA1]a___a[,NUMBUTACA1]aa',
'aaaa_aaaa[,JUST_LABEL1]',
'aaaa_aaaa'
]
Y por fin aquí viene la pregunta: actualmente guardo el mapa en un String de Java y después habilito una función para que el usuario vaya numerando las butacas el mismo, con lo que tengo que, detrás de cada 'a' agregar los corchetes necesarios para ello. El problema es que actualmente, para hacer cualquier modificación en las butacas, estoy leyendo el String tomando sus posiciones (separando las líneas con saltos de línea e iterando el String por cada letra de la línea) tal que así:
String[] lineas = mapa.split(SALTO_LINEA);
String[] pos = posicion.split("_");
int fila = Integer.valueOf(pos[0]) - 1;
int columna = Integer.valueOf(pos[1]) - 1;
for (int i = 0; i < lineas.length; i++) {
String linea = lineas[i];
for (int j = 0; j < linea.length(); j++) {
if (i == fila && j == columna) {
if (linea.charAt(j) == 'a') {
resultado += HUECO;
} else {
resultado += ASIENTO;
}
} else {
resultado += linea.charAt(j);
}
}
resultado += SALTO_LINEA;
}
y veo que si empiezo a añadir los corchetes detrás de cada asiento esto ya no me va a servir ya que en el caso de, por ejemplo, a[,2]_aa para tocar la última butaca tendría que sumarle a la posición real 4 para que coincida.
¿Cómo podría ir añadiendo estos corchetes sin ver comprometidas las posiciones? (o si hay alguna función ya sea en Java o en JQuery donde pueda hacer esto de una forma más o menos eficiente).
1362,python,Estoy trabajando con la vista basada en clase (CBV) ListView, la cual lo que hace es retornar una lista de objetos en donde puedo hacer:
1. Si uso ListView sin cambiar su clase ni hacerle nada me retorna una lista de por ejemplo todos los objetos de un modelo sin mayor esfuerzo la verdad, para lo cual necesitamos solamente darle el modelo y el template a renderizar.
2. Puedo utilizar su método get_queryset() para decirle que me filtre por un atributo determinado o para ejecutar una consulta personalizada para que me devuelva objetos específicos acorde al criterio del queryset dado.
Estoy utilizando ListView para recuperar la lista de usuarios del modelo User el cual es un modelo personalizado que está en una aplicación creada llamada userprofile.
# settings.py
INSTALLED_APPS = [
...
'userprofile',
...
]
AUTH_USER_MODEL = 'userprofile.User'
En el modelo User en models.py estoy adicionando unos atributos especiales, entre ellos un campo llamado slug, para poder consultar los datos de un usuario específico.
Un slug es parte de un url que hace más amigablemente posible la lectura de la misma para los humanos. Ayuda mucho al SEO.
# userprofile/models.py
from __future__ import unicode_literals
from django.contrib.auth.models import AbstractUser
from django.db import models
# Create your models here.
class User(AbstractUser):
is_medical = models.BooleanField(default=False)
is_physiotherapist = models.BooleanField(default=False)
is_patient=models.BooleanField(default=False)
slug = models.SlugField(max_length=100, blank=True)
#slug = models.CharField(max_length=100, blank=True)
photo = models.ImageField(upload_to='avatars')
class Meta:
db_table = 'auth_user'
class MedicalProfile(models.Model):
user=models.OneToOneField(User, on_delete=models.CASCADE)
active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
class PatientProfile(models.Model):
user=models.OneToOneField(User, on_delete=models.CASCADE)
active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
class PhysiotherapistProfile(models.Model):
user=models.OneToOneField(User, on_delete=models.CASCADE)
active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
Por el momento, mi ListView para consultar el listado de usuarios lo he llamado UserListView y es este:
# userprofile/views.py
from django.shortcuts import render
from django.views.generic import ListView
from .models import  User
#from django.http import JsonResponse
class UserListView(ListView):
model = User
template_name = 'user_list.html'
Mi template user_list.html  recibe un object_list de parte de la vista y con un ciclo recorre los objetos del modelo. Si dicho object_list llega vacío, va al tag empty y notifica que no hay objetos (usuarios) aún para mostrar
# userprofile/templates/user_list.html
{% block content %}
<h1>Users</h1>
<div>
{% for users in object_list %}
<div>
{{ users.username }}
{{ users.password }}
{{ users.first_name }}
{{ users.last_name }}
{{ users.photo }}
{{ users.email }}
{{ users.slug }}
<br />
</div>
{% empty %}
<div>No hay usuarios todavia</div>
{% endfor %}
</div>
{% endblock %}
En mi archivo de userprofiles/urls.py tengo mi url que llama a la vista UserListView de esta forma:
from django.conf.urls import url, patterns
from .views import UserListView
urlpatterns = [
url(r'^users/$', UserListView.as_view(), name='users_list'),
]
Es entonces, como cuando accedo al url http://localhost:8000/users/obtengo un listado de las instancias del modelo User, es decir mis usuarios
Hasta aqui todo funciona bien y quería incluir este proceso, para mostrar lo que deseo hacer ahora y es donde esta mi problema:
Quiero cambiar el comportamiento del queryset de la cbv [ListView][1] es decir sobreescribir el metodo get_queryset() o la segunda opción de la que hablaba al principio.
Lo que quiero básicamente es que esta vista de UserListView, que ya me devuelve mi lista de usuarios, si yo le paso en el url el nombre de un usuario en especial, me traiga solamente los datos de un usuario. Por ejemplo:
Este ejemplo no esta funcionando, solo fue adaptado para efectos de ilustración.
Es entonces cuando entra en juego el campo slug que adicione en el modelo User en userprofile/models.py
class User(AbstractUser):
is_medical = models.BooleanField(default=False)
is_physiotherapist = models.BooleanField(default=False)
is_patient=models.BooleanField(default=False)
slug = models.SlugField(max_length=100, blank=True)
#slug = models.CharField(max_length=100, blank=True)
photo = models.ImageField(upload_to='avatars')
Entonces si lo que quiero es traerme solo los datos de un usuario o instancia en especial, debo cambiar el método get_queryset() para que se comporte acorde a mis necesidades.
Lo sobreescribo en la lista UserListView creada en userprofile/wiews.py
Primero adiciono un nuevo url que reciba el nombre de ese usuario. Este url se llamara users y recibe una expresión regular en donde le digo que el usuario que va a recibir (la palabra username) será parte de la expresión regular:
Y también le digo que esa expresión regular permita caracteres alfanuméricos (con el w) tanto minúsculas como mayúsculas y que permita guiones altos y que puedan estar muchas veces. Esta expresión regular en este url se llama username y apunta a la vista UserListView
# userprofile/urls.py
from django.conf.urls import url, patterns
from .views import LogoutView, UserListView
urlpatterns = [
url(r'^users/$', UserListView.as_view(), name='users_list'),
url(r'^users/(?P<username>[\w\-]+)/$', UserListView.as_view(), name='users_list'),
]
es el nombre del usuario que le enviaremos en el url
Sobreescribiendo el get_queryset()
Es entonces como en la vista UserListView sobreescribo el método get_queryset()
En las Class Based Views, todos los parámetros de url y de parámetros extras que yo le envíe a una vista todos llegan a una variable que se llama kwargs
def get_queryset(self):
if self.kwargs
Entonces, pregunto que si dentro de esos kwargs tengo al username que está en el url, si existe el username, entonces que me retorne los datos de ese username solamente  y sino, que actúe como el query_set original de la vista basada en clase ListView, como antes de que empezara a sobreescribirlo:
Nótese que en el queryset, estoy indicando, que busque por el slug del usuario o del modelo User, que es username (Aunque acá tengo la duda de si esto esta bien planteado dado el error que mostraré un poco mas adelante)
En el queryset planteado, quiero decir:
Que me retorne todos los datos en donde el slug del usuario sea el que le llego por el url. Es decir el username
Y si no trae el slug con algun nombre de un usuario existente, sino solo http://localhost:8000/users/ entonces que me retorne todos los usuarios del modelo User, que es como lo tengo en un principio y me funciona, dado que es el comportamiento normal del método get_queryset() de la cbv ListView. Para eso utilizo el super, para llamar al padre de UserListView que es ListView y se llama específicamente a la funcion get_queryset() original.
def get_queryset(self):
if self.kwargs.get('username'):
#Devolver datos de usuario definimos un queryset para ello
queryset = self.model.objects.filter(username__slug=self.kwargs['username'])
else:
#Actue igual que siempre el queryset
queryset = super(UserListView, self).get_queryset()
return queryset
Es entonces cuando quiero consultar los datos de un usuario en particular y obtengo el siguiente mensaje de error:
Es entonces como llego a mi inquietud, y para ser preciso, no estopy muy seguro acerca de  como estoy formulando el queryset específico, dado que le estoy diciendo que lo aplique al modelo User y que me filtre por el atributo username de ese modelo (es por ese atributo o asi es el nombre del slug en la expresión regular del url que planteo para esta funcionalidad), solo que tengo mis dudas en esta parte de definir el queryset.
queryset = self.model.objects.filter(username__slug=self.kwargs['username'])
¿De pronto alguien puede orientarme un poco en esta parte?
Muchas gracias.
1366,javascript,Quisiera saber cómo puedo incluir la funcionalidad de un archivo .js desde otro archivo .js sin utilizar jQuery. Ya que he visto algunas soluciones pero haciendo uso de jQuery, y lo que me interesa es saber si puedo importarlo con JavaScript puro.
1372,javascript,Buenas tardes, mi consulta es si tengo un valor tipo Date y un array donde sus valores también son tipo Date: ¿es posible realizar una búsqueda para ver si hay coincidencias?.
Estoy haciendo lo siguiente:
// time = Sun Dec 13 2015 21:00:00 GMT-0300 (Hora est. Sudamérica Pacífico)
var busqueda = _.findWhere(this.events,{startsAt:moment(time).toDate()});
return !!busqueda;
El array contiene:
0: Object
$id: 0
$priority: null
endsAt: Sun Dec 13 2015 21:15:00 GMT-0300 (Hora est. Sudamérica Pacífico)
startsAt: Sun Dec 13 2015 21:00:00 GMT-0300 (Hora est. Sudamérica Pacífico)
title: "titulo: 14.12.2015 00:00 - 14.12.2015 00:15"
type: "info"
__proto__: Object
Hasta el momento esto solo me devuelve undefined.
1374,java,En mi aplicación estoy manejando distintos hilos, los cuales deben "dormir" X segundos. He notado que usando ambos métodos el hilo duerme.
¿La diferencia es que con Thread.sleep(5000); duermo el hilo principal y con hilo.wait() puedo hacer dormir cualquier otro hilo creado? ¿Estoy en lo correcto? Si no es así agradeceré mucho sus explicaciones.
1398,javascript,Estoy usando EmberJS v1.13 y actualmente al ejecutar ember test utiliza JSHint para detectar posibles errores en el código y necesito indicarle a Ember que utilice en su lugar ESLint.
¿Alguna idea sobre que debo hacer?
1402,java,Siempre pensé que en Java los parámetros se pasan por referencia en el caso de los objetos y por valor en el caso de los tipos primitivos. Pero hay sitios en que se dice que todos los parámetros se pasan por valor, por ejemplo, aquí (en inglés), que indican que esto no es cierto. Creo que no entiendo la diferencia que están haciendo. ¿Cuál es la explicación?
Esta pregunta es una copia traducida y modificada del original Is Java “pass-by-reference” or “pass-by-value”? que es una comunity wiki originalmente redactada por user4315 y no necesariamente representa la opinión de user4315 al respecto.
1411,python,En ese proyecto estoy definiendo configuraciones de objetos en en formato XML. Un ejemplo es este es el caso de un menu contextual:
<?xml version="1.0" encoding="UTF-8"?>
<root>
<menu name="remates" widget="uiRemates" onshow="showMenu" >
<action name="add" target="add" title="Nuevo Remate" icon=":/crud/add" disabled="" shortcut="CTRL+Key_A" />
<action name="remove" target="remove" title="Eliminar Remate" icon=":/crud/delete" disabled="" />
<action name="remove_apuesta" target="removeApuesta" title="Eliminar Apuesta" icon=":/crud/delete" disabled="" />
<action name="print_remate" target="printRemate" disabled="" title="Imprimir Remate" />
</menu>
</root>
Lo que estoy haciendo es recuperar esa configuración con Python y como ven en el source [código completo]
def configField(self, field_element):
name = field_element.getAttribute('name')
if not name:
raise ModelConfigFieldnameError(
self.model,
field_element
)
if not name in self.model.field_keys:
raise ModelConfigNotHasFieldError(
self.model,
name,
field_element
)
index_column = self.model.field_keys.index(name)
self.setHeader(field_element, index_column)
field_element es un objeto de tipo <class xml.dom.minidom.Element ..>
Mi pregunta es, ¿cómo determinar en que línea y columna se encuentra ese elemento? Para así mejorar el detalle de mis excepciones cuando una configuracion XML esté mal.
1412,php,Mi pregunta es del framework de PHP, Laravel. Cuando pongo
{{ Form::selectMonth('month') }}
me sale una lista de meses pero en inglés.
<select name="month">
<option value="1">January</option>
<option value="2">February</option>
<option value="3">March</option>
<option value="4">April</option>
<option value="5">May</option>
<option value="6">June</option>
<option value="7">July</option>
<option value="8">August</option>
<option value="9">September</option>
<option value="10">October</option>
<option value="11">November</option>
<option value="12">December</option>
</select>
¿Cómo hago para que me salga en español?
1426,javascript|android,He creado la aplicación de ejemplo en React Native, siguiendo el tutorial inicial que tiene el sitio oficial:
React Native Android
Pero, cuando ejecuto
react-native run-android
Me encuentro con el siguiente error:
Alguno que sepa si seguí mal las indicaciones o falta algo extra en esa guía inicial?
1433,java|android,Creo que esto es una pregunta novata, pero por alguna razón no he podido encontrar una solución a esto.
¿Cómo creo una aplicación que se visualice bien todas las vistas en diferentes resoluciones de pantalla?
¿Debo crear una carpeta para cada tipo de pantalla como las imágenes? ¿Este es un enfoque correcto? ¿O todo esto se soluciona con los contenedores?
Soy bastante malo para este tema del diseño, espero alguien me pueda ayudar.
1434,javascript|html,Por ejemplo al entrar a la página de Domino's pide permiso para obtener la ubicación y me sorprendí porque es muy preciso.
1438,javascript,Quiero establecer el border-radius de un div utilizando JavaScript, este script (ver abajo) lo que hace es cambiar de color un div de 500x500 cada vez que se actualiza el DOM:
function show_pattern(){
var top_position = 25, left_position = 25;
var width = 500, height = 500;
var color_list = ["red","orange","yellow","green","blue","indigo","violet"];
var the_body = document.getElementById("theBody");
var border_radius = 20;
while(width > 50) {
var this_div = document.createElement("div");
var random_color = Math.random() * 7;
random_color = Math.floor(random_color);
this_div.style.top = top_position + "px";
this_div.style.left = left_position + "px";
this_div.style.width = width + "px";
this_div.style.height = height + "px";
//  this_div.border-radius = border_radius + "px";
this_div.style.background = color_list[random_color];
the_body.appendChild(this_div);
top_position += 10; left_position += 10;
width -= 20; height -= 20; border_radius -=20;
}
}
He comentado la sentencia errónea para que se pueda ver el punto en el que me he quedado y lo que quiero realizar.
¿Cómo se escribiría bien esto? this_div.border-radius = border_radius + "px";
Lo he puesto en un JS Bin por si se entiende mejor: Color script
function show_pattern() {
var top_position = 25,
left_position = 25;
var width = 500,
height = 500;
var color_list = ["red", "orange", "yellow", "green", "blue", "indigo", "violet"];
var the_body = document.getElementById("theBody");
var border_radius = 20;
while (width > 50) {
var this_div = document.createElement("div");
var random_color = Math.random() * 7;
random_color = Math.floor(random_color);
this_div.style.top = top_position + "px";
this_div.style.left = left_position + "px";
this_div.style.width = width + "px";
this_div.style.height = height + "px";
// this_div.border-radius = border_radius + "px";
this_div.style.background = color_list[random_color];
the_body.appendChild(this_div);
top_position += 10;
left_position += 10;
width -= 20;
height -= 20;
border_radius -= 20;
}
}
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="refresh" content="3">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JS color script</title>
<style>
div {
position: absolute;
}
</style>
</head>
<body id="theBody" onload="show_pattern()">
</body>
</html>
1440,python,Con el objetivo de conocer el funcionamiento de pyquery (una librería similar a jquery para Python), he creado un pequeño script que lo que hace (por ahora) es agregar ciertas clases CSS a una tabla HTML de acuerdo al Framework que se le indica (Bootstrap, Materialize):
import os
import sys
from pyquery import PyQuery as pq
BOOTSTRAP = 'bootstrap'
MATERIALIZE = 'materialize'
FRAMEWORKS = [
BOOTSTRAP,
MATERIALIZE
]
def show_available_frameworks():
print 'Available frameworks:'
for fw in FRAMEWORKS:
print '- %s' % fw.title()
def show_usage():
print 'Usage: prettify.py /path/to/template framework'
def prettify_html(template_path, framework):
if not os.path.exists(template_path) or not os.path.isfile(template_path):
print 'ERROR: template "%s" not found or invalid' % (template_path)
return 1
template_content = open(template_path).read()
dom = pq(template_content)
if framework == BOOTSTRAP:
dom('table').add_class('table table-striped')
dom('th').add_class('text-info')
dom('th, td').add_class('text-center')
elif framework == MATERIALIZE:
dom('table').add_class('striped')
dom('th').add_class('blue-text text-darken-2')
dom('th, td').add_class('center-align')
else:
show_available_frameworks()
return 1
print dom.outer_html()
return 0
if __name__ == '__main__':
if len(sys.argv) < 3:
show_usage()
show_available_frameworks()
sys.exit(1)
sys.exit(prettify_html(sys.argv[1], sys.argv[2]))
Sencillo, nada del otro mundo. Luego, creé el siguiente archivo HTML con una tabla cuyos elementos no tienen atributos:
$ cat table.html
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>10</td>
<td>20</td>
<td>30</td>
<td>40</td>
</tr>
<tr>
<td>100</td>
<td>200</td>
<td>300</td>
<td>400</td>
</tr>
</tbody>
</table>
Probando con Bootstrap:
$ python prettify.py table.html bootstrap
<table class="table table-striped">
<thead>
<tr>
<th class="text-info text-center">A</th>
<th class="text-info text-center">B</th>
<th class="text-info text-center">C</th>
<th class="text-info text-center">D</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-center">1</td>
<td class="text-center">2</td>
<td class="text-center">3</td>
<td class="text-center">4</td>
</tr>
<tr>
<td class="text-center">10</td>
<td class="text-center">20</td>
<td class="text-center">30</td>
<td class="text-center">40</td>
</tr>
<tr>
<td class="text-center">100</td>
<td class="text-center">200</td>
<td class="text-center">300</td>
<td class="text-center">400</td>
</tr>
</tbody>
</table>
Probando con Materialize:
$ python prettify.py table.html materialize
<table class="striped">
<thead>
<tr>
<th class="blue-text text-darken-2 center-align">A</th>
<th class="blue-text text-darken-2 center-align">B</th>
<th class="blue-text text-darken-2 center-align">C</th>
<th class="blue-text text-darken-2 center-align">D</th>
</tr>
</thead>
<tbody>
<tr>
<td class="center-align">1</td>
<td class="center-align">2</td>
<td class="center-align">3</td>
<td class="center-align">4</td>
</tr>
<tr>
<td class="center-align">10</td>
<td class="center-align">20</td>
<td class="center-align">30</td>
<td class="center-align">40</td>
</tr>
<tr>
<td class="center-align">100</td>
<td class="center-align">200</td>
<td class="center-align">300</td>
<td class="center-align">400</td>
</tr>
</tbody>
</table>
Lo que quiero lograr ahora es que cada uno de los elementos no tenga ningún atributo, es decir, si en mi función recibo una tabla con lo siguiente:
<table class="a b c" style="color: red" data-example="10">
Quiero eliminar todos los atributos y dejarla "limpia" antes de agregarle las clases de cada Framework:
<table>
Puedo usar el método remove_attr para eliminar un atributo pero tendría que saber cuáles son exactamente y la idea es eliminarlos todos, ¿es posible hacer esto?
1444,javascript|jquery,¿Cuál es la diferencia entre?:
$(function(){
});
y
$(document).ready(function() {
});
Sé que esperan a que los componentes estén cargados, pero quisiera saber ¿por qué se escriben de manera diferente?.
Pregunta similar de SO en inglés: https://stackoverflow.com/questions/2662778/what-is-the-difference-between-these-jquery-ready-functions
1452,java|android,Me gustaría saber como puedo evitar que el control EditText muestre el teclado cada vez que recibe el foco o el usuario se posiciona sobre el control.
El motivo de ello es que quiero utilizar dicho control para mostrar un diálogo de calendario cada vez que recibe el foco o el usuario se posiciona sobre el control, de modo que el control obtendrá el valor de la fecha (esta última parte ya la tengo implementada).
En principio, según la documentación de Android, estableciendo el atributo android:inputType="none" del campo de tipo EditText, se consigue que el texto no sea editable, por lo que el comportamiento esperado es que no se muestre el teclado de android. Sin embargo, el teclado sigue apareciendo cada vez que el control recibe el foco o el usuario pulsa sobre el control.
A continuación muestro el código xml para definir el control:
<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingLeft="16dp"
android:paddingRight="16dp">
<android.support.v4.widget.NestedScrollView
android:layout_width="match_parent"
android:layout_height="wrap_content">
<!-- Controles -->
<android.support.design.widget.TextInputLayout
android:id="@+id/tiFechaCaducidad"
android:layout_width="match_parent"
android:layout_height="wrap_content">
<EditText
android:id="@+id/etFechaCaducidad"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:hint="@string/fechacaducidad"
android:singleLine="true"
android:inputType="none"
android:drawableRight="@drawable/ic_arrow_drop_down" />
</android.support.design.widget.TextInputLayout>
</android.support.v4.widget.NestedScrollView>
</android.support.design.widget.CoordinatorLayout>
1455,javascript,Tengo un input en el cual el usuario puede poner lo que quiera, y cuando haga intro, el texto introducido se mostrará en una sección como texto plano.
Ejemplo de texto introducido por el usuario:
Hola mundo, visita <a href="google.es">Google</a>
El resultado será exactamente ese texto.
Pero necesito que si el usuario introduce un carácter especial, se transforme en un link.
Por ejemplo, si el usuario introduce:
Hola mundo, visita [google.es|Google]
El resultado esperado es:
Hola mundo, visita Google
Donde Google es un link.
1465,python,Tengo muchos archivos con una extensión específica en una carpeta y lo que quiero es cambiarles la extensión por otra (asociada a un programa ejecutable especial para esos archivos), tengo este código avanzado.
import glob, os, shutil, os, errno, sys
import subprocess
from glob import glob
from os import getcwd
from os.path import join
from os.path import basename
from subprocess import call
camino = 'C:\\Users\\user\\Desktop\\Dats\\COX\\'
listado = glob(join(camino,'D*','20*','B*','1*'))
for archivo in listado:
tmp = os.path.split(archivo)
path = tmp[0]
log = archivo
estacion = os.path.basename(tmp[0])
try:
print (path)
os.chdir(path)
subprocess.call(['C:\\Users\\user\\Desktop\\Dats\\rt_mseed.exe', log]) #programa .exe para pasar los archivos a la extensión en especifico
except OSError as e:
if e.errno == errno.ENOTDIR:
print ('error')
else:
print ('Error: %s' % e)
A la hora de ejecutarlo me muestra el siguiente error:
C:\Users\user\Desktop\Dats\python listado.py
C:\Users\user\Desktop\Dats\COX\DISK1\2014322\B088
Error: [Error 2] The system cannot find the file specified
C:\Users\user\Desktop\Dats\COX\DISK1\2014323\B088
Error: [Error 2] The system cannot find the file specified
C:\Users\user\Desktop\Dats\COX\DISK1\2014324\B088
Error: [Error 2] The system cannot find the file specified
C:\Users\user\Desktop\Dats\COX\DISK1\2014325\B088
Error: [Error 2] The system cannot find the file specified
C:\Users\user\Desktop\Dats\COX\DISK1\2014326\B088
Error: [Error 2] The system cannot find the file specified
1466,javascript|jquery,¿Cómo puedo ver las miniaturas (thumbnail) de mis imágenes de google Drive?
Es decir: que la api de google drive me devuelva la url del thumbnail.
También uso jquery, si es necesario o para facilitarlo.
<html>
<head>
<script type="text/javascript">
// Your Client ID can be retrieved from your project in the Google
// Developer Console, https://console.developers.google.com
var CLIENT_ID = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.apps.googleusercontent.com';
var SCOPES = ['https://www.googleapis.com/auth/drive.metadata.readonly'];
/**
* Check if current user has authorized this application.
*/
function checkAuth() {
gapi.auth.authorize(
{
'client_id': CLIENT_ID,
'scope': SCOPES.join(' '),
'immediate': true
}, handleAuthResult);
}
/**
* Handle response from authorization server.
*
* @param {Object} authResult Authorization result.
*/
function handleAuthResult(authResult) {
var authorizeDiv = document.getElementById('authorize-div');
if (authResult && !authResult.error) {
// Hide auth UI, then load client library.
authorizeDiv.style.display = 'none';
loadDriveApi();
} else {
// Show auth UI, allowing the user to initiate authorization by
// clicking authorize button.
authorizeDiv.style.display = 'inline';
}
}
/**
* Initiate auth flow in response to user clicking authorize button.
*
* @param {Event} event Button click event.
*/
function handleAuthClick(event) {
gapi.auth.authorize(
{client_id: CLIENT_ID, scope: SCOPES, immediate: false},
handleAuthResult);
return false;
}
/**
* Load Drive API client library.
*/
function loadDriveApi() {
gapi.client.load('drive', 'v2', listFiles);
}
/**
* Print files.
*/
function listFiles() {
var request = gapi.client.drive.files.list({
'maxResults': 10
});
request.execute(function(resp) {
appendPre('Files:');
var files = resp.items;
if (files && files.length > 0) {
for (var i = 0; i < files.length; i++) {
var file = files[i];
appendPre(file.title + ' (' + file.id + ')');
}
} else {
appendPre('No files found.');
}
});
}
/**
* Append a pre element to the body containing the given message
* as its text node.
*
* @param {string} message Text to be placed in pre element.
*/
function appendPre(message) {
var pre = document.getElementById('output');
var textContent = document.createTextNode(message + '\n');
pre.appendChild(textContent);
}
</script>
<script src="https://apis.google.com/js/client.js?onload=checkAuth">
</script>
</head>
<body>
<div id="authorize-div" style="display: none">
<span>Authorize access to Drive API</span>
<!--Button for the user to click to initiate auth sequence -->
<button id="authorize-button" onclick="handleAuthClick(event)">
Authorize
</button>
</div>
<pre id="output"></pre>
</body>
</html>
1470,python,Estoy trabajando con el framework web2py tengo un campo que esta como referencia a un valor de otra tabla, en la vista que se muestra sale en blanco y si le doy click recien muestra los valores pero eso deberíaa salir por defecto Elegir Opcion pero no está saliendo:
Field('moneda', 'reference monedas',default="Elegir Opcion",requires=IS_EMPTY_OR(IS_IN_DB(db, db.monedas, '%(nombre)s'))),
1474,javascript|jquery,Tengo un script que recupera la información de un JSON como puedo poner para que si no tiene nada el JSON no ponga nada en la variable items. Este es mi código:
<script type="text/javascript">
$(function () {
$("#IdPlantel").change(function () {
$.getJSON("Oferta/List/" + $("#IdPlantel>option:selected").attr("value"), function (data) {
var items;
if (data == null) {// no lo respeta
items = "";
}
else {
$.each(data, function (i, state) {
items += "<option value='" + state.Value + "'>" + state.Text + "</option>";
});
}
$("#States").html(items);
});
});
});
</script>
1476,c++,En Qt se pueden crear proyectos anidados, para lo cual hay que definir el proyecto principal como SUBDIRS. Aparte de esta configuración, el proyecto principal no admite muchas más modificaciones.
Si se desea compartir, por ejemplo, ficheros de configuración(.pri) entre los diferentes subproyectos se puede optar por varías vías:
Indicar la ruta absoluta al fichero. La desventaja de este mecanismo es que puede dar problemas al trabajar en grupo, pues obligas a que todo el mundo tenga los proyectos en el mismo sitio.
Indicar la ruta relativa al fichero. La desventaja de este sistema radica en el hecho de que cada subproyecto puede alojar más subproyectos, lo que obliga a indicar una ruta diferente para cada proyecto.
Almacenar la ruta en una variable del sistema, lo que obliga a crear, editar y mantener, generalmente a mano, dicha variable del sistema.
Lo ideal sería poder determinar la ruta a partir de la ubicación del proyecto padre y conseguir que dicha información fuese accesible por todos los proyectos. Lo comentado aquí sería extensible a cualquier tipo de valores a compartir entre los diferentes proyectos (información de versión, manifiesto, ...)
¿No existe ningún mecanismo un poco más elegante para compartir información en el contexto de los proyectos anidados?
1483,java|c++,Tanto Java como C++ tienen referencias.
¿Son prácticamente lo mismo o son significativamente diferentes?
Java no tiene punteros. ¿Son entonces las referencias en Java como los punteros de C++?
¿Hay estructuras de código en lo que a referencias y punteros se refiere que sean iguales en los dos lenguajes pero hagan cosas distintas?
1487,java,Guia definitiva de conversión de tipos en Java
Convertir String a Integer
Convertir Integer a String
Convertir char a String
Convertir String a char
Convertir String a Double
Convertir Double a String
Convertir String a Float
Convertir Float a String
Convertir String a Boolean
Convertir Boolean a String
1489,ios,Teniendo dos vistas, A y B, en la vista B capturo el color asociado a un button y el nombre que digita el usuario asociado a un textField. Creando un protocolo  asigno esos valores al método del mismo protocolo  y  los uso en el archivo ColorsViewController que va a ser el delegado.
El problema es el siguiente : todo va bien en la parte de CreateViewController pues verificando después de pulsar en el botón guardar y regresar a la vista A estan los datos,  pero se quiere mostrar estos datos en un tableView. Como se sabe, al implementar el dataSource para el tableView se requiere  el método numberOfRowsInSection. Hasta el momento me he dado cuenta que al momento de hacer el name!.append(name) el sí asigna los datos al arreglo, pero como ya cargo la tabla  que en un principio toma como referencia el name!.countque cuando empieza la ejecución es 0 después de que se le añade los datos al arreglo es como si no actualizara que los  nuevos elemento que se están añadiendo.
Estos son el archivo que intervienen Vista A
import UIKit
class ColorsViewController: UIViewController, UITableViewDataSource,CreateColorViewControllerDelegate{
var names: [String]?
var colors: [UIColor]?
override func viewDidLoad() {
super.viewDidLoad()
// Do any additional setup after loading the view, typically from           a nib
names = Array()
colors = Array()
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
// MARK: - Navigation
// In a storyboard-based application, you will often want to do a little preparation before navigation
override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {
// Get the new view controller using segue.destinationViewController.
// Pass the selected object to the new view controller.
let identifier = segue.identifier
if identifier == "CreateColor" {
let createColor = segue.destinationViewController as! CreateColorViewController
createColor.delegate = self
}
}
func createColor(name: String, color: UIColor) {
names!.append(name)
colors!.append(color)
}
func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
return names!.count
}
func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
var cell = tableView.dequeueReusableCellWithIdentifier("cell")
if cell == nil {
cell = UITableViewCell(style: .Subtitle, reuseIdentifier: "cell")
}
cell?.backgroundColor  = colors![indexPath.row]
cell?.textLabel!.text = names![indexPath.row]
return cell!
}
}
El segundo archivo es este Vista B
import UIKit
@objc protocol CreateColorViewControllerDelegate{
func createColor(name:String, color:UIColor)
}
class CreateColorViewController: UIViewController,UITextFieldDelegate {
weak var delegate:CreateColorViewControllerDelegate?
weak var selectedButton: UIButton?
@IBOutlet weak var colorTextField: UITextField!
@IBAction func colorSelected(sender: UIButton) {
if selectedButton   != nil {
selectedButton!.layer.borderColor = nil
selectedButton!.layer.borderWidth = 0.0
}
//sender.layer.borderColor = UIColor.blackColor().CGColor
sender.layer.borderColor = UIColor(red: 0, green: 0, blue: 0, alpha: 1).CGColor
sender.layer.borderWidth = 5.0
selectedButton = sender
}
@IBAction func save(sender: UIBarButtonItem) {
let name = colorTextField.text
let color = UIColor(CGColor: (selectedButton!.layer.backgroundColor)!)
if name!.isEmpty{
let alerta = UIAlertController(title: "Espera", message: "Coloca Un Nombre", preferredStyle: .Alert)
let alertaCancel = UIAlertAction(title: "Cancelar", style: .Cancel, handler: nil)
let alertSucces = UIAlertAction(title: "Ok", style: .Default, handler: nil)
alerta.addAction(alertaCancel)
alerta.addAction(alertSucces)
self.presentViewController(alerta, animated: true, completion: nil)
}else{
delegate?.createColor(name!, color: color)
navigationController?.popViewControllerAnimated(true)
}
}
override func viewDidLoad() {
super.viewDidLoad()
// Do any additional setup after loading the view.
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
func textFieldDidEndEditing(textField: UITextField) {
view.endEditing(true)
}
func textFieldShouldReturn(textField: UITextField) -> Bool {
view.endEditing(true)
return true
}
}
1491,c++,He visto en un comentario en el sitio en inglés que estas dos líneas hacen cosas distintas :
Object obj;
Object obj{};
Tengo claro que la primera declara una variable de clase Object y la construye con el constructor sin parámetros.
Pero, ¿qué hace la segunda?. En más de 10 años programando en C++ nunca lo había visto, ¿es algo nuevo de c++11 o 14?
1492,javascript|jquery,¿Hay alguna forma de pintar de diferentes colores los días del  jQuery Datepicker?
Por ejemplo:
Donde el color azul indica la primera sesión, verde la segunda y rojo la tercera.
Tengo 3 sesiones (3 intervalos)
1495,java|android,Quisiera consultarles el porqué de mi problema. Tengo muchas actividades, 2 de ellas son: la principal y la actividad del juego. Estoy utilizando AdMob, me funciona bien en otras actividades, el problema que tengo es que cuando lo intento utilizar en un botón dentro de un Dialog, en el cual tengo un botón para "reiniciar" un juego, no me funciona. La idea es que al clickear sobre él, que muestre el anuncio; y después al cerrar el anuncio, que el juego se reinicie normalmente. Lo que está pasando es que al cerrar el anuncio, manda a la principal.
//Aquí está el evento para cerrar el anuncio
mInterstitialAd.setAdListener(new AdListener() {
@Override
public void onAdClosed() {
requestNewInterstitial();
//Método para reiniciar el juego
reset_game();
}
});
requestNewInterstitial();
//Este evento es para el botón de reiniciar el juego
ImageButton resetGame =(ImageButton) dialog.findViewById(R.id.resetGame);
resetGame.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
if (mInterstitialAd.isLoaded()) {
mInterstitialAd.show();
} else {
reset_game();
dialog.dismiss();
}
}
});
dialog.show();
display_unlocked_card_alert();
Log.d(  TAG,"unlocked_check value 2 = " + unlocked_check);
}
Sé muy bien que en reset_game no invoco ni nada de eso al Main, ya que ahí solo genero al juego, pero de todos modos lo dejo:
private void reset_game(){
HashMap data = MemoryGame.game_mode_for(mode, cards_no);
init_table((int) data.get("rows"), (int) data.get("cols"));
memory_game.generate((int) data.get("total_cards"));
//init_table(4, 5);
//memory_game.generate(4*5);
current_turn = 0;
select_1 = 0;
select_2 = 0;
c =0;
set_timer((int) data.get("time"));
update_game_state_view();
update_cards_state_view();
}
Realmente no sé por qué sucede eso, ¿tendrá algo que ver que esté dentro de un Dialog?
EDICIÓN
Este problema no lo resolví, mejor cambié el modo de ver las ads.
De todos modos me gustaría saber el error o la forma de resolverlo, por simple curiosidad.
A petición, añado el código de el Dialog:
//Es un dialogo personalizado
private void alert_win() {
dialog = new Dialog(GameScreen.this);
dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);
dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;
dialog.setContentView(R.layout.winner_dialog);
dialog.setCanceledOnTouchOutside(false);
Typeface typeFace=Typeface.createFromAsset(getAssets(), "bellosmcp.ttf");
TextView moTextView = (TextView) dialog.findViewById(R.id.moTextView);
moTextView.setTypeface(typeFace);
moTextView.setText(String.valueOf(_turn_count));
TextView matchTextView = (TextView) dialog.findViewById(R.id.matchTextView);
matchTextView.setTypeface(typeFace);
movesTextView.setTypeface(typeFace);
matchTextView.setText(String.valueOf(_score));
TextView pairstextView =(TextView) dialog.findViewById(R.id.pairstextView);
pairstextView.setTypeface(typeFace);
pairstextView.setText(Integer.toString(c));
ImageView closeDialog = (ImageView) dialog.findViewById(R.id.close);
TextView highScoreTextView = (TextView) dialog.findViewById(R.id.high_Score);
highScoreTextView.setTypeface(typeFace);
highScoreTextView.setText(String.valueOf(user.high_score));
//Aquí está el botón para reiniciar
ImageButton resetGame =(ImageButton) dialog.findViewById(R.id.resetGame);
resetGame.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
dialog.dismiss();
//Aquí esta lo de las Ads
if (mInterstitialAd.isLoaded()) {
mInterstitialAd.show();
} else {
reset_game();
}
}
});
dialog.show();
La cuestión es que si mostraba las Ads, pero al momento de cerrarlo, sí reiciaba, el juego pero se cerraba la actividad redireccionando al Main del juego, ese error no lo pude resolver, mejor cambié la manera en que las ads se mostraran.
1539,javascript|jquery,Actualmente tengo esta función:
function devuelveButaca(posicion){
var array = posicion.split('_');
var row = array[0];
var column = array[1];
var planta = $('#plantaField').val();
var resultado = "";
$.ajax({
type : 'GET',
url : 'site/numButaca',
data : {
planta : planta,
column : column,
row : row
},
success : function(data) {
if(data == 'undefined' || data == ''){
resultado = column;
}else{
resultado = data;
}
},
error : function(request, status, error) {
},
});
alert(resultado);
return resultado;
}
La cual devuelve el resultado correctamente, el problema es que a menos que entre en modo debug, o ponga un alert antes del return, resultado vuelve vacío. Actualmente, el alert sale vacío pero devuelve correctamente el resultado (la uso para agregar el texto de la variable a un div).
He leído que se puede solucionar poniendo un Timeout, pero me gustaría saber si hay alguna solución mas elegante que esta.
1557,javascript,Estoy trabajando en nodejs (aunque mi pregunta es válida para javascript en general) y me topé con algo que no entiendo.
Está relacionado con el operador ternario el cual según entiendo, funciona así:
var numero = 5;
var positivo = numero >= 0 ? true : false;
Si la condición (numero >=0) se cumple, el resultado final será el primer valor que aparece luego de dicha condición, en este caso true. En caso contrario, el resultado final será el segundo valor, en este caso false.
Por lo que al imprimir:
console.log(positivo); //imprime true
Si cambio la variable numero, puedo obtener un valor falso:
var numero = -1;
var positivo = numero >= 0 ? true : false;
console.log(positivo); //imprime false
Hasta ahora todo bien, pero tratando de aislar mi problema hice este pequeño fragmento de código:
var isValid = false;
var message;
if(isValid){
message = 'es válida';
}else {
message = 'no es válida';
}
console.log("Ésta condición " + message);
console.log("Ésta condición " + isValid ? 'es válida' : 'no es válida');
Según mi lógica, dado que en mi código la variable isValid es falsa, ambos mensajes deberían imprimir:
Ésta condición no es válida
Sin embargo cuando ejecuto mi programa el resultado es este:
Ésta condición no es válida
es válida
Como pueden ver, al usar el operador ternario ha ignorado por alguna razón que mi variable isValid estaba en false, ¿alguien tiene idea del por qué pasa esto? Y si fuera un comportamiento esperado (lo cual dudo) me gustaría saber el por qué.
1560,javascript,Quisiera sacarme esta duda con respecto a las fechas con JavascSript o más bien con Moment.js.
Tengo un calendario donde guardo eventos. Si selecciono una hora (por ejemplo 21 diciembre a las 8:00). Esta fecha está en Moment.js y la convierto a UNIX para guardarla en Firebase. Luego esta fecha quiero recuperar por lo cual vuelvo a convertir ahora de UNIX a Date.
Es aquí donde veo diferencia: la hora ya no son las 8:00 sino las 21:00 del día anterior. Es por ello que me gustaría saber cuál es la forma correcta de guardar fechas y luego leerla sin que la zona horaria sea un dolor de cabeza.
Para guardar tomo lo siguiente:
timeAll contiene:
_d: Mon Dec 21 2015 21:00:00 GMT-0300 (Hora est. Sudamérica Pacífico)
_f: "YYYY-MM-DDTHH:mm:ss"
_i: "2015-12-21T08:00:00"
_isAMomentObject: true
_isUTC: false
_isValid: true
_locale: q
_pf: Object
__proto__: m
y ésta es la función agregar:
vm.new.$add({
title: 'Titulo: '+ Evento.Fecha.timeAll.format('DD.MM.YYYY HH:mm'),
startsAt:Evento.Fecha.timeAll.unix() ,
endsAt:Evento.Fecha.timeAll.endOf("hour").unix(),
});
Esto son los datos en la base de datos:
endsAt: 1450745999
startsAt: 1450742400
title: "aaa:21.12.2015 21:00"
Al rescatar desde la base de datos, esto es lo que obtengo:
// Antes item.startsAt : Tue, 22 Dec 2015 00:00:00 GMT
item.startsAt = moment.unix(item.startsAt).toDate();
// despues item.startsAt = startsAt: Mon Dec 21 2015 21:00:00 GMT-0300
1567,ios,Así es como he creado el popover en el view controller de la aplicación:
if (!_suggestionsPopover) {
UIViewController *suggestionsViewController = [self.storyboard instantiateViewControllerWithIdentifier:@"Suggestions"];
_suggestionsPopover = [[UIPopoverController alloc] initWithContentViewController:suggestionsViewController];
_suggestionsPopover.delegate = self;
_suggestionsPopover.passthroughViews = @[_searchField];
}
[_suggestionsPopover presentPopoverFromRect:_searchField.frame
inView:self.view
permittedArrowDirections:UIPopoverArrowDirectionAny
animated:YES];
El view controller del popover es creado desde el storyboard principal usando el Storyboard ID. La vista del popover tiene un tamaño suficientemente grande en su storyboard como para abarcar casi toda la pantalla.
El problema es que cuando el teclado virtual aparece el tamaño del popover es reajustado para hacerlo mas pequeño de modo que no obstruya la vista del teclado.
Editado:
Así es como debería lucir la vista del popover si el usuario toca el campo de búsqueda (en la parte superior donde dice "Search")
Si el usuario toca la pantalla en la lista de sugerencias para mover el scroll, el teclado se oculta mostrando toda la lista de sugerencias en el popover. Esa manera de mostrar la lista de sugerencias de la búsqueda es la que usa Safari en iOS y que quiero replicar en mi aplicación.
1570,java,Tengo las siguientes entidades, todas ellas relacionadas de la siguiente manera:
@Entity
@Table(name = "site")
public class Site extends BaseEntity {
/**
* Serial
*/
private static final long serialVersionUID = -6249200015501840399L;
private String name;
private Boolean template;
@OrderBy("id")
@Where(clause = "deleteDate is null")
@OneToMany(mappedBy = "site", fetch = FetchType.LAZY, cascade = CascadeType.ALL)
private Set<Ceremony> ceremonies = new HashSet<Ceremony>();
@OrderBy("orden")
@Where(clause = "deleteDate is null")
@OneToMany(mappedBy = "site", fetch = FetchType.EAGER, cascade = CascadeType.ALL)
private Set<SiteFloor> floors = new HashSet<SiteFloor>();
}
@Entity
@Table(name = "site_floor")
public class SiteFloor extends BaseEntity {
/**
* Serial
*/
private static final long serialVersionUID = -7377030638076319589L;
private String name;
private Integer orden;
@Lob
@Column(length=65000)
private String map;
private Boolean template;
@ManyToOne
private Site site;
@OrderBy("orden")
@Where(clause = "deleteDate is null")
@OneToMany(mappedBy = "floor", fetch = FetchType.EAGER, cascade = CascadeType.ALL)
private Set<SiteRow> rows = new HashSet<SiteRow>();
}
@Entity
@Table(name = "site_row")
public class SiteRow extends BaseEntity {
/**
* Serial
*/
private static final long serialVersionUID = -197546085868764752L;
private String name;
private Integer orden;
private Boolean template;
@ManyToOne
private SiteFloor floor;
@OrderBy("orden")
@Where(clause = "deleteDate is null")
@OneToMany(mappedBy = "row", fetch = FetchType.EAGER, cascade = CascadeType.ALL)
private Set<SiteChair> chairs = new HashSet<SiteChair>();
}
@Entity
@Table(name = "site_chair")
public class SiteChair extends BaseEntity {
/**
* Serial
*/
private static final long serialVersionUID = -5188420274496228482L;
private String name;
private Integer orden;
private Boolean temp;
private Boolean blocked;
private Boolean template;
@ManyToOne
private Entidad entity;
@ManyToOne
private SiteRow row;
}
Y tengo un método que crea a todos los hijos y mi intención es guardarlos todos en cascada (en otras palabras guardar el padre y que automaticamente se creen los hijos), el método es el siguiente:
private Site nuevoSitio(Site siteTemplate, SiteService siteServ){
Site newSite = new Site();
newSite.setId(null);
newSite.setTemplate(false);
newSite.setName(siteTemplate.getName());
for(SiteFloor siteFloor : siteTemplate.getFloors()){
SiteFloor sf = new SiteFloor();
sf.setId(null);
sf.setTemplate(false);
sf.setName(siteFloor.getName());
sf.setOrden(siteFloor.getOrden());
sf.setMap(siteFloor.getMap());
sf.setSite(newSite);
for(SiteRow siteRow : sf.getRows()){
SiteRow sr = new SiteRow();
sr = siteRow;
sr.setId(null);
sr.setTemplate(false);
sr.setOrden(siteRow.getOrden());
sr.setFloor(sf);
for(SiteChair siteChair : sr.getChairs()){
SiteChair sc = new SiteChair();
sc.setId(null);
sc.setTemplate(false);
sc.setOrden(siteChair.getOrden());
sc.setTemp(siteChair.getTemp());
sc.setBlocked(siteChair.getBlocked());
sc.setEntity(null);
sc.setRow(sr);
sr.getChairs().add(sc);
}
sf.getRows().add(sr);
}
newSite.getFloors().add(sf);
}
return siteServ.saveOrUpdate(newSite);
}
El problema está que al guardar, crea correctamente el primer hijo, SiteFloor, pero el resto, SiteRow y SiteChair no los crea. ¡Acaso no funcionan las cascadas con tantos elementos anidados?
1575,java,Para conectarse a una base de datos mediante jdbc se necesita un URL (Localizador universal de Recursos) especialmente construido.
Tengo una base de datos Oracle Express Edition configurada localmente.
¿Cómo puedo hacer que la base de datos me genere el URL de conexión mediante una consulta?
1597,java|android,¿Cómo hago para modificar un radio button en donde el círculo este en la izquierda o derecha según como quiera?. Por defecto me aparece así.
<RadioButton
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="New RadioButton"
android:id="@+id/radioButton"
android:layout_below="@+id/textView6"
android:layout_alignStart="@+id/textView6"
android:layout_marginTop="43dp" />
Antes
y lo que quiero es ponerlo así
Después
o también así, como un match_parent
Actualizacion
Acabo de solucionarlo de la siguiente manera.
<RadioButton
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="New RadioButton"
android:id="@+id/radioButton"
android:drawableRight="@android:drawable/btn_radio"
android:button="@null"
android:background="#ffffff"
android:layout_centerVertical="true"
android:layout_centerHorizontal="true" />
1599,c++,Estoy confundido respecto a la precedencia del operador de asignación directa y el operador condicional ternario:
#include<stdio.h>
int main(void)
{
int j, k;
j = k = 0;
(1 ? j : k) = 1; // primero
printf("%d %d\n", j, k);
j = k = 0;
1 ? j : k = 1; // segundo
printf("%d %d\n", j, k);
return 0;
}
Esperaba que la salida fuese:
1 0
1 0
Pero resulta ser:
1 0
0 0
Y recibo este aviso de compilación :
main.cpp:20: warning: statement has no effect
Que es acerca de la línea comentada como segundo.
Dado que el operador de asignación tiene menos precedencia que el operador condicional ternario, esperaba que las líneas comentadas como primero y segundo fuesen equivalentes. Pero resulta que no.
Lo he intentado con g++ (Ubuntu 5.2.1-22ubuntu2) 5.2.1 20151010
Esta pregunta es una traducción de la original en inglés que hice yo mismo.
1601,jquery,Estoy trabajando con uploadify v 3.2.1 (con vb.net). Todo bien solo que no me funciona la propiedad para el filtro de la extensión de los archivos de entrada.
Tengo mi código asi:
$("[id$='fuArchivoNoticias']").uploadify({
fileTypeDesc: 'Archivos Excel...', //definir formatos
fileTypeExts: '*.xlsx; *.xls', // definir formatos de entrada
fileSizeLimit: '10MB',
queueSizeLimit: 1,
auto: false,
swf: '../Recursos/Js/uploadify/uploadify.swf',
uploader: 'Upload_Informaciones.ashx',
multi: false,
buttonText: 'Examinar...',
onSelect: function (obj, varCod, nameFile) {
$("input[id='hd_nombreArchivo']").val(obj.name);
},
onCancel: function (file) {
console.log("El archivo " + file.name + " fue cancelado.");
}
});
y se me ve así:
Sigo al pie de la letra la documentación de la página pero no hay caso.
1630,java,Digamos que tengo la siguiente estructura de carpetas dento de WEB-INF:
WEB-INF
- jsp
- foo
+ bar.jsp
Utilizo el siguiente view resolver:
<bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
<property name="viewClass"
value="org.springframework.web.servlet.view.JstlView" />
<property name="prefix" value="/WEB-INF/jsp/" />
<property name="suffix" value=".jsp" />
</bean>
bar.jsp tiene el siguiente contenido:
<!DOCTYPE html>
<html lang="en">
<head> ... </head>
<body>
Hola ${nombre}
</body>
</html>
Tengo el siguiente controlador:
@Controller
@RequestMapping("/foo")
public class MiControlador {
@RequestMapping("/bar.html")
public void muestraBar(Model model) {
model.addAttribute("nombre", "Luiggi");
}
}
Ahora quiero reusar bar.jsp en el mismo controlador pero usando un mapeo de solicitud diferente, de esta manera:
@Controller
@RequestMapping("/foo")
public class MiControlador {
@RequestMapping("/bar.html")
public void muestraBar(Model model) {
model.addAttribute("nombre", "Luiggi");
}
@RequestMapping("/quo.html")
public String muestraQuo(Model model) {
model.addAttribute("nombre", "Thomas");
return "bar";
}
}
El método usado arriba fallará porque Spring MVC buscará bar.jsp en la raíz, esto es, dentro de WEB-INF/jsp. Quiero/necesito reusar bar.jsp porque básicamente utilizo el mismo contenido, solo con datos diferentes para completar los atributos.
Actualmente, conozco una solución inflexible que es retornar la ruta completa de bar.jsp:
@RequestMapping("/quo.html")
public String muestraQuo(Model model) {
model.addAttribute("nombre", "Thomas");
return "foo/bar";
}
¿Existe otra manera de lograr esto?
Nota: No es uso de plantillas. Solo quiero usar el mismo recurso JSP para dos vistas únicamente con URLs diferentes, tal como se muestra en el ejemplo.
1643,javascript,El HTML (creo los inputs):
<input type="text" placeholder="Escribe tu nombre" required>
<input type="email" placeholder="Escribe tu Email" required/>
<textarea placeholder="Escribe aquí el contenido de tu mensaje"></textarea>
Y el JavaScript para el input email (con resolver este ya hago los otros):
var email = document.querySelector("input[type='email']")
function removeElement(element) {
for (var i = 0; i < element.length; i++) {
element[i].parentNode.removeChild(element[i]);
}
}
function borrarEmail() {
var parArea = document.getElementsByClassName("remove5");
var parArea2 = document.getElementsByClassName("remove6");
if (parArea.length > 0 && parArea2 > 0) {
removeElement(parArea);
removeElement(parArea2);
}
}
email.addEventListener("blur", function() {
if (this.value == "" || this.value.indexOf("@") == -1 || this.value.indexOf(".") == -1) {
borrarEmail();
email.setAttribute("style", "background: pink; border-color: red");
var parrafo5 = document.createElement("p");
parrafo5.classList.add("remove5");
parrafo5.innerHTML = "Bad Email";
var emailConf = email.parentNode;
emailConf.insertBefore(parrafo5, email);
parrafo5.setAttribute("style", "color: red");
} else {
borrarEmail();
email.setAttribute("style", "background: #C8FDD4; border-color: #52FD8B");
var parrafo6 = document.createElement("img");
parrafo6.classList.add("remove6");
var emailCheck = document.getElementsByClassName("remove6");
emailCheck.src = "./img/check.png";
var emailConf1 = email.parentNode;
emailConf1.insertChildAfter(parrafo6, email);
}
});
Lo que hago es checkar que si el campo esta vacio añadirle estilo al input y un texto, (eso funciona), pero al añadirle una imagen despues, no consigo que funcione.
1648,javascript,Si tengo una variable string con el siguiente valor:
var myString = "{'nombre':'juan'}";
¿Cómo puedo convertir un string a un objeto JSON en JavaScript?
1650,c#,He estado investigando sobre delegados en C# pero la verdad no me queda tan claro aún.
¿Alguien puede explicarme de qué trata?
1651,python,Necesito obtener la raíz digital de un número positivo usando Python, hasta ahora mis algoritmos no funcionan.
En teoría se deben sumar los dígitos de cada numero hasta que quede solo 1 dígito en el número.
Por ejemplo:
127 = 1+2+7 = 10
1+0 = 1
Por lo tanto la raíz digital de 127 seria 1.
Este fue mi ultimo algoritmo:
def getDigitalRoot(num):
return num if num==9 else num%9
Pero no funciona bien ya que si pongo por ejemplo 99 retorna 0 y tendría que ser 9.
1685,c#,Estoy intentando hacer que al utilizar un ActionLink con múltiples parámetros me me genere un link de la forma
{Controller}/{Action}/{idCompania}/{idLocal}/{fecha}
Pero siempre me genera una querystring:
{Controller}/{Action}?idCompania=0&idLocal=21&fecha=23-12-2015
En el global.asax tengo:
routes.MapRoute(
"UltimosInformesDetail",
"UltimosInformes/Details/{idCompania}/{idLocal}/{fecha}",
new { controller = "UltimosInformes",
action = "Details",
idCompania="",
idLocal="",
fecha="" },
null
)
Mi ActionLink en la vista:
<td>
@Html.ActionLink("Detalle",
"Details",
"UltimosInformes",
new { idCompania = item.Compania,
idLocal    = item.Local.Codigo,
fecha      = item.Fecha.ToString("dd-MM-yyyy")}, null)
</td>
Mi controller:
public ActionResult Details(short idCompania, short idLocal,string fecha)
{
var s = RootContext.Instance.Resolve<ProblemaService>();
return View(s.ObtenerAuditoresVisita(idCompania, idLocal, DateTime.Parse(fecha)));
}
Investigué en SO en inglés ver aquí y aquí Pero no pude resolverlo
No logro hacer que genere el link "ruteado" siempre me genera una querystring
1723,javascript,Estoy intentando hacer en Node.js un programa que, tras recibir un comando tipo Unix via POST, este lo ejecute y muestre a tiempo real la salida en el navegador.
Este es el código que estoy empleando para ejecutar los comandos:
exec(myCommand, function(err, stdout, stderr){
sys.print('stdout: ' + stdout);
sys.print('stderr: ' + stderr);
if(err !== null) {
console.log('EXECUTION ERROR: ' , err);
}
}
Sin embargo, la salida de stdout viene en forma de Buffer, por lo que no tengo muy claro cómo puedo hacer que el navegador vaya mostrando su contenido, a medida que aumenta.
Mi idea es que si, por ejemplo, ejecuto el comando apt-get update, vaya mostrando qué está haciendo a tiempo real, y no toda la salida de golpe cuando ya ha terminado.
Se me ha ocurrido que podría guardar el contenido del buffer en una cadena de texto repetidamente, y luego hacer que el navegador, a través de JavaScript, fuese comprobando las actualizaciones con frecuencia, pero me parece una solución un poco chapucera, por no mencionar que no es tan rápida como me gustaría.
En conclusión, ¿cómo puedo hacer esto de la manera más rápida y simple posible?
1724,php,Estoy integrando un template en Joomla 3 y requiero crear una posición en un layout del componente com_content. Estoy consiente que para eso en el archivo index.php del template se puede hacer de la siguiente forma:
<jdoc:include type="modules" name="nombre-posicion" />
En cambio eso no funciona dentro de los layouts.
Encontré lo siguiente en la documentación oficial de Joomla:
How do you put a module inside an article? - Joomla! Documentation
Syntax:
{loadposition position[, style]}
{loadmodule module[, title[, style]]}
Pero detecté que sólo funciona al utilizar ese código dentro del contenido de los artículos (el cual es guardado en DB y luego parseado para ser mostrado en el frontend).
1728,ios,Soy nuevo en iOS. Estoy aprendiendo Swift2. Tengo un servicio RESTful que al momento de ocurrir un error (4XX) necesito acceder a un objeto JSON que responde el ws para mostrar un feedback al usuario con un mensaje coherente con lo sucedido.
Actualmente estoy usando Alamofire 2.0 para conectarme y EVReflection para serializar las respuestas del servidor.
ACTUALIZACIÓN
Actualmente, al recibir una respuesta HTTP 200, en el completion handler recibo de la siguiente forma los objetos:
(request, response, data) in
if response?.statusCode==200{
if(data.isSuccess){
onResponse(response: (data.value)!,error:nil)
}
}
Cuando la respuesta es diferente de 200, data.value viene nulo, siendo que el servidor igual respondió un objeto indicando los motivos del error. Necesito obtener ese objeto.
1729,python,Tengo esta Cadena:
So she was considering in her own mind, as well as she could, for the hot day made her feel very sleepy and stupid,  whether  the  pleasure  of making a daisy-chain would be worth the trouble of getting up and  picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.
¿Cómo encuentro las palabras en esta cadena, que tienen el mismo número de vocales y consonantes y obtengo su número de orden en la cadena?
Es decir, necesito encontrar las palabras que tengan igual número de vocales y consonantes. Por ejemplo: amor (2 vocales y 2 consonantes).
1732,python,¿Cómo puedo ordenar una cadena (string) de forma descendente, es decir que desde la palabra mas larga a la mas corta?
1736,python,Tengo varios archivos que tiene por nombre la fecha en día juliano. Ejemplo:
2014353_180000
2014353_190000
2014353_200000
2014354_180000
2014354_190000
2015355_190000
2015355_200000
...etc.
Lo que quiero es que de esos archivos pasarlos a su respectiva carpeta, como lo muestro a continuación.
.
├ 2014353/
|  ├─ 2014353_180000
|  ├─ 2014353_190000
|  └─ 2014353_200000
├ 2015354/
|  ├─ 2015354_190000
|  └─ 2015354_200000
etc ...
¿Cómo podría hacerlo?.
1738,c#,Guia definitiva de conversión de tipos en c#
Convertir String a Integer
Convertir Integer a String
Convertir char a String
Convertir String a char
Convertir String a Double
Convertir Double a String
Convertir String a Float
Convertir Float a String
Convertir String a bool
Convertir bool a String
Convertir Byte[] a String
1744,c#,Quisiera saber de qué forma puedo emular un StackPanel de WPF en Windows Forms
1747,c#,¿Cómo obtener los Children de un FlowLayoutPanel de Windows Forms? Veo que no es igual que un StackPanel de WPF.
1751,c#,¿Como puedo convertir un Control a UIElement en Windows forms con c#?
Estoy extrayenado los Controles de un FlowLayoutPanel con Controls pero quiero convertirlos a UIElement
1752,javascript,Tengo un Array de fechas, estas todas en MomentJs, quiero poder ordenar de menor a mayor, ademas utilizo Underscore.js y creo que podría funcionar con _.sortBy pero no logro analizar el ordenamiento:
available: false
from: m
_d: Wed Dec 23 2015 09:00:00 GMT-0300 (Hora est. Sudamérica Pacífico)
_f: "YYYY-MM-DDTHH:mm:ss"
_i: "2015-12-23T08:00:00"
_isAMomentObject: true
_isUTC: false
_locale: q
_pf: Object
__proto__: m
time: "09:00"
until: m
_d: Wed Dec 23 2015 09:14:00 GMT-0300 (Hora est. Sudamérica Pacífico)
_f: "YYYY-MM-DDTHH:mm:ss"
_i: "2015-12-23T08:00:00"
_isAMomentObject: true
_isUTC: false
_locale: q
_pf: Object
1762,java,Quiero convertir una cadena de caracteres japoneses de katakana a hiragana. Dejando todos los caracteres que no sean katakana tal cual.
He probado con toUpperCase y toLowerCase con el Locale JAPANESE, pero ambos dejan la cadena sin modificar.
public class KataKanaAHiragana {
static String entrada = "スタックオベルフロウ";
public static void main(String[] args) {
System.out.println( entrada.toUpperCase(Locale.JAPANESE) );
System.out.println( entrada.toLowerCase(Locale.JAPANESE) );
}
}
El resultado que obtengo en ambos casos es :
スタックオベルフロウ
Y lo que quiero obtener es :
すたっくおべるふろう
1768,c#|jquery,Este es un fragmento del webservice:
[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)],
[System.ComponentModel.ToolboxItem(false)],
[System.Web.Script.Services.ScriptService])
public class ClientServei : System.Web.Services.WebService
{
[WebMethod]
public List<Client> GetClient()
{
List<Client> Listclient = new List<Client>();
Listclient.Add(new Client() { Nombre = "OSCAR", Apellido = "PUIG", Edad = 30 });
Listclient.Add(new Client() { Nombre = "JORDI", Apellido = "FERRER", Edad = 31 });
Listclient.Add(new Client() { Nombre = "MIQUEL", Apellido = "MAR", Edad = 31 });
return Listclient;
}
}
Y esta es la función click de jQuery que utilizo para llamar la función AJAX:
$("#prova").click(function () {
$.ajax({
url: "ClientServei.asmx/GetClient",
data: "{}",
dataType: "json",
type: "POST",
contentType: "application/json; charset=utf-8",
success: function (data) {
alert("success");
},
error: function (response) {
alert("error");
},
failure: function (response) {
alert("arriva failure");
}
});
});
He capturado los errores en el alert y obtengo: "Requested page not found [404]".
¿Cuál puede ser la causa de que este webservice no se consuma correctamente?
1778,java,Estoy creando una aplicación en jsf y necesito subir un documento para almacenarlo posteriormente en una base de datos oracle.
Uso primefaces para subir el archivo.
Hice las pruebas correspondientes y el archivo se sube y descarga, pero al descargarlo, el archivo descargado, está corrupto y el peso de éste es superior al archivo original.
Desconozco el motivo por el cual esto se puede producir, quizás estoy haciendo alguna conversión mal, que creo es lo más probable, pero en realidad no sé como validar eso.
El código para subir el documento en cuestión es el siguiente.
xhtml
<p:fileUpload label="Buscar" update="@form" auto="true" fileUploadListener="#{sdocumento.handleFileUpload}"></p:fileUpload>
ManagedBean
public void handleFileUpload(FileUploadEvent event) throws FileNotFoundException, IOException {
//llenado de los datos para el modelo de documento en la bd
documento.setcSiniestro(cSiniestro);
documento.setcDocumento(selectedDocument);
documento.setEliminado("N");
documento.setTipoSiniestro(msiniestro.getcSiniestro());
documento.setNombreArchivo(event.getFile().getFileName());
documento.setTipoArchivo(obtenerExtencionArchivo(event.getFile().getFileName().toString()));
documento.setContentType(event.getFile().getContentType());
//esta es la parte en que se extrae el inputStream
InputStream in= event.getFile().getInputstream();
//transformación de inputStream a Base64 mediante función expuesta más abajo
documento.setArchivo64(inputStreamToBase64(in));
if(cd.insertDocumento(documento)){//insertar en la base de datos
m.show("info", "Documento guardado correctamente");
}else{
m.show("error", "Error al guardar el documento");
}
setDocumento(new DocumentoVO());//se vuelve a inicializar el documento para posterior uso
setDocumentos(cd.getDocumentos(cSiniestro));//se actualiza lista de documentos que ya fueron subidos
}
private String inputStreamToBase64(InputStream in) throws IOException{
String base64="";
int bytesRead = 0;
int chunkSize = 10000000;
byte[] chunk = new byte[chunkSize];
while ((bytesRead = in.read(chunk)) > 0) {
byte[] ba = new byte[bytesRead];
for(int i=0; i<ba.length;i++){
ba[i] = chunk[i];
}
base64 = Base64.encodeToString(ba, true);
}
in.close();
return base64;
}
El documento es subido a la base de datos siendo guardado en base64, haciendo uso del manejo de archivos con oracle clob. Una de las maneras para subir el archivo en base64 es insertar primero el registro, luego dejarlo tomado con un SELECT FOR UPDATE y posteriormente efectuar un update al registro subiendo el clob.
Función para subir el documento.
public boolean insertDocumento(DocumentoVO documento){
boolean flag = false;//flag para saber si el procedimiento se efectuó correctamente
int correlativo = getNextVal();//obtenido de una sequencia
//creación del registro
String insert ="INSERT INTO DOCUMENTOS.DOCUMENTOSINIESTRO(CORRELATIVO,CODIGOSINIESTRO,TIPODOCUMENTO, TIPOSINIESTRO, NOMBREARCHIVO,TIPOARCHIVO,CONTENTTYPE,ELIMINADO,FECHASUBIDA,ARCHIVO64)VALUES("
+ correlativo
+ ","+documento.getcSiniestro()
+ ","+documento.getcDocumento()
+ ","+documento.getTipoSiniestro()
+ ",'"+documento.getNombreArchivo()
+ "','"+documento.getTipoArchivo()
+ "','"+documento.getContentType()
+ "','"+documento.getEliminado()
+ "',SYSDATE,empty_clob())";
//select para dejar tomado el registro
String select = "SELECT ARCHIVO64 FROM DOCUMENTOS.DOCUMENTOSINIESTRO WHERE CORRELATIVO ="+correlativo+" FOR UPDATE";
//update para subir el documento en base64
String update = "UPDATE DOCUMENTOS.DOCUMENTOSINIESTRO SET ARCHIVO64 = ? WHERE CORRELATIVO = "+correlativo;
try{
cOra = new ConexionOraclePool();//crea nueva conexión
cOra.getConexion().setAutoCommit(false);//se deshabilita el autocommit para poder usar el FOR UPDATE
pst = cOra.getConexion().prepareStatement(insert);
if(pst.executeUpdate()>0){//si inserta
pst = cOra.getConexion().prepareStatement(select);
rs = pst.executeQuery();
if(rs.next()){//si se efectuó el select correctamente
oracle.sql.CLOB clob = (oracle.sql.CLOB) rs.getClob("ARCHIVO64");
clob.putString(1, documento.getArchivo64());
pst = cOra.getConexion().prepareStatement(update);
pst.setClob(1, clob);
if(pst.executeUpdate()>0){//si updatea
flag =true;
}
}
}
cOra.getConexion().commit();
rs.close();
pst.close();
}catch (Exception ex) {
flag = false;//si ocurre algún error
System.out.println(insert);
System.out.println(select);
System.out.println(update);
Logger.getLogger(DocumentoDAO.class.getName()).log(Level.SEVERE, null, ex);
}finally{
try {
cOra.cierraConexion();//cierre de conexión
} catch (SQLException ex) {
Logger.getLogger(DocumentoDAO.class.getName()).log(Level.SEVERE, null, ex);
}
}
return flag;
}
Hasta esta parte en la base de datos, al revisar que hay en ARCHIVO64 se pueden apreciar una serie de caracteres que deberían ser los correspondientes al documento en base64, digo "deberían" porque no tengo como comprobarlo hasta el momento.
Para poder descargar el documento el código es el siguiente.
xhtml
<h:dataTable value="#{sdocumento.documentos}" var="doc" styleClass="table table-condensed table-hover">
...
<h:column>
<f:facet name="header">
<h:outputText value="Archivo" />
</f:facet>
<p:commandLink  ajax="false" value="#{doc.nombreArchivo}" >
<p:fileDownload  value="#{sdocumento.downloadFile(doc)}"></p:fileDownload>
</p:commandLink>
</h:column>
...
ManagedBean
public StreamedContent downloadFile(DocumentoVO doc){
//input stream formado por el archivo rescatado de la base de datos mediante una función a explicar abajo
InputStream input = new ByteArrayInputStream(cd.getDataDocumento(doc.getCorrelativo()));
//streamedContent para formar el archivo a descargar
StreamedContent fileDown=new DefaultStreamedContent(input,doc.getContentType(),doc.getNombreArchivo());
return fileDown;
}
Función para obtener el documento desde la base de datos.
public byte[] getDataDocumento(int correlativo){
byte[] data = "Any String you want".getBytes();//para inicializar.
//select del archivo en base64
String sql ="SELECT ARCHIVO64 FROM DOCUMENTOS.DOCUMENTOSINIESTRO WHERE CORRELATIVO ="+correlativo;
try{
cOra = new ConexionOraclePool();
pst = cOra.getConexion().prepareStatement(sql);
rs = pst.executeQuery();
while(rs.next()){
oracle.sql.CLOB clob = (oracle.sql.CLOB)rs.getClob(1);
//se guardan el archivo en byte[]
data = IOUtils.toByteArray(clob.getCharacterStream(), "UTF-8");
}
rs.close();
pst.close();
}catch (Exception ex) {
System.out.println(sql);
Logger.getLogger(DocumentoDAO.class.getName()).log(Level.SEVERE, null, ex);
}finally{
try {
cOra.cierraConexion();
} catch (SQLException ex) {
Logger.getLogger(DocumentoDAO.class.getName()).log(Level.SEVERE, null, ex);
}
}
return data;
}
1780,javascript|jquery,Tengo este simple script que captura un evento de un botón con jQuery:
$(function() {
$('#myButton').click(function(evt) {
console.log(evt);
});
});
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<button id="myButton" type="button">
Enviar
</button>
La variable evt al ser mostrada en la consola tiene varias propiedades llamadas:
target
currentTarget
delegateTarget
relatedTarget
Todas ellas excepto relatedTarget hacen referencia al mismo objeto, el botón que generó el evento. ¿Sabe alguien cuál es la diferencia entre ellas? Si todas apuntan al mismo objeto, ¿por qué jQuery las usa?.
1783,python,Tengo estos dos modelos, Invoice que representa una factura e Item que representa los articulos en la factura.
from django.db import models
# Create your models here.
class Invoice(models.Model):
vendor = models.CharField(max_length=200)
client = models.CharField(max_length=200)
number = models.CharField(max_length=200)
date = models.DateTimeField(max_length=200)
due_date = models.DateTimeField()
def __str__(self):
return "Invoice number: {}".format(self.number)
class Item(models.Model):
invoice = models.ForeignKey(Invoice, on_delete=models.CASCADE)
description = models.TextField()
quantity = models.DecimalField(max_digits=19, decimal_places=2)
rate = models.DecimalField(max_digits=19, decimal_places=2)
amount = models.DecimalField(max_digits=19, decimal_places=2)
subtotal = models.DecimalField(max_digits=19, decimal_places=2)
tax = models.DecimalField(max_digits=19, decimal_places=2)
notes = models.TextField()
terms = models.TextField()
def __str__(self):
return "{}".format(self.description)
Y estos son los formularios de donde se va a recoger la información:
from django import forms
from .models import Invoice, Item
class InvoiceForm(forms.ModelForm):
class Meta:
model = Invoice
fields = ('vendor','client', 'number', 'date', 'due_date')
widgets = {
'date': forms.TextInput(attrs={'class':'datepicker'}),
'due_date': forms.TextInput(attrs={'class':'datepicker'}),
}
class ItemForm(forms.ModelForm):
class Meta:
model = Item
fields = ('description', 'quantity', 'rate', 'amount',
'subtotal', 'tax', 'notes', 'terms')
Mi duda es como hago referencia en el template a alguno de los campos de ItemForm para que capture los datos?
Porque al menos con InvoiceForm no tengo problemas, me los muestra. Por ejemplo si hago esto no tengo incovenientes:
<!-- Client -->
<div class="row">
<div class="input-field col s4">
<label for="{{ form.client.id_for_label }}">Client</label>
{{ form.client }}
</div>
<div class="input-field col s4 offset-s4">
<label for="{{ form.due_date.id_for_label }}">Due Date</label>
{{ form.due_date }}
</div>
</div>
Pero al intentar hacer referencia a algún campo de ItemForm no se como deberia hacerse. Por ejemplo si quiero en el template mostrar el campo description de ItemForm como deberia hacer? Porque si intento algo asi, no me muestra nada:
<div class="input-field col s5">
{{ form.description }}
</div>
Esta es mi vista, aunque tampoco sé como conectar ambos formularios, por ahora solo me interesa al menos que se muestren correctamente en el template:
def invoice_generator(request):
form = InvoiceForm
return render(request, 'invoiceapp/invoice_generator.html', {'form': form})
Quizás estoy mal enfocado o me estoy complicando, pero en realidad no se como proceder.
Agradezco su ayuda.
1784,html,Tengo un formulario muy parecido al que les pongo a continuación. Este es solo un demo pero ilustra la duda que tengo.
<!DOCTYPE>
<html>
<head>
<title>Formulario</title>
</head>
<body>
<form id="CreateForm" action="/create" method="post">
<div>
<label for="campo1">Campo1</label>
<input type="text" id="campo1" name="campo1">
</div>
<div>
<label for="campo2">Campo2</label>
<input type="text" id="campo2" name="campo2">
</div>
</form>
<button type="submit">
Enviar
</button>
</body>
</html>
¿Como puedo hacer para que cuando haga click en el botón se envíe el formulario sin usar javascript?
1787,javascript,En la página de Polymer Getting Started, podemos ver un ejempo de Polymer funcionando:
<html>
<head>
<!-- 1. Shim missing platform features -->
<script src="polymer-all/platform/platform.js"></script>
<!-- 2. Load a component -->
<link rel="import" href="x-foo.html">
</head>
<body>
<!-- 3. Declare the component by its tag. -->
<x-foo></x-foo>
</body>
</html>
Date cuenta de que <x-foo></x-foo> viene definido por platform.js y por x-foo.html.
Parece que esto es equivalente a la directiva de un modulo de AngularJS:
angular.module('xfoo', [])
.controller('X-Foo', ['$scope',function($scope) {
$scope.text = 'hey hey!';
})
.directive('x-foo', function() {
return {
restrict: 'EA',
replace: true,
controller: 'X-Foo',
templateUrl: '/views/x-foo.html',
link: function(scope, controller) {
}
};
});
¿Cuál es la diferencia entre los dos?
¿Que problemas soluciona Polymer que no haya solucionado AngularJS ?
¿Existe algún plan para unir Polymer con AngularJS en el futuro?
Pregunta original: What is the difference between Polymer elements and AngularJS directives?
1789,c#,Quiero hacer una cámara como la de los juegos Hotline Miami o Nuclear Throne; una cámara dinámica que sigue al jugador dejándolo en la zona central de la pantalla.
Este es un tutorial que explica cómo hacerlo. Tengo un código que puede servir, pero la cámara presenta problemas de posición y si muevo al jugador, la cámara se corre más de la cuenta.
Aquí está el código:
using UnityEngine;
using System.Collections;
public class shauldspading : MonoBehaviour
{
public Transform Player;
public Transform Mouse;
// Use this for initialization
void Start ()
{
}
// Update is called once per frame
void FixedUpdate ()
{
//var mousePos = Input.mousePosition;
//Vector3 Mouse = Camera.main.ScreenToWorldPoint(mousePos);
float xTo, yTo;
Vector3 pos = transform.position;
xTo = Player.position.x + lengthdir_x(Mathf.Min(9,Vector3.Distance(Player.transform.position, Mouse.transform.position)), Mouse.position);
yTo = Player.position.y + lengthdir_y(Mathf.Min (9, Vector3.Distance (Player.transform.position, Mouse.transform.position)), Mouse.position);
pos.x += (xTo - pos.x) / 25;
pos.y += (yTo - pos.y) / 25;
transform.position = pos;
}
float lengthdir_x(float len, Vector3 dir)
{
dir = dir.normalized * len;
return dir.x;
}
float lengthdir_y(float len, Vector3 dir)
{
dir = dir.normalized * len;
return dir.y;
}
}
Ya probé el código y me funciona, pero tiene el inconveniente de que no es fijo y si me muevo presenta problemas de posición.
¿Qué debería hacer para solucionar ese problema y mejorar el código que está arriba?
Actualizacion: Video camara dinamica Nuclear Throne ejemplo de camara dinamica 2D .
1795,ios,¿Cómo puedo animar una StackView para que se deslice hacia arriba comenzando desde x=0 hasta y=500? Tengo el siguiente método en viewDidLoad() que hace un efecto que crece el StackView:
StackView.transform = CGAffineTransformMakeScale(0.0, 0.0)
y luego añadí un efecto creciente en el método viewDidAppear():
UIView.animateWithDuration(0.4, delay: 0.0, options: [], animations: {
self.StackView.transform = CGAffineTransformIdentity
}, completion: nil)
Después el método ejecuta el viewDidLoad y el StackView se reduce al tamaño mínimo. Cuando el método de viewDidLoad se completa, el método viewDidAppear se invoca, y comienza la animación y el StackView comienza a crecer. La animación se detiene cuando el StackView llega a su tamaño original.
Aunque es un buen efecto, no es lo que quiero lograr. Quiero que la animación se deslice desde x= 0 y se detenga en y=500. Traté de añadir el siguiente código en el viewDidLoad para lograrlo, pero sigo teniendo el mismo efecto creciente:
StackView.transform = CGAffineTransformMakeTranslation(0, 500)
¿Alguna sugerencia sobre cómo lograr esto?
1799,javascript,¿Cuándo usar una función flecha en JavaScript?
() => { console.log('test'); }
function() { console.log('test'); }
1801,java,Tengo un problema al tratar de instalar android Studio en Ubuntu 14.04. Me aparece el siguiente error:
ERROR: Cannont start Android Studio
No JDK found. Please validate either STUDIO_JDK, JDK_HOME or JAVA_HOME environment variable points to valid JDK installation.
Ya estuve investigando y solo encontré una solución en Windows en la cual se tienen que crear variables de entorno, pero en ubuntu no encuentro nada, y se supone que ya tengo instalado el JDK.
1802,php,Tengo esta base de datos creada en phpMyAdmin:
El problema que tengo es que al momento de insertar los datos del formulario donde creo un usuario logra conectarse a la base de datos, los datos los envía pero no los guarda, concluyendo con la redirección a otra página.
Éste es mi código:
<?php
$servername ="mysql.hostinger.es";
$username ="user";
$password = "pass";
$dbname = "db";
$con=mysqli_connect($servername,$username,$password,$dbname );
//check connection
if (mysqli_connect_errno())
{
echo "Failed to connect to MySQL: " . mysqli_connect_error();
}
//add details in database
if (isset($_POST['usuario']) and isset($_POST['pass'])) {
$user = $_POST['usuario'];
$pass = $_POST['pass'];
mysqli_query($con,"INSERT INTO cuentas (usuarios, clave)
VALUES ($user, $pass)");
}
header("Location: resultado.html");
?>
¿Qué es lo que falla? ¿Qué debería cambiar? Espero que me puedan ayudar con este problema.
1812,c++,¿Cómo se puede ordenar una cadena (string) en forma descendente, es decir, desde la palabra más larga a la más corta?
Note que para dos o más palabras cuyas longitudes son iguales, el orden de las mismas en la salida debe ser alfabético, pero sin sensibilidad a mayúsculas/minúsculas, como se puede observar en la salida del ejemplo.
Por ejemplo, al ingresar la siguiente cadena:
"Yo soy principiante en programación"
Debería producirse la siguiente salida:
"principiante programación soy en Yo"
1814,javascript|html,¿Por qué razón los navegadores no reconocen correctamente lo siguiente?:
<script src="angular.js"/>
En cambio esto si funciona:
<script src="angular.js"></script>
Recordé este problema ahora que me acaba de pasar, y me pareció bueno incluirlo aquí. Sin embargo esta pregunta ya tiene respuesta en SO por lo que adjunto el link de referencia:
https://stackoverflow.com/questions/69913/why-dont-self-closing-script-tags-work
1815,java|android,Estoy desarrollando una aplicación para la pagina Web de mi escuela para ver las calificaciones y detalles escolares, he estado haciendo una búsqueda de como podría hacer el inicio de sesión desde Android y me encontré con JSOUP, hasta aquí todo va bien el problema que tengo ahora es que la página Web tiene captcha y necesito descargarla para visualizarla en un ImageView.
Aquí muestra como puedo hacer eso, solo que cuando lo implemento me muestra otra imagen diferente a la que debería de mostrar.
Connection.Response response = Jsoup.connect(url)
.timeout(300000)
.userAgent("Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0")
.method(Connection.Method.GET).execute();
//Get cookies
cookies = response.cookies();
String imgSrc = field.attr("src");
Log.d("IMAGESRC", url + imgSrc);
imgSrc = url + imgSrc;
// Download image from URL
InputStream input = new URL(imgSrc).openStream();
// Decode Bitmap
bitmap = BitmapFactory.decodeStream(input);
Quisiera poder obtener el CAPTCHA y hacer un login con ello desde Android
Página de la escuela
1820,java,Tengo un pequeño proyecto muy simple para trastear un poco spring security. El proyecto está montado sobre spring MVC, solo es el cascarón no tiene mayor complicación que hacer lo más sencillo.
Le metí spring security y todo me funcionó bien, solo que noto que las vistas que indique deben protegerse aunque se muestran correctamente en todos las URLs les antepone un prefijo, el cual el único lugar donde lo defino es en el filtro en el contexto de security:
<http auto-config="true">
<intercept-url pattern="/admin/**" access="ROLE_USER" />
</http>
Y el controlador correspondiente me devuelve correctamente la vista, pero todos las URLs aparecen antecedidas por /admin/ por lo que los controladores que no responden al patrón /admin/ sencillamente no están accesibles.
Por ejemplo, tengo un controlador que responde a /consultadatos pero en la vista protegida aunque la URL está codificada como /consultadatos la página renderizada sale como /admin/consultadatos.
1823,java,Necesito ayuda con HikariCP, al intentar configurarlo mediante un archivo properties (es posible según su pagina en GitHub) simplemente no funciona, adjunto el código:
public class DatabaseManager {
private DatabaseClient[] databaseClients;
private HikariDataSource hikariDataSource;
public DatabaseManager(String absoluteFilePath) {
final HikariConfig hikariConfig = new HikariConfig(absoluteFilePath);
this.hikariDataSource = new HikariDataSource(hikariConfig);
// devuelve null u-u
System.out.println(hikariConfig.getUsername());
}
}
Archivo 'hikaricp.properties':
## Database Settings
dataSourceClassName=org.mariadb.jdbc.MySQLDataSource
dataSource.user=root
dataSource.password=
dataSource.databaseName=imagine-db
dataSource.portNumber=3306
dataSource.serverName=localhost
1826,html,Estoy intentando crear un menú hecho con imágenes con el efecto hover, pero no entiendo porque no se ve el div completo.
El menú consta de 6 imágenes (que en realidad son doce, dos por opción de menú, por el hover) y deben de verse en dos 'lineas'. Sin embargo, no sé por qué se solapan en una sola 'linea' y se acaban por ver tan solo tres.
Os dejo el código simplificado por si alguien que entienda ve dónde está el fallo:
html, body {
height: 100%;
}
.image-grid {
display: -moz-flex;
display: -webkit-flex;
display: -ms-flex;
display: flex;
-moz-flex-wrap: wrap;
-webkit-flex-wrap: wrap;
-ms-flex-wrap: wrap;
flex-wrap: wrap;
}
.image-grid .image {
width: 33%;
padding-left: 6px;
}
.image-grid .image img {
width: 100%;
}
#cf {
position: relative;
width: 33%;
display: -moz-flex;
display: -webkit-flex;
display: -ms-flex;
display: flex;
-moz-flex-wrap: wrap;
-webkit-flex-wrap: wrap;
-ms-flex-wrap: wrap;
flex-wrap: wrap;
}
#cf img {
position: absolute;
-webkit-transition: opacity 1s ease-in-out;
-moz-transition: opacity 1s ease-in-out;
-o-transition: opacity 1s ease-in-out;
transition: opacity 1s ease-in-out;
}
#cf img.top:hover {
opacity: 0;
height: 350px;
}
<section class="image-grid">
<a id="cf" href="#" class="image">
<img class="bottom" src="http://lorempixel.com/200/200/nature" alt="weddings" title="weddings" />
<img class="top" src="http://lorempixel.com/200/200/people" />
</a>
<a id="cf" href="#" class="image">
<img class="bottom" src="http://lorempixel.com/200/200/nature" alt="weddings" title="weddings" />
<img class="top" src="http://lorempixel.com/200/200/nature" alt="" />
</a>
<a id="cf" href="#" class="image">
<img class="bottom" src="http://lorempixel.com/200/200/nature" alt="weddings" title="weddings" />
<img class="top" src="http://lorempixel.com/200/200/city" alt="" />
</a>
<a id="cf" href="#" class="image">
<img class="bottom" src="http://lorempixel.com/200/200/nature" alt="weddings" title="weddings" />
<img class="top" src="http://lorempixel.com/200/200/sports" alt="" />
</a>
<a id="cf" href="#" class="image">
<img class="bottom" src="http://lorempixel.com/200/200/nature" alt="weddings" title="weddings" />
<img class="top" src="http://lorempixel.com/200/200/cats" alt="" />
</a>
<a id="cf" href="#" class="image">
<img class="bottom" src="http://lorempixel.com/200/200/nature" alt="weddings" title="weddings" />
<img class="top" src="http://lorempixel.com/200/200/abstract" alt="" />
</a>
</section>
1827,php,Tengo un trozo de código que inserta un registro en la tabla persona (id_persona, apellidos, nombres), estoy utilizando MySQLi y PHP5 y tengo lo siguiente:
$query="CALL persona('".$nombres."','".$apellidos."')";
$mysqli->query($query);
$filas = $mysqli->affected_rows;   //Aquí siempre me muestra 1, se inserte o no el registro
$id_insertado = $mysqli->insert_id //Siempre me muestra 0
pd. si se inserta el registro con ese procedimiento almacenado.
Pero si cambio por ejemplo a esto:
$query="INSERT INTO persona(nombres,apellidos)values('".$nombres."','".$apellidos."')";
$mysqli->query($query);
$filas = $mysqli->affected_rows;    //Funciona bien, devuelve el número de registros insertados
$id_insertado = $mysqli->insert_id; //Me muestra el id insertado
Mi procedimiento es el siguiente:
CREATE PROCEDURE persona(
IN pnombres TEXT,
IN papellidos TEXT,
)
COMMENT ''
BEGIN
INSERT INTO
persona
(
nombres,
apellidos
VALUE (
pnombres,
papellidos);
END;
Desearía por favor me apoyen con esta duda, ¿estoy haciendo algo incorrecto, o hay que agregar algo en el procedimiento almacenado, o hay alguna otra forma para poder saber que realmente se insertó el registro? Ya sea en MySQL o PHP, aparte de consultar el último ID, con funciones propias de MySQL.
1829,python,Tengo un inconveniente con el despliegue de una imagen utilizando el static tag.
Tengo una clase llamada ProfileView que entra en acción cuando inicio sesión en mi formulario de login. Esta clase examina los datos del perfil del usuario que está por iniciar sesión y los muestra en su home, datos, como nombre, username, foto entre otros.
class ProfileView(LoginRequiredMixin, TemplateView):
template_name = 'profile.html'
def get_context_data(self, **kwargs):
self.request.session['Hi'] = True
context = super(ProfileView, self).get_context_data(**kwargs)
is_auth = False
name = None
#Pregunto si en el request va el user
user = self.request.user
#Indago sobre los posibles casos, falta hacer cuando un user sea paciente y medico
if user.is_medical:
#if self.request.user.is_authenticated():
print (user.is_medical)
is_auth = True
profile=user.get_medical_profile()
#name = self.request.user.username
data = {
'is_auth':is_auth,
'profile':profile,
}
context.update({'userprofile':profile, 'data':data})
elif user.is_patient:
print (user.is_patient)
is_auth=True
profile=user.get_patient_profile()
data = {
'is_auth':is_auth,
'profile':profile,
}
context.update({'userprofile':profile,'data':data})
elif user.is_physiotherapist:
print (user.is_physiotherapist)
is_auth=True
profile=user.get_physiotherapist_profile()
data = {
'is_auth':is_auth,
'profile':profile,
}
context.update({'userprofile':profile,'data':data})
return  context
def get_userprofile(self):
return self.request.user.userprofile
La configuración de mi settings es la siguiente:
Tengo un settings llamado base.py en donde en relación a los archivos estáticos tengo lo siguiente (No está la directiva de DEBUG en este settings/base.py):
Generalmente aquí digo que mis archivos estáticos van a estar centralizados en un directorio llamado static gracias a la directiva de STATIC_URL='/static/'
Y después, con STATICFILES_DIRS estoy diciendo que busque los archivos estáticos dentro de un directorio llamado static así sea en cada aplicación o en la aplicación principal creada por Django al crear el proyecto.
# settings/base.py
import os
# Build paths inside the project like this: os.path.join(BASE_DIR, ...)
BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
# Static files (CSS, JavaScript, Images)
# https://docs.djangoproject.com/en/1.9/howto/static-files/
STATIC_URL = '/static/'
# With this configuration, Django will look for static files in a folder named static inside each app and into the neurorehabilitation/static folder created.
STATICFILES_DIRS = (
os.path.join(BASE_DIR, "static"),
)
Y tengo un settings llamado development.py que hereda de base.py y que posee esta configuración: Nótese que tengo el DEBUG=TRUE en este settings/development.py
He leído que el DEBUG debe estar en False cuando se quiere hacer cache de los archivos estáticos, aunque no sé si también cuando se quiere servirlos  desde el entorno de desarrollo.
También en este settings/development.py tengo una directiva llamada MEDIA_ROOT por medio de la cual le digo a Django que cuando yo suba un archivo, éste se guarde en un directorio llamado "media".
Y la directiva MEDIA_URL indica que los archivos (imágenes, sonido, video) van a servirse desde ese url /media/
# settings/development.py
from .base import *
# SECURITY WARNING: don't run with debug turned on in production!
DEBUG = True
# Database
# https://docs.djangoproject.com/en/1.9/ref/settings/#databases
DATABASES = {
'default': {
'ENGINE': 'django.db.backends.postgresql_psycopg2',
'NAME': get_env_variable('DATABASE_NAME'),
'USER': get_env_variable('DATABASE_USER'),
'PASSWORD': get_env_variable('DATABASE_PASSWORD'),
'HOST': 'localhost',
'PORT': '5433',
}
}
MEDIA_URL = '/media/'
#Cuando suba los archivos de media (imagenes sonido, video), van a servirse
#desde ese url.
MEDIA_ROOT = os.sep.join(os.path.abspath(__file__).split(os.sep)[:-2] + ['media'])
#Ahí le estamos diciendo que donde este, en la carpeta media, cree los
#elementos. Esto creara una carpeta media en el proyecto cuando subamos
#un archivo+
En mi plantilla profile.html estoy llamando la imagen por medio de la invocación del atributo photo el cual es un campo de tipo ImageFieldel cual va a la plantilla gracias a que en la vista anteriormente mostrada lo envió en el contexto.
Es dentro de la etiqueta figure cuando pretendo llamar la imagen de esta forma:
{% load static from staticfiles  %}
Acá todo el contenido de mi plantilla profile.html
{% extends 'base.html' %}
<!-- {% load staticfiles  %} -->
{% block content %}
<div>
{% if userprofile %}
{{ userprofile.user.username }}, <a href="{% url 'logout' %}">Logout</a>
{% else %}
<a href="">Login</a>
{% endif %}
</div>
<div style="  ">
<figure style=" ">
{% load static from staticfiles  %}
<img src="{% static '/media/{{ userprofile.user.photo }}' %}" alt="{{ userprofile.user.username }}">
<!-- <img src="/media/{{ userprofile.user.photo }}" alt="{{ userprofile.user.username }}"> -->
<figcaption>{{ userprofile.user.first_name }}</figcaption>
<!-- User esta relacionado 1 a 1 con userprofile model, por transitividad se llega
al campo username del modelo user desde userprofile-->
</figure>
</div>
{% endblock content %}
Y es así como obtengo en mi navegador que la imagen no aparece, pero sí la información relacionada con el name y el username del usuario que recién inicia sesión
En mi log del servidor de Django obtengo esto:
[28/Dec/2015 08:14:58] "GET /accounts/profile/ HTTP/1.1" 200 5467
Not Found: /media/{{ userprofile.user.photo }}
[28/Dec/2015 08:14:58] "GET /media/%7B%7B%20userprofile.user.photo%20%7D%7D HTTP/1.1" 404 1885
Cuando llamo la imagen sin usar el tag static sino de la manera tradicional es decir de esta forma:
<img src="/media/{{ userprofile.user.photo }}" alt="{{ userprofile.user.username }}">
Ahí sí sale la imagen que quiero llamar.
¿Que configuración me puede estar faltando? O ¿qué puedo estar ignorando o pasando por alto?
De todas maneras algo que planeo hacer en un corto tiempo es centralizar mis archivos con collectstatic y ponerlos en un CDN tipo Amazon S3 o desde NGINX en un servidor. Pero por el momento en desarrollo quisiera trabajar con ellos así.
No sé qué puede estar faltándome.
1840,javascript|html,Estoy intentando simular un cajero automático sencillo, en el que se pueda depositar, retirar y consultar el saldo.
Bien, lo he estado haciendo por medio de inputs usando javascript, pero mi código no funciona.
He aquí el código, por favor díganme en qué estoy mal.
var saldo = 0,
deposito, retiro;
function depositar() {
deposito = document.getElementByName("deposito").value;
saldo = saldo + deposito;
}
function retirar() {
retiro = document.getElementByName("retirar").value;
if (retiro > saldo) {
alert("Su fondo disposible no es suficiente");
} else {
saldo = saldo - retiro;
}
}
function verificar() {
document.getElementByName("verificar").value = saldo;
}
<form action="" method="post">
<input type="text" name="deposito" placeholder="Ingrese un deposito" />
<input type="submit" value="Depositar" onclick="depositar()">
</br>
</br>
su saldo actual es</br>
<input tupe "text" name "verificar" onclick="verificar()">
<input type="submit" value="verificar">
</br>
</br>
<input type="text" name="retirar" onclick="retirar()">
<input type="submit" value="retirar">
</form>
1842,php,En CI2 había una opción que te permitía configurar el cierre de sesión automático al cerrar el navegador.
En CI3 supuestamente la solución el colocar en 0 a $config['sess_expiration']; pero he probado y nada.
Si alguien ya encontró la solución, agradecería mucho lo comparta.
1869,javascript|jquery,Suponiendo que tengo el siguiente arreglo de objetos:
var travelers = [
{
"name":"ana",
"lastname":"gomez"
},
{
"name":"juan",
"lastname":"gomez"
},
{
"name":"luis",
"lastname":"gomez"
},
{
"name":"pedro",
"lastname":"gomez"
}
];
Quisiera saber si ¿hay alguna manera de eliminar un objeto del arreglo en JavaScript puro o jQuery?, ingresando la posición del objeto que se quiere eliminar.
1887,javascript|jquery,Suponiendo que tengo el siguiente objeto:
var results = {
itinerary:"01",
seats:[
{
rows:[
{
"seatNUmber": "A",
"IsAvailable": true
},
{
"seatNUmber": "B",
"IsAvailable": true
},
{
"seatNUmber": "C",
"IsAvailable": false
},
{
"seatNUmber": "D",
"IsAvailable": true
}
]
},
{
rows:[
{
"seatNUmber": "A",
"IsAvailable": true
},
{
"seatNUmber": "B",
"IsAvailable": true
},
{
"seatNUmber": "C",
"IsAvailable": false
},
{
"seatNUmber": "D",
"IsAvailable": true
}
]
}
]
}
Entonces lo que quiero saber es ¿cómo puedo parsear este objeto en una tabla o en una lista, pero creando los componentes dinámicamente con jQuery?
Algo así como cuando se parsea con AngularJS usando ng-repeat pero en este caso usando jQuery.
1898,c++,En el proyecto que me han asignado utilizan un conjunto de makefiles muy primitivo en que cada objeto .o depende solo del .cpp a partir del que se genera.
Lo cual nos obliga a hacer un make clean cada vez que tenemos que compilar algo con la consiguiente pérdida de tiempo pues tarda un par de minutos en compilar todo.
Simplificándolo a lo esencial del problema, el makefile con el que trabajo es este :
CPP=g++
CPPFLAGS = -fPIC -Wall
INCLUDES =
.SUFFIXES: .cpp
.cpp.o :
$(CPP) $(CPPFLAGS) $(INCLUDES) -o $@ -c $<
OBJETOS =\
a.o\
b.o\
%.o : %.cpp
$(CPP) $(CPPFLAGS) $(INCLUDES) -o $(@F) -c $<
ejecutable: $(OBJETOS)
$(CPP) $(LDFLAGS) $(OBJETOS) -o ejecutable
all : ejecutable
clean :
-rm -f *.o
-rm -f ejecutable
Y los ficheros .cpp y .h serían los siguientes :
// Fichero a.h
#ifndef _A_H_
#define _A_H_
#endif  // _A_H_
// Fichero b.h
#ifndef _B_H_
#define _B_H_
#endif  // _B_H_
// Fichero comun.h
#include "comun.h"
#ifndef _COMUN_H_
#define _COMUN_H_
#endif  // _COMUN_H_
// Fichero a.cpp
#include "a.h"
// Fichero b.cpp
#include "a.h"
#include "b.h"
int main(void) {
return 0;
}
Es fácil ver que con el makefile anterior un cambio en a.h no provocaría una recompilación al hacer make, motivo por el que tenemos que hacer 'make clean' antes.
Hacer un makefile correcto para el ejemplo anterior es fácil :
CPP=g++
CPPFLAGS = -fPIC -Wall
INCLUDES =
.SUFFIXES: .cpp
.cpp.o :
$(CPP) $(CPPFLAGS) $(INCLUDES) -o $@ -c $<
OBJETOS =\
a.o\
b.o\
ejecutable: $(OBJETOS)
$(CPP) $(LDFLAGS) $(OBJETOS) -o ejecutable
a.o : a.cpp a.h comun.h
b.o : b.cpp a.h b.h comun.h
%.o : %.cpp
$(CPP) $(CPPFLAGS) $(INCLUDES) -o $(@F) -c $<
all : ejecutable
clean :
-rm -f *.o
-rm -f ejecutable
Pero este makefile mejorado tiene dos problemas :
En el proyecto real hay cientos de archivos y escribir a mano las dependencias sería muy costoso.
Aunque las escribiese a mano. Cada vez que se modifique un archivo para añadir o quitar un #include hay que modificar el makefile.
¿Cómo puedo hacer para que el makefile calcule las dependencias cada vez?
1902,javascript|jquery,Si tengo el siguiente código
Arreglo.each(function() {
if(micondicion)
return false;
}
Sale del ciclo, ¿Como puedo hacer que continúe con el siguiente ?
1906,javascript,Tengo lo siguiente:
function Class(){
this.getInstanceName = function(){
// ¿Es posible obtener el nombre de la instancia? algo como:
return getInstanceName();
};
}
var classInstance = new Class();
// debe imprimir: classInstance
console.log(classInstance.getInstanceName());
¿Es posible obtener el nombre de la instancia classInstance en JavaScript?
1907,javascript,Leyendo la documentación de MDN donde se habla sobre el dato primitivo Symbol por más que leo y vuelvo a leer no entiendo cuál sería un caso de uso para dicho elemento más que para iterar Symbol.iterator.
La documentación dice que su uso es con propósitos de debug, pero aún con ello no entiendo para que usar un Symbol para debuguear si existe console.log() o debugger.
Entiendo que es un dato primitivo y por consiguiente, inmutable. En los ejemplos he visto que hacen algo como lo siguiente:
var sym = Symbol('Llave'),
obj = {
[sym]: 'valor'
};
console.log(obj[sym]); // valor
console.log(obj['Llave']); // undefined
¿Por qué usar un Symbol? si se puede usar un llave tradicional (llave: valor).
Fuentes:
Symbol - JavaScript | MDN
lukehoban/es6features · GitHub
ECMAScript 6 — New Features: Overview & Comparison
1912,java|android,Tengo un ejemplo de cómo cambiar el tipo de fuente a un texto, pero lo que necesito es aplicarlo de forma global para no estar poniéndoselo a cada TextView:
public class ActividadEjemplo extends AppCompatActivity {
TextView text;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_ejemplo);
text = (TextView)findViewById(R.id.txt1);
String font_path = "font/Quicksand-Regular.ttf";
Typeface fuente = Typeface.createFromAsset(getAssets(),font_path);
text.setTypeface(fuente);
}
}
1918,python,Según lo que entiendo de la documentación los formsets te permiten trabajar con múltiples formularios en una misma página.
Por ejemplo, en este fragmento de código se estan creando 4 formularios basados en los modelos Invoice e Item,
ItemFormSet = inlineformset_factory(
Invoice,
Item,
form=ItemForm,
fields=('description', 'quantity', 'rate', 'amount'),
extra=4
)
Sin embargo, si quiero crear contenido de forma dinámica, por ejemplo en mi caso agregar más items a una factura, ¿es posible utilizar formsets?
Si es posible agradezco me regalen un pequeño ejemplo.
1919,javascript,Esta respuesta (en inglés) explica cómo saber si tu JavaScript se está ejecutando en Node.js o en el navegador, pero depende del uso de new Function(), que no funciona en un navegador si usas un CSP sin unsafe-eval (y eso es importante en mi proyecto).
Yo sé que hay varias formas sensibles, pero falibles también como puede ser ver si window o process.versions.node están definidos pero es fácil definir estas variables para engañar al programa.
¿Hay alguna otra forma que sea infalible de detectar si estoy en el navegador o en Node.js sin usar new Function()?
Supongo que por lo menos puedo intentar eso en un try {} y, si estoy en Node.js, puedo estar con certeza, y si no puedo usar una forma menos infalible.
1922,javascript,Revisando el código de Yield prolog para JavaScript, un intérprete de prolog en javascript
Me encuentro que tiene muchas funciones con yield. Por ejemplo:
function argAssignedAll(arg1, arg2, VariableName) {
{
var _ArgName = arg1;
for each (var l2 in YP.unify(arg2, Atom.NIL)) {
if (YP.nonvar(VariableName)) {
yield true;
return;
}
}
}
{
var ArgName = arg1;
var ArgAssignments = new Variable();
var _Calls = new Variable();
var RestClauseBag = new Variable();
for each (var l2 in YP.unify(arg2, new ListPair(new Functor2("f", ArgAssignments, _Calls), RestClauseBag))) {
for each (var l3 in member(new Functor2("f", VariableName, ArgName), ArgAssignments)) {
for each (var l4 in argAssignedAll(ArgName, RestClauseBag, VariableName)) {
yield false;
}
}
}
}
}
El problema es que no todos los navegadores soportan yield aún, pues es parte de EcmaScript 3.1, quisiera saber si existe alguna manera de convertir estas funciones a un código que sea aceptado por más navegadores.
Pueden ver el código en acción en: http://yieldprolog.sourceforge.net/queryEditor.html
Situacion ideal: que funcione en el navegador nativo de android.
1936,ios,Querría crear un proyecto en Swift 2 en el cual no se trabaje con storyBoards ya que en Objective-C estoy acostumbrado a trabajar con XIBs.
Hace un tiempo estuve probando con Swift 1.x y recuerdo que para asignarle el VC al rootViewController en el appDelegate había que primero (al igual que Objective-C)
crear una instancia del VC:
let vc = ViewController(nibName:"ViewController", bundle:nil)
luego asignarla al rootViewController
Mi problema reside en que al declarar la constante vc me salta el siguiente warning:
Immutable value 'vc' was never used; consider replacing with '_' or removing it
¿Podría alguien darme alguna indicación?
1945,python,Tengo el siguiente código:
import os
paths = (os.path.join(root, filename)
for root, _, filenames in os.walk('C:\\Datos\\') #ubicacion de los archivos a renombrar
for filename in filenames)
for path in paths:
newname = path.replace('_x_1', '_nuevo1') #se reemplaza el "_x_1" por "_nuevo1"
print(newname)
if newname != path:
os.rename(path, newname)
lo que quiero es que dentro de ese mismo ciclo haga mas de una tarea por ejemplo que también haga lo siguiente:
newname = path.replace('_x_2', '_nuevo2') #se reemplaza el "_x_2" por "_nuevo2"
print(newname)
newname = path.replace('_x_3', '_nuevo3') #se reemplaza el "_x_3" por "_nuevo3"
print(newname)
Y así sucesivamente, ya intenté ponerlo todo dentro de ese ciclo y no funciona. Lo que hice fue hacer todo el código anterior para cada tarea en específico:
paths = (os.path.join(root, filename)
for root, _, filenames in os.walk('C:\\Datos\\') #ubicacion de los archivos a renombrar
for filename in filenames)
for path in paths:
newname = path.replace('_x_2', '_nuevo2') #se reemplaza el "_x_1" por "_nuevo2"
print(newname)
if newname != path:
os.rename(path, newname)
¿Alguna sugerencia?
1948,java,Me gustaría saber como puedo convertir datos leídos por una clase Java que me permite leer documentos en Excel .xls , .xlsx y .xlsm mediante la librería POI a una estructura XML, cabe mencionar que la clase lee los archivos y me muestra los resultados en consola.
Ahora, ¿cómo podría generar una estructura XML a partir de esos datos?, ¿necesito alguna librería en específico o qué puedo hacer?
Adjunto el código que lee los datos de Excel:
public class ExcelReader{
public void displayFromExcel() throws  FileNotFoundException, IOException, EncryptedDocumentException, InvalidFormatException
{
File archivoExcel = new File("C:\\Users\\1\\Desktop\\archivo.xlsx"); //ruta del archivo xls o xlsx
Workbook libroExcel = WorkbookFactory.create(new FileInputStream(archivoExcel)); //crear un libro excel
Sheet hojaActual = libroExcel.getSheetAt(0); //acceder a la primera hoja
Row filaActual = hojaActual.getRow(0); //acceder a la primera fila en la hoja
Cell celdaActual = filaActual.getCell(0); //acceder a la primera celda en la fila
Iterator<Row> rows = hojaActual.rowIterator();
while (rows.hasNext())
{
Row row = (Row) rows.next();
int rowNumber = row.getRowNum();
// muestra el número de fila
System.out.println ("No. Fila: " + rowNumber);
filaActual= rows.next();
Iterator<Cell> cells = filaActual.cellIterator();
while (cells.hasNext())
{
celdaActual= cells.next();
cells.remove();
if (celdaActual.getCellType() == Cell.CELL_TYPE_STRING)
{
System.out.println("String: "+celdaActual.getStringCellValue()+" ");
}
else if(celdaActual.getCellType() == Cell.CELL_TYPE_NUMERIC)
{
System.out.println("Int: "+celdaActual.getNumericCellValue()+" ");
}
else
{
//U Can Handel Boolean, Formula, Errors
}
}
System.out.println();
}
}
public static void main (String[] args) throws EncryptedDocumentException, FileNotFoundException, InvalidFormatException, IOException
{
MyExp exp = new MyExp();
exp.displayFromExcel();
}
}
1949,javascript|jquery,Actualmente estoy utilizando el plug-in DatTables para crear una tabla con controles, interacción y demás características que me provee el plug-in.
En la documentación se dice que para realizar búsquedas, el plug-in por defecto hace una búsqueda sobre el Datasource que se le paso al momento de crear la Tabla en el browser, y eso me parece perfecto, el problema está en que una cosa son los datos que se le paso al Datasource, y otra es el formato con el que se muestra el Datasource al cliente.
Me explico, para los tipos fecha se pasa de la siguiente manera /Date(1448558527000)/ pero el cliente ve 26/11/2015 12:21:31.
En ese orden de ideas, sucede que al momento de hacer una búsqueda por el número 70 se encontrará la siguiente coincidencia:
26/11/2015 12:21:31
Esto es por que en el Datasource esta buscando:
/Date(144855852 70 00)/
Esto le genera confusión al usuario y tiene toda la razón al decir que el filtro "no funciona" pero si funciona, lo que no coincide es nuestro Datasource con el formato que ve el cliente en el browser.
¿Alguien sabe como puedo hacer para que este filtro haga una búsqueda formateando dicho dato?
¿O qué idea me siguieren para este problema?
1952,c#,Me dejaron de tarea este código, pero no se como correrlo, ¿alguna ayuda?.
using System;
public class Example
{
public static void Main(string[] args)
{
Console.WriteLine("Hello, World!");
Console.WriteLine("You entered the following {0} command line arguments:",
args.Length );
for (i=0; i < args.Length; i++)
{
Console.WriteLine("{0}", args[i]);
}
}
}
1954,javascript,Estoy empezando a estudiar JavaScript, pero en varios libros y consultas web aparecen los términos methods y commands, pero por lo que veo ambos utilizan () y realizan la misma acción.
Por ejemplo, esto es un comand:
var name = "Ejemplo"; alert("Hello " + name);
y es un method:
var name ="Ejemplo"; name.toUpperCase();
¿Me podrían decir cuál es la diferencia entre ambos por favor?
1959,c++,Ayer escribí por error #include "iostream" y no me he dado cuenta porque el compilador no ha dado error. Más tarde me he dado cuenta y me ha sorprendido.
He probado con este pequeño programa :
// Fichero a.h
#ifndef A_H
#define A_H
#endif // A_H
// Fichero a.cpp
#include <iostream>
#include "a.h"
int main(void) {
std::cout << "Hola Mundo" << std::endl;
return 0;
}
El cual funciona como es de esperar.
También funciona si pongo los dos includes con comillas dobles " ", esto me ha sorprendido.
Si los pongo los dos includes con menor mayor < > me da un error de compilación, que es lo que espero :
a.cpp:2:15: fatal error: a.h: No such file or directory
Yo pensaba que :
#include < > es para cabeceras de sistema o librerías.
#include " " es para cabeceras del programador.
Pero está claro que no porque iostream también se puede incluir con " ".
¿Puedo simplemente incluirlo todo con " "?
¿O podría tener algún efecto adverso el hacerlo todo con " "? Y si es así, ¿qué criterio usar para decidir cada include si se hace con " " o < >?
1962,javascript,Hola amigos tengo un problema obteniendo los datos de un textarea, si no inserto saltos de linea en el campo el formulario me los obtiene sin problemas(Formulario Modal) Pero si inserto saltos de linea al momento de registro, ya no me abre el formulario, o sea el problema esta obteniendo los saltos de linea.
¿Alguien sabe como solucionar este problema?
Obtengo el dato de la siguiente manera en javascript:
document.formname.textarea.value = textarea;
1964,c#,Sigo con mi proyecto en Winforms C# y tengo muchos problemas ya que solo conozco WPF y Silverlight que es muy parecido.
En WPF si pongo, en el XAML:
HorizontalAlignment="Strench"
VerticalAlignment="Strench"
Sin poner el alto y ancho el control se ajusta al tamaño del padre, ¿cómo se realiza en WinForms?
En este momento tengo un panel genérico, con el tamaño que quiero.
Ya que no existe XAML en proyectos winforms
1971,java,Tengo que comprobar que una fecha introducida en un formulario es válida.
La fecha la tengo separada en año, día y mes. Y no me interesa comprobar fechas anteriores a 1900.
Lo estoy haciendo con este código :
public class Fecha
{
int año;
int mes; // 1 a 12
int dia; // 1 a 31
}
static int[] diasMes= {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};
/**
*   Comprueba si la fecha es correcta. Se comprueban solo fechas de 1900
* o posteriores.
* @param fecha La fecha a comprobar.
* @return true si la fecha es correcta, false en otro caso.
* @throws IllegalArgumentException si el año es menor que 1900.
*/
boolean validaFecha( Fecha fecha)
{
if ( fecha.año < 1900 ) {
throw new IllegalArgumentException(
"Solo se comprueban fechas del año 1900 o posterior");
}
if ( fecha.mes<1 || fecha.mes>12 )
return false;
// Para febrero y bisiesto el limite es 29
if ( fecha.mes==2 && fecha.año%4==0 )
return fecha.dia>=1 && fecha.dia<=29;
return fecha.dia>=0 && fecha.dia<=diasMes[fecha.mes-1];
}
La clase Fecha que uso es algo más complicada, tiene sus setter, getter y otras cosas, pero esos detalles son irrelevantes para esta pregunta. La pregunta es acerca del método validaFecha.
¿Es correcta la implementación? ¿Hay alguna forma de hacerlo con las librerías standard?
1973,java,Hice un proyecto usando Dukescript en netbeans con el siguiente código:
package com.dukescript.games.codermasters.puzzlelogic;
//import net.java.html.json.ComputedProperty;
import net.java.html.json.Function;
import net.java.html.json.Model;
import net.java.html.json.Property;
//import com.dukescript.games.codermasters.puzzlelogic.js.Dialogs;
/**
* Model annotation generates class Data with one message property, boolean
* property and read only words property
*/
@Model(className = "CntrlDashboard", targetId = "", properties = {
@Property(name = "movimientos", type = Integer.class),
@Property(name = "contador_segundos", type = Integer.class),
@Property(name = "contador_minutos", type = Integer.class),
@Property(name = "esta_corriendo_el_tiempo", type = Boolean.class),
@Property(name = "arreglo_numeros", type = Integer.class, array = true)
})
final class DataModel {
/*@ComputedProperty
static boolean verificarGanarJuego() {
return false;
}*/
/**
* Devuelve los contadores a cero.
*/
@Function
static void reiniciaTiempo(CntrlDashboard model) {
model.setContador_minutos(0);
model.setContador_segundos(0);
}
private static CntrlDashboard ui;
/**
* Called when the page is ready.
*/
static void onPageLoad() throws Exception {
ui = new CntrlDashboard(0, 0, 0, false, null);
ui.applyBindings();
//Dialogs.screenSize();
}
}
En tiempo de compilación no arroja errores, pero al correrlo me da el siguiente error:
ene 01, 2016 4:20:42 AM net.java.html.boot.BrowserBuilder$1OnPageLoad$1CallInitMethod run
GRAVE: Can't call onPageLoad with args []
java.lang.NoSuchMethodException: com.dukescript.games.codermasters.puzzlelogic.Main.onPageLoad([Ljava.lang.String;)
at org.springsource.loaded.ri.Exceptions.noSuchMethodException(Exceptions.java:84)
at org.springsource.loaded.ri.ReflectiveInterceptor.jlClassGetMethod(ReflectiveInterceptor.java:134)
at net.java.html.boot.BrowserBuilder$1OnPageLoad$1CallInitMethod.run(BrowserBuilder.java:358)
at net.java.html.BrwsrCtx$1Wrap.run(BrwsrCtx.java:177)
at org.netbeans.html.boot.fx.AbstractFXPresenter.execute(AbstractFXPresenter.java:282)
at net.java.html.BrwsrCtx.execute(BrwsrCtx.java:188)
at net.java.html.boot.BrowserBuilder$1OnPageLoad.run(BrowserBuilder.java:374)
at org.netbeans.html.boot.fx.AbstractFXPresenter.onPageLoad(AbstractFXPresenter.java:145)
at org.netbeans.html.boot.fx.FXBrwsr$7.changed(FXBrwsr.java:322)
at org.netbeans.html.boot.fx.FXBrwsr$7.changed(FXBrwsr.java:314)
at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
at javafx.beans.property.ReadOnlyObjectWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyObjectWrapper.java:176)
at javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:142)
at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)
at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:146)
at javafx.scene.web.WebEngine$LoadWorker.updateState(WebEngine.java:1226)
at javafx.scene.web.WebEngine$LoadWorker.dispatchLoadEvent(WebEngine.java:1337)
at javafx.scene.web.WebEngine$LoadWorker.access$1100(WebEngine.java:1219)
at javafx.scene.web.WebEngine$PageLoadListener.dispatchLoadEvent(WebEngine.java:1206)
at com.sun.webkit.WebPage.fireLoadEvent(WebPage.java:2388)
at com.sun.webkit.WebPage.fwkFireLoadEvent(WebPage.java:2232)
at com.sun.webkit.network.URLLoader.twkDidFinishLoading(Native Method)
at com.sun.webkit.network.URLLoader.notifyDidFinishLoading(URLLoader.java:830)
at com.sun.webkit.network.URLLoader.lambda$didFinishLoading$95(URLLoader.java:821)
at com.sun.webkit.network.URLLoader$$Lambda$172/821435772.run(Unknown Source)
at com.sun.javafx.application.PlatformImpl.lambda$null$170(PlatformImpl.java:295)
at com.sun.javafx.application.PlatformImpl$$Lambda$50/957816454.run(Unknown Source)
at java.security.AccessController.doPrivileged(Native Method)
at com.sun.javafx.application.PlatformImpl.lambda$runLater$171(PlatformImpl.java:294)
at com.sun.javafx.application.PlatformImpl$$Lambda$49/281407847.run(Unknown Source)
at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
at com.sun.glass.ui.win.WinApplication.lambda$null$145(WinApplication.java:101)
at com.sun.glass.ui.win.WinApplication$$Lambda$38/1263136868.run(Unknown Source)
at java.lang.Thread.run(Thread.java:745)
ene 01, 2016 4:20:42 AM net.java.html.boot.BrowserBuilder$1OnPageLoad$1CallInitMethod run
GRAVE: Can't initialize the view
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:497)
at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1270)
at net.java.html.boot.BrowserBuilder$1OnPageLoad$1CallInitMethod.run(BrowserBuilder.java:348)
at net.java.html.BrwsrCtx$1Wrap.run(BrwsrCtx.java:177)
at org.netbeans.html.boot.fx.AbstractFXPresenter.execute(AbstractFXPresenter.java:282)
at net.java.html.BrwsrCtx.execute(BrwsrCtx.java:188)
at net.java.html.boot.BrowserBuilder$1OnPageLoad.run(BrowserBuilder.java:374)
at org.netbeans.html.boot.fx.AbstractFXPresenter.onPageLoad(AbstractFXPresenter.java:145)
at org.netbeans.html.boot.fx.FXBrwsr$7.changed(FXBrwsr.java:322)
at org.netbeans.html.boot.fx.FXBrwsr$7.changed(FXBrwsr.java:314)
at com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:182)
at com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:81)
at javafx.beans.property.ReadOnlyObjectWrapper$ReadOnlyPropertyImpl.fireValueChangedEvent(ReadOnlyObjectWrapper.java:176)
at javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:142)
at javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)
at javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:146)
at javafx.scene.web.WebEngine$LoadWorker.updateState(WebEngine.java:1226)
at javafx.scene.web.WebEngine$LoadWorker.dispatchLoadEvent(WebEngine.java:1337)
at javafx.scene.web.WebEngine$LoadWorker.access$1100(WebEngine.java:1219)
at javafx.scene.web.WebEngine$PageLoadListener.dispatchLoadEvent(WebEngine.java:1206)
at com.sun.webkit.WebPage.fireLoadEvent(WebPage.java:2388)
at com.sun.webkit.WebPage.fwkFireLoadEvent(WebPage.java:2232)
at com.sun.webkit.network.URLLoader.twkDidFinishLoading(Native Method)
at com.sun.webkit.network.URLLoader.notifyDidFinishLoading(URLLoader.java:830)
at com.sun.webkit.network.URLLoader.lambda$didFinishLoading$95(URLLoader.java:821)
at com.sun.webkit.network.URLLoader$$Lambda$172/821435772.run(Unknown Source)
at com.sun.javafx.application.PlatformImpl.lambda$null$170(PlatformImpl.java:295)
at com.sun.javafx.application.PlatformImpl$$Lambda$50/957816454.run(Unknown Source)
at java.security.AccessController.doPrivileged(Native Method)
at com.sun.javafx.application.PlatformImpl.lambda$runLater$171(PlatformImpl.java:294)
at com.sun.javafx.application.PlatformImpl$$Lambda$49/281407847.run(Unknown Source)
at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
at com.sun.glass.ui.win.WinApplication.lambda$null$145(WinApplication.java:101)
at com.sun.glass.ui.win.WinApplication$$Lambda$38/1263136868.run(Unknown Source)
at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ExceptionInInitializerError
at com.dukescript.games.codermasters.puzzlelogic.Main.onPageLoad(Main.java:22)
... 39 more
Caused by: java.lang.RuntimeException: Uncompilable source code - The type java.lang.Integer should be defined by @Model annotation
at com.dukescript.games.codermasters.puzzlelogic.DataModel.<clinit>(DataModel.java:13)
... 40 more
¿Cómo puedo resolverlo?
1977,c#,Tengo un TextBox y quiero que mientras el ratón esté encima del control aparezca un Button en el lateral derecho, encima del TextBox. El caso es que el TextBox tiene también un comportamiento personalizado, por eso ambos controles se encuentran embebidos en un control personalizado que hereda de UserControl. Todo esto, por supuesto, usando WinForms.
Lo primero que se me ha ocurrido es controlar los eventos MouseEntery MouseLeave tal y como se muestra a continuación:
public partial class MiControl : UserControl
{
void textBox_MouseEnter(object sender, EventArgs e)
{
boton.Visible = true;
}
void textBox_MouseLeave(object sender, EventArgs e)
{
boton.Visible = false;
}
}
Esta opción funciona bien hasta que el ratón se coloca encima del Button. En ese momento se empiezan a alternar ambos eventos de forma descontrolada y el único efecto visible es que el botón no puede ser pulsado. Lo cierto es que tiene todo el sentido del mundo: si el ratón se coloca encima del Button técnicamente está saliendo del TextBox, por lo que se lanza el evento MouseLeave. Esto último provoca que el ratón pase a estar dentro del TextBox, lo que lanza el evento MouseEnter y vuelta a empezar.
¿Cómo podría controlar esta situación?
1982,android,Previamente he instalado el Stand-alone SDK, luego de descargarlo lo he actualizado usando:
$ ./android update sdk --no-ui
(Larga espera)
Después instalé Ionic, inicié mi sesión y creé una aplicación desde Ionic Creator:
$ sudo npm install -g cordova ionic
...
$ ionic login
...
$ ionic start chambba creator:xxxxxxxxxxxx
...
$ cd chambba/
$ ionic platform add android
...
Puedo usar ionic build sin que me cause problemas:
$ ionic build android
...
BUILD SUCCESSFUL
Total time: 21.078 secs
Built the following apk(s):
/home/cesar/Development/Work/chambba/platforms/android/build/outputs/apk/android-debug.apk
Pero cuando intento usar ionic emulate para emular la aplicación:
$ ionic emulate android
Running command: /home/cesar/Development/Work/chambba/hooks/after_prepare/010_add_platform_class.js /home/cesar/Development/Work/chambba
add to body class: platform-android
Running command: /home/cesar/Development/Work/chambba/platforms/android/cordova/run --emulator
ANDROID_HOME=/home/cesar/Development/Android/android-sdk-linux
JAVA_HOME=/usr/lib/jvm/java-7-openjdk-i386
/home/cesar/Development/Work/chambba/platforms/android/cordova/node_modules/q/q.js:126
throw e;
^
Error executing "adb devices": /home/cesar/Development/Android/android-sdk-linux/platform-tools/adb: 1: /home/cesar/Development/Android/android-sdk-linux/platform-tools/adb: Syntax error: ")" unexpected
Error: /home/cesar/Development/Work/chambba/platforms/android/cordova/run: Command failed with exit code 1
Si ejecuto adb independientemente:
$ ./adb devices
bash: ./adb: cannot execute binary file: Exec format error
Según he leído necesito un sistema de 64-bits, sin embargo me encuentro limitado en este aspecto ya que mi Laptop corre bajo el sistema Ubuntu 14.04 de 32-bits.
En estos casos lo que recomiendan es hacer uso del flag -force-32bit o exportando la variable al entorno export ANDROID_EMULATOR_FORCE_32BIT=true, entonces lo que hice fue agregarlo en mi .profile junto con otras rutas:
$ cat ~/.profile
...
export ANDROID_HOME="$HOME/Development/Android/android-sdk-linux"
export PATH=$PATH:$HOME/Development/Android/android-sdk-linux/platform_tools:$HOME/Development/Android/android-sdk-linux/tools
export ANDROID_EMULATOR_FORCE_32BIT=true
$ source ~/.profile
Sin embargo, el error mencionado persiste. ¿Existe alguna forma de emular la aplicación en mi sistema de 32-bits?
1983,javascript|jquery|html,Deseo adjuntar un archivo a un input de tipo file, pero sin apretar el botón examinar. La idea es que cuando me cargue la página en el $(document).ready(), me aparezca el archivo ya adjuntado, sin tener que estar apretando el botón examinar.
Lo que he intentado hacer es lo siguiente:
$('#file_adj').val("../Uploaded_Files/can.txt" );
Pero me arroja el siguiente error en el navegador:
Uncaught InvalidStateError: Failed to set the 'value' property on 'HTMLInputElement': This input element accepts a filename, which may only be programmatically set to the empty string.
Cuando se trata de enviar texto, no hay problema, pero en este caso, cuando son archivos o imágenes ¿Cómo se debería hacer?
Normalmente paso los datos de un boton del data table al modal así:
<a href="#" data-toggle="modal" data-target="#modal_noticia_editar" data-noticiaid='<%: item.IdNoticia%>' data-titulo='<%: item.TituloNoticia%>' data-descripcion='<%: item.DescripcionNoticia%>'  class="noticia_edit">Editar</a>
En el evento click del modal, los recibe asi:
$('.noticia_edit').click(function (e) {
e.preventDefault();
NoticiaID = $(this).data('noticiaid');
Titulo = $(this).data('titulo');
Descripcion = $(this).data('descripcion');
$("#modal_noticia_editar input[name=noticiaid]").val(NoticiaID);
$("#modal_noticia_editar input[name=titulo]").val(Titulo);
$("#modal_noticia_editar input[id=Descripcion_edit]").val(Descripcion);
});
pero cuando es foto, como sería?.
Cuando es ingresar ningún problema, pero cuando es editar, esperaría lo mismo, que se cargara las imagenes
1984,python,Tengo estas tablas:
db.define_table('marcas_definiciones',
Field('marca', 'string', label=T('Marca GG')),
Field('razon_zocial_gg', 'reference razones_zociales_gg'),
Field('ruc', 'string', label=T('RUC GG')),
format='%(marca)s')
db.define_table('cuentas_por_cobrar_y_pagar',
Field('marca', 'reference marcas_definiciones'),
Field('saldo_total_cobrar', 'float'),
Field('saldo_total_pagar', 'float'),
format='%(marca)s')
db.define_table('cobranzas',
Field('marca', 'reference cuentas_por_cobrar_y_pagar'),
Field('numero_comprobante', 'string'),
Field('nota', 'text'),
format='%(prefijo_comprobante)s %(numero_comprobante)s')
Este es el controlador:
def cuentas_por_cobrar_y_pagar():
response.view = 'finances/default.html'
form = SQLFORM.smartgrid(db.cuentas_por_cobrar_y_pagar, linked_tables=[
'cobranzas',
'pagos'
])
return dict(form=form,page_name="Cuentas por cobrar")
Donde cuentas_por_cobrar_y_pagar tiene un campo que es de marcas_definiciones y la tabla cobranzas es una subtabla de cuentas_por_cobrar_y_pagar únicas por el campo marca, el problema está en que cuando quiero seleccionar la marca en la tabla de cobranzas, este aparece como numero de ID pero de la tabla marca_definicion y no una de las marcas de la tabla cuentas_por_cobrar_y_pagar.
¿Cómo puedo solucionarlo?
1986,javascript|jquery,Esto si que no me ha sido fácil de encontrar, pero con ayuda de kangax.github.io hice algo:
var ES5     = typeof window.Worker === 'function',
ES51    = typeof Date.prototype.toISOString !== 'undefined',
ES6     = '__proto__' in {},
ES7     = Array.prototype.includes;
Quizás haya alguien quien pueda apoyarme para mejorar la detección de ECMAScript? Por ejemplo, ES3?.
1996,c#,Hola al actualizar mi código de Unity 3.4 a Unity 5.3 me muestra el siguiente error:
Error  CS1061  'Mesh' does not contain a definition for 'GetTriangleStrip' and
no extension method 'GetTriangleStrip' accepting a first argument of type 'Mesh'
could be found (are you missing a using directive or an assembly reference?)
El código en cuestión es el siguiente:
int[]  inputtriangles = combine.mesh.GetTriangleStrip(combine.subMeshIndex);
for (int i=0;i<inputtriangles.Length;i++)
{
triangles[i+triangleOffset] = inputtriangles[i] + vertexOffset;
}
triangleOffset += inputtriangles.Length;
¿Cómo puedo solucionarlo?
2000,java,Tengo que instanciar un objeto de una clase interior y me funciona bien dentro de la clase pero no fuera.
// Fichero Main.java
public class Main {
public static void main( String[] args )
{
Test.Interior interior = new Test.Interior(); // Esta línea falla
Test.InteriorStatic interiorStatic = new Test.InteriorStatic();
}
}
// Fichero Test.java
public class Test {
public class Interior {
}
public static class InteriorStatic {
}
public void algo()
{
Test.Interior interior = new Test.Interior();
}
}
La línea en que indico que falla da el siguiente error de compilación :
Main.java:15: error: an enclosing instance that contains Test.Interior
is required
Pero exáctamente la misma línea dentro de algo() sí que funciona bien. Y tanto Test como Test.Interior son public.
Si hago que la clase Test.Interior sea static no da el error, pero es una clase que no tengo posibilidad de modificar en el código de producción.
2002,javascript|jquery,Quiero saber cuando todos los controladores de eventos en un evento en JavaScript se terminen.  ¿Eso es posible?
Ejemplo:
<button id='button' ...>Submit</button>
<script>
ultimo = notify() {
alert("Último!");
};
$( '#button' ).on('click', function() { alert('Primero') });
$( '#button' ).on('click', function() { alert('Segundo') });
$( '#button' ).on('click', ultimo );
</script>
Con este código, voy a recibir 3 alertas:  Primero, Segundo y Último.
Pero el último quizás no sea el último si hay código en otro lado que añada otros controladores.
Entonces, ¿hay una forma de saber cuando todos los controladores de un evento terminen?
Para ser más especifico, estoy escribiendo una biblioteca, y quiero hacer algo en un evento, pero solo después de todos los controladores que pueden ser añadidos de los usuarios de mi biblioteca.
2003,java|android,Todo me funciona correctamente recogiendo tan solo los valores de un array, pero al recoger los datos de los dos que es lo que quiero,me faltan datos, como puedo hacerlo para tenerlos en el mismo activity:
@Override
protected String doInBackground(String... url) {
urlPost = url[0];
try {
jsonObjectDesignPosts = JsonParser.readJsonFromUrl(urlPost);
postNumber = jsonObjectDesignPosts.getJSONArray("golesLocal").length();
jsonArrayDesignContent = jsonObjectDesignPosts.getJSONArray("golesLocal");
postNumber = jsonObjectDesignPosts.getJSONArray("golesVisitante").length();
jsonArrayDesignContent = jsonObjectDesignPosts.getJSONArray("golesVisitante");
sharedPreferences.edit().putString("DESIGN", jsonArrayDesignContent.toString()).apply();
designNombre_local = new String[postNumber];
designMinuto_local = new String[postNumber];
designNombre_visitante = new String[postNumber];
designMinuto_visitante = new String[postNumber];
for (int i = 0; i < postNumber; i++) {
designNombre_local[i] = Html.fromHtml(jsonObjectDesignPosts.getJSONArray("golesLocal").getJSONObject(i).getString("nombre")).toString();
designMinuto_local[i] = Html.fromHtml(jsonObjectDesignPosts.getJSONArray("golesLocal").getJSONObject(i).getString("minuto")).toString();
designNombre_visitante[i] = Html.fromHtml(jsonObjectDesignPosts.getJSONArray("golesVisitante").getJSONObject(i).getString("nombre")).toString();
designMinuto_visitante[i] = Html.fromHtml(jsonObjectDesignPosts.getJSONArray("golesVisitante").getJSONObject(i).getString("minuto")).toString();
}
} catch (IOException | JSONException e) {
e.printStackTrace();
designNombre_local = new String[0];
error = true;
}
return null;
}
@Override
protected void onPostExecute(String result) {
designs = new ArrayList<>();
if (designNombre_local.length != -1) {
for(int i=0; i<(designNombre_local.length); i++){
designs.add(new Goles(designNombre_local[i],designMinuto_local[i],
designNombre_visitante[i],designMinuto_visitante[i]));
}
}
if (error) {
Toast.makeText(getActivity(), "Error de conexión", Toast.LENGTH_LONG).show();
}
Me he dado cuenta de que muestra el numero de items inferior, me explico, en el partido han marcado los locales 5 y los visitantes 3, pues muestra solo tres resultados de cada equipo.
¿A que se debe?
2007,javascript|jquery,Estoy usando un plugin de bootstrap, he probado para ingresar noticias con imágenes, y funciona bien, pero cuando quiero editar las imágenes, no puedo cargarla bien.
Si cargo una imagen dentro de un div con los datos guardados previamente en la base de datos, y si además, quiero agregar otra al presionar el botón examinar, me borra la que está guardada.
Necesito saber como cargaría imágenes en el file input, una cosa así se vería:
¿Alguien me puede ayudar?
2012,javascript,Me gustaría saber qué son los prototipos en JavaScript y cómo los puedo usar o si existe algún tipo de beneficio.
2016,java|android,Que tal amigos, estoy desarrollando una aplicación que genera un archivo de texto (.txt) con múltiples líneas obtenidas de una BD, para luego enviar a través de un correo, el problema es cuando se recibe el correo y al ver el archivo en una PC, el texto sale en una sola línea, al ver el mismo archivo en el celular si tiene el salto de línea.
Este es el código que uso para concatenar y guardar en un archivo de texto:
BufferedWriter fileWritter = new BufferedWriter(new FileWriter("/sdcard/arhivos/"+currentDate)); //ubicacion y nombre del archivo
while(c.moveToNext()){
registros = String.format(codigoReloj + c.getString(0).toString() + c.getString(1).toString().replace("/", "") + c.getString(2).toString().replace(":", "")+"\n");
fileWritter.append( registros );
fileWritter.flush();
registros = "";
}
fileWritter.close();
Este es el código que uso para enviar el archivo
Intent emailIntent = new Intent(Intent.ACTION_SEND);
emailIntent.setType("message/rfc822");
emailIntent.setData(Uri.parse("mailto:"));
emailIntent.putExtra(Intent.EXTRA_EMAIL, to);
emailIntent.putExtra(Intent.EXTRA_CC, cc);
emailIntent.putExtra(Intent.EXTRA_SUBJECT, asunto);
emailIntent.putExtra(Intent.EXTRA_TEXT, mensaje);
emailIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse("file://"+"/storage/sdcard0/archivos/"+ asunto));
emailIntent.setType("text/plain"); //indicamos el tipo de dato
startActivity(Intent.createChooser(emailIntent, "Email "));
Ya intenté generar el archivo con:
writer.newLine();
System.getProperty("line.separator");
String.format("%n");
Con estas opciones en el celular se visualiza los saltos de líneas, luego de enviarlo y ver el archivo en una PC, el texto sale en una sola línea.
2023,c#,Presento el siguiente problema, estoy haciendo un juego en 2D top down game  donde el enemigo tenga un rango de visión, pero  lo que me interesa es hacer es que el rango de visión sea limitado por algún obstáculo que haya al frente de player, por ejemplo si el player esta delante de una piedra  este no pueda verle.
estoy intentándolo con Physics2D.Raycast pero este ultimo no discrimina de los objetos que hay al frente.
estos son los scripts que he utilizado("cada uno es independiente del otro"):
RaycastHit2D hit = Physics2D.Raycast(transform.position, -Vector2.up);
if ( hit.collider.tag == "Player" ) {
Debug.Log ("raycast");
}
spotted = Physics2D.Linecast (sightStar.position,sightheEnd.position, 1 << LayerMask.NameToLayer("Player"));
¿Alguno sabrá como hacer para que el enemigo tenga obstáculos en la visión?
2026,javascript|jquery,Basado en esta pregunta intenté hacer lo mismo pero no obtengo nada.
function displayResults(container, results) {
var table = $("<div class='row tabla'  id='tabla1'>");
$.each(results.filas, function(i, filas) {
var tr = $("<div>");
$.each(filas.columnas, function(i, columnas) {
$("<div class='col' posicion='0'><p>").text(columnas.fichas.NumeroLetraSimbolo).appendTo(tr);
});
tr.appendTo(table);
});
table.appendTo(container);
}
var results = {
"filas": [{
"columnas": [{
"fichas": [{
"clase": "col vacio",
"NumeroLetraSimbolo": [""]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["5"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["9"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["3"]
}]
}]
}, {
"columnas": [{
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["8"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["12"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["2"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["10"]
}]
}]
}, {
"columnas": [{
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["11"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["6"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["15"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["14"]
}]
}]
}, {
"columnas": [{
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["1"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["13"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["7"]
}]
}, {
"fichas": [{
"clase": "col ",
"NumeroLetraSimbolo": ["4"]
}]
}]
}],
"posiciones_tablero": [],
"imagenDeFondo": []
}
displayResults($("#results"), results);
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="results"></div>
¿Qué estoy omitiendo?
2030,php,Tengo esta consulta en la que se buscan productos y la categoría a la cual pertenecen:
$products = Product::product($product)
->category($category)
->with('category')
->orderBy('id','DESC')
->paginate(7);
return view('mega/product/list', compact('products'));
Lo que deseo es consultar la tabla precio en esa misma consulta. ¿Cómo podría hacerlo?
2031,php,¿Cómo podria encriptar el siguiente hipervínculo, que mando a una persona para recuperar su correo?:
<a href="http://mipagina.com/recovery.php?email='.$_POST["email"].'">Restablecer Contraseña</a>
Lo que pasa es que he visto que en hipervínculo me aparece el correo, y al modificarlo podrían hacer cambios que no están permitidos.
Quisiera hacerlo simple con PHP MD5 pero no se donde colocarlo o como sería.
2033,java|android,En algunas apps, y la más conocida Tinder, el login screen tiene un carrusel de imágenes para promocionar la app o como tutorial.
¿Cómo se puede hacer este carrusel?. He buscado librerías en github pero tengo algunos problemas para encontrarlas.
¿Esta interfaz tiene algún nombre? me gustan con esos tres círculos grises. Gracias.
2035,javascript,suponiendo que tengo el siguiente json
seats = [
{
rows:[
{
"seatNUmber": "A",
"IsAvailable": true
},
{
"seatNUmber": "B",
"IsAvailable": true
},
{
"seatNUmber": "C",
"IsAvailable": false
},
{
"seatNUmber": "D",
"IsAvailable": true
}
]
},
{
rows:[
{
"seatNUmber": "A",
"IsAvailable": true
},
{
"seatNUmber": "B",
"IsAvailable": true
},
{
"seatNUmber": "C",
"IsAvailable": false
},
{
"seatNUmber": "D",
"IsAvailable": true
}
]
}
Quisiera saber ¿cómo puedo parsear este json en una lista <ul>?, es decir, que cada seatNumber este en un <li> de  la lista. Supongo que es un Loop anidado pero no logro entender de que manera poner los ng-repeat.
El resultado que quiero lograr es algo como lo siguiente:
En donde cada caja representa un asiento y es un <li> de la lista.
2036,javascript,Quiera saber si hay alguna manera de convertir un xml a json usando Javascript.
2040,jquery,Cómo hago para colocar cuatro select a mi template que muestren estado, municipio, Localidad? y por supuesto, si el usuario selecciona el estado DF, el otro select traiga solamente los municipios y localidades. Cómo lo hago?
Con el fin de que ya cargados dentro de combox los guarde, a una tabla de usuarios que se registren y seleccionen su estado, municipio y localidad, gracias.
2050,php,Estoy montando una Web en Drupal conectado con MSSql y IIS7 pero tengo problemas para la instalación de Drupal, más que todo por un error que me sale en el cuarto paso. Acá los datos:
SO Windows 7 Ultimate
MS SQL Server 2014 express (SQLEXPRADV_X64_ES).
Drupal 7.41.
PHP 5.5.12 (instalado con wampserver 2.5 x86)
IIS 7.5
php_pdo_sqlsrv_55_ts.dll
php_sqlsrv_55_ts.dll
php_wincache.dll
Me he guiado de este tutorial pero el problema está en el WinCache. Además de usar el PHP Manager del IIS.
Es aquí donde me he quedado. He buscado la solución e incluso baje una DLL.
php_wincache.dll (wincache-1.3.5-5.5-nts-vc11-x86.exe)
Y al ver en mi phpinfo(); me sale que están cargadas las librerías para SQL Server pero no la del WinCache.
otro mensaje que me salió al iniciar el wamp fue:
De repente tengo que cambiar las versiones de algo o alguna configuración que me ha faltado ya que buscando en google he encontrado muy poco.
2055,c#,Buenas gente el tema es así:
Tengo este método que trae la siguiente lista desde SQL:
public ActionResult Index()
{
return View(db.ZService.ToList());
}
esta lista es llamada desde otra vista mediante Ajax:
<script type="text/javascript">
function GetAjax()
{
//toma la acción y el controllador donde se encuentra
$.get('@Url.Action("Index","ZServices")', function (data) {
$("#ajaxcontent").html(data);
});
}
</script>
cada item de la lista tiene un botón "Agregar", lo que quiero es que cuando presione ese botón pueda obtener el Id de ese item en particular y poder pasarlo al controllador para hacer una nueva consulta:
[HttpPost]
public ActionResult Agregar(string id)
{
var q = (from g in db.ZService
join ga in db.ZServiceOptions on
g.serviceid equals ga.serviceid where ga.value == id /*aca iría el id que tomaría dinámicamente*/
select g).ToList();
//q.CommandType = CommandType.StoredProcedure;
return View(q);
}
Esto seria la vista html de la lista con su botón
@foreach (var item in Model)
{
<ul>
<li>
<span>@Html.DisplayFor(modelItem => item.name)</span>
<a type="submit" class="btnagre" name="Guardar"
value="Agregar">agregar</a>
</li>
</ul>
}
¿Alguien tiene alguna idea?
2056,python,como puedo lograr borrar varios archivos .txt que tengo en distintas sub-carpetas. Por ejemplo en la carpeta C:\\TEST\\ tengo C:\\TEST\\Test1 C:\\TEST\\Test2 y dentro esas sub-carpetas Test1 y Test2 tengo muchos archivos .txt que deseo eliminar.
Tengo el siguiente código:
import glob, os
directory = 'C:\\TEST\\'
os.chdir(directory)
files=glob.glob('*.txt')
for filename in files:
os.unlink(filename)
print("Borrando archivo: ", filename)
Pero no me borra los .txt que tengo dentro de las sub-carpetas solo de la carpeta principal.
¿Alguna sugerencia?
2063,java,He hecho el siguiente código (puede que haya una forma más correcta de hacerlo, pero este no es mi problema):
package activitat2;
import java.io.File;
import java.io.RandomAccessFile;
import java.util.Arrays;
import java.util.Scanner;
/**
* ACTIVITAT 2 EAC 6
* @author Montse
*/
public class EquipIns{
public static void main(String[] args) {
// TODO code application logic here
EquipIns programa = new EquipIns();
programa.inici();
}
public void inici(){
System.out.println("Institutos....");
System.out.println("1-Registrar los datos de los institutos ");
System.out.println("2-Listar todos los institutos");
System.out.println("3- Salir");
System.out.println("Escoje una opción");
Scanner lector = new Scanner(System.in);
int punts=0;
int enterLlegit =0;
boolean llegit = false;
while(!llegit){
llegit = lector.hasNextInt();
if (llegit){
enterLlegit = lector.nextInt();
switch (enterLlegit) {
case 1:
System.out.println("Registra los datos de los institutos:");
System.out.println("Quantos institutos participan en el concurso?");
boolean leido=false;
int enterLlegit2 =0;
while(!leido){
leido = lector.hasNextInt();
if (leido){
enterLlegit2 = lector.nextInt();
System.out.println("Numero total de centros: "+enterLlegit2);
for (int j = 0; j < enterLlegit2; j++) {
int i=0;
i = enterLlegit2;
if(enterLlegit2>0){
System.out.println("-------------------------------------");
System.out.println("Introduce la info sobre el instituto:");
System.out.println("-------------------------------------");
System.out.println("Id?");
int idInst = lector.nextInt();
System.out.println("Nom Institut:");
String nomInst = lector.next();
System.out.println("Nom Equip:");
String nomEqui = lector.next();
System.out.println();
System.out.println("------------------------------------------");
System.out.println("::INFORMACIÓN SOBRE CENTRO INSCRITO::");
System.out.println("------------------------------------------");
System.out.println("Id: " +idInst);
System.out.println("Nom Institut: "+nomInst);
System.out.println("Equip: "+nomEqui);
System.out.println("Punts: "+punts);
System.out.println();
}
}
}else{
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
break;
case 2:
System.out.println("has escogido listar los institutos");
break;
case 3:
System.out.println("Hasta la próxima!");
break;
default:
System.out.println("No has escrito una opción válida");
System.out.println("Fin del programa");
break;}
}else{
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
lector.nextLine();
}
}
Necesito crear un fichero binario a partir de este archivo donde almacenar los datos introducidos por el usuario.
Me pone en el ejercicio que tengo que introducir los registros con medida fija usando el método void Seek(). Máximo 48 bytes (id (4), Instituto (20), NombreEquipo (20), Puntos (4) = 48).
Es decir una vez introducidos los datos por el usuario éstos deben de grabarse en el archivo.
Posteriormente he de mostrar esta información.
EDIT 1
Tengo una duda más!
He echo la parte del código del compañero me ha puesto y me da solo un resultado por pantalla por culpa supongo de que uso la misma variable para cada respuesta del usuario.
pongo código:
package activitat2;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Arrays;
import java.util.Scanner;
import java.util.logging.Level;
import java.util.logging.Logger;
/**
* ACTIVITAT 2 EAC 6
* @author Montse
*/
public class EquipIns{
public static void main(String[] args) throws FileNotFoundException, IOException {
// TODO code application logic here
EquipIns programa = new EquipIns();
programa.inici();
}
public void inici() throws FileNotFoundException, IOException{
RandomAccessFile raf;
raf = new RandomAccessFile("Resultat.bin", "rw");
System.out.println("Institutos....");
System.out.println("1-Registrar los datos de los institutos ");
System.out.println("2-Listar todos los institutos");
System.out.println("3- Salir");
System.out.println("Escoje una opción");
Scanner lector = new Scanner(System.in);
int punts=0;
int enterLlegit =0;
boolean llegit = false;
while(!llegit){
llegit = lector.hasNextInt();
if (llegit){
enterLlegit = lector.nextInt();
switch (enterLlegit) {
case 1:
System.out.println("Registra los datos de los institutos:");
System.out.println("Quantos institutos participan en el concurso?");
boolean leido=false;
int enterLlegit2 =0;
while(!leido){
leido = lector.hasNextInt();
if (leido){
enterLlegit2 = lector.nextInt();
System.out.println("Numero total de centros: "+enterLlegit2);
for (int j = 0; j < enterLlegit2; j++) {
int i=0;
i = enterLlegit2;
if(enterLlegit2>0){
System.out.println("-------------------------------------");
System.out.println("Introduce la info sobre el instituto:");
System.out.println("-------------------------------------");
System.out.println("Id?");
int idInst = lector.nextInt();
System.out.println("Nom Institut:");
String nomInst = lector.next();
System.out.println("Nom Equip:");
String nomEqui = lector.next();
System.out.println();
System.out.println("------------------------------------------");
System.out.println("::INFORMACIÓN SOBRE CENTRO INSCRITO::");
System.out.println("------------------------------------------");
System.out.println("Id: " +idInst);
System.out.println("Nom Institut: "+nomInst);
System.out.println("Equip: "+nomEqui);
System.out.println("Punts: "+punts);
System.out.println();
raf.seek(0);
raf.writeInt(idInst);
raf.seek(4);
raf.writeUTF(nomInst);
raf.seek(24);
raf.writeUTF(nomEqui);
raf.seek(44);
raf.writeInt(punts);
}
}
}else{
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
break;
case 2:
System.out.println("has escogido listar los institutos");
raf.seek(0);
System.out.println(raf.readInt());
raf.seek(4);
System.out.println(raf.readUTF());
raf.seek(24);
System.out.println(raf.readUTF());
raf.seek(44);
System.out.println(raf.readInt());
raf.close();
break;
case 3:
System.out.println("Hasta la próxima!");
break;
default:
System.out.println("No has escrito una opción válida");
System.out.println("Fin del programa");
break;}
}else{
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
lector.nextLine();
}
}
Como lo soluciono?
Me intento explicar mejor creo que el error esta:
Cuando el usuario inserta Equipos e institutos lo guarda en la misma variable.
Así que en cuanto vuelvo a guardar ese dato en la variable me borra el anterior.
Como lo corrijo?
Podéis ponerme un ejemplo??
Es el Switch Case ( opción 1 ) Primero pido numero de Institutos que participan, Luego ID, Luego Nombre Instituto Luego nombre Equipo.
En el Switch Case 2 listo el documento! Hay alguna forma de que no me de error cuando esta vació? Poniendo algún tipo de texto diciendo que no hay institutos introducidos?
MIL GRACIAS!!
EDIT 2
raf.seek(0);
raf.writeInt(id);
raf.seek(4);
raf.writeUTF(instituto);
raf.seek(24);
raf.writeUTF(equipo);
raf.seek(44);
raf.writeInt(puntos);
// Leer datos
raf.seek(0);
System.out.println(raf.readInt());
raf.seek(4);
System.out.println(raf.readUTF());
raf.seek(24);
System.out.println(raf.readUTF());
raf.seek(44);
System.out.println(raf.readInt());
Otra duda más..
Cuando me pones Read UTF imagino que el UTF es por ser dato String?
2067,java,A partir de JSF 2.2 no hay necesidad de crear un documento TLD sino que hay unos nuevos atributos añadidos a @FacesComponent( createTag,namespace,value,tagName) por lo que ya no es necesario el TLD.
Pero ahora cómo se le agrega documentación a los atributos del componente creado?
2068,javascript|html,Quisiera generar el binding en knockoutjs para una estructura tipo tabla como esta:
pero con las posiciones aleatorias. Para ello generé un json que refleja mi modelo de datos a como deseo que aparezca (debido a que como se verá abajo no pude hacer el binding desde el modelo):
{"filas":[{"columnas":[{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["11"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["3"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["15"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["8"]}]}]},{"columnas":[{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["1"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["10"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["5"]}]},{"fichas":[{"clase":"col vacio","NumeroLetraSimbolo":[""]}]}]},{"columnas":[{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["7"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["9"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["13"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["12"]}]}]},{"columnas":[{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["4"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["14"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["6"]}]},{"fichas":[{"clase":"col ","NumeroLetraSimbolo":["2"]}]}]}],"posiciones_tablero":[],"imagenDeFondo":[]}
De momento he intentado asignarlo así:
<div class="row tabla"  id="tabla1" data-bind="foreach: filas">
<div data-bind="foreach: columnas">
<div class="col" posicion="0" id="p1" data-bind="foreach:$parent.fichas">
<p data-bind="text:$parent.NumeroLetraSimbolo"></p>
</div>
</div>
</div>
El código ideal a generar es algo así:
<div class="row tabla" id="tabla1">
<div class="col" posicion="0" id="p1" ng-click="mensaje($event)">1</div>
<div class="col" posicion="1" id="p2" ng-click="mensaje($event)">2</div>
<div class="col" posicion="2" id="p3" ng-click="mensaje($event)">3</div>
<div class="col" posicion="3" id="p4" ng-click="mensaje($event)">4</div>
</div>
<div class="row tabla" id="tabla2">
<div class="col" posicion="0" id="p5" ng-click="mensaje($event)">5</div>
<div class="col" posicion="1" id="p6" ng-click="mensaje($event)">6</div>
<div class="col" posicion="2" id="p7" ng-click="mensaje($event)">7</div>
<div class="col" posicion="3" id="p8" ng-click="mensaje($event)">8</div>
</div>
<div class="row tabla" id="tabla3">
<div class="col" posicion="0" id="p9" ng-click="mensaje($event)">9</div>
<div class="col" posicion="1" id="p10" ng-click="mensaje($event)">10</div>
<div class="col" posicion="2" id="p11" ng-click="mensaje($event)">11</div>
<div class="col" posicion="3" id="p12" ng-click="mensaje($event)">12</div>
</div>
<div class="row tabla" id="tabla4">
<div class="col" posicion="0" id="p13" ng-click="mensaje($event)">13</div>
<div class="col" posicion="1" id="p14" ng-click="mensaje($event)">14</div>
<div class="col" posicion="2" id="p15" ng-click="mensaje($event)">15</div>
<div class="col vacio" posicion="3" id="p16" ng-click="mensaje($event)"></div>
</div>
2076,java,Tengo una clase, a la que llamaremos Entidad tal que así:
public class Entidad {
protected String name;
protected String notes;
//Getters y setters
}
De la que extienden otras 2 clases, la primera es Persona
public class Persona extends Entidad {
private String dni;
//Getters and setters
}
E Institucion
public class Institucion extends Entidad {
private String cif;
//Getters and setters
}
El caso es que tengo una tabla donde muestro distintos registros y en el código solo uso entidad, habría alguna forma de mostrar esto:
<td th:text="${entidad.dni}"></td>
<td th:text="${entidad.cif}"></td>
En otras palabras, que si el elemento que hay agregado pertenece a la clase persona muestre el DNI y si es de la tabla Institucion muestre el CIF sin tener que comprobar en el código Java si es una entidad u otra o sin tener que poner un flag para comprobarlo.
2080,c#,Estoy necesitando generar códigos de barra GS1 en C# .Net 4.0
Cualquier ayuda seria de gran ayuda.
2081,java,He bajado el SDK de Alfresco y lo he abierto en eclipse como muestra el tutorial descrito aquí
El caso es que al instalarlo, funciona correctamente, pero lo que necesitaba es cambiar el servidor por defecto en el que arranca el propio alfresco y desplegarlo directamente en uno que tengo en local donde tengo otra aplicación alojada (que interactuará con el propio alfresco). El server que estoy usando para dicha aplicación es el Pivotal tc Server que viene por defecto en el STS de Spring. El problema es que no se donde tengo que tocar.
2092,javascript,Me gustaría deshabilitar el botón de atrás del navegador o detectar ese evento y poder mostrar una alerta.
2095,php,Actualizado: Alguien que me pueda ayudar con este código amigos, tengo que guardar una imagen en servidor y base de datos. El problema es que guarda la imagen en el servidor, pero la consulta de insert que tengo enseguida no se ejecuta.
//*--------------------------------Se guarda la imagen----------------------------*
$file = $_FILES["file"];
$nombre = getUniqueName()."";
$tipo = $file["type"];
$ruta_provisional = $file["tmp_name"];
$size = $file["size"];
$carpeta = "upload/";
switch ($tipo) {
case 'image/jpg':
$tipo = JPG;
break;
case 'image/jpeg':
$tipo = JPEG;
break;
case 'image/png':
$tipo = PNG;
break;
case 'image/gif':
$tipo = GIF;
break;
default:
die("Error, el archivo no es una imagen");
}
$src = $carpeta.$nombre;
move_uploaded_file($ruta_provisional, $src);
changeSize($src, 500, $tipo);
echo "<img src='$src'>";
//Aqui necesito ingresar $src a la bd, pero no se ejecuta(La sentencia esta probada y funciona correctamente)
$con = Conectar();
$sql = 'INSERT INTO bolsa (id, tipo_bolsa, titulo, imagen, descripcion, categoria, fecha, sueldo) VALUES (:id, :tipo_bolsa, :titulo, :imagen, :descripcion, :categoria, :fecha, :sueldo)';
$q = $con->prepare($sql);
$q->execute(array(':id'=>$id, ':tipo_bolsa'=>$tipo_bolsa, ':titulo'=>$titulo, ':imagen'=>$src, ':descripcion'=>$descripcion, ':categoria'=>$categoria, ':fecha'=>$fecha, ':sueldo'=>$sueldo));
2103,c#,¿Cómo se puede obtener la ip del dispositivo en C#?
Que funcione en el ámbito de las UWP (Universal Windows Plataform) conocidas como aplicaciones universales de windows10
2104,java,Buenas tardes, tengo una consulta con respecto a la creación de un menú y sub-menú  en PrimeFaces JSF.
En mi base de datos está estructurado de la siguiente forma. La tabla menu está compuesta por:
idMenu(int)
codMenu(varchar)
nomMenu(varchar)
link(varchar)
estado(char)
idSubMenu(int)
La tabla submenu está compuesta por:
idSubMenu(int)
codSubmenu(varchar)
nomSubMenu(varchar)
estado(char)
¿Cómo podría mostrar el menú con sus respectivos sub-menús?
La estructura de la base de datos es la siguiente:
2109,android|php,Tengo una base de datos en mysql que administro con php admin, los datos son consultados por una aplicacion en android a través de PHP y JSON, todo hasta aquí esta perfecto, lo que quiero es que cada vez que realice una modificación en phpadmin de la base de datos como actualizar, insertar eliminar registros, esto se vea reflejado en tiempo real o de forma instantánea en la app sin necesidad de tener que cerrar y abrir la app para que esto ocurra.. cual quier sugerencia, comentario se lo agradecere mucho, saludos y gracias por su atencion.
Aquí la clase:
public class VerA extends ActionBarActivity {
String myJSON;
private static final String TAG_RESULTS="result";
private static final String TAG_ID = "id";
private static final String TAG_NAME = "nombre";
private static final String TAG_ADD ="telefono";
private Handler mHandler;
private int mInterval = 8000; // 5 seconds by default, can be changed later
JSONArray peoples = null;
ArrayList<HashMap<String, String>> personList;
ListView list;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
list = (ListView) findViewById(R.id.listView);
personList = new ArrayList<HashMap<String,String>>();
mHandler = new Handler();
startRepeatingTask();
getData();
}
// METODO QUE MUESTRA LA LISTA O LA MATRIZ
protected void showList(){
try {
JSONObject jsonObj = new JSONObject(myJSON);
peoples = jsonObj.getJSONArray(TAG_RESULTS);
for(int i=0;i<peoples.length();i++){
JSONObject c = peoples.getJSONObject(i);
String id = c.getString(TAG_ID);
String name = c.getString(TAG_NAME);
String address = c.getString(TAG_ADD);
HashMap<String,String> persons = new HashMap<String,String>();
persons.put(TAG_ID,id);
persons.put(TAG_NAME,name);
persons.put(TAG_ADD,address);
personList.add(persons);
}
ListAdapter adapter = new SimpleAdapter(
VerA.this, personList, R.layout.list_item,
new String[]{TAG_ID,TAG_NAME,TAG_ADD},
new int[]{R.id.id, R.id.name, R.id.address}
);
list.setAdapter(adapter);
} catch (JSONException e) {
e.printStackTrace();
}
}
///METODO QUE EXTRAE LOS DATOS DE EL JASON PHP
public void getData(){
class GetDataJSON extends AsyncTask<String, Void, String>{
@Override
protected String doInBackground(String... params) {
DefaultHttpClient httpclient = new DefaultHttpClient(new BasicHttpParams());
HttpPost httppost = new HttpPost("http://192.168.1.108/selectAllJSON.php");
// Depends on your web service
httppost.setHeader("Content-type", "application/json");
InputStream inputStream = null;
String result = null;
try {
HttpResponse response = httpclient.execute(httppost);
HttpEntity entity = response.getEntity();
inputStream = entity.getContent();
// json is UTF-8 by default
BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, "UTF-8"), 8);
StringBuilder sb = new StringBuilder();
String line = null;
while ((line = reader.readLine()) != null)
{
sb.append(line + "\n");
}
result = sb.toString();
} catch (Exception e) {
// Oops
}
finally {
try{if(inputStream != null)inputStream.close();}catch(Exception squish){}
}
return result;
}
@Override
protected void onPostExecute(String result){
myJSON=result;
showList();
}
}
GetDataJSON g = new GetDataJSON();
g.execute();
}
/// METODO PARA HACER QUE SE EJECUTE LA CONSULTA A LA BD CADA 8 SEGUNDOS, EL QUE NO FUNCIONA
Runnable mStatusChecker = new Runnable() {
@Override
public void run() {
getData();
mHandler.postDelayed(mStatusChecker, mInterval);
}
};
void startRepeatingTask() {
mStatusChecker.run();
}
}
Ultima modificacion al codigo:
public class VerA extends ActionBarActivity {
String myJSON;
private static final String TAG_RESULTS="result";
private static final String TAG_ID = "id";
private static final String TAG_NAME = "nombre";
private static final String TAG_ADD ="telefono";
Handler handler = new Handler();
JSONArray peoples = null;
ArrayList<HashMap<String, String>> personList;
ListView list;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
list = (ListView) findViewById(R.id.listView);
personList = new ArrayList<HashMap<String,String>>();
handler.postDelayed(runnable, 1000);
getData();
}
// METODO QUE MUESTRA LA LISTA O LA MATRIZ
protected void showList(){
try {
JSONObject jsonObj = new JSONObject(myJSON);
peoples = jsonObj.getJSONArray(TAG_RESULTS);
for(int i=0;i<peoples.length();i++){
JSONObject c = peoples.getJSONObject(i);
String id = c.getString(TAG_ID);
String name = c.getString(TAG_NAME);
String address = c.getString(TAG_ADD);
HashMap<String,String> persons = new HashMap<String,String>();
persons.put(TAG_ID,id);
persons.put(TAG_NAME,name);
persons.put(TAG_ADD,address);
personList.add(persons);
}
ListAdapter adapter = new SimpleAdapter(
VerA.this, personList, R.layout.list_item,
new String[]{TAG_ID,TAG_NAME,TAG_ADD},
new int[]{R.id.id, R.id.name, R.id.address}
);
list.setAdapter(adapter);
} catch (JSONException e) {
e.printStackTrace();
}
}
///METODO QUE EXTRAE LOS DATOS DE EL JASON PHP
public void getData(){
class GetDataJSON extends AsyncTask<String, Void, String>{
@Override
protected String doInBackground(String... params) {
DefaultHttpClient httpclient = new DefaultHttpClient(new BasicHttpParams());
HttpPost httppost = new HttpPost("http://tuescuelanoticias.x10.mx/selectAllJSON.php");
// Depends on your web service
httppost.setHeader("Content-type", "application/json");
InputStream inputStream = null;
String result = null;
try {
HttpResponse response = httpclient.execute(httppost);
HttpEntity entity = response.getEntity();
inputStream = entity.getContent();
// json is UTF-8 by default
BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, "UTF-8"), 8);
StringBuilder sb = new StringBuilder();
String line = null;
while ((line = reader.readLine()) != null)
{
sb.append(line + "\n");
}
result = sb.toString();
} catch (Exception e) {
// Oops
}
finally {
try{if(inputStream != null)inputStream.close();}catch(Exception squish){}
}
return result;
}
@Override
protected void onPostExecute(String result){
myJSON=result;
showList();
}
}
GetDataJSON g = new GetDataJSON();
g.execute();
}
///LOS METODOS SIGUIENTES MUESTRAN LA OPCION DE MENU Y CONFIGRUACIO
@Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.menu_main, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
// Handle action bar item clicks here. The action bar will
// automatically handle clicks on the Home/Up button, so long
// as you specify a parent activity in AndroidManifest.xml.
int id = item.getItemId();
//noinspection SimplifiableIfStatement
if (id == R.id.action_settings) {
return true;
}
return super.onOptionsItemSelected(item);
}
///DISQUE PARA QUE SE REFRESQUE CADA 8 SEGUNDOS
private Runnable runnable = new Runnable() {
public void run() {
showList();
// Do some updates
handler.postDelayed(this, 8000);
}
};
}
al ejecutarlo en la terminal o en mi movil , cada 8 segundos se van repitiendo los datos, pero si modifico desde php admin la base de datos, no se refelja en la app
2111,python,Resulta que tengo hecho un paquete que me funciona perfectamente en python2, pero quiero hacerlo compatible con python3 y me he encontrado con un problema que no sé muy bien cómo resolver.
Simplificando mucho todo, el problema se puede exponer así:
+-- prueba.py
+-- prueba
|
+--- __init__.py
+--- b.py
+--- c.py
__init__.py contiene unos cuantos from .fichero import * para hacer accesibles algunas clases.
b.py necesita una clase que hay en c.py.
c.py necesita una clase que hay definida en b.py
En python2 me funciona la siguiente solución:
prueba.py: Programa de prueba:
from __future__ import print_function
import prueba
print(prueba.func_c())
__init__.py:
from .b import *
b.py:
from .c import func_c
def func_b():
return "Hola"
c.py:
import b
def func_c():
return b.func_b()
Sin embargo en python3 no funciona el import b, porque ya no se permiten las importaciones relativas hechas así. El problema es que importaciones del tipo:
from .b import func_c
o bien:
from . import b
no funcionan porque hay una referencia circular. ¿Alguna solución?
Actualización
He comprobado que sí funciona la siguiente línea en c.py:
import prueba.b
2112,python,Estoy usando Celery en mi aplicación para poder procesar en tiempo real algunos datos estadísticos.
Esta es una tarea de prueba que consume algunos datos mediante la llamada a un procedimiento almacenado y finalmente publicarlos en una vista en Django:
@app.task
def broadcast_dashboard():
data = {}
params = [
1, '2015-12-23', '1000089'
]
cursor = connection.cursor()
cursor.callproc('dashboard_kardexlote', params)
kardex = dictfetchall(cursor)
data['kardex'] = sorted(kardex, key=lambda r: r['lote'], reverse=True)
publish_data(
channel='dashboard',
data=data
)
cursor.close()
Estoy usando entries con celery beat y en mi configuración de Django tengo, entre otras cosas, lo siguiente:
CELERYBEAT_SCHEDULE = {
'dashboard-schedule': {
'task': 'tasks.broadcast_dashboard',
'schedule': timedelta(seconds=1),
},
}
Luego, si ejecuto celery con la opción -B para celery beat:
$ celery -A tasks worker -B --loglevel=info
Funciona perfecto, obtengo la información en tiempo real y actualizada al segundo en mi vista lo cual me permite mostrar algo como esto:
El problema es que ahora necesito que los parámetros de la tarea (params) sean seleccionados por el usuario y asumo (corríjanme si me equivoco) que usar celery beat ya no tendría sentido. Lo que necesito es saber si es posible ejecutar la tarea a demanda, de acuerdo a la información que el usuario seleccione en un formulario.
Se que puedo llamar a la tarea usando apply_async y pasarle los parámetros:
broadcast_dashboard.apply_async(kwargs={'a': 1, 'b': 2})
Pero esto solo lo ejecuta una vez y lo que quiero es que se ejecute periódicamente cada segundo. ¿Es posible hacer esto?
2124,python,Se que debo importar sleep de time:
import time
o
from time import sleep
Y que se aplica así:
time.sleep(s)
pero no sé cómo incluirlo en el resto del codigo.
2130,javascript,¿Alguien sabe que significa esto en JavaScript? especificamente el ? y :
n = self.isUploadable ? fileStack.length : numFiles,
2135,php,Tengo un error por mas que he cambiado mi controller tengo el mismo problema.
var app = angular.module('myApp', []);
app.controller('customersCtrl', function($scope, $http) {
$http.get("dashLot.php")
.then(function (response) {$scope.lots = response.data.records;});
});
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular.min.js"></script>
<div class="page-content" ng-controller="customersCtrl">
<table class="table table-striped">
<thead>
<tr>
<th>Nombre</th>
<th>Apellido</th>
<th>Otro</th>
</tr>
</thead>
<tbody>
<tr ng-repeat="lot in lots">
<td>{{lot.a}}</td>
<td>{{lot.b}}</td>
<td>{{lot.c}}</td>
</tr>
</tbody>
</table>
Ahora si se fijan bien esto llama a un PHP el cual deseo retornar todos los datos que estén en la base de datos.
$db = new ezSQL_mysql(DB_USERNAME, DB_PASSWORD, DB_NAME, DB_HOST);
try {
$result = $db->get_results("select * from tblbilllandingtmp;");
if ($result->num_rows == 1) {
sleep(2);
echo json_encode([
'success' => true,
'result' => $result
]);
} else {
echo json_encode([
'success' => error]);
throw new Exception($strRes);
}
}catch(Exception $ex){
die('Error loading file "'.pathinfo($inputFileName,PATHINFO_BASENAME).'": '.$e->getMessage());
}
return $result;
Si me pudieran ayudar se los agradecería
2149,javascript|jquery,Estoy realizando un catalogo de kardex del empleado en donde tengo 2 instancias del plugin datatables de jquery:
La primer petición se realiza de manera correcta pero la segunda manda un error ajax canceled.
No tengo muy en claro por que sale este error, al parecer la primer petición tarda y hace que cancele la segunda o bien no se si sea un tema de datatables.
Lo que he logrado hasta el momento es poner un delay: 500 en la petición pero esta solución no me gusta
algun consejo?
Post en ingles al parecer es el mismo problema
2153,c#,Si agrego un control RadioButton y especifico una propiedad en el ViemModel, puedo hacer el Binding con normalidad, pero si tengo una lista de objetos y creo un RadioButton por cada objeto de la lista, ¿cómo se hace para que el RadioButton seleccionado haga el Binding como SelectedItem?
2155,android,Problema
Con el propósito de llevar un orden (ya que tengo muchos archivos xml) quisiera saber como crear subcarpetas; dentro de la carpeta res esta la carpeta layout y dentro de esta quiero crear subcarpetas:
layout
-- producto
-- detalle_producto.xml
-- agregar_producto.xml
-- servicio
-- detalle_servicio.xml
-- agregar_servicio.xml
Intentos
Investigando encontré un ejemplo que lo realiza por medio de  gradle
sourceSets {
main {
res.srcDirs =
[
'src/main/res/layouts/layouts_category2',
'src/main/res/layouts',
'src/main/res'
]
}
}
Con varias modificaciones  lo he dejando así, (nótese que cambie res por resources ya que con res me producía error)
sourceSets {
main {
resources.srcDirs =
[
'src/main/res/layout/producto',
'src/main/res/layout/servicio',
'src/main/res/layout',
'src/main/res'
]
}
}
El problema de esta solución parcial es que en los archivos xml al mover a la subcarpeta me marca en rojo la etiqueta.
Datos adicionales
Uso Android Studio 1.5
2160,javascript,Estoy haciendo el unit-testing con lab para un servicio en hapijs. El servicio lo que hace básicamente es solicitar un archivo:
server.route({
method: 'POST',
path: '/file',
config: {
payload:{
output:'stream',
parse: true,
allow: 'multipart/form-data'
}
},
handler: function(request, reply){
reply({ message: 'File saved' });
}
});
Siendo su unit-test:
var request = {
method: 'POST',
url: '/file',
payload: {
file: {
value: fs.createReadStream('input.csv')
}
}
};
lab.test('it return the default message to file index', (done) => {
server.inject(request, (response) => {
Code.expect(response.result.message).to.match(/File saved/);
Code.expect(response.statusCode).to.equal(200);
done();
});
});
El caso es que al ejecutar el unit testing me retorna { statusCode: 415, error: 'Unsupported Media Type' }. Por lo que pienso que debo indicarle en los headers el content-type pero no estoy seguro de cuales sean los valores que se necesitan y en dónde deben ir.
2164,python,Al poner mi proyecto en Amazon EC2, me paso que interactuando con mi aplicación en un momento salio el error de
errno 5 input/output error django
Encontré este ticket reportado
En mi consola me apareció que mi servidor requería reiniciarse, y cuando lo hice, y volví a iniciar mi aplicación (gunicorn y nginx) todo se arregló mágicamente.
Este error me apareció  ayer y hoy de nuevo.
El traceback es este:
Environment:
Request Method: GET
Request URL: http://localhost:8000/accounts/profile/
Django Version: 1.9
Python Version: 3.4.3
Installed Applications:
['django.contrib.admin',
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'django.contrib.staticfiles',
'crispy_forms',
'django_extensions',
'storages',
'userprofile']
Installed Middleware:
['django.middleware.security.SecurityMiddleware',
'django.contrib.sessions.middleware.SessionMiddleware',
'django.middleware.common.CommonMiddleware',
'django.middleware.csrf.CsrfViewMiddleware',
'django.contrib.auth.middleware.AuthenticationMiddleware',
'django.contrib.auth.middleware.SessionAuthenticationMiddleware',
'django.contrib.messages.middleware.MessageMiddleware',
'django.middleware.clickjacking.XFrameOptionsMiddleware']
Traceback:
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/handlers/base.py" in get_response
149.                     response = self.process_exception_by_middleware(e, request)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/handlers/base.py" in get_response
147.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/views/generic/base.py" in view
68.             return self.dispatch(request, *args, **kwargs)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/decorators.py" in _wrapper
67.             return bound_func(*args, **kwargs)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/contrib/auth/decorators.py" in _wrapped_view
23.                 return view_func(request, *args, **kwargs)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/decorators.py" in bound_func
63.                 return func.__get__(self, type(self))(*args2, **kwargs2)
File "/home/ubuntu/workspace/neurorehabilitation-system/userprofile/mixins.py" in dispatch
7.         return super(LoginRequiredMixin, self).dispatch(request, *args, **kwargs)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/views/generic/base.py" in dispatch
88.         return handler(request, *args, **kwargs)
File "/home/ubuntu/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/views/generic/base.py" in get
157.         context = self.get_context_data(**kwargs)
File "/home/ubuntu/workspace/neurorehabilitation-system/userprofile/views.py" in get_context_data
50.             print (user.is_physiotherapist)
Exception Type: OSError at /accounts/profile/
Exception Value: [Errno 5] Input/output error
A lo último en la línea 50 se referencia una función mía get_context_data() la cual pertenece a una vista basada en clase que hereda de TemplateView
Me atrevería a pensar que esto no tiene nada que ver con el error, dado además de que en mi entorno de desarrollo nunca pasó nada.
File "/home/ubuntu/workspace/neurorehabilitation-system/userprofile/views.py" in get_context_data
50.             print (user.is_physiotherapist)
Pero en un inicio si coincide con lo que describe el ticket que comparto.
Cuando un bug es declarado como invalido en Django, ¿esto que significa?
Si me voy por la lógica, uno pensaría que el bug es totalmente obsoleto o que no tiene validez ... Pero no se que pensar.
¿Es posible que haya algun problema a nivel de la infraestructura IaaS de EC2 con Django (cosa que no creo pues estamos hablando de empresas gigantes) o mas bien sería mi aplicación?
2176,jquery,me gustaría saber ¿Como se puede obtener la cantidad de divs, en este caso de la clase div_principal, que no están incluido del div de clase div_global?. En este caso debería retornar valor.
<div class="div_global">
<div class="div_principal"></div>
<div class="div_principal"></div>
<div class="div_principal"></div>
</div>
<div class="div_principal"></div>
<div class="div_principal"></div>
2180,c#,Tengo un problemas al tratar de crear un formulario dentro de un Hub en un aplicacion UWP.
<Hub>
<HubSection>
<Datatemplate>
<Grid>
<TextBox x:Name="txtSerial"/>
</Grid>
</Datatemplate>
</HubSection>
</Hub>
El problema es que no puedo acceder al control textbox con el nombre para obtener su valor. He leído en alguna paginas que se podria user el evento loaded del control y un campo en la clase para hacerlo accesible, pero esto se me complicaría mucho ya que quiero crear varios formularios con varios campos cada uno. Si alguno puede ayudarme de antemano gracias.
2181,javascript,Suponiendo que tengo la siguiente directiva:
.directive("viewSeats", ['$parse', function ($parse) {
return {
restrict: 'E',
scope: {
numItinerary: "@",
numSegment: "@",
seatMap: "@",
allTravelers: "@",
allData: "@",
flightPnr: "@",
flightNumber: "@",
flightTerminal: "@"
},
templateUrl: baseEnginePath + "/Templates/FLight/flight-seats.html",
controller: ["$scope", "$element", "$compile", function ($scope, $element, $compile) {
}],
link: function ($scope, $elem, $attrs) {
$elem.bind("click", function () {
console.log("flightPnr", $scope.flightPnr);
jQuery.fancybox($('#modalSeats'), {
'width': '600',
'height': '800',
'autoSize': false
});
});
}
};
}]);
La directiva anterior la mando llamar en un Loop algo así como un ng-repeat de la siguiente manera:
<div imaginemos que aqui es el ng-repeat y la directiva se genera x cantidad de veces>
<view-seats all-data="@jsonDisplayRS" all-travelers="@jsonTravelers" seat-map="@seatsData" flight-pnr="@listSegments.Item(i + p).Item(17)" flight-number="@listSegments.Item(i + p).Item(8)" flight-terminal="@listSegments.Item(i + p).Item(6)" num-itinerary="@listSegments.Item(i + p).Item(18)" num-segment="@listSegments.Item(i + p).Item(16)"></view-seats>
</div>
nota: estoy usando razor de .net. Bueno hasta ahí las cosas van bien. ya que si mando pintar una de las variables que mando a mi directiva con un console.log mi variable cambia dependiendo la posición del loop.
El problema surge en el template de la directiva que no se renderea o actualiza con el valor que tengo en el link de la directiva. El template es el siguiente:
<ul>
<li>
PNR
<strong>{{flightPnr}}</strong>
</li>
</ul>
(esta es solo una parte del template pero para no hacer mas larga la pregunta solo puse este fragmento)
La variable flightPnr la mando como parámetro cuando genero la directiva en el loop, como ya comente anteriormente si coloco un console.log si se modifica, pero en la platilla no y ese es mi problema, ¿Cómo puedo hacer que esa y todas las demás variables de modifiquen en el template?
nota: la directiva es un botón es por eso que tengo un $elem.bind("click", function () {}) en el link.
2184,javascript,A veces veo código que incluye "use strict";. Por ejemplo, muchas bibliotecas comienzan con esto:
(function () {
"use strict";
¿Qué significa "use strict" y para qué se usa?
En otros idiomas: English • Русский
2186,php,Buenas, quería consultar lo siguiente:
Al generar un modal con Bootstrap y llamando desde la base de datos me genera el modal pero por más que haya muchos datos, siempre me muestra el primero que toma.
A continuación código en PHP:
$consulta = mysql_query("SELECT `video`,`info` FROM `tutorial` group by `video`,`info` ", $link);
<button type=button  class=btn btn-info btn-lg data-toggle=modal data-target=#myModal>Open Modal</button>
<div id=myModal class=modal fade role=dialog>
<div class=modal-dialog>
<div class=modal-content>
<div class=modal-header>
<button type=button class=close data-dismiss=modal>&times;</button>
<h4 class=modal-title>Modal Header</h4>
</div>
<div class=modal-body>
<p><a href=' . $row[1] . '>$row[1]</a></p>
</div>
<div class=modal-footer>
<button type=button class=btn btn-default data-dismiss=modal>Close</button>
</div>
</div>
</div>
</div>";
EDITADO: Adjunto el código completo: Lo que pretendo es que por cada dato en la base, aparecerá un botón que abrirá un modal y ahí estará la dirección del video de ese dato.
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hola!</title>
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/business-frontpage.css" rel="stylesheet">
</head>
<body>
<div class="row">
<div class="col-sm-8">
<?php
include("conexion.php");
$link = Conectarse();
$consulta = mysql_query("SELECT `video`FROM `tutorial` group by  `video`", $link);
echo '<table background="id="grid-selection" class="table table-condensed table-hover table-striped">';
// Establish the output variable
echo ' <thead><tr class=info>';
echo '<th data-column-id="video" style=text-align:center>Video</th>';
while ($row = mysql_fetch_row($consulta)) {
echo "<tr>";
if($row[0]<> NULL){
echo"<td>";
echo"<button type=button  class=btn btn-info btn-lg data-toggle=modal data-target=#myModal>Open Modal</button>
<div id=myModal class=modal fade role=dialog>
<div class=modal-dialog>
<div class=modal-content>
<div class=modal-header>
<button type=button class=close data-dismiss=modal>&times;</button>
<h4 class=modal-title>Modal Header</h4>
</div>
<div class=modal-body>
<p><a href=' . $row[0] . '>$row[0]</a></p>
<div class=modal-footer>
<button type=button class=btn btn-default data-dismiss=modal>Close</button>
</div>
</div>
</div>
</div>";
echo"</td>";
}else{
echo "<td style=text-align:center>$row[0]</td>";
}
}
echo "</thead>";
echo "</table>";?>
</div>
<hr>
<hr>
</div>
<!-- /.container -->
<!-- jQuery -->
<script src="js/jquery.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="js/bootstrap.min.js"></script>
</body>
</html>
2187,python,En la documentación de Python me topé con este método para los objetos como:
archivo = open('archivo', 'r');
archivo.isatty()
que retorna True/False si el archivo es un tty o no. Y me preguntaba
¿Qué es un archivo tty?
¿Para qué se usa un archivo tty?
file.isatty()
Return True if the file is connected to a tty(-like) device, else False.
Note: If a file-like object is not associated with a real file, this method should not be implemented.
https://docs.python.org/2/library/stdtypes.html?highlight=file%20flush#file.isatty
2200,java,Necesito ayuda con el siguiente trozo de código:
case 1:
System.out.println("Actualizar Puntos");
int registro = 1;
// Nuevos puntos (entrada del usuario)
punts = 40;
// Posición donde comienza el registro
int pos = 48 * (registro - 1);
// Mover a la posición donde empieza el dato
pos += 4 + 20 + 20;
raf.seek(pos);
raf.writeInt(punts);
break;
Al imprimir los datos por pantalla observo que actualiza todos los resultados a 40:
ID: 50
Nombre Instituto: inst1
Nombre Equipo: equi1
Puntos: 40
ID: 600
Nombre Instituto: inst2
Nombre Equipo: equip2
Puntos: 40
ID: 6000
Nombre Instituto: inst3
Nombre Equipo: equip3
Puntos: 40
Cada registro debería tener un número de puntos diferente. Por ejemplo: el primero 40 puntos, el segundo 60 puntos, el tercero 30 puntos, etc.
El problema es que todos los registros se actualizan a 40 cuando debería de ir registro por registro. No todos de golpe.
¿Qué estoy haciendo mal?
A petición de un usuario adjunto código completo para revisión:
Parte 1  ( Donde se introducen los datos en el archivo binario )
/**
* OPCIO 1  ACTIVITAT 2
*/
package activitat2;
import java.io.EOFException;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Scanner;
/**
* ACTIVITAT 2 EAC 6
* @author Montse
*/
public class Opcio1{
/**
* En aquesta activitat la número 2 farem:
* Introduir instituts
* Listar instituts introduïts
* Sortir
* Tornar al menú principal
* @throws FileNotFoundException
* @throws IOException
*/
static void IntroduirInstituts() throws FileNotFoundException, IOException{
RandomAccessFile raf;
raf = new RandomAccessFile("Partides.dat", "rw");
System.out.println("HAS ESCOLLIT OPCIÓ 1");
System.out.println("--------------------------------");
System.out.println("Institutos que participarán en infoguardians");
System.out.println("1-Registrar los datos de los institutos ");
System.out.println("2-Listar todos los institutos");
System.out.println("3-Volver al menú principal");
System.out.println("4- Salir");
System.out.println("Escoje una opción");
Scanner lector = new Scanner(System.in);
int punts       = 0;
int enterLlegit = 0;
boolean llegit  = false;
while(!llegit){
llegit = lector.hasNextInt();
if (llegit){
enterLlegit = lector.nextInt();
switch (enterLlegit){
case 1:
System.out.println("Registra los datos de los institutos:");
System.out.println("Quantos institutos participan en el concurso?");
boolean leido = false;
while(!leido){
leido = lector.hasNextInt();
if (leido){
int enterLlegit2 = lector.nextInt();
System.out.println("Numero total de centros: "+enterLlegit2);
System.out.println("El fitxer s'ha creat. Accés directe");
for (int j = 0, pos = 0; j < enterLlegit2; j++){
int i = 0;
i = enterLlegit2;
if(enterLlegit2 > 0){
System.out.println("-------------------------------------");
System.out.println("Introduce la info sobre el instituto:");
System.out.println("-------------------------------------");
System.out.println("Id?");
int idInst = lector.nextInt();
System.out.println("Nom Institut:");
String nomInst = lector.next();
System.out.println("Nom Equip:");
String nomEqui = lector.next();
System.out.println();
System.out.println("------------------------------------------");
System.out.println("::INFORMACIÓN SOBRE CENTRO INSCRITO::");
System.out.println("------------------------------------------");
System.out.println("Id: " +idInst);
System.out.println("Nom Institut: "+nomInst);
System.out.println("Equip: "+nomEqui);
System.out.println("Punts: "+punts);
System.out.println();
raf.seek(pos);
raf.writeInt(idInst);
pos +=4;
raf.seek(pos);
raf.writeUTF(nomInst);
pos +=20;
raf.seek(pos);
raf.writeUTF(nomEqui);
pos+=20;
raf.seek(pos);
raf.writeInt(punts);
pos +=4;
}
}
}else {
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
break;
case 2:
System.out.println("------------------------------------");
System.out.println("HAS ESCOGIDO LISTAR LOS INSTITUTOS");
System.out.println("------------------------------------");
for (int pos = 0;;){
try
{
raf.seek(pos);
System.out.println("ID: " +raf.readInt());
pos += 4;
raf.seek(pos);
System.out.println("Nombre Instituto: "+raf.readUTF());
pos += 20;
raf.seek(24);
System.out.println("Nombre Equipo: "+raf.readUTF());
pos += 20;
raf.seek(44);
System.out.println("Puntos: "+raf.readInt());
pos += 4;
System.out.println();
}
catch (EOFException e)
{
// Fin de archivo
break;
}
}
case 3:
System.out.println("TORNAR AL MENÚ PRINCIPAL::::");
MenuPrincipal.EscollirOpcio();
case 4:
System.out.println("Hasta la próxima!");
break;
default:
System.out.println("No has escrito una opción válida");
System.out.println("Fin del programa");
break;
}
}else {
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
lector.nextLine();
}
}
Parte 2 del código donde quiero modificar:
/**
* OPCIO 2  ACTIVITAT 3
*/
package activitat2;
import java.io.EOFException;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Scanner;
/**
*
* @author Montse
*/
public class Opcio2 {
/**
* En aquesta clase farem les demandes de l'activitat 2
* @throws FileNotFoundException
*/
static void ActualitzarInstituts() throws FileNotFoundException, IOException {
RandomAccessFile raf;
raf = new RandomAccessFile("Partides.dat", "rw");
System.out.println("HAS ESCOLLIT OPCIÓ 2");
System.out.println("--------------------------------");
System.out.println("Institutos que participarán en infoguardians");
System.out.println("1-Actualizar Puntos");
System.out.println("2- Salir");
System.out.println("3- Volver al menú principal");
System.out.println("Escoje una opción");
Scanner lector = new Scanner(System.in);
int punts       = 0;
int enterLlegit = 0;
boolean llegit  = false;
while(!llegit) {
llegit = lector.hasNextInt();
if (llegit) {
enterLlegit = lector.nextInt();
switch (enterLlegit) {
case 1:
System.out.println("Actualizar Puntos");
// Primero enseñaremos los intitutos que tenemos registrados
System.out.println("LOS CENTROS INTRODUCIDOS SÓN:::::::");
System.out.println("-----------------------------------");
for (int pos = 0;;){
try
{
raf.seek(pos);
System.out.println("ID: " +raf.readInt());
pos += 4;
raf.seek(pos);
System.out.println("Nombre Instituto: "+raf.readUTF());
pos += 20;
raf.seek(24);
System.out.println("Nombre Equipo: "+raf.readUTF());
pos += 20;
raf.seek(44);
System.out.println("Puntos: "+raf.readInt());
pos += 4;
System.out.println();
}
catch (EOFException e)
{
// Fin de archivo
}
System.out.println("Actualizar Puntos");
int registro = 1;
// Nuevos puntos (entrada del usuario)
punts = 40;
// Posición donde comienza el registro
pos = 48 * (registro - 1);
// Mover a la posición donde empieza el dato
pos += 4 + 20 + 20;
raf.seek(pos);
raf.writeInt(punts);
break;
}
case 2:
System.out.println("Hasta la próxima!");
break;
default:
System.out.println("No has escrito una opción válida");
System.out.println("Fin del programa");
break;
}
}else {
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
lector.nextLine();
}
}
2214,html,Recientemente he notado que son varios los sitios que piden permiso para poder usar cookies y antes no lo hacían, ¿alguien sabe porque? ¿Es algo que tenga que aplicar en mis sitios web?
Tengo una tienda en linea con wordpress y woocommerce y soy de México.
2216,php,Tengo la esta consulta:
SET @runtot:=0;
SELECT Fecha, (@runtot := @runtot + Numero) AS `N`
FROM Tabla
WHERE `ID` = 2
Estoy usado esta consulta en una pagina de php. Pero como hay una ; en la consulta (al final de SET @runtot:=0;), me falla la consulta cuando lo pruebo en la página de php - en Navicat funciona perfectamente.
¿Qué puedo usar en vez del ; para poder usarlo en php? o ¿Cómo puedo cambiar la consulta?
2222,python,Esta es mi tabla facturacion
db.define_table('facturacion',
Field('numero_comprobante', 'string'),
Field('numero_cotizacion', 'reference cotizaciones'),
Field('cliente', 'reference clientes'),
Field('marca_gg', 'reference marcas_definiciones'),
Field('contacto_cliente', 'reference contactos'),
Field('razon_social_gg', 'reference razones_zociales_gg'),
Field('fecha_facturacion', 'date'),
Field('estado_facturacion', 'reference estados_facturacion'),
Field('tipo_comprobante', 'reference tipos_comprobantes'),
Field('moneda', 'reference monedas'),
Field('razon_social_nombre_completo_cliente', 'string'),
Field('ruc_dni_ce_cliente', 'string'),
Field('direccion_fiscal_cliente', 'string'),
Field('detraccion', 'boolean'),
Field('monto_detraccion'),
Field('fecha_recepcion', 'date'),
Field('sub_total', 'float'),
Field('descuento', 'float'),
Field('sub_total_venta', 'float'),
Field('impuesto_igv', 'float'),
Field('total_venta', 'float'),
Field('nota', 'text'),
format='%(numero_comprobante)s')
y esta es mi tabla clientes
define_table('clientes',
Field('cliente', 'string'),
Field('creacion', 'date'),  # , default=now, writable=False
Field('tipo_cliente', 'reference tipos_clientes'),
Field('razon_social', 'string'),
Field('tipo_doc_id', 'string'),
Field('direccion_fiscal_cliente'),
Field('fecha_aniversario', 'date'),
Field('area_negocio', 'reference areas_negocios'),
Field('estado_cliente', 'reference estados_clientes'),
Field('medio_captacion', 'reference medios_captacion'),
#Field('direccion_principal', 'string'),
Field('telefono_contacto', 'string'),
Field('email_contacto', 'string'),
Field('url', 'string'),
Field('nota', 'text'),
format='%(cliente)s')
El problema esta en que cuando seleccione un cliente la tabla facturacion ...
Los campos de la tabla facturacion que sean de clientes debe llenarse de manera automatica, en otras palabras al seleccionar un cliente en facturacion algunos campos deben llenarse o aparecer de forma automatica.
2228,java,Tengo el siguiente código:
try{
raf = new RandomAccessFile("Partides.dat", "rw");
for (long i=0; i< "partides.dat".length(); i= i+48){
for (long j=i +48; j<"partides.dat".length(); j=j+48){
// Es llegueixen els valors de la posició punts
raf.seek(i);
double valorI= raf.readDouble();
raf.seek(j);
double valorJ = raf.readDouble();
//Es comparen
if (valorI > valorJ )
//se intercanvian
raf.seek(i);
raf.writeDouble(valorJ);
raf.seek(j);
raf.writeDouble(valorI);
}
}
raf.close();
No consigo que me ordene los registros que tengo.. y no sé que hago mal.. :S En este caso estoy intentando ordenar dos valores..
Básicamente con el código intento conseguir que me ordene unos datos que están posicionados en el 48 "es decir los puntos" de mayor a menor. Pero si entiendo bien mi código estoy intentando ordenar solo 2 valores.. no se si hay una forma de ordenar todos de otra manera.. :S
Pongo el código completo a revisión:
/**
* OPCIO 2  ACTIVITAT 3
*/
package activitat2;
import java.io.EOFException;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.RandomAccessFile;
import java.util.Scanner;
/**
*
* @author Montse
*/
public class Opcio2 {
/**
* En aquesta clase farem les demandes de l'activitat 2
* @throws FileNotFoundException
*/
static void ActualitzarInstituts() throws FileNotFoundException, IOException {
RandomAccessFile raf;
raf = new RandomAccessFile("Partides.dat", "rw");
System.out.println("--------------------------------");
System.out.println("HAS ESCOLLIT OPCIÓ 2");
System.out.println("--------------------------------");
System.out.println("Escoge una opción:::::::");
System.out.println("1-Actualizar Puntos y listar resultados");
System.out.println("2-Instituto Ganador ");
System.out.println("3-Percentatge dels millors instituts");
System.out.println("4- Volver al menú principal");
System.out.println("5- Salir");
System.out.println("Escoje una opción");
Scanner lector = new Scanner(System.in);
int punts=0;
int enterLlegit =0;
boolean llegit = false;
while(!llegit){
llegit = lector.hasNextInt();
if (llegit){
enterLlegit = lector.nextInt();
switch (enterLlegit) {
case 1:
System.out.println("--------------------------------------");
System.out.println("HAS ESCOGIDO ACTUALIZAR PUNTOS");
System.out.println("--------------------------------------");
for (int registro = 1;; registro++) {
int pos = 48 * (registro - 1);
try {
pos += 4 + 20 + 20;
// Lectura
raf.seek(pos);
System.out.printf("Instituto número: #%02d%n", registro);
raf.seek(pos);
System.out.printf("Puntos actuales: %d%n", raf.readInt());
// Escritura
raf.seek(pos);
System.out.println("Introducir puntos: ");
punts = lector.nextInt();
System.out.println("-------------------------------------");
raf.writeInt(punts);
raf.seek(pos);
} catch (EOFException e) {
// Fin de archivo
raf.close();
System.out.println("Datos actualizados:::");
System.out.println("Tornem al menú principal");
Opcio1.IntroduirInstituts();
break;
} }break;
case 2:
System.out.println("-------------------------------------");
System.out.println("HAS ESCOGIDO ORDENAR POR PUNTOS:");
System.out.println("Instituto Ganador ");
System.out.println("-------------------------------------");
try{
raf = new RandomAccessFile("Partides.dat", "rw");
for (long i=0; i< "partides.dat".length(); i= i+48){
for (long j=i +48; j<"partides.dat".length(); j=j+48){
// Es llegueixen els valors de la posició punts
raf.seek(i);
double valorI= raf.readDouble();
raf.seek(j);
double valorJ = raf.readDouble();
//Es comparen
if (valorI > valorJ )
//se intercanvian
raf.seek(i);
raf.writeDouble(valorJ);
raf.seek(j);
raf.writeDouble(valorI);
}
}raf.close();
//    ANEM A LLISTAR RESULTATS:
System.out.println("Ves a la opción Listar para observar los cambios");
Opcio1.IntroduirInstituts();
} catch (Exception e){
System.out.println("Error ordenado fichero");
}
break;
case 3:
System.out.println("Percentatge dels millors instituts");
//PENDIENTE DE HACER //
break;
case 4:
System.out.println("TORNAR AL MENÚ PRINCIPAL::::");
MenuPrincipal.EscollirOpcio();
break;
case 5:
System.out.println("HAS ESCOLLIT SORTIR");
System.out.println("Hasta la próxima!");
break;
default:
System.out.println("No has escrito una opción válida");
System.out.println("Fin del programa");
break;}
}else{
System.out.println("No has escrito un entero, vuelve a intentarlo");
lector.next();
}
}
lector.nextLine();
}
2230,java|android,Tengo el siguiente error al intentar construir mi aplicación,
Error:Execution failed for task ':app:dexDebug'.
> com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\Program Files\Java\jdk1.8.0_65\bin\java.exe'' finished with non-zero exit value 2
Supongo que tiene que ver con las dependencias que agrego al proyecto pero no logro solucionarlo,
este es mi Build.Gradle(app):
apply plugin: 'com.android.application'
android {
compileSdkVersion 23
buildToolsVersion "23.0.0"
repositories {
mavenCentral()
}
defaultConfig {
applicationId "com.jmhe.corebo"
minSdkVersion 15
targetSdkVersion 23
versionCode 1
versionName "1.0"
}
buildTypes {
release {
minifyEnabled false
proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
}
}
}
dependencies {
compile fileTree(include: ['*.jar'], dir: 'libs')
compile files('libs/gson-2.2.2.jar')
compile files('libs/guava-17.0.jar')
compile files('libs/mobileservices-2.0.3-javadoc.jar')
compile files('libs/mobileservices-2.0.3-sources.jar')
compile files('libs/mobileservices-2.0.3.jar')
// compile 'com.facebook.android:facebook-android-sdk:4.1.0'
compile project(':facebook')
compile files('libs/json-simple-1.1.1.jar')
compile 'com.android.support:appcompat-v7:23.1.1'
compile 'com.android.support:design:23.1.1'
compile 'com.squareup.picasso:picasso:2.5.2'
compile 'com.google.android.gms:play-services:8.3.0'
}
Antes me construía, lo último que agregue al proyecto fue la plantilla predeterminada MapsActivity, con el resto todo estaba igual.
2237,javascript,En javascript puedo declarar una constante de las siguientes dos formas:
const CONSTANTE = 'soy una constante';
var CONSTANTE = 'soy una constante';
Claro, usar const en lugar de var hace más entendible el código pero, aparte de eso ¿Existen otras ventajas por las cuales yo debería usar const?
2240,python,He buscado en la Web tanto en español como en inglés y no he encontrado nada sobre el tema.
Estoy trabajando en una aplicación con Python y Tkinter en la que he añadido la opcion "Ayuda" en un menú top level. Mi idea es poder mostrar un PDF de ayuda cuando el usuario lo desee. Imagino poder salirme sin demasiados problemas, pero tal vez hay otras opciones.
¿Podeis, por favor, indicarme como hacerlo de manera elegante y pythonica?.
2242,java|android,Estoy en pleno desarrollo de una aplicación, uso fragments y uno de ellos cargo un layout con un RecyclerView, al principio el click y long click se realizaban, no me da ningún error, ya que la aplicación funciona perfectamente pero no lanza los eventos (no uso control de versiones) por eso me pregunto que causas podría afectar que dejase de funcionar.
Añado el código del adaptador del RecyclerView:
public class AdaptadorListaSenderos extends RecyclerView.Adapter<AdaptadorListaSenderos.ViewHolder> {
private static final String TAG = "AdaptadorListaSenderos";
private Context context;
//List of senderos
List<Sendero> senderos;
public AdaptadorListaSenderos(List<Sendero> senderos, Context context){
super();
//Getting all the senderos
this.senderos = senderos;
this.context = context;
}
@Override
public ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
View v = LayoutInflater.from(parent.getContext())
.inflate(R.layout.card_item_footpaths, parent, false);
final ViewHolder vh = new ViewHolder(v);
v.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
final int position = vh.getAdapterPosition();
if (position != RecyclerView.NO_POSITION) {
Toast.makeText(context, Integer.toString(position),Toast.LENGTH_LONG).show();
Log.v(TAG, "onClick() position with: " + position);
}
}
});
v.setOnLongClickListener(new View.OnLongClickListener() {
@Override
public boolean onLongClick(View v) {
final int position = vh.getAdapterPosition();
if (position != RecyclerView.NO_POSITION) {
Toast.makeText(context, Integer.toString(position), Toast.LENGTH_LONG).show();
Log.d(TAG, "onLongClick() position with:" + position);
}
return true;
}
});
return vh;
}
@Override
public void onBindViewHolder(ViewHolder holder, int position) {
Sendero row =  senderos.get(position);
ImageLoader imageLoader = MySingleton.getInstance(context).getImageLoader();
imageLoader.get(row.getCoverImage(), ImageLoader.getImageListener(holder.imageView, R.drawable.default_image, R.drawable.error_image));
holder.imageView.setImageUrl(row.getCoverImage(), imageLoader);
holder.textViewName.setText(row.getTitle());
holder.textViewAge.setText(row.getExcerpt());
//holder.currentItem = position;
holder.currentItem = senderos.get(position);
}
@Override
public int getItemCount() {
return senderos.size();
}
class ViewHolder extends RecyclerView.ViewHolder {
public View view;
public Sendero currentItem;
public NetworkImageView imageView;
public TextView textViewName;
public TextView textViewAge;
public ViewHolder(View v) {
super(v);
view = v;
imageView = (NetworkImageView) v.findViewById(R.id.cover_image);
textViewName = (TextView) v.findViewById(R.id.nombre);
textViewAge= (TextView) v.findViewById(R.id.edad);
}
}
}
2246,java,Buenos días. ¿a qué se debe este error que me está generando? Solo puse en mi código:
@PostConstruct
public void init(){
this.listarMenus();
model=new DefaultMenuModel();
this.establecerPermisos();
}
Y me genera el siguiente error:
com.sun.faces.mgbean.ManagedBeanCreationException: Se ha producido un error al realizar la inyección de recurso en el bean administrado menuBean
at com.sun.faces.mgbean.BeanBuilder.invokePostConstruct(BeanBuilder.java:227)
at com.sun.faces.mgbean.BeanBuilder.build(BeanBuilder.java:103)
at com.sun.faces.mgbean.BeanManager.createAndPush(BeanManager.java:409)
at com.sun.faces.mgbean.BeanManager.create(BeanManager.java:269)
at com.sun.faces.el.ManagedBeanELResolver.resolveBean(ManagedBeanELResolver.java:257)
at com.sun.faces.el.ManagedBeanELResolver.getValue(ManagedBeanELResolver.java:117)
at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176)
at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203)
at org.apache.el.parser.AstIdentifier.getValue(AstIdentifier.java:80)
at org.apache.el.parser.AstValue.getValue(AstValue.java:137)
at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:184)
at com.sun.faces.facelets.el.TagValueExpression.getValue(TagValueExpression.java:109)
at javax.faces.component.ComponentStateHelper.eval(ComponentStateHelper.java:194)
at org.primefaces.component.menubar.Menubar.getModel(Menubar.java:86)
at org.primefaces.component.menu.BaseMenuRenderer.encodeEnd(BaseMenuRenderer.java:109)
at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:919)
at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1863)
at javax.faces.render.Renderer.encodeChildren(Renderer.java:176)
at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:889)
at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1856)
at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1859)
at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1859)
at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:456)
at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133)
at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337)
at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120)
at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219)
at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)
at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)
at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)
at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)
at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:521)
at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1096)
at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:674)
at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.doRun(AprEndpoint.java:2500)
at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:2489)
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
at java.lang.Thread.run(Thread.java:745)
Caused by: com.sun.faces.spi.InjectionProviderException
at com.sun.faces.vendor.WebContainerInjectionProvider.invokeAnnotatedMethod(WebContainerInjectionProvider.java:115)
at com.sun.faces.vendor.WebContainerInjectionProvider.invokePostConstruct(WebContainerInjectionProvider.java:95)
at com.sun.faces.mgbean.BeanBuilder.invokePostConstruct(BeanBuilder.java:221)
... 49 more
Caused by: java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:497)
at com.sun.faces.vendor.WebContainerInjectionProvider.invokeAnnotatedMethod(WebContainerInjectionProvider.java:113)
... 51 more
Caused by: java.lang.NullPointerException
at com.proyecto.bean.MenuBean.establecerPermisos(MenuBean.java:58)
at com.proyecto.bean.MenuBean.init(MenuBean.java:41)
... 56 more
2256,python,Primero convertí la cadena en una lista, sumé las longitudes de todas las palabras y lo dividí entre el total de palabras para así sacar la media aritmética.
st = "Yo estoy estudiando programacion"
lt = st.split()
x = 0
for i in lt:
x += len(i)
m_a = x/len(lt)
if len(i) < m_a:
print("las palabras menores a la media: ", i)
elif len(i) > m_a:
print("las palabras mayores a la media:", i)
Pero el programa me devuelve:
las palabras mayores a la media: programacion
Deberia salir también "estudiando".
Por favor podrían ayudarme.
2261,javascript|jquery,Tengo una página llamada formulario.aspx, la cual contiene un formulario con el siguiente código:
<textarea name="summernote3" id="summernote" runat="server"></textarea>
<img id="Img2" alt="Editar en pantalla Completa" src="../imagenes/botones/editorpantalla.png" class="clase" onclick="ZoomEdit2('<%=summernote.ClientID %>');" />
Ésta es la función que he generado para enviar la información capturada en el textarea hacia otra página llamada editar.aspx
function ZoomEdit2(campo) {
var nw = window.open("../Plugins/editar.aspx?campo=" + campo +"","FORMATO","resizable=1,width=1100,height=600, scrollbars=1");
nw.focus();
}
En la segunda página editar.aspx, quiero obtener el valor del primer textarea y asignarlo a un otro textarea y viceversa.
Estuve intentando con algo de ajaxcontrol, pero no logro obtener los resultados deseados:
var markupStr = $('#summernote').code();
var txvalor = opener.$get('<%=request("campo")%>').control;
txvalor2.set_content(markupStr);
¿Hay alguna manera de intercambiar la información capturada en textareas y enviarlos entre determinadas páginas?
2266,php,Ya poseo una base de datos en sql-server y quisiera crear los modelos para laravel a partir de las tablas que ya tengo en mi base de datos.
¿Cómo puedo lograrlo?
2268,javascript,Estoy trabajando con node.js y express. Ahora lo que estoy buscando es hacer la página "not found 404" para mi sitio web;
esta es mi "app.js":
/**
* Module dependencies.
*/
var express = require('express')
, routes = require('./routes')
, user = require('./routes/user')
, http = require('http')
, path = require('path');
var app = express();
// all environments
app.set('port', process.env.PORT || 3000);
app.set('views', __dirname + '/views');
app.set('view engine', 'ejs');
app.use(express.favicon());
app.use(express.logger('dev'));
app.use(express.bodyParser());
app.use(express.methodOverride());
app.use(app.router);
app.use(express.static(path.join(__dirname, 'public')));
// development only
if ('development' == app.get('env')) {
app.use(express.errorHandler());
}
app.get('/', routes.index);
app.get('/users', user.list);
app.get('/notfound', routes.index);
http.createServer(app).listen(app.get('port'), function() {
console.log('Express server listening on port ' + app.get('port'));
});
Estuve intentando con app.get('/notfound', routes.index); pero me da un error de Cannot GET /notfound
También intente con: app.get('/*', routes.index); pero me da un error de Cannot GET /*.
2280,c#,Tengo un menú creado con AppBarToggleButton con la propiedad IsChecked="True".
¿Cómo se hace en C# para activar o desactivar su estado "checked"?
2282,java,Tengo la siguiente lista:
List<DatosAutores> datosAutor= new ArrayList<DatosAutores>();
datosAutor.add(new DatosAutores("157","Joaquín  Ordóñez Sedeño","joaquin@me.com","Anuario Mexicano de Derecho Internacional","4027","Derecho","6"));
datosAutor.add(new DatosAutores("157","Joaquín  Ordóñez Sedeño","joaquin@me.com","Revista Latinoamericana de Derecho Social","4296","Derecho","6"));
datosAutor.add(new DatosAutores("193","Carlos Arturo  Castro Castro","carlos@usbmed.edu.co","Palabra Clave (La Plata)","3505","Ciencias de la Información","23"));
datosAutor.add(new DatosAutores("198","Romeo  Rojas","romeo.rojasm@uanl.edu.mx","Colombia Forestal","4239","Agrociencias","28"));
datosAutor.add(new DatosAutores("198","Romeo  Rojas","romeo.rojasm@uanl.edu.mx","Facultad de Ingeniería","4139","Ingeniería","38"));
datosAutor.add(new DatosAutores("198","Romeo  Rojas","romeo.rojasm@uanl.edu.mx","Sociedad y mundo","1211","Sociologia","10"));
Como puedo obtener algo como el codigo siguiente?
/*  157
* Joaquín  Ordóñez Sedeño
* joaquin@me.com
* Derecho (area:6)
*   Anuario Mexicano de Derecho Internacional (clave:4027)
*   Revista Latinoamericana de Derecho Social (clave:4296)
*
*
* 198
* Romeo  Rojas
* romeo.rojasm@uanl.edu.mx
* Agrociencias (area:28)
*    Colombia Forestal (clave:4239)
* Ingeniería  (area:38)
*    Facultad de Ingeniería (clave:4139)
* Sociologia (area:10)
*     Sociedad y mundo (clave:1211)
*
* 193
* Carlos Arturo  Castro Castro
* carlos@usbmed.edu.co
* Ciencias de la Información (area:23)
*    Palabra Clave (La Plata)(clave:3505)
*/
He usado hashmap para ordenar la salida:
Set<String> duplicado = new HashSet<String>();
Set<String> set = new HashSet<String>();
HashMap<DatosAutores,String> uno= new HashMap<DatosAutores,String>();
HashMap<DatosAutores,String> dos= new HashMap<DatosAutores,String>();
for(DatosAutores aut: datosAutor){
if (!set.add(aut.getIdAutor())) {
duplicado.add(aut.getIdAutor());
out.println("##"+aut.getIdAutor());
out.println(aut.getNomAutor());
out.println(aut.getCorreo());
out.println(aut.getNombreArea()+" - "+ aut.getClaveArea());
out.println(".."+aut.getTituloRevista()+" - " +aut.getClaveRevista()+"");
uno.put(aut,aut.getIdAutor());
}
else{
out.println("**"+aut.getIdAutor()+ " no duplicado");
out.println(aut.getNomAutor());
out.println(aut.getCorreo());
out.println(aut.getNombreArea()+" - "+ aut.getClaveArea());
out.println(".."+aut.getTituloRevista()+" - "+aut.getClaveRevista()+"");
dos.put(aut,aut.getIdAutor());
}
}
out.println("duplicado:"+duplicado);
out.println("set:"+set);
for (Entry<DatosAutores,String> entry : uno.entrySet()) {
DatosAutores key = entry.getKey();
String value = (String) entry.getValue();
for (Entry<DatosAutores,String> entry2 : dos.entrySet()) {
DatosAutores key2 = entry2.getKey();
String value2 = (String) entry2.getValue();
if(key.getIdAutor().equals(key2.getIdAutor())){
out.println(key2.getIdAutor()+","+key2.getNomAutor());
out.println(key2.getCorreo());
out.println(key.getNombreArea() +" -- "+key2.getNombreArea());
out.println(key.getTituloRevista()+" -- "+key.getClaveRevista()+", "   +key2.getTituloRevista()+" --- "+key2.getClaveRevista());
}
}//fin for 2
}//fin for 1
2284,c#,Estoy creando una aplicación universal con un HamburgerMenu
<Grid>
<SplitView x:Name="hMenu" IsPaneOpen="{Binding ElementName=hMenuBtn, Path=IsChecked}">
<SplitView.Pane>
<RelativePanel>
</RelativePanel>
</SplitView.Pane>
</SplitView>
<StackPanel Orientation="Horizontal" Height="48"
VerticalAlignment="Top" HorizontalAlignment="Stretch"
Background="{ThemeResource SystemControlBackgroundAccentBrush}">
<ToggleButton x:Name="hMenuBtn" VerticalAlignment="Stretch" Width="48"
HorizontalAlignment="Stretch">
</ToggleButton>
<TextBlock Foreground="White" Text="Control De Materiales"
HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
FontSize="20" Margin="10 20 0 0"/>
</StackPanel>
</Grid>
Funciona correctamente, pero al pulsar el ToogleButton el Pane se abre brúscamente sin mostrar ninguna transición.
He tratado de agregarla mediante TransitionCollection, pero no consigo que funcione.
2287,javascript,Teniendo el siguiente ejemplo para agregar un archivo AudioTest_(1).mp3 a un elemento de audio html5, quiero agregar además el archivo AudioTest_(1).ogg en caso de que no exista códec para reproducir el primero.
var audioel = document.getElementById('audioElem');
if (audioel !== null) {
audioel.setAttribute('src', 'http://developer.mozilla.org/@api/deki/files/2926/=AudioTest_(1).mp3');
}
<audio id="audioElem" autoplay>
Your browser does not support the <code>audio</code> element.
</audio>
Normalmente se tendrían varios elementos source y el navegador elegiría automáticamente el primero del que tenga los códecs para reproducirlo, pero no sé si es posible hacerlo mediante Javascript Únicamente o si existe alguna otra manera de cargar el archivo que si se pueda reproducir de una lista proporcionada en tiempo de ejecución.
PD: De preferencia no usar jQuery.
Gracias de antemano.
2301,android,Dentro de la Activity principal de mi app he agregado un banner de admob, el cual por alguna extraña razón impide que al seleccionar cualquier EditText la pantalla se autoenfoque en ese EditText. Si elimino el banner de mi main_activity.xml el comportamiento del teclado y los EditText vuelve a la normalidad, por lo tanto entiendo que admob es el problema. Esta es la sección de admob en mi xml:
<RelativeLayout
android:layout_width="match_parent"
android:layout_height="wrap_content">
<com.google.android.gms.ads.AdView
android:id="@+id/ad_view"
android:layout_width="match_parent"
android:layout_height="wrap_content"
ads:adSize="BANNER"
ads:adUnitId="@string/banner_ad_unit_id" />
</RelativeLayout>
He intantado varias soluciones pero nada funciona, por ejemplo agregué esto en mi archivo manifest en la activity de admob:
android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"
android:windowSoftInputMode="stateAlwaysHidden|adjustResize|adjustPan"
Lo cual tampoco ha funcionado. ¿Alguna idea para recuperar el autoajuste de los EditText al accionar el teclado?
En resumen
Esto es lo que quiero:
Y esto es lo que estoy obteniendo:
2306,java,Quería saber como accedo desde Netbeans para ver los tipos de excepciones, sus caracteristicas y como funcionan.
2309,javascript|jquery,Estoy comenzando a aprender knockout.js el problema que tengo es el siguiente:
HTML
<table>
<thead>
<tr>
<th>Nombre:</th>
<th>Apellido Paterno</th>
<th>Apellido Materno</th>
<th>Full Name:</th>
</tr>
</thead>
<tbody data-bind="foreach: alumnos">
<tr>
<td><input data-bind="value: nombre"/></td>
<td><input type="text" data-bind="value: a_paterno"/></td>
<td><input type="text" data-bind="value: a_materno"/></td>
<td data-bind="text: fullname"></td>
</tr>
</tbody>
</table>
JS
function nuevoAlumno(nombre){
self = this;
self.nombre = ko.observable(nombre);
self.a_paterno = ko.observable();
self.a_materno = ko.observable();
self.fullname = ko.computed(function(){
var nombre = self.a_paterno();
return nombre;
});
}
function alumnosViewModel(){
var self = this;
self.alumnos = ko.observableArray([
new nuevoAlumno('lup'),
new nuevoAlumno('ant'),
new nuevoAlumno('antd')
]);
}
ko.applyBindings(new alumnosViewModel());
Aparentemente el código está bien pero al momento de correrlo el evento ko.computed para obtener el fullname solo funciona para la última fila agregada a la tabla, en el ejemplo solo funciona para la fila 3 y al momento de calcularla escribe el fullname por igual para todas las filas.
2320,python,Encontrar la primera fila de en una matriz que contenga todos los elementos positivos y la suma de estos elementos. Reducir todos los elementos de esta matriz a esta suma.
Para lograr lo requerido debería encontrar el array que tiene todos los elementos positivos, guradar el index de de este array y abrir otro bucle para sumarlos. Cómo podría hacerlo, es decir, cómo encontrar este array y guardarlo?
El objetivo es: obtener la fila de la matriz que tiene todos los elementos positivos, en este caso sería [7,2,3] y sumar estos elementos, que sería 12, y remplazar todos los elemetos de la matriz con el valor de la suma
Este es mi intento, de esta manera suma todos los elementos positivos.
matrix = [[-5, -6, 2], [7, 2, 3], [8, 4, -9]]
summ = 0
for i in range(len(matrix)):
pos = False
for j in range(len(matrix[i])):
if matrix[i][j] > 0:
pos = True
summ += matrix[i][j]
if pos:
for i in range(len(matrix)):
for j in range(len(matrix[i])):
matrix[i][j] = summ
print("Suma: ", summ)
for i in matrix:
print(" ",i)
else:
print("No hay filas con todos elementos positivos.")
2327,java|android,Estoy creando un menú lateral usando carga de fragments, necesito prevenir la carga del fragment si se está mostrando actualmente, es decir para evitar un duplicado de carga
Actualmente tengo este código para la carga de fragmentos
import android.support.v4.app.Fragment;
import android.support.v4.app.FragmentManager;
...
Fragment newFragment = null;
..
newFragment = FragmentHome.newInstance(title,id);
...
newFragment = FragmentSenderos.newInstance(title);
//carga de fragmento
FragmentManager fm = getSupportFragmentManager();
fm.beginTransaction()
.replace(R.id.frame_layout, newFragment,nameNewFragment)
.addToBackStack("F_MAIN")
.commit();
2329,android,Soy nuevo en Android y quiero levantar una aplicacion basada a conexiones a BD pero me sale este error y no se como solucionarlo.
Error:Execution failed for task ':app:transformClassesWithDexForDebug'.
> com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\Program Files\Java\jdk1.8.0_66\bin\java.exe'' finished with non-zero exit value 1
esto es lo que hice con el build.gradle(Module: app)
apply plugin: 'com.android.application'
android {
compileSdkVersion 23
buildToolsVersion '23.0.2'
defaultConfig {
applicationId "com.example.stroler.vidapp"
minSdkVersion 15
targetSdkVersion 23
versionCode 1
versionName "1.0"
}
buildTypes {
release {
minifyEnabled false
proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
}
}
}
dependencies {
compile fileTree(include: ['*.jar'], dir: 'libs')
testCompile 'junit:junit:4.12'
compile 'com.android.support:appcompat-v7:23.1.1'
compile files('libs/apache-httpcomponents-httpclient.jar')
compile files('libs/http-core-4.1.jar')
compile files('libs/httpclient-4.5.1.jar')
compile files('libs/json-20140107.jar')
compile files('libs/jsr166.jar')
}
2333,python,He visto proyectos como Atom, que utilizan tecnologías web para realizar apps de escritorio; sin embargo, me gustaría saber si esto es posible con django.
Si es posible, es práctico? En el sentido de que no será mucho más complicado que hacer una app web con este framework; dejando de lado que lo más probable es que será mas lento que una aplicación nativa.
La idea es no depender de Internet para poder utilizar la aplicación y aprovechar tecnologías web como HTML, CSS, JS y Django para desarrollarla.
2336,c#,Quiero hacer binding de los datos de una tabla SQLite a un listView pero quiero hacerlo desde mi viewModel, ¿cómo puedo hacerlo? Gracias.
2337,python,¿Por qué al desactivar el DEBUG en Django, ya no se reconocen los archivos estáticos, como los CSS, imágenes o JS? Lo desactivo para que salgan las páginas de error personalizadas, pero al desactivar el DEBUG, todos los estilos se quitan. Les agradecería mucho, si me dijeran qué me falta, o qué estoy haciendo mal.
En el archivo settings.py:
DEBUG = False
TEMPLATE_DEBUG = True
ALLOWED_HOSTS = ["localhost"]
En el archivo views.py:
def handler404(request):
return render(request,'error/404.html')
2341,python,Estoy intentando correr este script, lo saqué de acá (http://www.tutorialspoint.com/python/os_mknod.htm)
utilizo OS: OSX EL Capitan v.10.11.2, Python: 2.7.10:
# !/usr/bin/python
import os
import stat
filename = '/tmp/tmpfile'
mode = 0600|stat.S_IRUSR
# filesystem node specified with different modes
os.mknod(filename, mode)
al correrlo en la terminal sin sudo (python testOs.py) me devuelve:
Traceback (most recent call last):
File "testOs.py", line 10, in <module>
os.mknod(filename, mode)
OSError: [Errno 1] Operation not permitted
y corriendolo con sudo (sudo python testOs.py):
Traceback (most recent call last):
File "testOs.py", line 10, in <module>
os.mknod(filename, mode)
OSError: [Errno 22] Invalid argument
Qué estoy haciendo mal ? Cuáles son los argumentos correctos o dónde esta el error ?
2345,java|android,Tengo un sistema de navegación lateral, mediante carga de fragmentos usando la propiedad addToBackStack para así cuando se pulse el botón atrás, se recupere el último fragmento de la pila de control de fragmentos con el método getSupportFragmentManager().popBackStack().
El problema es que cuando no queda fragmentos en la pila no sale de la aplicación y se muestra la aplicación como si se cargase un fragmento en blanco, se necesita otro pulsación atrás para salir de la aplicación.
¿Cómo puedo prevenir la carga del fragmento en blanco y salga de la aplicación si ya no queda más fragmentos en la pila?
El código de control de onBackPressed en MainActivity.java:
@Override
public void onBackPressed() {
Log.d(TAG, "onBackPressed()");
DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);
if (drawer.isDrawerOpen(GravityCompat.START)) {
drawer.closeDrawer(GravityCompat.START);
Log.d(TAG, "close Drawer");
} else {
if (getSupportFragmentManager().getBackStackEntryCount() > 1 ){
getSupportFragmentManager().popBackStack();
Log.d(TAG, "fragment Manager popBackStack()");
} else {
super.onBackPressed();
}
}
}
2376,javascript|jquery,Supongamos que tengo una lista de elementos en una vista:
<% Dim valor As New List(Of Integer)
For i As Integer = 0 To 5%>
<%valor.Add(i)%>
<% Next%>
Los envio a una modal usando data de esta forma:
<a href="#" data-toggle="modal" data-target="#modal_noticia_editar" data-valores='<%:valor%>'  data-noticiaid='<%: item.IdNoticia%>' data-titulo='<%: item.TituloNoticia%>' data-descripcion='<%: item.DescripcionNoticia%>' class="noticia_edit">Editar</a>
Y cuando se abre el modal, me aparecen datos en donde lo hago de esta forma:
$('.noticia_edit').click(function (e) {
e.preventDefault();
NoticiaID = $(this).data('noticiaid');
Titulo = $(this).data('titulo');
Descripcion = $(this).data('descripcion');
valores = $(this).data('valores');
$("#modal_noticia_editar input[name=noticiaid]").val(NoticiaID);
$("#modal_noticia_editar input[name=titulo]").val(Titulo);
$("#modal_noticia_editar input[id=Descripcion_edit]").val(Descripcion);
$("#modal_noticia_editar input[id=foto_multi]").val(valores);
});
En esta línea
$("#modal_noticia_editar input[id=foto_multi]").val();
al val, debo pasarle la lista “valores”.
Para esto necesito recorrer la lista y quisiera saber cómo enviarle los elementos de lista valores con jquery o javascript al val  input[id=foto_multi]") para que los elementos de esta lista se muestren.
2378,c#,Estoy intentado llamar este stored procedure desde C#
alter PROCEDURE GetLecturasEnRangoDeFechas
-- Add the parameters for the stored procedure here
@fecha as smalldatetime,
@idParteMaquina int,
@inicio int,
@inicioMasDuracion int,
@dia smalldatetime
AS
BEGIN
-- SET NOCOUNT ON added to prevent extra result sets from
-- interfering with SELECT statements.
SET NOCOUNT ON;
declare @inicioFecha as smalldatetime
set @inicioFecha=CONVERT(smalldatetime, DATEADD(s,@inicio,0))
declare @inicioMasDuracionFecha as smalldatetime
set @inicioMasDuracionFecha=CONVERT(smalldatetime, DATEADD(s,@inicioMasDuracion,0))
-- Insert statements for procedure here
select * from Lectura
where
cast(Fecha as Date) =cast(@fecha As Date) and
IdParteMaquina=@idParteMaquina and
(Fecha>=@inicioFecha and
Fecha<=@inicioMasDuracionFecha)
or
(@inicioMasDuracionFecha>@dia and
(@inicioFecha+Fecha<=@inicioMasDuracionFecha))
END
GO
Codigo C#
using(ProduccionContexto pc=new ProduccionContexto())
{
var lects=pc.Database.SqlQuery<Lectura>("GetLecturasEnRangoDeFechas",fecha,partemaquina.Id, inicio.TotalSeconds, inicioMasDuracion.TotalSeconds, dia);
}
Esto me arroja:
Procedure or function 'GetLecturasEnRangoDeFechas' expects parameter '@fecha', which was not supplied.
Y si lo hago asi:
using(ProduccionContexto pc=new ProduccionContexto())
{
var lects=pc.Database.SqlQuery<Lectura>("GetLecturasEnRangoDeFechas @fecha,@idParteMaquina,@inicio,@inicioMasDuracion,@dia",fecha,partemaquina.Id, inicio.TotalSeconds, inicioMasDuracion.TotalSeconds, dia);
}
Me arroja:
Must declare the scalar variable "@fecha".
Cual es la sintaxis correcta para llamar un SP desde C# EF 6 CodeFirst
2386,android,La idea inicial es conectar o que una aplicación Android para que pueda interactuar con WhatsApp (por ejemplo mandar texto a WhatsApp, activar o desactivar funciones para un usuario determinado ect).
He buscado alguna API para esta tarea pero no he podido encontrar ninguna, y la que encontré quizás este abandonada (https://github.com/venomous0x/WhatsAPI) y no es oficial.
¿Existe alguna API oficial para ello?.
Por otro lado la alternativa que estoy usando es la siguiente (para el envio de texto):
Después de mirar este link (en inglés)
Intent sendIntent = new Intent();
sendIntent.setAction(Intent.ACTION_SEND);
sendIntent.putExtra(Intent.EXTRA_TEXT, "This is my text to send.");
sendIntent.setType("text/plain");
sendIntent.setPackage("com.whatsapp");
startActivity(sendIntent);
Más o menos sería algo así:
public void enviarMsgApp(View view) {
Intent intent = new Intent(Intent.ACTION_SEND);
intent .setType("text/plain");
String texto = "Mensaje para enviar aqui";
intent .setPackage("com.whatsapp");
if (intent != null) {
intent .putExtra(Intent.EXTRA_TEXT, texto);
startActivity(Intent.createChooser(intent, texto));
} else {
Toast.makeText(this,"Nooo whatsapp, whatsapp man",
Toast.LENGTH_SHORT)
.show();
}
}
Existe alguna alternativa para poder modificar el "comportamiento" de WhatsApp sobre un usuario.
Por ejemplo algo así como que se le diga a la aplicación (que se esta creando) el nombre del usuario, y esta aplicación puede hacer los cambios sobre ese usuario. por ejemplo cambiar la foto que se muestra, silenciar etc, aunque para ello tenga que solicitar permisos a el usuario o que el mismo WhatsApp alerte al usuario de que se esta intentado realizar un ajuste y este tenga que autorizarlo o algo así.
Pseudo code:
public void cambiarFotoApp(View view, String nombreUsuario) {
//..
Intent intent = new Intent(Intent.ACTION_SEND);
//..
intent .setPackage("com.whatsapp");
//..
//cambiarFoto(nombreUsuario, jpgNuevaFoto);
}
2388,python,Comprobar que todas las filas de una matriz estén odenadas de forma descendente. Si no están todos en forma descendiente encontrar la primera fila desordenada y ordenarla igual que las demas.
Con este código obtengo las filas en forma descendente:
matrix = [[-5, -6, 2], [7, 1, -3], [8, 4, -9]]
for row in matrix:
if all(x - y > 0 for x, y in zip(row[:-1], row[1:])):
print(row)
Es decir con el código comprueba las filas ordenadas en forma descendente e imprime las que si lo están:
[7, 1, -3]
[8, 4, -9]
Es necesario obtener la fila desordenada, en este caso seria la fila 0, y ordenarla igual que las otras. La salida debería ser:
[2, -5, -6]
[7, 1, -3]
[8, 4, -9]
2391,python,Tengo un método que me devuelve el siguiente mensaje de error (el problema es en los acentos)
urlopen error [Errno 10061] No se puede establecer una conexi¾n ya que el equipo de destino deneg¾ expresamente dicha conexi¾n
Al intentar hacer json.dumps en python me encuentro con el error:
'ascii' codec can't decode byte .....
Se que no es error de json porque marca lo mismo al llamar el método print, pero no he logrado
He intentado:
import sys
reload(sys)
sys.setdefaultencoding("utf-8")
variable.encode("utf8")
¿Como puedo hacer para obtener la cadena con los acentos y poder utilizar json.dumps()?
2398,android,Tratando de conectar un dispositivo android estoy teniendo errores del tipo:
command shell:
./adb devices
List of devices attached
* daemon not running. starting it now on port 5037 *
* daemon started successfully *
command shell:
./adb devices
List of devices attached
xxxxxxxxxxxx    no permissions
2403,java|android,Tengo un problema para llamar a una Activity, desde un ImageButton que está dentro de una CardView y ésta está dentro de un RecyclerView, y el RecyclerView está dentro de un tab de un fragmento. Lo que intenté como en otros casos es poner algo así:
ImageButton >> cardview >> recyclerview >> tab.
public void callBreakFast(){
imageButton = (ImageButton)findViewById(R.id.imgbt1);
imageButton.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
Intent myIntent = new Intent(ActividadOrigen.this, ActividadDestino.class);
startActivity(myIntent);
}
});
}
Pero no me funciona el código.
Mi fragmento FragEatingTabToday.java que es un tab que contiene una lista de items:
public class FragEatingTabToday extends Fragment {
private LinearLayoutManager linearLayout;
private ImageButton imageButton;
public FragEatingTabToday() { }
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
}
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
Bundle savedInstanceState) {
View view = inflater.inflate(R.layout.fragmento_yesterday, container, false);
RecyclerView reciclador = (RecyclerView)view.findViewById(R.id.my_recycler_view);
linearLayout = new LinearLayoutManager(getActivity());
reciclador.setLayoutManager(linearLayout);
AdapEatingToday adaptador = new AdapEatingToday(ModelEating.ACTIVIDADES);
reciclador.setAdapter(adaptador);
return view;
}
}
Y su respectivo XML llamado fragmento_yesterday.xml:
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical">
<android.support.v7.widget.RecyclerView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/my_recycler_view"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="#eeeeee"
android:clipToPadding="false"
android:paddingBottom="16dp"
android:paddingTop="16dp"
android:scrollbars="vertical" />
</LinearLayout>
El otro archivo adaptador AdapEatingToday.java:
public class AdapEatingToday extends RecyclerView.Adapter<AdapEatingToday.ViewHolder> {
private final List<ModelEating> items;
public static class ViewHolder extends RecyclerView.ViewHolder {
public TextView titulo;
public TextView horario;
public ImageButton picture;
public ViewHolder(View v) {
super(v);
titulo = (TextView) v.findViewById(R.id.texto_titulo);
horario = (TextView) v.findViewById(R.id.texto_horario);
picture = (ImageButton) v.findViewById(R.id.imgbt1);
}
}
public AdapEatingToday(List<ModelEating> items) {
this.items = items;
}
@Override
public int getItemCount() {
return items.size();
}
@Override
public ViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {
View v = LayoutInflater.from(viewGroup.getContext())
.inflate(R.layout.item_lista_yesterday, viewGroup, false);
return new ViewHolder(v);
}
@Override
public void onBindViewHolder(ViewHolder viewHolder, int i) {
ModelEating item = items.get(i);
viewHolder.titulo.setText(item.getActividad());
viewHolder.horario.setText(item.getHora());
}
}
Y el XML item_lista_yesterday.xml de los items que es un CardView que contiene TextView e ImageButton:
<?xml version="1.0" encoding="utf-8"?>
<android.support.v7.widget.CardView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/card_view"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_marginBottom="8dp"
android:layout_marginLeft="16dp"
android:layout_marginRight="16dp"
android:background="#C5CAE9"
android:foreground="?attr/selectableItemBackground"
android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar">
<LinearLayout
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="vertical">
<LinearLayout
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:clickable="true"
android:orientation="vertical"
android:padding="8dp"
android:weightSum="1">
<RelativeLayout
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="horizontal"
android:paddingBottom="6dp"
android:paddingTop="6dp">
<TextView
android:id="@+id/texto_titulo"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_gravity="center_horizontal|left"
android:layout_marginStart="16dp"
android:text="texto1"
android:textColor="#000000"
android:textSize="16sp" />
<TextView
android:id="@+id/texto_horario"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentEnd="true"
android:layout_alignTop="@+id/texto_titulo"
android:layout_marginEnd="26dp"
android:layout_marginStart="16dp"
android:ellipsize="end"
android:singleLine="true"
android:text="texto2"
android:textColor="#000000"
android:textSize="16sp" />
</RelativeLayout>
<View
android:id="@+id/linea_divisora1"
android:layout_width="match_parent"
android:layout_height="1dp"
android:layout_marginBottom="2dp"
android:layout_marginTop="5dp"
android:background="#bebebe" />
<ImageButton
android:id="@+id/imgbt1"
android:layout_width="100dp"
android:layout_height="60dp"
android:layout_gravity="center"
android:background="@mipmap/bread"
android:clickable="true" />
<View
android:id="@+id/linea_divisora2"
android:layout_width="match_parent"
android:layout_height="1dp"
android:layout_marginBottom="2dp"
android:background="#bebebe" />
</LinearLayout>
</LinearLayout>
</android.support.v7.widget.CardView>
2407,php,Estoy tratando de mostrar un mensaje (Notificación) al crear un usuario usando Flash (Laracast).
En mi controller de usuario tengo la función de store:
public function store(Request $request){
$user = new User($request->all());
$user->password = bcrypt($request->password);
$user->save();
Flash::success("Se ha registrado el usuario ".$user->name." de manera exitosa!");
return redirect()->route('admin.users.index');
}
luego he agregado: @include('flash::message') en el body de mi plantilla.
Al crear un usuario y ejecutar la redirección el mensaje no aparece en la página /users (que corresponde al index)
Si utilizo, return $this->index(); me funciona perfecto pero la URL no cambia a /users como esperaba.
He probado poniendo un mensaje directo en el controller index y funciona bien. (Es decir no usando redirección) Ej:
public function index(){
$users = User::orderBy('id', 'DESC')->paginate(5);
Flash::success("Mensaje de prueba");
return view('admin.users.users')->with('users', $users);
}
Cualquier ayuda me vendría bien.
2429,c#,Ya instale la librería de RedisSessionStateProvider y su dependencia StackExchange.Redis.StrongName, también coloque la configuración en el web.config
<sessionState mode="Custom" customProvider="RedisSessionProvider" cookieless="true" >
<providers>
<add name="RedisSessionProvider" type="Microsoft.Web.Redis.RedisSessionStateProvider" port="6380" host="XXX.redis.cache.windows.net" accessKey="OQm………15E=" ssl="true" connectionTimeoutInMilliseconds="5000" operationTimeoutInMilliseconds="1000" retryTimeoutInMilliseconds="3000" writeExceptionsToEventLog="true" />
</providers>
</sessionState>
Pero no logró que se almacene la sesión en redis, pero si realizo la conexión en código la conexión es exitosa, aquí está mi código:
/// se crea la conexión
private static Lazy<ConnectionMultiplexer> lazyConnection = new Lazy<ConnectionMultiplexer>(() =>
{
var redisOption = new ConfigurationOptions();
return ConnectionMultiplexer.Connect("XXX.redis.cache.windows.net:6380,abortConnect=false,ssl=true,password=OQmAPmp0 . . . . TJE15E=");
});
///regresa el objeto de la conexion
public static ConnectionMultiplexer Connection
{
get
{
return lazyConnection.Value;
}
}
///creo la session y agrego elementos manualmente al redis
public ActionResult SessionStart()
{
IDatabase cache = Connection.GetDatabase();
Session["loginTime"] = DateTime.Now.ToString();
string strValue = "myvalue";
Session.Add("myvalue ", strValue);
return View();
}
Por ejemplo lo que agrego manualmente se almacena exitosamente pero sí creo una sesión no se almacena en automático, creo necesito algo mas pero no que es.
2434,python,Necesito llamar un ejecutable que esta en el mismo directorio que un script python en ejecución. Yo necesito saber como hago para llamarla a través de un comando desde mi script con unos parámetros.
En la línea de comando del Windows, hago así:
miejecutable -p1 datos
De preferencia si hay una forma de ejecutarlo tanto en Python 2 como en 3.
2440,jquery|html,Buenos días. Tengo una función que resalta el texto de una lista, según la palabra(s) por la que el usuario busca. El problema es que cuando escriben dos palabras por ejemplo "Juan Carlos" quiero que en la lista me cambie de color todos los Juan y Carlos. En este caso anda bien. Pero si Busco "Juan id", me quiere resaltar el id del span que se inserto anteriormente y el código  html se rompe. ¿Como puedo identificar si la palabra es parte de los atributos de una etiqueta? o si esta contenida entre <>.
Prueben Poner en el text "CARLOS", "JUAN", "ID". Y luego prueben "CARLOS ID"
Muchas gracias
function resaltar(control, txtResaltar) {
var str = $("#resultado").text().trim();
var textBusq = $("#textoBuscar").val();
if (textBusq == null || textBusq == "")
if (txtResaltar != null && txtResaltar != "")
textBusq = txtResaltar;
else {
return str;
}
var element = textBusq.split(' ');
$.each(element, function(index, contenido) {
var regEx = new RegExp(contenido, "gi");
str = str.replace(regEx, function(a, b) {
return '<span id="span2" style="font-weight:bold;color:red">' + a + '</span>';
});
});
$("#resultado").html(str);
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<input type="text" id="textoBuscar">
<input type="button" onclick="resaltar()" value="Buscar" />
<span id="resultado">JUAN CARLOS ID</span>
2453,javascript|jquery,Supongamos que tengo la siguiente imagen base64:
<img alt="imagen de prueba" width="16" height="16" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAA……… />
Cuando ejecuto la vista en el navegador y muestro la imagen, al momento de descargarla, al colocar guardar imagen como… en nombre, me aparece con el nombre de “descarga.png”. Me gustaría saber cómo colocarle el nombre verdadero o uno que desee al archivo para descargar.
2464,java,Tengo una estructura en HashMap y necesito iterarla a través de un for. Como puedo hacer esta iteración?
Mi código:
import java.util.HashMap;
import java.util.Map;
public class Testeo {
public static void main(String[] args) {
Map<Integer, String> datos = new HashMap<>();
datos.put(1, "uno");
datos.put(2, "dos");
datos.put(3, "tres");
//necesito iterar aquí
}
}
2468,java|android,Cual es la mejor forma para mostrar una lista con dos lineas por item en Android, es decir para mostrar datos como propiedades:
Key1
Value1
------------------------------
Key2
Value2
------------------------------
Key3
Value3
Si el dispositivo está en forma horizontal se muestre en X columnas la lista de valores, repartiendo el width equitativamente, es decir 2 columnas 50% %50% 3 columnas 33,3% 33,3% 33,3%
key1      | key3
value1    | value3
--------------------
key2      |
value2    |
Mi idea inicial es usar listview si el dispositivo está en modo portrait y usar un GridView si se pone en landscape, ya que con gridView se puede especificar columnas y que los espacios se reparten entre si.
Como lo haríais o hacéis para mostrar un patrón de valores (clave: valor)
2471,c++,Me he encontrado el siguiente código :
char query[255];
sprintf(query, "SELECT NOMBRE, ");
switch (tipo)
{
case TIPO_1:
sprintf(query, "%s ID", query);
break;
case TIPO_2:
sprintf(query, "%s APELLIDO", query);
break;
}
Y lo que me inquieta es el uso de query haciendo el papel tanto de parámetro de lectura como de escritura de sprintf.
El código funciona bien y hace lo que de el se espera en nuestro compilador y en nuestras pruebas.
Suponiendo que no se excede el tamaño del array. Y que siempre que se usa query como parámetro de lectura es el primer parámetro tras el de formato y el formato empieza por "%s".
¿Es un uso correcto? ¿O hay alguna situación en que podría funcionar mal?
2480,python,Estoy empezando a usar multitenant pero no he podido avanzar porque me sale este error:
Yo no he cambiado nada en las URLs, les comparto mi distribución de archivos:
El archivo principal urls.py del proyecto (pruebatenant) es:
from django.conf.urls import patterns, include, url
from django.views.generic.base import TemplateView
from django.contrib import admin
from django.conf import settings
from django.conf.urls.static import static
admin.autodiscover()
urlpatterns = static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT) # solo en servidor de desarrollo
urlpatterns = patterns('',
url(r'^select2/', include('django_select2.urls')),
url(r'^login/$', 'django.contrib.auth.views.login', {'template_name':'login.html'}, name='login'),
url(r'^logout/$', 'django.contrib.auth.views.logout', {'next_page':'login'}, name='logout'),
url(r'^cambiar-pass/$', 'django.contrib.auth.views.password_change', {'template_name':'cambiar-pass.html', 'post_change_redirect':'login'}, name='cambiar_pass'),
url(r'^admin/', include(admin.site.urls)),
url(r'^$', TemplateView.as_view(template_name='publico/index.html'), name='home'),
url(r'^publico/', include('publico.urls')),
url(r'^personas/', include('personas.urls')),
) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
El urls.py de personas es:
from django.conf.urls import patterns, include, url
urlpatterns = patterns('personas.views.persona',
url(r'^nueva_persona$', 'nueva_persona', name="nueva_persona"),
)
y el urls.py de publico es:
from django.conf.urls import patterns, include, url
urlpatterns = patterns('publico.views.principal',
url(r'^inicio$', 'inicio', name="inicio"),
)
urlpatterns += patterns('publico.views.empresas',
url(r'^nueva_empresa$', 'nueva_empresa', name="nueva_empresa"),
)
2482,c#,Estoy intentando hacer una conexión a MySQL con Entity Framework 6, pero la conexión con la base de datos debe ser dinámica.
¿Cómo puedo parametrizar la cadena de conexión para que al iniciar el programa cargue los modelos de la base de datos ligada?.
Por ejemplo: solicitar al usuario la IP o dominio a conectar, usuario, password y nombre de base de datos, y posteriormente asignárselos al context de Entity Framework.
2483,java|android,En Android cuando pones objetos dentro del ScrollView me encuentro que height="wrap_content" no se comporta de tal manera, solo muestra la altura lo que ocupa un ítem.
Código que tengo actualmente content_main
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
android:id="@+id/scroll_home"
android:layout_width="match_parent"
android:layout_height="wrap_content">
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
xmlns:app="http://schemas.android.com/apk/res-auto"
android:orientation="vertical">
<android.support.v7.widget.Toolbar
android:layout_width="match_parent"
android:layout_height="?attr/actionBarSize"
android:id="@+id/toolbar"
android:background="?attr/colorPrimary"
app:popupTheme="@style/ThemeOverlay.AppCompat.Light"
app:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar" />
<GridView
android:id="@+id/gridview"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:columnWidth="120dp"
android:horizontalSpacing="5dp"
android:numColumns="auto_fit"
android:verticalSpacing="5dp" />
</LinearLayout>
</ScrollView>
¿Hay otra forma de ajustar automáticamente la altura dependiendo del contenido?
2488,c#,Hace tiempo tengo problemas aleatorios con la conexión entre mi aplicación generada con genexus y mysql.
Actualmente utilizo:
MySQL 5.6.19a
MySQLDriverCS 3.0.1735.36021
libmySQL.dll (obtenida de MySQLDriverCS\dll )
Como comentarios, obtuve la libmySQL desde la instalación de MySQLDriverCS según el artículo: http://wiki.genexus.com/commwiki/servlet/wiki?MySQL+driver+for+.NET+installation,
Necesitaría que me digan donde puedo descargar el archivo libmysql.dll que funciona correctamente con la versión de MySQLDriverCS que viene en GxEv3 U6 de Genexus/CSharp.
Algunos errores que obtengo de forma aleatoria:
/* el más común */
GxCommand - Return GxCommand.ExecuteNonQuery Error
MySQLDriverCS.MySQLException (0x80004005): MySQLDriverCS Exception: MySQLDriverCS Error: wrong query.
at MySQLDriverCS.PreparedStatement.ExecuteNonQuery()
at MySQLDriverCS.MySQLCommand.ExecuteNonQuery()
at GeneXus.Data.ADO.GxCommand.ExecuteNonQuery()
/* Segundo más común */
GxCommand - Return GxCommand.ExecuteReader Error
MySQLDriverCS.MySQLException (0x80004005): MySQLDriverCS Exception: MySQLDriverCS Error: Row retrieval was canceled by mysql_stmt_close() call
at MySQLDriverCS.MySQLCursorDataReader.Read()
at GeneXus.Data.ADO.GxCommand.ExecStmtFetch1()
at GeneXus.Data.ADO.GxCommand.ExecuteReader()
/* otro */
MySQLDriverCS.MySQLException (0x80004005): MySQLDriverCS Exception: MySQLDriverCS Error: MySQL server has gone away
at MySQLDriverCS.DirectStatement.ExecuteReader(Boolean CloseConnection)
at MySQLDriverCS.MySQLCommand.ExecuteReader(Boolean CloseConnection)
at MySQLDriverCS.MySQLCommand.ExecuteDbDataReader(CommandBehavior behavior)
at System.Data.Common.DbCommand.System.Data.IDbCommand.ExecuteReader(CommandBehavior behavior)
at GeneXus.Data.ADO.GxCommand.ExecStmtFetch1()
at GeneXus.Data.ADO.GxCommand.ExecuteReader()
/* otro */
System.AccessViolationException: Attempted to read or write protected memory. This is often an indication that other memory is corrupt.
at MySQLDriverCS.CPrototypes.mysql_stmt_fetch(IntPtr stmt)
at MySQLDriverCS.MySQLCursorDataReader.Read()
at GeneXus.Data.GxDataReader.Read()
2489,java,Tengo una duda muy grande. He visto una herramienta para descompilar código Java, el cual devuelve todas la clases con todo el código fuente, incluso los datos de la conexión a la base de datos.
¿Cómo podríamos proteger nuestro código ante una herramienta así, que a partir de un .jar es capaz de devolver todo el código fuente?, ¿Cómo protegeríamos nuestro software hecho con un lenguaje tan popular?
2500,java,Mi consulta se debe a que quiero pedir al usuario que ingrese por teclado
los datos del alumno, y luego usar los parametros ingresados para mandarlas al  constructor Alumno. Cual es la forma de hacer esto?
Alumno.java
public class Alumno {
private String nom = "null";
private String ap = "null";
private String dni = "null";
private String tel = "null";
public Alumno(String nom,String ap, String dni, String tel){
this.nom = nom;
this.ap = ap;
this.dni = dni;
this.tel = tel;
}
public void mostrarAlum(){
System.out.println("Alumno: "+nom+" Apellido: "+ape+" DNI: "+dni+"  Telefono: "+tel);
}
}
EjercicioModelarObjetos.java
package ejerciciomodelarobjetos;
import java.io.BufferedReader;
import java.io.InputStreamReader;
/**
*
* @autor jorge
*/
public class EjercicioModelarObjetos {
/**
* @param args the command line arguments
*/
public static void main(String[] args) {
//TODO code application logic here
System.out.println("Ingresee los datos correspondientes:");
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
//System.out.print("Nombre:");
Alumno alu = new Alumno(nom, ap, dni, tel);
}
}
2519,c#,Mi problema es que estoy tratando de hacer binding entre un ComboBox y una propiedad tipo string en viewModel, pero no consigo realizarlo
<ComboBox HorizontalAlignment="Stretch"
SelectedItem="{Binding Path=OResultado, Mode=TwoWay}">
<ComboBoxItem Content="Anomalia"/>
<ComboBoxItem Content="Retiro"/>
<ComboBoxItem Content="Retiro con Anomalia"/>
<ComboBoxItem Content="Conforme"/>
</ComboBox>
Traté con SelectedItem y SelectedValue, SelectedIndexpero me arroja solo el índice del ComboBoxItem seleccionado. Traté de hacer un Converter pero no logré que arrojara el resultado esperado.
Lo que quiero hacer es que cuando el usuario seleccione un item  del ComboBox
el valor Content del item  se asigne a la propiedad de tipo string OResultado de mi viewModel.
2526,html,Estaba leyendo la documentación para <object> y vi que representa un recurso externo, que puede ser una imagen, un nested browsing context, o un recurso a ser gestionado por un plugin.
Yendo un poco más lejos, he visto que una ventana o pestaña de navegador contiene un browsing context, así como un <iframe> o un <frameset>, y que un anidamiento (nesting) puede tener varias capas de profundidad.
Lo que no me queda claro es ¿qué tipos de nested browsing contexts podemos poner dentro de un object?  Imágenes y plugins, ok, pero non capisco que otros contextos pueden existir...
2532,python,Estoy desarrollando mi primer proyecto con Django y tengo un problema con la paginación. Tengo un formulario con varios campos para filtrar búsquedas y cuando realizo la búsqueda funciona perfectemente pero cuando le doy a página siguiente ya no me incluye la búsqueda.
Por ejemplo:
http://127.0.0.1:8000/buscar/?parque=ejemplo&fallo=&intervencion=&fecha_inicial=2015-12-01&fecha_final=2016-01-31
La pagina 2 seria:
http://127.0.0.1:8000/buscar/?pagina=2=parque=ejemplo&fallo=&intervencion=&fecha_inicial=2015-12-01&fecha_final=2016-01-31
Pero se queda asi:
http://127.0.0.1:8000/buscar/?pagina2
Ya no me incluye la búsqueda. Le he dado mil vueltas al tema y no lo consigo.
Esta es la vista:
@login_required
def buscar(request):
errors = []
if request.method == 'GET':
if not request.GET.get('fecha_inicial', '') or not request.GET.get('fecha_final', ''):
errors.append('por favor introduce fecha inicio y fecha fin ambas son requeridas.')
else:
parque = request.GET.get('parque', '')
tipo = request.GET.get('tipo', '')
maquina = request.GET.get('maquina', '')
fallo = request.GET.get('fallo', '')
intervencion = request.GET.get('intervencion', '')
fecha_inicial = request.GET.get('fecha_inicial', '')
fecha_final = request.GET.get('fecha_final', '')
q1 = incidencias.objects.filter(Parque__icontains=parque)
q2 = q1.filter(Tipo__icontains=tipo)
q3 = q2.filter(Maquina__icontains=maquina)
q4 = q3.filter(Fallo__icontains=fallo)
q5 = q4.filter(Intervencion__icontains=intervencion)
q = q5.filter(Fecha__range=(fecha_inicial, fecha_final))
queryset_list = q
paginator = Paginator(queryset_list, 5)
page = request.GET.get('pagina')
try:
queryset = paginator.page(page)
except PageNotAnInteger:
queryset = paginator.page(1)
except EmptyPage:
queryset = paginator.page(paginator.num_pages)
context = {
"objetc_list": queryset,
"parte": "Lista",
}
return render(request, 'partes.html', context)
return render(request, 'formulario.html',
{'errors': errors})
El template:
{% extends 'base.html' %}
{% block content %}
{% if objetc_list %}
<p>Partes encontrados: {{ objetc_list|length }} parte{{ objetc_list|pluralize }}.</p>
<table class="responsive-table striped sombra">
<thead>
<tr>
<th>Parque</th>
<th>Tipo</th>
<th>Maquina</th>
<th>Fecha</th>
<th>Fallo</th>
<th>Intervencion</th>
<th>OT</th>
</tr>
</thead>
<tbody>
{% for obj in objetc_list %}
<tr>
<td>{{ obj.Parque|capfirst }}</td>
<td>{{ obj.Tipo|capfirst }}</td>
<td>{{ obj.Maquina|capfirst }}</td>
<td>{{ obj.Fecha|date:"d/m/Y" }}</td>
<td>{{ obj.Fallo }}</td>
<td>{{ obj.Intervencion }}</td>
<td><a href="{% url 'miapp.views.detalleParte' pk=obj.pk %}">{{ obj.OT }}</a></td>
</tr>
{% endfor %}
</tbody>
</table>
<ul class="pagination">
{% if objetc_list.has_previous %}
<li class="waves-effect"><a href="?pagina={{ objetc_list.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}"><i class="material-icons">chevron_left</i></a></li>
{% endif %}
<span class="current">Pagina {{ objetc_list.number }} de {{ objetc_list.paginator.num_pages }}</span>
{% if objetc_list.has_next %}
<li class="waves-effect"><a href="?pagina={{ objetc_list.next_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}"><i class="material-icons">chevron_right</i></a></li>
{% endif %}
</ul>
{% else %}
<p class="text-center"><strong> No hay partes para su busqueda. </strong></p>
{% endif %}
{% endblock content %}
El modelo:
class incidencias(models.Model):
Parque = models.CharField(max_length=15, choices=LISTA_PARQUES, default='ejemplo')
Tipo = models.CharField(max_length=20, choices=TIPO_INTERVENCION)
Maquina = models.CharField(max_length=6, choices=LISTA_MAQUINAS)
Fecha = models.DateField()
Fallo = models.CharField(max_length=3)
Sintoma = models.TextField(blank=True)
Intervencion = models.TextField()
Observaciones = models.TextField(blank=True)
Tec1 = models.CharField(max_length=3, choices=LISTA_TECNICOS)
Tec2 = models.CharField(max_length=3, choices=LISTA_TECNICOS)
Tec3 = models.CharField(max_length=3, choices=LISTA_TECNICOS, blank=True)
Tec4 = models.CharField(max_length=3, choices=LISTA_TECNICOS, blank=True)
OT = models.CharField(max_length=15)
class Meta:
verbose_name = 'incidencia'
order_with_respect_to = 'Maquina'
def __unicode__(self):
return '%s - %s - %s - %s' % (self.Tipo, self.Maquina, self.Fallo, self.OT)
class incidenciasAdmin(admin.ModelAdmin):
list_display = ('Tipo', 'Maquina', 'Fallo', 'Fecha', 'OT')
2544,java|android,Parte de una aplicacion que estoy desarrollando, tiene que obtener los metadatos de la imagenes para su posterior uso en la misma, hasta ahora lo que estoy usando es ExifInterface, con algo parecido a lo siguiente:
//..
String filename = "DirectorioDondeEstaElFichero/DSC_.JPG";
try {
ExifInterface exif = new ExifInterface(filename);
FiltroExif(exif);
//ShowExif(exif);
} catch (IOException e) {
// TODO Auto-generated catch block
e.printStackTrace();
//..
}
//..
private void FiltroExif(ExifInterface exif){
String attr="attr ---\n";
attr += getTagString(ExifInterface.TAG_DATETIME,         exif);
attr += getTagString(ExifInterface.TAG_GPS_LATITUDE,     exif);
attr += getTagString(ExifInterface.TAG_GPS_LATITUDE_REF, exif);
}
//..
Pero como la documentacion dice en algun punto:
Esta es una clase para la lectura y escritura de etiquetas Exif en un
archivo JPEG.
Existe alguna forma ya conocida para leer los metadatos de un imagen PNG ha ser posible sin usar ninguna libreria no proporcionada por andorid, aunque esto no es un requisito, tambien me valdria que no fuera proporcionada por android.
Esto es comentado por si alguien a realizado algo parecido o le ayuda a proporcionar alguna solucion:
Como ultima opcion seria revisar el codigo de SKIA y tratar de hacer algo por ahi "aunque de ser posible no se si eso seria embarrase las manos por lo menos en mi caso"
UPDATE:
No necesito escribir metadatos en la imagen solo leerlos.
De ser una libreria externa que tenga tiempo de ser creada o usada, para evitar bugs que puedan aparecer en el proceso de uso de la misma (pero no es un requisito).
Tambien se agradeceria un ejemplo de uso de la misma o enlace a algun tipo de documentacion que indique que funciona para el propocito.(pero no es un requisito).
2545,java,Estoy practicando con unos tutoriales y me surgió un problema. No puedo agregar a la lista un objeto int?
package paquete;
import java.util.*;
import java.util.LinkedList;
class Main {
public static void main(String[] args) {
// TODO Auto-generated method stub
LinkedList list = new LinkedList();
list.add("Perro");
list.add(0, "Gato");
list.add(5);
El problema está en list.add(5); que cuando lo ejecuto me tira este error:
Exception in thread "main" java.lang.Error: Unresolved compilation
problem:  The method add(int, Object) in the type LinkedList is not
applicable for the arguments (int)
at paquete.Main.main(Main.java:14)
Ojalá me puedan ayudar!
2550,c#,Tengo el siguiente problema, necesito invocar a un Servicio Web SOAP utilizando el esquema de seguridad WS-Security, pero debido a que son varios endpoint muy parecidos, quiero implementarlo de manera dinámica en tiempo de ejecución, he visto otras soluciones como enviar la trama XML como un string y luego enviarlo a través de HttpWebRequest:
private XmlDocument CallWebService(string method, string operation, string xmlPayload)
{
string result = "";
string CREDENTIALS = "PASSword123";
string URL_ADDRESS = "http://www.client.com/_ws/" + method + "?sso=" + CREDENTIALS + "&o=" + operation +;  //TODO: customize to your needs
// ===== You shoudn't need to edit the lines below =====
// Create the web request
HttpWebRequest request = WebRequest.Create(new Uri(URL_ADDRESS)) as HttpWebRequest;
// Set type to POST
request.Method = "POST";
request.ContentType = "application/xml";
// Create the data we want to send
StringBuilder data = new StringBuilder();
data.Append(xmlPayload);
byte[] byteData = Encoding.UTF8.GetBytes(data.ToString());      // Create a byte array of the data we want to send
request.ContentLength = byteData.Length;                        // Set the content length in the request headers
// Write data to request
using (Stream postStream = request.GetRequestStream())
{
postStream.Write(byteData, 0, byteData.Length);
}
// Get response and return it
XmlDocument xmlResult = new XmlDocument();
try
{
using (HttpWebResponse response = request.GetResponse() as HttpWebResponse)
{
StreamReader reader = new StreamReader(response.GetResponseStream());
result = reader.ReadToEnd();
reader.Close();
}
xmlResult.LoadXml(result);
}
catch (Exception e)
{
xmlResult = CreateErrorXML(e.Message, "");  //TODO: returns an XML with the error message
}
return xmlResult;
}
Pero creo que WCF tiene una solución mejor Y mucho más elegante. Este es el bloque de código XML que debo enviar como Request:
<soapenv:Envelope xmlns:ser="http://service.sunat.gob.pe" xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/">
<soapenv:Header>
<wsse:Security soapenv:mustUnderstand="1" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" xmlns:wsu="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd">
<wsse:UsernameToken wsu:Id="ABC-123">
<wsse:Username>USERNAME</wsse:Username>
<wsse:Password>PASSWORD</wsse:Password>
</wsse:UsernameToken>
</wsse:Security>
</soapenv:Header>
<soapenv:Body>
<ser:sendBill>
<fileName>20132263544-20-R001-0005649.zip</fileName>
<contentFile>UEsDBC0AAAAIAOdhLUhAR3s5</contentFile>
</ser:sendBill>
</soapenv:Body>
</soapenv:Envelope>
Si alguien puede ayudarme con el código en C# le estaré eternamente agradecido.
Saludos desde Peru.
2553,java,Tengo una lista de objetos y cada uno tiene una fecha tipo calendar. Quiero crear un filtro dada dos fechas que me busque todos los objetos entre esas fechas.
Además quisiera crear un método que me calcule dada la fecha de hoy cual es el mes anterior o la semana anterior.
EDIT
es una aplicacion android, tengo un spinner donde tengo como opción, {hoy, ayer, semana anterior, mes anterior, anual} seleccionando alguna de estas debería filtrarme la fecha  según los rangos y segundo cambiarme un textView diciendo de que fecha a que fecha se esta filtrando
Calendar actual = GregorianCalendar.getInstance();
//fecha inicio
Calendar c1 = GregorianCalendar.getInstance();
//fecha Fin
public void selectedIntervalo(String intervalo){
switch (intervalo){
case "Ir a Hoy":
datefilter(actual, c1);
break;
case "Vista hayer":
c1.add(Calendar.DATE,-1);
actual.add(Calendar.DATE,-1);
c1.add(Calendar.HOUR,24);
actual.add(Calendar.HOUR,-24);
datefilter(actual, c1);
break;
case "Vista Semana Anterior":
actual.add(Calendar.WEEK_OF_YEAR,-1);
c1.add(Calendar.WEEK_OF_YEAR,-1);
datefilter(actual, c1);
break;
case "Vista Mensual":
actual.add(Calendar.MONTH,-1);
c1.add(Calendar.MONTH,-1);
datefilter(actual,c1);
break;
case "Vista Trimestral":
break;
case "Vista Anual":
break;
case "Personalizar":
break;
default:
fechaActual();
break;
}
}
public String datefilter(Calendar date, Calendar i){
SimpleDateFormat formateador = new SimpleDateFormat("dd/MM");
return "Del: " +formateador.format(date)+" hasta el "+formateador.format(i);
}
aun me falta para anual trimestral pero las fecha no me salen como quisiera un ejemplo seria si digo para el mes anterior considerando que hoy es 14/01/2015 debería decirme Del: 01/11/2014 hasta el 31/11/2014
2561,c#|jquery|html,Buenos días, Estoy intentando utilizar un formulario ajax que se abra de forma de Dialog y que al hacer submit realice las operaciones y quede dentro del dialog. Puedo abrir el formulario en un dialog,  pero cuando hace el submit y realiza las acciones en el controller. al retornar me abre lo que estaba en el dialog en pagina completa. me podrían ayudar a  que el la pagina dentro del dialog se quede en su lugar luego del sumbit.
/*Con esta funcion cargo el dialog*/
function abrirFormTelefono() {
if ($("#Div-AB-Telefono").length == 0) {
$("body").append("<div id='Div-AB-Telefono'><div id='Div-Telefono'></div></div>");
}
Preloader();
$("#Div-AB-Telefono").dialog({
autoOpen: true,
show: {
effect: "blind",
duration: 500
},
hide: {
effect: "blind",
duration: 500
},
width: 1036,
height: 400,
title:"Teléfonos de contacto ",
closeOnEscape: true,
});
$("#Div-Telefono").load("/TelefonoPersona/Create");
PreloaderOff();
}
@using QBOWEB3.Clases.Datos
@model QBOWEB3.Models.TelefonoPersonaModel
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
@{
ViewBag.Title = "Create";
}
<h3>Teléfonos De Contacto</h3>
<span>  @ViewBag.Afiliado</span>
@using (Ajax.BeginForm("Create", "TelefonoPersona",
new AjaxOptions
{
HttpMethod = "POST",
InsertionMode = InsertionMode.Replace,
UpdateTargetId = "Div-Telefono"
}))
{
<!-- whatever -->
@Html.AntiForgeryToken()
@Html.ValidationSummary(true)
<fieldset>
<legend>TelefonoPersonaModel</legend>
<table class="TableCampsEdicion">
<tr>
<td class="tdLabel">
@Html.LabelFor(model => model.IdTipoTelefono)
</td>
<td class="tdTextBox">
@Html.DropDownListFor(model => model.IdTipoTelefono, new SelectList(new ListadoTiposTelefono().TiposList, "Id", "Descripcion"), new { id = "IdTipoTelefono", @class = "DDLCombo" })
</td>
<td class="tdLabel">
@Html.LabelFor(model => model.CodigoArea)
</td>
<td class="tdTextBox">
@Html.EditorFor(model => model.CodigoArea)
</td>
<td class="tdLabel">
@Html.LabelFor(model => model.Telefono)
</td>
<td class="tdTextBox">
@Html.EditorFor(model => model.Telefono)
</td>
<td class="tdLabel">
@Html.LabelFor(model => model.Interno)
</td>
<td class="tdTextBox">
@Html.EditorFor(model => model.Interno)
</td>
<td class="tdTextBox">
<input type="submit" value="Agregar" class="botonAzulMediano" style="width: 95px;margin-left: 10px;" />
</td>
</tr>
<tr>
<td class="tdTextBox" colspan="9">
@Html.ValidationMessageFor(model => model.IdTipoTelefono)
@Html.ValidationMessageFor(model => model.CodigoArea)
@Html.ValidationMessageFor(model => model.Telefono)
@Html.ValidationMessageFor(model => model.Interno)
</td>
</tr>
</table>
</fieldset>
<div id="itemsTelefono">@Html.Action("Index")</div>
<script>
$(function() {
});
function MostrarItemsTelefono(parameters) {
}
</script>
}
@section Scripts {
@Scripts.Render("~/bundles/jqueryval")
}
<style>
#CodigoArea, #Interno {
width: 40px;
}
#Telefono {
width: 80px;
}
</style>
Controller
public class TelefonoPersonaController : BaseController
{
public ActionResult Create()
{
return PartialView();
}
//
// POST: /TelefonoPersona/Create
[HttpPost]
public ActionResult Create(TelefonoPersonaModel model)
{
if (model == null)
return PartialView();
if (model.IdPersona == 0)
{
model.IdPersona = ConsultaIdPersona();
}
try
{
if (ModelState.IsValid)
{
if (model.Nuevo())
{
model.grabado = true;
ListItemsCarga().Add(model);
var modelnull = new TelefonoPersonaModel();
return PartialView(modelnull);
}
else
{
return PartialView(model);
}
}
return PartialView(model);
}
catch
{
return PartialView();
}
}
}
2564,java|android,Cambiar el idioma del dispositivo para testear si funciona correctamente la aplicación en diferentes idiomas, me encontrado con el siguiente código en Java
String languageToLoad  = "en"; // your language
Locale locale = new Locale(languageToLoad);
Locale.setDefault(locale);
Configuration config = new Configuration();
config.locale = locale;
getBaseContext().getResources().updateConfiguration(config,
getBaseContext().getResources().getDisplayMetrics());
Recordar de ponerlo delante del setContentView en OnCreate de la Activity
¿Que otros métodos utilizáis para testear las aplicaciones que hacéis en Android en soporte multi-idiomaa, si usar emulador?
2569,java,Mi consulta se debe a que cree una subclase (libroInfantil) que extiende de la clase Libro, al reescribir el constructor en la subclase me salta un error, el cual no termino de entender:
Constructor Libro in class libro cannot be applied to given types; requered: boolean, String, String, int, int; found: No arguments; Reason: Actual and formal arguements lists differ in length
El código es el siguiente:
package ejerciciolibroinfantil;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
/**
*
* @author jorge
*/
public class EjercicioLibroInfantil {
/**
* @param args the command line arguments
*/
public static void main(String[] args) throws Exception {
// TODO code application logic here
System.out.println("Ingresee los datos correspondientes");
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
System.out.print("Titulo: ");
String til = br.readLine();
System.out.print("ISBN: ");
String ISBN = br.readLine();
System.out.print("Cantidad de paginas: ");
int numPaginas = Integer.parseInt(br.readLine());
System.out.print("Pagina Actual: ");
int pagAcual = Integer.parseInt(br.readLine());
System.out.print("Edad requerida: ");
int edadRec = Integer.parseInt(br.readLine());
LibroInfantil lib = new LibroInfantil(false, til, ISBN, numPaginas, pagAcual,edadRec);
lib.abierto();
lib.mostrarLibro();
lib.esRecomendable(edadRec);
}
}
/*
* To change this license header, choose License Headers in Project Properties.
* To change this template file, choose Tools | Templates
* and open the template in the editor.
*/
package ejerciciolibroinfantil;
/**
*
* @author jorge
*/
public class LibroInfantil extends Libro{
private int edadRecomendado = 18;
public LibroInfantil(boolean estado, String titulo, String ISBN,int numPaginas, int pagActual, int edadRec){
this.estado = estado;
this.titulo = titulo;
this.ISBN = ISBN;
this.numPaginas = numPaginas;
this.pagActual = pagActual;
this.edadRecomendado = edadRec;
}
public boolean esRecomendable(int edadNinyo){
if(edadNinyo < 18)
return true;
return false;
}
}
/*
* To change this license header, choose License Headers in Project Properties.
* To change this template file, choose Tools | Templates
* and open the template in the editor.
*/
package ejerciciolibroinfantil;
/**
*
* @author jorge
*/
public class Libro {
protected boolean estado = false;
protected String titulo ="null";
protected String ISBN = "null";
protected int numPaginas = 0;
protected int pagActual = 0;
public Libro(boolean estado, String titulo, String ISBN,int numPaginas, int pagActual){
this.estado = estado;
this.titulo = titulo;
this.ISBN = ISBN;
this.numPaginas = numPaginas;
this.pagActual = pagActual;
}
public void abierto(){
this.estado = true;
System.out.println("Libro abierto");
}
public void cerrado(){
this.estado = false;
System.out.println("Libro cerrado");
}
public void mostrarLibro(){
System.out.println("Titulo del libro: "+titulo+" ISBN: "+ISBN+" Numero de pag: "+numPaginas+" Pagina Actual: "+pagActual);
}
}
2573,java,Tengo un proyecto de mantenimiento de un archivo maestro. Para este proyecto utilizo Netbeans 8.1, GlassFish 4.1, Maven y JDK 8. Mi problema se debe a  que una vez hecho el deploy de la aplicación, desde el explorer no se visualiza (render) de los objetos como caja de texto, labels y botones. No recibo ningun error o warning al momento de construir la app. Adjunto el archivo index.xhtml donde tengo el código:
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core">
<h:head>
<title>Enter Customer Data</title>
</h:head>
<h:body>
<h:outputStylesheet library="css" name="styles.css"/>
<h:form id="customerForm">
<h:messages/>
<h:panelGrid columns="2"
columnClasses="rightAlign,leftAlign">
<h:outputLabel for="firstName" value="First Name:">
</h:outputLabel>
<h:inputText id="firstName"
label="First Name"
value="#{customer.firstName}"
required="true">
<f:validateLength minimum="2" maximum="30">
</f:validateLength>
</h:inputText>
<h:outputLabel for="lastName" value="Last Name:">
</h:outputLabel>
<h:inputText id="lastName"
label="Last Name"
value="#{customer.lastName}"
required="true">
<f:validateLength minimum="2" maximum="30">
</f:validateLength>
</h:inputText>
<h:outputLabel for="email" value="Email:">
</h:outputLabel>
<h:inputText id="email"
label="Email"
value="#{customer.email}">
<f:validateLength minimum="3" maximum="30">
</f:validateLength>
</h:inputText>
<h:panelGroup></h:panelGroup>
<h:commandButton action="confirmation" value="Save">
</h:commandButton>
</h:panelGrid>
</h:form>
</h:body>
La verdad no se que info colocar para hacer más descriptivo mi problema.
2589,javascript|php,Tengo un Videojuego programado en HTML y JavaScript del cual deseo pasar los puntos logrados a la Base de Datos MySQL y no encuentro la forma correcta de lograrlo.
Código JavaScript:
function updateScore(){
var score = (snakeLength - startLength) * 10;
document.getElementById('score').innerHTML = score;
}
function gameScore() {
$('#ribbon').addClass('hide');
var highScore = localStorage.getItem("high-score");
var score = (snakeLength - startLength) * 10;
$('.current-score').html(score);
if (score > highScore) {
$('#ribbon').removeClass('hide');
$('.high-score').html(score);
localStorage.setItem('high-score', score);
} else {
$('.high-score').html(highScore);}
gameMenu();
}
Código HTML (muestra los puntos actuales del videojuego):
Puntos: <span id="score">0< /span>
Código PHP:
Necesito realizar un update de puntos en mi Base de Datos pero no se como pasar la etiqueta <span id="score"> a una variable PHP. Por AJAX sería lo ideal pero se me hace mas difícil.
// Necesito El Resultado en Point
mysql_query("UPDATE game SET point=$VARIABLE_PUNTOS ");
2592,javascript|jquery,Tengo un enlace en donde almaceno datos para enviarlos a una modal usando data-variable, por ejemplo:
<a href="#" data-toggle="modal" data-target="#modal_noticia_editar" data-id='<%:id%>' data-nombre='<%: nombre %>' class="datos_edit" onclick="enviaDatosEdit();">Editar</a>
Y recibo los datos con una función de jQuery a través del nombre de la clase datos_edit:
$('.datos_edit').click(function (e) {
e.preventDefault();
ID = $(this).data('id');
Nombre = $(this).data('nombre');
});
Mi pregunta es, ¿se puede recibir los datos en una función JavaScript? Como por ejemplo enviaDatosEdit() sin estar pasándole parámetros:
enviaDatosEdit('<%:id%>', '<%: nombre %>');">
Sino que, utilizar los data-id, data-nombre en la función enviaDatosEdit(), en el cual, que me quedase algo como:
function enviaDatosEdit(){
e.preventDefault();
ID = $(this).data('id');
Nombre = $(this).data('nombre');
}
2598,java,Por ahora uso AtomicReference en el ejemplo (es lo primero que encontré que funciona y se lee bien), pero como uso syncExec y la parte fuera de su bloque no se ejecutará hasta que el mismo bloque termine, no necesito que la referencia sea atómica. Me parece que está por demás.
final AtomicReference<Custom> result = new AtomicReference<>();
PlatformUI.getWorkbench().getDisplay().syncExec( () -> {
Custom custom = getSomeCustom();
custom.doSomething();
result.set(custom);
});
Custom c = result.get();
c.doSomethingElse();
Intenté con referencias normales pero no lo he podido hacer funcionar:
final Custom c;
PlatformUI.getWorkbench().getDisplay().syncExec( () -> {
c= getSomeCustom();
c.doSomething();
});
c.doSomethingElse(true);
Marca error: The final local variable view cannot be assigned, since it is defined in an enclosing type, en getSomeCustom().
También he intentado usar la clase Reference y sus implementaciones, pero no parecen ser lo que necesito (que es la manera más legible y básica preservar la referencia). ¿Alguien tiene una idea de cómo lograrlo sin usar AtomicReference?
2609,android,Estoy teneniendo el siguiente mensaje en Android Studio 1.5.1:
Error: No debugable applications
Intento reiniciarlo y sigue sin funcionar. Pero antes sí funcionaba y no se ha instalado ningún plugin ni librería ni se han efectuctuado cambios en el SO. Ver imagen:
¿Cómo puedo solucionarlo?
2611,python,Estoy escribiendo un código pero no me ha funcionado como es esperado. Una versión simplificada del código és así:
from subprocess import call
import time
call([r"C:\Windows\System32\notepad.exe"])
time.sleep(5)
call(["taskkill", "/im", "notepad.exe"])
Al rodar el script arriba, el código no corre desde la línea del primer call, o sea, el script abre el notepad y se queda esperando una respuesta de call([r"C:\Windows\System32\notepad.exe"]), pero esto solo ocurre cuando yo manualmente cierro el notepad.
Me gustaria que el script abriera el notepad, espere 5 segundos y lo cierre, sin intervención manual del usuário. Entonces, ¿como puedo hacerlo?
2612,java,El problema ocurre generando los menús correspondientes. Debería mostrar: Inicio, Compras, Ventas... pero en su lugar lo que se muestra es: Ventas, Ventas, Ventas...
En esta imagen se puede ver la multiplicidad de los menús Ventas:
El código correspondiente es:
public void establecerPermisos(){
for(SubMenu m:lista){
if(m.getMenu().getTipo().equals("S")){
DefaultSubMenu firstSubMenu=new DefaultSubMenu(m.getMenu().getNomMenu());
for(SubMenu i:lista){
Menu menu=i.getMenu();
if(menu!=null){
if(menu.getIdMenu()==m.getIdsubmenu()){
DefaultMenuItem item=new DefaultMenuItem(i.getNombresubmenu());
firstSubMenu.addElement(item);
}
}
}
model.addElement(firstSubMenu);
}else{
if(m.getIdsubmenu()==0){
DefaultMenuItem item=new DefaultMenuItem(m.getNombresubmenu());
model.addElement(item);
}
}
}
}
public List<SubMenu> listar() throws Exception{
List<SubMenu> lista;
ResultSet rs;
Menu menu=new Menu();
SubMenu submenu=new SubMenu();
EmpleadoDao dao=new EmpleadoDao();
dao.listar();
try{
this.Conectar();
PreparedStatement st=this.getCn().prepareCall("select
m.idMenu,m.codMenu,m.nomMenu,
m.link,m.tipo,m.estadoMenu,
s.idSubMenu,s.itemSubMenu,
s.nombreSubMenu,s.linkSubMenu,
s.estadoSubMenu,s.tipo,
s.idMenu from menu m \n" +
"inner join submenu s on m.idmenu=s.idmenu group by m.nomMenu");
rs=st.executeQuery();
lista=new ArrayList();
while(rs.next()){
menu.setIdMenu(rs.getInt("m.idMenu"));
menu.setCodMenu(rs.getString("m.codMenu"));
menu.setNomMenu(rs.getString("nomMenu"));
menu.setLink(rs.getString("m.link"));
menu.setTipo(rs.getString("m.tipo"));
menu.setEstadomenu(rs.getString("m.estadoMenu"));
submenu.setIdsubmenu(rs.getInt("s.idSubMenu"));
submenu.setItemsubmenu(rs.getString("s.itemSubMenu"));
submenu.setNombresubmenu(rs.getString("s.nombreSubMenu"));
submenu.setLinksubmenu(rs.getString("s.linkSubMenu"));
submenu.setEstadosubmenu(rs.getString("s.estadoSubMenu"));
submenu.setTipo(rs.getString("s.tipo"));
menu.setIdMenu(rs.getInt("s.idMenu"));
submenu.setMenu(menu);
lista.add(submenu);
//lista3.add(menu);
}
}catch(Exception e){
throw e;
}finally{
this.Cerrar();
}
return lista;
}
2616,jquery,Llevo un par de días intentando encontrar una solución pero no la encuentro (soy un poco torpe), por eso recurro a vosotros. Soy nuevo en Laravel, así que no me echéis la bronca si digo alguna burrada.
Estoy intentando pasar datos de una base de datos a una página Web a través de una solicitud AJAX con el método getJSON de jQuery, para después manipularlos (ordenar, filtrar, etc.), sin embargo, no hay respuesta alguna, ni se muestran errores. No se qué es lo que falla.
Mi route (routes.php):
Route::get('musica','MusicaController@getIndex');
Mi controlador (MusicaController.php):
class MusicaController extends Controller {
public function getIndex() {
return View::make('musica');
}
public function getMusica() {
$musica = \DB::table('Musica')
->select('Titulo', 'Ano', 'Pais')
->orderBy('Ano', 'DESC')
->get();
return Response::json($musica);
}
}
Mi vista (en un script) (musica.blade.php):
$(function() {
$("#boton").on("click", function(e) {
e.preventDefault();
$(".prueba3").html("CARGANDO...");
$.getJSON("/musica", function(data) {
var mimusic = "";
$.each(data, function() {
mimusic += this.Titulo + " - " + this.Ano  + "<br>";
})
$(".prueba3").html(mimusic);
}); // getJSON
}); // Click
}); // function
Edición basada en la respuesta de Horacio:
No estoy tratando de devolver datos desde la vista sino pasar los datos del controlador a la vista para allí manipularlos con jQuery.
El formato que estaba usando para hacer el response es el de Laravel 4 y gracias a esa respuesta ya sé que no es el adecuado pero tampoco me funciona con el formato de Laravel 5.
Ya he estado mirando la documentación pero no ayuda mucho y menos para los que empicezan con Laravel.
Dices que debo obtener los datos como arreglo, ¿y esto qué devuelve?:
$musica = \DB::table('Musica')
->select('Titulo', 'Ano', 'Pais')
->orderBy('Ano', 'DESC')
->get();
2621,python,Acabo de descargarme PyCharm (Community Edition 5.0.3). Tengo un par de proyectos personales con Python que usan Bottle como framework para Web.
Si ejecuto mis *.py desde consola se levanta el servidor, escucha en el puerto indicado y todo funciona bien. Desde el proyecto de PyCharm, el editor ya me avisa de que no "hay un módulo llamado bottle" y efectivamente al intentar ejecutar:
ImportError: No module named bottle
Process finished with exit code 1
¿Cómo hago para añadir módulos en PyCharm?
2623,c#,En el server tengo:
string errorMessage = string.Format("Error: the following employeee has an invalid department: {0} {1}", new[] { employeeWithMissingDepartment.Id.ToString(), employeeWithMissingDepartment.Name });
return BadRequest(errorMessage);
Como puedes ver estoy mandando la descripción del error en el método BadRequest.
En el cliente hago lo siguiente:
HttpResponseMessage response = this.PostAsJsonAsync<T>("api/controller/action", parameter).Result;
if(!response.IsSuccessStatusCode)
{
error= response.ReasonPhrase;
}
En este caso la variable error solo obtiene "BadRequest" y no el descriptivo mensaje de error que yo formé, ¿cómo obtengo el mensaje de error en BadRequest?
2627,c#,Tengo una aplicación UWP que utiliza varios TextBox para recoger información del usuario:
<Grid>
<TextBox Text="{Binding Codigo}"></TextBox>
<TextBox Text="{Binding Producto}"></TextBox>
<TextBox Text="{Binding Cantidad}"></TextBox>
</Grid>
Mi pregunta, ¿cuál es la mejor forma de validar que el usuario no ingrese datos incorrectos, es decir, hacer que los TextBox solo permitan ingresar números o algún tipo de mascara de caracteres?
Se debe hacer desde código o se puede hacer desde XAML
2640,java|android,¿Existe algún tipo de variable o objeto en Java (Android) para guardar posiciones de GPS, es decir cada punto se compone de latitud y el otro longitud?
Por ejemplo poder guardar la localización de Madrid:
Latitude:  40.416775
Longitude: -3.703790
y que permite agregar varias localizaciones, como una lista.
2643,php,Le saludo a todos, e intentado personalizar un poco la autenticación que Laravel proporciona después de usar el comando:
php artisan make:auth
He modificado el archivo auth.php:
'guards' => [
'web' => [
'driver' => 'session',
'provider' => 'ctrl_usuarios',
],
'api' => [
'driver' => 'token',
'provider' => 'users',
],
],
'providers' => [
'ctrl_usuarios' => [
'driver' => 'eloquent',
'model' => App\User::class
],
],
Eso debería estar bien. También modifiqué el Modelo:
protected $table = "ctrl_usuarios";
protected $primaryKey = 'id_usuario';
protected $fillable = [
'id_usuario', 'email', 'password',
];
public static $rules = array(
'email' => 'required',
'password' => 'required'
);
public $timestamps = false;
De igual forma, personalicé el trait AuthenticareUsers y lo he puesto en el namespace que se ve enseguida:
namespace App\Http\Controllers\Auth;
use Illuminate\Contracts\Auth\Guard as Auth;
use Illuminate\Http\RedirectResponse;
use App\Http\Requests\AuthRequest as Request;
trait AuthenticatesUsers
{
public function __construct(){
$this->middleware("guest", ['except' => 'logout']);
}
public function login(Request $request, Auth $auth){
$authotized = $auth->attempt($request->only('email', 'password'));
if ($authotized){
return redirect('/inicio');
}
return back()->
with('authError', 'Email o contraseña incorrectos')->
withInput($request->except('password'));
}
public function logout (Auth $auth){
$auth->logout();
return redirect('/');
}
}
Por supuesto que en el AuthController estoy haciendo referencia al nuevo AuthenticateUsers. El contenido también lo modifiqué de esta forma:
use AuthenticatesUsers;
public function __construct()
{
$this->middleware('guest', ['except' => 'logout']);
}
public function index() {
return view('auth.login');
}
Sobre el archivo routes.php, a quedado así:
Route::group(['middleware' => ['web']], function () {
Route::get('/', ['middleware'=> 'auth', 'uses' =>'HomeController@index']);
Route::get('inicio', ['middleware'=> ['auth'], 'uses' =>'HomeController@index']);
Route::get('acceso', 'Auth\AuthController@index');
Route::post('acceso', 'Auth\AuthController@login');
Route::get('cerrarsesion', 'Auth\AuthController@logout');
// Registration Routes...
Route::get('register', 'Auth\AuthController@showRegistrationForm');
Route::post('register', 'Auth\AuthController@register');
});
De los Middleware solo cambié las rutas destino.
Lo anterior ha sido modificado tal cual. trato de recuperar el valor de Auth dentro de AuthenticateUsers (después de enviar el formulario de login) tengo el siguiente resultado:
SessionGuard {#166 ▼
#name: "web"
#lastAttempted: User {#198 ▶}
#viaRemember: false
#session: Store {#134 ▶}
#cookie: CookieJar {#133 ▶}
#request: Request {#40 ▶}
#events: Dispatcher {#5 ▶}
#loggedOut: false
#tokenRetrievalAttempted: false
#user: User {#198 ▼
#table: "ctrl_usuarios"
#primaryKey: "id_usuario"
#fillable: array:3 [▶]
+timestamps: false
#connection: null
#perPage: 15
+incrementing: true
#attributes: array:8 [▶]
#original: array:8 [▶]
#relations: []
#hidden: []
#visible: []
#appends: []
#guarded: array:1 [▶]
#dates: []
#dateFormat: null
#casts: []
#touches: []
#observables: []
#with: []
#morphClass: null
+exists: true
+wasRecentlyCreated: false
}
#provider: EloquentUserProvider {#162 ▶}
}
Lo cual me da a entender que el usuario está correctamente logueado, pero parece que no se ha guardado la sesión, por lo que al momento de direccionar a:
return redirect('/inicio');
no lo hace. El controlador de esa ruta es HomeController, y usa el método index(). El contenido de ese método Index es:
return view('/inicio');
Y finalmente el contructor de HomeController tiene el siguiente contenido:
$this->middleware('auth');
He tratado de hacer el trabajo lo más completo posible, pero no veo los resultados correctos de la redirección, No sé que estaría haciendo mal, le agradecería cualquier ayuda que me pueda orientar a la solución de este problema.
2644,python,Estoy adicionando el siguiente atributo tipo choice a mi modelo
class User(AbstractUser):
GENDER_MALE = 'M'
GENDER_FEMALE = 'F'
GENDER_OTHER = 'O'
GENDER_CHOICES = (
(GENDER_MALE, u'male'),
(GENDER_FEMALE, u'female'),
(GENDER_OTHER, u'other'),
)
gender = models.CharField(max_length=1, choices=GENDER_CHOICES, default=GENDER_OTHER,)
Cuando yo ejecuto la migración, me dice lo siguiente:
(nrb_dev)➜  project git:(master) ✗ python manage.py makemigrations
Migrations for 'userprofile':
0010_auto_20160116_2219.py:
- Alter field gender on user
(nrb_dev)➜  project git:(master) ✗ python manage.py migrate
Operations to perform:
Apply all migrations: sessions, userprofile, auth, admin, contenttypes
Running migrations:
Applying userprofile.0006_auto_20160116_2206...Traceback (most recent call last):
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/backends/utils.py", line 64, in execute
return self.cursor.execute(sql, params)
psycopg2.IntegrityError: column "gender" contains null values
The above exception was the direct cause of the following exception:
Traceback (most recent call last):
File "manage.py", line 11, in <module>
execute_from_command_line(sys.argv)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/management/__init__.py", line 350, in execute_from_command_line
utility.execute()
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/management/__init__.py", line 342, in execute
self.fetch_command(subcommand).run_from_argv(self.argv)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/management/base.py", line 348, in run_from_argv
self.execute(*args, **cmd_options)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/management/base.py", line 399, in execute
output = self.handle(*args, **options)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/management/commands/migrate.py", line 200, in handle
executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/migrations/executor.py", line 92, in migrate
self._migrate_all_forwards(plan, full_plan, fake=fake, fake_initial=fake_initial)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/migrations/executor.py", line 121, in _migrate_all_forwards
state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/migrations/executor.py", line 198, in apply_migration
state = migration.apply(state, schema_editor)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/migrations/migration.py", line 123, in apply
operation.database_forwards(self.app_label, schema_editor, old_state, project_state)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/migrations/operations/fields.py", line 62, in database_forwards
field,
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/backends/base/schema.py", line 396, in add_field
self.execute(sql, params)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/backends/base/schema.py", line 110, in execute
cursor.execute(sql, params)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/backends/utils.py", line 79, in execute
return super(CursorDebugWrapper, self).execute(sql, params)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/backends/utils.py", line 64, in execute
return self.cursor.execute(sql, params)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/utils.py", line 95, in __exit__
six.reraise(dj_exc_type, dj_exc_value, traceback)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/six.py", line 685, in reraise
raise value.with_traceback(tb)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/backends/utils.py", line 64, in execute
return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: column "gender" contains null values
(nrb_dev)➜  project git:(master) ✗
Me dice que el atributo o columna gender que estoy adicionando ya contiene un valor nulo, pero no entiendo si a un campo tipo choice a partir de una tupla se le deba especificar algo más al definirlo.
Estoy siguiendo el ejemplo como Django lo recomienda pero no se cual es mi error.
El código de la migración que se intenta aplicar es este:
# -*- coding: utf-8 -*-
# Generated by Django 1.9 on 2016-01-16 22:19
from __future__ import unicode_literals
from django.db import migrations, models
class Migration(migrations.Migration):
dependencies = [
('userprofile', '0009_auto_20160116_2214'),
]
operations = [
migrations.AlterField(
model_name='user',
name='gender',
field=models.CharField(choices=[('M', 'male'), ('F', 'female'), ('O', 'other')], default='O', max_length=1),
),
]
Por otro lado, que es mas recomendable, ¿que en un formulario el usuario escoja el género (masculino y femenino) utilizando un select box o es mejor un item tipo radio button?
2647,c#,He estado trabajando en un proyecto donde genero un terreno procedural dividido por meshes, ahora mi idea es guardar estos meshes en una carpeta para luego cargar solo los que necesito.
He visto que puedo hacerlo con FileStream pero no se si esta sería la mejor forma.
2650,c#,Guardé la imagen usando el MemoryStream y la trato de extraer convirtiéndola nuevamente en Imagen usando:
byte[] datos = new byte[];
Datos = (byte[])row[campo imagen];
MemoryStream ms = new MemoryStream(datos);
Picturebox.Image = Image.Fromstream(ms);
Aqui es como inserto la imagen a la base de datos,
2653,python,Tengo estos modelos:
class Direccion(models.Model):
pais = models.CharField(max_length=30)
estado = models.CharField(max_length=30)
municipio = models.CharField(max_length=30)
ciudad = models.CharField(max_length=40, null=True, blank=True)
calle = models.CharField(max_length=40)
colonia = models.CharField(max_length=30, null=True, blank=True)
numero_interior = models.IntegerField(null=True, blank=True)
numero_exterior = models.CharField(max_length=5, null=True, blank=True)
codigo_postal = models.IntegerField()
datos_adicionales = models.CharField(max_length=120, null=True, blank=True)
class Empleado(models.Model):
direccion = models.ForeignKey(Direccion, null=True, blank=True)
nombre = models.CharField(max_length=80)
apellido_paterno = models.CharField(max_length=80)
apellido_materno = models.CharField(max_length=80, blank=True, null=True)
rfc = models.CharField(max_length=18)
curp = models.CharField(max_length=18)
fecha_nacimiento = models.DateField(null=True, blank=True)
fecha_registro = models.DateTimeField(auto_now_add=True)
activo = models.IntegerField(default=1, editable=False)
Y llamo dentro de una tabla en mi template todos los atributos del modelo Empleado, pero dentro de una celda quiero llamar todos los atributos de la direccion que le corresponda a cada empleado y concatenarlos, ya estuve buscando como hacerlo pero no encuentro algo aproximado a lo que quiero hacer.
Por ahora solo estoy retornando los valores del modelo Empleado y la ID de la dirección así:
class EmpleadosList(ListView):
model = Empleado
def get_queryset(self):
queryset = Empleado.objects.filter(activo=1).order_by('id')
return queryset
Y en el template:
{% for empleado in object_list %}
<tr>
<td> {{ empleado.id }}</td>
<td> {{ empleado.nombre }} </td>
<td> {{ empleado.apellido_paterno }} </td>
<td> {{ empleado.apellido_materno }} </td>
<td> {{ empleado.fecha_nacimiento|date:"Y-m-d" }} </td>
<td> {{ empleado.curp }} </td>
<td> {{ empleado.rfc }} </td>
<td> {{ empleado.direccion_id }}</td>
</tr>
{% endfor %}
2657,python,Estoy llamando en mi template a varias variables:
<p> {{ area.id }}  {{ area.departamento }} {{ area.encargado }} {{ area.descripcion }} </p>
Lo que quiero hacer es concatenarlas en una sola variable y contar el número de caracteres para que si sobrepasa determinado número que le asigne pueda indicarle a la cadena que se corte hasta ahí y no muestre más.
2661,python,Para un proyecto que estoy desarrollando necesito construir un formulario de inscripción que va a guardar dos objetos al mismo tiempo, uno es campo foráneo de otro.
Esto con Django Admin se resuelve usando StackedInlineForm, pero en formularios comunes no sé hacerlo. Necesito un formulario para poder pasar ese formulario a un modelo de página Wagtail.
He leído que se construye con formsets pero no sé usarlo, y deseo usar fieldsets para agrupar correctamente los campos del formulario.
Este es el código del admin.py:
class AffiliationInline(admin.StackedInline):
fieldsets = [
(None, {
'fields': ['person', 'affiliation', 'is_active'],
}),
(None, {
'fields': ['date_in', ],
}),
]
model = Affiliation
# suit_classes = 'suit-tab suit-tab-affiliation'
class AffiliatesAdmin(ImportExportModelAdmin, admin.ModelAdmin):
fieldsets = [
(_('Affiliate'), {
'classes': ('suit-tab suit-tab-general',),
'fields': ['name', 'logo', 'dni', 'attorney_name', 'position'],
}),
(_('Location'), {
'classes': ('suit-tab suit-tab-general',),
'fields': ['address', 'country', 'city', 'tel', 'fax', 'e_mail', 'web'],
}),
(_('Economic information'), {
'classes': ('suit-tab suit-tab-general',),
'fields': ['staff', 'interest', 'cause', 'economic_sector', 'economic_activity', 'other_interest'],
})
]
inlines = [AffiliationInline, ]
Este es el código que tengo en forms.py:
class AffiliationInlineForm(forms.ModelForm):
class Meta:
model = Affiliation
fields =['person', 'affiliation']
class AffiliatesForm(forms.ModelForm):
class Meta:
model = Affiliates
fieldsets = '__all__'
¿Cómo puedo emular el comportamiendo del admin con formularios?
El resultado me debe dar otro formulario o un objeto único que pueda interactuar con una página de Wagtail.
Actualización:
He conseguido hacer el formulario junto con un formulario embebido, el formset e imprimirlos en pantalla sin error alguno al imprimir:
def serve(self, request):
from .forms import AffiliatesForm, AffiliationInlineForm
AffiliationFormSet = inlineformset_factory(
Affiliates,
Affiliation,
form=AffiliationInlineForm,
fields=['person', 'affiliation', ],
extra=1
)
form = AffiliatesForm()
formset = AffiliationFormSet()
if request.method == 'POST':
form = AffiliatesForm(request.POST)
formset = AffiliationFormSet(request.POST)
if form.is_valid() and formset.is_valid():
form = form.save()
formset = formset.save()
return render(request, 'form_page_landing.html', {
'page': self,
'formset': formset,
'form': form,
})
else:
form = AffiliatesForm()
formset = AffiliationFormSet()
return render(request, 'form_page.html', {
'page': self,
'formset': formset,
'form': form,
})
Este es la plantilla para imprimir la página:
<form action="." method="POST" data-abide novalidate>
{% csrf_token %}
{# form.as_p #}
{{ formset.management_form }}
<ul class="tabs" data-tabs id="form-tabs">
<li class="tabs-title is-active"><a href="#affiliation" aria-selected="true">{% trans 'Affiliation' %}</a>
</li>
<li class="tabs-title"><a href="#affiliate">{% trans 'Affiliate' %}</a></li>
<li class="tabs-title"><a href="#location">{% trans 'Location' %}</a></li>
<li class="tabs-title"><a href="#economic">{% trans 'Economic information' %}</a></li>
</ul>
<div class="tabs-content" data-tabs-content="form-tabs">
<div class="tabs-panel is-active" id="affiliation">
<fieldset class="fieldset">
<legend>{% trans 'Affiliation' %}</legend>
{% for form in formset %}
<div class="row">
<div class="medium-6 columns">
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.person.name }}" class="text-right middle">
{% if form.person.required %}
<span class="required">{{ form.person.label }}</span>
{% else %}
{{ form.person.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.person }}
</div>
</div>
</div>
<div class="medium-6 columns">
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.affiliation.name }}"
class="text-right middle">
{% if form.affiliation.required %}
<span class="required">{{ form.affiliation.label }}</span>
{% else %}
{{ form.affiliation.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.affiliation }}
</div>
</div>
</div>
</div>
{% endfor %}
</fieldset>
</div>
<div class="tabs-panel" id="affiliate">
<fieldset class="fieldset">
<legend>{% trans 'Affiliate' %}</legend>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.name.name }}" class="text-right middle">
{% if form.name.required %}
<span class="required">{{ form.name.label }}</span>
{% else %}
{{ form.name.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.name }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.logo.name }}" class="text-right middle">
{% if form.logo.required %}
<span class="required">{{ form.logo.label }}</span>
{% else %}
{{ form.logo.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.logo }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.dni.name }}" class="text-right middle">
{% if form.dni.required %}
<span class="required">{{ form.dni.label }}</span>
{% else %}
{{ form.dni.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.dni }}
{% if form.dni.help_text %}
<label for="id_{{ form.dni.name }}" class="help-text"
id="id_{{ form.dni.name }}_helptext">{{ form.dni.help_text }}</label>
{% endif %}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.attorney.name }}" class="text-right middle">
{% if form.attorney.required %}
<span class="required">{{ form.attorney.label }}</span>
{% else %}
{{ form.attorney.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.attorney_name }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.position.name }}" class="text-right middle">
{% if form.position.required %}
<span class="required">{{ form.position.label }}</span>
{% else %}
{{ form.position.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.position }}
</div>
</div>
</fieldset>
</div>
<div class="tabs-panel" id="location">
<fieldset class="fieldset">
<legend>{% trans 'Location' %}</legend>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.address.name }}" class="text-right middle">
{% if form.address.required %}
<span class="required">{{ form.address.label }}</span>
{% else %}
{{ form.address.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.address }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.country.name }}" class="text-right middle">
{% if form.country.required %}
<span class="required">{{ form.country.label }}</span>
{% else %}
{{ form.country.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.country }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.city.name }}" class="text-right middle">
{% if form.city.required %}
<span class="required">
{{ form.city.label }}</span>
{% else %}
{{ form.city.label }}
{% endif %}
</div>
<div class="small-12 medium-9 columns">
{{ form.city }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.tel.name }}" class="text-right middle">
{% if form.tel.required %}
<span class="required">{{ form.tel.label }}</span>
{% else %}
{{ form.tel.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.tel }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.fax.name }}" class="text-right middle">
{% if form.fax.required %}
<span class="required">
{{ form.fax.label }}/span>
{% else %}
{{ form.fax.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.fax }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.e_mail.name }}" class="text-right middle">
{% if form.e_mail.required %}
<span class="required">{{ form.e_mail.label }}</span>
{% else %}
{{ form.e_mail.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.e_mail }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.web.name }}" class="text-right middle">
{% if form.web.required %}
<span class="required">
{{ form.web.label }}</span>
{% else %}
{{ form.web.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.web }}
</div>
</div>
</fieldset>
</div>
<div class="tabs-panel" id="economic">
<fieldset class="fieldset">
<legend>{% trans 'Economic information' %}</legend>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.staff.name }}" class="text-right middle">
{% if form.staff.required %}
<span class="required">{{ form.staff.label }}</span>
{% else %}
{{ form.staff.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.staff }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.interest.name }}" class="text-right middle">
{% if form.interest.required %}
<span class="required">{{ form.interest.label }}</span>
{% else %}
{{ form.interest.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.interest }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.cause.name }}" class="text-right middle">
{% if form.cause.required %}
<span class="required">{{ form.cause.label }}</span>
{% else %}
{{ form.cause.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.cause }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.economic_sector.name }}" class="text-right middle">
{% if form.economic_sector.required %}
<span class="required">{{ form.economic_sector.label }}</span>
{% else %}
{{ form.economic_sector.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.economic_sector }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
{% if form.economic_activity.required %}
<label for="middle-label id_{{ form.economic_activity.name }}"
class="text-right middle">
<span class="required">
{{ form.economic_activity.label }}</span>
{% else %}
{{ form.economic_activity.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.economic_activity }}
</div>
</div>
<div class="row">
<div class="small-12 medium-3 columns">
<label for="middle-label id_{{ form.other_interest.name }}" class="text-right middle">
{% if form.other_interest.required %}
<span class="required">{{ form.other_interest.label }}</span>
{% else %}
{{ form.other_interest.label }}
{% endif %}
</label>
</div>
<div class="small-12 medium-9 columns">
{{ form.other_interest }}
</div>
</div>
</fieldset>
</div>
</div>
<input class="float-center hollow button secondary" type="reset" name="{% trans 'Reset' %}"
style="margin-top: 1rem">
<input class="float-center hollow button secondary" type="submit" name="{% trans 'Send' %}"
style="margin-top: 1rem">
</form>
{% endblock %}
El problema es que a pesar de que he colocado ese instance=form.instance para evitar un error que me decía que no se podía guardar el formulario por posible perdida de datos al no haberse guardado el objeto affiliates, no he conseguido que se guarden los dos modelos encadenados, por lo cuál nunca se guarda alguno de los dos.
Una primera instancia, sin haber puesto esos instance, pude guardar el formulario principal, afiliado, sin poder crear una afiliación al tiempo que estuviera encadenada al Afiliado y a la Membresía, osea, sólo se creaba el afiliado y nada más.
Estoy empezando a preguntarme si el problema es con django-smart-selects, que es el que uso para imprimis encadenados los dos selects del formset.
Como puedo resolver este problema?
Actualización:
He agregado el campo que faltaba en el formset: {{ form.id }}, y obtuve el siguiente problema:
Se guardaba el formulario padre pero no guardaba los formularios hijos y me daba ese error.
Sin embargo cambie el orden de guardado, guardando primero el formulario incluido y luego el formulario padre:
if form.is_valid() and formset.is_valid():
formset = formset.save()
form = form.save()
Guardamos primero el formulario hijo, y ahí si el formulario padre, lógicamente.
Y con esto me aparece un error nuevo, pero tiene que ver con un paquete adicional que estoy usando: django-smart-selects.
2662,android,Verán, tengo una clase la cual me funciona correctamente, pero, las imágenes que no se ven en la pantalla se quedan pasando como si estuviera buscando la correcta, entonces he agregado la librería de Picasso:
Picasso.with(context)
.load(Estadisticas_List.get(position).getEscudo_local())
.placeholder(R.drawable.ic_contact_icon)
.into(holder.escudo_local);
La aplicación se cierra, y este es el logcat:
java.lang.IllegalArgumentException: Context must not be null
Y este el código completo:
public class Estadisticas_Adapter extends ArrayAdapter<Estadisticas> {
Context context;
ArrayList<Estadisticas> Estadisticas_List;
LayoutInflater vi;
int Resource;
ViewHolder holder;
public Estadisticas_Adapter(Context context, int resource, ArrayList<Estadisticas> objects) {
super(context, resource, objects);
vi = (LayoutInflater) context
.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
Resource = resource;
Estadisticas_List = objects;
}
@Override
public View getView(int position, View convertView, ViewGroup parent) {
// convert view = design
View v = convertView;
if (v == null) {
holder = new ViewHolder();
v = vi.inflate(Resource, null);
holder.escudo_local = (ImageView) v.findViewById(R.id.tv_esc_local);
holder.escudo_visi = (ImageView) v.findViewById(R.id.tv_esc_visi);
holder.tv_Nombre = (TextView) v.findViewById(R.id.tv_Equipo_Local);
holder.tv_Nombre_Local = (TextView) v.findViewById(R.id.tv_Equipo_Local);
holder.tv_Nombre_Visi = (TextView) v.findViewById(R.id.tv_Equipo_Visi);
//holder.tvNombre_Arbitro = (TextView) v.findViewById(R.id.tv_Nombre_Arbitro);
holder.tv_Fecha = (TextView) v.findViewById(R.id.tv_Fecha);
holder.tv_Hora = (TextView) v.findViewById(R.id.tv_Hora);
holder.tv_Result_Local = (TextView) v.findViewById(R.id.tv_Result_Local);
holder.tv_Result_Visitante = (TextView) v.findViewById(R.id.tv_Result_Visitante);
/*holder.tv_Targeta = (TextView) v.findViewById(R.id.tv_targeta);
holder.tv_Tar_Minuto = (TextView) v.findViewById(R.id.tv_tar_minuto);
holder.tv_Gol_Minuto = (TextView) v.findViewById(R.id.tv_gol_minuto);
holder.tv_Nombre_Entra = (TextView) v.findViewById(R.id.tv_nombre_entra);
holder.tv_Dorsal_Entra = (TextView) v.findViewById(R.id.tv_dorsal_entra);
holder.tv_Nombre_Sale = (TextView) v.findViewById(R.id.tv_nombre_sale);
holder.tv_Dorsal_Sale = (TextView) v.findViewById(R.id.tv_dorsal_sale);
holder.tv_Cambio_Min = (TextView) v.findViewById(R.id.tv_cambio_min);*/
holder.tv_Estado_Partido = (TextView) v.findViewById(R.id.tv_Estado_Partido);
//holder.tv_Num_Goles = (TextView) v.findViewById(R.id.tv_Num_Goles);
v.setTag(holder);
} else {
holder = (ViewHolder) v.getTag();
}
Picasso.with(context)
.load(Estadisticas_List.get(position).getEscudo_local())
.placeholder(R.drawable.ic_contact_icon)
.into(holder.escudo_local);
//holder.escudo_local.setImageResource(R.mipmap.ic_launcher);
holder.escudo_visi.setImageResource(R.mipmap.ic_launcher);
//new DownloadImageTask(holder.escudo_local).execute(Estadisticas_List.get(position).getEscudo_local());
new DownloadImageTask(holder.escudo_visi).execute(Estadisticas_List.get(position).getEscudo_visitante());
//holder.tvNombre_Arbitro.setText(Estadisticas_List.get(position).getNombre_Arbitro());
holder.tv_Nombre.setText(Estadisticas_List.get(position).getNombre());
holder.tv_Nombre_Local.setText(Estadisticas_List.get(position).getNombre_Local());
holder.tv_Nombre_Visi.setText(Estadisticas_List.get(position).getNombre_Visi());
holder.tv_Fecha.setText("Fecha: "+Estadisticas_List.get(position).getFecha());
holder.tv_Hora.setText("Hora: "+Estadisticas_List.get(position).getHora());
holder.tv_Result_Local.setText(Estadisticas_List.get(position).getResult_Local());
holder.tv_Result_Visitante.setText(Estadisticas_List.get(position).getResult_Visitante());
//holder.tv_Targeta.setText("targeta: " + Estadisticas_List.get(position).getTargeta());
//holder.tv_Tar_Minuto.setText("Targetamin: " + Estadisticas_List.get(position).getTarMinuto());
//holder.tv_Gol_Minuto.setText("golmin: " + Estadisticas_List.get(position).getGol_Min());
//holder.tv_Nombre_Entra.setText("Nombreentra: " + Estadisticas_List.get(position).getNombre_Entra());
//holder.tv_Dorsal_Entra.setText("dorsalentra: " + Estadisticas_List.get(position).getDorsal_Entra());
//holder.tv_Nombre_Sale.setText("Nombreentrasale: " + Estadisticas_List.get(position).getNombre_Sale());
//holder.tv_Dorsal_Sale.setText("dorsalsale: " + Estadisticas_List.get(position).getDorsal_Sale());
//holder.tv_Cambio_Min.setText("cambiomin: " + Estadisticas_List.get(position).getCambio_Min());
holder.tv_Estado_Partido.setText(Estadisticas_List.get(position).getEstado_Partido());
//holder.tv_Num_Goles.setText(Estadisticas_List.get(position).getNum_Goles());
return v;
}
static class ViewHolder {
public TextView tv_Nombre;
public TextView tv_Nombre_Local;
public TextView tv_Result_Local;
public TextView tv_Result_Visitante;
public TextView tvNombre_Arbitro;
public TextView tv_Fecha;
public TextView tv_Hora;
public TextView tv_Nombre_Visi;
public TextView tv_Targeta;
public TextView tv_Tar_Minuto;
public TextView tv_Gol_Minuto;
public TextView tv_Nombre_Entra;
public TextView tv_Dorsal_Entra;
public TextView tv_Nombre_Sale;
public TextView tv_Dorsal_Sale;
public TextView tv_Cambio_Min;
public TextView tv_Estado_Partido;
public TextView tv_Num_Goles;
public ImageView escudo_local;
public ImageView escudo_visi;
}
private class DownloadImageTask extends AsyncTask<String, Void, Bitmap> {
ImageView bmImage;
public DownloadImageTask(ImageView bmImage) {
this.bmImage = bmImage;
}
protected Bitmap doInBackground(String... urls) {
String urldisplay = urls[0];
Bitmap mIcon11 = null;
try {
InputStream in = new java.net.URL(urldisplay).openStream();
mIcon11 = BitmapFactory.decodeStream(in);
} catch (Exception e) {
Log.e("Error", e.getMessage());
e.printStackTrace();
}
return mIcon11;
}
protected void onPostExecute(Bitmap result) {
bmImage.setImageBitmap(result);
}
}
}
¿Me pueden dar alguna solución?
Gracias Angel Angel, la solución:
public Estadisticas_Adapter(Context context, int resource, ArrayList<Estadisticas> objects) {
super(context, resource, objects);
vi = (LayoutInflater) context
.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
Resource = resource;
Estadisticas_List = objects;
this.context = context;
}
2673,python,Necesito ocultar el botón eliminar cuando estoy en la vista del detalle de un objeto en el Django admin.
Estoy usando eliminación lógica de modelos y parra ello sobreescribo el método delete_model:
def delete_model(self, request, obj):
obj.eliminado_el = timezone.now()
obj.eliminado = True
obj.save()
Entonces cuando obj.eliminado sea True se debe ocualtar el botón eliminar.
2675,php|html,Estoy intentando hacer que de diferentes inputs pueda generar una búsqueda en Google, pero Google solo me crea un input pero yo no lo puedo editar.
Código Javascript:
(function() {
var cx = '010966112395912926010:u_3n5cqxw50';
var gcse = document.createElement('script');
gcse.type = 'text/javascript';
gcse.async = true;
gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
'//cse.google.com/cse.js?cx=' + cx;
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(gcse, s);
})();
Código HTML:
<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="google.js"></script>
<title></title>
</head>
<body>
Los inputs van a ser creados por mi.
Por ejemplo:
Input 1: intext:"guerra mundial"
Input 2: filetype:ppt
Input 3: intitle:"historia"
Y que después genere una búsqueda de la siguiente forma en Google, concatenando todo:
intext:"guerra mundial" filetype:ppt intitle:"historia"
2682,python,Se entiende que distinguirlo del borrado que hace el recolector de basura. Me gustaría que el borrado explícito:
del objeto
Ejecutara algo que no se ejecuta cuando el objeto desaparece porque el recolector de basura detecta que ya no es necesario.
Sé que puedo hacer algo como:
objeto.delete()
para ejecutar el código adicional que deseo, pero no me parece del todo elegante, porque el objeto sigue existiendo.
Mi necesidad surge de que estoy escribiendo un pequeño orm y el objeto está asociado a su registro correspondiente en la base de datos. Me gustaría que borrar el objeto explícitamente significara borrar el registro, mientras que dejar que muera el objeto, no tuviera ningún efecto sobre la base de datos.
2685,java|android|php,La siguiente Activity obtiene los datos de un archivo en PHP que genera un JSON con los datos obtenidos de MYSQL, soy nuevo en esto de JAVA ANDROID, y tengo poca experiencia en PHP, apenas si me defiendo, pero estoy tratando de aprender poco a poco.
El problema de mi Activity es que cada vez que se refresca, la barra de desplazamiento se lanza hacia arriba, entonces lo que creo que puede resolver este problema es implementar un método que este consultando cada N segundo a travez de JSON en segundo plano y si detecta que el contenido de la tabla es diferente a la tabla anterior lanze el GETDATA, para ello me imagino muchas formas poco ortodoxas supongo, como crear una copia de a misma tabla en mysql o algo parecido y comparar los arreglos en JAVA, cosa que me es complicado por que apenas entiendo el codigo y las funcionalidades de JAVA ANDROID, cual quier ayuda sugerencia, comentario ya sea bueno o malos sera bien agradecido saludos.
Aqui el codigo
public class VerA extends ActionBarActivity {
String myJSON;
private static final String TAG_RESULTS="result";
private static final String TAG_ID = "id";
private static final String TAG_NAME = "nombre";
private static final String TAG_ADD ="telefono";
JSONArray peoples = null;
ArrayList<HashMap<String, String>> personList;
ListView list;
Handler myHandler = new Handler();
final Handler handler = new Handler();
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
list = (ListView) findViewById(R.id.listView);
/// AQUI REFRESCO LA LISTA ENTOCES SI YO INGRESO UN DATO NUEVO EN LA BASE DE DATOS ESTE SE MEUSTRA
//EL PROBLEMA ES QUE EL SCROLL BAR SUBE CADA 10 SEGUNDOS
myHandler.postDelayed(new Runnable() {
@Override
public void run() {
personList = new ArrayList<HashMap<String, String>>();
getData();
handler.postDelayed(this, 10000);
}
}, 0);
}
// METODO QUE MUESTRA LA LISTA O LA MATRIZ
protected void showList(){
try {
JSONObject jsonObj = new JSONObject(myJSON);
peoples = jsonObj.getJSONArray(TAG_RESULTS);
for(int i=0;i<peoples.length();i++){
JSONObject c = peoples.getJSONObject(i);
String id = c.getString(TAG_ID);
String name = c.getString(TAG_NAME);
String address = c.getString(TAG_ADD);
HashMap<String,String> persons = new HashMap<String,String>();
persons.put(TAG_ID,id);
persons.put(TAG_NAME,name);
persons.put(TAG_ADD,address);
personList.add(persons);
}
ListAdapter adapter = new SimpleAdapter(
VerA.this, personList, R.layout.list_item,
new String[]{TAG_ID,TAG_NAME,TAG_ADD},
new int[]{R.id.id, R.id.name, R.id.address}
);
list.setAdapter(adapter);
} catch (JSONException e) {
e.printStackTrace();
}
}
///METODO QUE EXTRAE LOS DATOS DE EL JASON PHP
public void getData(){
class GetDataJSON extends AsyncTask<String, Void, String>{
@Override
protected String doInBackground(String... params) {
DefaultHttpClient httpclient = new DefaultHttpClient(new BasicHttpParams());
HttpPost httppost = new HttpPost("http://tuescuelanoticias.x10.mx/selectAllJSON.php");
// Depends on your web service
httppost.setHeader("Content-type", "application/json");
InputStream inputStream = null;
String result = null;
try {
HttpResponse response = httpclient.execute(httppost);
HttpEntity entity = response.getEntity();
inputStream = entity.getContent();
// json is UTF-8 by default
BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream, "UTF-8"), 8);
StringBuilder sb = new StringBuilder();
String line = null;
while ((line = reader.readLine()) != null)
{
sb.append(line + "\n");
}
result = sb.toString();
} catch (Exception e) {
// Oops
}
finally {
try{if(inputStream != null)inputStream.close();}catch(Exception squish){}
}
return result;
}
@Override
protected void onPostExecute(String result){
myJSON=result;
showList();
}
}
GetDataJSON g = new GetDataJSON();
g.execute();
}
return super.onOptionsItemSelected(item);
}
}
2696,php|html,Me pasa lo siguiente:
Llamo a una función php desde el evento onclick, mi problema es que la función php se ejecuta siempre que se carga la página, es decir, ignora el onclick.
<a href="archivo.pdf" onclick="funcion()"/a>
Probe llamando a la función que está en una página php.
Probe llamando a la página php.
Probe llamando a una función javascript y en esta función está el
llamado a la función php.
En todos los casos me pasa lo mismo, la función php se ejecuta siempre que se carga la página ignora el onclick.
$visitas1 = array();
$visitas1 = contVisitas1();
function contVisitas1(){
$archivo = "contador1.txt";
$info = array();
if (file_exists($archivo)){
$fp = fopen($archivo,"r");
$contador = fgets($fp, 26);
$info = explode(" ",$contador);
fclose($fp);
$mes_actual = date("m");
$mes_ultimo = $info[0];
$visitas_mes = $info[1];
$visitas_totales = $info[2];
}else{
$mes_actual = date("m");
$mes_ultimo = "0";
$visitas_mes = 0;
$visitas_totales = 0;
}
if ($mes_actual==$mes_ultimo){
$visitas_mes++;
}else{
$visitas_mes=1;
}
$visitas_totales++;
$info[0] = $mes_actual;
$info[1] = $visitas_mes;
$info[2] = $visitas_totales;
$info_nueva = implode(" ",$info);
$fp = fopen($archivo,"w+");
fwrite($fp, $info_nueva, 26);
fclose($fp);
return $info;
}
2701,c#,¿Sería posible enviar el contenido de un archivo .eml por email con c# sin archivo adjunto?
Actualmente envío mensajes con la clase MailMessage y no se si sería posible introducir en el messaje el contenido (con fotografías incluidas) del archivo .eml.
2704,jquery,Buenas tengo una duda de como hacer esto de la mejor manera:
Tengo un método GET en mi controller que recibe 3 parámetros:
[Route("api/Visita/{idCompania}/{idLocal}/{fecha}")]
public Visita Get(short idCompania, short idLocal, string fecha)
En mi vista tengo estos parámetros disponibles en mi ViewBag, ¿hay alguna forma limpia de pasarlos como parámetros a $.getJSON para que él se encargue de ejecutar la llamada a mi método asp.net-web-api ?
¿debería ubicaros en como hidden para obtenerlos mediante $("#idLocal").val() por ejemplo?
Solo puedo interactuar con objetos del DOM ?
2720,java,Estoy montando un banco de pruebas para testear código en Java, dentro de la consola de windows cmd ahora mismo tengo el siguiente
buildjava.bat
javac %1.java
java %1
Su uso es buildjava nombrejavaapp sin extensión .java
Me gustaría agregar verificación de si existe el archivo que se le pase al .bat en caso de error mostrar mensaje
Opcional seria que si hay algún error en java que lo muestre en rojo.
2732,android,Tengo una duda respecto a la forma de poder cambiar el color de la barra de estado (StatusBar) de mi aplicación cuando la versión del SDK en el dispositivo sea mayor o igual a 4.0 (API 14).
Actualmente tengo lo siguiente para cuando el SDK es mayor o igual a la versión 5.0 (API 21) y la cual me funciona correctamente:
public class LoginActivity extends AppCompatActivity {
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_login);
isColorNotifications();
}
....
....
private void isColorNotifications(){
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
Window window = getWindow();
window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);
window.setStatusBarColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimaryDark));
}
}
}
Tal vez alguien me pueda dar alguna pista.
De antemano Gracias.
2735,python,Digamos que tengo la siguiente clase:
class Test():
def __init__(self, a, b):
self.a = a
self.b = b
def __str__(self):
return "Objeto {} y {}".format(self.a, self.b)
La forma para obtener una representación textual de ese objeto es utilizando el método __str__
Pero si además yo deseo  obtener la representación textual de sus atributos, por ejemplo, si yo hago esto:
>>> test = Test(4, 5)
>>> print(test)
'Objeto 4 y 5'
>>> print(test.a + test.b)
9
>>> print(test.a)
'Atributo a: 4'
>>> print(test.b)
'Atributo b: 5'
¿Qué opciones tengo para realizar algo como esto?
2740,java,Bueno el problema consiste: no me captura el valor que existe en la base de datos especialmente en campo codsubmenu, solo me está capturando valores nulos. Les dejo el código.
public class Menu implements Serializable{
private int idMenu;
private Menu codsubmenu;
public int getIdMenu() {
return idMenu;
}
public void setIdMenu(int idMenu) {
this.idMenu = idMenu;
}
public Menu getCodsubmenu() {
return codsubmenu;
}
public void setCodsubmenu(Menu codsubmenu) {
this.codsubmenu = codsubmenu;
}
while(rs.next()){
Menu menu=new Menu();
menu.setIdMenu(rs.getInt("idMenu")); //en esta línea si me captura el id del menu
// me captura null
menu.setCodsubmenu(menu.getCodsubmenu());
}
}
Sin embargo, al cambiar la última línea por:
menu.setCodsubmenu(rs.getInt("codsubmenu"));
Me subraya el error de esta forma
incompatible types: int cannot be converted to Menu**
2750,python,Quisiera autenticar usuarios utilizando django.contrib.auth.views.login.
Quiero que cuando sea correcto el login los mande a un dashboard. Tengo los siguientes codigos:
En settings:
LOGIN_REDIRECT_URL = '/usuarios/dashboard/'
En Urls Aplicacion:
url(r'^usuarios/', include('Usuarios.urls', namespace='usuarios')),
url(r'^login/$','django.contrib.auth.views.login',{'template_name' : 'admin/login.html',},name='login'),
En Usuarios/Urls :
url(r'^dashboard/$', BlankView.as_view(), name='index'),
En Usuarios/View :
class BlankView(TemplateView):
template_name = '/templates/index.html'
A la hora de hacer pruebas me sale bien el formulario de login pero al dar aceptar me manda el siguiente error:
NoReverseMatch at /usuarios/dashboard/
Reverse for 'logout' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Request Method:     GET
Request URL:    http://localhost/usuarios/dashboard/
Django Version:     1.9
Exception Type:     NoReverseMatch
Exception Value:
Reverse for 'logout' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
2762,jquery,Tengo el siguiente @Html.DisplayFor, ¿cómo podría hacer para tomar el ID y pasarlo a un objeto de AJAX?
@Html.DisplayFor(modelItem => item.Regla, new { id = "reglaid" })
<div class="form-group">
<div class="col-md-offset-2 col-md-10">
<input id="botonformularios" type="submit" value="Create" class="btn btn-default"  />
</div>
</div>
Intenté con las siguientes líneas pero cuando lo paso al controlador me figura como null:
$("#botonformularios").click(function () {
var obj = {
Rid:$("#reglaid").children("input").val(),
Result: $("#result").parents().children("input").val(),
}
$.ajax({
type: 'POST',
contentType: false,
url: "/ZsvalWorkflow/Create",
dataType: 'json',
contentType: "application/json; charset=utf-8",
data: JSON.stringify(obj),
success: function (data) {
alert(data)
},
});
})
2781,ios,He creado 3 UIView, cada uno es un gráfico que he utilizado de la librería PNChart. Los muestro correctamente todo OK.
El problema viene cuando quiero actualizar el valor. Es decir, si inicialmente el gráfico estaba en 60% y lo actualizo a 80% se actualiza pero quiero hacerlo automáticamente. que verifique si el valor ha cambiado y que actualize el % con el nuevo valor.
Lo he intentado con addTarget pero no aparece en las propiedades de PNChart y no se cómo hacerlo.
CODIGO ACTUALIZADO Y FUNCIONANDO
import UIKit
import ALSystemUtilities
import PNChart
class CPU: UIView {
var lineChart:PNCircleChart?
override func layoutSubviews() {
lineChart = PNCircleChart(frame: CGRectMake(0 , 0, self.bounds.width, self.bounds.height) , total: 100, current: 0, clockwise: true, shadow: true, shadowColor: UIColor(red:0.94, green:0.95, blue:0.95, alpha:1.0), displayCountingLabel: true, overrideLineWidth: 13)
lineChart!.strokeColor = UIColor(red:0.42, green:0.79, blue:0.86, alpha:1.0)
self.backgroundColor = UIColor.whiteColor()
lineChart!.strokeChart()
self.addSubview(lineChart!)
// Añadimos un timer para hacer update cada x tiempo
NSTimer.scheduledTimerWithTimeInterval(3.0, target: self, selector: "updateValues", userInfo: nil, repeats: true)
}
func updateValues() {
lineChart!.updateChartByCurrent(cpu_usage())
print(cpu_usage())
}
}
2783,python,Me podrían asesorar, tengo el siguiente problema. Tengo miles de carpetas que a su vez esta tiene varias sub-carpetas, hay específicamente una sub-carpeta que esta lleva por nombre "0".
Ejemplo:
├ DISCO_1 (CARPETA_Principal)
|  ├─ 2014353(SUB-CARPETA)
-(SUB-Carpeta"0") #[Carpeta que se desea borrar]
|  ├─ 2014354 (SUB-CARPETA)
-(SUB-Carpeta"0") #[Carpeta que se desea borrar]
|  └─ 2014355 (SUB-CARPETA)
-(SUB-Carpeta"0") #[Carpeta que se desea borrar]
Esta es una carpeta que no me interesa y lo que quiero es borrar todas estas sub-carpetas "0"
Se que es con:
import shutil
shutil.rmtree('C:\\Test\\')
¿Cómo podría hacerlo?.
2789,java,Tengo un inconveniente a la hora de sumar elementos de un vector (no los suma e imprime cada elemento en vez de imprimir la suma total de los elementos) y no se qué está mal, espero me puedan ayudar!
Lo que quiero es que sume todos los elementos que haya ingresado y los imprima.
Ejemplo:
Ingrese la cantidad de elementos: 3
Ingrese valor: 2
Ingrese valor: 2
Ingrese valor: 2
La suma es: 6
package _Vector_Tamaño;
import java.util.Scanner;
/*
Desarrollar un programa que permita ingresar un vector de n elementos, ingresar n por teclado.
Luego imprimir la suma de todos sus elementos
*/
public class Problema1 {
private Scanner teclado;
private int[] elementos;
private int suma;
public void cargar() {
teclado = new Scanner(System.in);
int n;
System.out.print("Ingrese la cantidad de elementos: ");
n = teclado.nextInt();
elementos = new int[n];
for(int f = 0; f < elementos.length; f++) {
System.out.print("Ingrese valor: ");
elementos[f] = teclado.nextInt();
}
}
public void suma() {
suma = 0;
for(int f = 0; f < elementos.length; f++) {
suma = suma + elementos[f];
}
}
public void imprimir() {
System.out.println("La suma es: " + suma);
}
public static void man(String[] ar) {
Problema1 prob = new Problema1();
prob.cargar();
prob.suma();
prob.imprimir();
}
}
2793,python,Tengo bastantes carpetas que a su vez estas tienen sus respectivas sub-carpetas, dentro de una de esas sub-carpetas hay una subcarpeta_1_2, subcarpeta_2_2, subcarpeta_3_2 que contiene archivos por ejemplo:
carpeta
│── Subcarpeta_Principal1
│   │──Subcarpeta_1_1
│   │   │── Subcarpeta_1_2
│   │   │   │──Archivo.txt
│   │   │   │──Archivo.txt
│── Subcarpeta_Principal2
│   │──Subcarpeta_2_1
│   │   │── Subcarpeta_2_2
│   │   │   │──Archivo.txt
│   │   │   │──Archivo.txt
│── Subcarpeta_Principal3
│   │──Subcarpeta_3_1
│   │   │── Subcarpeta_3_2
│   │   │   │──Archivo.txt
│   │   │   │──Archivo.txt
Y lo que deseo saber es si es posible mover esos archivos a sus respectivas subcarpetas: Subcarpeta_Principal1, Subcarpeta_Principal2, Subcarpeta_Principal3, así como se muestra en el ejemplo:
carpeta
│── Subcarpeta_Principal1
│   │   │   │──Archivo.txt
│   │   │   │──Archivo.txt
│   │──Subcarpeta_1_1
│   │   │── Subcarpeta_1_2
│── Subcarpeta_Principal2
│   │   │   │──Archivo.txt
│   │   │   │──Archivo.txt
│   │──Subcarpeta_2_1
│   │   │── Subcarpeta_2_2
│── Subcarpeta_Principal3
│   │   │   │──Archivo.txt
│   │   │   │──Archivo.txt
│   │──Subcarpeta_3_1
│   │   │── Subcarpeta_3_2
¿Cómo podría hacerlo?.
2799,jquery,En mi código tengo dos peticiones ajax anidadas. La idea es que al dar enter sobre el input con id placa se envíe el valor digitado primero a la vista ajax1, haga unas operaciones y luego pase a la vista ajax2 y retorne unos resultados.
Se supondría que al pasar a la segunda petición ajax que se encuentra dentro de la otra, debería imprimirse {'ajax2': true} pero no es así, se esta imprimiendo {'ajax1': true}
¿Qué estoy haciendo mal?
views.py
from django.http import JsonResponse
def ajax1(request):
if request.method == "POST":
if request.is_ajax():
return JsonResponse({"ajax1": True})
def ajax2(request):
if request.method == "POST":
if request.is_ajax():
return JsonResponse({"ajax2": True})
Peticiones ajax
// Función para obtener el token CSRF
function getCookie(name) {
var cookieValue = null;
if (document.cookie && document.cookie != '') {
var cookies = document.cookie.split(';');
for (var i = 0; i < cookies.length; i++) {
var cookie = jQuery.trim(cookies[i]);
if (cookie.substring(0, name.length + 1) == (name + '=')) {
cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
break;
}
}
}
return cookieValue;
}
$("#input").keypress(function(e) {
if(e.which == 13) {
e.preventDefault();
var csrftoken = getCookie('csrftoken');
var placa = $(this).val();
$.ajax({
url : window.location.href + "ajax1/",
type : "POST",
data : { csrfmiddlewaretoken : csrftoken,
placa : placa,
},
success : function(json) {
$.ajax({
url : window.location.href + "ajax2/",
type : "POST",
data :  { csrfmiddlewaretoken : csrftoken,
placa : placa,
},
success: function(data2){
console.log(data2); // Debería imprimir {ajax2: true}
},
error : function(xhr,errmsg,err) {
console.log(xhr.status + ": " + xhr.responseText);
}
});
},
error : function(xhr,errmsg,err) {
console.log(xhr.status + ": " + xhr.responseText);
}
});
}
});
2800,javascript|jquery,Tengo la siguiente directiva, que conseguí en la web para usar jQuery Validator con Angularjs
app.directive('ngValidate', function () {
return {
require: 'form',
restrict: 'A',
scope: {
ngValidate: '='
},
link: function (scope, element, attrs, form) {
var validator = element.validate(scope.ngValidate);
form.validate = function (options) {
var oldSettings = validator.settings;
validator.settings = $.extend(true, {}, validator.settings, options);
var valid = validator.form();
validator.settings = oldSettings; // Reset to old settings
return valid;
};
form.numberOfInvalids = function () {
return validator.numberOfInvalids();
};
}
};
})
.provider('$validator', function () {
$.validator.setDefaults({
onsubmit: false // to prevent validating twice
});
return {
setDefaults: function (options) {
$.validator.setDefaults(options);
},
addMethod: function (name, method, message) {
$.validator.addMethod(name, method, message);
},
$get: function () {
return {};
}
};
});
Esta lo que hace es que pueda validar un formulario usando Jquery Validate.
Mi Html
<form id="order-form" class="smart-form"   ng-submit="register(order-form)" ng-validate="validationOptions">
<input type="email" name="email">
<input type="password" name="password">
<input type="submit" name="name" value="submitme">
</form>
En mi controlador llamo de la siguiente forma
$scope.register = function (form) {
if(form.validate()) {
// Form is valid!
alert('hallo')
}
}
pero la linea del if(form.validate()) me devuelve form.validate is not a function. Si veo la directiva se tiene el form.validate pero no entiendo porque me llega que no es una función. Mas aya de todo mis manejo con directivas no es muy avanzado. No se que puedo hacer para form.validate se ejecute.
2803,java,La cuestión es que quiero ingresar un String que pueda contener espacio(ej: Estados Unidos) y por esa razón uso el nextLine, pero tambien en ese mismo metodo ingreso datos tipo Int. El problema es que al estar dentro de un for en el segundo ingreso se jode por el tema del nextLine.
Ingrese nombre de país: Estados Unidos
Ingrese la cantidad de habitantes: 300
Y después sucede esto:
Ingrese nombre de país: Ingrese la cantidad de habitantes:
Les dejo el código, tenía pensado una posible solución(hacer las cargas por separado pero definitivamente no queda muy bien preguntar 2 cosas por separado).
PD: Supongase que el vector es N cantidad en vez de 5.
import java.util.Scanner;
public class Problema {
private Scanner teclado;
private String[] paises;
private int[] habitantes;
public void cargar() {
teclado = new Scanner(System.in);
paises = new String[5];
habitantes = new int[5];
System.out.println("Carga de paises y cant de habitantes!");
for(int f = 0; f < paises.length; f++) {
System.out.print("Ingrese nombre de país: ");
paises[f] = teclado.nextLine();
//teclado.nextLine();
//paises[f] = teclado.nextLine();
System.out.print("Ingrese la cantidad de habitantes: ");
habitantes[f] = teclado.nextInt();
}
}
public void ordenarAlfabeticamente() {
for(int k = 0; k < paises.length-1; k++) {
for(int f = 0; f < paises.length-1-k; f++) {
if(paises[f].compareTo(paises[f+1]) > 0) {
String auxpaises;
auxpaises = paises[f];
paises[f] = paises[f+1];
paises[f+1] = auxpaises;
int auxhabitantes;
auxhabitantes = habitantes[f];
habitantes[f] = habitantes[f+1];
habitantes[f+1] = auxhabitantes;
}
}
}
}
public void ordenarHabitantes() {
for(int k = 0; k < habitantes.length-1; k++) {
for(int f = 0; f < habitantes.length-1-k; f++) {
if(habitantes[f] < habitantes[f+1]) {
int auxhabitantes2;
auxhabitantes2 = habitantes[f];
habitantes[f] = habitantes[f+1];
habitantes[f+1] = auxhabitantes2;
String auxpaises2;
auxpaises2 = paises[f];
paises[f] = paises[f+1];
paises[f+1] = auxpaises2;
}
}
}
}
public void imprimirA() {
System.out.println("Nombres de paises en orden alfabeto y sus habitantes: ");
for(int f = 0; f < paises.length; f++) {
System.out.println(paises[f] + " - " + habitantes[f]);
}
}
public void imprimirB() {
System.out.println("Nombres de paises y habitantes ordenado de mayor a menor: ");
for(int f = 0; f < habitantes.length; f++) {
System.out.println(paises[f] + " - " + habitantes[f]);
}
}
public static void main(String[] ar) {
Problema prob = new Problema();
prob.cargar();
prob.ordenarAlfabeticamente();
prob.imprimirA();
prob.ordenarHabitantes();
prob.imprimirB();
}
}
2804,java,Estoy elaborando un software para un consultorio odontológico, y para registrar la evolución del paciente
utilizo tanto el odontograma inicial como el odontograma que registra los procedimientos hechos al paciente.
Para ello utilizo las imágenes de cada uno de los dientes (en lugar de imágenes rectangulares).
Muestro cada imagen como un icon de cada jLabel.
Ya que sobre cada diente se superpondrá una figura (ej.: se marca una X como ausente, etc)
¿cómo superpongo más de dos imágenes?
2805,c#,Traigo una duda sobre la IA de Spaces Invaders:
Si ven abajo en las imagenes del juego, los invaders a la hora de disparar, disparan los más cercanos al jugador en forma de grilla
Es decir: siempre comenzarán disparando lo de la primera línea, pero si logro matar a cualquiera de la primera linea, el que está detrás, es quien comenzará a disparar.
Hice un script que lo resuelve, pero no estoy seguro si es del todo, la mejor solución:
public void bulletAI()
{
invaderList = new List<GameObject> GameObject.FindGameObjectsWithTag("Shooter"));
var lastId = invaderList.FirstOrDefault(o =>
o.transform.position.x >= player.transform.position.x);
Instantiate(invaderProjectile,
lastId.transform.position,
lastId.transform.rotation);
}
¿Alguno se ha topado con algo así? ¡Cualquier feedback será bienvenido!
PD: Lo siento por ponerlo en inglés, no me di cuenta que era Stack Overflow Español jaja. Abrazos desde Argentina!
2812,python,Con los cambios de Django 1.8 y 1.9 me pierdo con las URLs.
En Django 1.6.5 tenía:
urlpatterns = patterns('',
url(r'^select2/', include('django_select2.urls')),
url(r'^login/$', 'django.contrib.auth.views.login', {'template_name':'login.html'}, name='login'),
url(r'^logout/$', 'django.contrib.auth.views.logout', {'next_page':'login'}, name='logout'),
url(r'^cambiar-pass/$', 'django.contrib.auth.views.password_change', {'template_name':'cambiar-pass.html', 'post_change_redirect':'login'}, name='cambiar_pass'),
url(r'^admin/', include(admin.site.urls)),
Ahora tengo la primera parte bien:
urlpatterns = [
url(r'^admin/', admin.site.urls),
url(r'^$', TemplateView.as_view(template_name='publico/index.html'), name='home'), ...
Pero no se cómo van las otras líneas que he escrito, puesto que tenían argumentos en la versión 1.6.5
No me sale error sino warning:
RemovedInDjango110Warning: Support for string view arguments to url() is deprecated and will be removed in Django 1.10 (got django.contrib.auth.views.password_change). Pass the callable instead.
url(r'^cambiar-pass/$', 'django.contrib.auth.views.password_change', {'template_name':'cambiar-pass.html', 'post_change_redirect':'login'}, name='cambiar_pass'),```
2821,java|android,Me encuentro que las peticiones de API/RESTful recibidas con JSon algunos caracteres vienen escapados, como por ejemplo si dentro de una cadena hay un salto de linea \\n.
El problema viene que los TextViews solo muestran el salto de linea si es \n, de momento escapo los caracteres usando la función replace.
String _title;
...
_title = jArray.getJSONObject(i).getString("title");
_title.replace("\\n","\n");
Mi pregunta es ¿si existe una función unescape para escapar código recibido en JSON?
2822,c++,Tengo que escribir varios mensajes de depuración en un programa y quiero hacerlo con una macro usada tal que así :
TRAZA( "Hola" << " var=" << var );
Esta macro debe construir una cadena de caracteres con el fichero y la línea en que se encuentra en el código fuente y el mensaje entre paréntesis, por ejemplo, si var vale 7 , está en el fichero '/src/a.cpp' y en la línea 30 debe construir esta cadena :
/src/a.cpp:30 - Hola var=7
Y debe llamar a la función traza(const char*) con esa cadena.
Obsérvese que en el parámetro de la macro quiero poder poner varios objetos encadenados al estilo de los ostream de c++ usando el operador <<.
La macro primero la implementé de la siguiente forma :
#define TRAZA( msg ) \
do { \
std::stringstream sstr; \
sstr << __FILE__ << ":" << __LINE__ << " - " << msg; \
traza( sstr.str().c_str() ); \
} while (false)
Que funciona bien salvo si tengo que imprimir una variable llamada sstr, la cual quedaría oculta por la declarada en la macro.
Intenté solucionarlo utilizando un objeto anónimo para no tener que declarar una variable :
#define TRAZA( msg ) \
do { \
traza( \
dynamic_cast<std::stringstream&>( \
( std::stringstream() << __FILE__ << ":" << __LINE__ << " - " << msg)) \
.str().c_str() \
);  \
} while (false)
Pero no me escribe el nombre del fichero sino que me escribe la dirección del puntero en hexadecimal :
0x401024:30 - Hola var=7
¿Cómo lo hago para que el std::stringstream anónimo interprete que debe escribir la cadena de caracteres y no la dirección que apunta a esa cadena?
El programa siguiente tiene un ejemplo completo :
#include <iostream>
#include <sstream>
#define TRAZA( msg ) \
do { \
traza( \
dynamic_cast<std::stringstream&>( \
( std::stringstream() << __FILE__ << ":" << __LINE__ << " - " << msg)) \
.str().c_str() \
);  \
} while (false)
void traza( const char* texto )
{
//   En realidad traza() hace otra cosa pero por simplificar
// lo imprimo en la consola.
//   Yo no he implementado traza(), no la puedo cambiar y tengo que
// usarla.
std::cout << texto;
}
int main( int argc, char* argv[])
{
int sstr = 7;
TRAZA( "Hola" << " var=" << sstr );
return 0;
}
2825,java|android,¿Cómo se puede obtener cuando hay disponibilidad de red Internet en Java de Android?
Necesito detectar cuando un dispositivo Android tiene conectividad a Internet, para así recibir o enviar datos.
2827,python,Hola quisiera crear y guardar un objeto en la base de datos el cual tiene argumentos args y kwargs. los argumentos args y kwargs deben obedecer al formato JSON, tengo lo siguiente:
class ProgramarActividadForm(forms.ModelForm):
class Meta:
model = Mymodel
fields = '__all__'
widgets = {
'nombre': forms.TextInput(attrs={
'type' : 'text',
'placeholder' : 'Nombre de la Tare ',
'class': 'form-control'}),
'tarea':forms.Select(attrs = {
'class' : 'form-control',
}),
'usuarios_envio':forms.Select(attrs = {
'class' : 'form-control',
}),
'grupo_envio':forms.Select(attrs = {
'class' : 'form-control',
}),
}
Los campos usuarios_envio y grupo_envio están de la siguiente forma en los modelos:
usuarios_envio = models.ForeignKey('Usuarios.User')
grupo_envio = models.ForeignKey('auth.group')
En mi view.py tengo algo como esto:
def form_valid(self, form):
task = ObjectTask(
name= form.cleaned_data['nombre'],
task=form.cleaned_data['tarea'],
args=json.dumps(form.cleaned_data['usuarios_envio']),
kwargs=json.dumps({form.cleaned_data['grupo_envio']})
)
task.save()
return super(ProgramarActividadView,self).form_valid(form)
Guardar las variables normales no causa problemas pero cuando el argumento es un objeto, en este caso para args y kwargs me dice que no se puede serializar.
Error:
<User: Administrator> is not JSON serializable
Actualizacion:
Se prueba la primer solución que proponen
kwargs=json.dumps({'msjtxt': form.cleaned_data['usuarios_envio'].__dict__,})
Pero ahora se obtiene un error:
PhoneNumber is not JSON serializable
porque como se observa:
usuarios_envio = models.ForeignKey('Usuarios.User')
hace referencia a un modelo User y ese modelo tiene un atributo:
celular_gsm = PhoneNumberField(blank=True, help_text=help_text_number)
Ya probé la siguiente solución:
kwargs=json.dumps({'msjtxt': form.cleaned_data['usuarios_envio'].values(),})
Pero obtengo un error porque User no tiene el atributo Values
Luego probé lo siguiente:
kwargs=json.dumps({'msjtxt': form.cleaned_data['usuarios_envio'].__dict__.values(),})
Y me manda el siguiente error:
dict_values([PhoneNumber(country_code=52, national_number=1234567890, extension=None, italian_leading_zero=None, number_of_leading_zeros=None, country_code_source=1, preferred_domestic_carrier_code=''), PhoneNumber(country_code=52, national_number=1234567890, extension=None, italian_leading_zero=None, number_of_leading_zeros=None, country_code_source=1, preferred_domestic_carrier_code=''), 'Centrales', '123213', '', False, 2, 'IngOM', 'materno', 'Paterno', True, None, 'user@user.com.mx', , PhoneNumber(country_code=52, national_number=123456789, extension=None, italian_leading_zero=None, number_of_leading_zeros=None, country_code_source=1, preferred_domestic_carrier_code=''), datetime.datetime(2016, 1, 7, 18, 6, 43, tzinfo=), 'Raul', '12312313', False]) is not JSON serializable
2830,php,Tengo una base de datos MYSQL para servir una API/RESTful mediante PHP, en principio no uso ningún campo estilo LastDateUpdate es decir cuando fue insertada o modificado un recurso.
¿Hay alguna sentencia SQL para obtener la última vez que se a modificado una tabla o la base de datos en general?
2835,python,Tengo la siguiente estructura de mi aplicación en relacion a las siguientes apps
project
userprofile
models.py
rbsessions
models.py
En userprofile/models.py tengo lo siguiente
from __future__ import unicode_literals
from django.conf import settings
from django.utils import timezone
from datetime import datetime
from django.contrib.auth.models import AbstractUser
from django.db import models
from django.template.defaultfilters import slugify
from django.dispatch import receiver
from django.db.models.signals import post_save
from rbsessions.models import Session
class User(AbstractUser):
GENDER_MALE = 'M'
GENDER_FEMALE = 'F'
GENDER_OTHER = 'O'
GENDER_CHOICES = (
(GENDER_MALE, u'Male'),
(GENDER_FEMALE, u'Female'),
(GENDER_OTHER, u'Other'),
)
AMERICAN_GROUP = 'AM'
ASIATIC_GROUP = 'AS'
AFROAMERICAN_GROUP = 'AFA'
EUROPEAN_GROUP = 'EU'
INDIGENOUS = 'IND'
OTHER_GROUP = 'O'
ETHNIC_CHOICES = (
(AMERICAN_GROUP, u'American'),
(ASIATIC_GROUP, u'Asiatic'),
(AFROAMERICAN_GROUP, u'Afroamerican'),
(EUROPEAN_GROUP, u'European'),
(INDIGENOUS, u'Indigenous'),
(OTHER_GROUP, u'Other'),
)
gender = models.CharField(
max_length=1,
choices=GENDER_CHOICES,
default=GENDER_OTHER,)
ethnic_group = models.CharField(
max_length=3,
choices=ETHNIC_CHOICES,
default=OTHER_GROUP)
birth_date = models.DateTimeField(default=timezone.now())
address = models.CharField(max_length=150, blank=False)
phone = models.CharField(verbose_name=u'phone', max_length=25, blank=True)
occupation = models.CharField(max_length=150, blank=False)
country_of_birth = models.CharField(max_length=150, blank=False)
communication_language = models.CharField(max_length=150, blank=False)
is_medical = models.BooleanField(default=False)
is_therapist = models.BooleanField(default=False)
is_patient = models.BooleanField(default=False)
slug = models.SlugField(max_length=100, blank=True)
photo = models.ImageField(upload_to='avatars', blank = False)
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# Creating and user with medical, patient and therapist profiles
if self.is_medical and not MedicalProfile.objects.filter(user=self).exists()\
and self.is_patient and not PatientProfile.objects.filter(user=self).exists()\
and self.is_therapist and not TherapistProfile.objects.filter(user=self).exists():
medical_profile=MedicalProfile(user=self).save()
patient_profile=PatientProfile(user=self).save()
therapist_profile=TherapistProfile(user=self).save()
#profile.save()
# Creating and user with medical and patient profiles
elif self.is_medical and not MedicalProfile.objects.filter(user=self).exists()\
and self.is_patient and not PatientProfile.objects.filter(user=self).exists():
medical_profile=MedicalProfile(user=self).save()
patient_profile=PatientProfile(user=self).save()
# Creating and user with medical and therapist profiles
elif self.is_medical and not MedicalProfile.objects.filter(user=self).exists()\
and self.is_therapist and not TherapistProfile.objects.filter(user=self).exists():
medical_profile=MedicalProfile(user=self).save()
therapist_profile=TherapistProfile(user=self).save()
# Creating and user with physiotherapist and patient profiles
elif self.is_therapist and not TherapistProfile.objects.filter(user=self).exists()\
and self.is_patient and not PatientProfile.objects.filter(user=self).exists():
therapist_profile = TherapistProfile(user=self).save()
patient_profile = PatientProfile(user=self).save()
# Creating and user with medical profile
elif self.is_medical and not MedicalProfile.objects.filter(user=self).exists():
profile = MedicalProfile(user=self)
profile.save()
# Creating and user with patient profile -- Here --
elif self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
encounter = Session(user=self).save()
# Creating and user with therapist profiles
elif self.is_therapist and not TherapistProfile.objects.filter(user=self).exists():
profile = TherapistProfile(user=self)
profile.save()
# We get the profiles user according with their type
def get_medical_profile(self):
medical_profile = None
if hasattr(self, 'medicalprofile'):
medical_profile=self.medicalprofile
return medical_profile
def get_patient_profile(self):
patient_profile = None
if hasattr(self, 'patientprofile'):
patient_profile = self.patientprofile
return patient_profile
def get_therapist_profile(self):
therapist_profile = None
if hasattr(self, 'therapistprofile'):
therapist_profile = self.therapistprofile
return therapist_profile
class Meta:
db_table = 'auth_user'
class MedicalProfile(models.Model):
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
#active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
specialty = models.CharField(max_length=64)
def __str__(self):
return '%s %s' % (self.user.first_name, self.user.last_name)
class PatientProfile(models.Model):
STATUS_SINGLE = 'S'
STATUS_MARRIED = 'M'
STATUS_WIDOW = 'W'
STATUS_OTHER = 'O'
STATUS_CHOICES = (
(STATUS_SINGLE, u'Single'),
(STATUS_MARRIED, u'Married'),
(STATUS_WIDOW, u'Widow'),
(STATUS_OTHER, u'Other'),
)
PRIMARY_LEVEL = 'PRI'
SECONDARY_LEVEL = 'SEC'
UNIVERSITARY_LEVEL = 'UNI'
MASTER_LEVEL = 'MAS'
PHD_LEVEL = 'PHD'
LEVEL_CHOICES = (
(PRIMARY_LEVEL, u'Primary'),
(SECONDARY_LEVEL, u'Secondary'),
(UNIVERSITARY_LEVEL, u'University'),
(MASTER_LEVEL, u'Master'),
(PHD_LEVEL, u'PhD'),
)
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
#active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
blood_type = models.CharField(max_length=4, blank=False)
marital_status = models.CharField(max_length=1, choices=STATUS_CHOICES, blank=False)
educational_level = models.CharField(max_length=3, choices=LEVEL_CHOICES, blank=False)
care_provider = models.CharField(max_length=64, blank=False)
time_of_evolution = models.CharField(max_length=64, blank=False)
affected_limb = models.CharField(max_length=64, blank=False)
diagnostic = models.TextField(blank=True)
managing_organization = models.CharField(max_length=64, blank=False)
def __str__(self):
return '%s %s' % (self.user.first_name, self.user.last_name)
class TherapistProfile(models.Model):
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
#active = models.BooleanField(default=True)
name = models.CharField(max_length=64)
specialty = models.CharField(max_length=64)
def __str__(self):
return '%s %s' % (self.user.first_name, self.user.last_name)
# Enter the username as slug field
@receiver(post_save, sender = settings.AUTH_USER_MODEL)
def post_save_user(sender, instance, **kwargs):
slug = slugify(instance.username)
User.objects.filter(pk=instance.pk).update(slug=slug)
En rbsessions/models.py tengo una clase llamada Session
from django.db import models
from django.utils import timezone
# Create your models here.
class Session(models.Model):
STATUS_PLANNED = 'PLA'
STATUS_ARRIVED = 'ARR'
STATUS_IN_PROGRESS = 'PRO'
STATUS_ON_LEAVE = 'ONL'
STATUS_FINISHED = 'FIN'
STATUS_CANCELLED = 'CAN'
STATUS_CHOICES = (
(STATUS_PLANNED, u'Planned'),
(STATUS_ARRIVED, u'Arrived'),
(STATUS_IN_PROGRESS, u'In progress'),
(STATUS_FINISHED, u'Finished'),
(STATUS_CANCELLED, u'Cancelled'),
)
description = models.TextField(blank=False)
date_session = models.DateTimeField(default=timezone.now())
status = models.CharField(max_length=3,
choices=STATUS_CHOICES,
default=STATUS_PLANNED)
participants = models.TextField(blank=False)
period = models.CharField(max_length=25,blank=True)
game_levels = models.TextField(blank=True)
iterations = models.PositiveIntegerField(blank=True)
# Number of repetitions of each level or game (definir)
movements = models.TextField(blank=False)
games = models.TextField(blank=False)
medical = models.ForeignKey('userprofile.MedicalProfile')
patient = models.ForeignKey('userprofile.PatientProfile')
therapist = models.ForeignKey('userprofile.TherapistProfile')
Como dice Cesar en la primera respuesta de esta pregunta tengo un import tipo loop o circular pues de cada models.py de cada aplicación, estoy importando modelos de la otra. Entonces obtengo este error:
(nrb_dev)➜  project-system git:(dev) ✗ python manage.py runserver
Performing system checks...
System check identified 2 issues (0 silenced).
January 20, 2016 - 14:11:40
Django version 1.9, using settings 'neurorehabilitation.settings.development'
Starting development server at http://127.0.0.1:8000/
Quit the server with CONTROL-C.
[20/Jan/2016 14:11:42] "GET /admin/ HTTP/1.1" 200 6976
[20/Jan/2016 14:13:03] "GET /admin/rbsessions/session/ HTTP/1.1" 200 3715
[20/Jan/2016 14:13:03] "GET /admin/jsi18n/ HTTP/1.1" 200 3189
[20/Jan/2016 14:13:07] "GET /admin/ HTTP/1.1" 200 6976
[20/Jan/2016 14:13:09] "GET /admin/userprofile/therapistprofile/ HTTP/1.1" 200 5368
[20/Jan/2016 14:13:09] "GET /admin/jsi18n/ HTTP/1.1" 200 3189
[20/Jan/2016 14:13:11] "GET /admin/userprofile/ HTTP/1.1" 200 3734
[20/Jan/2016 14:13:14] "GET /admin/userprofile/patientprofile/ HTTP/1.1" 200 7044
[20/Jan/2016 14:13:14] "GET /admin/jsi18n/ HTTP/1.1" 200 3189
[20/Jan/2016 14:17:53] "GET /admin/ HTTP/1.1" 200 6976
Unhandled exception in thread started by <function check_errors.<locals>.wrapper at 0x7f3f7a342378>
Traceback (most recent call last):
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/autoreload.py", line 226, in wrapper
fn(*args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/management/commands/runserver.py", line 109, in inner_run
autoreload.raise_last_exception()
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/autoreload.py", line 249, in raise_last_exception
six.reraise(*_exception)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/six.py", line 685, in reraise
raise value.with_traceback(tb)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/autoreload.py", line 226, in wrapper
fn(*args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/__init__.py", line 18, in setup
apps.populate(settings.INSTALLED_APPS)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/apps/registry.py", line 108, in populate
app_config.import_models(all_models)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/apps/config.py", line 202, in import_models
self.models_module = import_module(models_module_name)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/importlib/__init__.py", line 109, in import_module
return _bootstrap._gcd_import(name[level:], package, level)
File "<frozen importlib._bootstrap>", line 2254, in _gcd_import
File "<frozen importlib._bootstrap>", line 2237, in _find_and_load
File "<frozen importlib._bootstrap>", line 2226, in _find_and_load_unlocked
File "<frozen importlib._bootstrap>", line 1200, in _load_unlocked
File "<frozen importlib._bootstrap>", line 1129, in _exec
File "<frozen importlib._bootstrap>", line 1471, in exec_module
File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
File "/home/bgarcial/workspace/neurorehabilitation-system/rbsessions/models.py", line 3, in <module>
from userprofile.models import MedicalProfile,TherapistProfile, PatientProfile
File "/home/bgarcial/workspace/neurorehabilitation-system/userprofile/models.py", line 17, in <module>
from rbsessions.models import Session
ImportError: cannot import name 'Session'
ACTUALIZACIÓN
Las claves foráneas que tengo están es en en la clase Session en donde importo los modelos MedicalProfile,TherapistProfile, PatientProfile.
En la clase User yo llamó al modelo Session pero no como una llave foránea sino como su clase, para que cuando se cree un usuario con perfil de paciente, se cree también un registro de una sesión de Rehabilitación (Session) para ese paciente. Entonces la estoy llamando de esta forma
from rbsessions.models import Session
class User(AbstractUser):
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# Creating and user with patient profile
if self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
encounter = Session(user=self).save()
Y es allí en donde sale mi error de from rbsessions.models import Session
ImportError: cannot import name 'Session'
Aunque tengo mis dudas de si puedo decirle a Django que me cree una instancia de una sesión de rehabilitación (dado por la clase Session) de esa forma.
2848,python,Tengo un script en Python que procesa archivos en una carpeta en Linux Mint. Parte del código se ve como esto:
path_to_dir = "/home/user/Im a folder with libs to install/"
if os.path.isdir(path_to_dir):
print "Puede localizar el directorio"
os.chdir(path_to_dir) # todo bien aquí :D
subprocess.call(['./configure'], shell = True)
subprocess.call(['make'], shell = True)
subprocess.call(['make install'], shell = True) # el problema ocurre aquí
Cuando ejecuto subprocess.call(['make install'], shell = True) arroja el siguiente error:
/bin/bash: /home/user/Im: No such file or directory
make[3]: *** [install-libLTLIBRARIES] Error 127
make[2]: *** [install-am] Error 2
make[1]: *** [install-recursive] Error 1
make: *** [install-recursive] Error 1
¿cómo puedo trabajar con rutas con espacios cuando ejecuto subprocess.call(['make install'], shell = True)? (Estoy usando Python 2.7)
2853,java|android,Estoy intentando crear un validador de fechas en Java, la actual con una obtenida de un json y que está en formato TimeStamp 2016-01-18 18:12:56
Para obtener los milisegundos de la fecha actual utilizo lo siguiente
public static long GetCurrentTimeStamp() {
Date date= new Date();
return date.getTime();
}
public static long ConvertTimeStampToDecimal(String fecha) {
//Me falta convertir TimeStamp a Milisegundos
}
long DateNowDecimal = GetCurrentTimeStamp();
String TimeStampDB = "2016-01-18 18:12:56";
me falta como convertir el contenido de TimeStampDB a milisegundos para luego comprobar si es inferior o superior a la de actual, para determinar si actualizar datos o no
2857,ios,He encontrado un código en Objective-c para que calcule la carga de la cpu pero esta en Objective-c y no se objective-c si no Swift he intentado pasarlo a Swift pero sin ningún resultado. Tampoco se como pasarlo a una función o algo y llamarla desde Swift.
PROBLEMA RESUELTO.
En el proyecto de swift crear un nuevo fichero.m que lo tenéis que enlazar en el bridging-Header.h y llamar desde el archivo swift load() y todo funcionara.
CODIGO RESEUELTO
#import <Foundation/Foundation.h>
#include <sys/sysctl.h>
#include <sys/types.h>
#include <mach/mach.h>
#include <mach/processor_info.h>
#include <mach/mach_host.h>
processor_info_array_t cpuInfo, prevCpuInfo;
mach_msg_type_number_t numCpuInfo, numPrevCpuInfo;
unsigned numCPUs;
NSTimer *updateTimer;
NSLock *CPUUsageLock;
void load() {
int mib[2U] = { CTL_HW, HW_NCPU };
size_t sizeOfNumCPUs = sizeof(numCPUs);
int status = sysctl(mib, 2U, &numCPUs, &sizeOfNumCPUs, NULL, 0U);
if(status)
numCPUs = 1;
CPUUsageLock = [[NSLock alloc] init];
natural_t numCPUsU = 0U;
kern_return_t err = host_processor_info(mach_host_self(), PROCESSOR_CPU_LOAD_INFO, &numCPUsU, &cpuInfo, &numCpuInfo);
if(err == KERN_SUCCESS) {
[CPUUsageLock lock];
for(unsigned i = 0U; i < numCPUs; ++i) {
float inUse, total;
if(prevCpuInfo) {
inUse = (
(cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER]   - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER])
+ (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM] - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM])
+ (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE]   - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE])
);
total = inUse + (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE] - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE]);
} else {
inUse = cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER] + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM] + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE];
total = inUse + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE];
}
NSLog(@"Core: %u Usage: %f",i,inUse / total);
}
[CPUUsageLock unlock];
if(prevCpuInfo) {
size_t prevCpuInfoSize = sizeof(integer_t) * numPrevCpuInfo;
vm_deallocate(mach_task_self(), (vm_address_t)prevCpuInfo, prevCpuInfoSize);
}
prevCpuInfo = cpuInfo;
numPrevCpuInfo = numCpuInfo;
cpuInfo = NULL;
numCpuInfo = 0U;
} else {
NSLog(@"Error!");
}
}
2861,c#,Queria saber cómo hacer un NOT IN en la siguiente consulta
select * from WFRules
where (Class = 'DoDesign' or ParentId = 0)
and ParentType not in (5,8,9,10,11)
and Type not in (5,8,9,11,15,33,34,35,37,38,39,40,41)
Hasta el momento tengo esto:
var rulcon = (from w in db.WFRules
where w.Class == "DoDesign" || w.ParentId == 0
select w).ToList();
Intente probar con el contains pero no funciona
Esta es la tabla:
2869,ios,Tengo un for que está en Objective-C (no tengo mucha idea de ello) tengo la app en Swift. Llamo a la función y todo perfecto pero me devuelve dos valores cuando recorte la sentencia if.
2016-01-20 21:54:46.742 Prueba[3306:926796] Core: 0 Usage: 0.153268
2016-01-20 21:54:55.874 Prueba[3306:926796] Core: 1 Usage: 0.081846
Lo que quiero es sumar los dos valores de Core 0 y Core 1 y sacar el % de la suma.
El código del for:
for(unsigned i = 0U; i < numCPUs; ++i) {
float inUse, total;
if(prevCpuInfo) {
inUse = (
(cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER]   - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER])
+ (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM] - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM])
+ (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE]   - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE])
);
total = inUse + (cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE] - prevCpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE]);
} else {
inUse = cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_USER] + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_SYSTEM] + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_NICE];
total = inUse + cpuInfo[(CPU_STATE_MAX * i) + CPU_STATE_IDLE];
}
NSLog(@"Core: %u Usage: %f",i,inUse / total);
}
2875,c#,Estoy creando una ventana en WPF utilizando WindowChrome de la librería Microsoft.Windows.Shell con la intención de obtener una ventana personalizada sin los marcos de ventana de Windows y no perder rendimiento gráfico.
Sin embargo, el diseño lleva esquinas redondeadas, pero estas no se ven a como desearía, se ven pixeladas.
Además, este es el código del WindowChrome:
<Window
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:shell="http://schemas.microsoft.com/winfx/2006/xaml/presentation/shell"
xmlns:local="clr-namespace:BlackXells.Locker.UI"
x:Class="BlackXells.Locker.UI.Dashboard"
mc:Ignorable="d"
Title="Locker" MinHeight="550" MinWidth="950" Height="525" Width="1036" WindowStartupLocation="CenterScreen" Icon="/Locker;component\Resources\locker-logo.ico">
<shell:WindowChrome.WindowChrome>
<shell:WindowChrome CornerRadius="20" ResizeBorderThickness="6" GlassFrameThickness="0"/>
</shell:WindowChrome.WindowChrome>
<Border x:Name="LayoutRoot" CornerRadius="20" BorderBrush="#FFC8C8C8" BorderThickness="1">
<Grid/>
</Border>
</Window>
Además, si no utilizo WindowChrome y establezco WindowStyle = None y ResizeMode = NoResize obtengo el resultado deseado, no obstante pierdo algunas funcionalidades que deseo tener (animación de minimizado, entre otros), además de que se reduce el rendimiento de la ventana.
2879,c#,En relacion a mi pregunta ¿Es posible guardar el contenido de un panel en un archivo binario?
Lo que necesito es saber si es posible y cómo podría desarrollarlo. Es decir tengo un panel sobre el cual puedo dibujar. Luego de dibujar me gustaría poder guardar lo que se dibujó en un archivo binario, que luego otro programa podrá montarlo y leerlo.
Esto es en C# winform
Guarda el panel pero no el contenido del Panel (pnl_Draw) :
//Incializa un componente SaveFileDialog.
SaveFileDialog saveFileDialog = new SaveFileDialog();
//Cuando buscas archivos te muestra todos los .bmp.
saveFileDialog.Filter = "JPeg Image|*.jpg|Bitmap Image|*.bmp|Gif Image|*.gif";
//Titulo
saveFileDialog.Title = "Guardar gráfico como imagen";
// preguntamos si elegiste un nombre de archivo.
if (saveFileDialog.ShowDialog() == DialogResult.OK)
{
//Extención del archivo por defecto segun el filtro del saveFileDialog
switch (saveFileDialog.FilterIndex)
{
case 1:
saveFileDialog.DefaultExt = "jpg";
break;
case 2:
saveFileDialog.DefaultExt = "bmp";
break;
case 3:
saveFileDialog.DefaultExt = "gif";
break;
}
//Obtenemos alto y ancho del panel
int width = pnl_Draw.Width;
int height = pnl_Draw.Height;
//Inicializamos un objeto BitMap con las dimensiones del Panel
Bitmap bitMap = new Bitmap(width, height);
//Inicializamos un objeto Rectangle en la posicion 0,0 y con dimensiones iguales a las del panel.
//0,0 y las mismas dimensiones del panel porque queremos tomar todo el panel
// o si solo queremos tomar una parte pues podemos dar un punto de inicio diferente y dimensiones distintas.
Rectangle rec = new Rectangle(0, 0, width, height);
//Este metodo hace la magia de copiar las graficas a el objeto Bitmap
pnl_Draw.DrawToBitmap(bitMap, rec);
// Y por ultimo salvamos el archivo pasando como parametro el nombre que asignamos en el saveDialogFile
bitMap.Save(saveFileDialog.FileName);
Gracias a Leandro pude ver que estaba utilizando el metodo equivocado. Para guardar el contenido se debe dibujar con Paint
2891,python,Estoy usando Django 1.8 con Python 3.4, necesito mostrar los datos de una tabla con ListView pero no me muestra nada ni me muestra algún error.
Aquí les dejo el código:
models.py
class Tipo_almacen(models.Model):
descripcion = models.CharField(max_length=50)
class Meta:
db_table = 'Tipo_almacen'
verbose_name_plural = "Tipo de Almacenes"
verbose_name = "Tipo de Almacen"
def __str__(self):
return self.descripcion
views.py
from django.shortcuts import render
from mantenimiento.forms import Tipo_almacenForm
from django.http import HttpResponseRedirect
from django.views.generic import ListView
from appkardex.models import Tipo_almacen
def menu(request):
return render(request, 'main.html')
class ListaTipoAlmacen(ListView):
model = Tipo_almacen
template_name = 'cruds/lista_tipo_almacen.html'
def get_context_data(self, **kwargs):
context = super(ListaTipoAlmacen, self).get_context_data(**kwargs)
lista_tipo_almacen = Tipo_almacen.objects.all()
context['lista_tipo_almacen'] = lista_tipo_almacen
return context
urls.py
urlpatterns = [
url(r'^admin/', include(admin.site.urls)),
url(r'^', views.menu),
url(r'^$', ListaTipoAlmacen.as_view(), name='lista_tipo_almacen')
] + static(settings.STATIC_URL)
main.html
<a href="{% url 'lista_tipo_almacen' %}">Tipo almacen</a></li>
lista_tipo_almacen.html
{% extends "main.html" %}
{% block contenido %}
<h1>Tipo Almacen</h1>
<ul>
{% for lista in lista_tipo_almacen %}
<li>{{ lista.descripcion }} </li>
{% endfor %}
</ul>
{% endblock %}
2892,c#,El método esta así:
public List<CivarTransporteService.Model.Cliente> getClientes()
{
using (CivarTransporteService.Model.CivarTransporteModelContainer context =
new Model.CivarTransporteModelContainer())
{
return context.Cliente.ToList();
}
}
el cs así:
public interface ICatalogsService
{
[OperationContract]
List<CivarTransporteService.Model.Cliente> getClientes();
}
obviamente me regresa todos los datos que hay en la tabla, pero solo necesito el campo de nombre, como puedo hacerle?
2900,java|android,¿Cómo se hace para ordenar un List con tipo personalizado en Java de Android?
Las listas simples uso Collections.sort(lista) pero de tipo personalizado no ser como especificar que campo debe tener en cuenta para ordenar la lista.
Tengo lo siguiente creado
Classe Person.java
public class Person {
String gender;
String name;
int age;
double height;
double weight;
public Person(String gender, String name, int age, double height, double weight) {
this.gender = gender;
this.name = name;
this.age = age;
this.height = height;
this.weight = weight;
}
//Getters
public String getGender() {
return this.gender;
}
public String getName() {
return this.name;
}
public int getAge() {
return this.age;
}
public double getHeight() {
return this.height;
}
public double getWeight() {
return this.weight;
}
}
Llenar la lista
List<person> people = new ArrayList<>();
people.add(new Person("F","Alice", 15, 160, 48));
people.add(new Person("F","Karen", 18, 140, 45));
people.add(new Person("M","Bob", 8, 90, 30));
people.add(new Person("M","John", 40, 180, 78));
Me falta saber como ordenar la lista people por nombre y otro agrupando (altura,peso,edad)
2919,java|android,Recibo un JSON que a veces los campos numéricos tienen valor o bien null:
{
duration: null
}
Justo en la sentencia:
jArray.getJSONObject(id).getInt("duration");
Se produce el error:
W/System.err: org.json.JSONException: Value null at duration of type org.json.JSONObject$1 cannot be converted to int
2925,ios,Buenas, tengo un pequeño problema. En StoryBoard he diseñado la pantalla con la opción Use Auto Layout desactivando la opción Use Size Classes he añadido los constraints necesarios y en las pantallas de 5.5 se ve de maravilla todo ajustado, pero el problema viene en las pantallas de 4.7, 4 y 3.5 que no se ajusta nada bien. También intenté activando la opción Use Size Classes y no he obtenido ningún resultado.
2934,python,Tengo la siguiente estructura de mi proyecto:
He querido enunciar todo el contexto de negocio de mi aplicación (al menos el que le compete al problema que tengo) para ilustrar mejor la situación. Disculpas de antemano por lo largo del post, es por ello.
Dos aplicaciones llamadas userprofile y rbsessions
project
userprofile
models.py
rbsessions
models.py
En userprofile/models.py estoy gestionando el esquema de usuarios a través de los siguientes modelos: User,MedicalProfile,PatientProfile y TherapistProfile.
Lo que quiere decir que en mi sistema existen usuarios que son médicos, que son pacientes y que son terapeutas
Cuando yo creo un usuario via django admin, debo asociarle alguno de estos atributos:
is_medical: Sera un usuario médico y si lo selecciono al crearlo, se creará automáticamente un perfil de ese usuario en el modelo MedicalProfile
is_patient: Sera un usuario paciente y si lo selecciono al crearlo, se creará automáticamente un perfil de ese usuario en el modelo PatientProfile
is_therapist: Sera un usuario terapeuta y si lo selecciono al crearlo, se creará automáticamente un perfil de ese usuario en el modelo TherapistProfile
Se entiende que cuando un usuario paciente es creado en el sistema, es porque va a recibir sesiones de terapia o citas medicas.
(Los datos de una sesion de terapia los detallaré mas adelante en una clase llamada Session)
Cuando un usuario paciente es creado, quiero que de manera automática además de su perfil PatientProfile (el cual ya se crea), se cree una instancia de la clase Session (la detallo mas adelante) lo que significará que tendrá una cita asignada.
(ver última condición elif en el modelo User que presentaré a continuación )
Acorde a lo anterior, los modelos User, MedicalProfile, PatientProfile, TherapistProfile son los siguientes:
User model (userprofile/models.py)
from __future__ import unicode_literals
from django.conf import settings
from django.utils import timezone
from datetime import datetime
from django.contrib.auth.models import AbstractUser
from django.db import models
from django.dispatch import receiver
from django.db.models.signals import post_save
from rbsessions.models import Session
class User(AbstractUser):
birth_date = models.DateTimeField(default=timezone.now())
address = models.CharField(max_length=150, blank=False)
phone = models.CharField(verbose_name=u'phone', max_length=25, blank=True)
is_medical = models.BooleanField(default=False)
is_therapist = models.BooleanField(default=False)
is_patient = models.BooleanField(default=False)
slug = models.SlugField(max_length=100, blank=True)
photo = models.ImageField(upload_to='avatars', blank = False)
#Sobreescribo el metodo save para la creacion de cada perfil de usuario
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# Creating and user with medical, patient and therapist profiles
if self.is_medical and not MedicalProfile.objects.filter(user=self).exists()\
and self.is_patient and not PatientProfile.objects.filter(user=self).exists()\
and self.is_therapist and not TherapistProfile.objects.filter(user=self).exists():
medical_profile=MedicalProfile(user=self).save()
patient_profile=PatientProfile(user=self).save()
therapist_profile=TherapistProfile(user=self).save()
# Creating and user with medical and patient profiles
elif self.is_medical and not MedicalProfile.objects.filter(user=self).exists()\
and self.is_patient and not PatientProfile.objects.filter(user=self).exists():
medical_profile=MedicalProfile(user=self).save()
patient_profile=PatientProfile(user=self).save()
# Creating and user with medical and therapist profiles
elif self.is_medical and not MedicalProfile.objects.filter(user=self).exists()\
and self.is_therapist and not TherapistProfile.objects.filter(user=self).exists():
medical_profile=MedicalProfile(user=self).save()
therapist_profile=TherapistProfile(user=self).save()
# Creating and user with physiotherapist and patient profiles
elif self.is_therapist and not TherapistProfile.objects.filter(user=self).exists()\
and self.is_patient and not PatientProfile.objects.filter(user=self).exists():
therapist_profile = TherapistProfile(user=self).save()
patient_profile = PatientProfile(user=self).save()
# Creating and user with medical profile
elif self.is_medical and not MedicalProfile.objects.filter(user=self).exists():
profile = MedicalProfile(user=self)
profile.save()
# Creating and user with patient profile ---Here---
elif self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
#Quiero crear una instancia de una sesión de rehabilitacion para cuando se crea un paciente
session = Session()
session.description = 'This is a rehabilitation session for a patient. This register session ' \
'will be completed for the medical personal
session.status = 'PLA'
session.participants = 'By define'
session.period = 'By define'
session.game_levels = 'By define'
session.iterations = 0
session.movements = 'By define'
session.games = 'By define'
session.medical = MedicalProfile.objects.create(user=self)
session.therapist = TherapistProfile.objects.create(user=self)
session.patient = PatientProfile.objects.create(user=self)
session.save()
class Meta:
db_table = 'auth_user'
MedicalProfile model (userprofile/models.py)
class MedicalProfile(models.Model):
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
name = models.CharField(max_length=64)
specialty = models.CharField(max_length=64)
def __str__(self):
return '%s %s' % (self.user.first_name, self.user.last_name)
PatientProfile model (userprofile/models.py)
class PatientProfile(models.Model):
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
name = models.CharField(max_length=64)
blood_type = models.CharField(max_length=4, blank=False)
care_provider = models.CharField(max_length=64, blank=False)
time_of_evolution = models.CharField(max_length=64, blank=False)
affected_limb = models.CharField(max_length=64, blank=False)
diagnostic = models.TextField(blank=True)
managing_organization = models.CharField(max_length=64, blank=False)
def __str__(self):
return '%s %s' % (self.user.first_name, self.user.last_name)
TherapistProfile model (userprofile/models.py)
class TherapistProfile(models.Model):
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
name = models.CharField(max_length=64)
specialty = models.CharField(max_length=64)
def __str__(self):
return '%s %s' % (self.user.first_name, self.user.last_name)
Aplicación rbsessions
Comentaba al inicio que tengo otra aplicación llamada rbsessions desde la cual se gestionarán las sesiones de terapia o rehabilitación de los pacientes, por lo que existe un modelo llamado Sessions.
Sessions model (rbsessions/models.py)
from django.db import models
from django.utils import timezone
# Create your models here.
class Session(models.Model):
STATUS_PLANNED = 'PLA'
STATUS_ARRIVED = 'ARR'
STATUS_IN_PROGRESS = 'PRO'
STATUS_ON_LEAVE = 'ONL'
STATUS_FINISHED = 'FIN'
STATUS_CANCELLED = 'CAN'
STATUS_CHOICES = (
(STATUS_PLANNED, u'Planned'),
(STATUS_ARRIVED, u'Arrived'),
(STATUS_IN_PROGRESS, u'In progress'),
(STATUS_FINISHED, u'Finished'),
(STATUS_CANCELLED, u'Cancelled'),
)
description = models.TextField(blank=False)
date_session = models.DateTimeField(default=timezone.now())
status = models.CharField(max_length=3,
choices=STATUS_CHOICES,
default=STATUS_PLANNED)
participants = models.TextField(blank=False)
period = models.CharField(max_length=25,blank=True)
game_levels = models.TextField(blank=True)
iterations = models.PositiveIntegerField(blank=True)
movements = models.TextField(blank=False)
games = models.TextField(blank=False)
#slug = models.SlugField(max_length=100, blank=True)
#Claves foráneas.
medical = models.ForeignKey('userprofile.MedicalProfile')
patient = models.ForeignKey('userprofile.PatientProfile')
therapist = models.ForeignKey('userprofile.TherapistProfile')
Como podemos detallar este modelo tiene tres llaves foráneas que apuntan a los usuarios médico y fisioterapeuta que se encargarán de la sesión y otra al usuario paciente que es el que la llevará a cabo. Mi problema que enunciaré ahora tiene que ver con esto.
Cuando quiero crear un usuario paciente, quiero que automáticamente se le asigne una sesión en donde va a ser atendido. Es decir que se cree para ese usuario paciente que fue registrado, una instancia de la clase Session.
Y es así como en userprofile/models.py en la clase User (como esta más arriba pero lo indico acá de nuevo), en esta porción de código pregunto:
Si se esta creando un usuario paciente (is_patient checked) creese su perfil en PatientProfile e inmediatamente se crea una instancia de Session con todos sus campos o atributos correspondientes:
El código sobre como lo estoy haciendo es asi:
class User(AbstractUser):
...
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# creating users with  other profiles
if self.is ...
...
# Creating and user with patient profile
elif self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
#Creando la instancia Session que sera la sesión de rehabilitación de ese paciente que se esta creando
session = Session()
session.description = 'This is a rehabilitation session for a patient. This register session ' \
'will be completed for the medical personal'
session.status = 'PLA'
session.participants = 'By define'
session.period = 'By define'
session.game_levels = 'By define'
session.iterations = 0
session.movements = 'By define'
session.games = 'By define'
session.medical = MedicalProfile.objects.create(user=self)
session.therapist = TherapistProfile.objects.create(user=self)
session.patient = PatientProfile.objects.create(user=self)
session.save()
Cuando via Django admin creo un usuario con el perfil de paciente (is_patient checked) me sale esto.
Este IntegrityError que obtengo, es porque estoy guardando una instancia de la clase Session dentro del override del metodo save() que estoy realizando tambien. Y de hecho antes de grabar Session llamo a un .save() en donde grabo el perfil del paciente
Entonces gracias a esos save() sucesivos Django graba dos veces el mismo usuario.
Tengo un .save dentro de la funcion def save() de esta forma
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# Creating and user with patient profile
if self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
#Primer save
session = Session()
session.description = 'This is a rehabilitation session for a patient. This register session ' \
'will be completed for the medical personal'
session.status = 'PLA'
session.participants = 'By define'
session.period = 'By define'
session.game_levels = 'By define'
session.iterations = 0
session.movements = 'By define'
session.games = 'By define'
session.medical = MedicalProfile.objects.create(user=self)
session.therapist = TherapistProfile.objects.create(user=self)
session.patient = PatientProfile.objects.create(user=self)
session.save()
#Segundo save()
¿Estoy en lo correcto?
Algo que quize probar acorde a cosas que me habian sugerido y había hecho también antes era que en lugar de grabar la instancia de Session de un usuario paciente que se crea dentro del override del metodo save(), utilicé un signal post_save() para decirle a Django que cuando me cree el usuario paciente, cree su sesión de terapia.
Entonces quité la creación de la sesión de un paciente en el metodo save()
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# Creating and user with patient profile
if self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
Y dije lo siguiente:
# Signal for save rehabilitation_session of a patient user
@receiver(post_save, sender = settings.AUTH_USER_MODEL)
def creating_rehabilitation_session_patient(sender, instance, **kwargs):
user = instance
#if created:
if user.is_patient:
Session.objects.create(description='This is a rehabilitation session for a patient. This register session'
'will be completed for the medical personal',
status='PLA', participants='By define', period='By define',
game_levels='By define', iterations=0, movements='By define',
games='By define',)
Pero acá me ocurre que no conozco como decirle a Django que en el Session.objects.create(...) que estoy haciendo, me incluya los valores de los atributos medical, patient, therapist (van después de games en el código inmediatamente anterior) que son llaves foráneas de los modelos MedicalProfile, PatientProfile y TherapistProfile que se relacionan con el modelo Session
Al parecer con este signal al grabar los datos, no se si funcionará, ya que me sale también un IntegrityError, pero no porque mi usuario ya exista en el sistema (como el anterior), sino porque como no estooy enviando valores a los campos medical, patient, therapist y éstos no aceptan valores nulos entonces no pueden ir vacíos.
No se si la idea de aplicar el signal post_save() a mi función def creating_rehabilitation_session_patient() resuelva mi problema y en cuyo caso ...
¿cual es la mejor forma de enviarle los parámetros de los campos medical, patient, therapist?
Aunque no se si tal vez una vez que le pueda enviar los campos medical, patient, therapist correctamente me salga también el error de IntegrityError already userprofile exist (el primero que obtuve), dado que finalmente así sea en el override del metodo save() o con un signal, finalmente estoy haciendo un save ... aunque con el signal es despues de ..
No se si mi análisis es correcto.
¿Como puedo lograr esto?
ACTUALIZACIÓN
He modificado acorde a la respuesta que obtuve, los campos session.medical, session.therapist, session.patient en la clase Session en rbsessions/models.py
Ahora estoy llamando a las funciones que me devuelven el perfil respectivo de cada usuario, de esta manera:
def save(self, *args, **kwargs):
user = super(User, self).save( *args, **kwargs)
# Creating and user with patient profile
if self.is_patient and not PatientProfile.objects.filter(user=self).exists():
profile = PatientProfile(user=self)
profile.save()
#Primer save
session = Session()
session.description = 'This is a rehabilitation session for a patient. This register session ' \
'will be completed for the medical personal'
session.status = 'PLA'
session.participants = 'By define'
session.period = 'By define'
session.game_levels = 'By define'
session.iterations = 0
session.movements = 'By define'
session.games = 'By define'
#Imrpimo el valor de lo que me retorna get_medical_profile()
print (self.get_medical_profile())
session.medical = self.get_medical_profile()
session.therapist = self.get_therapist_profile()
session.patient = self.get_patient_profile()
session.save()
#Segundo save()
Pero al examinar el contenido de lo que me retorna la función get_medical_profile(), detallo que le estoy enviando el valor de None al momento de crear una instancia de la clase Session
[21/Jan/2016 21:40:30] "POST /admin/userprofile/user/add/ HTTP/1.1" 302 0
[21/Jan/2016 21:40:30] "GET /admin/userprofile/user/26/change/ HTTP/1.1" 200 24279
[21/Jan/2016 21:40:30] "GET /admin/jsi18n/ HTTP/1.1" 200 3189
None
Internal Server Error: /admin/userprofile/user/26/change/
Traceback (most recent call last):
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/handlers/base.py", line 149, in get_response
response = self.process_exception_by_middleware(e, request)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/core/handlers/base.py", line 147, in get_response
response = wrapped_callback(request, *callback_args, **callback_kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/contrib/admin/options.py", line 541, in wrapper
return self.admin_site.admin_view(view)(*args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/decorators.py", line 149, in _wrapped_view
response = view_func(request, *args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/views/decorators/cache.py", line 57, in _wrapped_view_func
response = view_func(request, *args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/contrib/admin/sites.py", line 244, in inner
return view(request, *args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/contrib/admin/options.py", line 1438, in change_view
return self.changeform_view(request, object_id, form_url, extra_context)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/decorators.py", line 67, in _wrapper
return bound_func(*args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/decorators.py", line 149, in _wrapped_view
response = view_func(request, *args, **kwargs)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/utils/decorators.py", line 63, in bound_func
return func.__get__(self, type(self))(*args2, **kwargs2)
File "/usr/lib/python3.4/contextlib.py", line 30, in inner
return func(*args, **kwds)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/contrib/admin/options.py", line 1378, in changeform_view
self.save_model(request, new_object, form, not add)
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/contrib/admin/options.py", line 991, in save_model
obj.save()
File "/home/bgarcial/workspace/neurorehabilitation-system/userprofile/models.py", line 141, in save
session.medical = self.get_medical_profile()
File "/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
(instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Session.medical" does not allow null values.
Y es normal claro, porque en mis funciones de profiles, inicialmente los profiles respectivos son inicializados a None
# We get the profiles user according with their type
def get_medical_profile(self):
medical_profile = None
#medical_profile = MedicalProfile.objects.get(user=self)
if hasattr(self, 'medicalprofile'):
medical_profile=self.medicalprofile
return medical_profile
def get_patient_profile(self):
patient_profile = None
if hasattr(self, 'patientprofile'):
patient_profile = self.patientprofile
return patient_profile
def get_therapist_profile(self):
therapist_profile = None
if hasattr(self, 'therapistprofile'):
therapist_profile = self.therapistprofile
return therapist_profile
Creo que al preguntar lo que voy a preguntar ahora tal vez no he acabado de comprender como trabajan las funciones get de los profiles, dado que estas han sido inicializadas a None pensaría con el objetivo de que cuando no existan las relaciones OneToOne no tengamos el error de RelatedObjectDoesNotExist (¿?)
Intenté cambiar este valor o equivalente por esta linea
medical_profile = MedicalProfile.objects.get(self.user.first_name)
Pero obtuve esto.
AttributeError at /admin/userprofile/user/31/change/
'User' object has no attribute 'user'
Request Method: POST
Request URL:    http://localhost:8000/admin/userprofile/user/31/change/
Django Version: 1.9
Exception Type: AttributeError
Exception Value:
'User' object has no attribute 'user'
Exception Location: /home/bgarcial/workspace/neurorehabilitation-system/userprofile/models.py in get_medical_profile, line 158
Python Executable:  /home/bgarcial/.virtualenvs/nrb_dev/bin/python
Python Version: 3.4.3
Python Path:
['/home/bgarcial/workspace/neurorehabilitation-system',
'/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4',
'/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/plat-x86_64-linux-gnu',
'/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/lib-dynload',
'/usr/lib/python3.4',
'/usr/lib/python3.4/plat-x86_64-linux-gnu',
'/home/bgarcial/.virtualenvs/nrb_dev/lib/python3.4/site-packages']
Server time:    Thu, 21 Jan 2016 22:19:37 +0000
En estos momentos no comprendo como debo manejar el valor retornado de las funciones get_medical_profile, y demás. De pronto puedes explicarme su funcionamiento por favor.
Entre otras cosas porque se pregunta por el atributo de esta forma:
if hasattr(self, 'patientprofile'):
Gracias y disculpas
2943,java|android,Dentro de onCreate tengo el siguiente fragmento de código:
final String regId = GCMRegistrar.getRegistrationId(this);
// Check if regid already presents
if (regId.equals("")) {
// Registration is not present, register now with GCM
GCMRegistrar.register(this, SENDER_ID);
} else {
// Device is already registered on GCM
if (GCMRegistrar.isRegisteredOnServer(this)) {
// Skips registration.
Toast.makeText(getApplicationContext(), "Bienvenido", Toast.LENGTH_LONG).show();
String var=regId;
} else {
//...
Lo que trato de hacer es pasar el dato almacenado en la variable regId
a un método que está afuera de onCreate, que es el siguiente:
public void getData() {
class GetDataJSON extends AsyncTask<String, Void, String>{
@Override
protected String doInBackground(String... params) {
DefaultHttpClient httpclient =
new DefaultHttpClient(new BasicHttpParams());
HttpPost httppost =
new HttpPost("http://url.mx/selectAllJSON.php?id="+var);
// Depends on your web service
httppost.setHeader("Content-type", "application/json");
InputStream inputStream = null;
String result = null;
// ...
Todo esto es en la misma clase, sin embargo, me indica error de sintaxis, ¿cómo podría hacer esto?
2948,html,Debo maquetar una plantilla HTML para ser enviada como correo electrónico.
¿Qué consideraciones técnicas debe tener el HTML y CSS para que se visualize correctamente en los clientes de correo?
2953,java|android,Que tal comunidad. A ver si alguien me dá una mano en esto. Sucede que estoy trabajando en organizar los códigos repetitivos y reutilizables en una librería propia y la intención es distribuirla en la fábrica en formato jar como es lo normal. Todo va bien pero tengo un caso particular con una de las clases que estoy migrando; tengo una clase que se encarga de escribir una serie de reportes de actividades del usuario del sistema (una especie de monitoreo), lo que deseo hacer es lo siguiente:
hacer configurable el nombre (entre otras cosas) del archivo de los logs, pensé en tomar esta configuración de un fichero json que se ubique en los assets del proyecto de quien use la librería, no en los assets de la librería.
EDIT: edito mi pregunta para que se entienda mejor
En cada cada clase que debe registrar eventos de uso se realiza una instancia del monitor de la siguiente manera:
public class MainActivity extends Activity {
Logit logger = Logit.getInstance(this.getClass());
...// onCreate(), etc ...
}
La instancia se realiza incluso desde clases que no extienden de Activity, por ejemplo desde un DataBaseHelper de SQLite.
El constructor de la clase Logit es el siguiente:
public static Logit getInstance(Class<?> clazz) {
if (log == null)
log = new Logit();
try {
AssetManager manager = Resources.getSystem().getAssets();
InputStream is = manager.open("logit.cfg");
String input = new Scanner(is, "UTF-8").useDelimiter("\\A").next();
JSONObject json = new JSONObject(input);
String file = json.getString("filename");
boolean showv = json.getBoolean("showAppVersion");
log.setFileName(file);
log.setShowVersion(showv);
log.setClassName(clazz.getCanonicalName());
return log;
}catch(Exception e) {
log.write(Logit.stringStackTrace(e));
return log;
}
}
Lo que me interesa es conservar el argumento realmente necesario al momento de la instancia (Class<?>) y por la ubicación de la línea de la instancia no me es factible ubicar referencias al AssetManager del app anfitrión para ubicar el recurso, por eso mi interés en encontrar la forma de ubicar la configuración repetible de manera silenciosa a través de un archivo de configuración.
La pregunta es ¿cómo puedo desde la librería tomar una configuración que existe en el proyecto que usa la librería, específicamente de los assets? no me agrada la idea de que el desarrollador tenga que abrir el jar para modificar las configuraciones a su gusto. Un ejemplo claro del objetivo es emular una configuración como la de log4j.
Saludos a todos!
2961,c#,Estoy haciendo un Spce Invaders, donde tengo distintos tipos de enemigos con sus respectivos colores (verde, amarillo y  azul) Cada 15 segundos se instancia una Nave Enemiga que puede traer alguno de los colores de los enemigos mencionados anteriormente. Si yo destruyo la nave enemiga y es color amarillo, deberían destruirse TODOS los enemigos de color amarillo, y así sucesivamente con los demás colores.
Encontré una pequeña solución y es esta:
Pero mi problema, es que no sé de que forma instanciar la función que lleve ése foreacha, sin tener que usar un update.
¿Alguien se imagina cómo resolver esto de una mejor manera?
¡Cualquier feedback es bienvenido!
foreach (var w in invaderList)
{
var d = invaderList.Find(f => f.tag == "Invader");
Destroy(w);
}
Exacto, eso funciona para mi. El tema es CÓMO ejecuto ese método para que recorra toda la lista.
Por ejemplo, si quiero que La Nave Madre, al recibir un disparo, haga el llamado al método para recorrerl la lista y verificar CUAL es el tag que debe eliminar. Pero al hacerlo así, no logra meterse en el foreach. Y cuando quiero hacerlo con una corrutina, me  dice que no puede porque el objeto no esta activo.
Esto se encuentra en la Nave Madre:
//La nave al impactar con el proyectil del jugador
//llama al método que recorre las listas de los invaders
public void OnTriggerEnter(Collider other)
{
if (other.gameObject.tag == "PlayerProjectile")
{
m_Boss.DestroyMultipleInv();
Destroy(gameObject);
}
}
Esto se encuentra en el Manager de la Nave Madre:
//Recorre la lista y busca por tag
//qué invader destruir
public void DestroyMultipleInv()
{
foreach (GameObject inv in invaderList)
{
if (inv.tag == "Invader")
{
Destroy(inv);
}
}
}
2968,ios,Usando el código en este repositorio pude reproducir un archivo MIDI con una fuente predeterminada SoundFont, el problema es que el código requiere que se le pase como parámetros los instrumentos que se deben usar con cada pista.
La información de que instrumento usa cada pista esta embebida en el archivo MIDI.
Lo que he probado hasta el momento es iterar en los eventos del archivo buscando por meta-data pero al aparecer AudioToolbox Framework omite esa información cuando esta procesando el archivo.
- (void)assignInstrumentsToTracks:(NSArray*)programs {
//-------------------------------------------------
// Set the AUSampler nodes to be used by each track
//-------------------------------------------------
MusicTrack tracks[[programs count]];
for (NSInteger i = 0; i < [programs count]; i++) {
MusicTrack track;
MusicSequenceGetIndTrack(ms, (unsigned int)i, &track);
tracks[i] = track;
MusicEventIterator iterator;
NewMusicEventIterator(track, &iterator);
Boolean hasNext = YES;
MusicTimeStamp timestamp = 0;
MusicEventType eventType = 0;
const void *eventData = NULL;
UInt32 eventDataSize = 0;
// Run the loop
MusicEventIteratorHasCurrentEvent(iterator, &hasNext);
while (hasNext) {
MusicEventIteratorGetEventInfo(iterator,
&timestamp,
&eventType,
&eventData,
&eventDataSize);
// Process each event here
printf("Eent type %i\n", (unsigned int)eventType);
if (eventType == kMusicEventType_Meta) {
printf("Meta-event found! ");
for (int j=0; j<eventDataSize; j++) {
printf("%x", ((char *)eventData)[i]);
}
printf("\n");
}
MusicEventIteratorNextEvent(iterator);
MusicEventIteratorHasCurrentEvent(iterator, &hasNext);
}
}
AUNode nodes[[programs count]];
for (NSInteger i = 0; i < [programs count]; i++) {
AUNode node;
AUGraphGetIndNode (self.processingGraph, (unsigned int)i, &node);
nodes[i] = node;
}
for (NSInteger i = 0; i < [programs count]; i++) {
MusicTrackSetDestNode(tracks[i], nodes[i]);
}
}
¿Alguien sabe de que otra forma de puede hacer ésto?
2972,android,Mediante Django Rest Framework recojo alrededor de 20 objetos. Cada objeto esta formado por 22 atributos de tipo String. Nombre, url_icono, dirección, etc.
En la Activity principal, mediante un GridView, muestro el ícono con el nombre. Al pulsar un elemento se lanza una segunda Activity la cual mostrará mas datos relacionados (los 22 atributos restantes).
La duda es, ¿cuál es el procedimiento adecuado?
En el main recoger todos los datos de cada elemento.
En el main, descargar únicamente el ícono y el nombre y en la segunda Activity realizar una nueva conexión para recoger el resto de datos de ese elemento.
2973,c#,Tengo el siguiente método
public ActionResult Index()
{
var zsp = db.Zsp.Include(z => z.Zsptypes).ToList();
return View(zsp);
}
Que me devuelve la siguiente tabla
Como hago para que no se visualizen los ultimos ,00?? Mi modelo es el siguiente
2980,javascript|html,Usando la librería jsPDF y siguiendo este código de muestra tomado de esta respuesta, estoy trabajando en un desarrollo usando HTML y javascript para generar un archivo PDF.
El contenido del archivo PDF es el código HTML de esta página de prueba1 que puede descargar para revisar su contenido.
Al abrir el archivo en el navegador y al seleccionar el enlace de descarga; el archivo PDF es descargado en la carpeta de "Descargas"2, pero el resultado contiene algunos caracteres codificados:
Éste es un fragmento del archivo HTML:
<div class="TituloPagina">
CONTRATO INDIVIDUAL DE TRABAJO A TÉRMINO FIJO INFERIOR A UN AÑO CELEBRADO ENTRE
COMPAÑÍA (A). Y FUTURO EMPLEADO (B) –SALARIO ORDINARIO.
</div>
El caracter – se muestra codificado en el PDF así: þÿ
He intentado:
Colocar la propiedad UTF-8 en el archivo HTML.
Guardar el archivo HTML como se indica en la respuesta, pero en este caso, no considero que el problema se encuentre en el archivo HTML de muestra, sino en el resultado de la conversión a PDF.
Cambiar la etiqueta meta así: <meta charset="iso-8859-1" />; lo que ocasiona que el archivo HTML pierda la codificación de los caracteres tales como ñ acentos, etc.
Pero no hay ninguna diferencia en los archivos PDF generados.
¿Cómo eliminar caracteres codificados de un archivo generado en PDF usando jsPDF?
1 He creado este archivo de prueba, ya que el desarrollo real contiene información confidencial.
2 La ruta de la descarga varía según la configuración de cada usuario en su navegador de preferencia.
2984,c#,Buenos días, tengo un certificado creado por GoDaddy para un sitio ya generé la configuración para cargarlo a un coudapp en azure, este certificado posee una thumbprintAlgorithm sha2, pero en todas las guías de azure trabaja únicamente con sha1, he buscado tutoriales para cambiarlo en desarrollo pero no ha sido posible.
¿Alguien podría orientarme sobre que puedo hacer?
2986,c#,buenos días, me gustaría contar con su ayuda para solucionar esta duda que tengo sobre realizar un despliegue de ASPnet 5 (Core1, CoreCLR) sobre un subdominio. cuento con lo siguiente:
Entorno: GNU/Linux Apache MySQL PHP.
DNV instalado (.net core y mono)
Generador Yeoman.
Al darle "dnx web", me funciona en http://localhost:5000
Esta app la tengo bajo una carpeta en un subdominio: http://subdominio.dominio.com/aspnet5/fx
¿Cómo le hago para que la app funcione en ese entorno de producción?
Me han recomendado hacer un docker container con nginx (+reverse proxy) y este fin de semana veré este tema.
2992,php,Tengo un problema al intentar generar un texto (en este caso caracteres) dentro de la imagen para el CAPTCHA, no me imprime $aleatorio y solo sale la imagen de fondo $imagen, ¿qué está fallando?.
Este es mi código:
<?php
//iniciamos la sesión
session_start();
$texto = imagecolorallocate($imagen,255,255, 255);
// creamos la longitud del texto en este caso un máximo de  12
$aleatorio = rand(0,12);
//creamos la imagen
$imagen = imagecreate(400,200);
//color de fondo
$fondo = imagecolorallocate($imagen, 117, 230, 156);
//imprimir  un texto a la imagen
imagestring($imagen,80,0,0,$aleatorio,$texto);
//rellenar la imagen
imagefill($imagen,50 ,0, $fondo);
//imprimir la imagen
header("Content-type:image/png");
imagepng($imagen);
?>
2994,php,Según he leido SHA-2 no es seguro y hace falta usar una encriptación más fuerte. He visto que en PHP se puede usar password_hash().
¿La salida de esa función sería suficiente encriptación?
3006,html,¿Alguien sabe como obtener los valores de un dropdown de Bootstrap con optgroup en ASP.NET?
Adjunto una imagen de referencia
Si le pongo al dropdown el atributo: runat="server" , para poder tenerlo en el backend, me sale el error de la imagen.
Parece que el asp.net no acepta que un select de html tenga optgroup
3010,html,El código tal cual está aquí funciona en internet-explorer, pero en google-chrome no aplica los estilos.
Ya intenté limpiar el cache del navegador y no funciona.
<html>
<head>
<title>title</title>
<style>
table {
border: 5 solid #ff0033
}
td {
border: 5 solid
}
</style>
</head>
<body>
<table>
<tr>
<td>hola
<td>Hola
</table>
</body>
</html>
3011,php,Tengo un pequeño script PHP para visualizar los archivos de carpetas en el servidor, pero primero necesito ordenar los archivos por los más recientes y no sé dónde colocar el asort en el código a continuación:
if($folder) {
if(strstr($folder,'..')) exit(ERROR_MESAGE);
$dir = @opendir('./'.$folder);
} else {
$dir = @opendir('./');
}
while($file = @readdir($dir)) {
if($file != '.' && $file != 'Índex.php' && $file != '.htaccess' && $file != 'css' &&$file !='.nomedia') {
if($con < $n) {
$con++;
continue;
}
if($sok < FILES_ON_PAGE) {
$name = $file;
$er = strrchr($name,'.');
if(file_exists($folder.'/in.html'))
require_once($folder.'/in.html');
if(file_exists($folder.'/1.txt'))
require_once($folder.'/1.txt');
if($folder) {
$sz = filesize($folder.'/'.$file);
$file = $folder.'/'.$file;
}   else  {
$sz = filesize($file);
}
$fsize = round($sz/1024,1);
if(is_file($file))
{ `
Necesito pasar un asort() en los archivos y no encuentro la manera de conseguirlo, ¿cómo puedo hacerlo?
3014,c#,He creado una ventana en WPF que hace uso de WindowChrome, con el fin de personalizar el marco de la ventana sin perder algunas características y rendimiento de la aplicación.
Todo funciona bien, excepto al momento de maximizar la ventana, y es que esta ocupa un tamaño mayor al de la resolución de la pantalla, en mi caso, la resolución es de 1440x900 píxeles y la ventana al ser maximizada consigue un tamaño de 1456x916 píxeles, 16 píxeles de más que no deberían estar. Esto lo he comprobado utilizando el Explorador de propiedades dinámico.
Aclaro que este problema no ocurre únicamente con WindowChrome, de hecho pasa lo mismo al establecer la propiedad ResizeMode = CanResizeWithGrip.
Además, he solucionado el problema de forma temporal utilizando el siguiente código al utilizar el botón de maximizado o haciendo doble click sobre la barra de título. Aclaro que la solución que he implementado funciona bien, pero existe un detalle, no funciona al momento de maximizar la ventana con atajos de teclado, es decir, utilizar Windows + Flecha Arriba. Al hacerlo, entonces la ventana ocupa el espacio adicional que mencioné anteriormente.
CÓDIGO XAML
<Window
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
xmlns:ewt="http://schemas.xceed.com/wpf/xaml/toolkit"
xmlns:local="clr-namespace:BlackXells.Locker.UI"
xmlns:Controls="clr-namespace:BlackXells.Locker.Controls"
x:Class="BlackXells.Locker.UI.Dashboard"
mc:Ignorable="d"
Title="Locker" MinHeight="550" MinWidth="950" Height="525" Width="1022" WindowStartupLocation="CenterScreen" Icon="/Locker;component\Resources\locker-logo.ico">
<!--Soporte de shell de Windows-->
<shell:WindowChrome.WindowChrome>
<shell:WindowChrome x:Name="gui_shell" CaptionHeight="0" CornerRadius="0" GlassFrameThickness="0" ResizeBorderThickness="6"/>
</shell:WindowChrome.WindowChrome>
<Border x:Name="LayoutRoot" CornerRadius="0" BorderBrush="#FFC8C8C8" BorderThickness="1">
<Grid>
<Grid.RowDefinitions>
<RowDefinition Height="auto"/>
<RowDefinition/>
</Grid.RowDefinitions>
<Grid x:Name="_titlebarContainer" Height="42">
<Grid.ColumnDefinitions>
<ColumnDefinition/>
<ColumnDefinition Width="Auto"/>
</Grid.ColumnDefinitions>
<Grid.Effect>
<BlurEffect Radius="0"/>
</Grid.Effect>
<Border x:Name="TitleBar" Background="WhiteSmoke" BorderBrush="Gainsboro" BorderThickness="0,0,0,1" CornerRadius="0" Height="42" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown" Grid.ColumnSpan="2"/>
<!--Botones de modificación de la ventana-->
<StackPanel HorizontalAlignment="Right" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,10,0" Grid.Column="1">
<Button x:Name="_btn_titlebar_minimize" Click="_defaults_window_minimize" Style="{StaticResource titlebar.buttons.minimize}" Margin="0,0,7,0"/>
<Button x:Name="_btn_titlebar_maximize_restore" Click="_defaults_window_maximize_restore" Style="{StaticResource titlebar.buttons.maximize}" Margin="0,0,7,0" />
<Button x:Name="_btn_titlebar_close" Click="_defaults_window_close" Style="{StaticResource titlebar.buttons.close}" Margin="0"/>
</StackPanel>
</Grid>
</Grid>
</Border>
</Window>
CÓDIGO C#
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.IO;
using System.Linq;
using System.Windows;
using System.Windows.Controls;
using System.Windows.Input;
using System.Windows.Media;
using System.Windows.Media.Animation;
using System.Windows.Media.Effects;
using System.Windows.Media.Imaging;
using WF = System.Windows.Forms;
namespace BlackXells.Locker.UI
{
public partial class Dashboard : Window
{
public Dashboard()
{
InitializeComponent();
_defaults_window_location();
}
#region WINDOW SUPPORT
// método de cierre de la ventana
private void _defaults_window_close(object sender, RoutedEventArgs e) => Close();
//método de maximización y restauración de la ventana
private void _defaults_window_maximize_restore(object sender, RoutedEventArgs e) => ChangeWindowState(!_IsMaximized ? WindowState.Maximized : WindowState.Normal);
// método de maximizado de la ventana
private void _defaults_window_minimize(object sender, RoutedEventArgs e) => WindowState = WindowState.Minimized;
//obtiene un valor que determina si la ventana se encuentra maximizada
private bool _IsMaximized { get; set; } = false;
//_windowLocationX y _windowLocationY se utilizan para guardar las cordenadas de la ventana en el escritorio.
//_windowSizeWidth y _windowSizeHeight se utilizan para guardar el tamaño de la ventana.
private int _windowLocationX, _windowLocationY, _windowSizeWidth, _windowSizeHeight;
// método para arrastrar la ventana, si se hace doble click, se llama la función de maximizado
private void TitleBar_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)
{
if (!_IsMaximized)
DragMove();
if (e.ClickCount == 2)
ChangeWindowState(!_IsMaximized ? WindowState.Maximized : WindowState.Normal);
}
// almacena temporalmente las cordenadas de la ventana y el tamaño de la misma al momento de maximizar
private void _defaults_window_location()
{
_windowLocationX = (int)Left;
_windowLocationY = (int)Top;
_windowSizeHeight = (int)ActualHeight;
_windowSizeWidth = (int)ActualWidth;
}
// Cambia el estado de la ventana maximizado/restaurado.
private void ChangeWindowState(WindowState state)
{
// gui_shell -> instancia de WindowChrome para la personalización de la ventana.
switch (state) {
case WindowState.Maximized:
_defaults_window_location();
Width = WF_SCREEN.PrimaryScreen.WorkingArea.Width;
Height = WF_SCREEN.PrimaryScreen.WorkingArea.Height;
gui_shell.ResizeBorderThickness = new Thickness(0);
LayoutRoot.BorderThickness = new Thickness(0);
Top = 0;
Left = 0;
_IsMaximized = true;
break;
case WindowState.Normal:
Width = _windowSizeWidth;
Height = _windowSizeHeight;
gui_shell.ResizeBorderThickness = new Thickness(6);
LayoutRoot.BorderThickness = new Thickness(1);
Top = _windowLocationY;
Left = _windowLocationX;
_IsMaximized = false;
break;
}
}
#endregion
}
}
Para que quede más claro, aquí dejo capturas de pantalla.
P.D.: Estoy utilizando el WindowChrome que se encuentra por defecto en PresentationFramework.
Aquí una explicación gráfica del problema, y lo que necesito.
Esta es una captura de la esquina superior derecha de la ventana en estado maximizado, como es posible observar, en la primera imágen, no se puede ver una parte de la ventana, mientras que en la otra se ve la totalidad, lo cual estoy buscando.
3022,ios,@property(nonatomic, retain) UITextField *txtTelefono;
@property(atomic, retain) UITextField *txtTelefono;
@property(retain) UITextField *txtTelefono;
¿Cual es la diferencia en estas tres declaraciones?
¿Qué significa una propierdad nonatomic o atomic?
3030,python,Tengo una aplicación desarrollada en Django 1.7, para servir la aplicación estoy utilizando Nginx, Gunicorn y Ubuntu server 12.10. Django me notifica varias veces al día con el siguiente log:
Invalid HTTP_HOST header: 'testp5.mielno.lubin.pl'. You may need to add u'testp5.mielno.lubin.pl' to ALLOWED_HOSTS.
Request repr():
<WSGIRequest
path:/testproxy.php,
GET:<QueryDict: {}>,
POST:<QueryDict: {}>,
COOKIES:{},
META:{'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',
'HTTP_ACCEPT_ENCODING': 'gzip, deflate',
'HTTP_ACCEPT_LANGUAGE': 'pl,en-US;q=0.7,en;q=0.3',
'HTTP_CONNECTION': 'close',
'HTTP_HOST': 'testp5.mielno.lubin.pl',
'HTTP_PROXY_CONNECTION': 'Keep-Alive',
'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 5.1; rv:32.0) Gecko/20100101 Firefox/31.0',
'HTTP_X_FORWARDED_FOR': '94.185.83.100',
'PATH_INFO': u'/testproxy.php',
'QUERY_STRING': '',
'RAW_URI': '/testproxy.php',
'REMOTE_ADDR': '',
'REQUEST_METHOD': 'GET',
'SCRIPT_NAME': u'',
'SERVER_NAME': 'testp5.mielno.lubin.pl',
'SERVER_PORT': '80',
'SERVER_PROTOCOL': 'HTTP/1.0',
'SERVER_SOFTWARE': 'gunicorn/19.3.0',
'gunicorn.socket': <socket._socketobject object at 0x7f5a995783d0>,
'wsgi.errors': <gunicorn.http.wsgi.WSGIErrorsWrapper object at 0x7f5a98a6ee50>,
'wsgi.file_wrapper': <class 'gunicorn.http.wsgi.FileWrapper'>,
'wsgi.input': <gunicorn.http.body.Body object at 0x7f5a98a6e7d0>,
'wsgi.multiprocess': False,
'wsgi.multithread': False,
'wsgi.run_once': False,
'wsgi.url_scheme': 'http',
'wsgi.version': (1, 0)}>
En el ALLOWED_HOSTS de mi aplicación solo tengo la IP del sitio (no tiene dominio aún).
Este es el archivo de configuración de Nginx:
upstream app_server {
server unix:/path/to/gunicorn.sock fail_timeout=0;
}
server {
listen   80;
server_name xxx.xxx.xxx.xxx; # IP
client_max_body_size 4G;
access_log /path/to/nginx-access.log;
error_log /path/to/nginx-error.log;
location /static/ {
alias   /path/to/collect_static/;
}
location /media/ {
alias   /path/to/media/;
}
location / {
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
proxy_set_header Host $http_host;
proxy_redirect off;
if (!-f $request_filename) {
proxy_pass http://app_server;
break;
}
}
# Error pages
error_page 500 502 503 504 /500.html;
location = /500.html {
root /path/to/templates/;
}
}
Los request que producen este error son de distintas IP. ¿Algún consejo para evitar este error?.
3033,html,Problema
Quiero incrustar un html en blogger utilizando un iframe.
Mi código para incrustar funciona pero no aplica los estilos de un css externo.
Si escribo el código HTML directo en Blogger el estilo sí se aplica, pero no quiero estar editando mi código desde Blogger.
Código
<iframe width="100%" height="400"
src="http://www.googledrive.com/host/0Bz6Br9MUV3OCVzV6cUtsQU5DTVE"></iframe>
3046,c#,El código que tengo es el siguiente:
Thread NewThread = new Thread(new ThreadStart(MethodInThread));
NewThread.Start(MyKitchen);
public static void MethodInThread()
{
//Mostrar datos de parámetros
}
3070,python,Buenas tardes a todos, estoy tratando de crear un array con numpy que contenga la pendiente entre cada uno de los puntos realizados con los arrays x e y para finalmente graficarlos con matplotlib.
Estos son los pasos que sigo actualmente:
1. Calculo la pendiente para cada uno de los puntos.
2. Agrego cada pendiente calculada a una lista.
3. La lista que resulta la transformo en un array de numpy.
4. Gráfico ese array con matplotlib.
Este es mi código:
#!/usr/bin/python
# -*- coding: utf-8 -*-
import numpy as np
import matplotlib.pyplot as plt
x = np.array([0,1,2,3,4,5,6])
y = np.array([0,1,2,3,2,1,0])
lista = []
for i in range(len(x)-1):
dy = (y[i+1]-y[i]) / (x[i+1] - x[i])
lista.append(dy)
pendiente = np.asarray(lista)
ejex = len(x)-1
plt.plot(ejex,pendiente,'-m')
plt.show()
¿Alguien conoce una mejor forma de realizar esto?
Muchas gracias.
3088,javascript|jquery,Quisiera colocar un icono en el item seleccionado de un SelectMenu item.
Asi de esta manera.
He conseguido añadir los iconos en el desplegable, pero no consigo ponerlo ahi.
El codigo que he usado es este:
<div class="select-lang">
<?
$check = $sql->query("SELECT * FROM `".PREFIX."langs` WHERE `active` = '1' ORDER BY `int_name` ASC");
echo "<select class='languages'>";
while($show = $check->fetch_object()){
echo "<option value='".$show->lang."' data-class='".$show->lang."' data-title='".$show->int_name."'>".$show->name."</option>";
}
echo "</select>";
?>
</div>
en un principio genero toda la estructura con lo que tengo almacenado en la base de datos.
Ahora con Jquery UI los siguiente:
<script type="text/javascript">
$(document).ready(function(){
$.widget( "custom.iconselectmenu", $.ui.selectmenu, {
_renderItem: function( ul, item ) {
var li = $( "<li>", { text: item.label, "title": item.element.attr( "data-title" ) } );
if ( item.disabled ) {
li.addClass( "ui-state-disabled" );
}
$( "<span>", {
style: item.element.attr( "data-style" ),
"class": "ui-icon " + item.element.attr( "data-class" )
})
.appendTo( li );
return li.appendTo( ul );
}
});
$('.languages')
.iconselectmenu()
.iconselectmenu('menuWidget')
.addClass('ui-menu-icons customicons');
});
</script>
Pues esta es la duda.
Saludos.
3090,javascript|jquery|html,Tengo un inconveniente al hacer responsive mi página.
Sucede que al reducir el tamaño de la pantalla, mi menú normal desaparece para que aparezca uno mas chico como para dispositivo con un botón que se oculta y despliega mis secciones.
El problema está en que al apretar el botón y ocultar el menú, si vuelvo a agrandar la resolución, el menú normal vuelve a aparecer pero con los botones ocultos.
Éste es el enlace de mi página que contiene el siguiente código:
$(document).ready(main);
var contador = 1;
function main() {
$("header nav").hide(); //Ocultamos el Menu
$(".menu_bar").click(function() { //Funcion del Click
$("header nav").slideToggle("slow"); //Mostramos/Ocultamos el Menu al hacer click en el Boton
}); //Terminamos la Funcion del Click
$(".menu_bar").click(function() {
if (contador == 1) {
$('nav').animate({
left: "0"
});
contador = 0;
} else {
contador = 1;
$("nav").animate({
left: "-100%"
});
}
});
}
$(window).resize(function() {
if (window.matchMedia("(min-width: 400px)").matches) {
$("header nav").addClass("show"); //Mostramos el menu
// si estas utilizando hide(), quizá deberías usar show(),
}
});
3100,python,Hace unos pocos meses estuve trabajando en un proyecto con Django 1.6.5, Django-Select2 4.3.1 y Python 2.7 pero me solicitaron pasarla a Django 1.9 y Python 3.4 (No usaba virtualenvs, por tanto todo estaba global en el sistema (instalado con pip)).
Entonces tuve que empezar a usar un virtualenv para el nuevo proyecto y no he podido avanzar puesto que no me reconoce el paquete Django_Select2, he intentado instalando desde el mismo origen y desde otros pero no me ha sido posible.
Esto es parte de mi archivo settings.py:
AUTO_RENDER_SELECT2_STATICS = False
SELECT2_BOOTSTRAP = True
SHARED_APPS = [
'tenant_schemas',  # obligatoria
...
'django_select2',
...
]
TENANT_APPS = [
'tenant_schemas',  # obligatoria
...
'django_select2',
...
]
Y tengo algunos formularios que tienen esta parte en el encabezado:
from django_select2 import Select2MultipleWidget, Select2Widget
Esto sería parte de el archivo forms.py:
class ActividadForm(forms.ModelForm):
def __init__(self, *args, **kwargs):
super(ActividadForm, self).__init__(*args, **kwargs)
todos = Persona.objects.all()
...
class Meta:
model = Actividad
exclude = ('programador', 'estado_ejecucion', 'estado_revision')
widgets = {
'ejecutor': Select2Widget(),
'revisor': Select2Widget(),
...
'beneficiarios_contratistas': Select2MultipleWidget(),
...
}
Si escribo en la terminal python manage.py check ésto es lo que me sale:
Traceback (most recent call last):
File "manage.py", line 10, in <module>
execute_from_command_line(sys.argv)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/management/__init__.py", line 353, in execute_from_command_line
utility.execute()
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/management/__init__.py", line 345, in execute
self.fetch_command(subcommand).run_from_argv(self.argv)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/management/base.py", line 348, in run_from_argv
self.execute(*args, **cmd_options)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/management/base.py", line 399, in execute
output = self.handle(*args, **options)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/management/commands/check.py", line 51, in handle
include_deployment_checks=include_deployment_checks,
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/management/base.py", line 426, in check
include_deployment_checks=include_deployment_checks,
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/checks/registry.py", line 75, in run_checks
new_errors = check(app_configs=app_configs)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/checks/urls.py", line 10, in check_url_config
return check_resolver(resolver)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/checks/urls.py", line 19, in check_resolver
for pattern in resolver.url_patterns:
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/utils/functional.py", line 33, in __get__
res = instance.__dict__[self.name] = self.func(instance)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/urlresolvers.py", line 417, in url_patterns
patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/utils/functional.py", line 33, in __get__
res = instance.__dict__[self.name] = self.func(instance)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/core/urlresolvers.py", line 410, in urlconf_module
return import_module(self.urlconf_name)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/importlib/__init__.py", line 109, in import_module
return _bootstrap._gcd_import(name[level:], package, level)
File "<frozen importlib._bootstrap>", line 2254, in _gcd_import
File "<frozen importlib._bootstrap>", line 2237, in _find_and_load
File "<frozen importlib._bootstrap>", line 2226, in _find_and_load_unlocked
File "<frozen importlib._bootstrap>", line 1200, in _load_unlocked
File "<frozen importlib._bootstrap>", line 1129, in _exec
File "<frozen importlib._bootstrap>", line 1471, in exec_module
File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
File "/home/carolina/Documentos/djcode/python3_virtual/proyectos/ripso_py3d19/ripso_v2/ripso_v2/urls.py", line 39, in <module>
url(r'^agenda/', include('agenda.urls')),
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/site-packages/django/conf/urls/__init__.py", line 52, in include
urlconf_module = import_module(urlconf_module)
File "/home/carolina/Documentos/djcode/python3_virtual/lib/python3.4/importlib/__init__.py", line 109, in import_module
return _bootstrap._gcd_import(name[level:], package, level)
File "<frozen importlib._bootstrap>", line 2254, in _gcd_import
File "<frozen importlib._bootstrap>", line 2237, in _find_and_load
File "<frozen importlib._bootstrap>", line 2226, in _find_and_load_unlocked
File "<frozen importlib._bootstrap>", line 1200, in _load_unlocked
File "<frozen importlib._bootstrap>", line 1129, in _exec
File "<frozen importlib._bootstrap>", line 1471, in exec_module
File "<frozen importlib._bootstrap>", line 321, in _call_with_frames_removed
File "/home/carolina/Documentos/djcode/python3_virtual/proyectos/ripso_py3d19/ripso_v2/agenda/urls.py", line 5, in <module>
from agenda import views
File "/home/carolina/Documentos/djcode/python3_virtual/proyectos/ripso_py3d19/ripso_v2/agenda/views.py", line 9, in <module>
from agenda.forms import *
File "/home/carolina/Documentos/djcode/python3_virtual/proyectos/ripso_py3d19/ripso_v2/agenda/forms.py", line 6, in <module>
from django_select2 import Select2MultipleWidget, Select2Widget
ImportError: cannot import name 'Select2MultipleWidget'
Podrían por favor ayudarme a solucionar este problema? (o indicarme otra forma de usar otro select2 si es el caso) cualquier información no expuesta aquí me la solicitan.
3111,c#,Estoy haciendo un sitio en el que uso Google Maps API, genero coordenadas y busco un sitio específico, luego tomo una captura del sitio con html2canvas para generar una imagen en un <img>, mi pregunta es:
¿Cómo puedo llevar esta imagen al controlador?
Este es el div en el que está la imagen:
<div id="googlemapimage">
<img id="googlemapbinary" width="640" height="480"/>
</div>
En mi controlador estoy usando funciones para transformar la imagen como quiero, pero ingresaban por httppostfilebase, ¿puedo usar la imagen del div en el controlador? Si es así, ¿cómo?
3118,android,Estoy haciendo una aplicación móvil con Processing 3.0.1 (última versión) para Android (la tablet que estoy usando es la Galaxy Tab 3 con Android 4.4.2 para runear el código)
Cuando ejecuto el código en el Java Mode va perfectamente. Pero cuando pongo el Android Mode todo funciona bien menos la función mousePressed() que es como si fuera con retraso, le tengo que hacer tab dos veces para que lleve a cabo algo que en Java Mode lo hace con solo un click.
Estoy usando este código que viene de ejemplo en la web de Processing para asegurarme que no tiene nada que ver con otras cosas que tengo implementadas.
¿Alguien sabe qué puede estar pasando? No encuentro ninguna referencia a esto.
Gracias!
3122,python,Tengo este código y necesito extraer los condes de comentario de los datos XML, calcular (http://python-data.dr-chuck.net/comments_228073.xml) la suma de los números en el archivo y escriba la suma.
Me gustaría saber qué parte código necesito introducir porque yo ya había utilizado diferentes códigos para extraer la suma de los números
import urllib
import xml.etree.ElementTree as ET
serviceurl = 'http://maps.googleapis.com/maps/api/geocode/xml?'
while True:
address = raw_input('Enter location: ')
if len(address) < 1 : break
url = serviceurl + urllib.urlencode({'sensor':'false', 'address': address})
print 'Retrieving', url
uh = urllib.urlopen(url)
data = uh.read()
print 'Retrieved',len(data),'characters'
print data
tree = ET.fromstring(data)
results = tree.findall('result')
lat = results[0].find('geometry').find('location').find('lat').text
lng = results[0].find('geometry').find('location').find('lng').text
location = results[0].find('formatted_address').text
print 'lat',lat,'lng',lng
print location
3125,java|android,Que tal aún no entiendo muy bien lo de las Interfaces, espero y me puedan ayudar de alguna manera, tengo la siguiente Interface:
public interface interface {
HashMap get_data();
Tengo una clase personadonde lleno el HashMap con datos de un formulario:
@Override
public HashMap get_data() {
validate_data();
if (validate_data()) {
HashMap<String, Object> a_hash = new HashMap<>();
a_hash.put("numero", numberSpinner.getSelectedItem().toString());
a_hash.put("nombre", nameEditText.getText().toString());
a_hash.put("descripcion", descriptiondNumberEditText.getText().toString();
return a_hash;
} else
return new HashMap();
}
Ahora quisiera saber como obtener algunos de esos datos en otra clase detallePersona:
public class detallePersona{
public void detalle_persona(){
person = new Person(nombre,descripcion); // <== Aquí quiero meter los datos
}
}
Clase Person
public class Person{
private String nombre;
private String descipcion;
//Más código
}
Se que para obtenerlos en la misma clase es a_hash.get("nombre") pero en otra clase no tengo idea, una disculpa si es fácil.
3126,c#,Jolly Jumpers
Una secuencia es “Jolly Jumper” si el valor absoluto de las diferencias entre valores, existe en la cadena proporcionada.
Entrada: una cadena con números
Salida: true/ false
Prueba:
1432 : true
5142 : false
Este es el código
using System;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
namespace JollyJumpers
{
class MainClass
{
public static void Main(string[] args)
{
try
{
StreamReader inFile = new StreamReader("input.in");
StreamWriter outFile = new StreamWriter("output.out");
MatchCollection matches = Regex.Matches(inFile.ReadLine(), @"\d+");
int quantity;
int[] numbers;
int[] results;
while (!inFile.EndOfStream)
{
quantity = Convert.ToInt32(matches[0].ToString());
numbers = new int[quantity];
results = new int[quantity - 1];
bool flag = true;
for (int i = 0; i < quantity; i++)
numbers[i] = Convert.ToInt32(matches[i + 1].ToString());
for (int i = 0; i < quantity - 1; i++)
results[i] = Math.Abs(numbers[i] - numbers[i + 1]);
for (int i = 0; i < quantity - 2; i++)
{
if (Math.Abs(results[i] - results[i + 1]) != 1)
{
flag = false;
break;
}
}
if (flag)
outFile.WriteLine("Jolly");
else
outFile.WriteLine("Not Jolly");
matches = Regex.Matches(inFile.ReadLine(), @"\d+");
numbers = null;
results = null;
}
Console.Write("Finishing the Program");
Console.Read();
inFile.Close();
outFile.Close();
}
catch (System.IO.FileNotFoundException)
{
Console.WriteLine("File does not exist");
Console.Read();
}
catch
{
Console.WriteLine("Something Unexpected happened");
Console.Read();
}
}
}
}
Cuando se ejecuta el código aparece el siguiente mensaje en la consola
File does not exist
¿Cuál es el problema?
3136,android,Siguiendo un tutorial de androidhive tengo una aplicación que recibe mensajes a través de GCM y además lanza notificaciones push. El problema es que los mensajes no se guardan, por lo tanto al cerrar la aplicación se pierde la información, entonces estoy tratando de hacer un ListView con la lista de los mensajes recibidos mediante la clase GCMintentService, que es la que pienso yo recibe los mensajes en segundo plano.
La idea es insertar el mensaje o mensajes en una base de datos SQLite y mostrarlos en un ListView en mi activity principal.
Esto es lo que he intentado, pero al probar la aplicación, me salta el mensaje de que su aplicación se ha detenido.
GCMintentService.java
El método donde creo yo recibe el mensaje
protected void onMessage(Context context, Intent intent) {
Log.i(TAG, "Received message");
String message = intent.getExtras().getString("price");
displayMessage(context, message);
////CODIGO PARA GUARDAR EL MENSAJE EN LA BASE DE DATOS O INSERTAR LOS      DATOS EN LA BASE DE DATOS
DatabaseHelper db = new DatabaseHelper(context);
db.insertMsg(message);
// notifies user
generateNotification(context, message);
}
MainActivity.java
El código que muestra el ListView
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
dbcon = new SQLController(this);
dbcon.open();
lv = (ListView) findViewById(R.id.listView);
Cursor cursor = dbcon.readData();
String[] from = new String[] { DatabaseHelper.IDs, DatabaseHelper.MSG };
int[] to = new int[] { R.id.ids, R.id.msg };
SimpleCursorAdapter adapter = new SimpleCursorAdapter(
MainActivity.this, R.layout.list_item, cursor, from, to);
adapter.notifyDataSetChanged();
lv.setAdapter(adapter);
SQLcontroler.java
public class SQLController {
private DatabaseHelper DatabaseHelper;
private Context ourcontext;
private SQLiteDatabase database;
public SQLController(Context c) {
ourcontext = c;
}
public SQLController open() throws SQLException {
DatabaseHelper = new DatabaseHelper(ourcontext);
database = DatabaseHelper.getWritableDatabase();
return this;
}
public void close() {
DatabaseHelper.close();
}
//Getting Cursor to read data from table
public Cursor readData() {
String[] allColumns = new String[] { DatabaseHelper.IDs,
DatabaseHelper.MSG };
Cursor c = database.query(DatabaseHelper.TABLE_NAME, allColumns, null,
null, null, null, null);
if (c != null) {
c.moveToFirst();
}
return c;
}
}
DatabaseHelper.java
public class DatabaseHelper extends SQLiteOpenHelper {
public static final int DATABASE_VERSION = 1;
public static final String DATABASE_NAME = "GCM";
public static final String TABLE_NAME = "newsTable";
public static final String IDs = "_id";
public static final String MSG = "MESSAGE";
public DatabaseHelper(Context context) {
super(context, DATABASE_NAME, null, DATABASE_VERSION);
// TODO Auto-generated constructor stub
}
@Override
public void onCreate(SQLiteDatabase db) {
// TODO Auto-generated method stub
db.execSQL("CREATE TABLE " + TABLE_NAME + "(" + IDs + " INTEGER PRIMARY KEY AUTOINCREMENT, " + MSG + " STRING)");
}
@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
// TODO Auto-generated method stub
db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
onCreate(db);
}
/////// INSERTAR MENSAJES EN LA BASE DE DATOS
public void insertMsg(String msg) {
SQLiteDatabase db = getWritableDatabase();
ContentValues cv = new ContentValues();
cv.put("MESSAGE", msg);
db.insert(TABLE_NAME, null, cv);
db.close();
}
}
Comentando en onMessange TEST
protected void onMessage(Context context, Intent intent) {
Log.i(TAG, "Received message");
String message = intent.getExtras().getString("price");
displayMessage(context, message);
////CODIGO PARA GUARDAR EL MENSAJE EN LA BASE DE DATOS O INSERTAR LOS         DATOS EN LA BASE DE DATOS
//   DatabaseHelper db = new DatabaseHelper(context);
// db.insertMsg(message);
// notifies user
generateNotification(context, message);
}
Y este es el LOG de errores al ejecutar la aplicación:
01-25 21:48:05.959  20271-20271/pushnotifications.androidhive.com.pushnotifications E/AndroidRuntime﹕ FATAL EXCEPTION: main
Process: pushnotifications.androidhive.com.pushnotifications, PID: 20271
java.lang.RuntimeException: Unable to start activity ComponentInfo{pushnotifications.androidhive.com.pushnotifications/pushnotifications.androidhive.com.pushnotifications.MainActivity}: android.database.sqlite.SQLiteException: no such column: _id (code 1): , while compiling: SELECT _id, MESSAGE FROM newsTable
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2184)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2233)
at android.app.ActivityThread.access$800(ActivityThread.java:135)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5001)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
at dalvik.system.NativeStart.main(Native Method)
Caused by: android.database.sqlite.SQLiteException: no such column: _id (code 1): , while compiling: SELECT _id, MESSAGE FROM newsTable
at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)
at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:889)
at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:500)
at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)
at android.database.sqlite.SQLiteProgram.<init>(SQLiteProgram.java:58)
at android.database.sqlite.SQLiteQuery.<init>(SQLiteQuery.java:37)
at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:44)
at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1314)
at android.database.sqlite.SQLiteDatabase.queryWithFactory(SQLiteDatabase.java:1161)
at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1032)
at android.database.sqlite.SQLiteDatabase.query(SQLiteDatabase.java:1200)
at pushnotifications.androidhive.com.pushnotifications.SQLController.readData(SQLController.java:38)
at pushnotifications.androidhive.com.pushnotifications.MainActivity.onCreate(MainActivity.java:73)
at android.app.Activity.performCreate(Activity.java:5231)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2148)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2233)
at android.app.ActivityThread.access$800(ActivityThread.java:135)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)
at android.os.Handler.dispatchMessage(Handler.java:102)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5001)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
at dalvik.system.NativeStart.main(Native Method)
3139,android,Buenas, ando luchando desde la mañana con el plugin de cordova de local notifications katzer ... Seguí al pie de la letra los pasos que están en github pero cuando le doy
cordova build
Android me saca un gran error, espero puedan orientarme, y pues si no es mucho pedir también tengo duda de como usarlo puesto nunca lo he implementado, uso cordova 5.4.1
3141,android,Tengo un TabbedActivity con tres Fragments de tipo lista pero me quedan cortados por abajo:
He probado de todo pero no sé que hacer.
Este es el layout del TabbedActivity:
<?xml version="1.0" encoding="utf-8"?>
<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/main_content"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:fitsSystemWindows="true"
tools:context="com.domain.app.TabbedActivity">
<android.support.design.widget.AppBarLayout
android:id="@+id/appbar"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:paddingTop="@dimen/appbar_padding_top"
android:theme="@style/AppTheme.AppBarOverlay">
<android.support.v7.widget.Toolbar
android:id="@+id/toolbar"
android:layout_width="match_parent"
android:layout_height="?attr/actionBarSize"
android:background="?attr/colorPrimary"
app:layout_scrollFlags="scroll|enterAlways"
app:popupTheme="@style/AppTheme.PopupOverlay">
</android.support.v7.widget.Toolbar>
<android.support.design.widget.TabLayout
android:id="@+id/tabs"
android:layout_width="match_parent"
android:layout_height="wrap_content" />
</android.support.design.widget.AppBarLayout>
<android.support.v4.view.ViewPager
android:id="@+id/container"
android:layout_width="match_parent"
android:layout_height="match_parent"
app:layout_behavior="@string/appbar_scrolling_view_behavior" />
</android.support.design.widget.CoordinatorLayout>
Y dentro del ViewPager cargo el ListView:
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical" >
<ListView
android:id="@android:id/list"
android:layout_width="match_parent"
android:layout_height="match_parent" >
</ListView>
</LinearLayout>
Muchas gracias!
EDITO: La solución que me ha funcionado: https://stackoverflow.com/questions/35010886/in-a-tabbed-activity-with-viewpager-the-listview-appears-cut-from-the-bottom/35025680#35025680
3145,java|android,Tengo la url https://www.google.com/maps/@41.3825581,2.1704375,16zque posiciona Barcelona en el mapa, pero me encuentro que no sale digamos el apuntador de la dirección, solo te centra el mapa.
En mi dispositivo tengo varias apps de mapas:
Cytymapper
MAPS.ME
Google Maps
Google Earth
El código que tengo para lanzar el Intent:
Uri uri = Uri.parse("https://www.google.com/maps/@41.3825581,2.1704375,16z");
if (URLUtil.isValidUrl(uri.toString())) {
startActivity( new Intent(Intent.ACTION_VIEW, uri));
}
Me sale un ActionList para escoger Maps o Chrome, si pulso sobre Maps me abre la aplicación maps, pero no me muestra con un indicador la posición, se centra en landmark y punto.
Si indico que se abre con chrome, sale otro ActionList, con las otras aplicaciones de mapas.
Mis dudas son:
¿Cómo hago para lanzar un Intent específico para que se puede abrir con las Apps de Mapas?
¿Cómo puedo visualizar el marcador de la posición dentro de el mapa?
Solucionado:
Para mostrar una localización con marcador y etiqueta
geo:<lat>,<lon>?z=<zoom>&q=<lat>,<lon>(<label>)
Para mostrar la ubicación de Barcelona
geo:41.3825581,2.1704375?z=16&q=41.3825581,2.1704375(Barcelona)
Para mostrar el ActionList que salgan todas las aplicaciones compatibles para posicionar una localización
Uri uri = Uri.parse("geo:41.3825581,2.1704375?z=16&q=41.3825581,2.1704375(Barcelona)");
startActivity( new Intent(Intent.ACTION_VIEW, uri));
Si se quiere mandar la posición directamente a la aplicación Google Maps
Intent intent = new Intent(android.content.Intent.ACTION_VIEW, Uri.parse("geo:41.3825581,2.1704375?z=16&q=41.3825581,2.1704375(Barcelona)"));
intent.setClassName("com.google.android.apps.maps", "com.google.android.maps.MapsActivity");
startActivity(intent);
3161,php,Hago una consulta MySQL (bucle while) para saber las fotos de un producto y cada nombre de foto lo quiero guardar en una variable, no imprimirlo y no sé cómo hacerlo.
Éste es mi código:
$consulta2 = mysql_query("select nombre, alt from fotos where id_producto='$id' ");
$filas2 = mysql_fetch_array($consulta2);
while($filas2 = mysql_fetch_array($consulta2)){
echo $filas2['nombre'];
echo $filas2['alt'];
}
En vez de echo, quiero que mientras dure el bucle se guarden los resultados en variables distintas: la primera foto en $foto1, la segunda en $foto2 y así todas. Cada foto en una variable distinta a la variable de la foto anterior, y lo mismo con los alt.
3173,python,Tengo creada una vista y una URL para cargar un archivo Excel, esto funciona muy bien, ahora necesito agregar un botón con la URL de esta vista.
Me gustaría agregar este botón al costado del botón Add article que se muestra en la siguiente imagen (la imagen es referencial):
La URL sería http://0.0.0.0:8000/admin/cargos/cargo/importar-cargos/
3184,javascript|jquery,Mi duda es como hacer para que todos los elementos de una página web se redimensionen conforme se cambie el tamaño de la ventana.
He probado con JQuery usando el siguiente código:
$(window).resize(function(){
$('*').width($(this).width()).height($(this).height());
});
Pero este código lo único que hace es coger el tamaño actual de la ventana y aplicarlo a todos los elementos, por lo que se ponen todos grandes :).
La idea es hacerlo como el zoom de los navegadores, cuando das a menos se hacen mas pequeños y viceversa...
Saludos.
PD:  No quiero hacerlo con CSS porque me tocaria cambiarselo a 1000 cosas...
3186,android,Necesito crear un aplicación para android que muestre un caracter en 3D. Qué formato o especificación necesita mi caracter 3d para que lo pueda usar en mi app.
3190,python,Hola tengo problema con mi DeleteView en Django 1.8, me sale este error:
TemplateDoesNotExist at /eliminar_tipo_almacen/38/appkardex/tipo_almacen_confirm_delete.html
views.py:
from django.views.generic import ListView, UpdateView, DeleteView
class EliminarTipoAlmacen(DeleteView):
model = Tipo_almacen
success_url = reverse_lazy('lista_tipo_almacen')
urls.py
url(r'^eliminar_tipo_almacen/(?P<pk>\d+)/$', views.EliminarTipoAlmacen.as_view(), name='eliminar_tipo_almacen'
lista_tipo_almace.html:
<table class="table">
<thead>
<th>Nombre</th>
<th>Acciones</th>
</thead>
<tbody>
{% for data in lista_tipo_almacen %}
<tr>
<td>{{ data.descripcion }}</td>
<td>
<a href="{% url 'editar_tipo_almacen' data.pk %}"><span class="glyphicon glyphicon-file">Editar </span></a>
<a href="{% url 'eliminar_tipo_almacen' data.pk %}"><span class="glyphicon glyphicon-trash">Borrar </span></a>
</td>
</tr>
{% endfor %}
</tbody>
tipo_almacen_confirm_delete.html:
{% extends "main.html" %}
{% block contenido %}
<form action="" method="post">{% csrf_token %}
<p>Quieres eliminar "{{ object }}"</p>
<input type="submit" value="Confirmar" />
</form>
{% endblock %}
Esperando su colaboración
3197,php,Estoy creando una aplicación web con Xampp y me gustaría internacionalizarla. Ya creé los archivos .po con gettext y añadí a los ficheros de PHP las indicaciones para que el usuario una vez que seleccione el idioma le aparezca traducido.
Realizo todo esto y no me lo traduce a no ser que sea en Español.
¿Habría alguna manera o tiene que ver la configuración de Apache o PHP?. Si es así os agradecería que me intentaseis solucionar la duda.
Intento solucionar el problema de que me escoja el idioma por la localización.
No se si me explico bien pero el problema que tengo también aparece en este hilo, el cual no se solucionó: https://www.sitepoint.com/community/t/gettext-not-working-under-local-xampp/54975
Un saludo
3198,php,Estoy creando una aplicación web en PHP. Almaceno información en una tabla la cual es volátil ya que hasta que no se pincha en el botón de finalizar no se añade a la base de datos. El problema lo tengo cuando borro algún elemento de la tabla debido a que se me actualiza la página. He probado a guardar la información en una variable y una vez que se recargue la página volver añadirla a la tabla pero no funciona. ¿Alguna otra idea?
3211,html,Tengo un formulario en HTML y javascript cuya funcionalidad principal es almacenar información (texto) en una lista de SharePoint Online (Office 365); así como la actualización de la información tomando como parámetro el ID enviado por QueryString.
El formulario en HTML cuenta con 4 inputs pre-cargados con la API DatePicker que ofrece JQuery.
El problema se encuentra cuando (al seleccionar el input con nombre "Fecha #4"), ese input que tiene el DatePicker no establece la fecha que se encuentra en el input. Al aplicar el código de muestra en el code-snippet que ofrece Stack Overflow en Español, parece que esta misma situación sucede con los inputs Fecha #1 y Fecha #3 disponibles.1
Este es el código usando el editor de código ó code-snippet:
$(document).ready(function() {
/* Set datepicker to specific fields. */
$("#txt_fecha_uno").datepicker({
altFormat: "yyyy-mm-dd"
});
$("#txt_fecha_dos").datepicker({
altFormat: "yyyy-mm-dd"
});
$("#txt_fecha_tres").datepicker({
altFormat: "yyyy-mm-dd"
});
$("#txt_fecha_cuatro").datepicker({
altFormat: "yyyy-mm-dd"
});
});
.data {
float: left;
}
.data > input {
margin-left: 10px;
margin-right: 10px;
}
<!-- Referencias al DatePicker -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="https://jqueryui.com/resources/demos/style.css">
<div id="customers">
<div class="data">
<span>Fecha #1</span>
<input type="text" id="txt_fecha_uno" value="15/08/2010" />
</div>
<div class="data">
<span>Fecha #2</span>
<input type="text" id="txt_fecha_dos" value="08/07/2004" />
</div>
<div class="data">
<span>Fecha #3</span>
<input type="text" id="txt_fecha_tres" value="16/01/2005" />
</div>
<div class="data">
<span>Fecha #4</span>
<input type="text" id="txt_fecha_cuatro" value="06/12/2014" />
</div>
</div>
Como pueden ver, esto no sucede con los otros tres inputs.
No encuentro información similar/duplicada sobre esta situación en particular.
¿Hay alguna manera para que todos los DatePicker funcionen de la misma manera?
1 He revisado en los siguientes navegadores:
Google Chrome versión 47.0.2526.111 fuente
Internet Explorer 11
Mozilla Firefox versión 3.31
Actualización: Se debe establecer el formato de fecha yyyy-mm-dd para guardarlo en la lista de SharePoint solo acepta este formato. No considero que esa sea la causa aunque puedo estar equivocado, ya que, al digitar la fecha en el campo (con formato dd/mm/yyyy), ésta se aplica al DatePicker, incluso, estableciendo el formato dd/mm/yyyy o removiéndolo, las fechas en el input Fecha #3 o cualquiera de los otros inputs no se establece con el valor indicado en el input.
3216,php,Amigos, estoy trabajando en un sistema en Laravel 4.2 en el cual no utilizo el ORM.
Pues verán, luego que el usuario inicia sesión creo:
Session::put('keyUsuario',objUsuario)
Luego, creo un filtro para validar en el cual coloco un:
if(Session::has('keyUsuario'))
De esa manera válido el acceso a los controladores con un:
$this->beforeFilter("nombre_filtro")
Pues verán, luego de cada cierto tiempo se pierde la sesión y me envía a la vista de logueo como está programado, a veces no pasa ni un minuto que inicio sesión y se pierde.
Estoy usando el Driver file y el Lifetime esta en 120.
¿Alguna sugerencia de lo que podría estar pasando?
P.D.: Como servidor local utilizo Wamp Server.
3219,jquery,Buenas gente   tengo el siguiente problema : Tengo un dropdownList que dependiendo de su valor me trae mediante ajax un formulario diferente con su respectivo boton,hasta ahi funciona bien.
<div id="contformularios1">
</div>
$('#dropVal').on('change',function (e) {
//$("#contformularios1").html("");
var tipo = $(this).val();
if (tipo == "1") {
//carga el formulario
var url = "/ZsvalDatabase/Create";
$.get(url, null, function (data) {
var forms = $("#contformularios1").html(data);
});
$("#boton2").hide();
$("#boton3").hide();
$("#boton4").hide();
$("#boton1").show();
}
if (tipo == '2') {
$("#boton1").hide();
$("#boton2").show();
$("#boton3").hide();
// carga al formulario
var url = "/ZsvalWorkflow/Create";
$.get(url, null, function (data) {
$("#contformularios1").html(data);
});
}
if (tipo == '3') {
$("#boton1").hide();
$("#boton2").hide();
$("#boton3").show();
// carga al formulario
var url = "/ZsvalSearch/Create";
$.get(url, null, function (data) {
$("#contformularios1").html(data);
});
}
//if (tipo == '4') {
//    //var url = "/ZsvalVariable/Create";
//    //$.get(url, null, function (data) {
//    //    $("#contformularios1").html(data);
//    //});
//}
})
El error ocurre cuando inserto esos datos en sql mediante el siguiente boton :
$("#boton1").click(function (ev) {
var obj = {
Id: 1,
Cid: $("#cid").parents().children("select").val(),
query: $("#query").parents().children("input").val(),
Result: $("#result").parents().children("input").val(),
Connection: null,
}
//envia el objeto
$.ajax({
type: 'POST',
contentType: false,
url: "/ZsvalDatabase/Create",
dataType: 'json',
contentType: "application/json; charset=utf-8",
data: JSON.stringify(obj),
success: function (data) {
alert(data)
},
})
ev.preventDefault();
})
En vez de insertar el Objeto solo 1 vez,lo hace tantas veces como yo haya llamado diferentes formularios mediante el dropdownlist.
Osea si selecciono el tipo 1,luego selecciono el tipo 2 y luego nuevamente el 1 y lo inserto se me genera un loop que me inserta 3  o mas objetos
public ActionResult Create(Zsvdb zsvdb)
{
if (ModelState.IsValid)
{
db.Zsvdb.Add(zsvdb);
db.SaveChanges();
return RedirectToAction("Index");
}
ViewBag.Cid = new SelectList(db.Connection, "Id", "Cname", zsvdb.Cid);
//return Json(zsvdb, JsonRequestBehavior.AllowGet);
return View(zsvdb);
}
3228,python,Estoy configurando Google App Engine para Python, en el archivo app.yaml existe la opción threadsafe.
¿En qué afecta activar/desactivar esta opción?
application: blog-119911
version: 1
runtime: python27
api_version: 1
threadsafe: yes
3238,php,Realizo una consulta a un archivo .json
y con la respuesta hago una tabla
pero debido a que el archivo .json se actualiza constantemente, necesito estar observando si ese archivo ha cambiado para mostrarlo en tiempo real en la aplicacion, y he intentado pero no consigo el two way data binding.
app.js
(function(){
var myapp = angular.module("appMonitor",[]);
myapp.factory('myService', function($http,$timeout) {
var promise;
var myService = {
get: function() {
if ( !promise ) {
// $http returns a promise, which has a then function, which also returns a promise
promise = $http.get('./json/verifyEmpty.json').then(function (response) {
// The then function here is an opportunity to modify the response
console.log(response.data);
// The return value gets picked up by the then in the controller.
return response.data;
});
}
// Return the promise to the controller
return promise;
}
};
return myService;
});
myapp.controller('monitorCtrl', function(myService,$scope) {
// Call the async method and then do stuff with what is returned inside our own then function
myService.get().then(function(d) {
$scope.response = d;
});
});
})();
verifyEmpty.json
[
{
"name":"luis",
"lastname":"perez",
"age":27,
"gender":"m",
"haircolor":"yellow",
"eyecolor":"brown",
"student":false
},
{
"name":"monse",
"lastname":"chuang",
"age":28,
"gender":"f",
"haircolor":"black",
"eyecolor":"black",
"student":true
},
{
"name":"sarah",
"lastname":"lee",
"age":29,
"gender":"f",
"haircolor":"yellow",
"eyecolor":"green",
"student":true
},
{
"name":"luisa",
"lastname":"ortega",
"age":28,
"gender":"f",
"haircolor":"black",
"eyecolor":"blue",
"student":false
},
{
"name":"diana",
"lastname":"garcia",
"age":27,
"gender":"f",
"haircolor":"brown",
"eyecolor":"brown",
"student":true
}
]
monitor.php
<body ng-app="appMonitor">
<div class="" ng-controller="monitorCtrl">
<table>
<tr>
<th><strong>name</strong></th>
<th><strong>lastname</strong></th>
<th><strong>age</strong></th>
<th><strong>gender</strong></th>
<th><strong>haircolor</strong></th>
<th><strong>eyecolor</strong></th>
<th><strong>student?</strong></th>
</tr>
<tr ng-repeat="r in response" ng-cloak>
<td>{{r.name}}</td>
<td>{{r.lastname}}</td>
<td>{{r.age}}</td>
<td>{{r.gender}}</td>
<td>{{r.haircolor}}</td>
<td>{{r.eyecolor}}</td>
<td ng-show="r.student">Yes</td>
</tr>
</table>
<!-- {{response}} -->
</div>
<script type="text/javascript" src="./js/148libraries/angular.min.js"></script>
<script type="text/javascript" src="./js/app.js"></script>
</body>
3239,c#,A continuación utilizo el siguiente código para guardar y dibujar. Pero al guardar no guarda lo que se dibuja.
using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
namespace ColorMap
{
public partial class Form1 : Form
{
private SolidBrush myBrush;
private Graphics myGraphics;
private bool isDrawing = false;
public Form1()
{
InitializeComponent();
}
private void Form1_Load(object sender, EventArgs e)
{
myBrush = new SolidBrush(panel2.BackColor);
myGraphics = panel1.CreateGraphics();
}
private void panel2_DoubleClick(object sender, EventArgs e)
{
if (colorDialog1.ShowDialog() == DialogResult.OK)
{
panel2.BackColor = colorDialog1.Color;
myBrush.Color = panel2.BackColor;
}
}
private void panel1_MouseUp(object sender, MouseEventArgs e)
{
isDrawing = false;
}
private void panel1_MouseMove(object sender, MouseEventArgs e)
{
if (isDrawing == true)
{
myGraphics.FillEllipse(myBrush, e.X, e.Y, trackBar1.Value, trackBar1.Value);
}
}
private void panel3_DoubleClick(object sender, EventArgs e)
{
//Backgroun canvas
if (colorDialog2.ShowDialog() == DialogResult.OK)
{
panel1.BackColor = colorDialog2.Color;
panel3.BackColor = colorDialog2.Color;
}
}
private void button1_Click(object sender, EventArgs e)
{
//Incializa un componente SaveFileDialog.
SaveFileDialog saveFileDialog = new SaveFileDialog();
//Cuando buscas archivos te muestra todos los .bmp.
saveFileDialog.Filter = "JPeg Image|*.jpg|Bitmap Image|*.bmp|Gif Image|*.gif";
//Titulo
saveFileDialog.Title = "Guardar gráfico como imagen";
// preguntamos si elegiste un nombre de archivo.
if (saveFileDialog.ShowDialog() == DialogResult.OK)
{
//Extención del archivo por defecto segun el filtro del saveFileDialog
switch (saveFileDialog.FilterIndex)
{
case 1:
saveFileDialog.DefaultExt = "jpg";
break;
case 2:
saveFileDialog.DefaultExt = "bmp";
break;
case 3:
saveFileDialog.DefaultExt = "gif";
break;
}
//Obtenemos alto y ancho del panel
int width = panel1.Width;
int height = panel1.Height;
//Inicializamos un objeto BitMap con las dimensiones del Panel
Bitmap bitMap = new Bitmap(width, height);
//Inicializamos un objeto Rectangle en la posicion 0,0 y con dimensiones iguales a las del panel.
//0,0 y las mismas dimensiones del panel porque queremos tomar todo el panel
// o si solo queremos tomar una parte pues podemos dar un punto de inicio diferente y dimensiones distintas.
Rectangle rec = new Rectangle(0, 0, width, height);
//Este metodo hace la magia de copiar las graficas a el objeto Bitmap
panel1.DrawToBitmap(bitMap, rec);
// Y por ultimo salvamos el archivo pasando como parametro el nombre que asignamos en el saveDialogFile
bitMap.Save(saveFileDialog.FileName);
}
}
private void panel1_Paint(object sender, PaintEventArgs e)
{
isDrawing = true;
}
}
}
Quisiera saber 2 cosas:
¿Cómo podría modificar el evento Paint para que se active al hacer
clic en el Panel?
¿Como grabar todo lo que se dibuje en el panel?
3243,java|android,¿Cómo se puede saber si es la primera vez que se inicia la app?
Seria interesante, en el caso que el usuario actualice la aplicación se detecte como nueva o update.
3246,javascript|html,Tengo la siguiente funcion de javascript:
function tipodepsolicitante_event() {
var e = document.getElementById("ContentPlaceHolder1_cbotipodepositantes");
var d = e.options[e.selectedIndex].value;
if (d == "ER") {
document.getElementById('<%= cbotipodocumentosolicitante.ClientID %>').selectedindex = 1;
document.getElementById('<%= cbotipodocumentosolicitante.ClientID %>').disabled = true;
document.getElementById('<%= cbopaisresidenciasolicitante.ClientID %>').disabled = true;
} else {
document.getElementById('<%= cbotipodocumentosolicitante.ClientID %>').disabled = false;
document.getElementById('<%= cbopaisresidenciasolicitante.ClientID %>').disabled = false;
}
}
Ésta se ejecuta en el evento: onchange de otro dropdownlist, esto si funciona ya que al ejecutar la función sí se deshabilitan los controles: cbotipodocumentosolicitante y cbopaisresidenciasolicitante, pero el .selectedindex en la primera linea no funciona.
He probado con muchas funciones para seteo de datos que encontré en internet pero nada funciona.
¿Qué estoy haciendo mal?
3252,php,Estoy realizando una aplicación web y me gustaría que apareciesen los datos decimales con punto o con comas pero siendo en todo la aplicación coherente ya que los datos de la base de datos aparecen con puntos y en el spinner con comas. Me gustaría saber como puedo hacer para que aparezca todo igual ya sea cambiando la configuración del spinner o la de la base de datos(Mysql).
<label id="stockL" for="stock"> Peso por unidad: </label>
<input type="number" id="stock" name="stock" value="<?php echo $Peso ?>"
class="form-control" step="0.25" style="width:100px" min="0" value="0" required/>
3253,c#,Tengo un sistema que maneja muchos tipos de roles de trabajadores (alrededor de 30) en la empresa donde trabajo. Todos tienen datos en común (como datos personales). Lo que me gustaría eficientar es reutilizar código de método para muchos tipos de trabajadores.
Algunos de las clases son: Manager, Director y Employee cada uno debe chequear su hora de entrada y eso lo hago con otra clase llamada Company, entonces tengo tres métodos para la clase:
public class Company
{
public void CheckIn(Director Person)
{
}
public void CheckIn(Employee Person)
{
}
public void CheckIn(Manager Person)
{
}
}
Dependiendo el rol que entre en la empresa suceden diferentes cosas en los accesos de todo el edificio. Espero haberme dado a entender.
3261,c#,¿Como emular un Unit of Work usando EF4 para un proyecto web y tener un único ObjectContext para poder acceder al mismo de manera global en la aplicación?
3285,python,Estoy creando una aplicación de contabilidad. Creé el modelo para las transacciones de la siguiente manera:
Transacciones()
consumidor
monto
tipo_monto
fecha
comentario
En el admin hice que se muestren todas las columnas y también los filtros por cada columna, pero necesito que en una fila nueva se agregue el total de los montos de las transacciones.
¿Hay algún método de agregar este tipo de cosas en el admin?. Agregar un Count por ejemplo.
3290,php,Estoy un poco empezando con php esto y me preguntaba si es posible combinar dos arrays, mas o menos mi idea es esta:
$fruits = array("id"=>"1", "name"=>"banana");
$vegetables = array("id"=>"1", "name"=>"cabbage");
foreach($fruits as $fruit)
{
$results = array("id"=>$fruit->id, "description"=>$fruit->name);
}
// $results = array("id"=>" ", "description"=>" ");
return $results;
Quiero saber si puedo retornar, esos dos array dentro de uno solo, con esas dos keys "id" y "description", hay algún método para hacerlo? he intentado con array_fill_keys pero no funciono. gracias.
3300,c#,¿Existe algún hosting gratuito en ASP.net, C# y SQL Server para hospedar sitio Web personal?
3305,javascript|jquery,Actualmente desarrollo en asp.net c# , html5, javascript, css.
honestamente no soy muy bueno en javascript e intento resolver asuntos investigando.
Bien, tengo una pagina aspx, la cual muestra una grid, pero esta grid le he congelado la primera columna y la primera fila. todo esto funciona perfectamente bien, el ejemplo lo tome de: gridviewscroll.aspcity.idv.tw
Este es el script que utilizo en mi proyecto
http://gridviewscroll.aspcity.idv.tw/Scripts/gridviewScroll.min.js?20130319
Por otro lado, he querido implementar un loading image el cual me funciona pero me interrumpe el grid, lo quiebra, me aparece sin el freeze y fuera de marco. he tratado muchas formas, en la cual concluí que estos dos señores me generan un conflicto, este es un jquery el cual me ayuda en el loading image.
http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js
Hay alguna forma en la cual me puedan ayudar, tal vez seleccionando lo justo y necesario del javascript para que cargue el loading image, el ejemplo del loading image lo tome de aquí:
http://www.aspsnippets.com/Articles/Display-loading-image-while-PostBack-calls-in-ASPNet.aspx
3306,c#|jquery,Buenas,
Tengo este servicio web:
[ScriptMethod(ResponseFormat = ResponseFormat.Json)]
public string ObtenirProvinciaByPoblacio(int CodiProvincia)
{
clsCRUD _ou2 = new clsCRUD();
try
{
_ou2.Connectar();
List<clsProvincies> LlistaProvincies = clsDALProvincies.getList(_ou2, CodiProvincia);
_ou2.Desconnectar();
JavaScriptSerializer jss = new JavaScriptSerializer();
string resultat_Json = jss.Serialize(LlistaProvincies);
return resultat_Json;
}
catch (Exception ex)
{
throw;
}
El cual me devuelve una lista de objetos (En este caso solo hay un objecto en la lista, pero no viene al caso). Y en la función de ajax tengo esto:
$.ajax({
url: "/WebServiceCV.asmx/ObtenirProvinciaByPoblacio",
data: "{'CodiProvincia': '" + Codiprovincia + "' }",
dataType: "json",
type: "POST",
contentType: "application/json; charset=utf-8",
success: function (data) {
$.each(data, function (index, item) {
alert(item);
});
},
error: function (request, status, error) {
alert(request.responseText);
},
failure: function (response) {
alert("arriva al failure");
}
});
En el alert me muestra bien el objeto: [{"Codi":25,"Nom":"LLEIDA"}]
Pero no consigo de ninguna forma coger los valores Codi y Nom para trabajar con ellos. En teoria sería item.Codi o item.Nom ¿verdad?
He intentado varias opciones pero no consigo nada.
3320,python,Tengo esta tabla en web2py:
db.define_table('gastos_generales',
Field('numero_ticket_gasto', 'string'),
Field('tipo_centro_costo', 'reference tipos_centros_costos',requires=IS_EMPTY_OR(IS_IN_DB(db, db.tipos_centros_costos, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('numero_centro_costo_proyecto', 'string'),
Field('fecha_ticket_gasto', 'date'),
Field('tipo_pago', 'reference tipos_pagos',requires=IS_EMPTY_OR(IS_IN_DB(db, db.tipos_pagos, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('moneda', 'reference monedas',requires=IS_EMPTY_OR(IS_IN_DB(db, db.monedas, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('detalle_ticket_gasto', 'string'),
Field('detraccion', 'boolean'),
Field('porcentaje_detraccion', 'double'),
Field('total_venta', 'double'),
Field('monto_detraccion', compute=lambda r: round(r['total_venta'] * r['porcentaje_detraccion'])),
Field('fecha_recepcion', 'date'),
Field('monto_sub_total', 'float'),
Field('monto_impuesto', 'float'),
Field('monto_total_gasto', 'float'),
Field('nota', 'string'),
format='%(numero_ticket_gasto)s')
El campo monto_detraccion es el resultado de total_venta por porcentaje_detraccion, pero no quiero que me redondee el valor sino que me salga con dos dígitos decimales.
3325,python,Tengo esta tabla :
db.define_table('cotizaciones',
Field('numero_ticket', 'reference tickets'),
Field('numero_cotizacion', 'string'),
Field('fecha_registro_cotizacion', 'date', default=now),
Field('reporte_adjunto', 'upload'),
Field('cliente', 'reference clientes', default='',requires=IS_EMPTY_OR(IS_IN_DB(db, db.clientes, '%(cliente)s', zero='---- Elegir Opcion ----'))),
#Field('marca_gg', 'reference marcas_definiciones', requires=IS_EMPTY_OR(IS_IN_DB(db, db.marcas_definiciones, '%(marca)s', zero='---- Elegir Opcion ----'))),
Field('contacto_cotizacion', 'reference contactos', requires=IS_EMPTY_OR(IS_IN_DB(db, db.contactos, '%(contacto_cliente)s', zero='---- Elegir Opcion ----'))),
Field('fecha_cotizacion', 'date',default=now),
Field('servicio_producto_cotizacion', 'reference servicios_productos', requires=IS_EMPTY_OR(IS_IN_DB(db, db.servicios_productos, '%(servicio_producto)s', zero='---- Elegir Opcion ----'))),
Field('tipo_trabajo', 'reference tipos_trabajos', requires=IS_EMPTY_OR(IS_IN_DB(db, db.tipos_trabajos, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('tipo_horario', 'reference tipos_horarios', requires=IS_EMPTY_OR(IS_IN_DB(db, db.tipos_horarios, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('tipo_cotizacion', 'reference tipos_cotizaciones', requires=IS_EMPTY_OR(IS_IN_DB(db, db.tipos_cotizaciones, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('plazo_ejecucion_promedio', 'string', default="Null"),
Field('moneda', 'reference monedas', requires=IS_EMPTY_OR(IS_IN_DB(db, db.monedas, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('alcances_servicio', 'reference alcances_servicios', requires=IS_EMPTY_OR(IS_IN_DB(db, db.alcances_servicios, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('aplica_adicionales', 'boolean'),
Field('aplica_penalidades', 'boolean'),
Field('plazo_pago', 'reference plazos_pagos', requires=IS_EMPTY_OR(IS_IN_DB(db, db.plazos_pagos, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('calidad_acabado', 'reference calidades_acabados', requires=IS_EMPTY_OR(IS_IN_DB(db, db.calidades_acabados, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('calidad_material', 'reference calidades_materiales' ,requires=IS_EMPTY_OR(IS_IN_DB(db, db.calidades_materiales, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('calidad_limpieza', 'reference calidades_limpieza' ,requires=IS_EMPTY_OR(IS_IN_DB(db, db.calidades_limpieza, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('disposicion_desmonte', 'reference disposiciones_desmonte' ,requires=IS_EMPTY_OR(IS_IN_DB(db, db.disposiciones_desmonte, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('tiempo_garantia', 'reference tiempos_garantia', requires=IS_EMPTY_OR(IS_IN_DB(db, db.tiempos_garantia, '%(nombre)s', zero='---- Elegir Opcion ----'))),
Field('porcentaje_gastos_generales', type='decimal(10,2)'),
Field('porcentaje_utilidad', type='decimal(10,2)'),
Field('porcentaje_descuento', type='decimal(10,2)'),
Field('porcentaje_igv', type='decimal(10,2)'),
Field('costo_directo',type='decimal(10,2)'),
Field('gastos_generales',
compute=lambda r: round((r['costo_directo'] * r['porcentaje_gastos_generales'] )/ 100)),
Field('utilidad', compute=lambda r: round((r['costo_directo'] * r['porcentaje_utilidad']) / 100)),
Field('sub_total',
compute=lambda r: round(r['costo_directo'] + r['gastos_generales'] + r['utilidad'])),
Field('descuento', compute=lambda r: round((r['sub_total'] * r['porcentaje_descuento'] )/ 100)),
Field('sub_total_venta', compute=lambda r: round(r['sub_total'] - r['descuento'])),
Field('impuesto_igv', compute=lambda r: round((r['sub_total_venta'] * r['porcentaje_igv'])/100)),
Field('total_venta', compute=lambda r: round(r['sub_total'] + r['impuesto_igv'])),
Field('cotizacion_adjunto', 'upload'),
Field('observaciones', 'text'),
Field('nota', 'text'),
format='%(numero_cotizacion)s')
Que debe hacer cálculo automático, pero al procesar me sale este error:
3331,java|android,Estoy a punto de iniciar una aplicación para Android quiero sacar dos versiones una lite y otra pro.
Las dos versiones tendrán código compartido y dependiendo si es la pro tendrá opciones extras.
Más o menos he leído algo de que se debe hacer con flavors pero soy muy nuevo en el mundo de desarrollo en Android.
3335,python,Estoy queriendo trabajar unos atributos en unos modelos bajo el tipo de campo Field.choice
El contexto de su modelo de datos es el siguiente:
Tengo el modelo/tabla Patient y el modelo/tabla CorporalStructure en donde este último se refiera a las diferentes partes del cuerpo, como el hombro, codo, antebrazo, etcétera.
De esta forma se tiene la siguiente relación en donde 1 paciente tiene muchas estructuras corporales. Al tener este tipo de relación, se genera un ForeignKey llamado Patient_id en la tabla CorporalStructures
Esto quiere decir que cada que quiero crear una estructura corporal debo decir a que paciente pertenece, cosa que no quiero acorde a como tengo concebido mi sistema.
Mi archivo corporal_structure/models.py es el siguiente:
from django.db import models
from metrics.models import Metric
# Create your models here.
class CorporalStructure(models.Model):
CORPORAL_STRUCTURE_CHOICES = (
('Escápula',(
('elevación:40°','Elevación:40°'),
('Descenso:10°','Descenso:10°'),
('retracción:25°','Retracción:25°'),
('protracción:30°','Protracción:30°'),
)
),
('Hombro',(
('flexión:150°-170°','Flexión:150°-170°'),
('extensión:40°','Extensión:40°'),
('abducción (separación):160° a 180°','Abducción (separación):160° a 180°'),
('adducción (acercamiento):20° a 40°','Aducción (acercamiento):20° a 40°'),
('rotación interna con hombro aducido (acercado a tórax):70°','Rotación interna con hombro aducido (acercado a tórax):70°'),
('rotación externa con hombro abducido a 90°:60°','Rotación externa con hombro abducido a 90°:60°'),
('rotación interna con hombro a 90° de abducción:70°','Rotación interna con hombro a 90° de abducción:70°'),
('rotación externa con hombro a 90° de abducción:90°','Rotación externa con hombro a 90° de abducción:90°'),
('movimiento de arco horizontal del hombro de afuera hacia adentro: de 40-50° posterior a 130-160° anterior','Movimiento de arco horizontal del hombro de afuera hacia adentro: de 40-50° posterior a 130-160° anterior'),
('*circunducción: sumatoria de los movimientos anteriores','Circunducción: sumatoria de los movimientos anteriores'),
)
),
('Codo', (
('extensión','Extensión'),
('flexión', 'Flexión'),
)
),
('Antebrazo', (
('supinación','Supinación'),
('Pronación', 'Pronación'),
)
),
('Carpo', (
('flexión palmar','Flexión palmar'),
('flexión dorsal (o extensión)', 'Flexión dorsal (o extensión)'),
('desviación ulnar', 'Desviación ulnar'),
('desviación radial', 'Desviación radial'),
('*circunducción: sumatoria de los movimientos anteriores','Circunducción: sumatoria de los movimientos anteriores'),
),
),
('Mano', (
('aproximación interfalángica','Aproximación interfalángica'),
('separación interfalángica', 'Separación interfalángica'),
('flexión superficial de falanges (se puede hacer en masa, es decir las  5 falanges al tiempo, o de manera individual)', 'Flexión superficial de falanges (se puede hacer en masa, es decir las  5 falanges al tiempo, o de manera individual)'),
('flexión profunda de falanges (se puede hacer en masa, o de manera individual)', 'Flexión profunda de falanges (se puede hacer en masa, o de manera individual)'),
('flexión metacarpofalangica (se puede hacer en masa, o de manera individual)','Flexión metacarpofalangica (se puede hacer en masa, o de manera individual)'),
('extensión de las falanges (se puede hacer en masa o de manera individual)','Extensión de las falanges (se puede hacer en masa o de manera individual)'),
('separación del pulgar','Separación del pulgar'),
('aproximación del pulgar','Aproximación del pulgar'),
('oposición del pulgar','Oposición del pulgar'),
('flexión del pulgar','Flexión del pulgar'),
),
),
)
name = models.CharField(max_length=150, choices=CORPORAL_STRUCTURE_CHOICES, blank=False)
type = models.CharField(max_length=150, blank=False)
freedom_degrees = models.CharField(max_length=150, blank=False)
metrics = models.ManyToManyField(Metric)
patient = models.ForeignKey('userprofile.PatientProfile', null=True, blank=True)
def __str__(self):
return '%s' % (self.name)
Lo que deseo hacer es que cuando se vaya a crear un paciente en el modelo Patient en su formulario se le especifique que estructuras corporales van a examinarse de ese paciente, por lo que en el modelo Patient necesitaría un campo también de tipo Field.choice para ello, solo que sería ya llamar  a los objetos o instancias que han sido creadas en el modelo CorporalStructures en cuanto a su atributo name especificado anteriormente.
Sería algo asi como hacer un query o consulta al modelo CorporalStructure desde el modelo Patient y renderizar esos datos de CorporalStructure.name (por decir cualquier cosa) en un atributo de tipo Field.choice
Django en la documentación lo plantea
Note that choices can be any iterable object – not necessarily a list or tuple. This lets you construct choices dynamically. But if you find yourself hacking choices to be dynamic, you’re probably better off using a proper database table with a ForeignKey. choices is meant for static data that doesn’t change much, if ever.
Mi modelo Patient es este PatientProfile/models.py
class PatientProfile(models.Model):
user = models.OneToOneField(settings.AUTH_USER_MODEL, on_delete=models.CASCADE)
#active = models.BooleanField(default=True)
full_name = models.CharField(max_length=64)
CORPORAL_STRUCTURE_CHOICE =CorporalStructure.objects.all()
corporal_structures = models.CharField(max_length=150, choices=CORPORAL_STRUCTURE_CHOICE, blank=False)
partner_full_name = models.CharField(max_length=64)
partner_phone = models.CharField(verbose_name=u'phone', max_length=25, blank=True)
care_provider = models.CharField(max_length=64, blank=False)
Cuando agregué este campo al modelo PatientProfile
CORPORAL_STRUCTURE_CHOICE =CorporalStructure.objects.all()
corporal_structures = models.CharField(max_length=150, choices=CORPORAL_STRUCTURE_CHOICE, blank=False)
Me aparece este error
django.core.management.base.SystemCheckError: SystemCheckError: System check identified some issues:
ERRORS:
userprofile.PatientProfile.corporal_structures: (fields.E005) 'choices' must be an iterable containing (actual value, human readable name) tuples.
Y entiendo un poco lo que sucede, ya que el atributo corporal_structures al ponerle su propiedad de choices, espera es una lista o tupla o cualquier elemento sobre el cual se pueda iterar y yo lo que le estoy es pasando es el resultado de una consulta tipo ORM, que son los datos que guarde en mi modelo CorporalStructures anteriormente.
CORPORAL_STRUCTURE_CHOICE =CorporalStructure.objects.all()
corporal_structures = models.CharField(max_length=150, choices=CORPORAL_STRUCTURE_CHOICE, blank=False)
Tengo unas dudas también en relación a a concepción de como he pensado las relaciones entre los modelos Patient y CorporalStructure y son:
Yo quiero que cuando guarde un registro de un paciente, pueda seleccionar las estructuras corporales que le trataran a dicho paciente.
La lógica básica me dice que 1 paciente tiene muchas estructuras corporales, pero al ponerseme el Patient_id como llave foránea en la tabla CorporalStructures, lo que me sale es que cada que voy a crear una estructura corporal debo elegir al paciente al que pertenece, de esta forma:
Cuando lo que deseo es poder detallar el campo Field.choice (sus multiples opciones) es decir de esta forma
Pero en el formulario del modelo de PatientProfile.
¿De que manera puedo lograr lo que me propongo?
Sé que esta inquietud es más de diseño ...
¿Necesito una llave foránea de CorporalStructure en PatientProfile o se puede llamar de manera simple la información de las múltiples opciones del Field.choice sin necesidad de una F.K?
Cabe aclarar que los formularios sobre los cuales verifico esto son en el admin de django.
Cualquier orientación será apreciada.
3354,android,Hola estoy haciendo un request usando la librería Volley a un API para obtener muchos registros aproximadamente 8.000 y guardarlos en una BD.
El response del API trae un parámetro count con el total de los objetos y el parámetro next con la siguiente url, por cada request retorna 500 objetos.
Durante el JsonObjectRequest utilizo un ProgressDialog con estilo Spinner, si el request trae objetos en el onResponse del JsonObjectRequest realizo el parse del response en un AsyncTask.
Cuando ejecuto el AsyncTask para realizar el parser y guardar la información en la BD utilizo un ProgressDialog de estilo Horizontal indicando el porcentaje de la tarea.
El problema es el ProgressDialog durante el request a la API este se ejecuta solo la primera vez y desde la segunda me da el siguiente error:
01-28 18:11:52.824 13527-13572/? W/System.err: java.lang.RuntimeException: Can't create handler inside thread that has not called Looper.prepare()
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.os.Handler.<init>(Handler.java:200)
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.os.Handler.<init>(Handler.java:114)
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.view.ViewRootImpl$ViewRootHandler.<init>(ViewRootImpl.java:3108)
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.view.ViewRootImpl.<init>(ViewRootImpl.java:3393)
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:271)
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:85)
01-28 18:11:52.824 13527-13572/? W/System.err:     at android.app.Dialog.show(Dialog.java:298)
01-28 18:11:52.824 13527-13572/? W/System.err:     at com.dominio.sti.api.SincronizarPredios.sincronizar(SincronizarPredios.java:62)
01-28 18:11:52.825 13527-13572/? W/System.err:     at com.dominio.sti.api.SincronizarPredios$ParserPredio.doInBackground(SincronizarPredios.java:167)
01-28 18:11:52.825 13527-13572/? W/System.err:     at com.dominio.sti.api.SincronizarPredios$ParserPredio.doInBackground(SincronizarPredios.java:96)
01-28 18:11:52.825 13527-13572/? W/System.err:     at android.os.AsyncTask$2.call(AsyncTask.java:292)
01-28 18:11:52.825 13527-13572/? W/System.err:     at java.util.concurrent.FutureTask.run(FutureTask.java:237)
01-28 18:11:52.825 13527-13572/? W/System.err:     at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)
01-28 18:11:52.825 13527-13572/? W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)
01-28 18:11:52.825 13527-13572/? W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)
01-28 18:11:52.825 13527-13572/? W/System.err:     at java.lang.Thread.run(Thread.java:818)
Este es el código:
public class SincronizarPredios {
final String url = Constants.getApiUrl();
final Date fecha = new Date();
final PredioSQL predioSQL;
final SincronizacionSQL sincronizacionSQL;
final Context context;
private ProgressDialog progressDialog;
UserLocalStore userLocalStore;
String token;
public SincronizarPredios(Context appContext) {
context = appContext;
predioSQL = new PredioSQL(context);
sincronizacionSQL = new SincronizacionSQL(context);
userLocalStore = new UserLocalStore(context);
progressDialog = new ProgressDialog(context);
progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
progressDialog.setTitle("Conectando con el servidor...");
progressDialog.setMessage("Obteniendo predios...");
progressDialog.setCancelable(false);
}
public void sincronizar(String nextUrl, Integer zona_id) {
String fullUrl = url + "predios/?zona=" + zona_id;
token = userLocalStore.getApiKey();
if (nextUrl != null) {
fullUrl = nextUrl;
}
JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(Request.Method.GET, fullUrl,
new Response.Listener<JSONObject>() {
@Override
public void onResponse(JSONObject jsonResponse) {
progressDialog.dismiss();
new ParserPredio().execute(jsonResponse);
}
},
new Response.ErrorListener() {
@Override
public void onErrorResponse(VolleyError error) {
progressDialog.dismiss();
}
}) {
@Override
public Map<String, String> getHeaders() throws AuthFailureError {
Map<String, String> params = new HashMap<>();
params.put("Content-Type", "application/json");
params.put("Accept", "application/json");
params.put("Authorization", "Token " + token);
return params;
}
};
VolleySingleton.getInstance(context).addToRequestQueue(jsonObjectRequest);
progressDialog.show();
}
public class ParserPredio extends AsyncTask<JSONObject, Integer, Boolean> {
private Integer porcAvance;
private Float division;
ProgressDialog pDialog;
public ParserPredio() {
pDialog = new ProgressDialog(context);
pDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
pDialog.setMessage("Guardando predios...");
pDialog.setCancelable(true);
pDialog.setMax(100);
}
@Override
protected void onPreExecute() {
pDialog.setOnCancelListener(new DialogInterface.OnCancelListener() {
@Override
public void onCancel(DialogInterface dialog) {
ParserPredio.this.cancel(true);
}
});
pDialog.setProgress(0);
pDialog.show();
}
@Override
protected Boolean doInBackground(JSONObject... params) {
try {
JSONObject jsonResponse = params[0];
Integer count = jsonResponse.getInt("count");
if (count > 0) {
JSONArray resultados = jsonResponse.getJSONArray("results");
String next = jsonResponse.getString("next");
division = (float) 100 / resultados.length();
for (int i = 0; i < resultados.length(); i++) {
if(isCancelled()){
break;
}
JSONObject jsonObject = (JSONObject) resultados.get(i);
Integer id_remota = jsonObject.getInt("id");
String nombre = jsonObject.getString("nombre");
String codigo_siscop = jsonObject.getString("codigo_siscop");
String codigo_sap = jsonObject.getString("codigo_sap");
Integer zona = jsonObject.getInt("zona");
Integer distrito = jsonObject.getInt("distrito");
Integer ubicacion = jsonObject.optInt("ubicacion", 0);
Boolean eliminado = jsonObject.getBoolean("eliminado");
Predio predio = predioSQL.getPredio(id_remota);
if (predio != null) {
predio.setNombre(nombre);
predio.setCodigo_siscop(codigo_siscop);
predio.setCodigo_sap(codigo_sap);
predio.setZona(zona);
predio.setDistrito(distrito);
predio.setUbicacion(ubicacion);
predio.setEliminado(eliminado);
predioSQL.updatePredio(predio);
} else {
predio = new Predio(null, id_remota, nombre, codigo_siscop, codigo_sap, zona, distrito, ubicacion, eliminado);
predioSQL.addPredio(predio);
}
porcAvance = (int) Math.round(i * division);
publishProgress(porcAvance);
}
if (next.equals("null")) {
sincronizacionSQL.setFechaSincronizacionModulo("predios", fecha);
} else {
sincronizar(next, null);
}
}
} catch (Exception e) {
e.printStackTrace();
}
return true;
}
@Override
protected void onProgressUpdate(Integer... values) {
int progreso = values[0];
pDialog.setProgress(progreso);
}
@Override
protected void onPostExecute(Boolean result) {
if(result)
{
pDialog.dismiss();
}
}
@Override
protected void onCancelled() {
Toast.makeText(context, "Tarea cancelada!", Toast.LENGTH_SHORT).show();
}
}
}
Quedo atento a sus comentarios, saludos.
3359,html,Para añadir borde a texto y títulos, estoy usando text-shadow y añadiendo múltiples sombras para simular ese efecto:
div {
font-family:verdana;
font-size:50px;
color:white;
text-shadow: 1px  0px 0px black,
0px  1px 0px black,
-1px  0px 0px black,
0px -1px 0px black;
}
<div>TEXTO CON BORDE</div>
Este método funciona bien si el borde es de un sólo píxel, pero no funciona tan bien si el borde es más grueso, ya que habría que añadir más sombras y aún así se ven saltos en las esquinas de las letras:
div {
font-family:verdana;
font-size:50px;
color:white;
text-shadow: 3px  0px 0px black,
0px  3px 0px black,
-3px  0px 0px black,
0px -3px 0px black;
}
<div>TEXTO CON BORDE</div>
Mi pregunta: ¿Existe algún modo de solucionar este problema? (aparte de añadir más sombras). Y a ser posible, que sea un método que funcione en los principales navegadores y que sea estándar (sé que existe text-stroke pero no funciona en IE/Edge o Firefox y no es estándar).
3365,android,Estoy desarrollando una API REST mediante Django. La información la recojo en un JSON. Con los atributos string no hay problema.
Mi duda está con las imágenes. En estos momentos las imágenes las agarro mediante una UEL, pero solo hay una imagen. En cambio si agregamos imágenes en un proyecto Android tenemos la posibilidad/necesidad de subir imágenes en distintas densidades.
¿Qué solución planteáis al respecto? ¿Cómo gestionáis este punto?
3371,c++,Muy buenas a todos, os comento mi problema a ver si alguien tiene más idea que yo. Estoy haciendo un proyecto en ns3 sobre redes voip para un trabajo de la universidad. El supuesto escenario se basa en 2 sedes en las que habrá un numero X e Y de teléfonos en cada sede, todos conectados  a un bridge, y conectado este a un Router. Cada sede tiene un numero X de enlaces con el otro router con el que se balancea carga y medimos ciertos parámetros estadísticos de las llamadas. El problema surge a la hora de crear el escenario, me está siendo imposible crear una configuración de red en la que un número X de teléfonos y un router se conectan a un bridge. Os dejo el código:
Ptr<UniformRandomVariable> varon;
Ptr<UniformRandomVariable> varoff;
//primero creamos los R de salida de cada central
NodeContainer R;
R.Create(2);
//Estos nodos irán unidos por enlaces p2p
//Configuro la topologia p2p
PointToPointHelper p2p;
p2p.SetDeviceAttribute ("DataRate", DataRateValue (velocidades[resultado->velocidad]));
p2p.SetChannelAttribute ("Delay", StringValue ("2ms"));
//Creo los enlaces p2p entre centrales
NetDeviceContainer Rdevices;
for (uint8_t j=0;j<resultado->enlaces;j++){
NetDeviceContainer enlaceRouters = p2p.Install (NodeContainer (R.Get(0), R.Get(1) ) );
Rdevices.Add (enlaceRouters.Get(0));
Rdevices.Add (enlaceRouters.Get(1));
}
//----Esto seria para las centrales. Ahora los telefonos/bridges
NodeContainer terminales1; //Sede1
NodeContainer terminales2; //Sede 2
terminales1.Create(telef1);
terminales2.Create(telef2);
//Añado el R al nodecontainer de los telefonos para realizar los enlaces despues
terminales1.Add(R.Get(0));
terminales2.Add(R.Get(1));
NodeContainer Bridge1;//Sede 1
Bridge1.Create(1);
NodeContainer Bridge2;//Sede 2
Bridge2.Create(1);
PointToPointHelper p2pInterno;
p2pInterno.SetDeviceAttribute ("DataRate", StringValue ("100Mbps"));
p2pInterno.SetChannelAttribute ("Delay", StringValue ("2ms"));
NetDeviceContainer terminales1Devices;
NetDeviceContainer Bridge1Devices;
//Uso telef1+1 porque hemos añadido al NodeContainer de los terminales1 el R.Get(0)
for(uint16_t j=0;j<=telef1;j++){
NetDeviceContainer enlace1 = p2pInterno.Install (NodeContainer(terminales1.Get (j) ,Bridge1)  );
terminales1Devices.Add (enlace1.Get(0));
Bridge1Devices.Add (enlace1.Get(1));
}
NetDeviceContainer terminales2Devices;
NetDeviceContainer Bridge2Devices;
//Uso telef1+1 porque hemos añadido al NodeContainer de los terminales2 el R.Get(1)
for(uint16_t j=0;j<=telef2;j++){
NetDeviceContainer enlace1 = p2pInterno.Install (NodeContainer(terminales2.Get(j),Bridge2)  );
terminales2Devices.Add (enlace1.Get(0));
Bridge2Devices.Add (enlace1.Get(1));
}
//Una vez todos los enlaces creados, instalo el bridge que conmuta paquetes.
Ptr<Node> puente1 = Bridge1.Get(0);
BridgeHelper b1;
b1.Install (puente1, Bridge1Devices);
Ptr<Node> puente2 = Bridge2.Get(0);
BridgeHelper b2;
b2.Install (puente2, Bridge2Devices);
//Añado la pila TCP/IP a los dispositivos
InternetStackHelper stack;
//stack.Install(R); R.get(0) y R.get(1) estan incluidos en terminales, quizas esta linea sobre
stack.Install(terminales1);
stack.Install(terminales2);
Ipv4AddressHelper ipv4;
Ipv4InterfaceContainer telefonosSede1;
ipv4.SetBase ("10.1.0.0","255.255.0.0");
telefonosSede1 = ipv4.Assign (terminales1Devices);
Ipv4AddressHelper ipv4v2;
Ipv4InterfaceContainer telefonosSede2;
ipv4v2.SetBase ("10.2.0.0","255.255.0.0");
telefonosSede2 = ipv4v2.Assign (terminales2Devices);
Ipv4AddressHelper ipv4v3;
Ipv4InterfaceContainer routers;
ipv4v3.SetBase ("10.3.0.0","255.255.255.0");
routers = ipv4v3.Assign (Rdevices);
Ipv4GlobalRoutingHelper::PopulateRoutingTables ();
//Creo aplicacion UDP sumidero y tal.
//Establezco un sumidero de paquetes en cada telefono
//Utilizamos el puerto 5600 para el sumidero
uint16_t port = 5600;
PacketSinkHelper sink ("ns3::UdpSocketFactory", Address (InetSocketAddress (Ipv4Address::GetAny (), port)));
ApplicationContainer sumidero1 = sink.Install(terminales1);
ApplicationContainer sumidero2 = sink.Install(terminales2);
//Creo aplicacion que envia paquetes ON/OFF para simular llamada voip
//Problema con direccionamiento
OnOffHelper clientes ("ns3::UdpSocketFactory",
Address (InetSocketAddress (Ipv4Address::GetAny (), port)));
ApplicationContainer tx1 = clientes.Install(terminales1);
ApplicationContainer tx2 = clientes.Install(terminales2);
varon=CreateObject<UniformRandomVariable>();
varon->SetAttribute("Max", DoubleValue(MAXONVOIP));
varon->SetAttribute("Min", DoubleValue(MINONVOIP));
varoff=CreateObject<UniformRandomVariable>();
varoff->SetAttribute("Max", DoubleValue(MAXOFFVOIP));
varoff->SetAttribute("Min", DoubleValue(MINOFFVOIP));
//Configuramos la aplicación OnOff
clientes.SetConstantRate (DataRate ("64kbps"));
clientes.SetAttribute("OnTime", PointerValue(varon));
clientes.SetAttribute("OffTime", PointerValue(varoff));
//Cambio de cola de ROUTER 1 (por si hace falta)
PointerValue tmp;
R.Get(0)->GetObject<NetDevice>()->GetAttribute("TxQueue",tmp);
Ptr<Object> txQueue = tmp.GetObject();
Ptr<DropTailQueue> dtq = txQueue->GetObject <DropTailQueue>();
NS_ASSERT (dtq!=0);
UintegerValue limit;
dtq->GetAttribute("MaxPackets",limit);
NS_LOG_INFO ("Tamaño de la cola del Router 1: "<<limit.Get()<<" paquetes" );
dtq->SetAttribute("MaxPackets",UintegerValue(100));
dtq->GetAttribute("MaxPackets",limit);
NS_LOG_INFO("Tamaño de la cola del Router 1 cambiado a: "<<limit.Get()<<" paquetes");
//Cambio de cola de ROUTER 2 (por si hace falta)
PointerValue tmp2;
R.Get(1)->GetObject<NetDevice>()->GetAttribute("TxQueue",tmp2);
Ptr<Object> txQueue2 = tmp2.GetObject();
Ptr<DropTailQueue> dtq2 = txQueue->GetObject <DropTailQueue>();
NS_ASSERT (dtq2!=0);
UintegerValue limit2;
dtq2->GetAttribute("MaxPackets",limit2);
NS_LOG_INFO ("Tamaño de la cola del Router 2: "<<limit2.Get()<<" paquetes" );
dtq2->SetAttribute("MaxPackets",UintegerValue(100));
dtq2->GetAttribute("MaxPackets",limit2);
NS_LOG_INFO("Tamaño de la cola del Router 2 cambiado a: "<<limit2.Get()<<" paquetes");
//SUSCRIPCION DE TRAZAS
tx1.Start (Seconds (2.0));
tx2.Start (Seconds (2.0));
tx1.Stop (Seconds (15.0));
tx2.Stop (Seconds (15.0));
Simulator::Run ();
Simulator::Destroy ();
Esta parte del código está referida a la creación del escenario. Y el error que ha hecho que venga aquí a realizar esta pregunta es el siguiente:
[ec2-user@ip-172-31-45-211 ns-3.20]$ ./waf --run simvoip
Waf: Entering directory `/home/ec2-user/ns-allinone-3.20/ns-3.20/build'
[ 816/2290] cxx: scratch/simvoip/simvoip.cc -> build/scratch/simvoip/simvoip.cc.3.o
[2265/2290] cxxprogram: build/scratch/simvoip/Observador.cc.3.o build/scratch/simvoip/simvoip.cc.3.o -> build/scratch/simvoip/simvoip
Waf: Leaving directory `/home/ec2-user/ns-allinone-3.20/ns-3.20/build'
'build' finished successfully (3.877s)
msg="Device does not support SendFrom: cannot be added to bridge.", file=../src/bridge/model/bridge-net-device.cc, line=251
terminate called without an active exception
Command ['/home/ec2-user/ns-allinone-3.20/ns-3.20/build/scratch/simvoip/simvoip'] terminated with signal SIGIOT. Run it under a debugger to get more information (./waf --run <program> --command-template="gdb --args %s <args>").
Dejo tambien la pila del programa, por si sirve:
(gdb) back
#0  0x00007fffef3905f7 in raise () from /lib64/libc.so.6
#1  0x00007fffef391ce8 in abort () from /lib64/libc.so.6
#2  0x00007fffefeb1515 in __gnu_cxx::__verbose_terminate_handler() ()
from /usr/lib64/libstdc++.so.6
#3  0x00007fffefeaf6a6 in ?? () from /usr/lib64/libstdc++.so.6
#4  0x00007fffefeaf6d3 in std::terminate() () from /usr/lib64/libstdc++.so.6
#5  0x00007ffff296a103 in ns3::BridgeNetDevice::AddBridgePort (this=0x790960,
bridgePort=...) at ../src/bridge/model/bridge-net-device.cc:251
#6  0x00007ffff2974af4 in ns3::BridgeHelper::Install (this=0x7fffffffd090,
node=..., c=...) at ../src/bridge/helper/bridge-helper.cc:56
#7  0x0000000000415b29 in simular (resultado=0x7fffffffdbf0,
velocidades=std::map with 1 elements = {...}, observador=0x688ad0,
telef1=100, telef2=100) at ../scratch/simvoip/simvoip.cc:297
#8  0x00000000004130df in main (argc=1, argv=0x7fffffffe1d8)
at ../scratch/simvoip/simvoip.cc:126
Mil gracias de antemano por cualquier respuesta, sé que es un tema muy concreto y es bastante complicado resolverlo.
La foto con el planteamiento del escenario, por si sirve:
Lo unico que faltaria en este escenario serían los bridge's entre Router's y teléfonos
3373,php,Hola amigos de Stack Overflow , necesito de su ayuda para solucionar este problema.
Necesito encontrar la manera de extraer una variable de un sitio externo y luego utilizarla en mi sito. En este caso es una búsqueda en Google Images, necesito mostrar las imágenes en un Array para obtener un listado.
Ejemplo:
<?
$texto = "Búsqueda";$url = " http://images.google.com/search?q=busqueda&tbm=isch ";
$file =file_get_contents($url);
preg_match_all("REGULAR EXPRESSION",
// la búsqueda da estos resultados
http://images.google.es/imgres?imgurl=https://www.busqueda.com/img/
/búsqueda.gif
//Pero Me gustaría extraer con un $_GET la variable "imgurl' ya que es la que muestra el source de la imagen.
Arrar =>
// mostramos
1- echo $file https://www.busqueda.com/img//búsqueda.gif
2 - echo $file  https://www.busqueda.com/img//búsqueda_1.gif
$matches);
?>
No se si es el método adecuado de hacerlo, entiendo que Google tiene una API para las imágenes, pero si pudiese realizarlo de esta manera sería útil. Espero vuestra ayuda.
3391,javascript|android,Hola quisiera alguna sugerencia, trato de abrir el navegador desde una página que se encuentra cargada desde un WebView/UIWebView, en una aplicación iOS o Android por ejemplo:
window.open(
'http://www.stackoverflow',
'_blank'.
);
Por seguridad en los nuevos OS esto puede ser un problema en cuanto a seguridad, pero quisiera una sugerencia de los expertos, ¿alguna posible solución?.
Alguna forma de abrir un url desde el Webview, no importando si requiero el uso de algún Framework, el uso de un Intent o interfaz queda descartado.
3398,php,Uso este charset:
$mailHeader2 .= "Mime-Version: 1.0 \r\n";
$mailHeader2 .= "Content-Type: text/html; charset=utf-8";
3401,php,Tengo dos arrays: A1 y B1.
¿Cómo hago para compararlos y hallar aquellos registros del primer array que tienen alguna diferencia respecto al segundo?
$a1 = Array
(
"0" => Array
(
"Empresa" => "HHH",
"Paga" => "13/01/2015",
"ID" => "M2",
"Valor" => "200",
"Nombre" => "BONI"
),
"1" => Array
(
"Empresa" => "HHH",
"Paga" => "13/01/2015",
"ID" => "M1",
"Valor" => "100",
"Nombre" => "SUELDO"
)
);
$b1 = Array
(
"0" => Array
(
"Empresa" => "HHH",
"Paga" => "13/01/2015",
"ID" => "M1",
"Valor" => "100",
"Nombre" => "SUELDO"
),
"1" => Array
(
"Empresa" => "HHH",
"Paga" => "13/01/2015",
"ID" => "M2",
"Valor" => "200",
"Nombre" => "BONI"
)
);
3422,html,¿Cuál es la diferencia entre estos dos elementos al momento de usarlos para desencadenar un evento? ¿Existe algo que la otra parte no pueda hacer? (aparte de no poder usar el elemento input fuera de un elemento form)
3427,java|android,Estoy creando una splash screen para una aplicación en Android
Parto de un activity .myIntro y llamo la activity .mainActivity desde allí, en mainActivity detecto el evento backPressed para si se pulsa ir atrás, finalice la activity con finish();
Pero me encuentro que, me vuelve hacia myIntro haciendo bucle, si se va deprisa mientra está la activity myIntro en pantalla, pulsando atrás sale de la app.
AndroidManifest.xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="devtest.welcomescreen">
<application
android:allowBackup="true"
android:icon="@mipmap/ic_launcher"
android:label="@string/app_name"
android:supportsRtl="true"
android:theme="@style/AppTheme">
<activity
android:name=".MyIntro"
android:theme="@style/AppTheme.NoActionBar">
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
<activity
android:name=".MainActivity"
android:label="@string/app_name"
android:theme="@style/AppTheme.NoActionBar">
</activity>
</application>
</manifest>
MyIntro.java llamo la activity principal
Intent intent = new Intent(this, MainActivity.class);
startActivity(intent);
MainActivity.java detectar evento volver atrás
@Override
public void onBackPressed() {
Log.d("MainActivity","onBackPressed()");
finish();
}
¿Cómo sería para cerrar definitivamente la aplicación justo en mainActivity?
independientemente de las actividades que estén cargadas anteriormente.
3431,python,He creado un Listbox en Tkinter y quiero un elemento esté seleccionado por defecto, no solo que tenga el foco, sino que esté seleccionado.
He probado con .selection_set(0) y lo resalta, no lo selecciona. Al cambiar a otro widget ya no aparece el elemento resaltado. He visto la posibilidad de añadir el evento:
self.lstbox_tipo_rosca.event_generate("<<ListboxSelect>>")
pero no acabo de ententer. Imagino que crear un bind, pero no lo veo claro. Por favor, ¿me podeis ayudar?. Agradecido de antemano
Amplío la información y añado un ejemplo. Información: Por defecto una provincia está seleccionada, está resaltada. Al pasar de una entrada a otra con Tab desaparece la selección del Listbox.
Lo mismo pasa si no utilizo la tecla Tab, pero señalo una entrada con el cursor para editarla.
Yo quisiera que, de alguna manera, el elemento seleccionado del Listbox apareciera marcado, resaltado, y no fuera necesario añadir una etiqueta para ver el elemento seleccionado.
#  -*- coding: utf-8 -*-
# ejemplo listbox y scrollbar
import tkinter as tk
def cargaTupla():
tplaParaLstbox =  ('ÁLAVA', 'ALBACETE', 'ALICANTE', 'ALMERÍA', 'ASTURIAS',
'ÁVILA', 'BADAJOZ', 'BARCELONA', 'BURGOS', 'CÁCERES', 'CÁDIZ', 'CANTABRIA',
'CASTELLÓN', 'CEUTA', 'CIUDAD_REAL', 'CÓRDOBA', 'CUENCA', 'GERONA',
'GRANADA', 'GUADALAJARA', 'GUIPÚZCOA', 'HUELVA', 'HUESCA', 'ISLAS_BALEARES',
'JAÉN', 'LA_CORUÑA', 'LA_RIOJA', 'LAS_PALMAS', 'LEÓN', 'LÉRIDA', 'LUGO',
'MADRID', 'MÁLAGA', 'MELILLA', 'MURCIA', 'NAVARRA', 'ORENSE', 'PALENCIA',
'PONTEVEDRA', 'SALAMANCA', 'SEGOVIA', 'SEVILLA', 'SORIA', 'TARRAGONA',
'TENERIFE', 'TERUEL', 'TOLEDO', 'VALENCIA', 'VALLADOLID', 'VIZCAYA', 'ZAMORA',
'ZARAGOZA')
return tplaParaLstbox
class LstboxEnsayo:
def __init__(self, parent, listaValores):
self.listaValores = listaValores
indice_def=2
#crea frames
frame_0_0 = tk.Frame(parent)
frame_0_0.grid(row=0, column=0)
frame_1_0 = tk.Frame(parent)
frame_1_0.grid(row=1, column=0)
#
self.creaLstBox(frame_0_0, self.listaValores, indice_def)
self.creaLbl(frame_1_0, indice_def)
self.creaEnt(frame_1_0)
# Muestra con bind el elemento seleccionado
self.lstbox_1.bind('<ButtonRelease>', self.mstraElemSelec)
def creaLstBox(self, parent, listaVisualizar, indice_def):
#Crea scrollbar
scrllbar_1 = tk.Scrollbar(parent, orient = 'vertical')
#Crea listbox
self.lstbox_1 = tk.Listbox(parent, height = 5)
scrllbar_1['command'] = self.lstbox_1.yview # Controla scroll vertical
self.lstbox_1['yscroll'] = scrllbar_1.set #enlaza con el metodo de scrollbar
#carga elementos de la tupla
self.lstbox_1.insert('end', *listaVisualizar)
scrllbar_1.pack(in_=parent, side='right', fill='y')
self.lstbox_1.pack(in_=parent, side='left', fill='both', expand='y')
self.lstbox_1.selection_set(indice_def) #selecciono un elemento por defecto
def mstraElemSelec(self, evento):
indice = int(self.lstbox_1.curselection()[0])
elemento = self.lstbox_1.get(indice)
self.sel_prov_strvar.set(elemento)
def creaLbl(self, parent, indice_def):
lbl_1 = tk.Label(parent, text="Introduce zona: ", anchor='e', width=20)
lbl_1.grid(row=0, column=0)
lbl_2 = tk.Label(parent, text="Introduce calificacion: ", anchor='e',  width=20)
lbl_2.grid(row=1, column=0)
lbl_3 = tk.Label(parent, text="Provincia seleccionada: ", anchor='e',  width=20)
lbl_3.grid(row=2, column=0)
#
self.sel_prov_strvar = tk.StringVar()
pordefecto=self.lstbox_1.get(indice_def)
self.sel_prov_strvar.set(pordefecto)
lbl_4 = tk.Label(parent, textvariable=self.sel_prov_strvar, anchor='e',  width=10)
lbl_4.grid(row=2, column=1)
def creaEnt(self, parent):
entrada1 = tk.Entry(parent, width=10)
entrada1.grid(row=0, column=1)
entrada2 = tk.Entry(parent, width=10)
entrada2.grid(row=1, column=1)
if __name__=="__main__":
vtna_ppal=tk.Tk()
vtna_ppal.geometry("230x200")
tpla_a_visualizar  = cargaTupla()
LstboxEnsayo(vtna_ppal, tpla_a_visualizar)
vtna_ppal.mainloop()
3439,c#,Estoy armando la arquitectura y me falta definir la inyección de dependencias.
La idea es configurar unity en un proyecto de librería de clases para poder reutilizarla (¿es posible esto?)
Tengo la siguiente estructura:
Solucion.Core (Defino las interfaces y modelos)
Solucion.Infrastructure (EF e implementacion de repositorios)
Solucion.Infrastructure.Service (Implementacion de servicios)
--UI
Solucion.Mvc1
Solucion.Mvc2
--WEB API
Solucion.Mvc1.WebApi
Solucion.Mvc2.WebApi
La idea es crear un nuevo proyecto para la inyección:
Solucion.Infrastructure.DependencyInyection
e inyectar las dependencias en los proyectos WebApi que ya tengo definido.
¿Es correcta la arquitectura que estoy siguiendo?
¿Qué pasa si necesito utilizar el proyecto de inyección de dependencia en una o mas class library además de los proyectos WebApi? ¿Cómo puedo hacerlo genérico?
Saludos
3443,html,Hola amigos tengo un problema, tengo una base de datos donde guardo las rutas de imagenes y quiero recuperarlas y mostrarlas en un documento aspx, trato de  agregar las rutas a un listof y tambien pasarlas a una propiedad publica )esto pasar la ruta al atributo src de una etiqueta <img src.../>)  que eh creado pero me sale un error de
img no es miembro de asp.default_aspx
(img es la propiedad que cree), no se que tengo mal necesito su ayuda
Imports System.Data.Sql
Imports System.Data
Imports System.Data.SqlClient
Public Class _Default
Inherits System.Web.UI.Page
Protected Sub Button1_Click(ByVal sender As Object, ByVal e As EventArgs) Handles Button1.Click
Dim dr As SqlDataReader
Dim rutasImg As New List(Of Imagenes)
Dim cn As String
cn = "Data Source=DRACO-PC\SQLEXPRESS; Initial Catalog=Usuarios; User Id=sa;Password=xxx"
Dim conexion As New SqlConnection(cn)
Dim cmd As New SqlCommand()
cmd.Connection = conexion
cmd.CommandText = "SELECT* FROM usuarios"
conexion.Open()
dr = cmd.ExecuteReader()
While dr.Read()
Dim ruta As New Imagenes
ruta.img = dr.Item("Imagen")
rutasImg.Add(ruta)
End While
conexion.Close()
End Sub
End Class
<%@ Page Language="vb" AutoEventWireup="false" CodeBehind="Default.aspx.vb" Inherits="fonix._Default" %>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head runat="server">
<title></title>
</head>
<body>
<div id="muestra"></div>
<form id="form1" runat="server">
<div>
<asp:Button ID="Button1" runat="server" Text="Button" />
</div>
</form>
<img src="<%=Me.img%>" />
</body>
</html>
clase que contiene la propiedad img
Public Class Imagenes
Public Property img As String
End Class
3447,php,Tengo un servidor web y mi hijo de vez en cuando lo administra y toquetea cosas. Normalmente siempre accedo a un archivo .php, hoy sin embargo no pude acceder y cuando revisé el archivo descubrí esta línea de código la cual es la causante de que no pueda entrar.
¿Alguien me dice qué es y cómo acceder al archivo PHP estando esa línea?
if (!isset($_COOKIE['c5ee0b3033f88c8f89f3ab8b50edeca6'])) {header('HTTP/1.0 404 Not Found');exit;} ?>
3454,php,Tengo una cuenta creada en Facebook Developers, yun token generado que nunca expira.
Desde PHP publico correctamente mi post de mi página en Facebook. El problema que sólo yo puedo ver esa publicación. Ni se publica en mi perfil ni en mi página. Queda en un sitio intermedio donde sólo yo puedo verlo.
La app en Facebook Developers esta activa y publicada. Quiero que mis posts de mi blog se publiquen directamente en mi página.
Mi código es simple y funciona perfecto.
$response = (new FacebookRequest(
$session_facebook, 'POST', '/'.$ID.'/feed', $params
))->execute()->getGraphObject();
Los permisos de mi token son, entre otros, manage_pages y publish_actions. Tengo lo mismo en otro proyecto y se publica correctamente. Alguna sugerencia? Gracias por adelantado.
3455,php,Tengo este extraño caso, espero me ayuden. Estoy Tratanto de ordenar el resultado de un array Extraído con DOM  pero no me funciona
Código:
include('../simple_html_dom.php');
$html = file_get_html('http://Google.com/');
$links = array();
$orden= array_splice($links, 0,0,54) // utilizo esta función para ordenar los arrays y mostrar los últimos
foreach($html->find('a') as $a) {
$orden[] = $a->href;
}
print_r($orden);
RESUTADO
Array ( [0] =>
1- link 1 2- link 2  3 - link 3 ............. (Muestra como 50
elementos y quiero limitarlo a 5 por ejemplo )
1- link 1 2- link 2  3 - link 3 4- link 4 5- link 5
En resumen array_splice promete hacer eso pero no funciona, ¿que estoy haciendo mal?
3459,c#,Tengo una aplicación que cuando se ejecuta realiza muchas tareas en las cuales me interesa saber si fueron ejecutadas o no (quién las hace es importante, usuarios). Yo uso un archivo y ahí guardo todo lo que sucede, pero supongo que existe algo mas sofisticado que eso no? Si se guardan a nivel de sistema operativo?
Un poco de mi código:
string Usuario = "", Accion = "";
StreamWriter MiArchivillo = new StreamWriter("Path");
if(Accion=="Hizo cosa1")
MiArchivillo.WriteLine(Usuario + "Hizo cosa1");
if (Accion == "Hizo cosa2")
MiArchivillo.WriteLine(Usuario + "Hizo cosa2");
if (Accion == "Error")
MiArchivillo.WriteLine(Usuario + "Paso Error");
MiArchivillo.Close();
3468,javascript|jquery,Estoy trabajando con tinymce, una librería en Javascript para convertir los elementos <textarea>en editores web. Esta librería requiere jQuery para funcionar. La versión de jQuery disponible en el proyecto en este momento es la 1.5, que por razones de compatibilidad y de código legado no puedo actualizar. Para configurar una opción en tinymce y permitir que los elementos <textarea> se actualicen con la información ingresada antes de enviarlo a través de un <form> me indican adiciona este código:
tinymce.init({
selector: "textarea",
statusbar: false,
setup: function (editor) {
editor.on('change', function () {
tinymce.triggerSave();
});
}
});
El inconveniente ocurre con la variable setup, al asociarlo con la función anónima obtengo un error porque el método .on() no está disponible en mi versión de jQuery. ¿De qué forma puedo convertir esa función para adaptarme a la versión de jQuery que tengo? Ya probé con .live(), .delegate() y .bind() y no obtengo la funcionalidad esperada.
3479,python,Previamente a formular esta pregunta cabe destacar que he consultado varias fuentes buscando alguna respuesta a mi problema. Ninguna de ellas parece haber servido. A pesar de intentar resolver mi problema por mi cuenta, releyendo el código, el error sigue existiendo.
Acá mi código:
import pygame,sys
from pygame.locals import *
from random import randint
pygame.init()
ventana = pygame.display.set_mode((1000,1000))
#abajo se encuentra el fondo de la ventana
#ventana.fill(ColorDos)
pygame.display.set_caption("Retouch")
Mi_imagen = pygame.image.load("Image/meflag.png")
Imagen_Dos = pygame.image.load("Image/Kool-Aid.gif")
posX= randint (100, 300)
posY = randint (101, 200)
velocidad=4
Color = (66, 133 ,244)#Azul
ColorDos = pygame.Color(244, 180, 0)#Amarillo
ColorTres = (244,67,54)#Rojo
ColorCuatro = (0,135,68) #verde
derecha=True
rectangulo = pygame.Rect(0,0,100,50)
print posY, posX
# Color = (244,180,0)
#primero donde, despues, color(tupla u objeto), tupla de cordenadas en X, Y. El ultimo parametro es el tamano del radio.
pygame.draw.circle(ventana, Color, (200, 300), 500)
"""Primero donde, despues que color, despues tupla con cuatro valores.
Los primeros dos valores (X,Y) son la esquina izquierda superior.
El tercer valor es el ancho de nuestro rectangulo.
Y el cuarto valor es el alto del rectangulo:"""
pygame.draw.rect(ventana, ColorCuatro,(100,100,100,50) )
"""Primero donde, despues color, despues el tercer parametro es una tupla con tuplas dentro de esta.
Dentro de esa tupla se encuentras las cordenadas, posiciones (X,Y) de los puntos que al final pygame une."""
pygame.draw.polygon(ventana, ColorTres, ((80,90),(200,400), (80,10))  )
while True:
ventana.fill(ColorDos)
# ventana.blit(Mi_imagen,(posX, posY))
ventana.blit(Imagen_Dos,(posX, posY))
pygame.draw.rect(ventana, ColorTres,rectangulo)
rectangulo.left, rectangulo.top = pygame.mouse.get_pos()
for event in pygame.event.get():
if event.type == QUIT:
pygame.quit()
sys.exit()
"""Este de abajo mueve a Kool-Aid"""
# posX,posY=pygame.mouse.get_pos()
# posX=posX-100
# posY=posY-50
"""Lo de abajo(comentado) mueve la imagen sin parar"""
if derecha==True:
if posX <400:
posX+=velocidad
else:
derecha=False
else:
if posX>1:
posX-=velocidad
else:
derecha=True
#       elif event.type == pygame.KEYDOWN:
#           if event.key == K_LEFT:
#               posX-=velocidad
#           elif event.key == K_RIGHT:
#               posX+=velocidad
pygame.display.update()
¿Cómo puedo resolver este error (pantalla negra)?
¿Cómo puedo evitar esta clase de errores?
3490,c#,Estoy realizando una bibliotecas de clases (DLL) para crear un automation para Dynamics NAV 2009.
Mi idea es crear un DLL que contenga otra embebida Dentro (Ya lo he hecho otras veces) usando :
https://stackoverflow.com/questions/222655/embedding-assemblies-inside-another-assembly
El problema es que para que el automation sea válido para Dynamics NAV 2009 debe ser como máximo compilada en .NET Framework 3.5 pero la DLL embebida que tengo dentro del proyecto como referencia es 4.5
A la hora de compilar me dice lo siguiente :
Gravedad  Código  Descripción Proyecto    Archivo Línea   Estado de supresión
Advertencia       La referencia principal "Microsoft.Dynamics.Nav.MX" no se
pudo resolver porque se generó con la versión de .NET Framework
".NETFramework,Version=v4.5". Esta es una versión posterior a la
versión de .NET Framework de destino actual
".NETFramework,Version=v3.5". Dynasoft.Dynamics.Nav.MX
Hay alguna posibilidad de usar una referencia creada en framework 4.5 para un proyecto en 3.5 ?
Saludos y gracias
3491,android,últimamente he tenido el siguiente problema en Android Studio, en todos los proyectos que tengo y los nuevos, cree uno y también da el error al ejecutar.
FATAL EXCEPTION: main
java.lang.IllegalAccessError: Class ref in pre-verified class resolved to unexpected implementation
at android.support.v7.app.AppCompatDelegateImplV7.createSubDecor(AppCompatDelegateImplV7.java:433)
at android.support.v7.app.AppCompatDelegateImplV7.ensureSubDecor(AppCompatDelegateImplV7.java:279)
at android.support.v7.app.AppCompatDelegateImplV7.setContentView(AppCompatDelegateImplV7.java:253)
at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:109)
at co.com.yogo.kemion.actividades.MainActivity.onCreate(MainActivity.java:30)
at android.app.Activity.performCreate(Activity.java:5010)
at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2023)
at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)
at android.app.ActivityThread.access$600(ActivityThread.java:130)
at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)
at android.os.Handler.dispatchMessage(Handler.java:99)
at android.os.Looper.loop(Looper.java:137)
at android.app.ActivityThread.main(ActivityThread.java:4767)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:511)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:764)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:531)
at dalvik.system.NativeStart.main(Native Method)
La solución troll que he utilizado es:
Limpiar o recompilar proyecto, y así si va.
O también usar 2 terminales, compilar en 1, y la siguiente vez
compilar en otro.
Si ejecuto 2 veces seguidas en el mismo da error.
Muchas gracias, por su ayuda en este asunto.
3495,javascript|php,Estoy haciendo una aplicación web y me gustaría incluir una pagina .php diferente para cada opción del select. Probé con include y con require pero sigue sin funcionarme.
He probado a hacer esto, pero no me funciona:
<select id="idioma" name="idioma">
<option action="<?php require ('../Vista/lang/lang_es.php'); ?>" value="es" selected="selected">Español</option>
<option action="<?php require ( '../Vista/lang/lang_en.php'); ?>" value="en">Inglés</option>
</select>
¿Cómo podría solucionarlo?
3502,python,Estoy echándole un vistazo a Pony ORM y no consigo ver cómo notar el atributo asociado a una relación. Supongamos lo siguiente:
class Vehiculo(db.Entity):
"Modela un vehículo"
matricula = Required(str)
#Otros atributos del vehículo.
accidentes = Set(lambda: Accidente)
class Accidente(db.Entity):
"Modela un accidente de tráfico"
descripcion = Optional(str)
lugar = Required(str)
# Otros atributos más que caracterizan al accidente
accidentados = Set(Vehiculo)
O sea una relación muchos a muchos. Ahora supongamos que como atributo de esa relación muchos a muchos quisiera incluir el attributo culpable, que determina si un determinado vehículo o no ha sido uno de los responsables del accidente. ¿Cómo hago esto?
Sé que en este caso, puedo resolverlo incluyendo el atributo responsables como una colección de Vehiculos en Accidente:
class Accidente(db.Entity):
# [...]
responsables = Set(Vehiculo)
pero no sé si en todos los casos hay una forma de evitar la creación de un atributo de la relación. Además, esto se podría prestar a inconsistencias en la base de datos (un vehículo que está en la colección de responsables, pero no en la de accidentados, por ejemplo).
Otra solución evidente es hacer explícita la entidad que resulta de la relación (y llamarla Parte, por ejemplo).
¿Alguna idea de si se pueden definir atributos para las relaciones? Yo no veo nada en la documentación.
3504,python,Estoy jugando un poco con Python y Bottle. Digamos que tengo mi función en Python para generar un número aleatorio, y pasárselo a la plantilla que le voy a dar a bottle:
@bottle.route('/')
def web_index():
val = int(100*random.random()+1) #num aleatorio de 1 a 100
return bottle.template('my_template', val)
Con la plantilla conteniendo algo del estilo de
Mi valor {{val}}
para mostrar el valor generado. Hasta donde yo sé ese valor se inyecta y "se pierde", es decir, aunque yo puedo hacer bottle.template('my_template', dict(val=val)) no hay forma de recuperar ese diccionario que estoy pasando como contexto a la plantilla al hacer invocaciones GET/POST desde esa plantilla.
Si entonces quisiera añadir dos botones, digamos para incrementar/decrementar el valor generado, mis opciones serían:
Hacer una petición al servidor (HTTP request) y que mi código Python gestione la petición. Tendría que enviar en la petición el valor actual val para modificarlo, ya que en el lado del servidor no tengo más contexto que lo que pase en la URL.
Hacerlo en cliente mediante en JavaScript
Las opciones ni me van ni me vienen (aunque dado que estoy explorando bottle me gustaría tirar más por la opción A). Sin embargo, si en lugar de tener un único valor tengo muchos campos estoy obligado a pasarlos todos sólo para poder "refrescar" el valor de uno.
¿Cuál es, entonces, la mejor forma de proceder para implementar este tipo de funcionalidad (modificar via un botón el valor de un campo en un formulario que puede tener muchos campos) teniendo en cuenta que queremos usar el framework bottle?
3505,android,Quiero hacer que me aparezca un dialogo al pulsar sobre un elemento de un menú, tengo una actividad que hace lo siguiente:
...
@Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.menu_item_activity, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
// Handle action bar item clicks here. The action bar will
// automatically handle clicks on the Home/Up button, so long
// as you specify a parent activity in AndroidManifest.xml.
int id = item.getItemId();
//noinspection SimplifiableIfStatement
if (id == R.id.eliminar) {
eliminar();
return true;
}
return super.onOptionsItemSelected(item);
}
public void eliminar(){
FragmentTransaction ft = getFragmentManager().beginTransaction();
ft.add(android.R.id.content, new FragmentEliminarDialogo());
ft.commit();
}
}
Contenido de FragmentEliminarDialogo.java
import android.annotation.TargetApi;
import android.os.Build;
import android.os.Bundle;
import android.preference.PreferenceFragment;
@TargetApi(Build.VERSION_CODES.HONEYCOMB)
public class FragmentEliminarDialogo extends PreferenceFragment {
public FragmentEliminarDialogo() {
// Constructor Por Defecto
}
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
addPreferencesFromResource(R.xml.dialog);
}
}
Contenido de dialog XML
<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen     xmlns:android="http://schemas.android.com/apk/res/android">
<com.my.personal.project.MyDialogPreference
android:key="dialog"
android:title="pref_delete_dialog"
android:dialogMessage="dialog_text"
android:negativeButtonText="no"
android:positiveButtonText="popup_button_yes"/>
</PreferenceScreen>
Y por ultimo el contenido de MyDialogPreference.java
import android.content.Context;
import android.os.Bundle;
import android.os.Environment;
import android.preference.DialogPreference;
import android.util.AttributeSet;
import android.view.View;
import android.widget.Button;
import java.io.File;
public class MyDialogPreference extends DialogPreference {
public MyDialogPreference(Context context, AttributeSet attrs) {
super(context, attrs);
// TODO Auto-generated constructor stub
}
@Override
protected void onDialogClosed(boolean positiveResult) {
super.onDialogClosed(positiveResult);
persistBoolean(positiveResult);//Esto devuelve si en el dialogo pulsaron aceptar o cancelar (Booleano)
if (positiveResult) {
}
}
}
El problema que tengo es que quiero que salga directamente el dialogo
3507,ios,Estoy tratando de publicar una aplicación en AppStore y me sale este error:
ERROR ITMS-90475: "Invalid Bundle. iPad Multitasking support requires launch storyboard in bundle 'com.companyname.appname.'"
¿Alguien sabe lo que este error realmente significa?
3514,android,Actualmente puedo abrir un DialogPreference definiendolo dentro de un layout:
<DialogPreference
android:key="miDialogo" android:title="Preferencias"
android:dialogLayout="@layout/fun_layout"
android:positiveButtonText="OK"
android:negativeButtonText="Cancel"
/>
¿Como podría abrirlo desde código?, ya no se tienen método expuestos como .Show() o similares...
3522,html,Necesito algo muy simples, quiero hacer un <strike> (tachado) en el texto de un email, p.ej.: tachado.
He encontrado la biblioteca KartikTalwar/gmail.js: Gmail JavaScript API, pero exige unas vueltas tremendas y la creación de una Extensión de Chrome para lograr algo semejante.
A veces uso los snippets JS en el Developer Tools para manipular el DOM de las páginas, pero dudo que sea el camino:
¿Alguna alternativa?
Cross-post en SOpt É possível modificar o HTML na hora de escrever um email no Gmail?. Texto original y traducción manual.
3528,python,Poseo esta porción de código: uso (Tweepy)
firstTweet = api.user_timeline('twitter')[0]
print(firstTweet.text)
print(firstTweet.id)
results = api.retweets(firstTweet.id)
print(results)
Al obtener el resultado obtengo lo siguiente:
[Status(possibly_sensitive=False, in_reply_to_user_id=None, contributors=None, retweeted=False, retweet_count=77, favorite_count=0, created_at=datetime.datetime(2016, 2, 2, 12, 56, 25), text='RT @twitter: Follow conversation about #iCaucused live as the results come in: https://t.co/zLFXyWi2If https://t.co/S4CL0in2Vb', place=None, lang='en', entities={'symbols': [], 'urls': [{'display_url': 'twitter.com/search?q=%23iC…', 'expanded_url': 'https://twitter.com/search?q=%23iCaucused%20&src=typd', 'url': 'https://t.co/zLFXyWi2If', 'indices': [79, 102]}, {'display_url': 'twitter.com/gov/status/694…', 'expanded_url': 'https://twitter.com/gov/status/694324978859274240', 'url': 'https://t.co/S4CL0in2Vb', 'indices': [103, 126]}], 'user_mentions': [{'id_str': '783214', 'screen_name': 'twitter', 'id': 783214, 'name': 'Twitter', 'indices': [3, 11]}], 'hashtags': [{'text': 'iCaucused', 'indices': [39, 49]}]}, user=User(profile_image_url='http://pbs.twimg.com/profile_images/690229058941091840/ddrGbH4l_normal.jpg', is_translator=False, profile_banner_url='https://pbs.twimg.com/profile_banners/4833412558/1453398412', description='', contributors_enabled=False, screen_name='abdulazeeznima2', profile_image_url_https='https://pbs.twimg.com/profile_images/69 .....
Corto por cuestiones de espacio...
Estoy obteniendo información de quién ha hecho RT (o quiénes).... ahora ¿cómo accedo a cada uno de los items ?
Ejemplo:
¿Quién dio RT ?
¿Cuál es su screen_name ?
¿Tiene GEO activado ?
¡Gracias a todos!
Otra pregunta... ¿por qué ese json (si lo es) está mal formado y dónde y cómo puedo formatearlo correctamente para visualizarlo de manera ordenada?
3529,android,Quisiera saber como puedo hacer un ORDER BY u ordenar la consulta de forma ascendente, este es el código que probé pero me manda error de que la aplicación se ha detenido.
public Cursor readData() {
String[] allColumns = new String[] { DatabaseHelper.IDs,
DatabaseHelper.MSG };
Cursor c = database.query(DatabaseHelper.TABLE_NAME, allColumns, null,
null, null, null, null, DatabaseHelper.IDs+" ASC");
if (c != null) {
c.moveToFirst();
}
return c;
}
3533,javascript|c#,Hola soy nuevo en c# y necesito pasar en la siguiente función(PostFailure) en js una variable string de c#. El problema es que el parámetro message tiene un json que no logro entender de dónde llega. Mi código actual es:
Index.cshtml
@using (Ajax.BeginForm("Login", "Account", new AjaxOptions {
HttpMethod = "post", OnBegin = "PostOnBegin", OnFailure =
"PostFailure", OnSuccess = "PostSuccess", OnComplete =
"PostOnComplete" })) {...
anylib.js
function PostFailure(message){
}
La idea sería:
Index.cshtml
@using (Ajax.BeginForm("Login", "Account", new AjaxOptions {
HttpMethod = "post", OnBegin = "PostOnBegin", OnFailure =
"PostFailure(messaje,'hola')", OnSuccess = "PostSuccess", OnComplete =
"PostOnComplete" }))
anylib.js
function PostFailure(message,x){
}
pero me salta error de compilación.
3561,php,He instalado un plugin en wordpress que permite insertar formularios de registro para los usuarios con campos personalizados (en mi caso, "Compañía" y "CIF")
La inserción de datos se realiza correctamente, pero quiero, además, mostrarlos en la sección de usuarios tal y como en la captura de pantalla que adjunto:
Para ello, estoy usando las siguientes funciones que añado al archivo functions.php:
function theme_add_user_company_column( $columns ) {
$columns['company'] = __( 'Compañía', 'theme' );
return $columns;
}
add_filter( 'manage_users_columns', 'theme_add_user_company_column' );
Con este he creado la columna que se visualiza en Usuarios
function theme_show_user_company_data( $value, $column_name, $user_id ) {
if( 'company' == $column_name ) {
return get_user_meta($user_id , 'company', true );
} // end if
} // end theme_show_user_zip_code_data
add_action( 'manage_users_custom_column', 'theme_show_user_company_data', 10, 3 );
Con este otro he llenado la columna con los registros que he introducido en el formulario.
El problema que tengo es que al intentar lo mismo para CIF me dejan de aparecer los datos de compañia. Solo puedo mostrar un tipo de dato cada vez y no se por que puede ser.
3566,python,Tengo la siguiente imagen de prueba:
Y el siguiente script de Python para poder visualizarla usando el paquete PyQtGraph:
import sys
from PyQt4 import QtGui
from PIL import Image
import numpy as np
import pyqtgraph as pg
app = QtGui.QApplication(sys.argv)
img = Image.open('mickey.tif')
a = np.array(img)
pg.image(a)
sys.exit(app.exec_())
Al correr el script, el resultado es el siguiente:
Donde se puede apreciar que el arreglo de NumPy que contiene la matriz de la imagen es interpretado por PyQtGraph según un sistema de coordenadas invertido respecto al usado por programas habituales para manejo de imágenes: visor del SO, motores de navegación web; incluso Matlab, donde se interpreta la matriz NumPy de forma correcta.
Una solución consiste en visualizar el arreglo transpuesto, usando pg.image(a.T), pero esto solo será útil si la imagen es de un solo canal, ya que una imagen de más canales (RGB, por ejemplo) solo pasa un canal a la función pg.image(), dando como resultado:
¿Cuál es la forma correcta, o más adecuada, de obtener el sistema de coordenadas deseado? He buscado en la documentación y no encuentro algo útil. Supongo que utilizar la transpuesta puede complicar la extracción de información de la imagen: como coordenadas a partir de una ROI, valores de píxeles y sus coordenadas.
3567,javascript|html,¿Existe alguna forma en la que pueda obtener el nombre de la maquina (cliente) usando Javascript?
3572,python,Los archivos que tengo son mas de mil, por ejemplo voy a mostrar un ejemplo con archivos del dia 2015133 y 2015134:
2015133_0b088_PEO.txt
2015133_0b088_PED.txt
2015133_0b088_PEN.txt
2015133_0b088_PNO.txt
2015133_0b088_PND.txt
2015133_0b088_PNN.txt
2015134_0b088_PEO.txt
2015134_0b088_PED.txt
2015134_0b088_PEN.txt
2015134_0b088_PNO.txt
2015134_0b088_PND.txt
2015134_0b088_PNN.txt
Y tengo el siguiente código que es para cambiar el nombre de ellos:
import os
paths = (os.path.join(root, filename)
for root, _, filenames in os.walk('C:\\Transforma\\PENS\\') #ubicacion de los archivos a renombrar
for filename in filenames)
for path in paths:
newname = path.replace(
'_0b088_PEO', 'LS.XN.PEO.D'
).replace(
'_0b088_PED', 'LS.XN.PED.D'
).replace(
'_0b088_PEN', 'LS.XN.PEN.D'
).replace(
'_0b088_PNO', 'LS.XN.PNO.D'
).replace(
'_0b088_PND', 'LS.XN.PND.D'
).replace(
'_0b088_PNN', 'LS.XN.PNN.D'
)
print(newname)
if newname != path:
os.rename(path, newname)
La salida de los archivos es la siguiente ya una vez ejecutado el código:
2015133LS.XN.PEO.D.txt
2015133LS.XN.PED.D.txt
2015133LS.XN.PEN.D.txt
2015133LS.XN.PNO.D.txt
2015133LS.XN.PND.D.txt
2015133LS.XN.PNN.D.txt
2015134LS.XN.PEO.D.txt
2015134LS.XN.PED.D.txt
2015134LS.XN.PEN.D.txt
2015134LS.XN.PNO.D.txt
2015134LS.XN.PND.D.txt
2015134LS.XN.PNN.D.txt
Como le puedo hacer para que los primero 7 números los ponga hasta el final, por ejemplo que queden así:
LS.XN.PEO.D.2015.133
LS.XN.PED.D.2015.133
LS.XN.PEN.D.2015.133
LS.XN.PNO.D.2015.133
LS.XN.PND.D.2015.133
LS.XN.PNN.D.2015.133
LS.XN.PEO.D.2015.134
LS.XN.PED.D.2015.134
LS.XN.PEN.D.2015.134
LS.XN.PNO.D.2015.134
LS.XN.PND.D.2015.134
LS.XN.PNN.D.2015.134
3579,java|php,Estoy utilizando json-simple desde Java para recibir y solicitar datos en formato JSON desde PHP. Pero no doy con la manera de hacer el código correcto desde PHP para enviar y recibir y en Java para recibir.
Código JAVA para enviar y recibir
import org.json.simple.JSONObject;
import org.json.simple.JSONValue;
import java.io.BufferedReader;
import java.io.DataOutputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.net.HttpURLConnection;
import java.net.URL;
import java.net.URLEncoder;
import java.util.Arrays;
import java.util.LinkedList;
import java.util.List;
public class JSONManager<T> {
// CLASS PROPERTIES
private static JSONManager ourInstance = new JSONManager();
private static final String USER_AGENT = "Mozilla/5.0";
private static final String SERVER_PATH = "http://localhost/";
// CLASS METHODS
public static JSONManager getInstance() {
return ourInstance;
}
// CONSTRUCTORS
private JSONManager() {
}
// METHODS
public synchronized void send() throws IOException{
// SE AÑADEN ALGUNOS DATOS...
final JSONObject jsonObject = new JSONObject();
jsonObject.put("name","foo");
jsonObject.put("age", 20);
final List listOfJSONObjects = new LinkedList<>(Arrays.asList(jsonObject));
// SE GENERA EL STRING DE JSON...
String jsonString = JSONValue.toJSONString(listOfJSONObjects);
// SE MUESTRA POR CONSOLA EL JSON GENERADO...
System.out.printf("JSON generado: %s \n\n", jsonString);
// SE CODIFICA EL JSON A UNA URL
jsonString = URLEncoder.encode(jsonString, "UTF-8");
String urlString = SERVER_PATH+"onListenerJSONJava.php"; // TODO <-- No se cómo debe ser el código allí.
// SE GENERA UNA URL Y SE ABRE LA CONEXIÓN CON EL SERVIDOR
final HttpURLConnection huc = (HttpURLConnection) new URL(urlString).openConnection();
// SE AÑADE LA CABECERA
huc.setRequestMethod("POST");
huc.setRequestProperty("User-Agent", USER_AGENT);
huc.setRequestProperty("Accept-Language", "en-US,en;q=0.5");
// SE ENVIAN LOS DATOS
final String postParameters = "jsonJAVA="+jsonString;
huc.setDoOutput(true);
final DataOutputStream dos = new DataOutputStream(huc.getOutputStream());
dos.writeBytes(postParameters);
dos.flush();
dos.close();
// SE CAPTURA LA RESPUESTA DEL SERVIDOR
final int responseCode = huc.getResponseCode(); // TODO <-- No se cómo debe ser el código allí.
BufferedReader br = new BufferedReader(new InputStreamReader(huc.getInputStream()));
String inputLine;
StringBuffer response = new StringBuffer();
while ((inputLine = br.readLine()) != null) {
response.append(inputLine);
}
// SE MUESTRA POR CONSOLA EL 'MENSAJE' ENVÍADO AL SERVIDOR Y SU CÓDIGO DE RESPUESTA
System.out.printf("\nSending 'POST' request to URL: %s\nPost parameters: %s\nResponse code: %d\n",
urlString, postParameters,responseCode);
// SE MUESTRA LA RESPUESTA DEL SERVIDOR Y SE CIERRA LA CONEXIÓN
System.out.printf("\nResponse: %s:",response.toString());
br.close();
}
public <T extends Object> T receive() {
// TODO <-- No sé hacerlo aquí.
return null;
}
}
Código PHP para recibir. // Fala enviar...
if(isset($_POST["jsonJAVA"])){
$json = $_POST["jsonJAVA"];
// EN ESTE PUNTO NO SÉ COMO OBTENER EL JSON DESDE MI APP EN JAVA Y RESPONDER POR SUPUESTO...
// TODO
// GUARDAR DATOS EN BBDD SI ES NECESARIO TRAS VALIDARLOS...
// TODO <-- Esto ya sé hacerlo.
}
?>
3593,javascript|jquery,Estoy modificando un tab de bootstrap para tener marcado el que necesite al cargarse la página y no soy capaz de hacerlo de manera dinámica.
Por un lado utilizo esta función (tomada de esta web)
function activaTab(tab){
$('.nav-tabs a[href="' + tab + '"]').tab('show');};
Con lo que solo me faltaría pasarle el valor del enlace a mostrar. El problema es que si escribo directamente el texto funciona:
activaTab('anchor-1');
Pero si tomo el valor de un elemento de la página que contiene el valor #anchor-1 no funciona. Lo último que tengo es un input hidden con el valor.
activaTab($('#enlace-1').val());
Soy bastante novato con el js así que es probable que sea un error básico ;)
Actualización (03-Feb-2016)
Muchas gracias por contestar, amplío el código porque no me he explicado tan claramente como suponía.
Efectivamente a la función le he quitado el # pero porque todos los valores que le pasaba ya van con el #.
El código del tab es este:
<ul class="nav nav-tabs" id="tab1">
<li  {% if tab_anchor == '#pr-val' %} class="active" {% endif %}><a data-toggle="tab" href="#pr-val">Valoración</a></li>
<li  {% if tab_anchor == '#pr-sel' %} class="active" {% endif %}><a data-toggle="tab" href="#pr-sel">Selección </a></li>
<li  {% if tab_anchor == '#pr-des' %} class="active" {% endif %}><a data-toggle="tab" href="#pr-des">Descarte</a></li>
</ul>
Los if son del gestor de plantillas Twig para tener cargado por defecto la pestaña que tenía previamente(al hacer un insert que vuelva a la que tenía marcada).
<div id="pr-val" class="tab-pane fade active in">
<div id="pr-sel" class="tab-pane fade">
<div id="pr-des" class="tab-pane fade">
Con esto tengo la pestaña que quiero marcada pero el div inferior no se corresponde. Entonces lo que hago es buscar el valor del href activo y mostrar el panel. Al no funcionarme y por asegurar que el fallo no venía de ahí, provisionalmente he incluido un input hidden con el valor del anchor seleccionado que tengo en la sesión para tener el valor directo a través del id anchor.
<input id="anchor" type="hidden" name="anchor" value="{{ tab_anchor }}"/>
Y el código javascript sería este:
$('#tab1 a').click(function (e) {
e.preventDefault()
$(this).tab('show')});
function activaTab(tab){
$('.nav-tabs a[href="' + tab + '"]').tab('show');
};
Aquí es cuando si hago la llamada a través de:
activaTab('#pr-des');
funciona, pero si la hago a través de:
activaTab($('#anchor').val());
no funciona, teniendo la variable anchor el valor "#pr-des".
Como poniendo el id del valor "a mano" funcionaba se me ocurrió hacer un switch ya que así le podía llamar directamente.
$(document).ready(function(){
switch($('#anchor').val()) {
case '#pr-val':
activaTab('#pr-val');
break;
case '#pr-sel':
activaTab('#pr-sel');
break;
case '#pr-des':
activaTab('#pr-des');
break;
}
//activaTab('#pr-des');
});
Y así tampoco funciona. En cambio si después del switch, dentro de esa función, des comento el:
activaTab('#pr-des');
y funciona... He probado los cases del switch y entra al que corresponde.
He probado a hacer un alert de lo que muestra la función activaTab y en ambos casos imprime:
.nav-tabs a[href="#pr-des"]
Gracias por echarle un vistazo. Estoy a punto de mandar las tabs al otro barrio y hacer otro tipo de "menú"...
3600,android,Estoy interesado en mostrar solamente el video de una url mediante webview y me gustaria deshacerme de la página en blanco, que aparece al salir del video en fullscreen.
NO USO <iframe> para mostrar el video. ¿hay alguna manera? Os dejo foto del problema
Gracias por adelantado.
A continuacion añado mi codigo:
WebViewActivity.java
private VideoEnabledWebView webView;
private VideoEnabledWebChromeClient webChromeClient;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_example);
Bundle b = getIntent().getExtras();
View nonVideoLayout = findViewById (R.id.nonVideoLayout);
ViewGroup videoLayout = (ViewGroup) findViewById (R.id.videoLayout);
View loadingView = getLayoutInflater().inflate(R.layout.view_loading_video, null);
webView = (VideoEnabledWebView) findViewById (R.id.webView);
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {
webView.getSettings().setMediaPlaybackRequiresUserGesture(false);
getWindow().setFlags(
WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON,
WindowManager.LayoutParams.FLAG_FULLSCREEN);
}
webChromeClient = new VideoEnabledWebChromeClient(nonVideoLayout, videoLayout, loadingView, webView)
{
@Override
public void onProgressChanged(WebView view, int progress)
{
// TODO
}
};
webChromeClient.setOnToggledFullscreen(new VideoEnabledWebChromeClient.ToggledFullscreenCallback() {
@Override
public void toggledFullscreen(boolean fullscreen) {
if (fullscreen) {
WindowManager.LayoutParams attrs = getWindow().getAttributes();
attrs.flags |= WindowManager.LayoutParams.FLAG_FULLSCREEN;
attrs.flags |= WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON;
getWindow().setAttributes(attrs);
if (Build.VERSION.SDK_INT >= 14) {
getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
WindowManager.LayoutParams.FLAG_FULLSCREEN);
}
} else {
if (Build.VERSION.SDK_INT >= 14) {
getWindow().getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_VISIBLE);
}
}
}
});
webView.setWebChromeClient(webChromeClient);
if (urlConElVideo != null) {
webView.loadUrl(urlConElVideo);}
@Override
public boolean onKeyDown(int keyCode, KeyEvent event) {
if ((keyCode == KeyEvent.KEYCODE_BACK) && webView.canGoBack()) {
webView.goBack();
return true;
}
return super.onKeyDown(keyCode, event);
}
3605,javascript|c#,Buenos días. Ya había posteado anteriormente un problema con un formulario ajax, pero sigo sin poder concluir este módulo.
El problema es que cuando abro este Formulario Ajax (que se abre en un dialog y el div del mismo está fuera de cualquier otro formulario - está dentro del layout), agrego los datos y al hacer el submit pasa mas de 1 vez por la acción del controller (hasta 10 veces), como si se hubiese apretado el botón de submit muchas veces, y nunca me borra los datos de los textbox.
<div id='Div-AB-Email' style="display: none">
<div id='Div-Email'></div>
</div>
JS:
function abrirFormEmail() {
Preloader();
preloaderBusquedas("Div-Email");
$("#Div-AB-Email").dialog({
autoOpen: true,
open: function (event, ui) {
$("#Div-Email").load("/EmailPersona/Create");
$("#Mail").val("");
$("#Observaciones").val("");
},
focus: function (event, ui) { $("#Mail").focus(); },
show: {
effect: "blind",
duration: 500,
},
hide: {
effect: "blind",
duration: 500
},
width: 1036,
height: 400,
title: "Email de contacto ",
closeOnEscape: true,
});
PreloaderOff();
}
C#:
public class EmailPersonaController : BaseController
{
public PartialViewResult Create()
{
return PartialView();
}
[HttpPost]
public PartialViewResult Create(EmailPersonaModel model)
{
if (model == null)
return PartialView();
if (model.IdPersona == 0)
{
model.IdPersona = ConsultaIdPersona();
ModelState.Remove("IdPersona");
}
try
{
if (ModelState.IsValid)
{
if (model.Nuevo())
{
model.grabado = true;
ListItemsCarga().Add(model);
var modelnull = new EmailPersonaModel();
return PartialView(modelnull);
}
else
{
return PartialView(model);
}
}
else
{
if (string.IsNullOrEmpty(model.Mail))
TempData["ErrorEmail"] = "Debe escribir el mail que desea agregar a la lista";
}
return PartialView(model);
}
catch (Exception e)
{
if (e.Message == "ERROR: 23505: llave duplicada viola restricción de unicidad «uq_email_per»")
{
TempData["ErrorEmail"] = "El Mail que quiere cargar pertenece a otra persona";
}
return PartialView();
}
}
}
Razor:
@model QBOWEB3.Models.EmailPersonaModel
<script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
@{
ViewBag.Title = "Create";
}
@using (Ajax.BeginForm("Create", "EmailPersona",
new AjaxOptions
{
HttpMethod = "POST",
InsertionMode = InsertionMode.Replace,
UpdateTargetId = "Div-Email"
}))
{
<fieldset>
<h3>Email De Contacto</h3>
<span>@ViewBag.Afiliado</span>
@Html.AntiForgeryToken()
@Html.ValidationSummary(true)
<legend>EmailPersonaModel</legend>
<div id="contenidoEmail">
<table class="TableCampsEdicion">
<tr>
<td class="tdLabel">
@Html.LabelFor(model => model.Mail)
</td>
<td class="tdTextBox">
@Html.EditorFor(model => model.Mail)
</td>
<td class="tdLabel">
@Html.LabelFor(model => model.Observaciones)
</td>
<td class="tdTextBox">
@Html.EditorFor(model => model.Observaciones)
</td>
@Html.EditorFor(model => model.IdPersona)
<td class="tdTextBox">
<input type="submit" value="Agregar" class="botonAzulMediano" style="width: 95px; margin-left: 10px;" />
</td>
</tr>
<tr>
<td class="tdTextBox" colspan="5">
@Html.ValidationMessageFor(model => model.Mail)
@Html.ValidationMessageFor(model => model.Observaciones)
</td>
</tr>
</table>
@*    <div id="itemsEmail">@Html.Action("Index")</div>*@
@if (@TempData["ErrorEmail"] != null && @TempData["ErrorEmail"].ToString() != "")
{
<script>
$(function () {
mensaje("@TempData["ErrorEmail"]");
});
</script>
}
@if (Model != null && Model.grabado)
{
<script>
$(function () {
$("#Mail").val("");
$("#Observaciones").val("");
});
</script>
}
<script>
$(function () {
$("#Mail").focus();
Enter_por_Tab();
PreloaderOff();
})
</script>
</div>
</fieldset>
}
3613,jquery,Tengo un formulario normal y corriente con tecnología razor, del cual obtengo distintos valores de distintos controles y los paso como objeto de AJAX a un servicio web de ASP.NET.
Tengo un Datepicker de jquery del cual tomo la fecha y con ella doy valor a una de las propiedades del objeto Año_inicio.
Este es el objeto:
Uso este código para:
var Atributs = {
"Versio": VersioProv,
"NIF": NIF,
"Id_Experiencia": id_Exp,
"Data_Inici": $("#txtExpDataInici").val(),
"Data_Fi": $("#txtExpDataFi").val(),
"Empresa": $("#txtExpEmpresa").val(),
"Poblacio": $("#txtExpPoblacio").val(),
"Treball": $("#txtExpTreball").val(),
"Motiu_Baixa": $("#txtExpBaixa").val(),
"Persona_Referencia": $("#txtExpPerRef").val(),
"Tel_Persona": $("#txtExpTelPerRef").val(),
"Salari_Brut": $("#txtExpSalariBrut").val()
};
El Datepicker está en formato dd-MM-yyyy, pero si el día supera el nº 12, me da este error y no entra ni al servicio web:
{
"Message":"20-01-2001 no es un valor válido para DateTime.",
"StackTrace":"   en System.ComponentModel.DateTimeConverter.ConvertFrom(ITypeDescriptorContext context, CultureInfo culture, Object value)\r\n
en System.Web.Script.Serialization.ObjectConverter.ConvertObjectToTypeInternal(Object o, Type type, JavaScriptSerializer serializer, Boolean throwOnError, Object\u0026 convertedObject)\r\n
en System.Web.Script.Serialization.ObjectConverter.ConvertObjectToTypeMain(Object o, Type type, JavaScriptSerializer serializer, Boolean throwOnError, Object\u0026 convertedObject)\r\n
en System.Web.Script.Serialization.ObjectConverter.AssignToPropertyOrField(Object propertyValue, Object o, String memberName, JavaScriptSerializer serializer, Boolean throwOnError)\r\n
en System.Web.Script.Serialization.ObjectConverter.ConvertDictionaryToObject(IDictionary`2 dictionary, Type type, JavaScriptSerializer serializer, Boolean throwOnError, Object\u0026 convertedObject)\r\n
en System.Web.Script.Serialization.ObjectConverter.ConvertObjectToTypeInternal(Object o, Type type, JavaScriptSerializer serializer, Boolean throwOnError, Object\u0026 convertedObject)\r\n
en System.Web.Script.Serialization.ObjectConverter.ConvertObjectToTypeMain(Object o, Type type, JavaScriptSerializer serializer, Boolean throwOnError, Object\u0026 convertedObject)\r\n
en System.Web.Script.Services.WebServiceMethodData.StrongTypeParameters(IDictionary`2 rawParams)\r\n
en System.Web.Script.Services.WebServiceMethodData.CallMethodFromRawParams(Object target, IDictionary`2 parameters)\r\n
en System.Web.Script.Services.RestHandler.InvokeMethod(HttpContext context, WebServiceMethodData methodData, IDictionary`2 rawParams)\r\n
en System.Web.Script.Services.RestHandler.ExecuteWebServiceCall(HttpContext context, WebServiceMethodData methodData)",
"ExceptionType":"System.FormatException"
}
Es como si AJAX detectara que estoy en formato MM-dd-yyyy y como paso del nº 12, me da el error.
Tengo que dar algún formato a la fecha antes de enviarla al servicio web?
3615,html,Necesito saber cuál es el formato correcto para compartir la página web mediante enlace directo.
He encontrado el siguiente formato para compartir enlaces en Facebook:
https://www.facebook.com/sharer/sharer.php?u=[ENLACE]
&picture=[URL DE LA IMAGEN]
&title=[TITULO]
&description[DESCRIPCION]
He investigado y encontré formatos generales y sus respectivos atributos pero no se encuentran todas las etiquetas disponibles para el formato.
En google sólo encontré el formato para compartir el enlace:
https://plus.google.com/share?url=[ENLACE]
Para Twitter quiero saber como compartir una imagen.
Pero me gustaría saber cuales son los valores para añadir una imagen, ponerle el titulo y la descripción.
Me interesa poder hacerlo sin tener que usar meta tags, pues considero que son innecesarias.
Muchas gracias.
3616,php,Estoy aprendiendo a programar webs dinámicas con php usando el framework codeigniter y tengo una primera web dinámica hecha en mi PC (localhost) con algunas cosas (formulario de registro, log in y envío de mails desde formulario de contacto) que quiero probar desde un servidor web real.
Luego de pasar mucho trabajo arreglando las rutas de la página, modificando el .htaccess y el config.php para adaptar todo al server, la página funciona pero solo me permite entrar al controlador principal, el que viene por defecto, mandando el error 404 de codeigniter si quiero entrar por otro controlador.
Tengo configuradas las URL cortas (para no tener que ingresar el molesto index.php para entrar a cada controlador, pero no funciona).
Ejemplo, si entro a:
www.nombredemiweb.com/index.php/controlador
me da error 404, igual que si entro a:
www.nombredemiweb.com/controlador
¿A qué se puede deber esto?
Desde ya muchas gracias.
3623,java|android,Reedito la pregunta para que se entienda mejor de lo que pretendo realizar
Estoy realizando una vista detalle con la actionbar expansible
En la guia de estilo de google se especifica que si la imagen es muy clara, mejor ponerle un degradado oscuro encima, para así resaltar si el texto es claro (blanco).
¿Cómo se puede solapar dos imágenes usando la librería Glide en Android?
3634,c#,Tengo una pregunta, ¿es correcto inicializar una propiedad full en el ViewModel de la siguiente manera?
public class MainViewModel : ViewModelBase
{
private ObservableCollection<Driver> _drivers = new ObservableCollection<Driver>();
public ObservableCollection<Driver> Drivers
{
get { return _drivers; }
set { _drivers = value;
RaisePropertyChanged();
}
}
}
¿Es correcto?, ¿es una mala práctica? o ¿se debe realizar de otra manera?. Mi pregunta surge ya que estaba tratando de llenar esa colección con un método que inicializaba el campo pero los cambios no se me reflejaban en el XAML que esta enlazado a la propiedad Drivers, Solo instanciando el campo _drivers de esta manera logre que funcionara.
Gracias.
3642,jquery,Tengo este menu
<ul class="nav menu">
<li class="active">
<a href="admin.php">
<svg class="glyph stroked dashboard-dial">
<use xlink:href="#stroked-dashboard-dial"></use>
</svg> Inicio</a>
</li>
<li>
<a href="#" onclick="load_div('contenido','archivo.php')">
<svg class="glyph stroked calendar">
<use xlink:href="#stroked-calendar"></use>
</svg> Registrar</a>
</li>
<li >
<a href="#" onclick="load_div('contenido','archivo.php')">
<svg class="glyph stroked line-graph">
<use xlink:href="#stroked-line-graph"></use>
</svg> Registrar</a>
</li>
</ul>
Quiero que se agregue la clase active al elemento <li> cuando se seleccione el elemento <a> interno.
3649,c#,Tengo que armar un sistema de login y que dicho sistema que se pueda reutilizar en dos proyectos mvc
El modelo (segun la arquitectura) quedo de la siguiente manera:
Usuario: usu, contraseña, emailConfirmado, etc
Cliente: usuarioId, email, etc.
Empleado: usuarioId, email, etc.
A su vez, el modelo tiene otras tablas para la seguridad:
Usuario_Permiso: usuarioId, permisoId
Permiso: permisoId, desc
Rol_Permiso: rolId, permisoId
Rol: rolId, desc
Usuario_Rol: usuarioId, rolId
Mi pregunta es ¿es recomendable extender el asp.net mvc5 identity o es preferible utilizar mi propio sistema de login?
Saludos
3689,c#,He encontrado en diferentes fuentes algunos ejemplos para exportar la información contenida en un control GridView (ASP.NET) o en un DataTable a un archivo .xls o .xlsx (Excel) desde C#.
En otra fuente, he encontrado el siguiente fragmento de código:
/// <summary>
/// Fuente: http://www.codeproject.com/Tips/344604/Export-to-EXCEL-from-Datatable-in-Csharp-Net
/// </summary>
/// <param name="dt"></param>
public void ExportToExcel(DataTable dt, String nombreDelArchivo)
{
if (dt.Rows.Count > 0)
{
StringWriter tw = new StringWriter();
HtmlTextWriter hw = new HtmlTextWriter(tw);
DataGrid dgGrid = new DataGrid();
dgGrid.DataSource = dt;
dgGrid.DataBind();
// Get the HTML for the control.
dgGrid.RenderControl(hw);
Response.ContentType = "application/xls";
Response.AppendHeader("Content-Disposition", "attachment; filename=" + nombreDelArchivo + "");
Response.Write(tw.ToString());
Response.End();
}
}
Al ejecutar la funcionalidad anterior, obtengo el archivo Excel:
Pero antes de ver el contenido del archivo Excel, aparece la siguiente advertencia:
Después de presionar el botón Sí de la alerta anterior; el archivo se muestra correctamente.
Para eliminar la alerta anterior, he intentado:
Cambiar la extensión del archivo a generar (.xls, .xlx, .xlsx).
Usar el Content-Type application/application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
application/vnd.ms-excel
application/xlsx
application/xls
Según la fuente; es una característica de seguridad; pero me preguntaba si existe otra manera de generar un archivo Excel desde C#, teniendo como base la información almacenada en un GridView o en un DataTable que en lo posible no genere este tipo de mensajes.
3692,c#,Tengo una aplicación web hecha en .aspx. El código que se encuentra atrás esta hecho en C#.
Mi aplicación funciona bien, uno de los objetivos es crear un repertorio en la computadora local dependiendo de que usuario la ejecute a partir del navegador de internet deseado.
La aplicación ya esta publicada en IIS, pero no encuentro la forma de crear este repertorio.
Estoy usando Directory.CreateDirectory pero el repertorio solo se crea localmente (donde esta instalada la aplicacion web)
De que forma podría lograr esto?
Muchas gracias de ante mano.
3694,c#,Error al hacer depuración por diagnostico de instrumentación. En visual studio 2013
El resultado fue el siguiente
Generación de perfiles iniciada.
Instrumentando C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI\bin\Debug\SAPInterfacesUI.exe en contexto
Mensaje informativo VSP3049: las funciones pequeñas se excluirán de la instrumentación.
Instrumentación posterior a la vinculación de Microsoft (R) VSInstr 12.0.30723 x86
(C) Microsoft Corp. Reservados todos los derechos.
Archivos para procesar:
C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI\bin\Debug\SAPInterfacesUI.exe --> C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI\bin\Debug\SAPInterfacesUI.exe
Se realizó una copia de seguridad del archivo original en C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI\bin\Debug\SAPInterfacesUI.exe.orig
Error VSP1014: No se pudo realizar la operación de E/S de escritura en el archivo 'C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI\bin\Debug\SAPInterfacesUI.exe'.
PRF0002: Error de instrumentación con estas opciones: /u "C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI\bin\Debug\SAPInterfacesUI.exe"   /excludesmallfuncs. Consulte la ventana de salida para obtener detalles adicionales.
Se escribieron datos en C:\Users\juansp\Dropbox\material de estudio\DesarrolloJuanSP_SAP\ProyectoInterFacesSAP\SAPInterfacesUI160204(4).vsp.
Generación de perfiles finalizada.
El archivo no contiene búferes de datos
El archivo no contiene búferes de datos
Error en el análisis
Generación de perfiles completa.
3709,c#,Tengo un par de dudas sobre la función de este archivo .edmx generado con Entity F. específicamente en operaciones CRUD, leí su definición en la página oficial pero aún no logro despejar dudas:
¿Sustituye a la base de datos dentro del proyecto?
¿Es el "puente" entre una consulta y la base de datos?
3719,android,Tengo un BQ Aquaris E5 y un ordenador son sistema operativo Windows 10. Cuando intento probar las aplicaciones que desarrollo con android-studio en el teléfono no me aparece el dispositivo.
Sin embargo el ordenador si que reconoce el teléfono y ya he permitido las aplicaciones de orígenes desconocidos en el móvil.
¿Como puedo solucionarlo?
3727,php,Quiero realizar un slide con carousel para generar un grafico de google charts.
Tengo dos funciones la primera busca las distintas semanas que tiene una mandante x para las diferentes rutas.
function fetchRoute_chart($idmandante)
{
global $mysqli,$db_table_prefix;
$stmt = $mysqli->prepare("SELECT DISTINCT id_semana, tramo
FROM ".$db_table_prefix."route, ".$db_table_prefix."mandante
WHERE ab_route.id_mandante = ab_mandante.id and ab_route.id_mandante  = ?
");
$stmt->bind_param("i", $idmandante);
$stmt->execute();
$stmt->bind_result($id_semana, $tramo);
while ($stmt->fetch()){
$row[] = array('id_semana'=>$id_semana, 'tramo' => $tramo);
}
$stmt->close();
return ($row);
}
SELECT DISTINCT id_semana, tramo FROM ab_route, ab_mandante WHERE ab_route.id_mandante = ab_mandante.id and ab_route.id_mandante = 1
Luego, tengo otra función que llena los charts según el mandante, la semana y el tramo.
function fetchRoute_charts($idsemana,$tramo)
{
global $mysqli,$db_table_prefix;
$stmt = $mysqli->prepare("SELECT ab_route.id,distancia_acu,pm10,
CASE
WHEN pm10 <= 299 THEN 'color: green'
WHEN pm10 >= 600 THEN 'color: red' ELSE 'color: yellow'
END as color
FROM ".$db_table_prefix."route,".$db_table_prefix."mandante
WHERE ab_route.id_mandante = ab_mandante.id and   id_semana = ?
and tramo ='".$tramo."'
ORDER BY `id` ASC");
$stmt->bind_param("i", $idsemana);
$stmt->execute();
$stmt->bind_result($id, $distancia_acu, $pm10,$color);
while ($stmt->fetch()){
$row[] = array('id'=>$id, 'distancia_acu' => $distancia_acu,  'pm10' => $pm10, 'color' => $color);
}
$stmt->close();
return ($row);
}
Ahora se debería generar el código para los distintos charts, que para el caso son 32 y los despliego así:
<div id='chart_div_{$i}' style='width:200; height:150'></div>"
google.load('visualization', '1', {'packages':['corechart']});
google.setOnLoadCallback(drawChart);
function drawChart() {
var data = google.visualization.DataTable(<?=$jsonTable1?>);
var options = {
lineWidth: 0.5,
series: { 0: { lineDashStyle: [4, 2] },},
colors: ['#687074'],
pointSize : 0.5,
fontName: 'Arial',
fontSize: 11,
chart: {
title: 'Tramo',
},
hAxis: {
title: 'Distancia acumulada en mts', minValue: 0, maxValue: 1400, format: '#.###',
ticks: [100, 200, 400, 600, 800, 1000, 1200, 1400],
gridlines: { count: 10 }
},
vAxis: {title: 'PM10|ug/m3', minValue: 0, maxValue: 6000, format: '#.###'},
legend: 'none',
};
var charts = [];
var views = [];
for (var i = 0; i < data.getNumberOfColumns() - 1; i++) {
views.push(new google.visualization.DataView(data));
views[i].setColumns([0, i + 1]);
charts.push(new google.visualization.LineChart(document.querySelector('#chart_div_' + i)));
charts[i].draw(views[i], options);
}
}
pero el resultado es blanco, no muestra nada.
Código comppleto:
<html>
<head>
<link href="css/owl.carousel.css" rel="stylesheet">
<link href="css/owl.theme.css" rel="stylesheet">
</head>
<body>
<div id="demo">
<div class="container">
<div class="row">
<div class="col-md-9 column">
<div id="owl-demo" class="owl-carousel">
<?php
ini_set('display_errors', 1);
ini_set('log_errors', 1);
ini_set('error_log', dirname(__FILE__) . '/error_log.txt');
error_reporting(E_ALL);
require_once("../models/config.php");
// lo asigne fijo para el ejemplo pero se obtiene por get.
$idmandante=1;
$routeData = fetchRoute_chart($idmandante);
$i = 0;
foreach ($routeData as $v1)
{
$idsemana=$v1['id_semana'];
$tramo=$v1['tramo'];
$rows = array();
$table = array();
$table['cols'] = array(
array('label' => '', 'type' => 'number'),
array('label' => '', 'type' => 'number'),
array('type' => 'string', 'p' => array('role' => 'style'))
);
$routeDatas = fetchRoute_charts($idsemana,$tramo);
foreach ($routeDatas as $r){
echo "<div id='chart_div_{$i}' style='width:200; height:150'></div>";
$temp = array();
$temp[] = array('v' => (integer) $r['distancia_acu']);
$temp[] = array('v' => (integer) $r['pm10']);
$temp[] = array('v' => (string) $r['color']);
$rows[] = array('c' => $temp);
}
$table['rows'] = $rows;
$jsonTable1 = json_encode($table);
$i++;
}
?>
</div>
</div>
</div>
</div>
</div>
<script src="js/jquery-1.9.1.min.js"></script>
<script src="js/owl.carousel.js"></script>
<!-- Demo -->
<style>
#owl-demo .item img{
display: block;
width: 100%;
height: 350%;
}
</style>
<script>
$(document).ready(function() {
$("#owl-demo").owlCarousel({
navigation : true,
slideSpeed : 300,
paginationSpeed : 400,
singleItem : true
});
});
</script>
<!--Load the Ajax API-->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript">
google.load('visualization', '1', {'packages':['corechart']});
google.setOnLoadCallback(drawChart);
function drawChart() {
var data = google.visualization.DataTable(<?=$jsonTable1?>);
var options = {
lineWidth: 0.5,
series: { 0: { lineDashStyle: [4, 2] },},
colors: ['#687074'],
pointSize : 0.5,
fontName: 'Arial',
fontSize: 11,
chart: {
title: 'Tramo',
},
hAxis: {
title: 'Distancia acumulada en mts', minValue: 0, maxValue: 1400, format: '#.###',
ticks: [100, 200, 400, 600, 800, 1000, 1200, 1400],
gridlines: { count: 10 }
},
vAxis: {title: 'PM10|ug/m3', minValue: 0, maxValue: 6000, format: '#.###'},
legend: 'none',
};
var charts = [];
var views = [];
for (var i = 0; i < data.getNumberOfColumns() - 1; i++) {
views.push(new google.visualization.DataView(data));
views[i].setColumns([0, i + 1]);
charts.push(new google.visualization.LineChart(document.querySelector('#chart_div_' + i)));
charts[i].draw(views[i], options);
}
}
</script>
He probado varias formas pero no logro generar la vista, si lo hago para un sola semana queda así:
3730,c#,Buenas tardes amigos.
Estoy haciendo un Demo de una solución en Visual Studio con C#.
El proyecto maneja un patrón de arquitectura de 5 "capas (No se si ese sea el nombre técnico)", las cuales son:
Las entidades,
la de datos (AccesoDatos y DAO),
la de Negocio, se pide que se haga un servicio en WCF, y el proyecto
web que es el consume el servicio (Controller y Vistas) por el
momento esta así.
Estoy intentando hacer un DropDownListFor,  pero me aparece el error
There is no ViewData item of type 'IEnumerable' that
has the key
ya he intentado probar soluciones que aparecen en varios foros y no me han servido, por lo cual acudo a ustedes.
Adjunto el link del código de cada una de las "capas" .
Entidades (Vehiculo "Principal")
namespace Entidades.Entidades
{
using System;
using System.Collections.Generic;
public partial class Vehiculo
{
public int id_Vechiculo { get; set; }
public string v_CodigoVehiculo { get; set; }
public string v_NumeroPlaca { get; set; }
public int i_Kilometraje { get; set; }
public string v_EstadoVehiculo { get; set; }
public Nullable<int> id_TipoPlaca { get; set; }
public Nullable<int> id_Marca { get; set; }
public Nullable<int> id_Tanque { get; set; }
public Nullable<int> id_Categoria { get; set; }
public virtual Categoria Categoria { get; set; }
public virtual Marca Marca { get; set; }
public virtual Tanque Tanque { get; set; }
public virtual TipoPlaca TipoPlaca { get; set; }
}
}
Entidades (TipoPlaca)
namespace Entidades.Entidades
{
using System;
using System.Collections.Generic;
public partial class TipoPlaca
{
[System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Usage", "CA2214:DoNotCallOverridableMethodsInConstructors")]
public TipoPlaca()
{
this.Vehiculo = new HashSet<Vehiculo>();
}
public int id_TipoPlaca { get; set; }
public string v_NombrePlaca { get; set; }
[System.Diagnostics.CodeAnalysis.SuppressMessage("Microsoft.Usage", "CA2227:CollectionPropertiesShouldBeReadOnly")]
public virtual ICollection<Vehiculo> Vehiculo { get; set; }
}
}
DAO
public List<Entidades.Entidades.TipoPlaca> ListTipoPlaca()
{
try
{
List<Entidades.Entidades.TipoPlaca> listarTiposPlaca;
using (ModeloDatos.VehiculosDBEntities db = new ModeloDatos.VehiculosDBEntities())
{
listarTiposPlaca = (from tp in db.TipoPlaca
select new Entidades.Entidades.TipoPlaca
{
id_TipoPlaca = tp.id_TipoPlaca,
v_NombrePlaca = tp.v_NombrePlaca
}).ToList();
}
return listarTiposPlaca;
}
catch (Exception ex)
{
throw;
}
}
Negocio
public List<Entidades.Entidades.TipoPlaca> ListConsultarTipoPlaca()
{
return vehiculosDAO.ListTipoPlaca();
}
Servicio
[OperationContract]
List<Entidades.Entidades.TipoPlaca> ListarConsultarTipoPlaca();
public List<Entidades.Entidades.TipoPlaca> ListarConsultarTipoPlaca()
{
return servicioVehiculo.ListConsultarTipoPlaca();
}
WEB
public List<SelectListItem> ListaTipoPlaca()
{
List<SelectListItem> _ListTipoPlaca = new List<SelectListItem>();
try
{
var getListaTipoPlaca = servicioVehiculo.ListarConsultarTipoPlaca();
foreach (var item in getListaTipoPlaca)
{
_ListTipoPlaca.Add(new SelectListItem() { Value = item.id_TipoPlaca.ToString(), Text = item.v_NombrePlaca });
}
}
catch (Exception)
{
throw;
}
return _ListTipoPlaca;
}
[HttpPost]
public ActionResult Create(Vehiculo oVehiculo)
{
try
{
ViewBag.TipoPlacas = ListaTipoPlaca();
servicioVehiculo.Crear(oVehiculo);
TempData["Message"] = "Vehiculo Creado";
}
catch
{
return View();
}
return RedirectToAction("Index");
}
<div class="col-md-5">
@Html.DropDownListFor(model => model.TipoPlaca.id_TipoPlaca, (IEnumerable<SelectListItem>)ViewBag.TipoPlacas, new {@class = "form-control", @title=""})
</div>
3737,c#,Tengo una aplicación web aspx con código C# detrás. Lo que intento hacer que cuando el usuario manualmente cliquee en el botón Descargar, independiente al navegador, el archivo pueda descargarse inmediatamente en el repertorio de descarga.
¿Cómo puedo hacer esto?
3749,c#,Estoy recorriendo un excel con la librería DocumentFormat.OpenXml, y al obtener las filas, obtengo filas en la cual las celdas se encuentran vacías; es decir, tengo un excel donde solo se tiene información en las primeras 10 filas, pero esta extrayendo información de las primeras 140 filas.
using (SpreadsheetDocument spreadDoc = SpreadsheetDocument.Open(stream, true))
{
IEnumerable<Sheet> sheets = spreadDoc.WorkbookPart.Workbook.GetFirstChild<Sheets>().Elements<Sheet>();
string relationshipId = sheets.First().Id.Value;
WorksheetPart worksheetPart = (WorksheetPart)spreadDoc.WorkbookPart.GetPartById(relationshipId);
Worksheet workSheet = worksheetPart.Worksheet;
SheetData underscoreSheetData = workSheet.GetFirstChild<SheetData>();
IEnumerable<Row> underscoreRows = underscoreSheetData.Elements<Row>();
var numRows=underscoreRows.Count();
}
Como puedo obtener únicamente las filas en las que hay información, en este caso las 10 primeras filas.
Gracias
3759,c#,Buenas!
Me encuentro en una situación donde debo aplica la suceción de Fibonacci en un sistema de puntuación.
El ejercicio suena simple, pero no estoy encontrando la mejor forma de hacerlo, entonces decidí bucar opiniones.
Tengo algo realizado hasta el momento. Pero con uno de los problemas que me encuentro, es poder sacar la cuenta de las X naves destruidas.
Acá dejo lo que he hecho hasta el momento.
public  int fib(int n)
{
if (n < 2)
{
return n;
}
else
{
return fib(n - 1) + fib(n - 2);
}
setScoreToPlayer.Score(n);
}
3766,javascript|jquery,Buenas comunidad, estoy tratando de migrar un proyecto usando la librería require.js para realizar módulos asíncronos, pero me he encontrados con problemas que no se como resolver. Tratando de utilizar variables para guardar templates como por ejemplo
Index_Ctrl.js
define({
titulo: "Probando AMD con Require.js y Jquery",
cuerpo: "Esto es una muestra de como debe funcionar\n\
require js y jquery, su configuracion, entre otras cosas\n\
un estilo MVC."
});
Index_tpl.js
define(['IndexCtrl'], function (IndexCtrl){
var index_page = {
template: function (){
var titulo, cuerpo;
titulo = IndexCtrl.titulo;
cuerpo = IndexCtrl.cuerpo;
var html = '<h1>'+ titulo +'</h1>'+
'<p>' + cuerpo + '</p>'+
'<button id="btn_menu">Menu</button>';
$('#contenedor').append(html);
}
};
return {
template: index_page.template
};
});
index.html
<html>
<head>
<title>AMD</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div id="contenedor">
</div>
<script data-main="js/app/main" src="js/libs/require.js"></script>
</body>
</html>
main.js
require.config({
baseUrl: 'js',
paths : {
jquery : ['libs/jquery-1.12.0.min',
'libs/jquery-2.2.0.min'],
IndexTpl: 'app/Index_Tpl',
IndexCtrl: 'app/Index_Ctrl',
MenuTpl: 'app/Menu_Tpl',
MenuCtrl: 'app/Menu_Ctrl'
},
shim: {
IndexTpl: ['jquery'],
MenuTpl: ['jquery']
}
});
define(['IndexTpl', 'MenuTpl'], function (index, menu){
index.template();
});
Quisiera que al hacer click en un boton un modulo para usar otro template que son los siguientes
Menu_Tpl.js
define(['MenuCtrl'], function (MenuCtrl){
var menu_page = {
template_m: function (){
var titulo, cuerpo;
titulo = MenuCtrl.titulo;
cuerpo = MenuCtrl.cuerpo;
var html = '<h1>'+ titulo +'</h1>'+
'<p>' + cuerpo + '</p>'+
'<button id="btn_index">Index</button>';
$('#contenedor').append(html);
}
};
return {
template_m: menu_page.template_m
};
});
Menu_Ctrl.js
define({
titulo: "Probando AMD con Require.js y Jquery",
cuerpo: "Este es el menu de prueba."
});
3767,c#,Mi pregunta es para que se utilizan los caracteres => en C#, lo he visto en un método para acceder al sensor de luz del dispositivo.
Este es el método
private void _lightSensor_ReadingChanged(LightSensor sender, LightSensorReadingChangedEventArgs args)
{
_dispatcher.RunAsync(CoreDispatcherPriority.Normal, () =>
{
Lux = args.Reading.IlluminanceInLux;
});
Debug.WriteLine("Lux: {0}", Lux);
}
Gracias.
3776,php,Tengo una aplicación que es para manejar favoritos (mis páginas de internet favoritas) y el código encargado de actualizar los usuarios no me actualiza, solo me cambia el nombre por un 0 y el resto lo deja como está. Les pongo unas imágenes y díganme si necesitan que suba algo más.
Está es la tabla para gestionar los usuarios, el 3er, 4º y 5º usuario muestran lo que les decía:
Y éste es el código encargado de actualizar los usuarios:
<?php
session_start();
$db = new SQLite3('favoritos.db');
$usuarioantiguo = $_SESSION['usuario'];
$usuario = $_POST['usuario'];
$contrasena = $_POST['contrasena'];
$nombre = $_POST['nombre'];
$apellido = $_POST['apellido'];
$edad = $_POST['edad'];
$resultado = $db->query("UPDATE usuarios SET usuario='".$usuario."' AND contrasena='".$contrasena."' AND nombre='".$nombre."' AND apellido='".$apellido."' AND edad=".$edad." WHERE usuario='".$usuarioantiguo."'");
$db->close();
//Vuelvo a gestionusuarios.php
echo "
<html>
<head>
<meta http-equiv='REFRESH' content='0;url=gestionusuarios.php'>
</head>
</html>
";
?>
3783,c#,Tengo el siguiente código donde realizo el consumo desde JavaScript
<script>
function Login() {
var Request = {
User: "usuario",
Password: "1234",
Secret_Id: "JGJHASDH7656775ASD776",
App_Id: "XXTYVFDR65432GBVCMNCBGDRT"
}
$.ajax({
type: "GET",
data: { JsonLoginRequest: JSON.stringify(Request) },
url: "api/test/Login",
contentType: "application/json",
success: function (Response) {
$("#Returncode").val(Response.Returncode);
$("#Message").val(Response.Message);
$("#Token").val(Response.Token);
}
});
}
</script>
Mi pregunta es: ¿como podría hacer este mismo consumo pero desde C# a través de HttpClient
3784,html,Trato de obtener información desde mi base de datos con un WCF DataServices pero cuando lo invoco obtengo el siguiente error:
Recurso no encontrado para el segmento 'GetCustomers'.
¿Qué podrá ser?
[System.ServiceModel.ServiceBehavior( IncludeExceptionDetailInFaults=true)]
public class WcfDataService1 : DataService< Modelitos.NorthwindEntities /* TODO: put your data source class name here */ >
{
// This method is called only once to initialize service-wide policies.
public static void InitializeService(DataServiceConfiguration config)
{
// TODO: set rules to indicate which entity sets and service operations are visible, updatable, etc.
// Examples:
config.SetEntitySetAccessRule("Customers", EntitySetRights.AllRead);
config.SetServiceOperationAccessRule("*", ServiceOperationRights.All);
config.DataServiceBehavior.MaxProtocolVersion = DataServiceProtocolVersion.V3;
}
public List<Modelitos.Customers> GetCustomers()
{
return
this.CurrentDataSource.Customers.ToList();
}
}
3790,html,Quisiera crear algo como esto: https://www.apptrendit.com/
Pero quisiera crearlo mediante a bootstrap para hacerlo responsive, el problema es que las columnas tienen distintos tamaños y no van lineales como cuando uno trabaja las columnas en bootstrap, ¿Como puedo hacer esto?
Mi Intento: https://jsfiddle.net/370z66u2/
3806,javascript|jquery,Estoy tratando de entender require.js más a fondo: sé cómo crear, cómo llamar los módulos o cómo crearlos, entre otras cosas.
En una práctica que estaba realizando para entender cómo y cuándo usar el shim, realicé lo siguiente:
require.config({
baseUrl: 'js',
paths : {
jquery : ['libs/jquery-1.12.0.min','libs/jquery-2.2.0.min'],
IndexTpl: 'app/Index_Tpl',
IndexCtrl: 'app/Index_Ctrl',
MenuTpl: 'app/Menu_Tpl',
MenuCtrl: 'app/Menu_Ctrl'
},
shim: {
IndexTpl: ['jquery'],
MenuTpl: ['jquery']
}
});
Como se puede observar el módulo del index y del menú, requieren de jquery para funcionar correctamente, entonces cargué de esta forma basándome en ejemplos que vi en internet, pero sin usar deps y exports, pero tengo un par de dudas que espero puedan ayudarme a resolver.
¿Es necesario que tenga un orden los módulos que se van a cargar mediante esta forma, o simplemente no importa el orden?
¿Puede existir algún error al no utilizar deps y exports en la estructura?
3820,python|html,Buenas, tardes tengo un formulario creado de la siguiente forma:
(en forms)
RESULTADO_P = (
('a', 'a'),
('b', 'b'),
('c', 'c'),
('?', '?'),
)
class formulario(forms.Form):
r1 = forms.ChoiceField(choices=RESULTADO_P, initial='?')
(en index)
{{form.r1}}
y se me muestra de la siguiente forma :
Mi pregunta es como podría conseguir que esas opciones se visualizaran en 4 checkbox y que el usuario eligiera uno de ellos.
Gracias por las respuestas.
3828,javascript|jquery|php,Tengo un problema al retornar un dato desde un Controllers/registro en php a un Ajax. El controller recibe un dato desde un Model/registro.php, pero el mismo no retorna al Ajax ese dato que recibe.
¿Cuál pordría ser el motivo por el cual Controller/registro.php no retorna ningún dato al Ajax, a pesar de que sí realiza el insert en el Model/registro.php?
Model/registro.php
public function registrar($username, $email, $password, $confirm_password)
{
try
{
$this->has = crypt($password);
$this->has_con = crypt($confirm_password);
$p= "soy diferente de uno";
$registro = $this->conexion->conexion->query("insert into registro_por (nombre, correo, pass, conf_pass) values( '$username', '$email', '$this->has', '$this->has_con')");
if ($registro)
{
return $p;
}
else
{
throw new Exception("Fallos la ejecución");
}
}
catch (Exception $e)
{
echo 'Message: '.$e->getMessage();
}
}
Controllers/registro.php
require_once("../Model/registro.php");
$username = $_POST["username"];
$email = $_POST["email"];
$password = $_POST["password"];
$confirm_password = $_POST["confirm_password"];
$reg = new Registro();
$t = $reg->registrar($username, $email, $password, $confirm_password);
var_dump($t);
if ($t != 1)
{
//return "ok";
//echo "es difenrete de uno";
return $t;
}
else
{
return $t;
//echo "fail";
}
JavaScript
Ajax jQuery recibe el data del controlador:
$('#register-submit').click(function () {
var data = $('#register-form').serialize();
$.ajax({
beforeSend: function () {
console.log(data);
},
type: 'POST',
url: '../Controllers/registro.php',
data: data,
success: function (data) {
console.log('nanananana');
console.log("soy data"+data);
}
});
});
3836,ios,Estoy empezando recién con Swift y tengo un duda. Tengo un controlador_uno: UIViewController y otro controlador_dos: UITableViewController.
La cosa es que mando una varible por segue desde controlador_uno al dos y en el controlador_dos no lo toma.
controlador_uno: UIViewController
override func prepareForSegue(segue: UIStoreboardSegue, sender: AnyObject?)
{
if segue.identifier == "SendDataSearch"
{
if let destino = segue.destinationViewController as ? Controlador_dos
{
destino.varSegue = txtNom.text
}
}
}
controlador_dos: UIUITableViewController{
var varSegue = ""
...
}
¿Se puede pasar variables de UIViewController a UITableViewController? He hecho cosas de tableviewcontroller a viewController y funcionan.
3838,javascript|jquery|html,Tengo una duda la cual quisiera resolver, en el sitio de Google News (en mi caso https://news.google.com.ar/ ) quiero obtener los títulos principales, para lo cual sería:
var foo = $('h2')// obtengo solo la primera coincidencia
Pero si utilizo JavaScript plano:
var toor = document.getElementsByTagName("h2"); // aquí obtengo todas las coincidencias.
¿Por qué pasa esto y cómo debo hacer para obtener todas las coincidencias con jQuery?
3843,php,Estoy creando un proyecto de Symfony 2.7 y me gustaría cambiar el  documento parameters.yml a otra dirección host.
Mi problema es el siguiente: he trabajado en un host local con Xampp y, ahora, necesito enlazarlo en un hosting online. Claro primero he cambiado el nombre de la base de datos en parameters.yml como se indica en la foto.
Pero symfony no busca este valor, coge la configuración anterior. Al utilizar el comando doctrine:database:create siempre utiliza el nombre de la base de datos que existia antes en parameter.yml
3850,android,¿Por qué este 'error'? No tengo ningún atributo duplicado.
¿Cuál es la solución?
MENSAJE ERROR
activity_commerce.xml
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".view.CommerceActivity">
<fragment
android:id="@+id/commerce_fragment"
android:name=".view.CommerceFragment"
class=".view.CommerceFragment"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:layout_alignParentTop="true"
android:layout_centerHorizontal="true"
tools:layout="@layout/fragment_commerce" />
</RelativeLayout>
fragment_commerce.xml
<?xml version="1.0" encoding="utf-8"?>
<ScrollView
xmlns:android="http://schemas.android.com/apk/res-auto"
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
tools:context=".view.CommerceActivity"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:padding="16dp"
android:fillViewport="true">
<RelativeLayout
android:layout_width="match_parent"
android:layout_height="match_parent"
android:id="@+id/ver_fragment_commerce_relative_layout">
<RelativeLayout
android:id="@+id/description_block_relative_layout"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@id/ver_fragment_commerce_relative_layout">
<TextView
android:id="@+id/description_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentLeft="true"
android:text="@string/description_fragment_commerce"
android:textStyle="bold"
android:padding="4dp"/>
<android.support.v7.widget.SwitchCompat
android:id="@+id/description_switch_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentRight="true"
android:layout_alignBaseline="@id/description_text_view_fragment_commerce"
android:checked="false"
android:enabled="true"/>
<TextView
android:id="@+id/content_description_text_view_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:visibility="invisible"
android:layout_below="@id/description_text_view_fragment_commerce"
android:hint="..."
android:padding="8dp"/>
</RelativeLayout>
<RelativeLayout
android:id="@+id/schedule_block_relative_layout"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@id/description_block_relative_layout">
<TextView
android:id="@+id/schedule_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/schedule_fragment_commerce"
android:textStyle="bold"
android:padding="4dp"/>
<ImageView
android:id="@+id/switch_schedule_image_button_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:src="@drawable/ic_arrow_drop_down_circle_24dp"
android:tint="@color/colorGreyAndroid"
android:paddingRight="8dp"
android:layout_alignParentTop="true"
android:layout_alignParentRight="true"
android:layout_alignParentEnd="true"/>
<TextView
android:id="@+id/now_schedule_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_marginLeft="10dp"
android:hint="Hoy 9:00-13:00, 17:00-20:30"
android:visibility="visible"
android:layout_alignBaseline="@id/schedule_text_view_fragment_commerce"
android:layout_alignBottom="@id/schedule_text_view_fragment_commerce"
android:layout_toRightOf="@id/schedule_text_view_fragment_commerce"
android:layout_toEndOf="@id/schedule_text_view_fragment_commerce"/>
<TextView
android:id="@+id/content_schedule_text_view_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:visibility="invisible"
android:layout_below="@id/now_schedule_text_view_fragment_commerce"
android:hint="Lunes:\t9:00-13:00, 17:00-20:30\nMartes:\t9:00-13:00, 17:00-20:30\nMiércoles:\t9:00-13:00, 17:00-20:30\nJueves:\t9:00-13:00, 17:00-20:30\nViernes:\t9:00-13:00, 17:00-20:30\nSábado:\t9:00-13:00, 17:00-20:30\nDomingo:\t9:00-13:00, 17:00-20:30"
android:padding="8dp"/>
</RelativeLayout>
<RelativeLayout
android:id="@+id/image_slider_block_relative_layout"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@id/schedule_block_relative_layout">
<Button
android:id="@+id/foo_temporal_image_slider_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="150dp"
android:hint="IMÁGENES EN SLIDER"/>
</RelativeLayout>
<RelativeLayout
android:id="@+id/general_info_block_relative_layout"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@id/image_slider_block_relative_layout">
<TextView
android:id="@+id/address_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/address_fragment_commerce"
android:textStyle="bold"
android:padding="4dp"/>
<TextView
android:id="@+id/content_address_text_view_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:hint="foo direccion"
android:layout_alignBaseline="@id/address_text_view_fragment_commerce"
android:layout_alignBottom="@id/address_text_view_fragment_commerce"
android:layout_toRightOf="@id/address_text_view_fragment_commerce"
android:layout_toEndOf="@id/address_text_view_fragment_commerce"
android:gravity="center_horizontal|end"
android:paddingRight="16dp"/>
<TextView
android:id="@+id/phone_number_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/phone_number_fragment_commerce"
android:layout_below="@+id/address_text_view_fragment_commerce"
android:layout_alignParentLeft="true"
android:layout_alignParentStart="true"
android:textStyle="bold"
android:padding="4dp"/>
<TextView
android:id="@+id/content_phone_number_text_view_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:hint="foo phone"
android:layout_alignBaseline="@id/phone_number_text_view_fragment_commerce"
android:layout_alignBottom="@id/phone_number_text_view_fragment_commerce"
android:layout_toRightOf="@id/phone_number_text_view_fragment_commerce"
android:layout_toEndOf="@id/phone_number_text_view_fragment_commerce"
android:gravity="center_horizontal|end"
android:paddingRight="16dp"/>
<TextView
android:id="@+id/email_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/email_fragment_commerce"
android:layout_below="@+id/phone_number_text_view_fragment_commerce"
android:layout_alignParentLeft="true"
android:layout_alignParentStart="true"
android:textStyle="bold"
android:padding="4dp"/>
<TextView
android:id="@+id/content_email_text_view_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:hint="foo mail"
android:layout_alignBaseline="@id/email_text_view_fragment_commerce"
android:layout_alignBottom="@id/email_text_view_fragment_commerce"
android:layout_toRightOf="@id/email_text_view_fragment_commerce"
android:layout_toEndOf="@id/email_text_view_fragment_commerce"
android:gravity="center_horizontal|end"
android:paddingRight="16dp"/>
<TextView
android:id="@+id/web_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/web_fragment_commerce"
android:layout_below="@id/email_text_view_fragment_commerce"
android:layout_alignParentLeft="true"
android:layout_alignParentStart="true"
android:textStyle="bold"
android:padding="4dp"/>
<TextView
android:id="@+id/content_web_text_view_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:hint="foo web"
android:layout_alignBaseline="@id/web_text_view_fragment_commerce"
android:layout_alignBottom="@id/web_text_view_fragment_commerce"
android:layout_toRightOf="@id/web_text_view_fragment_commerce"
android:layout_toEndOf="@id/web_text_view_fragment_commerce"
android:gravity="center_horizontal|end"
android:paddingRight="16dp"/>
</RelativeLayout>
<RelativeLayout
android:id="@+id/social_networks__block_relative_layout"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@id/general_info_block_relative_layout">
<TextView
android:id="@+id/social_networks_text_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/social_networks_fragment_commerce"
android:layout_alignParentLeft="true"
android:layout_alignParentStart="true"
android:layout_marginTop="8dp"
android:textStyle="bold"
android:padding="4dp"/>
<ImageView
android:id="@+id/facebook_image_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:src="@mipmap/ic_facebook"
android:visibility="visible"
android:layout_centerVertical="true"
android:layout_toLeftOf="@id/twitter_image_view_fragment_commerce"
android:layout_toStartOf="@id/twitter_image_view_fragment_commerce"/>
<ImageView
android:id="@+id/twitter_image_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:src="@mipmap/ic_twitter"
android:visibility="visible"
android:layout_alignTop="@id/facebook_image_view_fragment_commerce"
android:layout_toLeftOf="@id/instagram_image_view_fragment_commerce"
android:layout_toStartOf="@id/instagram_image_view_fragment_commerce"/>
<ImageView
android:id="@+id/instagram_image_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:src="@mipmap/ic_instagram"
android:visibility="visible"
android:layout_alignTop="@id/facebook_image_view_fragment_commerce"
android:layout_toLeftOf="@id/google_plus_image_view_fragment_commerce"
android:layout_toStartOf="@id/google_plus_image_view_fragment_commerce"/>
<ImageView
android:id="@+id/google_plus_image_view_fragment_commerce"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:src="@mipmap/ic_google_plus"
android:visibility="visible"
android:layout_alignTop="@id/facebook_image_view_fragment_commerce"
android:layout_alignParentRight="true"
android:layout_alignParentEnd="true"/>
</RelativeLayout>
<RelativeLayout
android:id="@+id/google_maps__block_relative_layout"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:visibility="visible"
android:layout_below="@id/social_networks__block_relative_layout">
<Button
android:id="@+id/foo_temporal_google_maps_fragment_commerce"
android:layout_width="match_parent"
android:layout_height="150dp"
android:hint="GOOGLE MAPS DEL COMERCIO"/>
</RelativeLayout>
<!--<RelativeLayout-->
<!--android:id="@+id/extras__block_relative_layout"-->
<!--android:layout_width="match_parent"-->
<!--android:layout_height="wrap_content"-->
<!--android:layout_below="@id/google_maps__block_relative_layout">-->
<!--</RelativeLayout>-->
</RelativeLayout>
3867,c#,Como se hace un bulk-insert desde .net para una base de datos de Oracle.
3873,c#,Tengo una aplicación web que tiene como loginUrl="Index.aspx" y como defaultUrl="list.aspx".
Esto funciona bien, porque una vez que tengo el Index.aspx y espero que el usuario se identifique, logro obtener la página list.aspx.
El problema es que si pongo directamente la URL de list.aspx, puedo abrirlo sin tener que pasar por Index.aspx.
¿Cómo puedo bloquear el acceso y que solamente una vez de haber pasado por Index.aspx la página list.aspx sea afichada?
Muchas gracias de ante mano.
Aqui esta parte de mi web.config:
<authentication mode="Forms">
<forms loginUrl="Index.aspx"
slidingExpiration="true"
defaultUrl="list.aspx"
timeout="600" name=".Auth"
protection="All"/>
</authentication>
3877,c#,Estoy construyendo una aplicación WPF con el patrón de diseño MVVM.
Estoy utilizando DataTemplates para cargar controles de usuario dentro de un ContentControl:
<DataTemplate DataType="{x:Type menu:MenuViewModel}">
<menu:MenuView/>
</DataTemplate>
<ContentControl Content="{Binding Menu}" Visibility="{Binding MenuVisibility,
Converter={StaticResource BooleanToVisibility}}"/>
Además del menú tengo un control de usuario para manejar la StatusBar y aquí es donde me surge la duda. Para que los demás ViewModels puedan interactuar con la StatusBar, lo que he hecho es crear un MainViewModel en cada ViewModel que necesite esta funcionalidad y luego lo asigno desde el MainViewModel así:
_ChatViewModel.mainViewModel = this;
CurrentViewModel = _ChatViewModel;
Esto funciona, pero creo que debe existir una "rueda" inventada y que me estoy complicando. ¿Existe algún modo más "sencillo", "estándar" que esté pasando por alto?
3914,php,¿Cual es forma correcta de realizar la siguiente consulta?
Tengo una función a la cual le quiero asignar una serie, si ésta la ejecuto directo en el motor genera el div concatenado, pero en el PHP arroja un error. Si la declaro fuera y lo asigno por una variable arroja un NULL.
$stmt = $mysqli->prepare("SET @serie=0;
SELECT DISTINCT id_semana,
CONCAT('Semana ', id_semana, ' - ', tramo) AS semana,
CONCAT('div_', @serie:=@serie+1) AS div_
FROM ab_route, ab_mandante
WHERE ab_route.id_mandante = ab_mandante.id and ab_route.id_mandante = 1");
3917,php,Estoy tratando de hacer una consulta en PHP y MYSQL, pero ésta no me funciona,
'grado' es un número, por ejemplo 2. Si realizo la consulta solo con 'grado' si funciona, pero si pruebo con 'grupo' que es un letra, por ejemplo B, no funciona, es como si no detectara las letras del alfabeto.
$grado=$_GET['grado'];
$grupo=$_GET['grupo'];
$sql = "* FROM usuarios WHERE grado = $grado  AND grupo = $grupo";
$result = $conn->query($sql);
3947,c#,La necesidad que estoy teniendo es saber si existe alguna posibilidad de adjuntar archivos PDF o cualquier tipo de archivo a un registro de una BD en SQL Server 2008 R2 desde una aplicación de C# hecha con VS 2012.
3954,php|html,Buenas, hoy vengo con un pequeño problema que es este
echo $consulta;
a lo que me responde con:
SELECT SUM(carrito_cant) as cantidad FROM carrito_tb WHERE carrito_folio='3041M�Ra' and carrito_NP='NA';
devido al caracter ó que lo intercambia por � ya intente con
$consulta = utf8_encode ( $consulta );
tambien con estos dos:
header('Content-type: text/html; charset=utf-8');
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
pero sin duda ninguno me arroja
SELECT SUM(carrito_cant) as cantidad FROM carrito_tb WHERE carrito_folio='3041MóRa' and carrito_NP='NA';
3963,java|android,Al tratar de cargar una imagen usando Glide, dentro de un ImageView, asegurando tener el path de la imagen en urlImage y la instancia del ImageView en imgZoom, este es mi código :
private View individual(LayoutInflater inflater, ViewGroup container) {
View v = inflater.inflate(R.layout.fragment_image_zoom, container, false);
final View pbr = v.findViewById(R.id.PhotoDetail_pbr_main);
imgZoom = (ZoomImageView) v.findViewById(R.id.PhotoDetail_tiv_main);
imgZoom.setTag(urlImage);
imgZoom.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View view) {
View layTextPie = getActivity().findViewById(R.id.textViewFooter);
}
});
Glide.with(inflater.getContext())
.load(urlImage)
.into(imgZoom);
}
return v;
}
Obtengo el siguiente mensaje de error:
java.lang.IllegalArgumentException: You must not call setTag() on a
view Glide is targeting
3969,java|android,Quisiera saber cómo enviar los valores del eje 'x' y el eje 'y' del acelerómetro de mi móvil a través de bluetooth para que un sistema arduino los lea (mediante un hc-05) y lo procese para mover unos servos. Estoy utilizando android studio para hacer una app. Se cómo obtener los parámetros y mostrarlos en pantalla, pero me faltaría saber cómo enviarlos.
3970,c#,Soy algo nuevo en esto de C# MVC y actualmente me han asignado un proyecto algo grande sin ningún tipo de documentación. Estoy algo desesperado y me gustaria saber como funciona, me gustaria pedirles consejo para saber que métodos o sistemas utilizáis para aprender como funciona el código (pre programado) de un proyecto en C# MVC, si el sistema de debugar linea por linea seria el mas adecuado?
3981,html,El siguiente código en Jade me crea 3 divs similares, con distintos h1(HTML, CSS, Javascript).
Lo que no puedo conseguir es agregarle contenido distinto para cada h2 y cada p. ¿Alguna idea? gracias.
.Blog
each title in ['HTML', 'CSS', 'Javascript']
include ../article/template.jade
El article/template.jade sería:
.Article
h1=title
h2
p
Para hacer este código me he basado en las referencias de iteración en el sitio de jade
4001,c#,Tengo una aplicación web en .aspx y con código atras en C#. Tengo un botón de descarga que se demora aproximadamente 2 minutos en ejecutar (tiempo normal de ejecución para lo que estoy haciendo).
Me gustaría agregar un mensaje de espera mientras esto esta en ejecución, y termine cuando el evento del botón ha terminado su ejecución. ¿Como puedo lograr esto?
Incorpore el siguiente codigo en mi la pagina .aspx que me muestra bien el proceso que se esta llevando a cabo.
El problema es que una vez que finaliza, el archivo ya no se descarga, y la ejecucion se termina. En donde estara fallado?
Aqui esta el codigo que implemente:
<div>
<asp:ScriptManager ID="ScriptManager1" runat="server">
</asp:ScriptManager>
<asp:UpdatePanel ID="UpdatePanel1" runat="server">
<Triggers>
<asp:AsyncPostBackTrigger ControlID="Button1" EventName="Click"/>
</Triggers>
<ContentTemplate>
<center><asp:Button ID="Button1" runat="server" Text="Download"    OnTextChanged="Download" Height="60" Width="160" Font-Size="16" ForeColor="Black" BackColor="#C6D5E2" BorderStyle="Groove" OnClick="Download"/></center>
</ContentTemplate>
</asp:UpdatePanel>
<asp:UpdateProgress ID="UpdateProgress1" runat="server">
<ProgressTemplate>
<center><img src="img\loading.gif" />
Download in Progress……..</center>
</ProgressTemplate>
</asp:UpdateProgress>
</div>
4003,c#,Tengo una aplicación web usando aspx y con código C#. Estoy usando HttpResponse para poder descargar el resultado en un archivo CSV.
Cuando uso Chrome descarga sin problemas con la extensión .csv. El problema se encuentra cuando uso FireFox, el archivo que descarga es file (sin extensión).
Aquí esta mi parte de codigo usando HttpResponse
System.Web.HttpResponse response = System.Web.HttpContext.Current.Response;
response.ContentType = "text/csv";
response.AddHeader("Content-Disposition", "attachment; filename=" + outCsvFile + ";");
response.TransmitFile(outCsvFile);
response.Flush();
response.End();
¿Cual podría ser el problema?
4010,javascript|c#|jquery,Estoy haciendo una aplicación sobre mercados financieros esto es, para comprar y vender acciones, etc.
El problema es que no encuentro la forma de recuperar datos de las acciones(precio, variacion en %, etc.) y que se actualicen
automaticamente( lo que he visto que se recuperan del centro nacional de mercados de valores a traves
de ficheros XBRL pero  no se como hacerlo).
el proyecto lo estoy haciendo en .Net y javascript.
algo parecido a esta web http://www.labolsavirtual.com/
4012,php,Como bien dice el título del post si me llegan a mandar una url quiero redirigirme a esa url.¿Cómo lo haría de forma completa?
if (isset($_GET["URL"])) {
header("Location: public_area.php?url=$actual_link");
}
4018,c#,Estoy trabajando con un sistema de un hospital y me gustaría saber como podría exportar la información de mis objetos a archivos con un formato legible como JSON o XML, para usarlos como entrada de otro programa que los procese.
Estas son mis clases:
public class Patient
{
public string PatienName { get; set; }
public int Age { get; set; }
public char Sex { get; set; }
public string Address { get; set; }
public Illness Illness { get; set; }
public Bed Bed { get; set; }
}
public class Bed
{
public int BedNumber { get; set; }
public string Aisle { get; set; }
}
public class Illness
{
public IllnessType Type { get; set; }
public string IllnessName { get; set; }
}
public class IllnessType
{
public string IllnessTypeName { get; set; }
public string Severity { get; set; }
}
4029,android,Hace poco que llevo programando en Android, pero aún no tengo del todo claro el concepto del Context, me gustaría que me lo explicaran porque a veces se ha de pasar por parámetros y otras no y esto no lo entiendo, y además, en qué se diferencia con this.
Por ejemplo en códigos como este, ¿por qué?
TextView mTextView = new TextView(getApplicationContext());
4035,php,Tengo una consulta y es la siguiente.
Mi objetivo es reemplazar los valores de todas las frutas para incrementar en un 5% el precio:
// precios originales
$precios = array (
"frutas" => array (
"manzanas" => 15,
"peras" => 5,
"naranjas" => 3,
),
"verduras" => array (
"clave" => 15,
"clave2" => 5,
"clave3" => 3,
)
);
// Los precios de frutas suben 5%
foreach ($precios['frutas'] as $clave => $valor) {
$nuevovalor = $valor*5/100+$valor;
$valor = ceil($nuevovalor);
}
// los precios de las verduras suben un 3%
foreach ($precios['verduras'] as $clave => $valor) {
$nuevovalor = $valor*3/100+$valor;
$valor = ceil($nuevovalor);
}
Mi idea es usar la función array_replace pero hasta acá llego, nada de lo que hice parece funcionar para reemplazar los valores con los nuevos precios, esto en caso de que los nuevos precios estén bien resueltos con esa función, tu idea será bienvenida, saludos.
4050,php,Estoy utilizando la librería Simple HTML DOM Parser para extraer unas líneas de código, pero estoy decepcionado porque esta librería trabaja con la función file_get_contents, la cual en algunos sitios está desactivada por razones de seguridad, pero en su lugar sugieren utilizar curl.
Mi pregunta es: ¿se puede adaptar dicha librería para trabajar con curl y que funcione exactamente igual?
Código fuente simple_dom_html.php
//Lineas de codigo donde aparece la funcion que deseo remplazar con Curl
$contents = file_get_contents($url, $use_include_path, $context, $offset);
//Esta es la ultima vez que la libreria utiliza File_get_content
function load_file() {
$args = func_get_args();
$this->load(call_user_func_array('file_get_contents', $args), true);
// Throw an error if we can't properly load the dom.
if (($error=error_get_last())!==null) {
$this->clear();
return false;
}
}
Según lo que he leído el sustituto para mi problema sería sacar el texto con curl ya que realiza exactamente la misma función, sería algo así:
$site_url = 'http://example.com';
$ch = curl_init();
$timeout = 5; // set to zero for no timeout
curl_setopt ($ch, CURLOPT_URL, $site_url);
curl_setopt ($ch, CURLOPT_CONNECTTIMEOUT, $timeout);
ob_start();
curl_exec($ch);
curl_close($ch);
$file_contents = ob_get_contents();
ob_end_clean();
echo $file_contents;
4055,php,Estoy tratando de subir mi proyecto en laravel a mi servidor vps. No sé como gestionar varios proyectos en el servidor web apache.
Mi estructura de directorios es /var/www/html ... Según leí en tutoríales, dice que hay que dejar el proyecto antes de la carpeta que es pública (en mi caso html) de esta forma quedó con /var/www/proyecto_laravel.. pero no tengo idea de como mostrar la parte publica, en realidad estoy un poco perdido.
Lo que no quiero es dejar todo mi proyecto laravel en la carpeta html, ya que se exponen los archivos de configuración.
4062,c#,Tengo una aplicacion web mvc que solicita como pagina inicial verificar su identificación y si es correcta envia a la pagina principal, la acción cumple correctamente usando autenticacion via Forms y redirecciona a esta si se intenta ir directamente via url a otra dirección, pero al regresar a la pagina de login via url cuando ya se esta identificado, esta vuelve a mostrar los formularios de login. intente con lo siguiente, pero solicita la accion manual del usuario via link.
@if (Request.IsAuthenticated)
{
@Html.ActionLink("Salir", "Index", "Home")
}
¿Es recomendable redireccionar de una vista a otra vista directamente o el uso de un controlador es indispensable para evitar anormalidades?
4067,python|html,Estoy construyendo un carrusel de imágenes usando Foundation Orbit, para la parte de los bullets tengo un error al usar dos etiquetas forloop.counter, las necesito para imprimir en pantalla el número del elemento del carrusel, uno en forma "Humanizada" y el otro en entero, pero ocurre que no imprime nada en pantalla:
Aquí está el código que estoy usando en mi template.
<nav class="orbit-bullets">
{% for affiliation in affiliations %}
<button {% if forloop.first %}class="is-active"{% endif %} data-slide="{{ forloop.counter0 }}">
<span class="show-for-sr">
{% blocktrans %}{{ forloop.counter0|ordinal }} slide details.{% endblocktrans %}
</span>
{% if forloop.first %}
<span class="show-for-sr">{% trans 'Current Slide' %}</span>
{% endif %}
</button>
{% endfor %}
</nav>
Como pueden ver la idea es que imprima 3rd slide details. y en vez de esto me imprime únicamente la cadena fija.
Cuando quito la etiqueta adicional ordinal resulta que no tengo número, por lo que deduzco que el problema no es humanizar, el problema es imprimir el número:
4069,c#,No encuentro una Api de la familia w10 que permite eso de poner una ventana/aplicación encima de otra, como que la comunes están pensadas que funcione en todos los dispositivos de la familia Windows 10 (w10 Escritorio, w10 mobil, lot etc..), es por suponer que no hay, ya que en w10m eso no tiene sentido.
Me refiero a usar esa API
https://msdn.microsoft.com/es-es/library/system.windows.forms.form.topmost(v=vs.110).aspx
¿Cómo puedo usar esa API en la aplicación UWP que solo afecte si está corriendo en Windows 10 Desktop? o bien que soluciones hay al respecto.
Actualización:
https://msdn.microsoft.com/es-es/library/windows/apps/dn894631.aspx
Como parte del núcleo, UWP ahora proporciona una plataforma común de
aplicaciones disponible en todos los dispositivos que se ejecutan en
Windows 10. Con esta evolución, las aplicaciones destinadas a UWP no
solo pueden llamar a las API de WinRT comunes a todos los
dispositivos, sino también a las API (incluidas las API de Win32 y.
NET) específicas de la familia de dispositivos en los que se ejecuta
la aplicación. UWP proporciona un nivel de API principal garantizado
en todos los dispositivos.
y por SO me encontrado que se puede usar SetForegroundWindow
System.Runtime.InteropServices.DllImport("user32.dll")]
public static extern bool SetForegroundWindow(IntPtr hWnd);
SetForegroundWindow(this.Handle);
¿Cómo se puede cargar la librería user32.dll en caso que la app UWP este corriendo en Windows 10 Desktop?
4080,javascript|jquery,Tengo un preload o progress que muestro antes de ser redireccionado a otra página.
Lo que deseo es que mientras se está cargando para abrir otra página, el div del progress vaya aumentándose hasta el 100%, al igual que un valor numérico (n/100).
Actualmente tengo el siguiente código:
var ajax_load = "<div class='progress'>" + "<div id='progress_id'   class='progress-bar progress-bar-striped active' " +
"role='progressbar' aria-valuenow='20' aria-valuemin='0' aria-valuemax='100' style='width: 45%'>" +
"n/100</div></div>";
$("#menu_navegacion_inicio").click(function (ev) {
ev.preventDefault();
var href = $(this).attr('href');
$("#subpagina").html(ajax_load).load(baseUrl + href, function () {
});
});
En ajax_load llamo al progress, pero necesito que el valor del atributo aria-valuenow, vaya aumentando hasta 100, y n también aumente hasta 100, donde n/100.
Me gustaría poder pasarle valores mientras se empieza cargar la página, indicando el tiempo de demora, que comienza desde 0% hasta 100%, una vez terminada la carga del progress, se abra la página que solicité.
Estaba pensando usar alguna iteración y pasarle algo como esto:
........
.....
var valeur= valeur +10;
........
$('#progress_id').css('width', valeur+'%').attr('aria-valuenow', valeur);
$('#progress_id').append(valeur + '/100')
......
......
Pero no se como lo hago, si alguien sabe se lo agradecería bastante. No se si se entiende lo que expuse
4083,android,Tengo un AutoCompleteTextView que muestra las coincidencias desde una consulta SQL. Las coincidencias están en una List<Predio> donde Predio es un objeto con los datos de un terreno. El AutoCompleteTextView solo funciona bien cuando selecciono el primer item y al seleccionar desde el segundo obtengo el siguiente error:
Exception
java.lang.IndexOutOfBoundsException: Invalid index 1, size is 1
at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:255)
at java.util.ArrayList.get(ArrayList.java:308)
at com.prueba.sti.adapters.PredioAdapter.getItem(PredioAdapter.java:42)
at com.prueba.sti.adapters.PredioAdapter.getItem(PredioAdapter.java:21)
at android.widget.AdapterView.getItemAtPosition(AdapterView.java:764)
at com.prueba.sti.InventarioFragment$2.onItemClick(InventarioFragment.java:75)
at android.widget.AutoCompleteTextView.performCompletion(AutoCompleteTextView.java:902)
at android.widget.AutoCompleteTextView.access$500(AutoCompleteTextView.java:91)
at android.widget.AutoCompleteTextView$DropDownItemClickListener.onItemClick(AutoCompleteTextView.java:1192)
at android.widget.AdapterView.performItemClick(AdapterView.java:299)
at android.widget.AbsListView.performItemClick(AbsListView.java:1113)
at android.widget.AbsListView$PerformClick.run(AbsListView.java:2911)
at android.widget.AbsListView$3.run(AbsListView.java:3645)
at android.os.Handler.handleCallback(Handler.java:733)
at android.os.Handler.dispatchMessage(Handler.java:95)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5001)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
at dalvik.system.NativeStart.main(Native Method)
Adapter
public class PredioAdapter extends ArrayAdapter<Predio> implements Filterable {
private LayoutInflater mInflater = null;
Context context;
List<Predio> predios = null;
public PredioAdapter(Context context, List<Predio> predios) {
super(context, 0, predios);
this.context = context;
this.predios = predios;
mInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
}
@Override
public int getCount() {
return this.predios.size();
}
@Override
public Predio getItem(int position) {
return this.predios.get(position);
}
@Override
public long getItemId(int position) {
return position;
}
public View getView(final int position, View convertView, ViewGroup parent) {
Predio predio = getItem(position);
if (convertView == null) {
convertView = mInflater.inflate(R.layout.dropdown_item, parent, false);
}
TextView txtSISCOP = (TextView) convertView.findViewById(R.id.txtCodigoSISCOPItem);
TextView txtNombre = (TextView) convertView.findViewById(R.id.txtNombrePredio);
txtSISCOP.setText(predio.getCodigo_siscop());
txtNombre.setText(predio.getNombre());
return convertView;
}
@Override
public Filter getFilter() {
Filter filter = new Filter() {
@Override
protected FilterResults performFiltering(CharSequence constraint) {
FilterResults filterResults = new FilterResults();
if (constraint != null) {
Log.i("ADAPTER", predios.toString());
Log.i("ADAPTER", predios.size() + "");
filterResults.values = predios;
filterResults.count = predios.size();
}
return filterResults;
}
@Override
protected void publishResults(CharSequence constraint, FilterResults results) {
if (results != null && results.count > 0) {
notifyDataSetChanged();
} else {
notifyDataSetInvalidated();
}
}
};
return filter;
}
}
Y este es el onCreateView() desde donde se llama el Adapter:
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
View view = inflater.inflate(R.layout.fragment_inventario, container, false);
try {
acPredios = (AutoCompleteTextView) view.findViewById(R.id.acPredios);
acPredios.addTextChangedListener(new TextWatcher() {
@Override
public void beforeTextChanged(CharSequence s, int start, int count, int after) {
}
@Override
public void onTextChanged(CharSequence s, int start, int before, int count) {
predios = new PredioSQL(getContext()).getPredios(s.toString());
adapter = new PredioAdapter(getContext(), predios);
acPredios.setAdapter(adapter);
}
@Override
public void afterTextChanged(Editable s) {
}
});
acPredios.setOnItemClickListener(new AdapterView.OnItemClickListener() {
@Override
public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
Predio predio = (Predio) parent.getItemAtPosition(position);
Log.i("onItemSelected", predio.getId_remota() + "");
Log.i("onItemSelected", predio.getCodigo());
Log.i("onItemSelected", parent.getItemAtPosition(position).toString());
}
});
} catch (Exception e) {
e.printStackTrace();
}
return view;
}
4084,c#,Amigos, tengo un dilema. Encontré una clase la cual controla un proxy.
Lo que no logro saber es como usarla para enviar paquetes.
La sentencia sería PortListener.SendToServer(" BINARIO ");
Este dato me da el proxy como ejemplo de "dato"
Message(3:2:05:01)
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Net;
using System.IO;
using System.Threading;
using System.Runtime.InteropServices;
using System.Net.Sockets;
namespace AOPacketListener
{
class Program
{
static void Main(string[] args)
{
ExecuteCommand("X-Runner.cmd");
StartListening();
}
private static void ExecuteCommand(string command)
{
System.Diagnostics.ProcessStartInfo processInfo;
System.Diagnostics.Process process;
processInfo = new System.Diagnostics.ProcessStartInfo("cmd.exe", "/c " + command);
processInfo.CreateNoWindow = true;
processInfo.UseShellExecute = false;
processInfo.RedirectStandardError = true;
processInfo.RedirectStandardOutput = true;
process = System.Diagnostics.Process.Start(processInfo);
process.WaitForExit();
// *** Read the streams ***
string output = process.StandardOutput.ReadToEnd();
string error = process.StandardError.ReadToEnd();
int exitCode = process.ExitCode;
Console.WriteLine("Error: " + error);
Console.WriteLine("Exit-Code: " + exitCode);
process.Close();
}
public static void StartListening()
{
try
{
//AllocConsole();
TcpListener r_Server = new TcpListener(IPAddress.Loopback, 1337);
r_Server.Start();
bool isActive = true;
while (isActive)
{
Console.Write("Waiting for a connection... ");
//!
//! Wait for the client to connect.
//!
TcpClient r_Client = r_Server.AcceptTcpClient();
Console.WriteLine("Connected!");
//!
//! Get the stream.
//!
NetworkStream r_IOStream = r_Client.GetStream();
//!
//! Keep executing while the client is active.
//!
while (r_Client.Connected)
{
using (var r_IOReader = new BinaryReader(r_IOStream))
{
while (r_IOReader != null)
{
if (r_IOStream.DataAvailable)
{
Byte r_ID = r_IOReader.ReadByte();
UInt16 r_Length = ReverseBytes(r_IOReader.ReadUInt16());
byte[] r_Message = r_IOReader.ReadBytes(r_Length);
Console.WriteLine("Message({0}:{1}:{2})", r_ID, r_Length, BitConverter.ToString(r_Message).Replace("-", ":"));
if (r_ID == 0x03)
Reply(r_IOStream, r_Message, r_Length, r_ID);
}
}
}
}
//!
//! Shutdown and end connection.
//!
r_Client.Close();
isActive = false;
}
}
catch (Exception exception)
{
Console.WriteLine("SocketException: {0}", exception);
}
}
public static UInt16 ReverseBytes(UInt16 value)
{
return (UInt16)((value & 0xFFU) << 8 | (value & 0xFF00U) >> 8);
}
public static void SendToClient(NetworkStream pStream, String pMessage)
{
if (!string.IsNullOrEmpty(pMessage))
Send(pStream, pMessage, true);
}
public static void SendToServer(NetworkStream pStream, String pMessage)
{
if (!string.IsNullOrEmpty(pMessage))
Send(pStream, pMessage, false);
}
public static void Send(NetworkStream pStream, String pMessage, bool pForClient)
{
int len = (pMessage.Length + 1) * 2;
Byte[] r_Reply = Enumerable.Repeat((byte)0x00, 0x03 + len).ToArray();
r_Reply[0x00] = pForClient ? (byte)0x01 : (byte)0x02;
r_Reply[0x01] = (Byte)((len >> 0x08) & 0xFF);
r_Reply[0x02] = (Byte)(len & 0xFF);
System.Array.Copy(Encoding.Unicode.GetBytes(pMessage), 0, r_Reply, 0x03, len - 0x02);
pStream.Write(r_Reply, 0, r_Reply.Length);
pStream.Flush();
}
public static void Reply(NetworkStream pStream, byte[] pData, UInt16 pLength, Byte pID)
{
Byte[] r_Reply = Enumerable.Repeat((byte)0x00, 0x03 + pLength).ToArray();
r_Reply[0x00] = pID;
r_Reply[0x01] = (Byte)((pLength >> 0x08) & 0xFF);
r_Reply[0x02] = (Byte)(pLength & 0xFF);
System.Array.Copy(pData, 0, r_Reply, 0x03, pLength);
pStream.Write(r_Reply, 0, r_Reply.Length);
pStream.Flush();
}
}
}
4086,php|html,Buenas noches. Es la primera vez que ocupo esta plataforma para realizar una consulta, espero puedan ayudarme.
Tengo ya creado un formulario para una compañía de telefonía. Se supone que la forma en la que funciona es que dependiendo de la ciudad seleccionada, la información se mande a los correos asignados a cada ciudad. Eso ya lo tengo funcional.
La cuestión es que mi cliente me pide que al seleccionar la ciudad de Veracruz, la información se mande a un correo electrónico escogido de manera aleatoria de un array que contiene 3 correos electrónicos diferentes.
<?php
$to =       $_POST['to'];
$correosver =  array("mbravo15@gmail.com", "kurtcobain555@hotmail.com", "cotizaciones@$$$.com.mx");
$randIndex  =  array_rand($correosver, 1);
$subject =  $_POST['subject'];
$headers  = 'MIME-Version: 1.0' . "\r\n";
$headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n";
$headers .= "From: ".$_POST['nombre']."<".$_POST['email'].">\r\n";
$headers .= "Reply-To: ".$_POST["email"]."\r\n";
$ciudad =                $_POST['ciudad'];
$message = "<table>
<tr><td>Quiero: </td><td>".$_POST['quiero']."</td></tr>
<tr><td>Nombre: </td><td>".$_POST['nombre']."</td></tr>
<tr><td>Ciudad: </td><td>".$_POST['ciudad']."</td></tr>
<tr><td>Email: </td><td>".$_POST['email']."</td></tr>
<tr><td>Teléfono: </td><td>".$_POST['tel']."</td></tr>
<tr><td>Companía: </td><td>".$_POST['compania']."</td></tr>
<tr><td>Contrato: </td><td>".$_POST['plan']."</td></tr>
<tr><td>Equipo: </td><td>".$_POST['equipo']."</td></tr>
<tr><td>Dudas: </td><td>".$_POST['dudas']."</td></tr>
</table>" ;
if($ciudad == 'veracruz') {
$to = $randIndex;
}
else if($ciudad == 'alvarado') {
$to = 'cotizaciones@###.com.mx';
}
else if($ciudad == 'tuxtepec') {
$to = 'supervisorcuenca@###.com.mx, cotizaciones@###.com.mx';
}
else if($ciudad == 'poza_rica') {
$to = 'supervisorpozarica@###.com.mx, cotizaciones@###.com.mx';
}
else if($ciudad == 'xalapa') {
$to = 'supervisorxalapa@###.com.mx, cotizaciones@###.com.mx';
}
else if($ciudad == 'san_andres') {
$to = 'supervisorcuenca@###.com.mx, cotizaciones@###.com.mx';
}
if(mail($to, $subject, $message, $headers)){
header("Location: /index.html");
exit; // we are sending this text to the ajax request telling it that the mail is sent..
}else{
echo 'failed';// ... or this one to tell it that it wasn't sent
}
?>
Estoy ocupando un array con los correos:
$correosver =  array("mbravo15@gmail.com", "kurtcobain555@hotmail.com", "cotizaciones@$$$.com.mx");
Y un array_rand con index para indexar y revolver los elementos del array:
$randIndex  =  array_rand($correosver, 1);
Mi lógica indica que al seleccionar veracruz la variable $to sea igual al contenido random de la variable $randIndex.
if($ciudad == 'veracruz') {
$to = $randIndex;
}
No se si mi sintaxis sea la correcta o que este haciendo mal, pero los correos no llegan a sus destinatarios y no me marca ningún tipo de error. No se si podrían ayudarme o señalarme alguna otra manera de abordar este problema. Saludos.
4090,php,Necesito ayuda con un error, estoy insertando datos en una tabla llamada "posts" pero me da la noticia de que en ciertos campos en los que se permite null pone "Undefined index ... in ..........."
no entiendo porque se produce este error si supuestamente esos campos aceptan NULL.
Muchas gracias
Esto muestra en la pagina web que estoy haciendo como ejercicio
Aqui van los post
Notice: Undefined index: imagen in C:\xampp\htdocs\CursoVideo2Brain\blogphp\includes\posts.php on line 11
Notice: Undefined index: anio in C:\xampp\htdocs\CursoVideo2Brain\blogphp\includes\posts.php on line 12
Notice: Undefined index: mes in C:\xampp\htdocs\CursoVideo2Brain\blogphp\includes\posts.php on line 12
Notice: Undefined index: dia in C:\xampp\htdocs\CursoVideo2Brain\blogphp\includes\posts.php on line 12
Notice: Undefined index: subtitulo in C:\xampp\htdocs\CursoVideo2Brain\blogphp\includes\posts.php on line 14
Notice: Undefined index: texto in C:\xampp\htdocs\CursoVideo2Brain\blogphp\includes\posts.php on line 15
Aca esta el codigo que me genera el error:
<?php
$db = new SQLite3('database/blogs.db');
$resultado = $db->query("SELECT * FROM posts WHERE usuario='".$_SESSION['usuariotemporal']."' ORDER BY utc DESC LIMIT 3");
while($fila = $resultado->fetchArray())
{
echo "
<article>
<div id='logov2b' style='background:url(\"photo/".$_SESSION['imagen'].".jpg\");'></div>
<time>".$_SESSION['anio']."-".$_SESSION['mes']."-".$_SESSION['dia']."</time>
<h3>".$_SESSION['titulo']."</h3>
<h4>".$_SESSION['subtitulo']."</h4>
<p>".$_SESSION['texto']."</p>
<br/>";
if($_SESSION['login'] == "yes")
{
echo "<a href='includes/eliminarpost.php?utc=".$fila['utc']."'>Eliminar</a><br/>";
}
if($_SESSION['login'] == "yes")
{
echo "<a href='index.php?titulomod=".$fila['titulo']."&subtitulomod=".$fila['subtitulo']."&textomod=".$fila['texto']."&editando=yes&utc=".$fila['utc']."'>Modificar</a><br/>";
}
echo "</article>";
}
$db->close();
?>
4095,javascript|jquery,Desde hace poco me he valido de muchas formas con tal de sacar mejor partido a las bondades de Zepto, aunque para navegadores antiguos tuve que usar jQuery 1.12.0. Mi problema es que tenia que usar plugins y/o crear main.js para cada una de ellas, por tanto; eso ya no me gusta.
Lo hacía de esta forma:
document.write( '\u003Cscript src=js/' + ( !!global.HTMLCanvasElement && !!document.querySelectorAll && !!global.addEventListener ? 'zepto' : 'jquery' ) + '.min.js>\u003C/script>' );
Entonces, ¿cómo hacer posible usar solo Zepto para todos los navegadores incluyendo antiguos?
4097,javascript|jquery,Tengo un conjunto de div que puedo mostrar u ocultar mediante el uso de checkboxes. Estoy usando jQuery para encontrar los div con una cierta clase de CSS, y sólo mostrar ellos.
El html es el siguiente:
<div class="inputs">
<input class="filterbox" type="checkbox" value="azul" />Azul
<input class="filterbox" type="checkbox" value="verde" />Verde
<input class="filterbox" type="checkbox" value="rojo" />Rojo
</div>
<br>
<div class="tags azul">Azul</div>
<div class="tags verde azul">Verde y Azul</div>
<div class="tags verde rojo">Verde y Rojo</div>
Javascript/jQuery
$('input').click(function() {
$('.tags').hide();
$('input:checked').each(function(i) {
$('div.' + $(this).val()).show();
});
});
El problema que tengo es que si selecciono tanto el azul y el verde, en lugar de sólo de un div, muestra los tres, ya que todos los div tienen la clase CSS azul o verde.
Lo que quiero hacer es editar el código para que cuando selecciono más de un checkbox solo muestra los div que tienen ambas clases CSS.
JsFiddle
4100,php,tengo el siguiente código en php pero me manda un  Fatal error: Call to a member function fetch_assoc() on a non-object in /public_html/gcm/run.php on line 46r, pese a eso el script aparentemente funciona, como podria solucionarlo, leS mando el codigo:
$sql = "SELECT gcm_regid  FROM gcm_users WHERE papa1 = '$papa1'  AND  cel1 = '$cel1'";
echo $sql;
$result = $conn->query($sql);
if ($result->num_rows > 0) {
while($row = $result->fetch_assoc()) {
include_once '../gcm/GCM.php';
$regId = $row["gcm_regid"];
$message = $message;
echo $regId;
echo $message;
echo "entre";
$gcm = new GCM();
$registatoin_ids = array($regId);
$message = array("price" => $message);
$result = $gcm->send_notification($registatoin_ids, $message);
echo $result;
}
}else{
echo "0 results";
}
$conn->close();
4105,php,Tengo un script que viene desde un MySQL que lo simplifiqué para no poner el codigo completo. El caso es que en un servidor no funciona para nada y en el mío me da una advertencia (warning).
Aquí está el código:
$fecha = ("2016-02-12 12:06:07");
$fecha = date_format($fecha, 'Y-m-d');
Aquí el error:
Warning: date_format() expects parameter 1 to be DateTime, string
given in C:\Program Files (x86)\Vertrigo\www\scripts\data.php on line
14
4122,php,Estoy trabajando con algoritmos de ordenación y quise comprobar, solo por curiosidad, la vieja pregunta ¿Cuál es el algoritmo de ordenación más rápido?
Hice el típico script PHP para obtener el tiempo que se demora un algoritmo pero el resultado me confunde:
<?PHP
function microtime_float(){
list($useg, $seg) = explode(" ", microtime());
return ((float)$useg + (float)$seg);
}
$tiempo_inicio = microtime_float();
/* inicio del algoritmo de ordenación */
/* aqui va el algoritmo a observar*/
/* Fin del algoritmo de ordenación */
$tiempo_fin = microtime_float();
$tiempo = $tiempo_fin - $tiempo_inicio;
echo "Tiempo empleado: " . ($tiempo_fin - $tiempo_inicio);
?>
Hice algunas pruebas con distintos métodos de ordenación con una secuencia de números pequeña. y los resultados son demasiado distintos en cada prueba:
Por ejemplo: los resultados del Método Quick Sort: para la misma secuencia de 5 números fue la siguiente:
1 2 3 4 5 Tiempo empleado: 4.8160552978516
1 2 3 4 5 Tiempo empleado: 3.0994415283203
1 2 3 4 5 Tiempo empleado: 9.0122222900391
1 2 3 4 5 Tiempo empleado: 5.5074691772461
etc, etc
Como esto me pareció descabellado probé con una secuencia de 9999 números aleatorios y el resultado fue mucho más estable ya que el entero casi siempre era el mismo y solo cambiaban los decimales,
No obstante me surge la pregunta ¿Es profesional este método de testear performance en PHP? ¿Hay alguno mejor? ¿Siempre tendremos que llevar al extremo nuestros algoritmos para testearlos?
4123,android,Hice una aplicación para resoluciones 2560x1440,la estuve testeando en un Moto G con Android 5.01, al momento de subirla a la play, intenté buscarla desde el mismo dispositivo y tal parece que no es compatible porque no la encuentro.
Esto coloqué en el archivo Manifest:
<supports-screens android:smallScreens="true"
android:normalScreens="true"
android:largeScreens="true"
/>
<compatible-screens>
<screen
android:screenDensity="mdpi"
android:screenSize="normal" />
<screen
android:screenDensity="hdpi"
android:screenSize="normal"/>
<screen
android:screenDensity="xhdpi"
android:screenSize="large" />
<screen
android:screenDensity="xhdpi"
android:screenSize="xlarge" />
EDICIÓN
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="xx.xxxxx.xxxxxxxxxxxxx"
android:versionCode="3"
android:versionName="1.0.1a">
<uses-sdk android:minSdkVersion="15"
android:maxSdkVersion="23"/>
<supports-screens android:smallScreens="true"
android:normalScreens="true"
android:largeScreens="true"
/>
<compatible-screens>
<screen
android:screenDensity="mdpi"
android:screenSize="normal" />
<screen
android:screenDensity="hdpi"
android:screenSize="normal"/>
<screen
android:screenDensity="xhdpi"
android:screenSize="large" />
<screen
android:screenDensity="xhdpi"
android:screenSize="xlarge" />
</compatible-screens>
<!-- android:requiresSmallestWidthDp="600"  -->
<!--     android:resizeable="true"/>-->
<!-- android:anyDensity="true"-->
<!--<compatible-screens>
<screen
android:screenDensity="ldpi"
android:screenSize="small" />
<screen
android:screenDensity="mdpi"
android:screenSize="normal" />
<screen
android:screenDensity="xhdpi"
android:screenSize="large" />
<screen
android:screenDensity="xhdpi"
android:screenSize="xlarge" />
</compatible-screens>
-->
<application
android:name="xx.xxxxxxx.xxxxxxxxxx.xxxxxxxxxxx"
android:allowBackup="true"
android:icon="@mipmap/xxxxxxxxxx"
android:label="@string/app_name"
android:theme="@style/AppTheme" >
<activity
android:name="mx.xxxxxx.xxxxxxxxxx.SplashScreen"
android:label="@string/app_name" >
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
<activity
android:name="xx.xxxxxx.xxxxxxxxxx.MainScreen"
android:label="@string/title_activity_main_screen"
android:screenOrientation="landscape">
</activity>
<activity
android:name="xx.xx.xxxxxxxxxx.GameScreen"
android:label="@string/title_activity_game_screen"
android:noHistory="true"
android:screenOrientation="landscape">
</activity>
<activity
android:name="xx.xxxxx.mxxxxxxxxe.VideoView"
android:label="@string/title_activity_video_view"
android:screenOrientation="landscape">>
</activity>
<activity
android:name="xx.xx.xxxxxx.xxxx"
android:label="@string/title_activity_cards_view"
android:screenOrientation="landscape">>
</activity>
<activity
android:name="xx.xx.xxxxxxxxx.AboutScreen"
android:label="@string/title_activity_about_screen"
android:noHistory="true"
android:screenOrientation="landscape">>
</activity>
<activity
android:name="xx.xxxx.xxxxxxxxxx.VideoPlay"
android:label="@string/title_activity_video_play"
android:noHistory="true"
android:theme="@android:style/Theme.NoTitleBar.Fullscreen"
android:screenOrientation="landscape">>
</activity>
</application>
Hay que aclara que la tengo en todos los países, requiere mínimo Android Ice Cream.
¿Podría alguien orientarme a que se debe que no lo reconozca como dispositivo compatible?
Gracias de antemano.
4127,php,Sigo con mis problemas de fechas. Estoy comparando fechas con la función gregoriantojd pero no logro entender por qué me lanza un error llamado parse error syntaxis error.
Este es mi código:
function compararFechas($fecha_pago, $fecha_vence){
$valoresfecha_pago = $fecha_pago;
$valoresfecha_vence = $fecha_vence;
$diafecha_pago    = $valoresfecha_pago[0];
$mesfecha_pago    = $valoresfecha_pago[1];
$anyofecha_pago   = $valoresfecha_pago[2];
$diafecha_vence   = $valoresfecha_vence[0];
$mesfecha_vence   = $valoresfecha_vence[1];
$anyofecha_vence  = $valoresfecha_vence[2];
$diasfecha_pago = gregoriantojd($mesfecha_pago, $diafecha_pago, $anyofecha_pago);
$diasfecha_vence = gregoriantojd($mesfecha_vence, $diafecha_vence, $anyofecha_vence);
return   $diasfecha_vence - $diasfecha_pago;
}
$fecha_vence = "28-02-2016";
$hoy = date("d-m-Y");
echo compararFechas ($hoy,$fecha_vence);
4132,php,Quisiera compartir el contenido de un div en Facebook, el div se encuentra dentro de un ciclo for de PHP, por lo tanto varia información es cargada en una tabla. Lo que quisiera saber es cómo compartir el contenido de cada uno de los div que se generan.
Con el plugin de Facebook me comparte una imagen aleatoria, con una descripción aleatoria y el titulo de mi pagina.
Este es el código que me gustaría compartir. Que sería row->imagen, row->descripcion y row->titulo.
¿Alguien tiene una idea de cómo puede hacerse?
<td id="compartir"><div class="row-same-height row-full-height">
<div class="col-md-6 col-md-height col-full-height border-right">
<div class="panel">
<div class="col-md-5 blog-post-img">
<!------------------------------------------------------------------------------------------------------------------------------->
<?php if($row->imagen == ""){?>
<center><img src="class/imagen.png" style="max-height:500px;" alt=""></center>
<?php }else{ ?>
<center><img src="class/<?php print($row->imagen);?>"  style="max-height:400px;" alt=""></center>
<?php } ?>
<!-------------------------------------------------------------------------------------------------------------------------------->
<div class="col-md-7 panel-body">
<h4 id="hola"><?php print($row->titulo);?></h4>
<small style="font-size:20px;">Costo: $<?php print($row->costo);?><br><a href="#"><?php print($row->categoria);?></a></small>
<p><?php print($row->descripcion);?></p><br>
<!-- Boton de Compartir -->
<div class="fb-share-button" data-href="http://pagina.com/asdf/asdfasdf.php" data-layout="button_count"></div>
<br><br><br><br><br>
</div><!--/.panel-body-->
</div><!--/.panel-->
</div><!--/.col-->
</td>
4142,php,Tengo un servidor VPS instalado un Ubuntu Server 14.04, como servidor web Nginx 1.9 y estoy por poner en producción un proyecto desarrollado Yii2. El servidor se accesa por IP publica y la configurado del nginx es la siguiente forma:
server {
listen 80 default_server;
listen [::]:80 default_server;
root /var/vhosts/sac.local/rem;
autoindex on;
index index.php index.html index.htm index.nginx-debian.html;
access_log /var/log/nginx/sac.access.log combined;
error_log /var/log/nginx/sac.error.log;
server_name _;
location / {
try_files $uri $uri/ =404;
}
location ~ \.php$ {
try_files $uri =404;
fastcgi_split_path_info ^(.+\.php)(/.+)$;
fastcgi_pass unix:/var/run/php5-fpm.sock;
fastcgi_index index.php;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
fastcgi_intercept_errors on;
fastcgi_read_timeout 600;
include fastcgi_params;
}
}
He intentado agregar un location adicional con un alias para indicar la ruta del proyecto, pero no logro levantar el proyecto.
Básicamente necesito como agregar un configuración de tal manera que el proyecto sea accesado: http://xxx.xxx.xxx.xxx/v3
Alguna idea?
4146,javascript|jquery|html,Quería saber como realizar esto ya que mis intentos resultan en esto
.fondoHeadHome { height: 400px;}
.fondoHeadHome>h1 { font-family: 'Lato', sans-serif; font-size: 35px; font-weight: bold; color: white; text-shadow: 0 0 1em black;  padding-bottom: 0px; padding-top: 140px;}
.fondoHeadHome>p  { font-family: 'Lato', sans-serif; font-size: 25px; color:white; text-shadow: 0 0 1em black; padding-top: 10px; }
.fondoHeadHome    { /*background-image: url("banner-1920x400-1.jpg");*/ background-position: center;  background-size: 1920px 400px;}
video {
position: absolute;
top: 50%;
left: 50%;
height: inherit;
z-index: -100;
transform: translateX(-50%) translateY(-50%);
transition: 1s opacity;
}
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>
<div class="container">
<div class="fondoHeadHome row text-center">
<video preload="true" autoplay="autoplay" loop volume="0" poster="pic.jpg"  class="fillWidth">
<source src="https://morning-shelf-6185.herokuapp.com/assets/2015-01-01-bokeh-6e0d97b003dff1c88b95db3126cd4788.mp4">
</video>
<h1>COMPRA Y VENDE, MÁS FACIL</h1>
<p>
Únete al marketplace de moda y crea tu propia tienda.<br>
¡Una comunidad de miles de fashionistas te espera!
</p>
</div>
</div>
Solo puedo ponerlo en "toda la pantalla" pero quiero que tenga una altura de 400px de alto y 100% de largo (del tamaño del contenedor)
¿Alguna sugerencia?
4152,java|android,Estoy intentando usar FIREBASE en Android y he subido mi JSON creado en mi cuenta FIREBASE, pero algo que no entiendo es que nose si me coje mal el JSON, o la parte de "Retrieving Data" del Firebase la estoy haciendo mal, aqui os paso el JSON:
{
"Persona": [
{
"nombre": "X",
"apellido": "XX",
"ciudad": "XXX",
"hijoList": [
{
"nombreHijo": "XXXX",
"edadHijo": "XXXXX"
}
]
},
{......}
Me conecta y me hace un snapshot sin ningun problema, lo muestro por toast y me conecta bien, pero a la hora de usar mi clase Persona para obtener el nombre y apellido, hay algo que da error, os enseño mi clase Persona:
public class Persona{
private String nombre;
private String apellido;
private String ciudad;
private ArrayList<Hijo> hijoList;  // Clase hijo con nombre y edad como atributos
public Persona(){
//empty default constructor, necessary for Firebase to be able to deserialize Persona
}
Y a continuacion el codigo simple que por si acaso lo pongo por si no he entendido bien la API FB:
firebase.addValueEventListener(new ValueEventListener() {
@Override
public void onDataChange(DataSnapshot dataSnapshot) {
System.out.println("El numero total son: " + dataSnapshot.getChildrenCount());
for (DataSnapshot postSnapshot: dataSnapshot.getChildren()) {
Persona post = postSnapshot.getValue(Persona.class);
System.out.println("JSON FIREBASE: "+post.getNombre() + " - " + post.getApellido());
}
}
@Override
public void onCancelled(FirebaseError firebaseError) {
Toast.makeText(SplashActivity.this, "No se cargaron los personajes debido a: "
+ firebaseError, Toast.LENGTH_SHORT).show();
}
});
Cual es el problema? puede ser porque el JSON tiene Persona como array? Gracias por adelantado
4157,php,Estoy haciendo un mail en PHP y no tengo ningún problema en enviarlo ni nada de eso, solo que en el CSS del body tengo:
body {
background-image: url('http://ejemplo.com.mx/background-mail.jpg');
background-repeat:no-repeat; background-size:100%;
}
En Apple Mail si llega correctamente pero en Gmail, Outlook, y en otros no sale el background solo la típica imagen rota:
Alguna ayuda por favor.
4213,android,He estado un tiempo utilizando Genymotion en mi ordenador pero con problemas, a veces funcionaba otras veces no, me lo he reinstalado muchas veces y ahora ya definitivamente no me funciona.
El error exacto es:
tengo que activar la Virtualization en la BIOS, pero NO TENGO ESA OPCION, mi portatil es un Acer Aspire 5560G, con AMD A8
Me gustaría saber como puedo utilizar Genymotion o que necesito instalarme al no tener la opción de Virtualización en AMD.
Llame a Acer y me dijeron que mi ordenador no tiene la opcion de Virtualizacion... Aunque yo he podido usar alguna vez Genymotion con Windows 10 y creo que alguna actualizacion hizo que me fallase
4216,php,Necesito saber cuál es el equivalente de este código PHP en ASP.Net (con C#) y no se cómo hacerlo. ¿Alguien me puede indicar cómo se haría?
<?php
if (isset($_POST))
{
$array_resp = $_POST['row'];
print_r($array_resp);
}
?>
4230,php,¿Cómo puedo solucionar este error?
Database connection error (1): The MySQL adapter 'mysql' is not available.
En el momento de cargar el php.ini no me visualiza que esté cargando la extensión
extension=php_mysql.dll
extension=php_mysqli.dll
En el pnp.ini he habilitado las extensiones, he copiado los DLL en System32, he hecho de todo pero aún no me carga, no logro que PHP se configure con MySQL.
4232,javascript|html,¿Como puedo bloquear Internet Explorer en mi pagina? Necesito evitar que usen mi sitio web con Internet Explorer 9 o menor
4240,c#,Lo que busco es mejorar o saber si hay una forma distinta de realizar la edicion de los elementos de una lista para luego ser almacenada en la base de datos, actualmente estoy utilizando LINQ en C#, aqui les dejo el codigo esperando de su ayuda.
public bool DestroyItems(int userID, long projectID, int disciplineID)
{
try
{
using (var db = new buildbinderEntities())
{
// obtengo la lista
var updateElements = db.ContractItems.Where(w => w.ProjectID == projectID && w.DisciplineID == disciplineID).ToList();
// recorro la lista para modificar cada elemento por separado
foreach (var update in updateElements)
{
update.DeletedFlag = true;
update.DeletedDate = DateTime.Now;
update.DeletedUser = userID;
db.ContractItems.Attach(update);
db.Entry(update).State = EntityState.Modified;
db.SaveChanges();
}
}
return true;
}
catch (Exception)
{
return false;
}
}
4247,php,Tengo este problema al tratar de consumir un web service wsdl:
Unknown Content-Encoding
He tratado comprimiéndolo en GZIP mandándole el charset, pero al momento de ejecutar me da dicho error.
El código en php para este consumo es el siguiente:
$usuario="user1";
$location_URL = "https://www.txstestrbm.com/GlobalPayServicios/GlobalPayServicioDePago";
$pass="abc123";
$wsdl="https://www.pagosrbm.com/GlobalPayServicios/GlobalPayServicioDePago/GlobalPayServicioDePago.wsdl";
$mode = array (
'soap_version'  => 'SOAP_1_1', // use soap 1.1 client
'keep_alive'    => true,
'trace'         => 1,
'encoding'      => utf-8,
'compression'   => SOAP_COMPRESSION_ACCEPT | SOAP_COMPRESSION_GZIP | SOAP_COMPRESSION_DEFLATE,
'Content-Encoding'=> 'UTF-8',
'exceptions'    => true,
'cache_wsdl'    => WSDL_CACHE_NONE,
);
$options = array(
'trace'=>true,
'location' => $location_URL,
'credenciales' => array(
'idUsuario'    => $usuario,
'clave' => $pass
),
'cabeceraSolicitud' =>array(
'infoPuntoInteraccion'=> array(
'tipoTerminal'=> 'GlobalPay',
'idTerminal'=>'ESB10457',
'idAdquiriente'=>'0014591978',
'idTransaccionTerminal'=>'0101'
)
),
'infoCompra' => array(
'numeroFactura' => '',
'montoTotal' => '',
'infoImpuestos' => array(
'tipoImpuesto'=>'iva',
'monto' =>'0'
),
'montoDetallado' => array(
'tipoMontoDetallado'=>'precio',
'monto'=> '10000'
),
),
);
try {
$soap = new SoapClient($wsdl, $mode);
$data = $soap->IniciarTransaccionDeCompra($options);
} catch(Exception $e) {
die($e->getMessage());
}
var_dump($data);
die;
La página la pueden consultar aquí. Le agradecería a alguien si me puede ayudar con este error.
4248,php,Tengo un problema a la hora de obtener los valores de un formulario mediante el método POST a un PHP.
El formulario está en una ventana modal creada con BootStrap:
<form action='../php/editCardPatient.php' method='POST' role="form" data-toggle="validator">
<div class="row form-group">
<div class="col-xs-6 col-sm-6">
<label for="inputName" class="control-label">Nombre</label>
<input name='name' type="text" class="form-control" id="name" value="<?php
if(isset($_SESSION["name_patient"])) {
echo $_SESSION["name_patient"];
}?>" required disabled>
</div>
</div>
<div class="modal-footer" id='buttonAccept' style="display: none;">
<button type="button" class="btn btn-primary" onclick="funcionCancelCard()">Cancelar</button>
<button type='submit' value='EditAcc' class="btn btn-primary" onclick="funcionButtons()">Aceptar</button>
</div></form>
Y en el fichero editCardPatient.php lo primero que hago es declarar las variables:
/* Recogemos las variables introducidas en el formulario de patientCard.php */
$nameCardPatient     = trim($_POST['name']);
/* Creamos la conexión BD */
include("../php/conectionBD.php");
session_start();
El problema es que en la página, cuando pulso el botón para enviar el formulario me aparece un error en la página PHP:
¿Se os ocurre que puede ser?
4262,php,Instale Laracast/Flash en mi proyecto desarrollado en Laravel 5.2, todo esta perfecto, inserta y elimina y todo eso, pero cuando quiero mostrar un mensaje, no hace nada, es decir, realiza la opción pero no muestra el mensaje.
La vista tiene el Include de Flash @include('flash::message') pero aun asi no muestra nada.
¿Cual podria ser el problema?
Buscando e investigando el único que al parecer tiene la respuesta esta en este Link Mostrar mensaje con Flash en Laravel 5 al redireccionar Jose Gratereaux, pero no explica cómo lo realizó.
Gracias de antemano pro la ayuda.
4263,php,Tengo un problema con las fechas. Cuando obtengo un valor de tipo date de BBDD, lo muestro en el value de un input de type='date' no muestra la fecha, solo muestra dd/mm/aaaa.
<div class="col-xs-6 col-sm-6">
<label for="inputBirthday" class="control-label">Fecha de Nacimiento</label>
<input name='birthday' type="date" class="form-control" id="birthday" value="<?php
if(isset($_SESSION["birthday_patient"])) {
echo $_SESSION["birthday_patient"];
}?>" required>
Esta imagen hace referencia al input de tipo fecha:
Sin embargo, si pongo el input de tipo text, muestra correctamente la fecha pero cuando se va a editar no aparece el calendario de BootStrap.
¿Alguien sabe qué puede ser? He probado formatear la fecha en el value pero no hay manera.
4271,jquery,Tengo una tabla con varios inputs juntos y utilizo el plugin Tooltip de Jquery UI, para mostrar un mensaje cuando los campos son obligatorios, mi problema esta en la posición de los tooltip que aparecen uno sobre otro y lo que quiero es que se vea completo cada tooltip para cada input.
Así se ve ahora:
Estuve leyendo la api de Position de Jquery UI, option-Position, pero no logro dar con la solución.
Código Js:
$(input).tooltip({
content: mensaje,
items: "input.obligatorio",
track: true,
show: true,
tooltipClass: "tooltip-error"
});
HTML:
<div class="col-xs-5" style="height: 103px;">
<table class="table">
<thead class="text-center">
<tr class="cabeceraDos">
<th>
Columna 1
</th>
<th>
Columna 2
</th>
<th>
Columna 3
</th>
<th>
Columna 4
</th>
<th>
Columna 5
</th>
<th>
Columna 6
</th>
<th>
Columna 7
</th>
<th>
Columna 8
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column1"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column2"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column3"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column4"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column5"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column6"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column7"></asp:TextBox>
</td>
<td>
<asp:TextBox runat="server" CssClass="form-control obligatorio" MaxLength="1" ID="txt_column8"></asp:TextBox>
</td>
</tr>
</tbody>
</table>
</div>
4281,ios,Necesito hacer fondos para una aplicación en Swift, tengo las medidas de los distintos tamaños para cada iPhone:
Device          Points    Pixels     Scale  Physical Pixels   Physical PPI  Size
iPhone 6  plus  736x414   2208x1242  3x     1920x1080         401           5.5"
iPhone 6        667x375   1334x750   2x     1334x750          326           4.7"
iPhone 5        568x320   1136x640   2x     1136x640          326           4.0"
iPhone 4        480x320   960x640    2x     960x640           326           3.5"
iPhone 3GS      480x320   480x320    1x     480x320           163           3.5"
Tengo dos dudas:
¿El tamaño de mis imágenes debe ser el de la columna Physical Pixels?
¿Cuál es el tamaño para un fondo para el iPad e iPad Mini?
4285,jquery,Digamos que tengo una función definida en JQuery, la escribo de forma simplificada:
miFunc = function(elem) {
...
}
elem es un elemento HTML. Podría ser un elemento pasado al realizar la llamada por algún evento de ratón. Por ejemplo, un elemento div con el atributo onmouseover, como en el siguiente código.
<div class"unaClase" onmouseover="miFunc(this);">
<span class="otraClase"> ... </span>
</div>
Teniendo elem, ¿cómo podría acceder a los elementos que tengan la clase otraClase y estén dentro de elem? Por ejemplo, para el código mostrado, seleccionar el elemento span para modificar su contenido.
Evidentemente busco algo dinámico y estos ejemplos son casos concretos. Los elementos podrían no ser span y podría haber varios (o incluso no haber ninguno).
4295,php,Tengo un .arff con unos datos que tienen tres atributos string y luego uno numérico que es la clase. Cuando intento realizar el modelo para después predecir la clase de otros datos, no me deja indica:
Cannot handle string attributes!
Ya probé a realizar el filtro StringToNominal para parsear los datos string a un número, pero sigue sin funcionar. También probé con el filtro StringToWordVector, aunque esta vez me crea el modelo, luego cuando lo uso para predecir me indica que los datos son de la clase 0 o 1.
¿Cómo puedo traducir los atributos string en nominales?
4331,java|android,Últimamente las aplicaciones que salen, llevan incorporado lo de presionar dos veces el botón atrás físico como virtual para salir de la app, mostrando un mensaje `Presione una ves más para salir.
Tengo implementado lo siguiente:
En MainActivity principal declaro la variable canExitApp global para establecer si se ha pulsado alguna vez.
public class MainActivity extends AppCompatActivity {
...
private boolean canExitApp = false;
...
Y en el método onBackPressed compruebo la variable de estado si está a true sale de la app si está en false muestra el mensaje con un toast.
@Override
public void onBackPressed() {
//super.onBackPressed();
if (!canExitApp) {
canExitApp = true;
Toast.makeText(this, getString(R.string.app_back_pressed_exit), Toast.LENGTH_SHORT).show();
new Handler().postDelayed(new Runnable() {
@Override
public void run() {
canExitApp = false;
}
}, 2000);
} else {
super.onBackPressed();
}
}
Seria dejar X segundos al usuario para que vuelva a presionar para salir.
Ahora mismo solo funciona en activitys.
¿Cómo puedo añadir soporte para 'fragments', que si no queda ninguno en la pila, detecte si se quiere salir del todo?
Si uso por ejemplo un menú lateral que carga fragments, navego entre ellos, teniendo en cuenta que si hay alguno en pila, lo vaya mostrando, hasta llegar a 0, quiero que funcione la doble pulsación para salir.
4341,html,Tengo un problema con mi pagina, cuando cierro sesión destruyo las variables de sesión, si regreso a la pagina anterior con la flecha del navegador muestra mi pagina "menú" que ya tiene la validación de que no entre si las variables de sesión están vacías (ese el problema que tengo), he verificado que cuando actualizo mi pagina "menú" inmediatamente realiza lo que quiero que vaya a la pagina de logueo, estoy trabajando con web pages de diseño y contenido (similar a master pages) en vb.net
If Not Page.ispostback  Then
If Session("nombre") Is Nothing And Session("numero") Is Nothing Then
Response.Redirect("~/Index.aspx")
Else
PageData("Title") = "Escriba el título aquí"
Layout = "_Layout.vbhtml"
End If
End If
4342,java|android,Me encuentro que cuando le das la vuelta al dispositivo o bien si se oculta el teclado el Activity es restablecido de nuevo, pasando por onCreate() de nuevo.
Una posible solución seria usar savedInstanceState guardando una variable de estado, pero no ser si es la mejor solución.
¿Se puede prevenir de alguna forma, la recarga de nuevo del `Activity en rotar, o otros eventos posibles que lo hagan restablecer de nuevo?
4351,ios,voy comenzando en el lenguaje swift y mi duda es la siguiente:
Tengo tres UIViewController A,B y C.
De A => B no quiero muestre el UINavigationViewController
De B => C mostrar el UINavigationViewController para poder regresar a la ventana anterior.
Actualmente me muevo entre vistas utilizando:
let viewController = self.storyboard!.instantiateViewControllerWithIdentifier("ViewControllerA") as! ViewControllerA
self.presentViewController(viewController,animated: true, completion:nil)
4401,html,Estoy trabajando con bootstrap, y en una pagina web muestro imagenes, resulta que para que se vea bien la imagen en si, tiene que ser 630 x 380.
<img alt="" src="<%=ResolveUrl("~/img/blog/blog_2.png")%>" />
pero si ingreso otra imagen con dimensiones diferentes, queda muy desproporcionado con el resto del contenido web(los títulos mas arriba o abajo, la descripcion des-posicionada, etc). Pero si coloco las dimensiones fijas:
<img alt="" src="<%=ResolveUrl("~/img/blog/blog_2.png")%>" height="380" width="630" />
No se desproporciona el contenido web, pero si la foto queda mal, por ejemplo, sino es de la dimensión que ya les mencioné ; la imagen de una persona que mas gorda o delgada.
Me gustaría saber si existía algo que podría arreglar esto, como por ejemplo que corte alguna parte de la imagen para mostrar de forma correcta con la dimensión deseado, o si existe otra solución.
4402,javascript|jquery,Planteamiento
Quisiera hacer un div que fuera totalmente inmodificable, de preferencia, inseleccionable e inenfocable incluso si se encuentra dentro de un elemento que tenga habilitado el atributo contentEditable.
Nota: No puedo optar por poner el div fuera y posicionarlo con posición absoluta, debido a que necesito posicionarlo en forma relativa al contenedor superior.
Intentos
De momento he intentado con la moderna propiedad pointer-events, pero moviendo las flechas se puede burlar.
Así que como parche he intentado que al modificar el texto regrese a su valor original programáticamente.
var modificadoporcodigo = false;
$('#encabezado').bind("DOMSubtreeModified", function() {
/*console.log(e.which);
if (e.keyCode == 46 || e.keyCode == 46) {
alert('Lo sentimos, los encabezados no se pueden borrar');
}*/
if (modificadoporcodigo) {
modificadoporcodigo = false;
} else {
$('#encabezado').text('Prueba');
modificadoporcodigo = true;
}
});
#encabezado {
color: gray;
position: absolute;
top: 27px;
pointer-events: none;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="fondoCuerpo" class="col col-md-12">
<div class="Hojas" contentEditable="true">
<div id="encabezado">Prueba</div>
Hola Mundo!
</div>
</div>
4404,java|android,estoy usando un Adapter que extiende de RecyclerView.Adapter para mostrar información obtenida desde una consulta SQL. Cuando realizo la consulta a la BD obtengo un List<Inventario>.
Al ingresar un Inventario cuando List<Inventario> es de tamaño cero, obtengo la Exception UnsupportedOperationException y cuando su tamaño es mayor a cero funciona sin problemas.
InventarioFragment
public class InventarioFragment extends Fragment implements View.OnClickListener,
TimePickerDialog.OnTimeSetListener, DatePickerDialog.OnDateSetListener {
private RecyclerView.Adapter adapter;
private List<Inventario> inventarios;
...
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
View view = inflater.inflate(R.layout.fragment_inventario, container, false);
RecyclerView recycler = (RecyclerView) view.findViewById(R.id.rvInventarios);
recycler.setHasFixedSize(true);
RecyclerView.LayoutManager lManager = new LinearLayoutManager(getActivity());
recycler.setLayoutManager(lManager);
inventarios = new InventarioSQL(getContext()).getInventarios();
adapter = new InventarioAdapter(getContext(), inventarios);
recycler.setAdapter(adapter);
...
return view;
}
@Override
public void onClick(View v) {
switch (v.getId()) {
case R.id.fabAgregarInventario:
mostrarFormulario();
break;
case R.id.btnCancelarInventario:
dialog.dismiss();
break;
case R.id.btnCrearInventario:
if (this.validarFormulario()) {
try {
Inventario inventario = crearInventario();
inventarios.add(0, inventario);  // Acá se produce el error cuando el size() es cero.
adapter.notifyDataSetChanged();
} catch (Exception e) {
e.printStackTrace();
}
dialog.dismiss();
}
break;
}
}
...
}
Exception
java.lang.UnsupportedOperationException
at java.util.AbstractList.add(AbstractList.java:404)
at java.util.AbstractList.add(AbstractList.java:425)
at com.inventario.sti.InventarioFragment.onClick(InventarioFragment.java:134)
at android.view.View.performClick(View.java:4438)
at android.view.View$PerformClick.run(View.java:18422)
at android.os.Handler.handleCallback(Handler.java:733)
at android.os.Handler.dispatchMessage(Handler.java:95)
at android.os.Looper.loop(Looper.java:136)
at android.app.ActivityThread.main(ActivityThread.java:5001)
at java.lang.reflect.Method.invokeNative(Native Method)
at java.lang.reflect.Method.invoke(Method.java:515)
at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
at dalvik.system.NativeStart.main(Native Method)
InventarioAdapter
public class InventarioAdapter extends RecyclerView.Adapter<InventarioAdapter.InventarioViewHolder> {
private List<Inventario> items;
private Context context;
public InventarioAdapter(Context context, List<Inventario> items) {
this.items = items;
this.context = context;
}
@Override
public InventarioViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {
View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.cardview_inventario, parent, false);
return new InventarioViewHolder(v);
}
@Override
public void onBindViewHolder(InventarioViewHolder holder, int position) {
String nombreInventario = new InventarioSQL(context).getInventario(items.get(position).getInventario_id()).getNombre();
...
holder.inventario.setText(nombreInventario);
...
}
@Override
public int getItemCount() {
return items.size();
}
public static class InventarioViewHolder extends RecyclerView.ViewHolder {
public TextView inventario;
...
public InventarioViewHolder(View itemView) {
super(itemView);
inventario = (TextView) itemView.findViewById(R.id.inventario);
...
}
}
}
InventarioSQL
public class InventarioSQL {
private InventarioDao inventarioDao;
public InventarioSQL(Context context) {
DaoMaster.DevOpenHelper openHelper = new DaoMaster.DevOpenHelper(context, "sti-db", null);
SQLiteDatabase db = openHelper.getWritableDatabase();
DaoMaster daoMaster = new DaoMaster(db);
DaoSession daoSession = daoMaster.newSession();
inventarioDao = daoSession.getInventarioDao();
}
public List<Inventario> getInventarios() {
return inventarioDao.queryBuilder().orderDesc(InventarioDao.Properties.Creado_el).list();
}
public Inventario getInventario(Integer id) {
return inventarioDao.queryBuilder().where(InventarioDao.Properties.Id.eq(id)).unique();
}
public void addInventario(Inventario inventario) {
inventarioDao.insert(inventario);
}
public void updateInventario(Inventario inventario) {
inventarioDao.update(inventario);
}
}
crearInventario()
private Inventario crearInventario() {
UserLocalStore userLocalStore = new UserLocalStore(getContext());
InventarioSQL inventarioSQL = new InventarioSQL(getContext());
String username = userLocalStore.getUsername();
Usuario usuario = null;
Inventario nuevoInventario;
int tipoInventario;
String observaciones;
Date fecha = new Date();
try {
usuario = new UsuarioSQL(getContext()).getUsuario(username);
tipoInventario = spinnerTipoInventario.getSelectedItemPosition();
observaciones = txtObservaciones.getText().toString();
nuevoInventario = new Inventario();
nuevoInventario.setUsuario_id(usuario.getId_remota());
nuevoInventario.setTipo_inventario_id(tipoInventario);
nuevoInventario.setObservaciones(observaciones);
nuevoInventario.setCreado_el(fecha);
inventarioSQL.addInventario(nuevoInventario);
} catch (Exception e) {
e.printStackTrace();
if (usuario == null) {
Toast.makeText(getContext(), username + " no está registrado.", Toast.LENGTH_LONG).show();
}
return null;
}
return nuevoInventario;
}
4447,android,Estoy desarrollando una aplicación en Android y le implemente un lector de códigos de barra bluetooth, el problema es que no he podido conseguir leer lo que el dispositivo entrega. En mi clase puedo ver y obtener los dispositivos asociados a mi teléfono pero no consigo poder leer lo que entrega.
Dejo la clase que ocupo y si alguien puede darme una ayuda con esto se agradecería.
import android.os.Bundle;
import android.app.Activity;
import android.bluetooth.BluetoothAdapter;
import android.bluetooth.BluetoothDevice;
import android.bluetooth.BluetoothSocket;
import android.content.BroadcastReceiver;
import android.content.Context;
import java.io.BufferedReader;
import java.io.Closeable;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.util.Set;
import java.util.UUID;
import android.content.Intent;
import android.content.IntentFilter;
import android.util.Log;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.Button;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
public class Test extends Activity {
private static final int REQUEST_ENABLE_BT = 1;
private Button onBtn;
private Button offBtn;
private Button listBtn;
private Button findBtn;
private TextView text;
private BluetoothAdapter myBluetoothAdapter;
private Set<BluetoothDevice> pairedDevices;
private ListView myListView;
private ArrayAdapter<String> BTArrayAdapter;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.test);
// take an instance of BluetoothAdapter - Bluetooth radio
myBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();
if(myBluetoothAdapter == null) {
onBtn.setEnabled(false);
offBtn.setEnabled(false);
listBtn.setEnabled(false);
findBtn.setEnabled(false);
text.setText("Status: not supported");
Toast.makeText(getApplicationContext(),"Your device does not support Bluetooth",
Toast.LENGTH_LONG).show();
} else {
text = (TextView) findViewById(R.id.text);
onBtn = (Button)findViewById(R.id.turnOn);
onBtn.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View v) {
// TODO Auto-generated method stub
on(v);
}
});
offBtn = (Button)findViewById(R.id.turnOff);
offBtn.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View v) {
// TODO Auto-generated method stub
off(v);
}
});
listBtn = (Button)findViewById(R.id.paired);
listBtn.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View v) {
// TODO Auto-generated method stub
list(v);
}
});
findBtn = (Button)findViewById(R.id.search);
findBtn.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View v) {
// TODO Auto-generated method stub
find(v);
}
});
myListView = (ListView)findViewById(R.id.listView1);
// create the arrayAdapter that contains the BTDevices, and set it to the ListView
BTArrayAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1);
myListView.setAdapter(BTArrayAdapter);
}
}
public void on(View view){
if (!myBluetoothAdapter.isEnabled()) {
Intent turnOnIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);
startActivityForResult(turnOnIntent, REQUEST_ENABLE_BT);
Toast.makeText(getApplicationContext(),"Bluetooth turned on" ,
Toast.LENGTH_LONG).show();
}
else{
Toast.makeText(getApplicationContext(),"Bluetooth is already on",
Toast.LENGTH_LONG).show();
}
}
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
// TODO Auto-generated method stub
if(requestCode == REQUEST_ENABLE_BT){
if(myBluetoothAdapter.isEnabled()) {
text.setText("Status: Enabled");
} else {
text.setText("Status: Disabled");
}
}
}
public void list(View view){
// get paired devices
pairedDevices = myBluetoothAdapter.getBondedDevices();
// put it's one to the adapter
for(BluetoothDevice device : pairedDevices)
BTArrayAdapter.add(device.getName()+ "\n" + device.getAddress());
Toast.makeText(getApplicationContext(),"Show Paired Devices",
Toast.LENGTH_SHORT).show();
}
final BroadcastReceiver bReceiver = new BroadcastReceiver() {
public void onReceive(Context context, Intent intent) {
String action = intent.getAction();
// When discovery finds a device
if (BluetoothDevice.ACTION_FOUND.equals(action)) {
// Get the BluetoothDevice object from the Intent
BluetoothDevice device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);
// add the name and the MAC address of the object to the arrayAdapter
BTArrayAdapter.add(device.getName() + "\n" + device.getAddress());
BTArrayAdapter.notifyDataSetChanged();
}
}
};
public void find(View view) {
if (myBluetoothAdapter.isDiscovering()) {
// the button is pressed when it discovers, so cancel the discovery
myBluetoothAdapter.cancelDiscovery();
}
else {
BTArrayAdapter.clear();
myBluetoothAdapter.startDiscovery();
registerReceiver(bReceiver, new IntentFilter(BluetoothDevice.ACTION_FOUND));
}
}
public void off(View view){
myBluetoothAdapter.disable();
text.setText("Status: Disconnected");
Toast.makeText(getApplicationContext(),"Bluetooth turned off",
Toast.LENGTH_LONG).show();
}
@Override
protected void onDestroy() {
// TODO Auto-generated method stub
super.onDestroy();
unregisterReceiver(bReceiver);
}
}
4449,php,Estoy trabajando con gráficos Highcharts generando una solicitud jQuery.get() desde el gráfico al archivo temperatura3.php. Para que el gráfico funcione correctamente, el JSON debe tener tener el siguiente formato:
[{"item": "minima", "data":[["2015-12-28",8.8],["2015-12-29",10.8],["2015-12-30",15.3]]},
{"item": "maxima", "data":[["2015-12-28",28.7],["2015-12-29",27.5],["2015-12-30",31.1]]}]
La rutina (resumida) que estoy utilizando para obtener dicho  formato es la siguiente:
$minima='{"item": "minima", "data":[';
$maxima='{"item": "maxima", "data":[';
foreach($stm->fetchAll(PDO::FETCH_ASSOC) as $r)
{
$minima.='["'. $r['fecha'].'",'.$r['minima'].'],';
$maxima.='["'. $r['fecha'].'",'.$r['maxima'].'],';
}
$minima.=']}';
$maxima.=']}';
$datos = '['.$minima.','.$maxima.']';
$datos= str_replace(",]", "]", $datos);
echo json_encode($datos,JSON_NUMERIC_CHECK);
La tabla resumida tiene el siguiente formato
id       fecha       maxima  minima
------  ----------  ------  --------
1  2015-12-28    28.7       8.8
2  2015-12-29    27.5      10.8
3  2015-12-30    31.1      15.3
Es eficaz pero no es lo óptimo y menos eficiente. Por lo que intuyo que debe haber alguna forma menos ingenua de hacerlo ya sea a través de un array multidimencional de objetos o alguna solución que no he logrado ver.
4469,php,Estoy creando un módulo en un sistema con PHP y MySQL, en donde estoy realizando una agenda para eventos. Tengo una tabla con los siguientes campos:
id_evento
nombre_evento
fechaInicial
fechaFinal
id_ubicacion
En el formulario de creación para la agenda, el usuario tiene dos input de tipo date, donde ingresa la fecha inicial y la fecha final de su evento, supongamos que tengo dado de alta un evento con la fechaIncial = '2016-02-18' y fechaFinal = '2016-02-22'.
Si el usuario ingresa fechaIncial = '2016-02-19' y fechaFinal = '2016-02-19' como válido que se encuentra ya registrado un evento entre el 18 y el 22, que es donde entraría el dia 19.
Actualmente tengo esta consulta pero no estoy seguro de su funcionamiento porque solo me valida los OR
SELECT id_evento,nombre_evento,id_ex_ubicacion,fecha_ini_evt,fecha_fin_evt,hora_ini_evt‌​,hora_fin_evt
FROM eventos
WHERE fecha_ini_evt >= '2016-02-19'
AND fecha_fin_evt <= '2016-02-19'
OR fecha_fin_evt BETWEEN '2016-02-19' AND '2016-02-19'
OR fecha_ini_evt BETWEEN '2016-02-19' AND '2016-02-19'
AND id_ex_ubicacion = 1
4477,jquery|html,Tengo una tabla donde coloco varios datos resultado de una consulta SQL, para cada registro que regrese una consulta coloco un botón para que muestre los datos en un form del registro que seleccioné hasta el momento sólo puedo recuperar un solo valor con este código, ¿cómo puedo recuperar los demás valores del registro que seleccioné?
$('#modalSi').on('show.bs.modal', function (e) {
var id = $(e.relatedTarget).data().id;
$(e.currentTarget).find('#txtNombre').val(id);
});
Éste es el enlace con que abro la ventana modal, a través del atributo data-id le paso el valor id que ha seleccionado, se pueden pasar más valores
<a href="#" id="link1" data-id="row.id" data-toggle="modal" data-target="#modalSi"><button type="button" class="btn btn-success">Si&nbsp;&nbsp;</button></a>
Y éste es el HTML:
<!--modal-->
<div class="modal fade bs-example-modal-lg" id="modalSi" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-body">
<!-- body panel -->
<div id="panelNo" class="panel panel-primary">
<div class="panel-heading">
<h3 class="panel-title">Reporte de renovación </h3>
</div>
<div class="panel-body">
<form class="form-horizontal">
<div class="form-group">
<label for="lblNombre" class="control-label col-sm-2">Nombre</label>
<div class="input-group date col-sm-10">
<span class="input-group-addon">
<span class="glyphicon glyphicon-user"></span>
</span>
<input type="text" class="form-control" id="txtNombre" disabled>
</div>
</div>
<div class="form-group">
<label for="lblTelefono" class="control-label col-sm-2">Telefono</label>
<div class="input-group date col-sm-10">
<span class="input-group-addon">
<span class="glyphicon glyphicon-phone"></span>
</span>
<input type="text" class="form-control" id="txtTelefono" disabled>
</div>
</div>
<div class="form-group">
<label for="lblFechaa" class="control-label col-sm-2">Fecha Activación</label>
<div class="input-group date col-sm-10">
<span class="input-group-addon">
<span class="glyphicon glyphicon-calendar"></span>
</span>
<input type="text" class="form-control" id="txtFechaa" disabled>
</div>
</div>
<div class="form-group">
<label for="lbltipoTramite" class="control-label col-sm-2">Opciones</label>
<div class="input-group date col-sm-10">
<span class="input-group-addon">
<span class="glyphicon glyphicon-th-list"></span>
</span>
<select name="tipo" size="1" id="tipo" class="form-control">
<option value="">--Seleccionar--</option>
<option value="1">Buzón</option>
<option value="2">Fuera de servicio / número ha cambiado</option>
<option value="3">No contesta</option>
</select>
</div>
</div>
<div class="form-group">
<label class="control-label col-sm-2"></label>
<div class="col-sm-10">
<input type="button" name="Submit" value="Guardar" id="btn-enviar" class="btn btn-success" />
</div>
</div>
</form>
</div>
</div>
</div>
</div>
<!--modal-->
4497,php,Tengo mi sitio web (html5, css3, js, php, codeigniter). Soy un estudiante principiante en esta área de desarrollo web y me gustaría saber como es posible alojar mi sitio web a un servicio de hosting gratuito.
Agradecería encales sobre servicios de hosting gratuitos y tutoriales
si es posible.
Gracias!
4505,html,¿Cómo organizo las hojas de estilo? Ahora mismo tengo solo una hoja: style.css, que utilizo en mi proyecto.
Mi pregunta es, si es más eficiente agregar los estilos restantes al mismo fichero o crear otro para cada página.
¿Cuál sería la mejor forma de mejorar la jerarquía de ficheros de un sitio?
4506,android,quería saber si hay alguna manera de utilizar Sublime Text para programar en android, a la hora de escribir el código fuente se que si puedo, pero para errores/compilar y tal hay algún plugin o tendré que hacerlo a mano?
El Android Studio se que es realmente bueno, pero mi ordenador de 6GB de RAM se queda corto para que funcione fluido.
Gracias de antemano :D
4517,ios,Buenas quiero implementar un scrollView pero sin utilizar el UIScrollView.
No puedo utilizar el UIScrollView por que CVCalendar tiene un problema el Framework y cuando se añade un ScrollView deja de funcionar.
Por eso estoy buscando alguna alternativa de agregar el Scroll mediate código, si alguien sabe como hacerlo o que me proporcione un enlace de ayuda.
4518,java|android,El problema es el siguiente: Necesito obtener el ViewGroup para inflar y así poder inicializar mi RecyclerView porqué cuando cambio de Tab (Pestaña) y regreso a esta tengo todo el Fragment en blanco. He estado leyendo y probando y dicen que lo debo de hacer en onCreate, no lo consigo, otros que en onAttach, dónde?
Dejo un fragmento del código...
...
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
// AQUÍ QUIERO INFLAR Y HACER LO DE onCreateView
}
...
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
super.onCreateView(inflater, container, savedInstanceState);
final View view = inflater.inflate(R.layout.fragment_news_list, container, false);
mRecyclerView = (RecyclerView) view.findViewById(R.id.recycler_view_news_list);
mRecyclerView.setHasFixedSize(true);
mRecyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));
updateUI();
return view;
}
@Override
public void onResume() {
super.onResume();
updateUI();
}
protected void updateUI() {
List<News> news = NewsLab.getInstance(getActivity()).getArticles();
if (mAdapter == null) {
mRecyclerView.setAdapter(mAdapter = new NewsAdapter(news));
} else {
mAdapter.setNews(news);
mAdapter.notifyDataSetChanged();
}
}
...
Actualizo
public class HomeActivity extends AppCompatActivity  {
// PROPERTIES
private ViewPager mViewPager;
// MENU METHODS
@Override
public boolean onCreateOptionsMenu(Menu menu) {
getMenuInflater().inflate(R.menu.activity_home_menu, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
switch (item.getItemId()) {
case R.id.to_search_menu_item:
return true;
default:
return super.onOptionsItemSelected(item);
}
}
// METHODS
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_home);
Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
setSupportActionBar(toolbar);
setupViewPager(mViewPager = (ViewPager) findViewById(R.id.container));
TabLayout tabLayout = (TabLayout) findViewById(R.id.tabs);
tabLayout.setupWithViewPager(mViewPager);
}
private void setupViewPager(ViewPager viewPager) {
SectionsPagerAdapter adapter = new SectionsPagerAdapter(getSupportFragmentManager());
adapter.addFragment(new NewsTagFragment(), getString(R.string.tag_news));
adapter.addFragment(new CommercesTagFragment(), getString(R.string.tag_commerces));
adapter.addFragment(new OffersTagFragment(), getString(R.string.tag_offers));
adapter.addFragment(new ServicesTagFragment(), getString(R.string.tag_services));
viewPager.setAdapter(adapter);
}
// INNED CLASSES
public class SectionsPagerAdapter extends FragmentPagerAdapter {
// PROPERTIES
private final List<Fragment> mFragmentList = new ArrayList<>();
private final List<String> mFragmentTitleList = new ArrayList<>();
// CONSTRUCTORS
public SectionsPagerAdapter(FragmentManager fm) {
super(fm);
}
// METHODS
public void addFragment(Fragment fragment, String title) {
mFragmentList.add(fragment);
mFragmentTitleList.add(title);
}
// OVERRIDE METHODS
@Override
public Fragment getItem(int position) {
return mFragmentList.get(position);
}
@Override
public int getCount() {
return mFragmentList.size();
}
@Override
public CharSequence getPageTitle(int position) {
return mFragmentTitleList.get(position);
}
}
Gracias.
4526,c++,Necesito que mi constructor inicie cada elemento de mi arreglo en 0.0, pero con mi código me dice que:
Error C2512 'Vendedor': no appropriate default constructor available".
Anexo el código:
#pragma once
#include <iostream>
#include <iomanip>
using namespace std;
class Vendedor
{
public:
Vendedor(float Ventas[12]);
void asignaventas(float);
void imprimeventas();
private:
float Ventas[12];
float VentasTotal;
float CalVtasTotal(float);
float Ventastotal =0; }
#include "Vendedor.h"
#include <iostream>
using namespace std;
Vendedor::Vendedor(float Ventas[12]) {
for (int i = 0; i < 12; i++) {
this->Ventas[i] = 0.0f;
}
}
void Vendedor::asignaventas(float Ventas) {
float x = 0;
cout << "Introdusca la cantidad de ventas realizadas en los 12 meses: "<<endl;
for (int i = 0; i < 12; i++) {
cin >> x;
this->Ventas[i] = x;
}
}
void Vendedor::imprimeventas() {
cout << " Las ventas ascienden a: " << CalVtasTotal(Ventas[12]) << endl;;
}
float Vendedor::CalVtasTotal(float Ventas) {
float total = 0;
for (int i = 0; i < 12; i++) {
total = total + this->Ventas[i];
}
this->VentasTotal = total;
return VentasTotal;
}
#include <iostream>
#include "Vendedor.h"
using namespace std;
int main(int argc, char *argv[]) {
Vendedor ob; //aquí marca el error
ob.asignaventas(12);
ob.imprimeventas();
return 0;
}
4537,javascript|html,Me explico, deseo calcular la duración de un segmento de audio base64 a partir de:
<audio controls id="audio" src="data:audio/mpeg;base64,T2dnUwACAAAAAAAAAAA+HAAAAAAAAGyawCEBQGZpc2h"></audio>
En este caso el string base64 es un ejemplo quizá demasiado corto pero ya entienden a lo que me refiero.
He probado con el:
audio.duration;
Pero supongo que por ser base64 y no un fichero de audio me devuelve NaN (not a number), en cambio el elemento mostrado en pantalla sí conoce su duración antes de empezar a reproducirse.
¿Habría alguna manera de obtener la duración de la cadena base64?
4542,ios,Intento reproducir el audio de un enlace cuando presiono un botón determinado, pero nada se escucha. Este es mi código:
@IBAction func Reproducir(sender: AnyObject) {
let urlString = "http://elpenitente.playcofrade.com/marchas/\(pasarid).mp3"
let url = NSURL(string: urlString)
let avPlayer = AVPlayer(URL: url!)
avPlayer.play()
}
4547,php,Amigos quiero crear más carpetas adicionales a las que trae el Framework Laravel 5 para colocar mis propias clases personalizadas.
Deseo crear las capas como por ejemplo: Datos, Negocio, etc con sus respectivas clases php dentro de cada una de ellas.
El problema viene cuando Laravel 5 no detecta dichas clases porque estan en directorios nuevos.
En Laravel 4 se solucionaba en app/start/global.php y se agregaban
ClassLoader::addDirectories(array())
pero en Laravel 5 no encuentro dicha configuración, gracias.
4548,javascript|jquery,Quisiera saber como puedo conseguir el id que se genera para el div en tinyMCE 4.
Se que se hace a través del método setup, pero no consigo hacerlo.
Uso lo siguiente:
tinymce.init({
selector: '#selector',
setup: function(editor){
editor.on('init',function(e){
console.log();
});
}
});
Hasta ahí he llegado.
Al crear un <textarea> y vincularlo al tinymce, este oculta el textarea y crea en su lugar un div con una id (parecida a esa "mceu_X") y este id es el que quiero conseguir.
4551,ios,He creado un botón que al presionarlo se comienza a reproducir un audio. He intentado pero no he conseguido editar esta función de forma que cuando se empiece a reproducir, el texto del botón cambie a Pausar y su imagen también lo haga a la equivalente y al presionar pause el audio y así sucesivamente. ¿Cómo puedo hacerlo? Este es mi código:
@IBAction func Reproducir(sender: AnyObject) {
let urlString = "http://...com/marchas/\(pasarid).mp3"
let url = NSURL(string: urlString)
avPlayer = AVPlayer(URL: url!)
avPlayer?.play()
}
4560,android,Si pudieran orientarme como lograr lo siguiente:
Tengo un ListView e items  que muestran todos los datos de mi base de datos en SQLite, Coloque un Radio button FIRMA = (RadioButton) findViewById(R.id.firma); y este se repite en cada Item, es como un formulario en cada item y lo que pretendo es que al clikearlo este inserte X valor a la columna respectiva a los datos mostrados en el item, de tal forma que cuando vuelva a abrir la app el radio button ya se encuentre marcado, por lo tanto posteriormente tendría que condicionar si la celda está vacía desmarcado y si no marcado.
Muestro la idea a continuación en una imagen
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
FIRMA = (RadioButton) findViewById(R.id.firma);
//////TRASMO SQLITE QUE CONSULTA Y MUESTRA EN UN LIST VIEW /////
dbcon = new SQLController(this);
dbcon.open();
lv = (ListView) findViewById(R.id.listView);
Cursor cursor = dbcon.readData();
String[] from = new String[] { DatabaseHelper.IDs, DatabaseHelper.MSG };
int[] to = new int[] { R.id.ids, R.id.msg };
SimpleCursorAdapter adapter = new SimpleCursorAdapter(
MainActivity.this, R.layout.list_item, cursor, from, to);
adapter.notifyDataSetChanged();
lv.setAdapter(adapter);
}
4564,android,Me gustaría asegurarme que se ejecute el onDataChange de Firebase antes que nada de la aplicación, ya que necesito obtener unos datos para crear una GridView y si tarda mucho en obtener los datos de Firebase, me da error NullPointerException, ya que obtiene valores null.
¿Cómo podría asegurar la ejecución del Firebase primero y despues todo lo demás?
4567,ios,Estoy cargando JSON en mi UIViewController de la siguiente manera y necesito que me aparezca un UIAlertController con un Activity Indicator que se oculte automáticamente cuando el JSON se carga al completo.
override func viewDidLoad() {
Alamofire.request(.GET, "http://...com/json/...php?id=\(pasarid)").responseJSON { (responseData) -> Void in
let swiftyJsonVar = JSON(responseData.result.value!)
if let resData = swiftyJsonVar["bandas"].array {
self.completo.text = resData[0]["nombre"].string
self.historia.text = resData[0]["descripcion"].string
self.fundacion.text = resData[0]["fun"].string
self.sede.text = resData[0]["sede"].string
self.componentes.text = resData[0]["com"].string
self.director.text = resData[0]["director"].string
self.procesiones.text = resData[0]["bandas"].string
self.asisuena.text = resData[0]["marcha"].string
self.web = resData[0]["web"].string!
self.facebook = resData[0]["bandas"].string!
self.twitter = resData[0]["bandas"].string!
self.correo = resData[0]["bandas"].string!
}
Gracias de antemano
4571,php,Tengo un inconveniente con mi página, estoy seguro que es algo muy simple pero no me estoy dando cuenta donde tengo el error. El problema consiste en que no me funciona el formulario de contacto, me tira el siguiente error:
"Lo sentimos, hubo un error en sus datos y el formulario no puede ser enviado en este momento. Detalle de los errores.
Lo sentimos pero parece haber un problema con los datos enviados.
Porfavor corrija estos errores e inténtelo de nuevo."
Y no encuentro la forma de entender dónde esta el error.
El link de mi página es http://indgraphicdesign.com.ar/contacto.html
Y acá les adjunto mi código PHP:
<?php
if(isset($_POST['email'])) {
$email_to = "
ind.graphicdesign@gmail.com";
$email_subject = "Mail de la página";
function died($error) {
// si hay algún error, el formulario puede desplegar su mensaje de aviso
echo "Lo sentimos, hubo un error en sus datos y el formulario no puede ser enviado en este momento. ";
echo "Detalle de los errores.<br /><br />";
echo $error."<br /><br />";
echo "Porfavor corrija estos errores e inténtelo de nuevo.<br /><br />";
die();
}
// Se valida que los campos del formulairo estén llenos
if(!isset($_POST['first_name']) ||
!isset($_POST['last_name']) ||
!isset($_POST['email']) ||
!isset($_POST['telephone']) ||
!isset($_POST['message'])) {
died('Lo sentimos pero parece haber un problema con los datos enviados.');
}
//En esta parte el valor "name" nos sirve para crear las variables que recolectaran la información de cada campo
$first_name = $_POST['first_name']; // requerido
$last_name = $_POST['last_name']; // requerido
$email_from = $_POST['email']; // requerido
$telephone = $_POST['telephone']; // no requerido
$message = $_POST['message']; // requerido
$error = ""; //Linea numero 52
//En esta parte se verifica que la dirección de correo sea válida
$email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';
if(!preg_match($email_exp,$email_from)) {
$error_message .= 'La dirección de correo proporcionada no es válida.<br />';
}
//En esta parte se validan las cadenas de texto
$string_exp = "/^[A-Za-z .'-]+$/";
if(!preg_match($string_exp,$first_name)) {
$error_message .= 'El formato del nombre no es válido<br />';
}
if(!preg_match($string_exp,$last_name)) {
$error_message .= 'el formato del apellido no es válido.<br />';
}
if(strlen($message) < 2) {
$error_message .= 'El formato del texto no es válido.<br />';
}
if(strlen($error_message) > 0) {
died($error_message);
}
//A partir de aqui se contruye el cuerpo del mensaje tal y como llegará al correo
$email_message = "Contenido del Mensaje.\n\n";
function clean_string($string) {
$bad = array("content-type","bcc:","to:","cc:","href");
return str_replace($bad,"",$string);
}
$email_message .= "Nombre: ".clean_string($first_name)."\n";
$email_message .= "Apellido: ".clean_string($last_name)."\n";
$email_message .= "Email: ".clean_string($email_from)."\n";
$email_message .= "Teléfono: ".clean_string($telephone)."\n";
$email_message .= "Mensaje: ".clean_string($message)."\n";
//Se crean los encabezados del correo
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers);
?>
<!-- incluye aqui tu propio mensaje de Éxito-->
Gracias! Nos pondremos en contacto contigo a la brevedad
<?php
}
?>
4583,javascript|html,Tengo dos botones en una tabla los cuales abren una ventana modal, si quiero pasar algún valor que me indique qué botón se ha presionado a la ventana modal, ¿cómo lo obtengo?
Mis botones son de tipo button:
<a href="#" id="link1" data-id="@row.id" data-toggle="modal" data-target="#modalS">
<button type="button" class="btn btn-success" value="si">Si&nbsp;&nbsp;</button>
</a>
<a href="#" id="link2" data-id="@row.id" data-toggle="modal" data-target="#modalSi">
<button type="button" class="btn btn-danger" value="no">No</button>
</a>
y los coloco dentro de un elemento  para que me abra mi ventana modal
<!--modal-->
<div class="modal fade bs-example-modal-lg" id="modalSi" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
<div class="modal-dialog modal-lg" role="document">
<div class="modal-content">
<div class="modal-header">
</div>
<div class="modal-body">
<!-- formulario modal -->
<!-- inicia panel -->
<div class="panel panel-primary">
<div class="panel-heading">
<h4>Reporte</h4>
</div>
<div class="panel-body">
<div class="alert alert-info" role="alert"><i class="glyphicon glyphicon-asterisk"></i>Seleccione una opción</div>
<form id="envia" name="envia" method="post" action="" class="form-horizontal">
<input type="hidden" name="hddCliente" id="hddCliente" />
<div class="form-group">
<label for="lblAplicar" class="control-label col-sm-2">Aplicar</label>
<div class="input-group date col-sm-10">
<span class="input-group-addon">
<span class="glyphicon glyphicon-th-list"></span>
</span>
<select name="tipo" size="1" id="tipo" class="form-control">
<option value="">--Seleccionar--</option>
<option value="1">Buzón</option>
<option value="2">Fuera de servicio / número ha cambiado</option>
<option value="3">No contesta</option>
</select>
</div>
</div>
<div class="form-group">
<label class="control-label col-sm-2"></label>
<div class="col-sm-10">
<!--<input type="button" name="Submit" value="Buscar" id="btn-enviar" class="btn btn-success" />-->
<button type="submit" class="btn btn-success">Guardar</button>
</div>
</div>
<div class="alert alert-info" role="alert"><i class="glyphicon glyphicon-asterisk"></i>Resumen del registro</div>
<div class="form-group">
<label for="lblfechaSolicitudi" class="control-label col-sm-2">Nombre</label>
<div class='input-group date col-sm-10' id='datetimepickerfi'>
<span class="input-group-addon">
<span class="glyphicon glyphicon-user"></span>
</span>
<input type='text' id="txtNombre" name="txtNombre" class="form-control" disabled />
</div>
</div>
<div class="form-group">
<label for="lblfechaSlicitudf" class="control-label col-sm-2">Telefono</label>
<div class='input-group date col-sm-10' id='datetimepickerff'>
<span class="input-group-addon">
<span class="glyphicon glyphicon-phone"></span>
</span>
<input type='text' id="txtTelefono" name="txtTelefono" class="form-control" disabled />
</div>
</div>
<div class="form-group">
<label for="lblfechaSlicitudf" class="control-label col-sm-2">Fecha Activación</label>
<div class='input-group date col-sm-10' id='fecha'>
<span class="input-group-addon">
<span class="glyphicon glyphicon-calendar"></span>
</span>
<input type='text' id="txtFechaa" name="txtFechaa" class="form-control" disabled />
</div>
</div>
</form>
</div>
</div>
<!-- termina panel -->
<!--fin formulario modal-->
</div>
</div>
</div>
</div>
<!--modal-->
JS
$(document).ready(function () {
$('#modalSi').on('show.bs.modal', function (e) {
/* aqui obtengo el valor */
var link = $(event.relatedTarget);
var btn = $(link).find('button').val();
console.log($(e.currentTarget).find('#hddBoton').val(btn));
$(e.currentTarget).find('#hddBoton').val(btn)
// termina obtener valor
var id = $(e.relatedTarget).data().id;
hola.children().each(function () {
var celdas = hola.children();
console.log($(celdas[4]).text());
$(e.currentTarget).find('#txtNombre').val($(celdas[0]).text());
$(e.currentTarget).find('#txtTelefono').val($(celdas[1]).text());
$(e.currentTarget).find('#txtFechaa').val($(celdas[3]).text());
});
});
});
seleccione el botón no y esto son los valores que me obtiene
4589,javascript|html,He visto distintos ejemplos de
elemento.currentTime
Pero no he visto ninguno con un elemento creado desde javascript al que se le aplique y el siguiente codigo no funciona.
var time;
var audioe = document.createElement("audio");
audioe.src="http://soundbible.com/mp3/Tiger Growling-SoundBible.com-258880045.mp3";
audioe.onloadeddata = function() {
audioe.currentTime = 2;
audioe.play();
};
Alguien ve el problema :/ ?
4590,php,Tengo este pequeño script que lo que hace es subir 1 o varias imágenes al servidor y guardar el nombre de la misma en la BD en su campo correspondiente.
El problema que tengo es que cuando subo 2 o 3 imágenes, en la BD se duplica o triplica (depende del número de imágenes que suba) el mismo registro y no sé el motivo.
Este es el script en php y el formulario:
<?
include("conectar.php");
//aqui van las imagenes (Carpeta o ruta que usaras)
$path = "http://url.es/img/";
//Hacemos un poco de código verificando que se recibieron las imagenes
if(isset($_FILES['file_array'])){
//almacenamos las propiedades de las imagenes
$name_array = $_FILES['file_array']['name'];
$tmp_name_array = $_FILES['file_array']['tmp_name'];
$type_array = $_FILES['file_array']['type'];
$size_array = $_FILES['file_array']['size'];
$error_array = $_FILES['file_array']['error'];
//recorremos el array de imagenes para subirlas al simultaneo
for($i = 0; $i < count($tmp_name_array); $i++){
if(move_uploaded_file($tmp_name_array[$i], "img/".$name_array[$i])){
//guardamos en la base de datos el nombre
$act = "INSERT INTO productos (foto1,foto2,foto3) values ('$name_array[0]','$name_array[1]','$name_array[2]')";
if(@mysql_query($act)){echo "<img src='".$path.$name_array[$i]."'> Se ha subido exitosamente.<br>";
}
else
{
//si ocurrio algun problema entonces
echo "move_uploaded_file function failed for ".$name_array[$i]."<br>";
}
}
}}
?>
<form action="" method="post" enctype="multipart/form-data">
<p align="center">Fotos:</p>
<input name="file_array[]" type="file" multiple>
<input name="enviar" type="submit" value="Guardar" />
</form>
4610,php,Quisiera que me ayuden, no encuentro el error, veo q me devuelve los datos, pero no se muestran. Estoy tratando de auto-completar usando bootstrap
Vista:
<script type="text/javascript">
$("[name=codigo]").autocomplete({
source: "<?php echo base_url() ?>index.php/articulo/getarticulos",
minLength: 3,
select: function( event, ui ) {
if (ui.item.id) {
$("[name=codigo]").val(ui.item.codigo);
return false;
}
},
search: function (event, ui ) {
$("[name=codigo]").val(0);
}
});
</script>
<div class="form-group">
<div class="col-xs-6">
<div class='input-group'>
<span class="input-group-addon"><span class="glyphicon glyphicon-tag"></span></span>
<input id="txtcodigo" name="codigo" type="text" placeholder="Codigo" value="" class="form-control" required="">
</div>
</div>
</div>
Controlador:
public function getarticulos()
{
$q              = trim($this->input->get('term'));
$where          = array('like codigo' => $q);
$productoresult = $this->articulo_model->All($where);
$result         = array();
foreach ($productoresult as $i => $articulo) {
$result[$i]['id']           = $articulo->id;
$result[$i]['codigo']       = $articulo->codigo;
$result[$i]['descripcion']  = $articulo->descripcion;
$result[$i]['precioactual'] = $articulo->precioactual;
}
echo json_encode($result);
}
Modelo:
El método all lo hereda de la clase CI_MODEL(system->core->Model), que viene en el Codeigniter, yo lo hago tal cual en otro proyecto, y me funciona perfecto el auto-completar, pero ahora estoy usan bootstrap en otro proyecto y no aparece en la vista los datos. y no me tira ningún error.
class Articulo_Model extends CI_Model {
function __construct()
{
parent::__construct('articulo', NULL, 'Articulo_Model');
}
}
Espero que me puedan ayudar.
4612,php,Tengo un formulario y estoy usando DatePicker con Bootstrap para seleccionar fechas. No sé por qué razón el calendario no aparece en español. Éste es mi código, el calendario me aparece en ingles, pero yo lo quiero en español:
<head>
<link rel="stylesheet" href="<?php echo base_url(); ?>css/datepicker.css" media="screen" />
<script src="<?php echo base_url(); ?>js/bootstrap-datepicker.js"></script>
<script src="<?php echo base_url(); ?>js/locales/bootstrap-datepicker.es.js"></script>
</head>
<script type="text/javascript">
$(document).ready(function() {
$('.calendario').datepicker({
pickTime: false,
autoclose: true,
language: 'es'
});
});
</script>
<div class="form-group">
<div class="col-xs-3">
<div class='input-group date'>
<span class="input-group-addon">
<span class="glyphicon glyphicon-calendar"></span>
</span>
<input type='text' name="fechainicio" id="fechainicio" class="form-control calendario" value="<?php echo Fechautil::format(date("Y-m-d")); ?>" placeholder="Fecha de Inicio" data-date-format="dd/mm/yyyy" required=""/>
</div>
</div>
</div>
4613,php,Explico el programa
Crea un archivo .txt a base de un arreglo.
Si se presiona el botón "leer" se lee un archivo usando la función leer_archivo.
Si se presiona el botón "ordenar" se busca un archivo de texto, en este caso el que fue creado antes y se lo convierte a un arreglo para ser pasado por la función quicksort que lo ordenará y luego, nuevamente, lo guardará a un archivo nuevo con las lineas en orden.
Problema:
Cuando se crea el segundo archivo, ordena bien los elementos pero deja una linea de espacio entre ellos, cosa que me gustaría cambiar.
Ejemplo:
Resultado deseado:
XXXXX
XXXXX
XXXXX
Resultado Obtenido
XXXXX
XXXXX
XXXXX
Dejo el código
<?php
$n_archivo = 'nuevo_archivo.txt';
//array para crear un nuevo archivo
$ordenar = array('carro','auto','01','0001','zorro','alto','piensa','zorro');
//creando nuevo archivo
nuevo_archivo($ordenar,'nuevo_archivo.txt');
if (isset($_POST['leer']))//si fue presionado leer ...
{
leer_archivo($n_archivo,FALSE);
}
elseif (isset($_POST['ordenar']))//si fue presionado ordenar ...
{
nuevo_archivo(quicksort(leer_archivo($n_archivo,TRUE)),'ordenado.txt');
leer_archivo('ordenado.txt',FALSE);
}
echo <<<_END
<html>
<head>
<title>Examen quicksort Leonel Becerra</title>
</head>
<body>
<form method="post" action="quicksort_examen.php">
Leer Archivo    <input type="submit" name="leer" value="leer">
Ordenar archivo <input type="submit" name="ordenar" value="ordenar">
</form>
</body>
</html>
_END;
//lee un archivo, si $array es falso solo lo imprime, si es verdadero crea un array de elementos con cada linea del archivo
function leer_archivo($nombre,$array)
{
$fh = fopen("$nombre",'r')or die ($php_errormsg);
if(!$array)
{
while(!feof($fh))
{
echo fgets($fh)."<br/>";
}
fclose($fh) or die ($php_errormsg);
}
else
{
$arreglo;
$i = 0;
while(!feof($fh))
{
$arreglo[$i] = fgets($fh);
$i++;
}
fclose($fh) or die ($php_errormsg);
return $arreglo;
}
}
//ordenamiento por quicksort
function quicksort($array)
{
$tamaño = count($array); //encontrando el tamaño del arreglo
if($tamaño <= 1 ) //caso base
{
return($array);
}
else
{
$pivot = $array[0]; //asignando pivot
$menor = array(); //array para menores que pivot
$mayor = array(); //array para mayores que pivot
for($i = 1; $i < count($array); $i++) //poniendo cada elemento en su lugar comparandolos con el pivot
{
if($array[$i] < $pivot)
{
$menor[] = $array[$i];
}
else
{
$mayor[] = $array[$i];
}
}
return array_merge(quicksort($menor), array($pivot), quicksort($mayor)); /*une arreglos $menor con $pivot con $mayor*/
}
}
//crea un nuevo archivo tomando como parametro un arreglo
function nuevo_archivo($array,$nombre)
{
$fh = fopen("$nombre", 'w') or die ($php_errormsg);
for($i = 0; $i < count($array); $i++)
{
$temp = $array[$i];
$temp = sanitizar_variable($temp);
$temp = $temp."\r\n";
fwrite($fh,$temp) or die ($php_errormsg);
}
fclose($fh);
}
//usada para quitar slashes, codigo html y tags html
function sanitizar_variable($var)
{
$var = stripslashes($var);
$var = htmlentities($var);
$var = strip_tags($var);
return $var;
}
//Imprime el arreglo, usado para debugging
function imprimir_arreglo($array)
{
for($i = 0; $i < count($array); $i++)
{
echo "$array[$i]";
}
}
?>
4628,android,Por defecto cuando se crea un botón en Android Studio, su aspecto hereda el diseño de Material Design, en la guía de estilo de Material Design, habla de botones Flat, Raised Raised creo que es el por defecto
Botón Flat
Botón Raised
Resumen de lo que pregunto
Veo que el raised le añaden ese efecto de glow para elevarlo, como
se le asigna?
¿Cómo se especifica que sea estilo como flat button?
4629,c++,estoy trabajando en un proyecto de C++, pero por alguna razón que no entiendo, al intentar crear nuevas clases de C++ (Agregar -> Clase..), me aparece bloqueado en la ventana que me aparece asistente tanto el cuadro para elegir el nombre de esta como la ubicación donde quiero que se cree:
No tengo ni idea de cómo hacer para poder elegir la ruta donde quiero que se genere la clase, y si le sigo en el asistente con Agregar, me saca otra ventana para elegir el nombre de la clase, pero no para elegir su ubicación...
¿Alguien me puede decir cómo hacerlo?
PD: Estoy trabajando con Visual Studio Enterprise 2015 (del MSDN que dan para universitarios).
4635,php,tengo un formulario con varios embebidos.
Tengo la entidad Presupuesto, la cual tiene relacion oneToMany con Revision, y revision tiene oneToMany con Capitulo, Capitulo tiene tambien oneToMany con otra llamada Requisito, pero no hace falta indagar mas ya que mi problema esta entre Capitulo y Requisito.
No se porque, cuando agrego un capitulo con addTagForm y esta relleno con todo, al enviar el formulario parece haber ido todo bien, pero para mi sorpresa todas las relaciones se han enlazado bien menos Capitulo con Revision, he echo un dump antes de hacer el persist de presupuesto, y he encontrado que cuando navego en el dump hasta llegar al Capitulo, el atributo de revision_id esta a null.
Alguna idea? A continuacion os dejo fragmentos de codigo que considero mas relevantes:
Revision.php
/**
* @ORM\OneToMany(targetEntity="CeiferIT\ComercialBundle\Entity\Capitulo", mappedBy="revision", cascade={"persist"}, orphanRemoval=true)
*/
protected $capitulos;
/**
* @param \CeiferIT\ComercialBundle\Entity\Capitulo $capitulo
*
* @return Revision
*/
public function addCapitulo(\CeiferIT\ComercialBundle\Entity\Capitulo $capitulo)
{
$capitulo->setRevision($this);
$this->capitulos[] = $capitulo;
return $this;
}
/**
* @param \CeiferIT\ComercialBundle\Entity\Capitulo $capitulo
*/
public function removeCapitulo(\CeiferIT\ComercialBundle\Entity\Capitulo $capitulo)
{
$this->capitulos->removeElement($capitulo);
}
/**
* @return \Doctrine\Common\Collections\Collection
*/
public function getCapitulos()
{
return $this->capitulos;
}
Capitulo.php
/**
* @ORM\ManyToOne(targetEntity="CeiferIT\ComercialBundle\Entity\Revision", inversedBy="capitulos", cascade={"persist"})
* @ORM\JoinColumn(name="revision_id", referencedColumnName="id")
*/
private $revision;
/**
* @param \CeiferIT\ComercialBundle\Entity\Revision $revision
*
* @return Capitulo
*/
public function setRevision(\CeiferIT\ComercialBundle\Entity\Revision $revision = null)
{
$this->revision = $revision;
return $this;
}
/**
* @return \CeiferIT\ComercialBundle\Entity\Revision
*/
public function getRevision()
{
return $this->revision;
}
nuevo.html.twig
{{ form_start(formulario) }}
//some code..
{% include 'ComercialBundle:Presupuesto:listaRevisiones.html.twig' %}
//some code..
{{ form_end(formulario) }}
listaRevisiones.html.twig
{% macro information_prototype(revision) %}
{% if form_errors(revision.total) %}
{{ form_widget(revision.total, {'attr': {'class': 'form-control totalrevision error'}}) }}
{% else %}
{{ form_widget(revision.total, {'attr': {'class': 'form-control totalrevision'}}) }}
{% endif %}
{% include 'ComercialBundle:Presupuesto:listacapitulos.html.twig' %}
{% endmacro %}
<div class="ibox product-box active primerarevision" data-prototype="{{ _self.information_prototype(formulario.revisiones.vars.prototype)|e}}">
{% for revision in formulario.revisiones %}
{{ _self.information_prototype(revision)}}
{% endfor %}
</div>
4636,php,Actualmente hago mi conexión como muestro en el ejemplo, pero deseo pasarme a POO. He visitado muchos foros e incluso el manual de PHP pero me confundo más ya que solo encuentro partes que no logro entender.
Fichero > conecta.php
$dbhost ="localhost";
$dbusuario ="usuario";
$dbpassword ="xxxxxxx";
$db = "usuarios";
$conecta = mysql_connect($dbhost, $dbusuario, $dbpassword);
mysql_query("SET character_set_results = 'utf8',  $conexion);
mysql_select_db($db,$conecta);
y la implemento así:
include("conecta.php");
$sql_q = mysql_query("select * from datos");
$res_q      = mysql_fetch_array($sql_q);
$cantidad   = $res_q["cantidad"];
4638,javascript|jquery,Necesito iterar un array de objetos fecha, con duración y obtener con cuantas se solapa cada una de ellas.
Pero busco hacerlo de una forma eficiente y rápida. Estoy buscando frameworks para manejo de periodos de tiempo pero no he encontrado nada.
He desarrollado esto, pero realmente no funciona bien.
function numeroSolapacionesSesiones(sesion, lista)
{
var sesiones = new Array();
if(lista != null && lista.length > 0)
{
var fecha = convierteCadenaFechaHoraIsoFechaLocal(sesion.fechaCelebracionStr);
var hora = fecha.substring(11,16);
var paramsHora = hora.split(":");
var duracion = 90;
var horasDuracion = duracion/60;
var minutosRestoDuracion = duracion%60;
var minutosTotalesConDuracion = parseInt(paramsHora[1]) + minutosRestoDuracion;
var horasSumables = minutosTotalesConDuracion/60;
var minutosFinales = minutosTotalesConDuracion%60;
var horaInicio = parseInt(paramsHora[0]);
var horaFinal = parseInt(paramsHora[0]) + horasSumables;
var minutoInicio = parseInt(paramsHora[1]);
var minutoFinal = minutosFinales;
for(var numSesion in lista)
{
var sesionItem = lista[numSesion];
var fechaItem = convierteCadenaFechaHoraIsoFechaLocal(sesionItem.fechaCelebracionStr);
var horaItem = fechaItem.substring(11,16);
var paramsHoraItem = horaItem.split(":");
var duracionItem = 90;
var horasDuracionItem = duracionItem/60;
var minutosRestoDuracionItem = duracionItem%60;
var minutosTotalesConDuracionItem = parseInt(paramsHoraItem[1]) + minutosRestoDuracionItem;
var horasSumablesItem = minutosTotalesConDuracionItem/60;
var minutosFinalesItem = minutosTotalesConDuracionItem%60;
var horaInicioItem = parseInt(paramsHoraItem[0]);
var horaFinalItem = parseInt(paramsHoraItem[0]) + horasSumablesItem;
var minutoInicioItem = parseInt(paramsHoraItem[1]);
var minutoFinalItem = minutosFinalesItem;
if(horaInicio == horaInicioItem || horaFinal == horaInicioItem || horaInicio == horaFinalItem)
{
if(!(horaFinal == horaInicioItem && minutoFinal < minutoInicioItem || horaInicio == horaFinalItem && minutoFinalItem < minutoInicio))
{
sesiones.push(sesionItem);
}
}
}
}
return sesiones;
}
4647,android,Estoy tratando de replantear una pregunta anterior que está muy confusa.
En primer lugar, teniendo en cuenta que en la base de datos local hay una serie de datos que han sido insertados previamente, genero una consulta y despliego el resultado de dicha consulta en un ListView. Cada Item del ListView contiene un RadioButton que está desmarcado por defecto.
La idea es que cuando le den click al control radio del item respectivo, se actualice un dato correspondiente al registro de dicho item.
Tengo las siguientes clases:
DatabaseHelper. java
public class DatabaseHelper extends SQLiteOpenHelper {
public static final int DATABASE_VERSION = 1;
public static final String DATABASE_NAME = "GCM";
public static final String TABLE_NAME = "newsTable";
public static final String IDs = "_id";
public static final String MSG = "MESSAGE";
public static final String FIRMA = "firma";
public DatabaseHelper(Context context) {
super(context, DATABASE_NAME, null, DATABASE_VERSION);
// TODO Auto-generated constructor stub
}
@Override
public void onCreate(SQLiteDatabase db) {
// TODO Auto-generated method stub
db.execSQL("CREATE TABLE " + TABLE_NAME + "(" + IDs + " INTEGER    PRIMARY KEY AUTOINCREMENT, " + MSG + " STRING, " + FIRMA + " STRING)");
}
@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
// TODO Auto-generated method stub
db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
onCreate(db);
}
la clase que controla la base de datos
public class SQLController {
private DatabaseHelper DatabaseHelper;
private Context ourcontext;
private SQLiteDatabase database;
public SQLController(Context c) {
ourcontext = c;
}
public SQLController open() throws SQLException {
DatabaseHelper = new DatabaseHelper(ourcontext);
database = DatabaseHelper.getWritableDatabase();
return this;
}
public void close() {
DatabaseHelper.close();
}
//Getting Cursor to read data from table
public Cursor readData() {
String[] allColumns = new String[] { DatabaseHelper.IDs, DatabaseHelper.MSG };
Cursor c = database.query(DatabaseHelper.TABLE_NAME, allColumns, null,
null, null, null, DatabaseHelper.IDs+" DESC",null);
if (c != null) {
c.moveToFirst();
}
return c;
}
}
y dentro del bundle en MainActivity el cursor que muestra la consulta en el listview
FIRMA = (RadioButton) findViewById(R.id.firma);
//////TRASMO SQLITE QUE CONSULTA Y MUESTRA EN UN LIST VIEW /////
dbcon = new SQLController(this);
dbcon.open();
lv = (ListView) findViewById(R.id.listView);
Cursor cursor = dbcon.readData();
String[] from = new String[] { DatabaseHelper.IDs,  DatabaseHelper.MSG};
int[] to = new int[] { R.id.ids, R.id.msg};
SimpleCursorAdapter adapter = new SimpleCursorAdapter(
MainActivity.this, R.layout.list_item, cursor, from, to);
adapter.notifyDataSetChanged();
lv.setAdapter(adapter);
Fuera del bundle en la clase Main Activity esta el metodo del radiobutton, pero nose como llamar correctamente al método en la clase  SQLcontroller
public void onRadioButtonClicked(View view) {
// Is the button now checked?
boolean checked = ((RadioButton) view).isChecked();
String id = DatabaseHelper.IDs.toString();
String firma = "ok";
// Check which radio button was clicked
switch(view.getId()) {
case R.id.firma:
if (checked)
dbcon.open();
SQLController db = new SQLController(this);
db.actualizar(String id, String firma);
// notifies user
Toast.makeText(getApplicationContext(), "FIRMA CORRECTS", Toast.LENGTH_LONG).show();
// Pirates are the best
break;
}
4650,c++,estoy trabajando con Visual Studio Enterprise 2015 en proyectos de C++, y quería saber cómo puedo hacer para configurar esa cabecera de comentarios que suele aparecer que indica nombre de autor, fecha, copyright, etc.
Actualmente al crear clases, no me aparece nada, directamente ya el pragma once...
¿Qué puedo hacer?
Saludos.
4655,php,Como dice el título, lo que quiero realizar es mostrar un documento PDF con PHP sin la necesidad de descargarlo en un servidor local, simplemente me quiero loguear al fpt y mostrar el archivo.
Para darles un panorama de lo que quiero hacer seria algo como lo siguiente:
<?php
$ftp_server="xxx";
$ftp_user_name="xxx";
$ftp_user_pass="xxx";
$conn_id = ftp_connect($ftp_server);
$login_result = ftp_login($conn_id, $ftp_user_name, $ftp_user_pass);
/* Ejecutar algo para mostrar archivo sin descargarlo */
ftp_close($conn_id);
?>
Se que quizás falten algunos headers para espero se entienda la idea.
Saludos
4659,java|android,Estoy creando un pequeño juego en Android de tipo plataformas en 2D. En este momento estoy implementando los botones en pantalla para mover al personaje, pero cuando inicio la aplicación, se cierra automáticamente.
El error parece que tiene que ver con la creación del stage.
Este es el código de la clase de los controles:
public class Controles {
Viewport viewport;
Stage stage;
boolean salto, izquierda, derecha;
OrthographicCamera cam;
public Controles() {
cam = new OrthographicCamera();
viewport = new FitViewport(800, 480, cam);
stage = new Stage(viewport, PantallaJuego.batch);
Gdx.input.setInputProcessor(stage);
Table table1 = new Table();
Table table2 = new Table();
table1.left().bottom();
table2.right().bottom();
Image flechaizquierda = new Image(new Texture("flechaIzquierda.png"));
flechaizquierda.setSize(50, 50);
flechaizquierda.addListener(new InputListener() {
@Override
public boolean touchDown(InputEvent event, float x, float y, int pointer, int button) {
izquierda = true;
return true;
}
@Override
public void touchUp(InputEvent event, float x, float y, int pointer, int button) {
izquierda = false;
}
});
final Image flechaderecha = new Image(new Texture("flechaDerecha.png"));
flechaderecha.setSize(50, 50);
flechaderecha.addListener(new InputListener() {
@Override
public boolean touchDown(InputEvent event, float x, float y, int pointer, int button) {
derecha = true;
return true;
}
@Override
public void touchUp(InputEvent event, float x, float y, int pointer, int button) {
derecha = false;
}
});
Image flechasalto = new Image(new Texture("flechaIzquierda.png"));
flechasalto.setSize(50, 50);
flechasalto.addListener(new InputListener() {
@Override
public boolean touchDown(InputEvent event, float x, float y, int pointer, int button) {
salto = true;
return true;
}
@Override
public void touchUp(InputEvent event, float x, float y, int pointer, int button) {
}
});
table1.add();
table1.add(flechaizquierda).size(flechaizquierda.getWidth(), flechaizquierda.getHeight());
table1.add();
table1.row().pad(0, 5, 0, 5);
table1.add();
table1.add(flechaderecha).size(flechaderecha.getWidth(), flechaderecha.getHeight());
table2.add();
table2.add(flechasalto).size(flechasalto.getWidth(), flechasalto.getHeight());
table2.row().padRight(5);
table2.add();
stage.addActor(table1);
stage.addActor(table2);
}
public void draw() {
stage.draw();
}
public boolean isDerecha() {
return derecha;
}
public boolean isIzquierda() {
return izquierda;
}
public boolean isSalto() {
return salto;
}
public void resize(int ancho, int alto) {
viewport.update(ancho, alto);
}
}
Precisamente el error me señala a la línea de stage = new Stage(viewport, PantallaJuego.batch); de Controles y controles = new Controles(); de PantallaJuego.
Y este es el código de la pantalla principal;
public class PantallaJuego extends ApplicationAdapter implements Screen  {
private MarioBros game;
public static SpriteBatch batch;
private TextureAtlas atlas;
private OrthographicCamera gamecam, cam;
private Viewport gamePort, viewport;
private HUD hud;
private TmxMapLoader maploader;
private TiledMap map;
private OrthogonalTiledMapRenderer renderer;
private World world;
private Box2DDebugRenderer b2dr;
Controles controles;
private Mario player;
private Music musica;
public PantallaJuego(MarioBros game) {
atlas = new TextureAtlas("MarioyEnemigos.pack");
this.game = game;
gamecam = new OrthographicCamera();
gamePort = new FitViewport(MarioBros.V_WIDTH / MarioBros.PPM, MarioBros.V_HEIGHT / MarioBros.PPM, gamecam);
hud = new HUD(game.batch);
controles = new Controles();
maploader = new TmxMapLoader();
map = maploader.load("nivel1mario.tmx");
renderer = new OrthogonalTiledMapRenderer(map, 1/MarioBros.PPM);
gamecam.position.set(gamePort.getWorldWidth()/2, gamePort.getWorldHeight()/2, 0);
world = new World(new Vector2(0,-10), true);
b2dr = new Box2DDebugRenderer();
player = new Mario(world, this);
new B2WorldCreator(world, map);
world.setContactListener(new WorldContactListener());
musica = MarioBros.manager.get("Audio/Música/Super Mario World - Overworld Theme Music (FULL VERSION).mp3", Music.class);
musica.setLooping(true);
musica.play();
}
public TextureAtlas getAtlas() {
return atlas;
}
@Override
public void show() {
}
public void handleInput(float dt) {
if(controles.isDerecha())
player.b2body.applyLinearImpulse(new Vector2(0.1f, 0), player.b2body.getWorldCenter(), true);
if(controles.isSalto())
MarioBros.manager.get("Audio/Sonidos/Super Mario Bros- Mario Jump Sound Effect.mp3", Sound.class).play();
player.b2body.applyLinearImpulse(new Vector2(0, 4f), player.b2body.getWorldCenter(), true);
if(controles.isIzquierda())
player.b2body.applyLinearImpulse(new Vector2(-0.1f, 0), player.b2body.getWorldCenter(), true);
}
public void update(float dt) {
handleInput(dt);
world.step(1 / 60f, 6, 2);
gamecam.position.x = player.b2body.getPosition().x;
cam.position.set(viewport.getWorldWidth() / 2, viewport.getWorldHeight() / 2, 0);
player.update(dt);
hud.update(dt);
if(Gdx.app.getType() == Application.ApplicationType.Android)
controles.draw();
gamecam.update();
cam.update();
renderer.setView(gamecam);
}
@Override
public void render(float delta) {
update(delta);
Gdx.gl.glClearColor(0, 0, 0, 1);
Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);
renderer.render();
b2dr.render(world, cam.combined);
b2dr.render(world, gamecam.combined);
game.batch.setProjectionMatrix(gamecam.combined);
game.batch.begin();
player.draw(game.batch);
game.batch.end();
game.batch.setProjectionMatrix(hud.stage.getCamera().combined);
hud.stage.draw();
}
@Override
public void resize(int width, int height) {
gamePort.update(width, height);
controles.resize(width, height);
}
@Override
public void pause() {
}
@Override
public void resume() {
}
@Override
public void hide() {
}
@Override
public void dispose() {
map.dispose();
renderer.dispose();
world.dispose();
b2dr.dispose();
hud.dispose();
}
}
Si alguien me pudiese ayudar, estaría muy agradecido. Gracias.
4665,jquery|html,alguien sabe como obtener el valor de una caja de texto de una ventana modal en otra nueva ventana modal?
tengo una ventana modal que tiene dos botones, tambien tengo un valor clave en un textbox que necesito recuperar en otra ventana modal para procesar ese valor, trataba de pasar el valor en el evento clic de un boton con el siguiente codigo
$("#btnno").click(function () {
$('#modalPregunta').modal('hide');
$('#modalNo').modal('show',$("#valor").val());
});
y lo recuperaba asi
$('#modal').on('show.bs.modal', function (evnt) {
var btn = $(evnt.relatedTarget);
console.log( btn);
});
pero al debuguearlo no me obtiene ningun valor
4709,javascript|html,Bootstrap
Tengo el siguiente botón de una plantilla de bootstrap.
<p><a class="btn btn-primary btn-lg" href="#" role="button">texto_boton &raquo;</a></p>
Como puedo hacer para que onclick me lance un script que se encuentra en la carpeta js
4716,jquery|html,como obtener el valor de un botón que se presiono en una ventana modal?, lo he intentado de esta forma
$('#modalPregunta').on('show.bs.modal', function (evnt) {
var btnn = $(evnt.relatedTarget).find('button').val();
});
Pero me sale undefined, mis botones son simples
<button type="button" id="btnsi" class="btn btn-primary" value="si">Si</button>
<button type="button" id="btnno" class="btn btn-danger" value="no">No</button>
4735,ios,me pasa una cosa muy curiosa y a la cual no encuentro explicación ninguna.
El caso es que en la aplicación, estoy parseando unas noticias y las guardo en CoreData, luego muestro el listado de noticias en un UITableView y si pulso sobre una de ellas me lleva a un UIWebView en la que cargo el enlace con la noticia completa. Ahora viene lo raro...
Si le paso al NSURL la variable que contiene la dirección web, No carga. Si le pongo la misma dirección a un NSString y le paso ese NSString a la UIWebView, SÍ carga
NSString *berria1 = [[NSString alloc]init];
berria1 = self.abisua.noticia;
NSString *berria2 = @"http://www.vitoria-gasteiz.org/we001/was/we001Action.do?idioma=eu&aplicacion=wb021&tabla=contenido&uid=u_47906a5c_14eabe80aeb__7fe9";
NSURL *url = [NSURL URLWithString:berria1];
NSURLRequest *urlRequest = [NSURLRequest requestWithURL:url];
[self.webView loadRequest:urlRequest];
NSLog(@"El contenido de la noticia 1 es %@", berria1);
NSLog(@"El contenido de la noticia 2 es %@", berria2);
Con el NSLog compruebo que los valores de las variables son las mismas como podéis ver en la siguiente imagen.
Que puede estar pasando?
Muchas gracias.
4744,javascript|jquery,Me gustaría eliminar la redirección en el tag a ya que actualmente al hacer click se me abre un modal, pero no quiero que se me redireccione la página del navegador, he probado con preventdefault y no me funciona. Estoy trabajando con C# MVC. ¿Puede ser que se me sobrecargue en alguna otra parte? o ¿existen otras soluciones para que no me redireccione? Como última opción no me gustaría cambiarlo por un span o div o button.
algo.cshtml
<a id="modalAboutButton">Ir a about </a>
<div id="aboutModal" class="reveal-modal" data-reveal></div>
app.js
$(document).ready(function () {
$(document).on('click', '#modalAboutButton', function (e) {
e.preventDefault();
var $modal = $('#aboutModal');
$.get('/About/Index2', function (resp) {
$modal.html(resp).foundation('reveal', 'open');
});
});
});
4747,c++,Este es mi código:
void MainWindow::save(){
QString fileName = QFileDialog::getSaveFileName(this, tr("Save Text File"), path, tr("Text Files (*.txt)"));
if (fileName != "")
{
QFileInfo info(fileName);
path = info.absoluteDir().absolutePath();
QFile file(path);
if(!file.open(QIODevice::WriteOnly)){
QString text = ui->plainTextEdit->toPlainText();
QTextStream out(&file);
out << text ;
file.close();
}
}
}
Luego de llamar el método a través de un pushButton no se crea ningún archivo txt.
connect(ui->saveButton, SIGNAL(clicked(bool)), this, SLOT(save()));
Este es el mensaje que aparece en el Log:
QIODevice::write (QFile, "C:\Users\kfg\Desktop"): device not open
4776,jquery,tengo un proyecto asp.net donde hice un login con html y bootstrap. El login tiene los campos de Sucursal, Usuario y Contraseña, y Sucursal es un  que debería llenarse con una base de datos ¿Es esto posible con JQuery y Ajax?
4791,jquery|html,¿Se puede usar ajax definiendo un método shared en una clase vb en vez de colocarlo en el codebehind de mi página? ¿Cómo seria la url para invocar el método ya que esta en una clase VB?
$.ajax({
type: "POST",
url: "Prueba.aspx/ObtenerRegistros",
data: "{}",
contentType: "application/json; charset=utf-8",
dataType: "json",
success: function(response) {
var contactos = (typeof response.d) == 'string' ?
eval('(' + response.d + ')') :
response.d;
$('#tablaContactos').empty();
$('#tablaContactos').append('<tr>
<td><b>ID</b></td><td><b>Nombre</b></td>
<td><b>Telefono</b></td><td><b>EMail</b></td>
</tr>');
for (var i = 0; i < contactos.length; i++) {
$('#tablaContactos').append('<tr>' +
'<td>' + contactos[i].IdContacto + '</td>' +
'<td>' + contactos[i].Nombre + '</td>' +
'<td>' + contactos[i].Telefono + '</td>' +
'<td>' + contactos[i].Email + '</td>' +
'</tr>');
}
},
error: function(result) {
alert('ERROR ' + result.status + ' ' + result.statusText);
}
});
4804,html,Aparte del ya tradicional uso para relacionar hojas de estilo de cascada:
<link href="style.css" rel="stylesheet"/>
¿existe algún otro uso del elemento <link> que sea útil en una página web? ¿el estándar HTML5 da alguna luz al respecto?
4828,android,al compilar mi juego en Android Studio con LibGDX me salta este error:
Error:Execution failed for task ':android:processDebugResources'.
> com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\Users\Diego\AppData\Local\Android\sdk\build-tools\23.0.2\aapt.exe'' finished with non-zero exit value 1
Lo curioso es que la aplicación no se lanza al teléfono cuando lo quiero ejecutar, pero en el escritorio sí lo hace.
Este es mi archivo: build.gradle
android {
buildToolsVersion "23.0.1"
compileSdkVersion 23
sourceSets {
main {
manifest.srcFile 'AndroidManifest.xml'
java.srcDirs = ['src']
aidl.srcDirs = ['src']
renderscript.srcDirs = ['src']
res.srcDirs = ['res']
assets.srcDirs = ['assets']
jniLibs.srcDirs = ['libs']
}
instrumentTest.setRoot('tests')
}
defaultConfig {
applicationId "com.globapps.supermarioclon"
minSdkVersion 8
targetSdkVersion 23
}
}
// called every time gradle gets executed, takes the native dependencies of
// the natives configuration, and extracts them to the proper libs/ folders
// so they get packed with the APK.
task copyAndroidNatives() {
file("libs/armeabi/").mkdirs();
file("libs/armeabi-v7a/").mkdirs();
file("libs/arm64-v8a/").mkdirs();
file("libs/x86_64/").mkdirs();
file("libs/x86/").mkdirs();
configurations.natives.files.each { jar ->
def outputDir = null
if(jar.name.endsWith("natives-arm64-v8a.jar")) outputDir = file("libs/arm64-v8a")
if(jar.name.endsWith("natives-armeabi-v7a.jar")) outputDir = file("libs/armeabi-v7a")
if(jar.name.endsWith("natives-armeabi.jar")) outputDir = file("libs/armeabi")
if(jar.name.endsWith("natives-x86_64.jar")) outputDir = file("libs/x86_64")
if(jar.name.endsWith("natives-x86.jar")) outputDir = file("libs/x86")
if(outputDir != null) {
copy {
from zipTree(jar)
into outputDir
include "*.so"
}
}
}
}
task run(type: Exec) {
def path
def localProperties = project.file("../local.properties")
if (localProperties.exists()) {
Properties properties = new Properties()
localProperties.withInputStream { instr ->
properties.load(instr)
}
def sdkDir = properties.getProperty('sdk.dir')
if (sdkDir) {
path = sdkDir
} else {
path = "$System.env.ANDROID_HOME"
}
} else {
path = "$System.env.ANDROID_HOME"
}
def adb = path + "/platform-tools/adb"
commandLine "$adb", 'shell', 'am', 'start', '-n', 'com.globapps.supermarioclon/com.globapps.supermarioclon.AndroidLauncher'
}
// sets up the Android Eclipse project, using the old Ant based build.
eclipse {
// need to specify Java source sets explicitly, SpringSource Gradle Eclipse plugin
// ignores any nodes added in classpath.file.withXml
sourceSets {
main {
java.srcDirs "src", 'gen'
}
}
jdt {
sourceCompatibility = 1.6
targetCompatibility = 1.6
}
classpath {
plusConfigurations += [ project.configurations.compile ]
containers 'com.android.ide.eclipse.adt.ANDROID_FRAMEWORK', 'com.android.ide.eclipse.adt.LIBRARIES'
}
project {
name = appName + "-android"
natures 'com.android.ide.eclipse.adt.AndroidNature'
buildCommands.clear();
buildCommand "com.android.ide.eclipse.adt.ResourceManagerBuilder"
buildCommand "com.android.ide.eclipse.adt.PreCompilerBuilder"
buildCommand "org.eclipse.jdt.core.javabuilder"
buildCommand "com.android.ide.eclipse.adt.ApkBuilder"
}
}
// sets up the Android Idea project, using the old Ant based build.
idea {
module {
sourceDirs += file("src");
scopes = [ COMPILE: [plus:[project.configurations.compile]]]
iml {
withXml {
def node = it.asNode()
def builder = NodeBuilder.newInstance();
builder.current = node;
builder.component(name: "FacetManager") {
facet(type: "android", name: "Android") {
configuration {
option(name: "UPDATE_PROPERTY_FILES", value:"true")
}
}
}
}
}
}
}
Resultados de la consola:
Information:Gradle tasks [:android:generateDebugSources, :android:generateDebugAndroidTestSources]
:android:preBuild UP-TO-DATE
:android:preDebugBuild UP-TO-DATE
:android:checkDebugManifest
:android:prepareDebugDependencies
:android:compileDebugAidl
:android:compileDebugRenderscript
:android:generateDebugBuildConfig UP-TO-DATE
:android:mergeDebugAssets UP-TO-DATE
:android:generateDebugAssets UP-TO-DATE
:android:generateDebugResValues UP-TO-DATE
:android:generateDebugResources
:android:mergeDebugResources
:android:processDebugManifest UP-TO-DATE
:android:processDebugResources FAILED
Error:Execution failed for task ':android:processDebugResources'.
> com.android.ide.common.process.ProcessException: org.gradle.process.internal.ExecException: Process 'command 'C:\Users\Diego\AppData\Local\Android\sdk\build-tools\23.0.2\aapt.exe'' finished with non-zero exit value 1
Information:BUILD FAILED
Information:1 error
Information:0 warnings
Information:Total time: 5.212 secs
Information:See complete output in console
¿Alguien conoce alguna solución?
4829,javascript|html,Tengo un caso donde quiero mostrar un texto que ocupe todo el ancho de su contenedor y no ocupe mas de una sola línea pero en caso que tenga caracteres separadores de línea no muestre las líneas consecutivas.
Intenté con el siguiente código en CSS puro:
.line-container {
width: 230px;
height: 20px;
}
.single-line {
width: 100%;
text-overflow: ellipsis;
white-space: nowrap;
overflow: hidden;
}
<div class="line-container">
<div class="single-line">Lorem
ipsum dolor amet Lorem ipsum dolor amet Lorem ipsum dolor
amet Lorem ipsum dolor amet Lorem ipsum
dolor amet Lorem ipsum dolor amet Lorem ipsum dolor amet Lorem ipsum dolor amet
Lorem ipsum dolor amet Lorem ipsum dolor amet</div>
</div>
Esto funciona bien pero solo si no hay caracteres de retorno de línea pues la propiedad white-space cuando se pone en nowrap elimina los saltos de línea. Los otros posibles valores normal, pre, pre-wrap y pre-line no fueron de mucha ayuda ya que el texto no salía entonces en 1 sola línea.
Leí también que hay varias formas de interpretar la presencia de una nueva línea con los caracteres \r y \n (retorno de línea y nueva línea) en los siguientes links:
What is the difference between \r and \n
https://es.wikipedia.org/wiki/Nueva_Línea
Imagino que si estoy leyendo un texto de una base de datos o un fichero y recibiendolo desde un servidor esto me puede traer muchos inconvenientes si fue escrito en diferentes sistemas operativos.
¿Existe alguna solución en CSS que no conozca o debo usar algún snippet de javascript para crear un componente como el que les estoy mostrando?
4840,java|android,Mi actividad principal, llamada HomeActivity, contiene un DrawerLayout con un NavigationView, también contiene un TabLayout de 4 elementos con un ViewPager, pero este carga Fragments en su FragmentStatePagerAdapter (varios de estos contienen RecyclerView) y en el mismo Thread (Principal), mi intención es cargar Activities en vez de Fragments como contenido de cada pestaña (Tab) para que así se ejecuten en diferentes Threads (o eso tengo entendido) y no en el Thread principal consumiendo la app.
Pregunta: ¿Cómo ejecutar Activities en vez de Fragments en cada Tab y qué cada una esté en un Thread diferente?
private void rellenarViewPager(ViewPager viewPager) {
AdaptadorSecciones adapter = new AdaptadorSecciones(getFragmentManager());
adapter.addFragment(new FragmentNoticies(), getString(R.string.fr_noticiies));
adapter.addFragment(new FragmentComercos(), getString(R.string.fr_comercos));
adapter.addFragment(new FragmentOfertes(), getString(R.string.fr_ofertes));
adapter.addFragment(new FragmentServeis(), getString(R.string.fr_serveis);
viewPager.setAdapter(adapter);
}
public class AdaptadorSecciones extends FragmentStatePagerAdapter {
private final List<Fragment> fragmentos = new ArrayList<>();
private final List<String> titulosFragmentos = new ArrayList<>();
public AdaptadorSecciones(FragmentManager fm) {
super(fm);
}
@Override
public android.support.v4.app.Fragment getItem(int position) {
return fragmentos.get(position);
}
@Override
public int getCount() {
return fragmentos.size();
}
public void addFragment(android.support.v4.app.Fragment fragment, String title) {
fragmentos.add(fragment);
titulosFragmentos.add(title);
}
@Override
public CharSequence getPageTitle(int position) {
return titulosFragmentos.get(position);
}
}
4842,php,Tengo un inconveniente con el envío de imágenes o adjuntos a través de mi página, me gustaría que las personas que completan mi formulario y quieran enviarme alguna imagen, puedan hacerlo desde ahí mismo, actualmente el botón está, selecciona el archivo, pero lógicamente, el mail me llega solo con la información.
Mi página es la siguiente: http://indgraphicdesign.com.ar/contacto.html
Mi código PHP es el siguiente:
<?php
error_reporting(E_ALL);
ini_set('display_errors', '1');
// Motrar todos los errores de PHP
error_reporting(-1);
// Motrar todos los errores de PHP
error_reporting(E_ALL);
// Motrar todos los errores de PHP
ini_set('error_reporting', E_ALL);
if(isset($_POST['email'])) {
// Edita las dos líneas siguientes con tu dirección de correo y asunto personalizados
$email_to = "
ind.graphicdesign@gmail.com";
$email_subject = "Mail de la página";
function died($error) {
// si hay algún error, el formulario puede desplegar su mensaje de aviso
echo "Lo sentimos, hubo un error en sus datos y el formulario no puede ser enviado en este momento. ";
echo "Detalle de los errores.<br /><br />";
echo $error."<br /><br />";
echo "Porfavor corrija estos errores e inténtelo de nuevo.<br /><br />";
die();
}
// Se valida que los campos del formulairo estén llenos
if(!isset($_POST['first_name']) ||
!isset($_POST['last_name']) ||
!isset($_POST['email']) ||
!isset($_POST['telephone']) ||
!isset($_POST['message'])) {
died('Lo sentimos pero parece haber un problema con los datos enviados.');
}
//En esta parte el valor "name" nos sirve para crear las variables que recolectaran la información de cada campo
$first_name = $_POST['first_name']; // requerido
$last_name = $_POST['last_name']; // requerido
$email_from = $_POST['email']; // requerido
$telephone = $_POST['telephone']; // no requerido
$message = $_POST['message']; // requerido
$error = ""; //Linea numero 52
//En esta parte se verifica que la dirección de correo sea válida
$email_exp = '/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/';
if(!preg_match($email_exp,$email_from)) {
$error_message .= 'La dirección de correo proporcionada no es válida.<br />';
}
//En esta parte se validan las cadenas de texto
$string_exp = "/^[A-Za-z .'-]+$/";
if(!preg_match($string_exp,$first_name)) {
$error_message .= 'El formato del nombre no es válido<br />';
}
if(!preg_match($string_exp,$last_name)) {
$error_message .= 'el formato del apellido no es válido.<br />';
}
if(strlen($message) < 2) {
$error_message .= 'El formato del texto no es válido.<br />';
}
//A partir de aqui se contruye el cuerpo del mensaje tal y como llegará al correo
$email_message = "Contenido del Mensaje.\n\n";
function clean_string($string) {
$bad = array("content-type","bcc:","to:","cc:","href");
return str_replace($bad,"",$string);
}
$email_message .= "Nombre: ".clean_string($first_name)."\n";
$email_message .= "Apellido: ".clean_string($last_name)."\n";
$email_message .= "Email: ".clean_string($email_from)."\n";
$email_message .= "Teléfono: ".clean_string($telephone)."\n";
$email_message .= "Mensaje: ".clean_string($message)."\n";
//Se crean los encabezados del correo
$headers = 'From: '.$email_from."\r\n".
'Reply-To: '.$email_from."\r\n" .
'X-Mailer: PHP/' . phpversion();
@mail($email_to, $email_subject, $email_message, $headers);
?>
<!-- incluye aqui tu propio mensaje de Éxito-->
Gracias! Nos pondremos en contacto contigo a la brevedad
<?php
}
?>`
4855,android,Estoy intentando permitir el sign in a través del Facebook Login pero se me repite el problema una y otra vez.
Una vez validado por parte de facebook el email y password y autorizado para ver la información pública y el email del usuario, me vuelve a mi ventana de signin pero no pasa por onSuccess.
Creo que la app de facebook la tengo bien creada. La KeyHash la he obtenido con el código del tutorial, el paquete lo detectan en google play, el id está correcto...
El código utilizado es el siguiente:
public class SignInActivity extends AppCompatActivity implements GoogleApiClient.OnConnectionFailedListener, View.OnClickListener {
LoginButton loginButton;
private CallbackManager callbackManager;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
FacebookSdk.sdkInitialize(getApplicationContext());
callbackManager = CallbackManager.Factory.create();
setContentView(R.layout.signinactivity);
loginButton = (LoginButton) findViewById(R.id.login_button);
loginButton.setReadPermissions("email");
loginButton.registerCallback(callbackManager, new FacebookCallback<LoginResult>() {
@Override
public void onSuccess(LoginResult loginResult) {
Log.d("vfd", "entra onSuccess");
}
@Override
public void onCancel() {
Log.d("vfd", "cancela");
}
@Override
public void onError(FacebookException exception) {
Log.v("LoginActivity", exception.getCause().toString());
}
});
}
4856,jquery|html,Tengo una tabla HTML con varias filas, cada fila tiene un radiobutton, intento hacer que cada fila sea como un link es decir que cambie de color cuando este seleccionada y se seleccione su radiobutton para obtener el id asociado al radiobutton, solo he podido hacer que cada fila de la tabla sea como link ¿Como podría hacerlo?
<script type="text/javascript">
$(".desmarcado").click(function () {
$("#intereses").prop("checked", true);
$(".desmarcado td").each(function (index) {
alert($(this).text());
});
});
</script>
y mi tabla es esta
<table id="table" class="table">
<thead>
<tr>
<th></th>
<th></th>
<!--<th></th>-->
</tr>
</thead>
<tbody>
<tr style='cursor:pointer' class='desmarcado'>
<td><input id="intereses" name="intereses" type="radio" value="1" /></td>
<td>Persona 1</td>
</tr>
</tbody>
</table>
4859,html,Estoy siguiendo el código de un tutorial básico para hacer un menú del tipo dropdown. Y estoy tratando de aplicar por mi cuenta código CSS que me permita centrar en la pagina, el menú horizontal. Sin embargo no he podido hacerlo.
Y aca esta el CSS y el HTML que estoy aplicando...
nav {
display:block;
margin: 0 auto 20px;
border: 1px solid #222;
position: relative;
background-color: #FBE080;
font: 16px Tahoma, sans-serif;
}
nav ul {
padding:0;
margin: 0;
text-align: center;
}
nav ul:after {
content:".";
display: block;
height: 0;
clear: both;
visibility: hidden;
}
nav li {
position: relative;
float: left;
list-style-type: none;
}
nav li a{
display:block;
padding: 10px 20px;
border-left: 1px solid #999;
border-right: 1px solid #222;
color: #000;
text-decoration: none;
}
nav li a:focus{
outline: none;
text-decoration: underline;
}
nav li:firt-child a{
border-left: none;
}
nav li.ultimo a {
border-right: none;
}
nav li:hover ul {
display: block;
}
nav a span {
display: block;
float: right;
margin-left: 5px;
}
nav ul a span {
-moz-transform:rotate(-180deg);
-webkit-transform:rotate(-180deg);
transform: rotate(-180deg);
}
nav ul ul {
display: none;
width: 100%;
position: absolute;
left: 0;
background: #FDEDB2;
}
nav ul ul li {
float: none;
}
nav ul ul a {
padding: 5px 10px;
border-left: none;
border-right: none;
font-size: 14px;
}
nav ul ul a:hover {
background-color: #FBE080;
}
nav {
border-radius:4px;
box-shadow:2px 2px 2px rgba(0,0,0,.75);
background-image:-moz-linear-gradient(0% 22px 90deg, #FBE080, #999);
background-image:-webkit-gradient(linear, 0% 0%, 0% 70%, from(#999), to(#FBE080));
}
nav li:hover {
background-image:-moz-linear-gradient(0% 100px 90deg, #999, #FBE080);
background-image:-webkit-gradient(linear, 0% 0%, 0% 70%, from(#FBE080), to(#999));
}
nav ul ul {
border-bottom-left-radius:4px;
border-bottom-right-radius:4px;
box-shadow:2px 2px 2px rgba(0,0,0,.8);
background-color:rgba(253,237,178,0.8);
}
nav ul ul li {
border-left:1px solid rgba(0,0,0,0.1);
border-right:1px solid rgba(0,0,0,0.1);
}
nav ul ul li.ultimo {
border-left:1px solid rgba(0,0,0,0.1);
border-bottom:1px solid rgba(0,0,0,0.1);
border-bottom-left-radius:4px;
border-bottom-right-radius:4px;
}
nav ul ul a:hover {
background-color:rgba(251,224,128,.9);
}
<!DOCTYPE html>
<html>
<head>
<title>Men&uacute; de Navegaci&oacute;n</title>
<link rel="stylesheet" href="estilo2.css">
</head>
<body>
<nav id="MenuNav">
<ul>
<li> <a href="#" title="Menu 1">Men&uacute; 1</a> </li>
<li> <a href="#" title="Menu 2">Men&uacute; 2<span>^</span></a>
<ul>
<li> <a href="#" title="SubMenu 1">Submen&uacute; 1</a> </li>
<li> <a href="#" title="SubMenu 2">Submen&uacute; 2</a> </li>
<li class="ultimo"> <a href="#" title="SubMenu 3">Submen&uacute; 3</a> </li>
</ul>
</li>
<li> <a href="#" title="Menu 3">Men&uacute; 3</a> </li>
<li> <a href="#" title="Menu 4">Men&uacute; 4<span>^</span></a>
<ul>
<li> <a href="#" title="SubMenu 4">Submen&uacute; 4</a> </li>
<li class="ultimo"> <a href="#" title="SubMenu 5">Submen&uacute; 5</a> </li>
</ul>
</li>
<li> <a href="#" title="Menu 5">Men&uacute; 5</a> </li>
</ul>
</nav>
</body>
</html>
4873,jquery|html,Estoy haciendo un menú desplegable con jQuery y llevo lo siguiente:
(function ($) {
$(document).ready(function () {
$('ul li:has(ul)').click(
function (e) {
$(this).find('ul').css({ display: "block" });
},
function (e) {
$(this).find('ul').css({ display: "none" });
}
);
$('#MainMenu > ul > li > a').click(function () {
$('#MainMenu li').removeClass('active');
$(this).closest('li').addClass('active');
var checkElement = $(this).next();
if ((checkElement.is('ul')) && (checkElement.is(':visible'))) {
$(this).closest('li').removeClass('active');
checkElement.slideUp('normal');
}
if ((checkElement.is('ul')) && (!checkElement.is(':visible'))) {
$('#MainMenu ul ul:visible').slideUp('normal');
checkElement.slideDown('normal');
}
if ($(this).closest('li').find('ul').children().length == 0) {
return true;
} else {
return false;
}
});
});
})(jQuery);
ul li ul {
display: none;
}
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<div id="MainMenu" class="active">
<ul>
<li><a href="#"><span class="glyphicon glyphicon-wrench"></span>  Configuración</a>
<ul>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Catálogo</a>
<ul>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Líneas</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Grupos</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Tipos de proveedor</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Grupo de cliente</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Tipo de movimiento</a></li>
<li class="last"><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Sucursales</a></li>
</ul>
</li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Parámetros</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Utilerías</a>
<ul>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Procesos de cálculos</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Procesos de cierres</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Reintegraciones</a></li>
</ul>
</li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Usuarios</a>
<ul>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Configuración de usuarios</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Perfiles</a></li>
<li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span>  Seguridad</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#"><span class="glyphicon glyphicon-folder-open"></span>   Catálogos</a>
<ul>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Compras</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Ventas</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Clientes</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Inventarios</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Logística</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Contabilidad</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Informes</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Empleados</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Equipos</a></li>
</ul>
</li>
<li><a href="#"><span class="glyphicon glyphicon-screenshot"></span>  Logística</a>
<ul>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Modulo de logística</a></li>
<li><a href="#"><span class="glyphicon glyphicon-triangle-bottom"></span>  Envios y entregas</a></li>
</ul>
</li>
</ul>
</div>
Todo funciona perfectamente excepto los subitem dentro de "Configuración > Catálogo" los cuales no se despliegan y sigo sin tener idea del por qué.
4885,c++,Explico:
Pase un algoritmo que tenía en pseint a c++ y el programa cumple con su funcion(Da los resultados bien).
Lo que quiero ahora es hacerle un entorno grafico(que se vea como los programas ya terminados).
Es decir que se deje de ver como un programa que solo se ven las lineas de entrada y salida En una pantalla negra con letras blancas(como cuando usamos la consola cmd en window) a un programa con diferentes colores y demas aspecros visuales.
Ej: si hice un programita que halla el area de una circunferencia.
Quisiera que esté una imagen de una circunferncia. Y debajo pida en un recuadro el radio y debajo de este un boton para calcular el area.
Creo que fui lo mas claro posible.
Gracias por sus respuestas de antemano
4889,jquery,Me gustaría saber si algún reproductor responsivo de video para html5, que permita reproducir todos o la mayoría de los formatos. He probado con uno que se llama Jplayer, pero solo acepta algunos formatos mp4, http://www.jplayer.org/latest/demos/
pero lo que ando buscando un reproductor en jquery o flash, o cualquier opcion buena, que sea responsivo, que permita reproducir cualquier video(mp4, avi, mpg, etc.)
4892,javascript|php|jquery,Tengo un problema con Dropzone.js para borrar imagenes luego de ser encryptada y subida con Laravel 5 tengo el siguiente codigo:
$file = $request->file('image');
$extension       = $file->getClientOriginalExtension() ?: 'png';
$fileName        = $file->getClientOriginalName();
$folderName      = '/uploads/images/posts/' . date("Ym", time()) .'/'.date("d", time());
$destinationPath = public_path() . $folderName;
$safeName        = md5($fileName).'.'.$extension;
$file->move($destinationPath, $safeName);
Una vez encrytada y subida mediante ajax con Dropzone si el user se equivoca de foto o sube la misma por error o equivocacion deberia ser eliminada por el mismo usuario antes de ser publicada
Coloco el codigo JS de Dropzone que uso, pero ese codigo me envia el nombre original del archivo mas no el encrytado en L5
Dropzone.options.uploadWidget = {
paramName: 'image',
maxFilesize: 10, // MB
maxFiles: 1,
dictDefaultMessage: 'Click para subir una imagen',
previewTemplate: document.querySelector('#preview-template').innerHTML,
previewsContainer: '#dropzonePreview',
addRemoveLinks: true,
dictRemoveFile: 'Remove',
acceptedFiles: 'image/*',
init: function() {
this.on('success', function( file, resp ){
//console.log(resp.url);
$('#file').attr( 'value',resp.name);
});
this.on('thumbnail', function(file) {
if ( file.width < 200 || file.height < 200 ) {
file.rejectDimensions();
} else {
file.acceptDimensions();
}
});
this.on('removedfile', function(file) {
$.ajax({
type: 'POST',
url: site_path + '/post/ajaxdeletefile',
data: {id: file.name},
dataType: 'html',
success: function(data){
//  console.log(data);
}
});
});
},
accept: function(file, done) {
file.acceptDimensions = done;
file.rejectDimensions = function() {
done('The image must be at least 640 x 480px')
};
}
};
4894,ios,Tengo 2 imágenes y necesito unirlas en una sola.
Exactamente necesito que las 2 imágenes se solapen entre ellas y creen una nueva.
Ambas imágenes se han de ver al 50%, como si cogieras 2 imágenes en Photoshop y las unieras.
El resultado será una nueva imagen.
¿Alguien sabe como poder hacerlo?
4895,android,En mi actividad principal mainActivity muestro un listview de los datos de mi base de datos local en SQlite consultados a través de una clase DataBaseHelper, donde creó la base de datos y una clase SQLcontrolle donde esta el metodo cursor readData que es finalmente la consulta en si, la consulta y el despliegue de la misma se efectúan perfectamente.
Hora lo que intento es que al momento que le den click al ITEM   se muestre un mensaje con el ID o la posición o en su defecto el "ID"  correspondiente al registro en la lista, esto es lo que tengo hasta ahora de código:
Al darle click al ITEM me lanza Se ha detenido la aplicacion
del registro seleccionado:
MainActivity.java (Actualizado 28-02)
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
dbcon = new SQLController(this);
dbcon.open();
lv = (ListView) findViewById(R.id.listView);
Cursor cursor = dbcon.readData();
String[] from = new String[] { DatabaseHelper.IDs,    DatabaseHelper.MSG};
int[] to = new int[] { R.id.ids, R.id.msg};
SimpleCursorAdapter adapter = new SimpleCursorAdapter(
MainActivity.this, R.layout.list_item, cursor, from, to);
Firm = (RadioButton) findViewById(R.id.firma);
adapter.notifyDataSetChanged();
lv.setAdapter(adapter);
lv.setOnItemClickListener(new OnItemClickListener() {
@Override
public void onItemClick(AdapterView<?> parent, View view,
int position, long id) {
int itemPosition     = position;
String  itemValue    = (String)   lv.getItemAtPosition(position);
// Show Message
Toast.makeText(getApplicationContext(),
"Position :"+itemPosition+"  ListItem : " +itemValue , Toast.LENGTH_LONG)
.show();
}
});
.
.
La clase SQLController donde esta el metodo cursor Read Data
SQLControler.java
public class SQLController {
private DatabaseHelper DatabaseHelper;
private Context ourcontext;
private SQLiteDatabase database;
public SQLController(Context c) {
ourcontext = c;
}
public SQLController open() throws SQLException {
DatabaseHelper = new DatabaseHelper(ourcontext);
database = DatabaseHelper.getWritableDatabase();
return this;
}
//Getting Cursor to read data from table
public Cursor readData() {
String[] allColumns = new String[] { DatabaseHelper.IDs, DatabaseHelper.MSG };
Cursor c = database.query(DatabaseHelper.TABLE_NAME, allColumns, null,
null, null, null, DatabaseHelper.IDs+" DESC",null);
if (c != null) {
c.moveToFirst();
}
return c;
}
Y por ultimo DatabaseHelper donde creo la base de datos:
DatabaseHelper.java
public class DatabaseHelper extends SQLiteOpenHelper {
public static final int DATABASE_VERSION = 1;
public static final String DATABASE_NAME = "GCM";
public static final String TABLE_NAME = "newsTable";
public static final String IDs = "_id";
public static final String MSG = "MESSAGE";
public static final String FIRMA = "firma";
public DatabaseHelper(Context context) {
super(context, DATABASE_NAME, null, DATABASE_VERSION);
// TODO Auto-generated constructor stub
}
@Override
public void onCreate(SQLiteDatabase db) {
// TODO Auto-generated method stub
db.execSQL("CREATE TABLE " + TABLE_NAME + "(" + IDs + " INTEGER PRIMARY KEY AUTOINCREMENT, " + MSG + " STRING, " + FIRMA + " STRING)");
}
@Override
public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {
// TODO Auto-generated method stub
db.execSQL("DROP TABLE IF EXISTS " + TABLE_NAME);
onCreate(db);
}
Cualquier ayuda, sugerencia y comentario se los agradesco de antemano, gracias por su atención
4898,jquery,Intento resolver cómo hacer el autocompletar con jQuery UI, no veo el error. ¿Me podrán ayudar? Veo en la consola que, si por ejemplo escribo código "333.." me aparecen los dos arreglos que empiezan con ese código, pero no los muestra en la vista.
Éste es mi controlador:
public function getarticulos() {
$q = trim($this->input->get('term'));
$productoresult = $this->articulo_model->find($q);
$result = array();
foreach ($productoresult as $i =>$articulo) {
$result[$i]['id'] = $articulo->id;
$result[$i]['codigo'] = $articulo->codigo;
$result[$i]['descripcion'] = $articulo->descripcion;
$result[$i]['precioactual'] = $articulo->precioactual;
}
echo json_encode($result);
}
Éste es el modelo:
public function find($q){
return $this->db->query("select * from articulo where codigo like '%$q%'")->result();
}
Ésta es la vista:
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Sistema Stock</title>
<link rel="stylesheet" href="<?php echo base_url(); ?>css/bootstrap.min.css" media="screen" />
<link rel="stylesheet" href="<?php echo base_url(); ?>css/bootstrap-theme.min.css"/>
<link rel="stylesheet" href="<?php echo base_url(); ?>css/chosen.min.css" media="screen" />
<link rel="stylesheet" href="<?php echo base_url(); ?>css/mystyle.css" media="screen" />
<link rel="stylesheet" href="<?php echo base_url(); ?>css/jquery-ui.css" media="screen" />
<script src="<?php echo base_url(); ?>js/jquery-1.11.1.min.js"></script>
<script src="<?php echo base_url(); ?>js/bootstrap.min.js"></script>
<script src="<?php echo base_url(); ?>js/chosen.jquery.min.js"></script>
<script src="<?php echo base_url(); ?>js/jquery-ui.js"></script>
</head>
<script type="text/javascript">
$(document).ready(function() {
$("[name=codigo]").autocomplete({
source: "<?php echo base_url() ?>index.php/articulo/getarticulos",
minLength: 3,
select: function( event, ui ) {
if(ui.item.id){
$("[name=codigo]").val(ui.item.codigo);
return false;
}
},
search: function (event, ui ){
$("[name=codigo]").val(0);
}
});
});
</script>
<div class="form-group">
<div class="col-xs-6">
<div class='input-group'>
<span class="input-group-addon"><span class="glyphicon glyphicon-tag"></span></span>
<input id="txtcodigo" name="codigo" type="text" placeholder="Codigo" value="" class="form-control" required="">
</div>
</div>
</div>
editado--
HICE UNOS CAMBIOS y ahora m muestra la lista, pero cuando selecciono, como tendría q ser? quiero q se guarde el valor del código y del id en los campos correspondientes,muestro como hice la función select: function( event, ui ) pero no devuelve el valor:
CAMBIE LA VISTA
$(function() {
var cache = {};
$( "#txtcodigo" ).autocomplete({
minLength: 2,
source: function( request, response ) {
var menus = new Array();
var term = request.term;
if ( term in cache ) {
response( cache[ term ] );
return;
}
$.getJSON( "<?php echo base_url() ?>index.php/articulo/getarticulos", request, function( result, status, xhr ) {
cache[ term ] = result;
var count = result.length;
console.log(result);
console.log(count);
for (var i = 0; i < count; i++) {
menus[i] = { codigo: result[i].codigo, id: result[i].id, descripcion:result[i].descripcion};
console.log(menus[i]);
cache[ term ][i] = result[i].codigo;
}
response(result);
});
},
select: function( event, ui ) {
$("#txtcodigo").val(ui.item.codigo);
$("#txtid").val(ui.item.id);
return false;
}
});
});
<label for="txtcodigo">Codigo: </label>
<input id="txtcodigo">
<label for="txtid">id: </label>
<input id="txtid">
4905,javascript|jquery,La creación en el HTML del slider es ésta, hago uso de una framework, el nouislider. El Slider es porque estoy creando un reproductor con HTML y jQuery junto con Bootstrap. El slider tendría como funcionar, lógicamente, avanzar según vaya reproduciéndose el audio.
<div id="slider" class="slider shor slider-success"> </div>
En el JS tengo esto:
var slider = document.getElementById('slider');
audio = document.getElementById('audio1');
$('#play1').click(function () {
if ($("#audio1").get(0).paused) {
$("#audio1").get(0).play();
document.getElementById('tempo_atual').innerHTML = secToStr( audio1.currentTime);
document.getElementById('tempo_total').innerHTML = secToStr( audio1.duration );
} else {
$("#audio1").get(0).pause();
}
});
audio.addEventListener('timeupdate', atualizar , false);
noUiSlider.create(slider, {
start: 0,
range: {
'min': 0,
'max': audio.duration
}
});
//slider1Value = document.getElementById('slider1-span'),
slider.noUiSlider.on('update', function( values, handle ){
//slider1Value.innerHTML = values[handle];
position = values[handle];
audio.currentTime = position;
});
function atualizar(){
document.getElementById('tempo_atual').innerHTML = secToStr( audio.currentTime);
document.getElementById('tempo_total').innerHTML = secToStr( audio.duration);
}
Lo que se me ocurre es que en la función actualizar() vaya algo como esto:
slider.noUiSlider.set(audio.currentTime);
PERO NO ME FUNCIONA. ¿Lo hago en un lugar incorrecto? ¿Utilizo mal el .set()?
¿Cómo puedo solucionar este problema?
Alvaro Montoro:
Gracias por las correcciones, sucede es mi primera vez haciendo uso de Stack Overflow, además de haber escrito todo con prisa.
4914,java|android,Estoy siguiendo el ejemplo de Google Storing and Searching for Data
como buscar en una base de datos y devolver los resultados de un viewSearch, todo me funciona perfectamente, pero solo busca en una columna COL_WORD
public Cursor getWordMatches(String queryStr, String[] columns) {
String selection = "" + COL_WORD + " MATCH ? ";
String[] selectionArgs = new String[] { queryStr + "*," };
return query(selection, selectionArgs, columns);
}
private Cursor query(String selection, String[] selectionArgs, String[] columns) {
SQLiteQueryBuilder builder = new SQLiteQueryBuilder();
builder.setTables(FTS_VIRTUAL_TABLE);
Cursor cursor = builder.query(mDatabaseOpenHelper.getReadableDatabase(),
columns, selection, selectionArgs, null, null, null);
if (cursor == null) {
return null;
} else if (!cursor.moveToFirst()) {
cursor.close();
return null;
}
return cursor;
}
Me gustaría adaptar el código que buscará dentro de los campos COL_WORD y COL_DEFINITION con condición OR, es decir que si la palabra a buscar se encuentra en un campo o otro o bien ambos, devuelve resultado.
Estoy mirando la documentación de sqlite, me parece que la solución recae aquí, pero no tengo suficientes conocimientos para trasladarlo a objeto SQLiteQueryBuilder
-- Query the database for documents for which the term "linux" appears in
-- the document title, and the term "problems" appears in either the title
-- or body of the document. SELECT * FROM docs WHERE docs MATCH 'title:linux problems';
-- Query the database for documents for which the term "linux" appears in
-- the document title, and the term "driver" appears in the body of the document
-- ("driver" may also appear in the title, but this alone will not satisfy the.
-- query criteria). SELECT * FROM docs WHERE body MATCH 'title:linux driver';
4915,ios,Tengo un problema, he implementado GCM en mi aplicación y he creado un UIViewController para que sea el inicial y en el que se realiza el registro necesario de este sistema.
Una vez realizado, salta un UIAlertController cuyo botón te lleva directamente a la página inicial de la aplicación a través de una segue manual. Hasta aquí no hay problema pero quiero saber como hacer para que a partir de entonces, se realice la segue directamente sin que se muestre este ViewController.
Muchas gracias.
4920,java|android,Estoy tratando de realizar una aplicación que se conecte a un módulo Bluetooth y posteriormente poder navegar entre distintas activities conectado al módulo.
El problema es que la conexión en la activity principal está bien pero cuando lanzo otra activity se pierde la conexión.
¿Alguna idea de cómo podría mantener la conexión activa o de cómo volver a reconectar en la activity nueva?
Éste es mi código:
public class Pantalla_Principal extends AppCompatActivity {
Handler bluetoothIn;
final int handlerState = 0;
TextView CajaDeInformacion = null;
Button BotonPruebaDeConexion, BotonConfigurar, BotonSeleccionar, BotonEliminar, BotonSalir;
public StringBuilder recDataString = new StringBuilder();
public Pantalla_Principal.ConnectedThread mConnectedThread;
public static final UUID BTMODULEUUID = UUID.fromString("00001101-0000-1000-8000-00805F9B34FB");
public static String address;
public static String Dispositivo;
BluetoothDevice device;
BluetoothAdapter myBluetooth = null;
BluetoothSocket btSocket = null;
public static String EXTRA_ADDRESS = "device_address";
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_pantalla__principal);
final Intent intent = this.getIntent();
address = intent.getStringExtra(Pantalla_Conexion.EXTRA_ADDRESS);
CajaDeInformacion = (TextView) findViewById(R.id.CajaDePruebas);
BotonConfigurar = (Button) findViewById(R.id.BotonConfigurar);
BotonSeleccionar = (Button) findViewById(R.id.BotonSeleccionar);
BotonEliminar = (Button) findViewById(R.id.BotonEliminar);
BotonPruebaDeConexion = (Button) findViewById(R.id.BotonPruebaDeConexion);
BotonSalir = (Button) findViewById(R.id.BotonSalir);
BotonPruebaDeConexion.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
if (btSocket != null) {
try {
btSocket.getOutputStream().write("Hola".toString().getBytes());
} catch (IOException e) {
Mensaje("Error");
}
}
}
});
BotonConfigurar.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
Intent PantallaConfigurar = new Intent(Pantalla_Principal.this, Pantalla_Configuracion.class);
startActivity(PantallaConfigurar);
finish();
}
});
BotonSeleccionar.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
Intent PantallaTelevisores = new Intent(Pantalla_Principal.this, Plantilla_Televisores.class);
PantallaTelevisores.putExtra(EXTRA_ADDRESS, address);
PantallaTelevisores.putExtra(Dispositivo,device);
//PantallaTelevisores.putExtra("Dispositivo",device)
startActivity(PantallaTelevisores);
}
});
BotonSalir.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
if (btSocket != null) {
try {
Mensaje("Conexion Finalizada");
btSocket.close();
finish();
} catch (IOException e) {
Mensaje("Error");
}
}
}
});
this.bluetoothIn = new Handler() {
public void handleMessage(Message msg) {
if (msg.what == 0) {
String readMessage = (String) msg.obj;
Pantalla_Principal.this.recDataString.append(readMessage);
Pantalla_Principal.this.CajaDeInformacion.setText("   ");
Pantalla_Principal.this.CajaDeInformacion.setText(recDataString);
}
}
};
this.myBluetooth = BluetoothAdapter.getDefaultAdapter();
this.checkBTState();
}
public BluetoothSocket createBluetoothSocket(BluetoothDevice device) throws IOException {
return device.createRfcommSocketToServiceRecord(BTMODULEUUID);
}
private void Mensaje(String s) {
Toast.makeText(getApplicationContext(), s, Toast.LENGTH_LONG).show();
}
public void onResume() {
super.onResume();
BluetoothDevice device = myBluetooth.getRemoteDevice(address);
try {
this.btSocket = this.createBluetoothSocket(device);
} catch (IOException var7) {
Toast.makeText(this.getBaseContext(), "Socket creation failed", 1).show();
}
try {
this.btSocket.connect();
} catch (IOException var6) {
try {
this.btSocket.close();
} catch (IOException var5) {
;
}
}
this.mConnectedThread = new Pantalla_Principal.ConnectedThread(this.btSocket);
this.mConnectedThread.start();
}
public void onPause() {
super.onPause();
try {
this.btSocket.close();
} catch (IOException var2) {
;
}
}
public void onStop() {
super.onStop();
try {
this.btSocket.close();
} catch (IOException var2) {
;
}
}
public void checkBTState() {
if (this.myBluetooth == null) {
Toast.makeText(this.getBaseContext(), "Device does not support bluetooth", 1).show();
} else if (!this.myBluetooth.isEnabled()) {
Intent enableBtIntent = new Intent("android.bluetooth.adapter.action.REQUEST_ENABLE");
this.startActivityForResult(enableBtIntent, 1);
}
}
public class ConnectedThread extends Thread {
private final InputStream mmInStream;
private final OutputStream mmOutStream;
public ConnectedThread(BluetoothSocket socket) {
InputStream tmpIn = null;
OutputStream tmpOut = null;
try {
tmpIn = socket.getInputStream();
tmpOut = socket.getOutputStream();
} catch (IOException var6) {
;
}
this.mmInStream = tmpIn;
this.mmOutStream = tmpOut;
}
public void run() {
byte[] buffer = new byte[256];
while (true) {
try {
int bytes = this.mmInStream.read(buffer);
String readMessage = new String(buffer, 0, bytes);
Pantalla_Principal.this.bluetoothIn.obtainMessage(0, bytes, -1, readMessage).sendToTarget();
} catch (IOException var4) {
return;
}
}
}
}
}
4926,c++,Cuento con este código:
#include <iostream>
//A continuacion, nuestro programa calcula el promedio de numero pares e impares del 1 al 500.
using namespace std;
float promedio(int , int);//declaramos nuestra funcion.
int par=0;
float impar=0;
int main()
{
cout<<"El promedio de numeros pares e impares es:"<<promedio(suma_par,suma_impar)<<endl;
return 0;
}
int promedio(int suma_par, int suma_impar)
{
int i;
for(i==1;i<=500;i++)
{
if(i % 2==0)
{
int par;
suma_par= par + i;
return (suma_par / i);
}
else
{
int impar;
suma_impar= impar + i;
return (suma_impar/ i);
}
}
}
Se supone que al correrlo me de un promedio de los números impares y pares del 1 al 500
4932,ios,En mi ViewController tengo una serie de Text Fields. Cuando presiono el botón para enviar necesito que estos cumplan una serie de requisitos, y si lo hacen, realizar un post al servidor.
Tengo programadas las condiciones así, pero no sé como hacer para que el post se ejecute tras comprobar todo eso.
if titulo.text!.characters.count < 15 {
let myColor = UIColor.redColor()
titulo.layer.borderColor = myColor.CGColor
caracteres.text = "Los espacios destacados deben contener un mínimo de 15 caracteres."
} else {
self.tituloenviar = titulo.text!
}
if descripcion.text!.characters.count < 15 {
let myColor = UIColor.redColor()
descripcion.layer.borderColor = myColor.CGColor
caracteres.text = "Los espacios destacados deben contener un mínimo de 15 caracteres."
} else {
self.descripcionenviar = descripcion.text!
}
if fecha.text!.characters.count < 15 {
let myColor = UIColor.redColor()
fecha.layer.borderColor = myColor.CGColor
caracteres.text = "Los espacios destacados deben contener un mínimo de 15 caracteres."
} else {
self.fechaenviar = fecha.text!
}
if horario.text!.characters.count < 15 {
let myColor = UIColor.redColor()
horario.layer.borderColor = myColor.CGColor
caracteres.text = "Los espacios destacados deben contener un mínimo de 15 caracteres."
} else {
self.horarioenviar = horario.text!
}
if categoria.text!.characters.count < 1 {
let myColor = UIColor.redColor()
categoria.layer.borderColor = myColor.CGColor
caracteres.text = "El espacio destacado debe corresponder con una de las categorías mencionadas."
} else {
self.categoriaenviar = categoria.text!
}
}
// POST
4935,c++,Mi duda es cómo puedo encontrar las coordenadas X y Y de todos los píxeles negros del objeto de la imagen.
Esta es la imagen: http://i.imgur.com/e3Z94tG.png (la figura negra tiene un grosor de 1 pixel)
Puedo contar el total de pixeles negros y encontar las coordenas X y Y del centro de la figura negra con este codigo:
int c = 0;
double x = 0, y = 0;
for(i=0; i<high; i++)
{
for(j=0; j<width; j++)
{
if(Img->imx[i*width+j]==0)
{
c=c+1;  //conteo de pixeles negros
x=x+j;
y=y+i;
}
}
}
if(c>0)
{
x=x/c; //centro en X
y=y/c;  //centro en Y
}
Pero necesito encontrar las coordenadas X y Y de cada pixel negro.
4944,ios,Necesito poner una imagen y un pequeño texto cuando se abra un UITableView vacio (sin datos).
Adjunto la imagen de un ejemplo que he visto por internet a ver cómo se podría hacer.
4954,c++,#include <iostream>
#include <conio.h>
using namespace std;
char s[100];
int main()
{
char *ps = &s[0];
cout<<"\n Ingrese la cadena: ";
gets(s);
for (int i=0; i<100; i++, *ps++)  {
cout<<*ps;   }
_getch();
}
Como puedo mostrar una cadena cada tres palabras?, por ejemplo si ingresando la cadena:
Yo soy nuevo en programación, me gustaría aprender mucho y ser muy bueno en esto
A continuacion debería mostrar:
Yo          soy               nuevo
en          programación,     me
gustaría    aprender          mucho
y           ser               muy
bueno       en                esto.
4965,ios,No acabo de entender como funciona el incremento del Badge del ios.
Con el código que pongo a continuación me sale la notificación correcta, pero al pasar un día en vez de poner, por ejemplo de 0 a 1, me pasa a 2...
No entiendo que me dejo o como ios incrementa este valor.
¿Me podéis echar un mano?
UILocalNotification* localNotification = [[UILocalNotification alloc] init];
localNotification.fireDate = startDate; // Por ejemplo: Ponemos el día siguiente a las 09:00 de la mañana
localNotification.soundName = UILocalNotificationDefaultSoundName;
localNotification.alertBody =  @"Tiene tareas pendientes para realizar";
localNotification.alertAction = descripcionTextField.text;
localNotification.timeZone = [NSTimeZone defaultTimeZone];
localNotification.applicationIconBadgeNumber = [[UIApplication sharedApplication] applicationIconBadgeNumber] + 1;
NSDictionary *inventory = @{
@"AcID" : [NSNumber numberWithInt: acuarioSeleccionadoID],
@"TareaID" : [NSNumber numberWithInt: tareaSeleccionada],
};
localNotification.userInfo= inventory;
[[UIApplication sharedApplication] scheduleLocalNotification:localNotification];
4977,html,Estoy usando bootstrap para hacer ventanas modales pero cuando cargado mucho contenido no se puede bajar con el scroll para ver la demás información debido a que el scroll se oculta autmaticamente al abrir mi modal , es decir se queda estática, uso el código para las ventanas modales de la pagina de bootstrap
<div class="modal fade " id="modalOpcionessii" tabindex="-1" role="dialog" >
<div class="modal-dialog"  role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Reporte de renovaciones</h5>
</div>
<div class="modal-body">
<div class="alert alert-success"><i class="glyphicon glyphicon-asterisk"></i> Propuestas</div>
<input type="hidden" id="valor_" />
<input type="hidden" id="valorboton_" />
<!-- EN EL DIV "muestraResultado" MUESTRO CONTENIDO DE TEXTO -->
<div id="muestraResultado"></div>
</div>
<div class="modal-footer">
<button type="button"  class="btn btn-primary" data-toggle="modal" data-target="#SiRenueva" data-whatever="si">Si </button>
<button type="button"  class="btn btn-primary" data-toggle="modal" data-target="#NoRenueva" data-whatever="si">No </button>
</div>
</div>
</div>
</div>
4992,html,Estoy practicando con bootstrap y resulta que deseo modificar el height de un container-fluid, aplico las reglas en css, pero no puedo cambiar el tamaño, esto es lo que llevo:
@charset "UTF-8";
* {
padding: 0;
margin: 0;
}
/* Backgrounds */
#background-head {
background: #000000;
}
/*Cambio de tamaño a los container*/
.container-fluid {
max-height: 200px;
}
<!DOCTYPE html>
<html>
<head>
<title>Example1</title>
<meta chartset="Utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="sheetStyle.css">
</head>
<body>
<div class="container-fluid" id="background-head">
<div class="row">
<header>
<h1>Hello</h1>
</header>
<!-- header -->
</div>
</div>
<section>
<article></article>
</section>
<footer>
</footer>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
<!-- JQUERY-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</body>
</html>
No se porque no se aplica la regla de altura al container.
4996,java|android,Verán, estoy haciendo un modulo Xposed y me gustaría saber cual es la forma para que se apliquen los cambios luego de que el tlf es reiniciado.
Por ejemplo si mi modulo cambia el color de la barra de notificaciones, quiero que luego que el usuario elija el color, tenga q reiniciar el tlf para que se apliquen los cambios.
Hacer los cambios en tiempo de ejecución me causa varias dificultades, ¿Cuál seria el código para eso? ¿Hay alguna función?
4999,jquery,Tengo el siguiente código:
#main,
#main ul,
#main li,
#main a {
margin: 0;
padding: 0;
border: 0;
list-style: none;
font-weight: normal;
text-decoration: none;
line-height: 1;
font-family: 'Open Sans', sans-serif;
font-size: 14px;
position: relative;
}
#main{
width: 250;
border-right: 1px solid #ececec;
}
#main a {
line-height: 1.3;
}
#main > ul > li {
background: #f7f7f7;
background: -moz-linear-gradient(#f7f7f7 0%, #ececec 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #f7f7f7), color-stop(100%, #ececec));
background: -webkit-linear-gradient(#f7f7f7 0%, #ececec 100%);
background: linear-gradient(#f7f7f7 0%, #ececec 100%);
}
#main > ul > li a:hover {
background: #2E779A;
background: -moz-linear-gradient(#2E779A 0%, #2E779A 100%);
background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #2E779A), color-stop(100%, #2E779A));
background: -webkit-linear-gradient(#2E779A 0%, #2E779A 100%);
background: linear-gradient(#2E779A 0%, #2E779A 100%);
color: #ffffff;
}
#main > ul > li > a {
font-size: 14px;
display: block;
color: #2E779A;
border: 1px solid #ececec;
border-top: none;
text-shadow: 0 -1px 1px #ececec;
}
<div id="main">
<ul>
<li><a href="#">Inicio</a></li>
<li><a href="#">Sobre nosotros</a></li>
<li><a href="#">Producto</a></li>
<li><a href="#">Contacto</a></li>
</ul>
</div>
Y lo que quiero es que al momento de seleccionar un campo, este mismo cambie de color para señalarle al usuario en que sección se encuentra ¿Puedo hacer esto con css o necesito usar jQuery?
5014,ios,Tengo dos .h en mi proyecto con el mismo nombre auto-generados. Alguien sabe cómo compilar uno u otro dependiendo del target que se ejecute?
Es imperativo no cambiar el nombre de los .h
5019,android,Tengo una consulta, estoy trabajando con DrawerLayout y estoy intentando "setear" los valores de tres TextView del "header" en tiempo de ejecución desde una clase AsyncTask, pero por algún motivo estos objetos no están mostrando los valores, estos datos lo estoy obteniendo desde una tabla en una BD Sqlite local y he validado que si obtengo información. Agradeceré su apoyo.
A continuación detallo parte del código
activity_principal.xml
<?xml version="1.0" encoding="utf-8"?>
<android.support.v4.widget.DrawerLayout
xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:app="http://schemas.android.com/apk/res-auto"
android:id="@+id/dwrMain"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:fitsSystemWindows="true">
<LinearLayout
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:orientation="vertical">
<include
android:id="@+id/toolbar"
layout="@layout/toolbar"/>
<FrameLayout
android:id="@+id/content_fragment"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@drawable/style_background">
</FrameLayout>
</LinearLayout>
<android.support.design.widget.NavigationView
android:id="@+id/navigation_view"
android:layout_width="wrap_content"
android:layout_height="match_parent"
android:layout_gravity="start"
android:background="@android:color/white"
app:itemBackground="@android:color/transparent"
app:headerLayout="@layout/header_main_drawer"
app:menu="@menu/menu_drawer">
</android.support.design.widget.NavigationView>
</android.support.v4.widget.DrawerLayout>
header_main_drawer.xml
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="130dp"
android:padding="@dimen/activity_horizontal_margin"
android:theme="@style/ThemeOverlay.AppCompat.Dark"
android:background="@color/colorPrimary"
android:orientation="vertical">
<TextView
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:id="@+id/txtUserHeader"
android:textStyle="bold"
style="@style/FontTitleHeader"
android:layout_above="@+id/txtTitleHeader"
android:paddingLeft="3dp"
android:paddingTop="3dp"
android:paddingRight="3dp"
android:paddingBottom="1dp" />
<TextView
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:id="@+id/txtTitleHeader"
style="@style/FontSubTitleHeader"
android:layout_alignParentBottom="false"
android:layout_above="@+id/txtEmailHeader"
android:paddingLeft="3dp"
android:paddingTop="3dp"
android:paddingRight="3dp"
android:paddingBottom="1dp" />
<TextView
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:id="@+id/txtEmailHeader"
style="@style/FontSubTitleHeader"
android:layout_alignParentBottom="true"
android:paddingLeft="3dp"
android:paddingTop="3dp"
android:paddingRight="3dp" />
</RelativeLayout>
Luego mi clase PrincipalActivity.java
public class PrincipalActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {
private String TAG = null;
private FrameLayout frameLayout;
private DrawerLayout mDrawerLayout;
private NavigationView navigationView;
private Toolbar toolbar;
private TextView txtNameHeader;
private TextView txtTitleHeader;
private TextView txtEmailHeader;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_principal);
initUI();
synchronize();
}
private void synchronize() {
SynchronizeService syncService = new SynchronizeService(PrincipalActivity.this);
syncService.execute();
}
private void initUI(){
TAG = PlanVisitFragment.class.getSimpleName();
toolbar = (Toolbar) findViewById(R.id.toolbar);
frameLayout = (FrameLayout) findViewById(R.id.content_fragment);
mDrawerLayout = (DrawerLayout) findViewById(R.id.dwrMain);
navigationView = (NavigationView) findViewById(R.id.navigation_view);
View header = navigationView.getHeaderView(0);
txtNameHeader = (TextView)header.findViewById(R.id.txtUserHeader);
txtTitleHeader = (TextView)header.findViewById(R.id.txtTitleHeader);
txtEmailHeader = (TextView)header.findViewById(R.id.txtEmailHeader);
setSupportActionBar(toolbar);
ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this, mDrawerLayout, toolbar, R.string.title_activity_principal, R.string.title_activity_principal);
mDrawerLayout.setDrawerListener(actionBarDrawerToggle);
actionBarDrawerToggle.syncState();
navigationView.setNavigationItemSelectedListener(this);
mDrawerLayout.setDrawerShadow(R.color.DrawerBackground, GravityCompat.START);
}
....
}
Mi clase SynchronizeService.java que es donde estoy realizando el "seteo"
public class SynchronizeService extends AsyncTask {
private ProgressDialog progressDialog;
private Context context;
private Resources resources;
private NavigationView navigationView;
private TextView txtNameHeader;
private TextView txtTitleHeader;
private TextView txtEmailHeader;
public SynchronizeService(Context context){
this.context = context;
this.resources = context.getResources();
}
protected void onPreExecute(){
progressDialog = new ProgressDialog(context);
progressDialog.setMessage(resources.getString(R.string.msg_sync_back));
progressDialog.setCancelable(true);
progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER);
progressDialog.show();
}
@Override
protected Object doInBackground(Object[] objects) {
SynchronizeBackend synchronizeBackend = new SynchronizeBackend(context);
synchronizeBackend.getAllSynchronize();
return null;
}
protected void onPostExecute(Object o){
LoginController loginController = new LoginController(context);
CollId collId = loginController.getValuesHeader(LoginPersistence.getUser());
//Aquí estoy realizando el seteo del header
navigationView = (NavigationView) ((Activity)context).findViewById(R.id.navigation_view);
View header = navigationView.getHeaderView(0);
txtNameHeader = (TextView)header.findViewById(R.id.txtUserHeader);
txtTitleHeader = (TextView)header.findViewById(R.id.txtTitleHeader);
txtEmailHeader = (TextView)header.findViewById(R.id.txtEmailHeader);
txtNameHeader.setText(collId.getClName());
txtTitleHeader.setText(collId.getClTitle());
txtEmailHeader.setText(collId.getClMail());
if (progressDialog.isShowing()) {
progressDialog.dismiss();
}
}
}
5042,c++,Buenas,
Estoy trabajando en este algoritmo bastante sencillo que intenta solucionar el problema de knapsack con un algoritmo genetico. Me he basado en lo que he podido aprender de internet y el algoritmo compila y funciona, pero siempre me da 0 y la verdad no entiendo por que....
Alguien me podria echar una mano?
Gracias
#include "stdafx.h"
#include <iostream>
#include <string>
#include <vector>
#include <stdlib.h>
#include <time.h>
using namespace std;
vector<double> weight;
vector<string> population;
vector<double> fitness;
bool run = false;
vector<double> make_prob(int n) {
weight.resize(n);
for (int i = 0; i<n; i++) {
weight[i] = rand() * 50;
}
return weight;
}
string makeGene(int n) {
string g = "";
for (int i = 0;i<n;i++) {
g = g + to_string(rand() % 2);
}
return g;
}
vector<string> makepop(int p, int n) {
population.resize(p);
for (int i = 0; i<p; i++) {
population[i] = makeGene(n);
}
return population;
}
double evaluation(string g, vector<double> w, double max, int n) {
double tw = 0;
for (int i = 0;i<n; i++) {
if (g[i] == '1')
tw = tw + w[i];
}
double e = 0;
double d = max - tw;
if (d >= 0)
e = tw / max * 100;
return e;
}
vector<double> evalPop(vector<string> pop, vector<double> w, double max, int p, int n) {
vector<double> fit(n);
for (int i = 0; i<p; i++) {
fit[i] = evaluation(pop[i], w, max, n);
}
return fit;
}
int select(vector<double> fitness) {
double totalFit = 0, r = 0, sum = 0;
int i = 0;
for (int j = 0; j<fitness.size();j++) {
totalFit += fitness[j];
}
r = rand() * totalFit;
do {
sum += fitness[i];
i++;
} while (sum<r);
return --i;
}
string cross(string n1, string n2, int n) {
int c = rand() % n;
return n1.substr(0, c) + n2.substr(c,(n2.size()-c)-1);
}
void breed(vector<string> population, vector<double> fitness, int p, int n) {
vector<string> breedPop(p);
for (int i = 0;i<p;i++) {
int j = select(fitness);
breedPop[i] = population[j];
}
for (int i = 0;i<p-1;i++) {
population[i] = cross(breedPop[i], breedPop[i + 1], n);
}
population[p - 1] = cross(breedPop[0], breedPop[p - 1], n);
}
void printPopStats(int gen, vector<double> fitness) {
double max = 0, totalFit = 0;
for (int i = 0; i<fitness.size();i++) {
if (max<fitness[i])max = fitness[i];
totalFit += fitness[i];
}
cout << "Generation: " << gen << endl;
cout << "Max fit: " << max << " Total Fitness: " << totalFit << endl;
}
int main() {
srand(time(NULL));
double max = 250.00 + rand()%50 * 500;
int n = rand();
weight = make_prob(n);
int p = 20;
population = makepop(p, n);
int gen = 1;
run = true;
do {
fitness = evalPop(population, weight, max, p, n);
printPopStats(gen, fitness);
gen++;
breed(population, fitness, p, n);
system("pause");
} while (run);
return 0;
}
5047,php|jquery,Estoy trabajando con ajax, jquery y php; envío una solicitud ajax a php a través de post, de la siguiente forma:
function obtenermail() {
//console.log($('#destinatario').val());
var ced = $('#destinatario').val();
$.ajax({
type: "POST",
data: { 'cedula': $('#destinatario').val()},
url: "<?php echo site_url();?>"+"/roles/obtenercorreo",
success : function(data) {
console.log(data);
}
});
}
en php tengo la siguiente función:
public function obtenercorreo(){
if($this->session->userdata('logueado')){
$ced = $this->input->post('cedula');
$data = $this->persona_model->getPersonaced($ced);
echo json_encode($data);
}else{
redirect('','refresh');
}
}
La petición funciona correctamente, me muestra el arreglo de la siguiente manera:
[{"cedula":"1100253986","nombres":"SOTO CASTILLO LAURO HERNAN","mod_laboral":"CONTRATO COLECTIVO","email":""}]
Lo que no sé, es cómo obtener cada valor por separado, ya que si pongo
console.log(data[0])
console.log(data.cedula)
console.log(data['cedula'])
me devuelve undefined o una cadena vacía.
Mi pregunta es: ¿Cómo podría hacer para leer cada elemento individual?
es decir obtener la cedula, o el correo por separado
5055,javascript|android|ios,Estoy desarrollando aplicaciones HTML5 (sin frameworks) offlines, actualmente para empaquetar uso Intel XDK pero podría pasarme a otro si hiciera falta.
La duda que tengo, es que como son aplicaciones que funcionan desde el navegador, la instalación pide permisos para usar internet/wifi, pero al ser offlines, no hacen falta dichos permisos. ¿Como puedo especificar que no requiero dichos permisos para que no los pida al instalar las apps?
5056,jquery,He estado buscando un slider carousel con thumbnail responsivo, sin que las imagenes se deformen por los diferentes tamaños que pueda tener. He visto varios slider responsivos de bootstrap, pero al colocar imagenes de anchos y largo distinto, se ven mal. Una forma de evitar esas deformaciones es mantener un ancho y alto fijo, y mostrar un fondo negro en los extremos sobrante, como el ejemplo de la foto
Me gustaría saber donde podría encontrar un slider similar a este (además, que se agrande la imagen)pero responsivo:
http://www.emol.com/noticias/Espectaculos/2016/02/29/790587/Mejores-y-peores-vestidas-Oscar-2016.html#1509383/Los-"mejores"-y-"peores"-vestidos-de-los-Oscar-2016
No se si me explique bien, pero desde ya, gracias
5058,javascript|jquery,Estoy usando este tipo de envió de datos a través de jQuery.post, ¿En que lugar coloco una imagen de loading... o algún mensaje mientras devuelve algo la función?
$.post( "ajax/test.html", function( data ) {
$( ".result" ).html( data );
});
5086,ios,He configurado las notificaciones utilizando GCM y para posteriormente poder enviarlas, necesito registrar los tokens en mi base de datos. En primer lugar en mi AppDelegate, almaceno el token de la siguiente forma:
let deviceTokenString = NSString(format: "%@", deviceToken) as String
NSUserDefaults.standardUserDefaults().setObject(deviceTokenString, forKey: "deviceToken")
NSUserDefaults.standardUserDefaults().synchronize()
Después de esto, en otra pantalla realizo un Post que he comprobado que funciona puesto que un valor determinado o incluso otra variable se publica sin ningún problema, pero el token no lo hace. Por ejemplo, en este código, la variable otra se publicaría pero tokenstring no lo hace.
var tokenstring = NSUserDefaults.standardUserDefaults().objectForKey("deviceToken")
var otra = "prueba"
...
let request = NSMutableURLRequest(URL: NSURL(string: "http://elpenitente.playcofrade.com/post/registrar-ios.php")!)
request.HTTPMethod = "POST"
let token = "token=\(self.tokenstring)&so=ios"
request.HTTPBody = token.dataUsingEncoding(NSUTF8StringEncoding)
let task = NSURLSession.sharedSession().dataTaskWithRequest(request) { data, response, error in
guard error == nil && data != nil else {
print("error=\(error)")
return
}
if let httpStatus = response as? NSHTTPURLResponse where httpStatus.statusCode != 200 {
print("statusCode should be 200, but is \(httpStatus.statusCode)")
print("response = \(response)")
}
let responseString = NSString(data: data!, encoding: NSUTF8StringEncoding)
print("responseString = \(responseString)")
}
task.resume()
Por otro lado, he creado una función para poder ver el valor almacenado en ese valor de NSUserDefaults y se muestra el token por lo que el fallo tampoco debería estar ahí. ¿Qué puede estar ocurriendo?
5100,jquery,Tengo un problema con jquery post, no muestra resultado que devuelve el ajax cuando envió los datos, estoy mostrando un mensaje de espera, el mensaje de espera si lo muestra cuando desparece el mensaje de espera se queda en blanco la ventana del navegador, este código es el que estoy usando
var cargando = $("#load").html("Por favor espere...");
// evento ajax start
$(document).ajaxStart(function () {
cargando.show();
});
// evento ajax stop
$(document).ajaxStop(function () {
cargando.hide();
});
$.post("procesaRenovacion.vbhtml", $('#envia').serialize(),
function (data) {
$('#muestraResultado').show();
$('#muestraResultado').html(data);
});
el div donde deben aparecer los datos lo oculto cuando carga la pagina
<div id="muestraResultado" style="display:none">Hola</div>
5106,html,En una aplicación rails tengo que agregar una imagen que subió un usuario como fondo en un div. La cuestión es que estoy buscando una forma de incluir la imagen como fondo (usando css) pero sin modificar dichos estilos.
Podría embeber los estilos en el html, pero eso me parece poco elegante ya que ensucia mucho el html:
<div style="background: url('fondo.jpg');"></div>
Por otro lado, tampoco quiero usar un tag img porque es más difícil de ubicar en el diseño.
¿Se les ocurre alguna buena idea?
Una idea que se me ocurrió es usar data-attributes:
<div class="img"
data-background="https://www.gravatar.com/avatar/224f5b1b5ee448ec8152236ede91908c.png">
</div>
Y usar en los estilos attr:
.img {
background: no-repeat center/100%;
width: 100px;
height: 100px;
background-image: attr(data-background url);
}
Pero al parecer attr no está soportado en la mayoría de los navegadores.
5127,php|jquery,Me gustaría saber en qué estoy fallando en el siguiente código, la idea es en una vista con CodeIgniter, cargo un array en un select, y al presionar un botón se puede agregar un nuevo select, pero cuando cargo el nuevo select con jQuery, no funciona.
Éste es mi código:
<div class="row">
<div class="col-lg-12">
<div class="form-group">
<label style="text-transform: uppercase">Piezas</label>
<select id="marca" name="marca" class="form-control select2" style="width: 100%;" required>
<?php foreach ($piezas->result() as $fila) { ?>
<option value="<?= $fila->id_pieza; ?>"><?= $fila->descripcion; ?></option>
<? } ?>
</select>
</div>
</div>
</div>
<div class="agregando1"></div>
<div class="row">
<div class="col-lg-12" style="text-align: left;">
<a id="agregar_pza" href="#" title="Agregar Otro Contacto" class="btn btn-flat btn-primary">AGREGAR</a>
</div>
</div>
Y el código jQuery:
$('#agregar_pza').click(function(event) {
/* Act on the event */
event.preventDefault();
$('.agregando1').append('<div class="row"><div class="col-lg-12"><div class="form-group"><label style="text-transform: uppercase">Piezas</label><select name="piezas[]" class="form-control select2" style="width: 100%;" required><?php foreach ($piezas->result() as $fila) { ?><option value="<?= $fila->id_pieza; ?>"><?= $fila->descripcion; ?></option><? } ?></select></div></div></div>');
});
5137,javascript|jquery,Saludos,
Tengo un Datepicker el cual si recojo el valor directamente (como string)
var Data = $("#txtExpDataInici").val(); me coje bien los valores de la fecha, pero si lo transformo en fecha   Date($("#txtExpDataInici").val()); siempre me devuelve la fecha de hoy elja la fecha que elija...
¿Alguien sabe que puede pasar?
5165,jquery,Estoy trabajando con ASP.NET MVC 5 en un proyecto que requiere de una ventana modal para registrar a un nuevo usuario, el código es el siguiente:
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inicio de sesión</title>
<link href="~/Content/bootstrap-theme.min.css" rel="stylesheet" />
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.min.js"></script>
<script src="~/Scripts/jquery-2.2.1.min.js"></script>
</head>
<body>
<div class="modal fade" id="myModal" role="dialog">
<div class="modal-dialog">
<div class="modal-content">
<form role="form">
<div class="modal-header">
<h2>Registro de usuarion</h2>
</div>
<br />
<div class="form-group">
<label class="labels"><span class="glyphicon glyphicon-user"></span> Nombre de usuario:</label>
<input class="form-control" type="text">
</div>
<div class="form-group">
<label class="labels"><span class="glyphicon glyphicon-eye-open"></span> Contraseña:</label>
<input class="form-control" type="password">
</div>
<br />
<a href="#" class="btn" id="Registrar"><span class="glyphicon glyphicon-ok"></span>  Registrar</a>
<div class="modal-footer">
</div>
</form>
</div>
</div>
</div>
<script>
$(document).ready(function() {
$("#myModal").modal({
backdrop: 'static',
});
});
</script>
Pero al ejecutarlo no me aparece nada, se supone que la ventana modal debe desplegarse sin necesidad de usar algún botón, pero la función de jQuery que lo hace parece no funcionar ¿Qué es lo que me falta agregarle?
5173,php,Buenas tardes. Encontré navegando por internet, que si quiero cambiar los campos de mi bloque de informacionde usuario, debo editar el archivo nav.tpl dentro de prestashop>themes>nombre_tema>modules>blockuserinfo>nav.tpl ahi (asumo), se debe editar lo que se quiere mostrar en la vista. pero al momento de editar no me toma los cambios. Alguien sabe a que se debe esto?
5180,javascript|jquery,tengo el siguiente problema. Estoy usando jqGrid con jquery con la siguiente configuración y trato de implementar el virtual scroll scroll: 1.
var jqGridOptions = { url:'/index.php/solicitudes/DataSolicitudes',
mtype : "post",
datatype: "json",
colNames:['Id Solicitud','Contenido','Medio Respuesta','Ingreso','Fecha límite','Fecha Límite Completar','Estatus','Id_Estatus','Fecha Venc. Prorroga',"Nombre Unidad"],
colModel:[
{name:'id_solicitud',index:'id_solicitud', width: 80},
{name:'contenido',index:'contenido', width: 400},
{name:'id_medio_respuesta',index:'id_medio_respuesta', width:120 },
{name:'fecha_ingreso',index:'fecha_ingreso', width:90 },
{name:'fecha_limite_entrega',index:'fecha_limite_entrega', width:90 },
{name:'fecha_limite_completar',index:'fecha_limite_completar', width:150 },
{name:'id_estatus',index:'id_estatus', width:90 },
{name:'id_estatus2',index:'id_estatus2', width:20 },
{name:'fecha_prorroga',index:'fecha_prorroga', width:140 },
{name:'nombre_unidad_enlace',index:'nombre_unidad_enlace', width:250 }
],
rowNum:50,
autowidth: true,
height:450,
rowList:[50,100,200],
pager: '#pagerSolicitudes',
sortname: 'id_solicitud',
viewrecords: true,
sortorder: "desc",
toolbar: [true,"top"],
multiselect: false,
shrinkToFit: false,
gridview:true,
scroll: 1,
caption:"Solicitudes"
};
$solicitudes.jqGrid(jqGridOptions);
El problema es que cuando se hace el scroll hacia abajo, la pagina siguiente es 4 y no 2, la que sigue es 8 y no 3. He leido y entiendo que es un bug de la propia libreria, pero ¿Hay alguna solucion para esto?, ya baje la ultima version de la libreria la 5.1.0, pero me sigue sin funcionar.
Del lado del servidor uso php.
5183,jquery|html,Tengo un problema, estoy creando una pagina de scrolling, solo tienes que navegar para desplazarte y puedes clickear en el menu a la derecha que te dirije al ancla de la pagina, lo que quiero hacer es que cuando estes navegando por la pagina y entres una sección se resalte la respectiva ancla del menu a la derecha.
5204,php,Mi aplicación PHP me lanza el siguiente error:
Warning: mysqli::mysqli(): Headers and client library minor version
mismatch. Headers:100023 Library:50544 in
El error apunta a la siguiente línea:
$conn = new mysqli($servername, $username, $password, $dbname);
A pesar del error, el código sigue funcionando.
Días atrás no mostraba ningún error. Estoy usando un web hosting gratuito.
¿Como podría solucionarlo?
5223,javascript|jquery,¿Es segura una comparación de un valor entero con un dato NaN en Javascript? Por ejemplo, haciendo uso de jQuery:
var notaValidaEliminatoria = grupoEliminatorio.notaEliminatoriaValida();
var notaEliminatoria = parseInt(componenteEliminatorio.grupoEliminatorio.val());
if(notaValidaEliminatoria > notaEliminatoria) {
...
}
La variable notaEliminatoria puede contener NaN si el valor de componenteEliminatorio.grupoEliminatorio.val() (un campo en un formulario) es vacío. ¿Ocurrirá siempre que cualquier valor entero es menor o igual a NaN o estoy forzado a detectar con isNaN() si es o no un número y si lo es realizar la comparación?
5234,javascript|php,Estoy creando un extranet y en el se cargan archivos .doc .xls .ppt y se guardan en el servidor en una carpeta ./carpeta/prueba.doc y en el extranet ya se muestra que esta registrado ese archivo, ahora el asunto es que en un iframe despliegue solo la previsualización del documento, no importa que no pueda modificarlo solo que se vea el 'preview' del documento.
5244,php|jquery|html,Tengo el siguiente código:
$name = $_POST['name'];
$email = $_POST['email'];
$message = $_POST['message'];
$to = "xxxx@gmail.com";
$subject = "Hello";
$body = "You have received a message from " . $name . " (" . $email . "):\n\n" . $message;
$from = "From:";
$headers = "From:" . $from . "\r\n";
$headers .= "Reply-To: " . $from . "\r\n";
$headers .= "X-Mailer: PHP/" . phpversion();
if (filter_var($email, FILTER_VALIDATE_EMAIL)) {
if ($name != '' && $email != '' && $message != '') {
if (mail ($to, $subject, $body, $headers)) {
echo '<p style="color:#66A325;">Thanks! Your message has been sent.</p>';
} else {
echo '<p style="color:#F84B3C;">Something went wrong, go back and try again!</p>';
}
} else {
echo '<p style="color:#F84B3C;">You need to fill in all required fields!</p>';
}
} else {
echo '<p style="color:#F84B3C;">Invalid Email, please provide an correct email.</p>';
}
Lo llamo desde el formulario:
<form id="contact-form" [![introducir la descripción de la imagen aquí][1]][1] method="post" action="contact.php">
<input  type="text" name="name" placeholder="Nombre">
<input  type="email" name="email" placeholder="Email">
<textarea  name="message" placeholder=" Escriba su comentario.></textarea>
<input  type="button" value="Enviar Mensaje">
<input  type="reset" value="Reestablecer los campos">
</form>
Este es el código javascript:
<script>
$(document).ready(function(){
$('#send').click(function(){
$(this).val('Enviando ...');
$('#success p').remove();
$.post('contact.php', $('#contact-form').serialize(), function(response) {
$('#success').html(response);
//$('#success').hide('slow');
$('#send').val('Enviar Mensaje');
});
return false;
});
});
</script>
El error es:
Warning: mail(): Failed to connect to mailserver at &quot;localhost&quot; port 25, verify your &quot;SMTP&quot; and &quot;smtp_port&quot; setting in php.ini or use ini_set() in C:\wamp\www\contact.php on line 22
Me da error probándolo localmente, pero cuando lo despliego en el servidor dice que el mensaje fue enviado, pero el mensaje nunca llega al correo electrónico, que problema puede ser?
5293,php,Tengo un problema con Laravel 5.2.
Al momento de autentificar el usuario y redireccionar al home o al login dependiendo, los mensajes que creo mediante Session::flash() no me aparecen y en el home cuando intento mostrar el nombre del usuario autentificado mediante Auth::user()->show_name me da un error.
Probé dentro del controlador que creé para la autentificación y los valores me los muestra, pero cuando redireciono al home o al login no muestra nada.
¿Qué error tengo o qué me en la vista o en los controladores?
Modelo::User.php
<?php
namespace App;
use Illuminate\Foundation\Auth\User as Authenticatable;
class User extends Authenticatable
{
protected $table = 'users_panel';
protected $fillable = [
'show_name',
'user',
'password',
];
protected $hidden = [
'password', 'is_admin',
];
}
routes.php
<?php
Route::get('/', function () {
return view('welcome');
});
Route::get('/orders', function () {
return view('tp-admin/index', ['class' => 'login contrast-background']);
});
Route::resource('log', 'LogController');
Route::resource('logout', 'LogController@logout');
Route::get('/orders-panel/home', 'HomeController@index');
Route::group(['middleware' => ['web']], function () {
});
LogController.php
<?php
namespace App\Http\Controllers;
use Illuminate\Http\Request;
use Auth;
use Session;
use Redirect;
use App\User;
use App\Http\Requests;
class LogController extends Controller
{
public function store(Request $request)
{
if($this->LogIn(['user' => $request['user'], 'password' => $request['password']], $request['remember_me'])){
Session::flash('message', 'Sirve');
//return Redirect::to('/orders-panel/home');
//-------------------Aqui Mostre  que si estaban llegando los datos a los mensaje
if(Auth::check()):
echo Auth::user()->show_name;
echo '<br>';
echo Session::get('message');
endif;
}else{
Session::flash('message', 'Error');
//-------------------Aqui Mostre  que si estaban llegando los datos a los mensaje
echo Session::get('message');
//return Redirect::to('/orders');
}
}
public function logout()
{
Auth::logout();
return Redirect::to('/orders');
}
private function LogIn(array $credentials = [], $remember = false)
{
if ($this->ValidCredentials($credentials)) {
if($this->ValidUser($credentials)){
Auth::login($this->ValidUser($credentials), $this->ValidRemember($remember));
return  true;
}
}
return  false;
}
private function ValidCredentials($credentials)
{
if (($credentials['password'] != '') and ($credentials['user'] != '')) {
return  true;
}
}
private function ValidRemember($remember = false)
{
if(isset($remember)){
return  true;
}
}
private function ValidUser($credentials)
{
return  User::where('user', $credentials['user'])
->where('password', md5($credentials['password']))
->first();
}
}
HomeController.php
<?php
namespace App\Http\Controllers;
use App\Http\Requests;
use Illuminate\Http\Request;
class HomeController extends Controller
{
public function __construct()
{
}
public function index()
{
return view('tp-admin/home');
}
}
home.blade.php
@extends('layouts.app')
@section('content')
<p>
Aqui deveria salir el mensaje de Session::
@if(Session::has('message'))
{{Session::get('message')}}
@endif
</p>
{!! trans('panel.welcome') !!}
<p>
<a href="/logout">LogOut</a>
</p>
@endsection
5303,jquery,Tengo mi función para agrandar una imagen a pantalla completa, lo cual me funciona en Google Chrome pero no en otros navegadores.
Tengo el siguiente código:
$("#Button1").click(function (ev) {
launchFullScreen(document.getElementById('imagen_test'), 'imagen_test');
});
function launchFullScreen(element, id_imagen) {
if (element.requestFullScreen) {
element.requestFullScreen();
} else if (element.mozRequestFullScreen) {
element.mozRequestFullScreen();
} else if (element.webkitRequestFullScreen) {
element.webkitRequestFullScreen();
}
$('#' + id_imagen).addClass('aumenta_imagen');
}
.aumenta_imagen{
width:80% !important;
max-width:none !important;
height:100% !important;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<img id="imagen_test" src="http://www.lorempixel.com/100/180/people" style="height:180px;width:100px;max-width:120px;" />
<input id="Button1" type="button" value="button" />
Pero cuando lo pruebo en Mozilla, para agrandar la imagen en pantalla completa, ocurre lo siguiente: Ocupa todo el ancho y alto, lo cual hace que la imagen se vea desproporcionada.
Me gustaría saber, ¿qué debo hacer para que también en Mozilla se vea bien la imagen en pantalla completa?
5343,ios,Soy nuevo en programación en Swift y llevo un tiempo intentando implementar el sistema de notificaciones de Google GCM, he seguido los pasos pero me da la sensación de que hay un paso que no he llevado a cabo y no sé como hacerlo. En la guía de Google dice lo siguiente:
Si no me equivoco en el punto c me indica que introduzca el código del APNs en el diccionario. ¿Podrías indicarme como hacerlo así como otro consejo a la hora de implementar este sistema?
Muchas gracias de antemano.
5370,jquery|html,Quiero mostrar una ventana modal que es la respuesta a un UPDATE a la BD de operación exitosa, estoy definiendo la ventana modal en un Response.Write pero no me muestra la ventana, ya cargue las librerías jquery, bootstrap pero aun así no me muestra nada
Response.Write(" <div class='modal fade' id='modal' tabindex='-1' role='dialog' aria-labelledby='myModalLabel'>" & _
" <div class='modal-dialog'>" & _
" <div class='modal-content'>" & _
" <div class='modal-header'>" & _
" <button type='button'  data-dismiss='modal' aria-hidden='true'>x</button>" & _
" <div class='modal-body'>" & _
" <blockquote>" & _
" <p style='text-align:justify;'>Registro exitoso<span id='error2'></span></p>" & _
" </blockquote> " & _
" </div>" & _
" <div class='modal-footer'>" & _
" <a href='reporte_renov' data-dismiss='modal' class='btn btn-danger btnsalir'>Aceptar</a>" & _
" </div>" & _
" </div>" & _
" </div>" & _
"</div>")
*cuando quito el class="modal fade" si me muestra la ventana asi: ¿Me falta algo para que la muestre adecuadamente?
5450,c#|html,Estoy trabajando con ASP.NET MVC con Bootstrap y quiero llamar a una vista parcial desde un botón, mi código es el siguiente:
<div class="container">
<h3>Index</h3>
<button class="btn btn-primary" name="btnMantenimiento" onclick="enviar('Details.cshtml')">Boton</button>
</div>
5469,ios,No se como cambiar el color de los elementos dentro de un UIPickerView.
Como veis en la captura lo único que necesito es que todos los textos sean azules, acorde al resto de la aplicación.
Ahora los textos y los números me salen en negro que el color por defecto del picker.
5482,php|jquery,Estimados, junto con saludar, les comento mi inconveniente.
Tengo un formulario con varias tablas (en estas tablas tengo info básica de propietarios, representantes, etc.) validadas con jquery validate. Aparte dentro de las tablas, en la parte del nombre tengo el campo separado en nombres, apellido paterno y materno. En el próximo 'td' esta el rut. Si el rut supera los 50 millones es un rut de empresa sino es de una persona natural. Hasta aquí, todo bien con las validaciones. Pero al intentar realizar esta misma validación en otra tabla, a continuación esta NO FUNCIONA.
Aparte les comento, que en las tablas, tengo un 'agregar' de forma dinámica que realizo también con JQuery. Les adjunto mi código, para que lo vean y me guíen por el camino correcto.
Código HTML:
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
</head>
<body>
<form role="form" method="post" action="index.php" name="form_" id="form_" class="forms_formularios" enctype="multipart/form-data">
<table border="0" class="tablaConBorde table clone-group1" id="" >
<thead>
<tr class="fondoResaltado_1">
<td style="width: 70%;" >
NOMBRES DEL PROPIETARIO
</td>
<td style="width: 20%;" align="center">
RUT
</td>
<td style="width: 10%;" align="center">
Agregar / Eliminar
</td>
</tr>
</thead>
<tbody >
<tr class="form-group clone1" >
<td>
<input class="form-control 2_nombres_prop" placeholder="Nombres" style="width: 38%; display: inline;" disabled id="2_nombres_prop" value="" name="2_nombres_prop[]" type="text" />
<input class="form-control 2_ape_p_prop" placeholder="Apellido Paterno" style="width: 30%; display: inline;" disabled id="2_ape_p_prop" value="" name="2_ape_p_prop[]" type="text" />
<input class="form-control 2_ape_m_prop" placeholder="Apellido Materno" style="width: 30%; display: inline;" disabled id="2_ape_m_prop" value="" name="2_ape_m_prop[]" type="text" />
</td>
<td >
<input class="form-control 2_rut_prop" onblur="valida_rut_pro( $(this).val(), $(this).parents('tr').attr('id') )" id="2_rut_prop" value="" name="2_rut_prop[]" type="text" />
</td>
<td align="center" >
<button type="button" class="btn btn-primary addButton1" aria-label="Left Align" id="">
<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Agregar
</button>
</td>
</tr>
</tbody>
</table>
<table border="0" class="tablaConBorde table clone-group2" id="" >
<thead>
<tr class="fondoResaltado_1">
<td style="width: 70%">
REPRESENTANTE LEGAL
</td>
<td style="width: 20%;" align="center" >
RUT
</td>
<td style="width: 10%;" align="center">
Agregar / Eliminar
</td>
</tr>
</thead>
<tbody>
<tr class="form-group clone2" >
<td >
<input class="form-control 2_rep_legal_nombres" placeholder="Nombres" style="width: 38%; display: inline;" disabled id="2_rep_legal_nombres" value="" name="2_rep_legal_nombres[]" type="text" />
<input class="form-control 2_rep_legal_ape_p" placeholder="Apellido Paterno" style="width: 30%; display: inline;" disabled id="2_rep_legal_ape_p" value="" name="2_rep_legal_ape_p[]" type="text" />
<input class="form-control 2_rep_legal_ape_m" placeholder="Apellido Materno" style="width: 30%; display: inline;" disabled id="2_rep_legal_ape_m" value="" name="2_rep_legal_ape_m[]" type="text" />
</td>
<td>
<input class="form-control 2_rep_legal_rut" onblur="valida_rut_rp( $(this).val(), $(this).parents('tr').attr('id') )" id="2_rep_legal_rut" value="" name="2_rep_legal_rut[]" type="text" />
</td>
<td align="center" >
<button type="button" class="btn btn-primary addButton2" aria-label="Left Align" id="">
<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Agregar
</button>
</td>
</tr>
</tbody>
</table>
<input type="hidden" class="n_item_1" name="n_item_1" value="0">
<input type="hidden" class="n_item_2" name="n_item_2" value="0">
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.js"></script>
<script type="text/javascript" src="js/validate_v_shcl.js"></script>
<script type="text/javascript" src="js/datepicker-es.js"></script>
<script type="text/javascript" src="js/jquery.Rut.js"></script>
<script type="text/javascript" src="js/jquery.validate.js"></script>
<script type="text/javascript" src="js/additional-methods.js"></script>
<script src="js/ie10-viewport-bug-workaround.js"></script>
</body>
Código JS para agregar las tablas dinámicamente
$(function(){
/********************* PARA DINAMICAS - NUEVA FORMA ******************************/
// PROPIETARIO
// var i = 0;
var i = parseInt($('.n_item_1').val(), 10);
var bFlag1=i;
var cloneItem = $(".clone1:last");//class de la tabla
var cloneWrap = $(".clone-group1");//div
$(".addButton1").on("click", function () {
bFlag1++;
if(i < 4){
i=i+1;
var clon = cloneItem.clone(true).attr('id', '_'+bFlag1).appendTo(cloneWrap);
clon.find('[type=text]').val('');
clon.find(".addButton1")
.replaceWith( '<button type="button" class="btn btn-primary remButton1" aria-label="Left Align"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>Eliminar</button>');
$( ".n_item_1" ).remove();
str_id = '<input type="hidden" class="n_item_1" name="n_item_1" value="'+i+'">';
$("#form_").append(str_id);
}
});
$("body").on("click", ".remButton1", function () {
$(this).closest(".clone1").remove();
i=i-1;
$( ".n_item_1" ).remove();
str_id = '<input type="hidden"  class="n_item_1" name="n_item_1" value="'+i+'">';
$("#form_").append(str_id);
});
// REP LEGAL
// var i2 = 0;
var i2 = parseInt($('.n_item_2').val(), 10);
var bFlag2=i2;
var cloneItem2 = $(".clone2:last");//class de la tabla
var cloneWrap2  = $(".clone-group2");// div
$(".addButton2").on("click", function () {
bFlag2++;
if(i2 < 4){
i2 = i2 + 1;
var clon = cloneItem2.clone(true).attr('id', '_'+bFlag2).appendTo(cloneWrap2);
clon.find('[type=text]').val('');
// clon.find('[type=email]').val(''); // para input text de tipo email
clon.find(".addButton2")
.replaceWith( '<button type="button" class="btn btn-primary remButton2" aria-label="Left Align"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>Eliminar</button>');
$( ".n_item_2" ).remove();
str_id2 = '<input type="hidden" class="n_item_2" name="n_item_2" value="'+i2+'">';
$("#form_").append(str_id2);
}
});
$("body").on("click", ".remButton2", function () {
$(this).closest(".clone2").remove();
i2 = i2 - 1;
$( ".n_item_2" ).remove();
str_id2 = '<input type="hidden"  class="n_item_2" name="n_item_2" value="'+i2+'">';
$("#form_").append(str_id2);
}); });
Código JS para validar lo indicado en el campo rut:
function valida_rut_pro(xRut, id){
// ARMAMOS LA VARIABLE 'ID' DEL TAG
var clone1='#'+id;
// alert("1.:"+xRut);
var xurl="vws/ajax_validar_rut.php?rut="+xRut;
// alert(1);
$.ajax({
url: xurl,
type: "GET",
beforeSend: function(){
$(clone1+" #2_nombres_prop").prop('disabled', true);
$(clone1+" #2_ape_p_prop").prop('disabled', true);
$(clone1+" #2_ape_m_prop").prop('disabled', true);
// alert(2);
},
success: function(data){
// alert(3)
if(data){
// alert(4);
if(data==1){
$(clone1+" #2_ape_p_prop").prop('disabled', false);
$(clone1+" #2_ape_p_prop").focus();
// alert(5);
}
else if(data==0){
$(clone1+" #2_nombres_prop").prop('disabled', false);
$(clone1+" #2_nombres_prop").focus();
$(clone1+" #2_ape_p_prop").prop('disabled', false);
$(clone1+" #2_ape_m_prop").prop('disabled', false);
// alert(6);
}
}
},
error: function(){
// alert("cuek!");
}
});
}
function valida_rut_rp(xRut, id){
// ARMAMOS LA VARIABLE 'ID' DEL TAG
var clone2='#'+id;
// alert("1.:"+xRut);
var xurl="vws/ajax_validar_rut.php?rut="+xRut;
alert(1);
$.ajax({
url: xurl,
type: "GET",
beforeSend: function(){
$(clone2+" #2_rep_legal_nombres").prop('disabled', true);
$(clone2+" #2_rep_legal_ape_p").prop('disabled', true);
$(clone2+" #2_rep_legal_ape_m").prop('disabled', true);
alert(2);
},
success: function(data){
alert(3)
if(data){
alert(4);
if(data==1){
alert("clone2: "+clone2)
$(clone2+" #2_rep_legal_ape_p").prop('disabled', false);
$(clone2+" #2_rep_legal_ape_p").focus();
alert(5);
}
else if(data==0){
$(clone2+" #2_rep_legal_nombres").prop('disabled', false);
$(clone2+" #2_rep_legal_nombres").focus();
$(clone2+" #2_rep_legal_ape_p").prop('disabled', false);
$(clone2+" #2_rep_legal_ape_m").prop('disabled', false);
alert(6);
}
}
},
error: function(){
// alert("cuek!");
}
});
}
Esto ultimo es para el ID del TR dinamico
$(document).ready(function(){
// le damos/iniciamos un id en el clon hijo
var r=0;
$(".clone-group1 tbody tr").each(function(){
$(this).attr('id','_'+r);
r++;
});
// le damos/iniciamos un id en el clon hijo
var r=0;
$(".clone-group2 tbody tr").each(function(){
$(this).attr('id','_'+r);
r++;
});
});
Esto funciona en la tabla de propietario, pero no en la de Representante..
5513,javascript|jquery,Quisiera que la propiedad required sea quitada o removida de este campo de texto, este debe de ocurrir cuando selecciono alguna opción de un select.
$(document).ready(function() {
$('#listaOpciones').change(function() {
var selectedOption = $('#listaOpciones option:selected');
if (selectedOption.val() == 2 || selectedOption.val() == 4) {
$("#tel").removeClass("required");
} else {}
});
});
5523,php|html,Hola tengo un problema posiblemente sea un error sencillo pero no encuentro la razón.
Tengo este formulario en HTML.
<form method="post" action="send.php">
<p><input name="" type="text" id="name" name="user_name" value="Nombre"></p>
<p><input name="" type="email" id="mail" name="user_email" value="E-Mail"></p>
<p><input name="" type="text" id="phone" name="user_phone" value="Télefono"></p>
<p><textarea name="" id="msg" name="user_message" cols="" rows="7"></textarea></p>
<p><input type="submit" name="submit" value="Enviar" /></p>
</form>
Y este código PHP.
<?php
$user_name = $_POST['user_name'];
$user_email = $_POST['user_email'];
$user_phone = $_POST['user_phone'];
$header = 'De: ' . $user_email . " \r\n";
$msg = "Este mensaje fue enviado por " . $user_name . ", su teléfono es " . $user_phone . " \r\n";
$msg .= "Su e-mail es: " . $user_email . " \r\n";
$msg .= "Mensaje: " . $_POST['user_message'] . " \r\n";
$msg .= "Enviado el " . date('d/m/Y', time());
$to = 'mail@mail.com';
$subject = 'Contacto desde Producciones111.com';
mail($to, $subject, utf8_decode($msg), $header);
header("Location: http://website.com/");
?>
Pero al enviar el formulario la información llega vacía al correo.
Este mensaje fue enviado por , su teléfono es
Su e-mail es:
Mensaje:
Enviado el 09/03/2016
De esta forma, sin información registrada.
5538,javascript|jquery|html,Me han pedido una cosa un poco rara, que los campos input numéricos de una pagina JSP tengan 2 decimales por defecto.
Hasta aquí todo normal:
<input type="number" step="0.01" />
Ahora bien, el cliente quiere que las cantidades SIEMPRE tengan 2 posiciones decimales, incluso para 0:
debería ser:
O sea, mientras usas las flechas para aumentar la cantidad o cargas desde la base de datos un valor con ceros en las posiciones decimales que este valor no se recorte (o sea, sobreescribir el comportamiento por defecto que ignora los ceros a la derecha)
MVCE
https://jsfiddle.net/yorch/ezog2m13/5/
Lo he intendado con pattern="regex":
^\d+\.\d{2}$
\d.{2}$
pero no parece funcionar.
AÑADIDOS
Tal y como ha apuntado rnd: http://bugzilla.mozilla.org/show_bug.cgi?id=1003896
He intentado solución via html pero si a alguien se le ocurre algo en javascript / jquery que lo solucione, también me vale :).
5598,c++,El programa compila pero hay un problema, a la hora de correrlo de que al colocar 1 estado y 2 sucursales te pide que coloque el número de empleados, colocas 2 luego al terminar eso te pide los empleados de la 2 sucursal si colocas 2 de nuevo da 0.
Este es mi código:
void CST2()
{
int ten[8][6],ne,ns,ce,cs,c,ac,s,p,n,may;
cout<<"coloque el numero de estados: ";
cin>>ne;
cout<<"coloque el numero de sucursales: ";
cin>>ns;
ce=0;
c=0;
s=0;
while(ce<ne)
{
ce=ce+1;
cs=0;
while(cs<ns)
{
cs=cs+1;
cout<<"coloque la cantidad de los empleados del" << ce << " estado de las " << cs << " sucursales: ";
cin>>n;
ac=0;
while(c<n)
{
c=c+1;
cout<<"coloque el sueldo de los " << c << " empleados del " << ce << " estado de la " << cs << " sucirsal: ";
cin>>s;
ac=c+s;
}
p=ac/n;
ten[ce][cs]=p;
cout<<"sueldo " << s << " de los " << c << " empleados de la " << cs << " sucursal y del " << ce << " estado ";
}
}
5606,c++,Les comento que estamos desarrollando un proyecto de visualización arquitectónica utilizando el motor de videojuegos Unreal Engine. Tenemos un requerimiento que se nos viene complicando mucho para completar a partir de las herramientas que brinda Unreal Engine, y es cambiar los colores de cada polígono del modelo individualmente, recibiendo la lista de colores por parámetro.
Como este motor admite la programación con C++ (complementando a su propio lenguaje gráfico llamado Blueprints), quisiera saber si hay alguna API que pueda integrar al proyecto C++ y que permita la edición de modelos, particularmente con formatos .obj y/o .fbx, en el que se pueda acceder al bajo nivel del modelo y editar el color individualmente a cada polígono.
Edit: Sería bueno que dicha API permita generar un archivo nuevo para el modelo con los cambios realizados, para entonces poder separar lo que es esta edición a bajo nivel del modelo y el resto del procesamiento en el Unreal Engine.
Muchas gracias.
5629,javascript|jquery|html,Hoy he traído este pequeña incógnita antes usaba un <input type="date" ..> y  esto me permitía obtener el valor cuando el usuario seleccionaba una fecha.
$(document).on('change','input[name="date_start"]',function(){
"use strict";
alert($(this).val());
});
Ahora he incluido el datePickerUi y el mismo código no funciona como esperaba.
¿Hay que hacer algo diferente?
Este es mi ejemplo:
/*Sencillo*/
$(document).on('change', 'input[name="date_start"]', function() {
"use strict";
$('#result').html($(this).val());
});
/*datePickerUi*/
$('.datePickerUi').datepicker({
firstDay: 1,
datedefault: "2016/03/11",
showButtonPanel: true,
prevText: "<Ant",
nextText: "Sig>",
currentText: "Hoy",
yearRange: "-100:+15",
monthNames: ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
monthNamesShort: ["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"],
dayNames: ["Domingo", "Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado"],
dayNamesShort: ["Dom", "Lun", "Mar", "Mié", "Juv", "Vie", "Sáb"],
dayNamesMin: ["Do", "Lu", "Ma", "Mi", "Ju", "Vi", "Sá"],
weekHeader: "Sm",
dateFormat: "yy-mm-dd",
defaultDate: "2015-12-02",
closeText: "Cerrar",
constrainInput: false,
minDate: "1993-01-18",
maxDate: "2050-01-18",
changeMonth: true,
changeYear: true,
numberOfMonths: 1,
onSelect: function(dateText, inst) {
$(".datePickerUi").focus();
$(".datePickerUi").blur();
}
});
$(document).on('change', 'input[name="date_end"]', function() {
"use strict";
$('#result').html($(this).val());
});
<link href="//code.jquery.com/ui/1.9.2/themes/smoothness/jquery-ui.css" rel="stylesheet" />
<script src="//code.jquery.com/jquery-1.8.3.min.js"></script>
<script src="//code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
<label for='date_end'>Con DatePickerUI</label>
<input type='text' class='datePickerUi' name='date_end' id='date_end'>
<label for='date_start'>Con Input Date</label>
<input type='date' name='date_start' id='date_start'>
<p id="result"></p>
5635,jquery|html,Buenas, estoy usando el gestor de plantillas twig para renderizar una página que muestra una navegación por pestañas. He probado con muchos códigos pero ninguno parece funcionar, y creo que la razón por la que no funciona es, porque viendo el inspector, al parecer los enlaces no agarran los eventos del jquery. No sé que está mal: he probado todos los códigos aparte y funcionan perfectamente. Éste es el último que probé (sacado de w3school):
{% block tabs %}
<div class="container">
<h2>Dynamic Tabs with jQuery</h2>
<p>Click on the Tabs to display the active and previous tab.</p>
<ul class="nav nav-tabs">
<li class="active"><a href="#home">Home</a></li>
<li><a href="#menu1">Menu 1</a></li>
<li><a href="#menu2">Menu 2</a></li>
<li><a href="#menu3">Menu 3</a></li>
</ul>
<div class="tab-content">
<div id="first" class="tab-pane fade in active">
<h3>HOME</h3>
<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
</div>
<div id="menu1" class="tab-pane fade">
<h3>Menu 1</h3>
<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
</div>
<div id="menu2" class="tab-pane fade">
<h3>Menu 2</h3>
<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
</div>
<div id="menu3" class="tab-pane fade">
<h3>Menu 3</h3>
<p>Eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
</div>
</div>
<hr>
<p class="act"><b>Active Tab</b>: <span></span></p>
<p class="prev"><b>Previous Tab</b>: <span></span></p>
<script>
$(document).ready(function(){
$(".nav-tabs a").click(function(){
$(this).tab('show');
});
$('.nav-tabs a').on('shown.bs.tab', function(event){
var x = $(event.target).text();         // active tab
var y = $(event.relatedTarget).text();  // previous tab
console.log(x);
console.log('y');
$(".act span").text(x);
$(".prev span").text(y);
});
});
</script>
{% endblock tabs %}
Les agradecería cualquier ayuda que me pudieran brindar!
5657,javascript|jquery|html,También me valdría sustituir directamente caracteres en intervalos de tiempo cíclicos si creeis que es más limpio. Aquí está el código con el que estoy trabajando.
jQuery(function () {
var $els = $('div[id^=picture1]'),
i = 0,
len = $els.length;
$els.slice(1).hide(10);
setInterval(function () {
$els.eq(i).hide(function () {
i = (i + 1) % len
$els.eq(i).show(10);
})
}, 1500)
})
jQuery(function () {
var $els = $('div[id^=picture2]'),
i = 0,
len = $els.length;
$els.slice(1).hide();
setInterval(function () {
$els.eq(i).fadeOut(function () {
i = (i + 1) % len
$els.eq(i).fadeIn(0);
})
}, 900)
})
body {margin:0; color:rgba(0,255,22,1.00); background:black; font-family:Consolas, "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", Monaco, "Courier New", monospace; font-size:6px; line-height:7px; display:inline-block;}
.position { text-align:center;}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<div id="picture1">
<span class="quote">A</span>
</div>
<div id="picture12">B</div>
<div id="picture2">
<span class="quote">A</span>
</div>
<div id="picture22">B</div>
5674,javascript|html,Estoy probando este ejemplo de un cuadro de dialogo con material design lite:
var dialog = document.querySelector('dialog');
var showModalButton = document.querySelector('.show-modal');
if (! dialog.showModal) {
dialogPolyfill.registerDialog(dialog);
}
showModalButton.addEventListener('click', function() {
dialog.showModal();
});
dialog.querySelector('.close').addEventListener('click', function() {
dialog.close();
});
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.1.2/material.indigo-pink.min.css">
<script defer src="https://code.getmdl.io/1.1.2/material.min.js"></script>
<button type="button" class="mdl-button show-modal">Show Modal</button>
<dialog class="mdl-dialog">
<div class="mdl-dialog__content">
<p>
Allow this site to collect usage data to improve your experience?
</p>
</div>
<div class="mdl-dialog__actions mdl-dialog__actions--full-width">
<button type="button" class="mdl-button">Agree</button>
<button type="button" class="mdl-button">Disagree</button>
</div>
</dialog>
El ejemplo es claro y me funciona bien; sin embargo, ¿cómo puedo seleccionar la opción utilizando las flechas de dirección del teclado? Porque hasta el momento solo puedo utilizar el mouse.
5683,javascript|php|html,Tengo un formulario de cálculo con JavaScript, lo que pasa que yo vi un tutorial sobre cálculos con JavaScript pero todo se hace en tiempo real, es decir como se muestra en la imagen:
Esos datos se muestran sin que yo presione el botón de "Calcula", lo que yo quiero es que esos datos no se muestren hasta que yo presione el botón de calcular.
El codigo html del sitio es éste (también disponible en Ghostbin):
//Link del javascript: https://ghostbin.com/paste/urg7z
<?php
session_start();
if(!$_SESSION['user']){
header ("Location: ingresar.php");
}
?>
<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Remesas ENVIA - Calculo en dolares</title>
<style type="text/css">
.auto-style1 { text-align: center; }
.auto-style2 { background-image: url('img/bg_calculo_dolares.jpg');  }
.auto-style3 { border-width: 0px; }
.auto-style4 { text-align: left; font-family: Arial, Helvetica, sans-serif; }
.auto-style5 { font-size: 55pt; }
.auto-style6 { text-align: left; }
.auto-style7 { text-align: left; font-family: Arial,Helvetica, sans-serif; font-size: 55pt; }
.auto-style8 { font-family: Arial, Helvetica, sans-serif; }
.auto-style9 { font-size: 55pt; font-weight: bold; }
.auto-style10 { text-align: right; }
.auto-style11 { font-size: 55pt; color: #00A743; }
</style>
<script type="text/javascript"src="/js/calculo.js"></script>
</head>
<body style="background-color: #F37300; margin-top: 27px; height: 1612px;">
<table align="center" cellpadding="0" cellspacing="0" style="width: 940px; height: 1560px" class="auto-style2">
<tr>
<td class="auto-style1" style="width: 940px; height: 230px" colspan="2"></td>
</tr>
<tr>
<td class="auto-style10" style="width: 538px; height: 170px;">
<input type="number" id="valor1" onkeyup="sumar();" size="23" style="font-family: Arial; font-size: 85pt; height: 160px; width: 410px;" required class="auto-style11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td>
<td class="auto-style1" style="width: 470px; height: 170px;">
<img alt height="168" onclick="sumar()" src="img/button_calcula.jpg" style="float: left" width="370" class="auto-style11"></td>
</tr>
<tr>
<td class="auto-style1" style="width: 940px; height: 1110px;" colspan="2">
<p> &nbsp;</p>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Si envias a Mexico</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor2" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu familia recibe</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor3" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">pesos,</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu envio cuesta</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor4" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu pago total es de</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor5" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<br />
<br />
<a href="seleccionar_destinatario.php"><img alt height="200" src="img/button_continuar.jpg" width="850" class="auto-style3" /></a></td>
</tr>
<tr>
<td class="auto-style1" style="width: 940px; height: 45px" colspan="2"></td>
</tr>
</table>
</body>
</html>
Y mi JavaScript es éste (también en Ghostbin):
//funcion que se ejecuta cada vez que se añade una letra en un cuadro de texto
//suma los valores de los cuadros de texto
function sumar()
{
var dolar = 18;
var porcentaje = 100;
var valor1=verificar("valor1");
var valor2=verificar("valor2");
var valor3=verificar("valor3");
var valor4=verificar("valor4");
var valor5=verificar("valor5");
// realizamos la suma de los valores y los ponemos en la casilla del
// formulario que contiene el total
document.getElementById("valor2").value=
parseFloat(valor1);
document.getElementById("valor3").value=
parseFloat(valor1)*
parseFloat(dolar);
document.getElementById("valor4").value=
parseFloat(valor2)/porcentaje*10;
document.getElementById("valor5").value=
parseFloat(valor1)+
parseFloat(valor4)*10;
}
//funcion para verificar los valores de los cuadros de texto. si no es un valor
//numerico, cambia de color el borde del cuadro de texto
function verificar(id)
{
var obj=document.getElementById(id);
if(obj.value=="")
value="0";
else
value=obj.value;
if(validate_importe(value,1))
{
// marcamos como erroneo
obj.style.borderColor="#808080";
return value;
}else{
// marcamos como erroneo
obj.style.borderColor="#f00";
return 0;
}
}
//Funcion para validar el importe
//Tiene que recibir: El valor del importe
//Determinar si permite o no decimales
//Devuelve: true - Correcto , False - Incorrecto
function validate_importe(value,decimal)
{
if(decimal==undefined)
decimal=0;
if(decimal==1)
{
// Permite decimales tanto por . como por ,
var patron=new RegExp("^[0-9]+((,|\.)[0-9]{1,2})?$");
}else{
// Numero entero normal
var patron=new RegExp("^([0-9])*$")
}
if(value && value.search(patron)==0)
{
return true;
}
return false;
}
5696,javascript|html,Tengo que presionar dos veces un botón calcular para que el último campo salga correctamente. Hice un pequeño vídeo muy corto para que pudiesen ver a que me refiero: Vídeo de Youtube del problema de javascript
Este es mi código:
//función que se ejecuta cada vez que se añade una letra en un cuadro de         texto
//suma los valores de los cuadros de texto
function sumar()
{
var dolar = 18;
var porcentaje = 100;
var valor1=verificar("valor1");
var valor2=verificar("valor2");
var valor3=verificar("valor3");
var valor4=verificar("valor4");
var valor5=verificar("valor5");
x = parseFloat(valor1);
y = parseFloat(valor1)*parseFloat(dolar);
z = parseFloat(valor1)/porcentaje*10;
f = parseFloat(valor2)+parseFloat(valor4);
// realizamos la suma de los valores y los ponemos en la casilla del
// formulario que contiene el total
document.getElementById("valor2").value= x;
document.getElementById("valor3").value= y;
document.getElementById("valor4").value= z;
document.getElementById("valor5").value= f;
}
//función para verificar los valores de los cuadros de texto. si no es         un valor
//numérico, cambia de color el borde del cuadro de texto
function verificar(id)
{
var obj=document.getElementById(id);
if(obj.value=="")
value="0";
else
value=obj.value;
if(validate_importe(value,1))
{
// marcamos como erróneo
obj.style.borderColor="#808080";
return value;
}else{
// marcamos como erróneo
obj.style.borderColor="#f00";
return 0;
}
}
//Función para validar el importe
//Tiene que recibir: El valor del importe
//Determinar si permite o no decimales
//Devuelve: true - Correcto , False - Incorrecto
function validate_importe(value,decimal)
{
if(decimal==undefined)
decimal=0;
if(decimal==1)
{
// Permite decimales tanto por . como por ,
var patron=new RegExp("^[0-9]+((,|\.)[0-9]{1,2})?$");
}else{
// Número entero normal
var patron=new RegExp("^([0-9])*$")
}
if(value && value.search(patron)==0)
{
return true;
}
return false;
}
.auto-style1 { text-align: center; }
.auto-style2 { background-image: url('img/bg_calculo_dolares.jpg');  }
.auto-style3 { border-width: 0px; }
.auto-style4 { text-align: left; font-family: Arial, Helvetica, sans-serif; }
.auto-style5 { font-size: 55pt; }
.auto-style6 { text-align: left; }
.auto-style7 { text-align: left; font-family: Arial,Helvetica, sans-serif; font-size: 55pt; }
.auto-style8 { font-family: Arial, Helvetica, sans-serif; }
.auto-style9 { font-size: 55pt; font-weight: bold; }
.auto-style10 { text-align: right; }
.auto-style11 { font-size: 55pt; color: #00A743; }
<!DOCTYPE html>
<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Remesas ENVIA - Calculo en dolares</title>
<script type="text/javascript"src="/js/calculo.js"></script>
</head>
<body style="background-color: #F37300; margin-top: 27px; height: 1612px;">
<table align="center" cellpadding="0" cellspacing="0" style="width: 940px; height: 1560px" class="auto-style2">
<tr>
<td class="auto-style1" style="width: 940px; height: 230px"         colspan="2"></td>
</tr>
<tr>
<td class="auto-style10" style="width: 538px; height: 170px;">
<input type="number" id="valor1" size="23" style="font-family: Arial; font-size: 85pt; height: 160px; width: 410px;" required class="auto-style11">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td>
<td class="auto-style1" style="width: 470px; height: 170px;">
<img alt height="168" onclick="sumar()" src="img/button_calcula.jpg" style="float: left" width="370" class="auto-style11"></td>
</tr>
<tr>
<td class="auto-style1" style="width: 940px; height: 1110px;" colspan="2">
<p> &nbsp;</p>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Si envias a Mexico</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor2" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu familia recibe</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor3" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">pesos,</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu envio cuesta</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor4" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu pago total es de</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor5" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<br />
<br />
<a href="seleccionar_destinatario.php"><img alt height="200" src="img/button_continuar.jpg" width="850" class="auto-style3" /></a></td>
</tr>
<tr>
<td class="auto-style1" style="width: 940px; height: 45px" colspan="2"></td>
</tr>
</table>
</body>
</html>
5699,ios,Me gustaría saber si hay manera de volver al anterior UINavigationController de manera que no tenga que volver a instanciarlo, esto es porque quiero pasar una variable al anterior view controller y seguidamente irme a él sin necesidad de instanciarlo de nuevo.
La cosa es que el view controller actual está dentro de un nuevo UINavigation, os dejo el código:
let vc:TotalSlidesViewController = self.storyboard?.instantiateViewControllerWithIdentifier("TotalSlidesViewController") as! TotalSlidesViewController
vc.previousVC = self
navigationVC = UINavigationController.init(rootViewController: vc)
self.navigationController?.presentViewController(navigationVC, animated: true, completion:nil)
Y después cuando quiero volver atrás en el Segundo ViewController:
previousVC.itemsCollection.appendContentsOf(slidesAdded)
Aquí iría la parte en la que he de volver atrás, si hago un popToRoot no funciona ya que ya estoy en el inicio del actual UINavigationController.
5751,java|html,Quiero que despues de que mi codigo, ha hecho ciertos procedimientos me redireccione a un div en especifico de mi index lo he intentado de esta manera pero no haya la pagina:
request.getRequestDispatcher("index.jsp#contenedor3").forward(request,response);
5757,javascript|html,Quiero que al hacer el calculo me aparezcan dos decimales, ya que por ejemplo ingreso la cantidad 100 y al calcular en los demás campos aparecen muchos decimales. Ya intente hacerlo con .toFixed(2) y no logro hacer que funcione.
Ilustración y código:
//funcion que se ejecuta cada vez que se añade una letra en un cuadro de texto
//suma los valores de los cuadros de texto
function sumar()
{
var dolar = 18;
var porcentaje = 100;
var valor1=verificar("valor1");
var valor2=verificar("valor2");
var valor3=verificar("valor3");
var valor4=verificar("valor4");
var valor5=verificar("valor5");
x = parseFloat(valor1);
y = parseFloat(valor1)/parseFloat(dolar);
z = parseFloat(valor1)/porcentaje*10/parseFloat(dolar);
f = parseFloat(y)+parseFloat(z);
// realizamos la suma de los valores y los ponemos en la casilla del
// formulario que contiene el total
document.getElementById("valor2").value= x;
document.getElementById("valor3").value= y;
document.getElementById("valor4").value= z;
document.getElementById("valor5").value= f;
}
//funcion para verificar los valores de los cuadros de texto. si no es un valor
//numerico, cambia de color el borde del cuadro de texto
function verificar(id)
{
var obj=document.getElementById(id);
if(obj.value=="")
value="0";
else
value=obj.value;
if(validate_importe(value,1))
{
// marcamos como erroneo
obj.style.borderColor="#808080";
return value;
}else{
// marcamos como erroneo
obj.style.borderColor="#f00";
return 0;
}
}
//Funcion para validar el importe
//Tiene que recibir: El valor del importe
//Determinar si permite o no decimales
//Devuelve: true - Correcto , False - Incorrecto
function validate_importe(value,decimal)
{
if(decimal==undefined)
decimal=0;
if(decimal==1)
{
// Permite decimales tanto por . como por ,
var patron=new RegExp("^[0-9]+((,|\.)[0-9]{1,2})?$");
}else{
// Numero entero normal
var patron=new RegExp("^([0-9])*$")
}
if(value && value.search(patron)==0)
{
return true;
}
return false;
}
.auto-style1 { text-align: center; }
.auto-style2 { background-image: url('http://remesasenvia.com/img/bg_calculo_pesos_blanco.jpg');  }
.auto-style3 { border-width: 0px; }
.auto-style4 { text-align: left; font-family: Arial, Helvetica, sans-serif; }
.auto-style5 { font-size: 55pt; }
.auto-style6 { text-align: left; }
.auto-style7 { text-align: left; font-family: Arial,Helvetica, sans-serif; font-size: 55pt; }
.auto-style8 { font-family: Arial, Helvetica, sans-serif; }
.auto-style9 { font-size: 55pt; font-weight: bold; }
.auto-style10 { text-align: right; }
.auto-style11 { font-size: 55pt; color: #00A743; }
<?php
session_start();
if(!$_SESSION['user']){
header ("Location: ingresar.php");
}
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Remesas Envia - Calculo En Pesos</title>
<style type="text/css">
.auto-style1 { text-align: center; }
.auto-style2 { background-image: url('http://remesasenvia.com/img/bg_calculo_pesos_blanco.jpg');  }
.auto-style3 { border-width: 0px; }
.auto-style4 { text-align: left; font-family: Arial, Helvetica, sans-serif; }
.auto-style5 { font-size: 55pt; }
.auto-style6 { text-align: left; }
.auto-style7 { text-align: left; font-family: Arial,Helvetica, sans-serif; font-size: 55pt; }
.auto-style8 { font-family: Arial, Helvetica, sans-serif; }
.auto-style9 { font-size: 55pt; font-weight: bold; }
.auto-style10 { text-align: right; }
.auto-style11 { font-size: 55pt; color: #00A743; }
</style>
<script type="text/javascript"src="/js/calculopesos.js"></script>
</head>
<body style="background-color: #E06716; height: 1648px; margin-top: 27px;">
<table align="center" cellpadding="0" cellspacing="0" style="width: 940px; height: 1560px" class="auto-style2">
<tr>
<td class="auto-style1" style="width: 940px; height: 230px" colspan="2"></td>
</tr>
<tr>
<td class="auto-style10" style="width: 538px; height: 170px;">
<input type="number" id="valor1" size="23" style="font-family: Arial; font-size: 85pt; height: 160px; width: 410px;" class="auto-style11" required>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td>
<td class="auto-style1" style="width: 470px; height: 170px;">
<img alt height="168" onclick="sumar()" src="http://remesasenvia.com/img/button_calcula.jpg" style="float: left" width="370" class="auto-style11"></td>
</tr>
<tr>
<td class="auto-style1" style="width: 940px; height: 1110px;" colspan="2">
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Si envias a Mexico</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor2" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">pesos</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu familia recibe</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor3" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu envio cuesta</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor4" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<p class="auto-style4"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tu pago total es de</span></p>
<div class="auto-style6"><span class="auto-style5">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="auto-style8"><strong>$</strong></span></span>
<strong>
<input type="text" id="valor5" value="0.00" disabled value="0" size="23" style="font-family: Arial; font-size: 55pt; height: 75px; width: 335px;" required class="auto-style9"></strong>
<span class="auto-style7">dolares</span></div>
<br />
<br />
<a name="envio" href="seleccionar_destinatario.php"><img alt height="200" src="http://remesasenvia.com/img/button_continuar.jpg" width="850" class="auto-style3" /></a></td>
</tr>
<tr>
<td class="auto-style1" style="width: 940px; height: 45px" colspan="2"></td>
</tr>
</table>
</body>
</html>
5802,javascript|jquery|html,Necesito poder utilizar la aparición como referencia para el siguiente código de tal forma que si un div aparece a los 1000px de scroll desaparezca 500px después, deben ser independientes una acción de la otra para poder hacer distintas combinaciones. Gracias.
$(window).scroll(function()  {
if ($(window).scrollTop() > 1000 )  {
$(".topmenu").fadeIn();   // > 100px from top - show div
}
else {
$(".topmenu").fadeOut();    // <= 100px from top - hide div
}
});
$(window).scroll(function() {
if ($(this).scrollTop() > 2000) { //use `this`, not `document`
$('.height600').css({
'display': 'none'
});
}
});
.youdiclass{position:fixed; display:none;width:100px; height:100px; background:red;}
#back{width:300px; height:500px;background:blue; margin:auto;}
.height600{}
.topmenu{
display: none;
position: fixed;
top: 0;
width: 100%;
height: 30px;
background: rgba(255,246,0,1.00);
z-index: 1;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<div class=" topmenu height600">
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
5824,javascript|php|html,Quisiera saber cómo es posible guardar los datos de un input en una variable PHP para poder mostrarlo en una página siguiente.
Tengo una página web que hace un cálculo en JavaScript y, al final, uno de los campos arroja el total. Después de hacer el cálculo el único campo que me interesa guardar es el campo de total, ya que lo quiero mostrar en la siguiente página.
El código HTML relevante es el siguiente:
<p class="auto-style4">
<span class="auto-style5">Tu pago total es de</span>
</p>
<div class="auto-style6">
<input type="text" id="valor5" value="0.00" disabled value="0" size="23" >
<span class="auto-style7">dólares</span>
</div>
¿Cómo puedo hacerlo para poder guardar ese dato y mostrarlo respectivamente en la otra página?
5834,javascript|jquery|html,Pese a que aquí parece funcionar no lo hace en Dreamweaver, Chrome ni Safari. No logro entender qué es lo que está mal. Gracias.
$("#hoverDiv").mouseenter(function() { $("#hiddenDiv").css('display','block'); });
#hiddenDiv{display:none;}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<div id="hoverDiv">hover on me</div>
<div id="hiddenDiv">show/hide div</div>
5856,javascript|jquery|html,Con el siguiente código mi Div aparece a partir de 1000px pero si lo hago desaparecer pasándole el puntero por encima a cualquier altura reaparece en cuanto el scroll avanza 1px y lo que quiero es que el div SOLO vuelva a aparecer cuando el scroll pasa por 1000px. Gracias.
$(window).scroll(function()  {
var y = $(window).scrollTop();
if (y = 500 )  {
$(".topmenu").fadeIn();   // > 100px from top - show div
}
});
$(document).ready(function(){
$(".outmouseover").mouseenter(function(){
$(".outmouseover").fadeOut(0);
});
});
.youdiclass{position:fixed; display:none;width:100px; height:100px; background:red;}
#back{width:300px; height:500px;background:blue; margin:auto;}
.height600{}
.topmenu{
display: none;
position: fixed;
top: 0;
width: 100%;
height: 30px;
background: rgba(255,246,0,1.00);
z-index: 1;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="topmenu outmouseover"></div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
<div id="back">
</div>
<div id="back" style="background:green";>
</div>
5872,html,Me gustaría que me ayudaran a colocar 9 posiciones básicas dentro de un div dentro de un div como aparece en el ejemplo. Las 9 posiciones serían:
Superior Derecho, Superior Izquierdo, Superior Centro.
Centro Derecho, Centro Izquierdo, Centro Derecho.
Inferior Derecho, Inferior Izquierdo, Inferior Derecho.
Como los divs son de distinto tamaño y muchas veces sin especificar (algunos serán texto) supongo que tendría que ir en porcentajes.
El div padre tampoco tendrá un ancho especificado pues también obedecerá a la composición de un texto.
Gracias.
body{ margin:0; padding:0;}
#header{width:100%; border-bottom:red 1px solid; position:fixed; height:30px;z-index:1000;  margin-top:0;}
#wraper{width:100%;  padding-top:30px;}
.basic_unit{width:800px; height:1200px; border:rgba(0,0,0,1.00) solid 1px; margin:auto;}
.basic{width:200px; height:200px; background:yellow;}
.fixed {position:fixed;}
.top_left{ top:30; right-margin:0%;}
.top_right{ top:30px; right:0%;}
#container{overflow:hidden;display:inline-block; margin:auto;}
#wraper{text-align:center;}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="wraper">
<div id="container">
<div class="basic fixed top_left"></div>
<div class="basic fixed top_right"></div>
<div class="basic_unit">
</div>
<div class="basic_unit">
</div>
</div>
</div>
5903,php|html,Bien, tengo un problema al rellenar un formulario que se envia a mi correo. El caso es que funciona perfectamente en Chrome y en IE. Pero en navegadores safari(Iphone/Ipad/...) no funciona como deberia(Si voy introduciendo los datos y uso el tabulador para pasar de uno a otro si que funciona como debe), ya que me esta saltando de un campo a otro.
Esta es al web http://www.1x1swap.com/formulario.html
HTML CODE:
<div class="" id="contact-form">
<p id="failure">Oops... Algo anduvo mal.</p>
<p id="success">Gracias, tu inscripción se ha sido enviado correctamente, lo antes posible nos pondremos en contacto contigo.</p>
<form class="form-inline" role="form" action="php/contacto.php" method="post" id="contacto" title="Nombre">
<label for="nombre"><h2 class="colorR tipo16">NOMBRE Y APELLIDOS: <span class="required"></span></label><br>
<input class="form-control name=" name="nombre" type="text" required="required" id="nombre" placeholder="Nombre"  title="Nombre"><br>
<label for="email"><h2 class="colorR tipo16">CORREO ELECTRÓNICO: <span class="required"></span></label> <br>
<input class="form-control name=" name="email" type="email" required="required" id="email" placeholder="tu@correo.com" title="Email"><br>
<label for="ciudad"><h2 class="colorR tipo16">CIUDAD: <span class="required"></span></label><br>
<input class="form-control name=" name="ciudad" type="ciudad" required="required" id="ciudad" placeholder="Lugar" title="Ciudad"><br>
<label for="Mensaje"><h2 class="colorR tipo16">MENSAJE: <span class="required"></span></label><br>
<textarea class="form-control name=" name="mensaje" rows="4" id="mensaje" placeholder="Dinos aproximadamente que vas a traer. Ej: 6 artículos de ropa y complementos de mujer y 3 libros." ></textarea><br>
<input type="submit" name="enviar" value="ENVIAR!" id="submit" />
</form>
</div>
PHP CODE:
<?php
if(isset($_POST['enviar'])){
//Guardamos en variables los datos enviados
$nombre = utf8_decode($_POST['nombre']);
$email = $_POST['email'];
$ciudad = utf8_decode($_POST['ciudad']);
$mensaje = utf8_decode($_POST['mensaje']);
///Validamos del lado del servidor que el nombre y el email no estén vacios
if($nombre == ''){
echo "Debe ingresar su nombre";
}
else if($email == ''){
echo "Debe ingresar su email";
}else{
$para = "info@1x1swap.com";//Email al que se enviará
$asunto = utf8_decode("Inscripción SWAP");//Puedes cambiar el asunto del mensaje desde aqui
//Este sería el cuerpo del mensaje
$mensaje = "
<table border='0' cellspacing='3' cellpadding='2'>
<tr>
<td width='30%' align='left' bgcolor='#f0efef'><strong>Nombre:</strong></td>
<td width='80%' align='left'>$nombre</td>
</tr>
<tr>
<td width='30%' align='left' bgcolor='#f0efef'><strong>E-mail:</strong></td>
<td width='80%' align='left'>$email</td>
</tr>
<tr>
<td width='30%' align='left' bgcolor='#f0efef'><strong>Ciudad:</strong></td>
<td width='70%' align='left'>$ciudad</td>
</tr>
<tr>
<td width='30%' align='left' bgcolor='#f0efef'><strong>Comentario:</strong></td>
<td width='80%' align='left'>$mensaje</td>
</tr>
</table>
";
//Cabeceras del correo
$headers = "From: $nombre <$email>\r\n"; //Quien envia?
$headers .= "X-Mailer: PHP5\n";
$headers .= 'MIME-Version: 1.0' . "\n";
$headers .= 'Content-type: text/html; charset=iso-8859-1' . "\r\n"; //
//Comprobamos que los datos enviados a la función MAIL de PHP estén bien y si es correcto enviamos
if(mail($para, $asunto, $mensaje, $headers)){
echo "Su mensaje se ha enviado correctamente";
echo "<br />";
echo '<a href="../formulario.html">Volver</a>';
}else{
echo "Hubo un error en el envío inténtelo más tarde";
}
}
}
?>
5952,html,¿Alguien sabe cómo puedo compartir contenido de mi pagina web en Google+? El problema es que es contenido que se genera dinámicamente, me gustaría hacer algo como lo que hace Facebook, que me deja personalizar el título o la imagen entre otros parámetros.
¿Alguna idea de cómo puedo hacerlo para Google+ sin usar los tags de <meta>?
Actualmente tengo algo así, esto sólo me comparte la url, me gustaría incluir la descripción y la imagen de un artículo.
<a class="btn btn-default fa fa-google-plus" href="https://plus.google.com/share?url=http://mipagina.com/mipaginaseccion/articulos.php" data-size="large" target="v" onclick="window.open(this.href, this.target, 'width=400,height=400'); return false"></a>
5992,c++,Estoy usando gedit en Ubuntu14.04 en C++, hago correr el programa desde la terminal pero aroja error:
g++: error: prueba.cpp: No such file or directory
g++: fatal error: no input files
compilation terminated.
He buscando en internet y dice que tengo que configurar external tools manager, he probado con todos los codigos para compilar, correr y compilar y correr pero no funciona. Por favor podrian ayudarme con esto.
6017,javascript|jquery|html,Hola he estado ensamblando este código que funciona en su parte de la condición de la altura del scroll pero no en la parta en la cual el AJAX tiene que meter de forma automática el .html qué falla?
$(document).on('scroll', function() {
var distanceFromBottom = Math.floor($(document).height() - $(document).scrollTop() - $(window).height());
if(distanceFromBottom < 10000) {
$.ajax({
url: "estrutura.html",
cache: false,
success: function(html){
$("#results").append(html);
}
});
}
});
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="scrollbox">
<div id="page_1" class="pagina">rr</div>
<div id="page_2" class="pagina">rr</div>
<div id="page_3" class="pagina">rr</div>
<div id="page_4" class="pagina">rr</div>
<div id="page_5" class="pagina">rr</div>
<div id="page_6" class="pagina">ee</div>
<div id="page_7" class="pagina">rr</div>
<div id="page_8" class="pagina">rr</div>
<div id="page_9" class="pagina">rr</div>
<div id="page_10" class="pagina">rr</div>
<div id="page_11" class="pagina">ee</div>
<div id="page_12" class="pagina">rr</div>
<div id="page_13" class="pagina">rr</div>
<div id="page_14" class="pagina">rr</div>
<div id="page_15" class="pagina">rr</div>
<div id="page_16" class="pagina">ee</div>
<div id="page_17" class="pagina">rr</div>
<div id="page_18" class="pagina">rr</div>
<div id="page_19" class="pagina">rr</div>
<div id="page_20" class="pagina">rr</div>
<div id="page_21" class="pagina">ee</div>
<div id="page_22" class="pagina">rr</div>
<div id="page_23" class="pagina">rr</div>
<div id="page_24" class="pagina">rr</div>
<div id="page_25" class="pagina">rr</div>
<div id="page_26" class="pagina">ee</div>
</div>
6028,ios,Tengo una funcion para obtener las coordenadas según dirección.
Tengo que declarar una variable como dictionary para transformar un resultado en json.
var error: NSError?
let dictionary: Dictionary<NSObject, AnyObject> = NSJSONSerialization.JSONObjectWithData(geocodingResultsData!, options: NSJSONReadingOptions.MutableContainers, error: &error) as Dictionary<NSObject, AnyObject>
El error que me devuelve es el siguiente
Extra argument 'error' in call
debo decir que me estoy guiando con la docu de google maps
por lo cual ese trozo de codigo lo obtuve de hay por lo que no se cual puede ser el error.
6078,javascript|jquery|html,Espero puedan ayudarme. Estoy haciendo un booking de viajes y tengo un formulario que al darle al enlace mostrar me muestra el formulario dos y luego me da la opción de ocultarlo cuando no lo necesito. El problema es cuando quiero agregarle otra tabla que me muestre un formulario tres, el cual no sé como hacerlo.
function desplegar(tabla_a_desplegar, estadoT, estadoTfila) {
var tablA = document.getElementById(tabla_a_desplegar);
var estadOt = document.getElementById(estadoT);
var fila = document.getElementById(estadoTfila);
switch (tablA.style.display) {
case "none":
tablA.style.display = "block";
estadOt.innerHTML = "Ocultar";
fila.innerHTML = "";
fila.innerHTML = " La fila de id: " + fila.id + ". Contiene: " + fila.innerHTML + " :: " + fila.style.background;
break;
default:
tablA.style.display = "none";
estadOt.innerHTML = "+Habitacion"
break;
}
}
<table style="margin-left:27px; margin-right:27px">
<tbody>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Habitacion 1</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Adulto</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">&nbsp;Ni&ntilde;o</p>
</td>
</tr>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">
<a class="registro registrolinea habitacion" id="estadoT" onClick="desplegar('tabla_a_desplegar','estadoT', 'estadoTfila')" style="background: #AEE756; cursor: pointer;">+ Habitacion</a>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">
<select class="form-control seleccionunoir" id="sel1">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">
<select class="form-control selecciondosir" id="sel1">
<option>0</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
</tr>
</tbody>
</table>
<table id="tabla_a_desplegar" style="margin-left:26px; margin-right:27px; margin-top:-15px; display:none; ">
<tbody>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Habitacion 2</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px; margin-left:-09px">Adulto</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">&nbsp;Ni&ntilde;o</p>
</td>
</tr>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">
<a class="registro registrolinea habitacion" id="estadoT" onClick="desplegardos('tabla_b_desplegar','estadoT', 'estadoTfila')" style="background: #AEE756; cursor: pointer;">+ Habitacion</a>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px; margin-left:-09px">
<select class="form-control seleccionunoir" id="sel1">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">
<select class="form-control selecciondosir" id="sel1">
<option>0</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
</tr>
</tbody>
</table>
<table id="tabla_b_desplegar" style="margin-left:26px; margin-right:27px; margin-top:-15px; display:none; ">
<tbody>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Habitacion 3</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px; margin-left:-09px">Adulto</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">&nbsp;Ni&ntilde;o</p>
</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px;">
<select class="form-control seleccionunoir" id="sel1">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px; ">
<select class="form-control selecciondosir" id="sel1">
<option>0</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
</tr>
</tbody>
</table>
</tbody>
</table>
<table style="margin-left:180px">
<tbody>
<tr>
<td>
<button style="margin: 0 auto" type="button" class="btn btn-success">Buscar</button>
</td>
</tr>
</tbody>
</table>
6104,php|html,Explico la idea y seguidamente la situación en la que me encuentro.
La idea es cargar la imagen obtenida a través del formulario html llamando al php en el servidor, y después (o durante depende como se mire) obtener la ruta de la imagen cargada previamente en el servidor para poder realizar un consulta SQL de tipo INSERT con la ruta de la imagen, y el título y el contenido que son strings obtenidos del formulario, todo esto a través de una función.
El problema está en que no logro colgar la imagen en el servidor ni capturar su ruta, además, no se muestra ningún tipo de mensaje con echo.
HTML
<form name="menus_create" action="events_create.php" method="post" accept-charset="utf-8" enctype="multipart/form-data">
<label for="menu_title">Título</label>
<input name="menu_title" type="text" /></strong><br />
<label for="menu_content">Contenido</label>
<textarea name="menu_content"></textarea>​<br />
<label for="menu_image">Imagen</label>
<input type="file" name="menu_image"> <br /> <br />
<input type="submit" name="submit" value="CREAR">
</form>
PHP
<?php
require_once('database/queries.php');
define("WEB_URL", "http://subdominio.dominio.es/carpeta1/carpeta2/");
define("INSERT_NULL", "No se ha podido continuar la inserción de datos     debido a la falta de algunos.");
define("INSERT_ERROR", "Ha ocurrido un error al intentar insertar nuevos datos en la base de datos.");
function getPathImage($image) {
if ($_FILES[$image]['error'] > 0) { echo("No ha sido posible cargar la imagen."); }
else {
if (in_array($_FILES[$image]['type'], array("image/jpg", "image/jpeg", "image/png")) && $_FILES[$image]['size'] <= 500 * 1024) {
$path = "images/".$_FILES[$image]['name'];
echo $path . '';
if (!file_exists($path)) {
$result = @move_uploaded_file($_FILES[$image]['tmp_name'], $path);
if (!$result) { return null; }
else { return $path; }
}
} else {
echo("No ha sido posible cargar la imagen.");
}
}
return null;
}
// AÑADIR MENÚ
if (isset($_POST['menu_create']) != null) {
$menu_title     = $_POST['menu_title'];
$menu_content   = $_POST['menu_content'];
if ($menu_title != null && $menu_content != null) {
try { Query::addMenu(WEB_URL . getPathImage('menu_image'), $menu_title, $menu_content); }
catch (PDOException $e) { print_r($e); echo(INSERT_ERROR); }
} else {
echo(INSERT_NULL);
}
}
//header('location: create.php');
?>
PD: Query es la clase que utilizo PDO para las consultas.
6110,ios,Buenas tardes , he conseguido generar un pequeño framework ejemplo en swift pero solo me deja ejecutarlo si hago el deploy en un Device , he leído que si generas el framework con el simulador seleccionado podrías entonces ejecutar ese framework en un proyecto en el simulador , el problema es que si intento generar el framework para simulador me sigue saliendo el rojo el nombre.framework ...
También aprovecho para preguntar si no hay manera de generar un framework que me funcione tanto para Device como Simulador?
Gracias
6119,javascript|jquery|html,Quisiera dejarles la siguiente inquietud, ya que he estado batallando harto rato con esto y no he podido corregir lo que sucede.
Tengo este HTML:
<div class="clone-group" >
<table border="0" class="form-group cloneprop" >
<tr >
<td style="width: 70%;">
NOMBRE O RAZ&Oacute;N SOCIAL
</td>
<td style="width: 18%;" align="center">
RUT
</td>
<td style="width: 10%;" align="center">
Agregar / Eliminar
</td>
</tr>
<tr>
<td>
<input class="form-control required 3_nombre_prop _prop" readonly placeholder="Nombres" style="width: 38%; display: inline;" id="3_nombre_prop" value="" name="3_nombre_prop[]" type="text" />
<input class="form-control required 3_apep_prop _prop" readonly placeholder="Apellido Paterno" style="width: 30%; display: inline;" id="3_apep_prop" value="" name="3_apep_prop[]" type="text" />
<input class="form-control required 3_apem_prop _prop" readonly placeholder="Apellido Materno" style="width: 30%; display: inline;" id="3_apem_prop" value="" name="3_apem_prop[]" type="text" />
</td>
<td >
<input class="form-control required 3_rut_prop" id="3_rut_prop" value="" name="3_rut_prop[]" type="text" />
<input class="" type="hidden" id="3_rut_prop_x" name="3_rut_prop_x[]" value="" />
</td>
<td align="center" >
<button type="button" class="btn btn-primary addButton" aria-label="Left Align" id="">
<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Agregar
</button>
</td>
</tr>
</table>
</div>
<input type="hidden" class="n_item_prop" name="n_item_prop" value="0">
Valido un rut en esta tabla, sin problemas. Pero cuando agrego un clon de esta tabla con jQuery e intento validar ese rut, el popover con el mensaje, aparece siempre en la primera tabla y no en el campo que corresponde, es decir en el clon.
Tengo en el JS:
$(function(){
// PARA CLONAR
var i = parseInt($('.n_item_prop').val(), 10);
var bFlag1=i;
var cloneItem = $(".cloneprop:last");//class de la tabla
var cloneWrap   = $(".clone-group");//div
$(".addButton").on("click", function () {
if(i < 4){
bFlag1++;
i = i + 1;
cloneItem.find('._prop').attr('readonly','readonly');
var clon = cloneItem.clone(true).attr('id', 'pr_'+bFlag1).appendTo(cloneWrap);
clon.find('[type=text]').val('');
clon.find('[type=hidden]').val('');
clon.find('[type=email]').val('');
clon.find(".addButton")
.replaceWith( '<button type="button" class="btn btn-primary remButton" aria-label="Left Align"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span>Eliminar</button>');
$( ".n_item_prop" ).remove();
str_id = '<input type="hidden" class="n_item_prop" name="n_item_prop" value="'+i+'">';
$("#form_smpe").append(str_id);
}
if( $('#3_rut_prop').val()!="" ){
var v1 = id_rut($('#3_rut_prop').val(), $("#3_nombre_prop"),$("#3_apep_prop"),$("#3_apem_prop"));
}
});
$("body").on("click", ".remButton", function () {
$(this).closest(".cloneprop").remove();
i = i - 1;
$( ".n_item_prop" ).remove();
str_id = '<input type="hidden"  class="n_item_prop" name="n_item_prop" value="'+i+'">';
$("#form_smpe").append(str_id);
});
// validate
$('#form').validate({
ignore: '[readonly=readonly]',
errorPlacement: function (error, element) {
var lastError = $(element).data('lastError'), newError = $(error).text();
$(element).data('lastError', newError);
if (newError !== '' && newError !== lastError) {
$(element).popover({
trigger: "manual",
placement: "auto top",
content: newError,
container: "body",
template: "<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"popover-content\"><p></p></div></div>"
});
if (element.is(':hidden')) {
$(element).next('span').popover('show').addClass('has-error').removeClass('has-success');
console.log('hidden element');
}else {
$(element).popover("show").parents(".form-group").addClass('has-error').removeClass('has-success');
console.log('normal element');
}
}
},
success: function (label, element) {
$(element).popover("hide").parents(".form-group").removeClass('has-error').addClass('has-success');
},
rules: {
"3_rut_prop[]": {
required: true
}
},
messages: {
"3_rut_prop[]": {
required: "Debe ingresar un dato válido"
}
}
});
// VALIDA RUT
$.validator.addMethod("3_rut_prop", function(value, element){
return this.optional(element) || $.Rut.validar(value);
}, "Este campo debe ser un rut valido.");
$('#3_rut_prop').Rut({
validation: false
});
});
Para las validaciones de jQuery, tengo las siguientes llamadas;
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery-ui.js"></script>
<script type="text/javascript" src="js/jquery.Rut.js"></script>
<script type="text/javascript" src="js/jquery.validate.js"></script>
<script type="text/javascript" src="js/additional-methods.js"></script>
<script src="js/ie10-viewport-bug-workaround.js"></script>
<script type="text/javascript" src="js/validate_v.js"></script>
Como les mencionaba, con esto valido el rut de la tabla. Pero al intentar validar el rut de la tabla clonada, el popover con el mensaje aparece siempre en la primera tabla.
6125,javascript|html,Buenas tardes tengo un código que me funciona bien y lo que hace es que al darle en habitacion 1 +habitacion me muestra habitacion 2 y en habitacion 2 al darle +habitacion me muestra habitacion 3 en cada uno puedo ocultar pero quisiera que en habitacion 1 pudiera darle ocultar y me oculte simultaneamente habitacion 2 y habitacion 3 porque al darle en estos momentos a ocultar en habitacion 1 cuando esta abierto habitacion 2 y habitacion 3 me queda abierto habitacion 3 y quisiera que solo quedara habitacion 1 osea me vuelva al estado inicial. A continuación el código gracias.
function desplegar(tabla_a_desplegar, estadoT, estadoTfila) {
console.log(estadoT)
var tablA = document.getElementById(tabla_a_desplegar);
var estadOt = document.getElementById(estadoT);
var fila = document.getElementById(estadoTfila);
switch (tablA.style.display) {
case "none":
tablA.style.display = "block";
estadOt.innerHTML = "Ocultar";
fila.innerHTML = "";
fila.innerHTML = " La fila de id: " + fila.id + ". Contiene: " + fila.innerHTML + " :: " + fila.style.background;
break;
default:
tablA.style.display = "none";
estadOt.innerHTML = "+Habitacion"
break;
}
}
<table style="margin-left:27px; margin-right:27px">
<tbody>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Habitacion 1</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Adulto</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">&nbsp;Ni&ntilde;o</p>
</td>
</tr>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">
<a class="registro registrolinea habitacion" id="estadoT" onClick="desplegar('tabla_a_desplegar','estadoT', 'estadoTfila')" style="background: #AEE756; cursor: pointer;">+ Habitacion</a>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">
<select class="form-control seleccionunoir" id="sel1">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">
<select class="form-control selecciondosir" id="sel1">
<option>0</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
</tr>
</tbody>
</table>
<table id="tabla_a_desplegar" style="margin-left:26px; margin-right:27px; margin-top:-15px; display:none; ">
<tbody>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Habitacion 2</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px; margin-left:-09px">Adulto</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">&nbsp;Ni&ntilde;o</p>
</td>
</tr>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">
<a class="registro registrolinea habitacion" id="estadoT2" onClick="desplegar('tabla_b_desplegar','estadoT2', 'estadoTfila')" style="background: #AEE756; cursor: pointer;">+ Habitacion</a>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px; margin-left:-09px">
<select class="form-control seleccionunoir" id="sel1">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">
<select class="form-control selecciondosir" id="sel1">
<option>0</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
</tr>
</tbody>
</table>
<table id="tabla_b_desplegar" style="margin-left:26px; margin-right:27px; margin-top:-15px; display:none; ">
<tbody>
<tr>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px">Habitacion 3</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px; margin-left:-09px">Adulto</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px">&nbsp;Ni&ntilde;o</p>
</td>
</tr>
<tr>
<td>&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left; margin-top:12px;">
<select class="form-control seleccionunoir" id="sel1">
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>
<p style="font-family: 'Roadgeek 2005 Series 1B', sans-serif; font-size:16px; color:#000000; text-align:left;margin-top:12px; ">
<select class="form-control selecciondosir" id="sel1">
<option>0</option>
<option>1</option>
<option>2</option>
<option>3</option>
<option>4</option>
<option>5</option>
</select>
</p>
</td>
</tr>
</tbody>
</table>
<table style="margin-left:180px">
<tbody>
<tr>
<td>
<button style="margin: 0 auto" type="button" class="btn btn-success">Buscar</button>
</td>
</tr>
</tbody>
</table>
6164,javascript|jquery|html,Tengo un formulario que envía información a otra pagina web para hacer una operación sobre una BD, pero estoy tratando de que primero valide el form para que no envie campos vacios a la BD, la validacion ya la tengo pero no he podido hacer para que primero valide y si no hay campos vacios envie la informacion a la BD, ya que actualmente envia aun cuando esta la validacion pero se debe a que tengo un js que tiene un evento click en donde se procesa el form a traves de ajax a la otra pagina y no se como hacer para primero valide y luego procese, haciendo pruebas comente la funcion click y ya valida tal ves tenga que ocupar otro evento pero no se cual?, este es mi codigo:
$('#btnGuarda').click(function () {
var cargando = $("#carga").html("<center><img class='img-responsive'  src='../imagenes/loading.gif'/><center>");
$.ajax({
type: 'POST',
url: '../statussol/procesaConfirmada.vbhtml',
data: $('#enviaConfirmada').serialize(),
beforeSend: function () {
$("#muestraFormulario").hide();
cargando.show().fadeIn();
},
success: function (e) {
cargando.hide();
$('#resultado').hide().html("<blockquote style='background: #f9f9f9; border-left: 10px solid #ccc;   margin: 1.5em 10px;  padding: 0.5em 10px;'> <p></p><p style='color:green'><i class='glyphicon glyphicon-ok-circle'></i> ¡ Operación exitosa !</p><p></p> </blockquote>").fadeIn(500);
$('#resultado').html(e);
}
});
});
/* VALIDACION A MI INPUT DEL FOMULARIO*/
$('#enviaConfirmada').bootstrapValidator({
message: 'Este valor no es valido',
feedbackIcons: {
valid: 'glyphicon glyphicon-ok',
invalid: 'glyphicon glyphicon-remove',
validating: 'glyphicon glyphicon-refresh'
},
fields: {
txtVendedor: {
validators: {
notEmpty: {
message: 'El # de vendedor es requerido'
}
}
}
}
});
});
mi formulario
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title></title>
<link href="../css/bootstrap.min.css" rel="stylesheet" />
<link href="../css/bootstrapValidator.min.css" rel="stylesheet" />
<script type="text/javascript" src="../js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/bootstrapValidator.min.js"></script>
<script type="text/javascript" src="../js/scriptsConfirma.js"></script>
<script src="../js/validate.js"></script>
</head>
<body>
<!-- div muestra formulario -->
<div id="muestraFormulario">
<!-- formulario -->
<div class="alert alert-info" role="alert"><i class="glyphicon glyphicon-asterisk"></i> Ingrese número</div>
<form id="enviaConfirmada" name="enviaConfirmada" method="post" action="" class="form-horizontal">
<div class="form-group">
<label for="lblSolicitud" class="control-label col-sm-3">N° de solicitud</label>
<div class='input-group col-sm-8'>
<span class="input-group-addon">
<span class="glyphicon glyphicon-info-sign"></span>
</span>
<input type='text' id="txtNumsolicitud" name="txtNumsolicitud" class="form-control" readonly="readonly" />
</div>
<label for="lblSolicitud" class="control-label col-sm-1"></label>
</div>
<div class="form-group">
<label for="lblFecha" class="control-label col-sm-3">Fecha</label>
<div class='input-group col-sm-8'>
<span class="input-group-addon">
<span class="glyphicon glyphicon-info-sign"></span>
</span>
<input type='text' id="txtFecha" name="txtfecha" class="form-control" readonly="readonly" />
</div>
<label for="lblFecha" class="control-label col-sm-1"></label>
</div>
<label class="col-md-3 control-label">N° de vendedor</label>
<div class="col-md-7">
<input type='text' id="txtVendedor" name="txtVendedor" maxlength="4" onkeypress="ponerMayusculas(this);" class="form-control" />
</div>
<div class="form-group">
<label class="control-label col-sm-9"></label>
<div class="col-sm-3">
<button type="button" class="btn btn-success" id="btnGuarda">Guardar</button>
</div>
</div>
</form>
<!-- fin formulario -->
</div>
<!-- div muestra formulario -->
<div id="carga"></div>
<div id="resultado"></div>
</body>
</html>
6193,c++,He tratado de cargar una imagen en sdl2 y justamente cuando uso sdl_image obtengo un error (segmeentation fault core dumped). Solo ahí me da error todo lo demas parece funcionar bien.
Estas son la librerias correspondientes a sdl2
#include<SDL2/SDL.h>
#include<SDL2/SDL_events.h>
#include<SDL2/SDL_image.h>
Estas son las librerias correspondientes a c++
#include<stdio.h>
#include<iostream>
#include<string.h>
using namespace std;
SDL_Window   *ventana; // declaracion de una variable para LA VENTANA
SDL_Renderer *render;  // declaracion de una variable para RENDERIZAR
SDL_Texture  *textura; // declaracion de una variable para TEXTURA
SDL_Surface  *img;     // declaracion de una SUPERFICIE PARA LA IMAGEN
int main()  {
// AQUI SE CREA UNA VENTANA DE 640 POR 480 LLAMADA "PRUEBA"
ventana = SDL_CreateWindow("prueba",SDL_WINDOWPOS_UNDEFINED,SDL_WINDOWPOS_UNDEFINED,640,480,SDL_WINDOW_SHOWN);
// AQUI SE COMPRUEBA SI LA VENTANA ES CREADA CORRECTAMENTE
if(ventana==NULL)
{
printf("error en ventana %s\n",SDL_GetError());
}
else
{
// SI LA VENTANA SE CREA CORRECTAMENTE SE HACE EL RENDERIZADO
render=SDL_CreateRenderer(ventana,-1,SDL_RENDERER_ACCELERATED);
if(render==NULL)
{
printf("error en render %s\n",SDL_GetError());
}
else
{
// SI EL RENDERIZADO TIENE EXITO SE CREA UN COLOR PARA EL RENDERIZADO
SDL_SetRenderDrawColor(render,0xff,0xff,0xff,0xff);
// SE INICIA SDL2_IMAGE PARA CARGAR UNA IMAGEN FORMATO PNG
int flag=IMG_INIT_PNG;
if(!(IMG_Init(flag)&flag))
{
printf("error en imginit %s\n",IMG_GetError());
}
else
{
// SI SE TIENE EXITO INICIANDO SDL2_IMAGE SE PROCEDE A CARGAR
// LA IMAGEN
// JUSTO AQUI OCURRE EL ERROR SOLO COLAPSA SIN ARROJAR MENSAJE
// DE  ERROR NI NADA
// SOLO UN SEGMENTATION FAULT CORE DUMP SI COLOCO DOBLE SLASH A
// ESTE FRACMENTO DE CODIGO EL CORE DUMP DESAPARECE Y SE CARGA LA
// VENTANA CON EL COLOR BLANCO DE FONDO DEL RENDERIZADO ASI ME DI
// CUENTA QUE EL ERROR SOLO ESTA EN ESTA LINEA
img=IMG_Load("awesome_pot__x1_broken_png_1354830342.png");
if(img==NULL)
{
printf("error en img load %s\n",IMG_GetError());
}
else
{
// DE CARGARSE CORRECTAMENTE LA IMAGEN SE PROCEDE A CREAR UNA
// TEXTURA EN BASE A LA IMAGEN
textura=SDL_CreateTextureFromSurface(render,img);
if(textura==NULL)
{
printf("error en textura %s\n",SDL_GetError());
}
else
{
// UNA VEZ UTILIZADA LA IMAGEN PARA CREAR LA TEXTURA ESTA
// PUEDE SER ELIMINADA
SDL_FreeSurface(img);
// AQUI SE COLOCA EL RENDER DE COLOR BLANCO
SDL_RenderClear(render);
// AQUI ES DONDE SE COPIA EL RENDER Y LA TEXTURA EN PANTALLA
// SIN MOSTRAR LA PANTALLA
SDL_RenderCopy(render,textura,NULL,NULL);
// AQUI FINALMENTE SE MUESTRA LA IMAGEN EN PANTALLA
SDL_RenderPresent(render);
// ESTE ES UN RETRASO PARA QUE EL PROGRAMA CORRA POR 2
// SEGUNDOS
SDL_Delay(2000);
// FINALMENTE SE CIERRA SDL Y EL SDL_IMAGE
IMG_Quit();
SDL_Quit();
// ESTAS LLAVES CORRESPONDEN A LAS SENTENCIAS IF DE ARRIBA
}//render
}//img_init
}//imgload
}//textura
}//ventana
6326,php|html,<!DOCTYPE html>
<html lang="es" ng-app="practica">
<head>
<meta charset="UTF-8">
<script type="text/javascript" src="angular.min.js"></script>
<title>Document</title>
</head>
<body>
<input type="text" ng-model="buscar" placeholder="Buscar">
<div ng-controller="ctrldatos">
<table>
<tr>
<th>Sub Categoria Codigo</th>
<th>Sub Categoria Nombre</th>
<th>Sub Categoria</th>
</tr>
<tr ng-repeat="x in names | filter:buscar ">
<td>{{x.subcat_cod}}</td>
<td>{{x.subcat_nom}}</td>
<td>{{x.cat_cod}}</td>
</tr>
</table>
</div>
</body>
<script type="text/javascript">
angular.module("practica",[])
.controller("ctrldatos",function($scope,$http){
$http.get("get.php")
.success(function (response)
{
$scope.names = response;
});
});
</script>
</html>
Como puedo modificar los valores que trae php en formato json usando angular:
<script type="text/javascript">
angular.module("practica",[])
.controller("ctrldatos",function($scope,$http){
$http.get("get.php")
.success(function (response)
{
$scope.names = response;
});
});
</script>
`
6349,c++,Buenas,
Como trabajo en la uni, nos han mandado hacer un programilla con un servidor y un cliente. Pero para ello nos han dicho que primero tenemos que hacer funcionar un ejemplo de servidor y cliente. Nos han dado el ejemplo asi, con estos 2 códigos.
Servidor:https://msdn.microsoft.com/en-us/library/windows/desktop/ms737593(v=vs.85).aspx
Cliente: https://msdn.microsoft.com/en-us/library/windows/desktop/ms737591(v=vs.85).aspx
Lo que he hecho ha sido meter abrir un proyecto y he metido cada código(el del cliente y el servidor) en un archivo: server.cpp y client.cpp
Y después de arreglar un problema que había con los headers me he atascado con estos 2 errores:
Severity  Code    Description Project File    Line    Suppression State
Error LNK2005 _main already defined in
client.obj    BAAER2  D:\DDocumentos\BAAER2\BAAER2\BAAER2\server.obj  1
y
Severity  Code    Description Project File    Line    Suppression State
Error LNK1169 one or more multiply defined symbols
found BAAER2  D:\DDocumentos\BAAER2\BAAER2\Debug\BAAER2.exe   1
El primero creo que tiene con que tengo 2 archivos con main pero no estoy seguro de cómo arreglarlo.
PD: El profesor dijo que había que añadir o pasar como argumento localhost(127.0.0.1), con click derecho propiedades... pero no me acuerdo mucho más, ¿sabéis también esto?
6384,c++,Buenas, soy nuevo en esto, y tengo una pequeña duda.
La cosa es que tengo una solución que tiene 2 proyectos, uno se llama Servidor y otro Cliente( el codigo de ellos es casi exacto a este https://msdn.microsoft.com/en-us/library/windows/desktop/ms737591(v=vs.85).aspx ). Compilan sin errores ambos.
El problema es que cuando hacia el Ctrl+F5 del servidor iba bien, se abría la consola y no aparecía nada, pero en principio tenia que ser así. Pero cuando me ponía en el cliente y le daba a run se me abría otra consola(correcto es lo que quiero) pero en la consola salía
" bind failed with error: 10048"
Como no estaba seguro de cual fallaba si el servidor o el cliente(las 2 consolas eran iguales)puse un cout "Servidor"  en el código del servidor y otro "Cliente" en el del cliente.
Bien pues lo que me sale es que al runear el servidor sale la consola con "Servidor" escrito(bien!) y al intentar runear el cliente sale otra consola con "Servidor blind failed..." . Así que me abre 2 veces el cpp del servidor.
Vale la cosa es ¿cómo puedo ejecutar el cliente?, ¿Por qué me ejecuta solo el servidor?
Para que quede claro, mi objetivo es hacer funcionar el ejemplo del link (ahí están el código del servidor y del cliente) con 2 consolas abiertas al mismo tiempo en el mismo ordenador.
Gracias de antemano.
6387,javascript|jquery|html,Estoy tratando de mostrar diferentes DIVs en base a la selección de 2 'option' pero si quiero mostrar 2 veces el mismo div con diferentes 'option' no se muestran.
div1 = 3+5 (no se muestra)
div2 = 2+7 (se muestra)
div1 = 4+4 (se muestra)
¿Por qué?
http://jsfiddle.net/9ex589b9/
var $s1 = $('#select1').change(change);
var $s2 = $('#select2').change(change);
function change(){
$('#div1').toggle($s1.val() == '3' && $s2.val() == '5')
$('#div2').toggle($s1.val() == '2' && $s2.val() == '7')
$('#div1').toggle($s1.val() == '4' && $s2.val() == '4')
};
#div1,#div2,#div3 ,#div4,#div5,#div6,#div7{ display:none}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<select id="select1">
<option selected disabled>Valor 1</option>
<option>3</option>
<option>2</option>
<option>4</option>
</select>
+
<select id="select2">
<option selected disabled>Valor 2</option>
<option>5</option>
<option>7</option>
<option>4</option>
</select>
<div id="div1">8</div>
<div id="div2">9</div>
6388,javascript|jquery|html,Necesito poder usar los tres valores de la variable DocHeight obedeciendo a la propiedad del tamaño de la fuente en css, el error está en los if pero no sé como hacerlos funcionar a la vez; independientemente lo hacen.
if ($(".basic_unit").css("fontSize", 2)){ var DocHeight= 11000;};
if ($(".basic_unit").css("fontSize", 6)){ var DocHeight= 32500;};
if ($(".basic_unit").css("fontSize", 8)){ var DocHeight= 48500;};
var variableXXX = false;
$(window).scroll(function() {
var scrollPercent = 100 * $(window).scrollTop() / DocHeight;
if ( scrollPercent >= 5 && variableXXX == false){
variableXXX = true;
alert($(document).scrollTop());
}
});
var variableXX = false;
$(window).scroll(function() {
var scrollPercent = 100 * $(window).scrollTop() / DocHeight;
if ( scrollPercent >= 5 && variableXX == false){
variableXX = true;
$(".onscroll5").fadeIn(0);
}
else if ( scrollPercent < 5 && variableXX == true){
variableXX = false;
$(".onscroll5").fadeIn(0);
}
});
body{ margin:0; padding:0;}
#header{width:100%; border-bottom:red 1px solid; position:fixed; height:30px;z-index:1000;  margin-top:0;}
#wraper{width:100%;  padding-top:30px; text-align:center; }
.basic_unit{width:800px; height:1300px; border:rgba(0,0,0,1.00) solid 1px; margin:auto;}
.basic2{width:200px; height:200px; background:red; display:none;}
.fixed {position:fixed;}
.center_center{ display:inline-block;z-index:100;}
#container{overflow:hidden; background:rgba(255,0,234,0.20); display:inline-block; }
.left { margin-left:0;  }
.right { right:0;  }
.left_total {left:0;}
.right_total {right:0;}
.center { left:50%; transform:translate(-50%, 0); }
.top { top:30px;; }
.bottom { bottom:0; }
.middle { top:50%; transform:translate(0, -50%); }
.center.middle { transform:translate(-50%, -50%); }
#right_wraper{ float:right; border: 1px black solid; width:300px; text-align:right;}
.intime{width:200px; height:200px; background:blue; display:none;}
.inscroll{width:20px; height:20px; background:yellow; display:none;}
.triggers{ background:rgba(0,255,252,1.00); width:40px; height:40px;}
@media  (max-width: 700px) {
.basic_unit {
font-size:2px;
}
}
@media (min-width:701px) and (max-width : 1200px) {
.basic_unit {
font-size:6px;
}
}
@media (min-width : 1201px) {
.basic_unit {
font-size:8px;
}
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div id="header">
</div>
<div id="wraper">
<div id="container">
<div id="right_wraper">
<!--IN SCROLL-->
<div class="inscroll fontbig1 onscroll5 fixed middle outtime2 "></div>
</div>
<!--IN SCROLL-->
<div class="inscroll fontmedium3 onscroll10 fixed bottom center outscroll25 right_left" style="border: solid black 50px"></div>
<!--TRIGGERS-->
<div class="triggers fixed top left_total">
</div>
<div class="triggers fixed bottom left_total">
</div>
<div class="triggers fixed top right_total">
</div>
<div class="triggers fixed bottom right_total">
</div>
<div class="basic_unit">
A <p style="font-size:6px;">A</p><p style="font-size:8px;">A</p><p style="font-size:2px;">A</p>
</div>
<div class="basic_unit">
</div>
<div class="basic_unit">
</div>
<div class="basic_unit">
</div>
<div class="basic_unit">
</div>
<div class="basic_unit">
</div>
</div>
</div>
6400,javascript|jquery|html,Es posible aplicar condiciones al valor de una variable? En el código que sigue docHeight funciona si le doy un valor fijo dentro de mi código completo pero cuando introduzco éstas condiciones docHeight aparece con un valor indefinido.
var docHeight=11000;
switch ($(".basic_unit").css("font-size")) {
case '2px' :
docHeight =11000;
break;
case '6px' :
docHeight = 32500;
break;
case '8px' :
docHeight = 48500;
break;
};
6420,ios,Estoy programando mi aplicación y estoy buscando la forma de llevar a cabo una acción cuando dejo pulsada una celda de la tabla. ¿Cómo podría hacerlo en Swift?
6444,c++,Hola tengo una matriz char inicializada de la siguiente manera:
#include <iostream>
using namespace std;
main(){
char matriz[6][5]={
{'F','H','V','D','U'},
{'E','L','Q','U','E'},
{'P','E','R','S','E'},
{'V','E','R','A','A'},
{'L','C','A','N','Z'},
{'A','Z','Z','Z','Z'}};
}
Y necesito transponer las columnas, ordenando alfabéticamente la primera fila, es decir, la fila que contiene {'F','H','V','D','U'}.
La matriz que necesito obtener es la siguiente:
char matriz[6][5]={
{'D','F','H','U','V'},
{'U','E','L','E','Q'},
{'S','P','E','E','R'},
{'A','V','E','A','R'},
{'N','L','C','Z','A'},
{'Z','A','Z','Z','Z'}};
He logrado ordenar alfabéticamente la primera fila únicamente, pero no logro como poder mover el resto de la columna para efectuar el ordenamiento como un solo bloque.
Actualizacion:
Ok finalmente logre poder trasponerla pero ahora por lo menos si la primera fila de la matriz tiene letras iguales, se ordenan alfabeticamente pero se transponen los valores de solamente una de las dos columnas. He aqui el codigo que tengo para trasponerlas.
for(int j=0;j<largo;j++){
for(int i=0;i<largo;i++){
if(textoB[0][j]==texto[0][i]&&textoB[0][j+1]==texto[0][i]){
texto[0][i]='*';
for(int k=1;k<fila;k++){
textoB[k][j]=texto[k][i];
}
}
else if(textoB[0][j]==texto[0][i])
for(int k=1;k<fila;k++){
textoB[k][j]=texto[k][i];
}
}
}
Siendo texto la matriz original desordenada y textoB la matriz original con primera fila ordenada alfabéticamente (desordenada en las demás espacios).
6450,javascript|jquery|html,Hola me gustaría poder hacer que el id="botonstop" parase la función desencadenada por el id="boton" que en este caso es un scroll automático. También me gustaría que pudiese ser compatible con que el scroll automático se activase nada más cargar la página.
$(document).ready(function() {
$("#boton").click(function(event){
$("html, body").animate({ scrollTop: '15000px' }, 10000);
});
});
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<a id="boton" href="#bottom" style="position:fixed;">start scrolling</a>
<a id="botonstop" href="#bottom" style="position:fixed; margin-top:30px;">stop scrolling</a>
<div id="relleno" style="height:15000px; width:500px; background:green;">
<h2 id="bottom">bottom of page</h2>
6458,c++,No sé cómo crear un atributo del tipo arreglo de struct. Les dejo mis codigos, me da este error:
En classAntena.h dice 'celulares' was not declared in this scope.
En classAntena.cpp dice 'Celulares' does not name a type.
classAntena.h
#ifndef CLASSANTENA_H_
#define CLASSANTENA_H_
class Antena{
private:
Celular celulares[100];
public:
void incrementarLlamadasRealizadas(int);
void incrementarLlamadasRecibidas(int);
void incrementarDuracionLlamadas(int,int);
void modificarInicioLlamada(int,int);
void modificarFinLlamada(int,int);
int devolverLlamadasRealizadas(int);
int devolverLlamadasRecibidas(int);
int devolverDuracionLlamadas(int);
int devolverNumeroCelular(int);
};
#endif /* CLASSANTENA_H_ */
classAntena.cpp
#include "classAntena.h"
struct Celular{
int numeroCelular;
int cantLlamadasRealizadas;
int cantLlamadasRecibidas;
int duracionLlamadas;
int inicioLlamada;
int finLlamada;
};
void Antena::incrementarLlamadasRealizadas(int posCel){
celulares[posCel].cantLlamadasRealizadas++;
}
void Antena::incrementarLlamadasRecibidas(int posCel){
celulares[posCel].cantLlamadasRecibidas++;
}
void Antena::incrementarDuracionLlamadas(int duracionLlamada, int posCel){
celulares[posCel].duracionLlamadas += duracionLlamada;
}
void Antena::modificarInicioLlamada(int comienzoDeLlamada, int posCel){
celulares[posCel].inicioLlamada = comienzoDeLlamada;
}
void Antena::modificarFinLlamada(int finDeLlamada, int posCel){
celulares[posCel].finLlamada = finDeLlamada;
int duracionLlamada = celulares[posCel].finLlamada - celulares[posCel].inicioLlamada;
incrementarDuracionLlamadas(duracionLlamada, posCel);
}
int Antena::devolverLlamadasRealizadas(int posCel){
return celulares[posCel].cantLlamadasRealizadas;
}
int Antena::devolverLlamadasRecibidas(int posCel){
return celulares[posCel].cantLlamadasRecibidas;
}
int Antena::devolverDuracionLlamadas(int posCel){
return celulares[posCel].duracionLlamadas;
}
int Antena::devolverNumeroCelular(int posCel){
return celulares[posCel].numeroCelular;
}
6466,c++,Quiero que la función "suma" de la clase B pueda acceder y modificar los valores de las variables "a, b" de la clase A, utilizando métodos/funciones amigas
#include <iostream>
using namespace std;
class A; // Declaración previa de la clase A
class B {
private:
int c;
public:
void suma(A numero);
};
class A {
private:
friend void B::suma(A numero); // Hacer amigo al método/función "suma" de la clase B
int a, b;
public:
A();
};
void B::suma(A numero) {
numero.a = 1;        // <-- No puedo acceder a estas variables
numero.b = 4;        // <-- No puedo acceder a estas variables
c = numero.a + numero.b; // <-- Esto es lo que quiero hacer
cout << c << endl;
}
main() {
B objeto;
objeto.suma();
}
6486,c++,Realizando un código en C++, al emplear el cout para mostrar por pantalla una serie de números "double" me salen como enteros (o sea, si es un 6, querría que saliese 6.00). Ya he probado con el setprecision, pero sigue sin funcionarme. Os dejo un ejemplo de código:
cout << setw(7) << " h" << ivb[i]-n+1 << " = " << setprecision(2) << b[i];
(ivb es entero, pero b es double).
6501,ios,Estoy haciendo un juego en Swift con SpriteKit, sucede que no me da la opción para guardar los datos con Core Data.
Lo estoy haciendo guardando los datos en un archivo, pero como son muchos datos mi arreglo es así: [String : [[String:Any]] ] y me lanza el error:
Cast from 'NSArray?' to unrelated type '[String : [[String:Any]] ]' always fails
Incluso si achico el arreglo a algo como esto: [[String:Any]] me lanza el mismo error.
Por lo tanto quiero ver si es que puedo guardar los datos en CoreData (aunque nunca lo he utilizado, solo vi un tutorial) y si es así , que alguien me pueda guiar para ver como hacerlo.
Mil gracias
6571,html,Estoy tratando de averiguar cómo eliminar los márgenes que aparecen por arriba y por abajo de mi texto en el ejemplo, sin embargo solo con css no encuentro soluciones.
body {
margin=0;
padding=0;
}
.paco {
background: black;
color: white;
display: inline-block;
padding-top: 0px;
padding-bottom: 0px;
}
<div class=paco>AGITA PACO</div>
6575,html,Estoy teniendo problemas con (creo yo) Chrome, cuando renderiza ciertos elementos.
Estoy usando casi nada de js, en realidad solo cree las variables globales y el prevent.default para las anclas y de resto, uso css puro.
Apenas estoy empezando a maquetar, pero cuando hago scroll los elementos que se suponen estan posicionados en fixed, desaparecen de la vista o presentan como errores de render, no se que puede ser, intente con z-index, pero nada, empiezo a creer que es por utilizar medidas vw o flexbox, pero pienso que puede ser otra cosa, algún erro mio, bien tonto.
Otra cosa, en internet explorer parece funcionar perfectamente, este es el pen, para revisar más a fondo el código: http://codepen.io/g3kdigital/pen/QNMdBW
Realmente no se que puede ser, aún creo que lo puedo solucionar por mi cuenta, pero sí alguien más me puede dar una mano, les agradecería mucho. Estoy usando la ultima vr de chrome, la 49.
6635,c++,Necesito declarar un arreglo cuyo tamaño sea indicado por el usuario, ¿Cómo puedo realizarlo?
Actualmente tengo el siguiente código pero da error.
int t;
printf("Ingrese el tamaño del arreglo: %d", t);
scanf("%i", &t);
6671,c++,¿Cómo puedo hacer para que el ciclo termine hasta cierto numero de intentos? Y que el computador pregunte si quiero volver a jugar o no.
#include <iostream>
#include <conio.h>
using namespace std;
int main()
{
int num, guess, tries=0;
cout<<"\t Wellcome to 'Guess the number'! ";
cout<<"\n\n I'm thinking of a number between 1 and 100. Try to guess it.";
num = rand() % 100 + 1;
do
{
cout<<"\n\n Take a guess: "; cin>>guess;
tries++;
if (guess == num)
{
cout<<"\n Well done, you guessed it!";
cout<<"\n You guessed it in "<<tries<<" tries.";
}
else if (guess < num)
{
cout<<" Your guess is too low...\n";
}
else if (guess > num)
{
cout<<" Your guess is too high...\n";
}
else if (tries == 5)
{
cout<<"\n Sorry you reached the maximum number of tries.";
cout<<"\n Game over";
}
} while (guess != num);
getch();
}
6826,ios,¿Hay forma de saber el tiempo estimado entre 2 CLLocations y que en ese cálculo se tenga en cuenta el tráfico?
6842,c++,En una tarea me exigen que implemente una función de la forma B** f(string, int&); (prototipo inmodificable) en donde el valor de retorno (según entiendo) es un puntero a un arreglo de punteros de tipo B.
El caso es que quiero generar, a partir de un arreglo estático de elementos de un tipo A, un arreglo estático de elementos de un tipo B**, el cual voy a retornar al final de la función para luego (desde otra función) recorrerlo y mostrar sus elementos.
No tengo problema en obtener los elementos del tipo A, pero desconozco como generar el arreglo de tipo B** con dicha información.
Abajo detallo lo que quiero hacer (compila pero se rompe):
A.hpp
#ifndef A_HPP
#define A_HPP
class A {
public:
char get();
void set(char);
private:
char a;
};
#endif
B.hpp
#ifndef B_HPP
#define B_HPP
class B {
public:
char get();
void set(char);
private:
char b;
};
#endif
X.hpp
#ifndef X_HPP
#define X_HPP
#define M 2
#include "A.hpp"
#include "B.hpp"
#include <iostream>
using namespace std;
class X {
public:
A arA[M];
B *arB[M];
B **f(string s, int &n);
};
#endif
A.cpp
#include "A.hpp"
char A::get() {
return a;
}
void A::set(char c) {
this->a=c;
}
B.cpp
#include "B.hpp"
char B::get() {
return b;
}
void B::set(char c) {
this->b=c;
}
X.cpp
#include "X.hpp"
B ** X::f(string s, int &n) {
int i;
char a=arA[i].get();
arB[i]->set(a);
return arB;
}
main.cpp
#include "A.hpp"
#include "X.hpp"
#include "B.hpp"
#include <cstdlib>
int main(int argc, char** argv) {
A a;
X x;
B**b;
string s="";
int n=1;
a.set('A');
b=x.f(s,n);
cout<<b[0]->get()<<endl;
return 0;
}
6857,c++,Tengo un problema con una función que el catedrático nos dio, esta él la realizó pero al momento de compilarla en Borland me muestra el error "Cannot convert 'int' to 'NodoAvl', siendo NodoAvl el nombre del struct. Adjunto el código de la función.
función:
NodoAvl* InsertarAvl(NodoAvl *raiz, int dato, bool &hc){
NodoAvl *n1=NULL;<br>
if (raiz == NULL){
raiz = new NodoAvl (dato);  **Error cannont convert 'int' to 'strcut'**
hc = true;
}else{
if (dato < raiz->Info){
NodoAvl *iz;
iz = InsertarAvl(raiz->Izq, dato, hc);
raiz->Izq=iz;
// regreso por los nodos del camino de búsqueda
if (hc){ // siempre se comprueba si creció en altura                      // decrementa el FE por aumentar la altura de rama izquierda
switch (raiz->FE){
case 1: // tenía +1 y creció su izquierda
raiz->FE=0;
hc = false; // árbol deja de crecer
break;
case 0: // tenía 0 y creció su izquierda
raiz->FE=-1; //árbol sigue creciendo
break;
case -1: //aplicar rotación a la izquierda
n1 = raiz->Izq;
if (n1->FE == -1)
raiz = RotacionII(raiz, n1);
else
raiz = RotacionID(raiz, n1);
hc = false;
}
}
}else{
if (dato > raiz->Info){
NodoAvl *dr;
dr = InsertarAvl(raiz->Der, dato, hc);
raiz->Der = dr;
// regreso por los nodos del camino de búsqueda
if (hc){ // siempre se comprueba si creció en altura
//incrementa el FE por aumentar la altura de rama izquierda
switch (raiz->FE){
case 1: // aplicar rotación a la derecha
n1 = raiz->Der;
if (n1->FE == 1)
raiz = RotacionDD(raiz, n1);
else
raiz = RotacionDI(raiz,n1);
hc = false;
break;
case 0: // tenía 0 y creció su derecha
raiz->FE = 1; // árbol sigue creciendo
break;
case -1: // tenía -1 y creció su derecha
raiz->FE = 0;
hc = false; // árbol deja de crecer
}
}
}else
throw "No puede haber claves repetidas " ;
}
}
return raiz;
}
6909,c++,Tengo un programa en c++ en el cual quiero manejar el método de ordenamiento InsertSort.
Pido los datos con un case en el archivo main.cpp para después en el archivo Lista.cpp poder indicarle donde insertarlo, en este caso tengo el insertaInicio.
case 1:
cout << "Codigo: ";
cin >> codigoDistribuidora;
nuevo.guardaNombre(codigoDistribuidora);
cout << "Nombre: ";
cin.ignore();
getline(cin, nombreDistribuidora);
nuevo.guardaNombre(nombreDistribuidora);
cout << "Domicilio: ";
getline(cin, domicilioDistribuidora);
nuevo.guardaNombre(domicilioDistribuidora);
cout << "Telefono: ";
cin >> telefonoDistribuidora;
nuevo.guardaNombre(telefonoDistribuidora);
cout << "Nombre del gerente: ";
cin.ignore();
getline(cin, nombreGerente);
nuevo.guardaNombre(nombreGerente);
l.insertaInicio(nuevo);
break;
y el inserta inicio es este:
void Lista::insertaInicio(Distribuidora dato) {
Nodo *tmp = new Nodo;
Nodo *aux = inicio;
tmp->guardaObjeto(dato);
tmp->guardaNodoSig(NULL);
bool nada = vacia();
if (nada) {
inicio = tmp;
}
else {
tmp->sig = aux;
inicio = tmp;
}
string nombreDistribuidora = dato.damenombreDistribuidora();
string codigoDistribuidora = dato.damecodigoDistribuidora();
cout << "Has agregado la Distruibuidora con el nombre: '" << nombreDistribuidora << "' y codigo '" << codigoDistribuidora << "'" << endl;
}
Como seria una forma de usar InsertSort y que los vaya ordenando al momento de que los vas insertando. Espero me de a entender gracias.
6988,c++,/*Sólo puedo utilizar funciones de tipo void
No puedo utilizar variables globales*/
#include<iostream>
using namespace std;
void suma(int num);
main(){
int a, b;
int num1 = 0, num2 = 0, num3;
cout << "Ingresa numero a: ";
cin >> a;
suma(a);
//num1 = resultado de la función suma <------------------------- ¿Cómo hago eso?
cout << "Ingresa numero b: ";
cin >> b;
suma(b);
//num2 = resultado de la función suma <------------------------- ¿Cómo hago eso?
num3 = num1 + num2;
cout << num3 << endl;
}
void suma(int num){
int resultado = num + 10;
}
7134,c++,Determinar el número de elementos entre el primer y último elemento cero, es decir entre el primer cero y el último cero en la matriz con memoria dinámica.
El siguiente código corre sin error, pero el resultado no es correcto.
#include <iostream>
#include <ctime>
#include <cstdlib>
#include <conio.h>
using namespace std;
int main()
{
int r,c, i, j, count=0;
cout<<"\n Input number of rows: "; cin>>r;
cout<<" Input number of columns: "; cin>>c;
srand(time(NULL));
int **m = new int* [r];
for (int i=0; i<r; i++) {
m[i] = new int[c];  }
for (i=0; i<r; i++) {
m[i] = new int[c];
for (j=0; j<c; j++)  {
m[i][j] = rand()%200-100; cout<<m[i][j]<<"\t";  }
cout<<endl;  }
cout<<endl;
for (i=0; i<r; i++) {
for (j=0; j<c; j++)  {
if (m[i][j]==0)
break;
else
count++;
if (j!=c)
break;   }  }
if (i!=r && j!=c) {
for (i=r-1; i>=0; i--)  {
for (j=c-1; j>=0; j--)  {
if (m[i][j]==0)
break;
else
count++;
if (j!=c)
break;    }   }  }
cout<<"\n Total of elements between the first and last zero element: " <<r*c-count<<endl;
delete []m;
_getch();
}
7395,c++,Me pregunto si en C/C++ es mejor declarar un nuevo array a cada vuelta de los bucles:
while(true) {
char array[255] = "";
// Hacer algo con el array ...
}
O vaciarlo a cada vuelta del mismo:
char array[255] = "";
while(true) {
for(short i = 0; i < sizeof(array); i++) {
array[i] = 0;
}
// Hacer algo con el array...
}
Por mejor me refiero tanto desde una perspectiva de rendimiento (velocidad) como de buenas prácticas.
7521,java|c++,Quería saber cómo hacer mediante clases de objetos un programa en C++ o en java que sea capaz de implementar las siguientes funciones:
string pwd(): devuelve la ruta completa desde la raíz en el mismo formato que Unix.
void ls(): muestra por pantalla cada archivo, directorio o enlace del directorio actual, uno en cada línea.
void cd(string path): cambia la ruta a otro directorio, puede ser al directorio padre (path=".."), al directorio actual (path="."), a un directorio desde la raíz (path="/....") o a un subdirectorio del directorio actual.
void stat(string elemento): muestra por pantalla el tamaño del archivo, directorio o enlace que se le pasa como parámetro, también se puede pasar una ruta a otro elemento de otro directorio.
void vim(string file, int tamanyo): cambia el tamaña de un archivo dentro de la ruta actual únicamente, si no existe lo crea nuevo.
void mkdir(string directorio): crea un directorio dentro de la ruta actual únicamente.
void ln(string origen, string destino): crea un enlace de nombre "destino" que enlaza al elemento origen, "destino" no puede ser una ruta completa pero "origen" sí, es decir el elemento "origen" puede estar en otro directorio.
void rm(string elemento): elimina un elemento dentro de la ruta actual o se le puede pasar una ruta completa, si es un archivo lo elimina directamente, si es un enlace, elimina el enlace pero no lo enlazado, y si es un directorio elimina el directorio con todo su contenido.
Debe haber 4 clases distintas: Directorio, Archivo, Enlace y Ruta (el constructor será un directorio que actuará de raíz).
Todas las operaciones anteriores se usan sobre la clase Ruta.
El archivo principal ya lo tengo hecho tanto en c++ como en java, sólo faltaría la implementación de las clases, aquí adjunto ambos.
C++:
#include <string>
#include <vector>
#include <iostream>
#include <sstream>
#include "ruta.h"
using namespace std;
int main()
{
Directorio raiz("");
Ruta ruta(raiz);
for (bool done=false; !done; )
{
string         line,arg;
vector<string> cmd;
cout << "~> " << flush;
getline(cin,line);
istringstream iss(line);
while(getline(iss,arg,' ')) cmd.push_back(arg);
if (cin.eof())
{
done = true;
continue;
}
if (cmd.size()<1)
continue;
try
{
if (cmd[0]=="pwd")
{
cout << ruta.pwd() << endl;
}
if (cmd[0]=="ls")
{
ruta.ls();
}
if (cmd[0]=="cd")
{
ruta.cd(cmd.at(1));
}
if (cmd[0]=="stat")
{
if (cmd.size()>1)
ruta.stat(cmd.at(1));
else
ruta.stat(".");
}
if (cmd[0]=="vim")
{
ruta.vim(cmd.at(1),atoi(cmd.at(2).c_str()));
}
if (cmd[0]=="mkdir")
{
ruta.mkdir(cmd.at(1));
}
if (cmd[0]=="ln")
{
ruta.ln(cmd.at(1),cmd.at(2));
}
if (cmd[0]=="rm")
{
ruta.rm(cmd.at(1));
}
if (cmd[0]=="exit")
{
done = true;
}
}
catch (arbol_ficheros_error& e)
{
cerr << e.what() << endl;
}
catch (out_of_range& e)
{
cerr << e.what() << endl;
}
}
cout << endl;
return 0;
}
Java:
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
class Main {
public static void main(String[] args) {
Directorio raiz;
Ruta ruta;
try {
raiz = new Directorio("");
ruta = new Ruta(raiz);
} catch (ExcepcionArbolFicheros e) { return; }
BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
boolean end = false;
while (!end)
{
System.out.print(ruta.pwd()+"> ");
try {
String[] argv = br.readLine().split(" ");
if (argv[0].equals("pwd")) {
System.out.println(ruta.pwd());
} else if (argv[0].equals("ls")) {
ruta.ls();
} else if (argv[0].equals("cd")) {
ruta.cd(argv[1]);
} else if (argv[0].equals("stat")) {
if (argv.length > 1) ruta.stat(argv[1]);
else ruta.stat(".");
} else if (argv[0].equals("vim")) {
ruta.vim(argv[1], Integer.parseInt(argv[2]));
} else if (argv[0].equals("mkdir")) {
ruta.mkdir(argv[1]);
} else if (argv[0].equals("ln")) {
ruta.ln(argv[1],argv[2]);
} else if (argv[0].equals("rm")) {
ruta.rm(argv[1]);
} else if (argv[0].equals("exit")) {
end = true;
} else {
System.out.println("Comando desconocido");
}
} catch(ExcepcionArbolFicheros e) {
System.out.println(e);
} catch(IOException e) {
System.out.println("Error de entrada-salida");
} catch (java.lang.ArrayIndexOutOfBoundsException e) {
System.out.println("Error sintactico: parametros insuficientes");
}
}
}
};
7563,c++,Estoy agregando nodos a una lista enlazada simple, los nodos guardan dos valores double.
Cuando depuro el programa en Code::Blocks me sale un error que dice:
"Program received signal SIGSEGV, Segmentation fault."
Luego me avisa en qué sección del código ha detectado el problema, es cuando intento llamar a una función que agrega un nodo desde otra que indica cuántas veces debe hacerlo.
El depurador muestra el error dos veces y luego dice que el programa se cayó.
Este error no impide que corra el programa, pero creo que está causando que algunas cosas posteriores no funcionen como deberían. ¿Cómo podría arreglarlo?
He seguido la recomendación de quitar un puntero como variable global, además de cuidar detalles para evitar que sea nulo, el error perdura, el código va así ahora:
En el main las líneas importantes son las siguientes:
Nodo *cls_val;
Nodo *n0 = new Nodo;
cls_val = n0;
n0->info = "Inicio de la lista";
Rangos(cls_val);
La función Rangoses así:
void Rangos(Nodo *cb)
{
double mini = 1;
for(int i = 0; i < clss; i++)
{
cb = Agr_Rango(mini, mini+anch, cb);
cb = cb->sig;
mini += anch;
}
}
Finalmente, la famosa Agr_Rangos donde está la línea conflictiva:
Nodo* Agr_Rango(double mnm, double mxm, Nodo *cab)
{
Nodo *ni, *ptr;
ni = new Nodo;
ni->mn = mnm;
ni->mx = mxm;
ptr = cab;
if(ptr == NULL)
{
cab = ni;
}
else
{
while(ptr->sig != NULL) //Aquí señala el problema.
ptr = ptr->sig;
ptr->sig = ni;
}
return ptr;
}
7620,c++,Estoy llenando un formulario con validaciones y hay un campo que me pide promedio, y una de las reglas para validarlo es que solo contenga un punto decimal.
Ejemplo:
Si el usuario teclea 2..2, que vuelva a preguntar el promedio.
¿Alguien tiene una idea de como hacerlo?
Gracias. :D
Tengo este código, pero me elimina todos los repetidos, yo solo quiero que elimine el punto '.'
#include <stdio.h>
#include <string.h>
int main()
{
char resultado[27]="";
char palabra[50];
int i=0,j=0;
printf("Ingresa una frase!\n");scanf("%s",palabra);
while(palabra[i])
{
if(!strchr(resultado,palabra[i]))
resultado[j++]=palabra[i];
i++;
}
resultado[j]='\0';
printf("\nEl resultado seria!\n%s",resultado);
getchar();
return(0);
}
7643,c++,No he encontrado modo de tener acceso al array que está dentro de mi clase heredada. ¿Me podrían ayudar a obtener acceso al array?¿Cómo podría hacerse?
class FacultadMecanica:public Universidad
{
private:
public:
void CarrerasFacultadMecanica(){
string *Carreras;
Carreras=new string[2];
Carreras[0]="Ing.Quimica";
Carreras[1]="Ing.Mecanica";
Carreras[2]="Ing.Electrica";
}
};
Edit:
Gracias por hacerme caer en cuenta los errores que cometi :)
Aqui dejo el codigo mas completo,desde main intento obtener los valores del array pero da error en las lineas indicadas.
// Example program
#include <iostream>
#include <string>
using namespace std;
class Persona
{
private:
public:
void CarrerasArry(){string *Carreras;Carreras=new string[2];Carreras[0]="Ing.Quimica";Carreras[1]="Ing.Mecanica";}
};
int main()
{
Persona Datos;
//En las dos lienas siguientes da erro :
cout<<Datos.Carreras[0]<<endl;
cout<<Carreras[0]<<endl;
}
7680,android|ios,tengo un iphone 6s y estoy desarrollando una app en Android Studio. Queria saber si hay alguna manera de poder emular la aplicacion android en el iphone con un virtualBox o algo asi.
Gracias.
7780,c++,Hola tengo el siguiente problema. Tengo muchas funciones que realizan distintas operaciones, por lo tanto quise agrupar este compartamiento con una interface(clase abstracta) del tipo Evaluable
Ahora como cada función devuelve algo distinto pensé colocar algo del estilo.
+evaluar():void*
Pero no me parece lo más lindo, entonces implementé lo siguiente:
Evaluable.h
template <class T>
class Evaluable{
public:
Evaluable();
virtual ~Evaluable();
virtual T evaluar()=0;
};
Evaluable.c
template <typename T>
Evaluable<T>::Evaluable(){}
Por lo tanto una clase derivada sería algo de este estilo.
Numb.h
class Number:public Evaluable<int>{
int numero;
public:
Number(std::string cadena);
~Number();
int evaluar();
};
Pero me tira error:
Number.cpp:6: referencia a `Evaluable<int>::Evaluable()' sin definir
Number.cpp:15: referencia a `Evaluable<int>::~Evaluable()' sin definir
Lo que quiero es tener la posibilidad de que tener una listas de Evaluables y llamar a cada uno con evaluar()
7809,c++,cuando creo un hello world me funciona pero si pego un bloque de codigo de otro sitio me sale ese error .
https://youtu.be/zu9DMuVC1ew
este es mi código:
#include <iostream> #include <cstring> using namespace std; struct Node{ char *name; int age; Node(char *n = "", int a = 0){ name = new char[strlen(n) + 1]; strcpy(name, n); age = a; } }; Node node1("Roger", 20), node2(node1); cout << node1.name << ' ' << node1.age << ' ' << node2.name << ' ' << node2.age; strcpy(node2.name, "Wendy"); node2.name = 30; cout << node1.name << ' ' << node1.age << ' ' << node2.name << ' ' << node2.age;
y este el error en consola:
20:13:22 **** Incremental Build of configuration Debug for project gfr ****
Info: Internal Builder is used for build
g++ -O0 -g3 -Wall -c -fmessage-length=0 -o "src\\gfr.o" "..\\src\\gfr.cpp"
..\src\gfr.cpp:1:21: warning: extra tokens at end of #include directive
#include <iostream> #include <cstring> using namespace std; struct Node{ char *name; int age; Node(char *n = "", int a = 0){ name = new char[strlen(n) + 1]; strcpy(name, n); age = a; } }; Node node1("Roger", 20), node2(node1); cout << node1.name << ' ' << node1.age << ' ' << node2.name << ' ' << node2.age; strcpy(node2.name, "Wendy"); node2.name = 30; cout << node1.name << ' ' << node1.age << ' ' << node2.name << ' ' << node2.age;
^
g++ -o gfr.exe "src\\gfr.o"
c:/mingw/bin/../lib/gcc/mingw32/4.9.3/../../../libmingw32.a(main.o):(.text.startup+0xa7): undefined reference to `WinMain@16'
collect2.exe: error: ld returned 1 exit status
20:13:26 Build Finished (took 4s.313ms)
7840,c++,cuando compilo el hello world de ejemplo que trae eclipse me compila bien
pero si lo creo desde cero en otro proyecto  me este error
11:42:22 **** Rebuild of configuration Debug for project hello 2 ****
Info: Internal Builder is used for build
g++ -O0 -g3 -Wall -c -fmessage-length=0 -o "src\\hello 2.o" "..\\src\\hello 2.cpp"
g++ -o "hello 2.exe" "src\\hello 2.o"
c:/mingw/bin/../lib/gcc/mingw32/4.9.3/../../../libmingw32.a(main.o):(.text.startup+0xa7): undefined reference to `WinMain@16'
collect2.exe: error: ld returned 1 exit status
11:42:23 Build Finished (took 422ms)
7843,c++,Estoy intentando entender estas funciones:
peek
putback
ignore
get
getline
Lo busque en el libro de C++ de Deitel & Deitel pero no le entendi a la informacion que me proporciono.
7889,c++,Tengo el siguiente código php:
$pdf="pdf3";
$xml="xml3";
$arreglo="arreglo3";
$clases=array('Validacion1','Validacion2');
$validaciones=array();
foreach ($clases as $nombre_clase){
include_once($nombre_clase.'.php');
if(class_exists($nombre_clase,false)) {
$objetoValidacion = new $nombre_clase($pdf,$xml,$arreglo);
$validaciones[$nombre_clase]=$objetoValidacion;
}
}
y tengo eso mismo en java:
String pdf="pdf",xml="xml";
String []arreglo={"arreglo"};
String []clases={"com.Validacion1","com.Validacion2"};
Map<String,ValidacionGenerica> validaciones=new HashMap<String,ValidacionGenerica>();
for (int i = 0; i < clases.length; i++) {
try {
Class<?> clase=Class.forName(clases[i]);
Constructor<?> ctor=clase.getConstructor(String.class,String.class,String[].class);
Object objetoValidacion=ctor.newInstance(pdf,xml,arreglo);
validaciones.put(clases[i],(ValidacionGenerica)objetoValidacion);
} catch (Exception e) {
e.printStackTrace();
}
}
Mi pregunta es ¿Como puedo hacer esto mismo en Qt Creator c++? Es decir crear objetos a partir del nombre de la clase y pasando 3 argumentos al constructor.
Con esto ya podre agregarlos al arreglo(php) o mapa (java). Tengo entendido que se usa la clase QMetaType pero la documentación que encontré no me ayuda mucho con el paso de parámetros al constructor o no le entiendo.
Este es mi código pero tengo errores:
//main.cpp
#include <iostream>
#include <validaciongenerica.h>
#include <validacion1.h>
#include <validacion2.h>
#include <string>
#include <map>
#include <QMetaType>
using namespace std;
typedef pair<string, ValidacionGenerica> nombre_valor;
int main()
{
string clases[]={"Validacion1","Validacion2"};
int tamano_clases = sizeof(clases)/sizeof(clases[0]);
map<string,ValidacionGenerica>  validaciones();
for (int i = 0; i < tamano_clases ; i++) {
int id = QMetaType::type(clases[i]);//error 1
if (id != 0) {
ValidacionGenerica *myClassPtr = QMetaType::construct(id);//error 2
validaciones().insert(nombre_valor(clases[i],*myClassPtr));
}
}
}
Este es uno:
no matching function for call to 'QMetaType::type(std::string&)'
int id = QMetaType::type(clases[i]);
^
y este el otro:
cannot call member function 'void* QMetaType::construct(void*, const void*) const' without object
ValidacionGenerica *myClassPtr = QMetaType::construct(id);
^
8004,ios,Necesito mostrar en swift alertas rápidas como las de la app de música.
Como se llama este tipo de vista?
Gracias!
8070,android|ios,¿las aplicaciones desarrolladas en Phonegap sirven tanto para móviles (Android, iOS ) como para navegadores web (Firefox, Chrome, iExplore, etc)?.
para no tener código para móviles y para escritorio independientes.
8129,c++,Hola Buenos Dias a todos.
Quiero asignar un nuevo tipo de dato de un array, por ejemplo :
Quiero que mi Array sea de tipo Persona, pero me lanza un error, lo he intentado de distintas formas. ¿No se si esto se pueda realizar?
Una de la formas empleadas:
#include <cstdlib>
#include <iostream>
using namespace std;
class Gente
{
private:
public:
string Nombre;
};
int main()
{
Gente[] array = new Gente[2];
array[0].Nombre="Juan";
array[1].Nombre="Pedro";
system("PAUSE");
}
Error:
8160,ios,Tengo una app bastante sencilla desarrollada en swift. Cuando genero el fichero para subir al itunesconnect me genera un archivo de 104MB. Otras app en ObjC subidas ocupaban unos 4 ó 5 MB.
Para generar el archivo primero hago un Product->Clean y después un Product->Archive, no tengo imagenes ni nada que puede hacer que ocupe tanto.
ItunnesConnect me deja subir pero me da un warning
¿Alguien sabe cual puede ser el motivo? ¿Debería ser así? ¿Alguna opción de compilación?
8172,c++,No puedo imprimir la propiedad nivel de la estructura deportes porque falla o imprime caracteres raros, intente sumando la variable a la cadena, también  con (string)d[i].nivel.
Otro problema es que no me funciona to_string me aparece como si no estuviera declarada, pero si estoy utilizando la libreria string.
Trabajo en linux con g++
#include <iostream>
#include <vector>
#include <string>
using namespace std;
const int CERO = 0;
struct deportes{
string nombre;
string descripcion;
int nivel;
deportes(){
nombre = "";
descripcion = "";
nivel = 0;
}
};
void imprima(string str){
cout<< str << endl;
}
int main(void){
int tamano = CERO;
imprima("favor ingrese cuantos deportes va guardar");
cin>> tamano;
vector<deportes> d (tamano);
for (int i = CERO; i < d.size(); ++i)
{
imprima("ingrese el nombre del deporte");
cin>> d[i].nombre;
imprima("ingrese la descripcion del deporte");
cin>> d[i].descripcion;
imprima("ingrese el nivel del deporte");
cin>> d[i].nivel;
}
for (int i = CERO; i < d.size(); ++i)
{
imprima("esta es la informacion del su deporte:");
imprima("nombre:\t" + d[i].nombre);
imprima("descripcion:\t" + d[i].descripcion);
imprima("nivel");
imprima(d[i].nivel);
}
}
8255,ios,La pantalla de inicio (splash) de la aplicación en iOs, siempre lo muestra negra. Tengo configurado en el proyecto:
Targets/General/App Icons and Launch Images/launch Screen File.
Pero al ejecutar, siempre la pantalla es negra.
8363,c++,Amigos quien sabe como puedo organizar un fichero de acceso secuencial por nombre?
8371,c++,#include <iostream>
#include <conio>
#include <stdio>
#include <fstream>
#include <stdlib>
#include <stdlib>
void ingreso();
void buscar();
void modificaciones();
void salir();
void menu();
char nom[30]; ape[30];
int dpi=0, auxdpi=0, edad=0, tel=0;
bool encontrado=false;
int main(){
menu();
return 0;
system("PAUSE");
}
void menu(){
int op=0
do
{
cout<<"Registro de Personas";
cout<<"\n====================";
cout<<"\n1. Ingreso\n";
cout<<"2. Busqueda\n";
cout<<"3. Modificaciones\n";
cout<<"4. Salir\n";
cout<<"Ingrese la opcion que desea: "; cin>>op;
switch(op)
{
case 1:
ingreso();
break;
case 2:
buscar();
break;
case 3:
modificaciones();
break;
case 4:
salir();
break;
default:
cout<<"\nOpcion Incorrecta";
}
while(op!=4);
getch();
clrscr();
}
void ingreso();
{
ofstream escritura;
ifstream consulta;
bool repetido=false;
escritura.open("registro.txt", ios::out|ios::app);
consulta.open("registro.txt", ios::in);
if(!escritura.fail()&&!consulta.fail())
{
cout<<"Ingrese su DPI: "; cin>>auxdpi;
consulta>>dpi;
while(!consulta.eof())
{
consulta>>nom>>ape>>tel>>edad;
if(dpi==auxdpi)
{
cout<<"\nYa existe un registro con DPI: "<<auxdpi;
repetido=true;
break;
}
consulta>>dpi;
}
if(repetido==false)
{
cout<<"\nIngrese su nombre: "; cin>>nom;
cout<<"\nIngrese su apellido: "; cin>>ape;
cout<<"\nIngrese su telefono: "; cin>>tel;
cout<<"\nIngrese su edad: "; cin>>edad;
escritura<<auxdpi<<" "<<nom<<" "<<ape<<" "<<tel<<" "<<edad<<endl;
cout<<"\nRegistro agregado"<<endl;
}
else
{
cout<<"Error, el archivo no se pudo abrir o no fue creado"<<endl;
}
escritura.close();
consulta.close();
getch();
clrscr();
}
}
void busqueda()
{
cout<<"Mantenimiento";
getch();
clrscr();
}
void modificaciones()
{
cout<<"Mantenimiento";
getch();
clrscr();
}
void salir();
{
cout<<"Programa Finalizado"<<endl;
exit(0);
}
8471,ios,Tengo un proyecto en XCODE generado con Unity 5.3.4. El problema es que se al ejecutarlo en un iPad2 se cierra al instante. Al ejecutarlo en mi iphone 5 funciona bien. Ambos dispositivos tienen iOS 9.2.
Adjunto el log que me reporta en el iPad2:
2016-04-25 16:31:43.619 catalogo[1316:49656] -> registered mono modules 0xdcf090
2016-04-25 16:31:44.019 catalogo[1316:49656] You've implemented -[<UIApplicationDelegate> application:didReceiveRemoteNotification:fetchCompletionHandler:], but you still need to add "remote-notification" to the list of your supported UIBackgroundModes in your Info.plist.
-> applicationDidFinishLaunching()
-> applicationDidBecomeActive()
Renderer: PowerVR SGX 543
Vendor:   Imagination Technologies
Version:  OpenGL ES 2.0 IMGSGX543-124.1
GLES:     2
GL_OES_depth_texture GL_OES_depth24 GL_OES_element_index_uint GL_OES_fbo_render_mipmap GL_OES_mapbuffer GL_OES_packed_depth_stencil GL_OES_rgb8_rgba8 GL_OES_standard_derivatives GL_OES_texture_float GL_OES_texture_half_float GL_OES_texture_half_float_linear GL_OES_vertex_array_object GL_EXT_blend_minmax GL_EXT_color_buffer_half_float GL_EXT_debug_label GL_EXT_debug_marker GL_EXT_discard_framebuffer GL_EXT_draw_instanced GL_EXT_instanced_arrays GL_EXT_map_buffer_range GL_EXT_occlusion_query_boolean GL_EXT_pvrtc_sRGB GL_EXT_read_format_bgra GL_EXT_separate_shader_objects GL_EXT_shader_framebuffer_fetch GL_EXT_shader_texture_lod GL_EXT_shadow_samplers GL_EXT_sRGB GL_EXT_texture_filter_anisotropic GL_EXT_texture_rg GL_EXT_texture_storage GL_APPLE_clip_distance GL_APPLE_color_buffer_packed_float GL_APPLE_copy_texture_levels GL_APPLE_framebuffer_multisample GL_APPLE_rgb_422 GL_APPLE_sync GL_APPLE_texture_format_BGRA8888 GL_APPLE_texture_max_level GL_APPLE_texture_packed_float GL_IMG_read_format GL_IMG_texture_comp
ression_pvrtc
OPENGL LOG: Creating OpenGL ES 2.0 graphics device
Initialize engine version: 5.3.4f1 (fdbb5133b820)
8582,ios,Estoy haciendo una aplicación para IOS, uso Swift, y necesito hacer un botón que esté en la parte inferior de la pantalla encima de un TableView(como el que tiene Wallapop para subir un nuevo producto).
No encuentro nada que me pueda ayudar a hacerlo, si alguien puede decirme alguna manera de hacerlo o pasarme algún tutorial estaré muy agradecido.
8616,c++,¿Es una mala practica la que realizo en este programa mezclando variables / constantes de tipo int con otras de tipo double? ¿Deberia declararlas todas como double y no hacer tanto cast?
Gracias.
#include <iostream>
using std::cout;
using std::cin;
using std::fixed;
int main() {
int horas; // Total de horas trabajadas
double tarifa; // Sueldo por hora
const int horasMax = 40; // A partir de cuantas horas se facturara como hora extra y se aplicara la tarifa especial "excedente"
const double excedente = 1.5; // Precio de la hora extra
cout << "Introduzca las horas trabajadas (-1 para salir): ";
cin >> horas;
cout.precision(2);
while(horas != -1) {
cout << "Introduzca la tarifa por hora del empleado ($00.00): ";
cin >> tarifa;
if(horas <= horasMax)
cout << "El salario es: " << fixed << static_cast<double>(horas) * tarifa << "\n";
else
cout << "El salario es: " << fixed << (static_cast<double>(horas - horasMax) * (tarifa * excedente)) + (static_cast<double>(horasMax) * tarifa) << "\n";
cout << "Introduzca las horas trabajadas (-1 para salir): ";
cin >> horas;
}
return 0;
}
8695,c++,Tengo cierta tarea con C++ donde necesito trabajar con strings y tengo el siguiente codigo:
#include <iostream>
#include <stdlib.h>
#include <stdio.h>
#include <string>
using namespace std;
int main()
{
cout << "Ingrese el mensaje: ";
string Msg; cin >> Msg;
size_t Size = Msg.size();
cout << Size << endl;
}
Al compilar y ejecutar el codigo, no pasa ningún problema si asigno el valor directamente.
Msg = "Hola Mundo";
Size = Msg.size(); // El valor de size es correctamente 10
Msg = "312 123";
Size = Msg.size(); // El valor de size es 7.
El problema ocurre cuando asigno el valor a la variable Msg usando cin:
cin >> Msg; // Asumiremos que Msg tiene un valor: "123 321"
Size = Msg.size(); // Size es igual a 3
¿A qué se debe esto, no está Size supuesto a ser 7, si el mensaje introducido por teclado fuera "123 321" ?
EDIT: Lo mismo pasa con la función length().
8798,ios,Estoy trabajando con TableViewControllers y en mi primer TableView he decidido que me aparezca una imagen que me ocupe todo el largo y ancho de la pantalla de  tal manera que no se vea lo que hay detras si no hasta que la imagen desaparezca (Esta parte ya esta lograda). Lo estoy haciendo de la siguiente manera:
override func viewDidLoad() {
super.viewDidLoad()
let nav = self.navigationController?.navigationBar
nav!.hidden = true
let bounds = UIScreen.mainScreen().bounds
let screenHeight = bounds.size.height
let screenWidth = bounds.size.width
let dynamicImage=UIImageView(frame: CGRectMake(0, 0, screenWidth, screenHeight))
dynamicImage.backgroundColor=UIColor.greenColor()
self.view.addSubview(dynamicImage)
UIView.animateWithDuration(0.2, delay: 10.0, options: [] , animations: {() -> Void in
dynamicImage.alpha = 0.0
}, completion: {(true) -> Void in
dynamicImage.removeFromSuperview()
nav!.hidden = false
})
El caso es que la pantalla me queda asi:
y no me ocupa todo el alto de la pantalla, puesto que aun se ve la barra superior, ademas de que si toco la pantalla y deslizo hacia arriba se desplaza el scroll recorriendo el UIImageview hacia arriba. Lo que pretendo es que el UIImageview contenga un imagen publicitaria que dure x cantidad d segundos con la pantalla bloqueada sin embargo tengo los dos problemas:
No me ocupa toda la pantalla
El UIImageview se puede manipular(Es decir recorrer hacia abajo segun de desplaze el scrollview.
Gracias
8834,ios,Tengo el siguiente ejemplo para poder entender las relaciones entre entidades en Core Data,(marca modelo), tengo marcas de automóviles respectivamente y ahora quiero agregar modelos a estas marcas de automóviles para esto he registrado en vieDidLoad algunas marcas y cuando elija una marca salda un UIAlertViewController donde me permitirá capturar un modelo para esta marca pero no sé como relacionar este modelo a ese objeto creado con anterioridad, suponiendo que fuera algo dinámico. Enseguida agrego mi código; los id de los objetos los guardo en un arreglo de String y ahora comparo con un Predicate pero el resultado que me devuelve sale con comillas. En el predicate del arreglo Id[indexPath.row]
con comillas en el predicate
* predicate: SELF == "0xd000000000040000<x-coredata://A94EA723-56E4-475B-8D1B-582FC4C58CCD/MARCA/p1>"
NSOBJECT sin comillas
*  predicate: SELF == 0xd000000000040000<x-coredata://A94EA723-56E4-475B-8D1B-582FC4C58CCD/MARCA/p1>
//
//  ViewController.swift
//  Audi
//
//  Created by MACBOOK on 28/04/16.
//  Copyright © 2016 mossito. All rights reserved.
//
import UIKit
import CoreData
let appDelegado:AppDelegate = UIApplication.sharedApplication().delegate as! AppDelegate
let contexto:NSManagedObjectContext = appDelegado.managedObjectContext
class ViewController: UIViewController,UITableViewDelegate,UITableViewDataSource {
@IBOutlet weak var myTable: UITableView!
var textFeild:UITextField!
var arreglo:[String] = [String]()
var arreglosId:[String] = [String]()
//var tamano:Int = 0
override func viewDidLoad() {
super.viewDidLoad()
let entityMarca =  NSEntityDescription.entityForName("MARCA", inManagedObjectContext: contexto)
let newMarca = NSManagedObject(entity: entityMarca!, insertIntoManagedObjectContext: contexto)
newMarca.setValue("NISSAN", forKey: "nombre")
let newMarca1 = NSManagedObject(entity: entityMarca!, insertIntoManagedObjectContext: contexto)
newMarca1.setValue("FIAT", forKey: "nombre")
//print(newMarca1)
let newMarca2 = NSManagedObject(entity: entityMarca!, insertIntoManagedObjectContext: contexto)
newMarca2.setValue("BWM", forKey: "nombre")
//print(newMarca2)
let newMarca3 = NSManagedObject(entity: entityMarca!, insertIntoManagedObjectContext: contexto)
newMarca3.setValue("FORD", forKey: "nombre")
//print(newMarca3)
let newMarca4 = NSManagedObject(entity: entityMarca!, insertIntoManagedObjectContext: contexto)
newMarca4.setValue("CHEVROLET", forKey: "nombre")
//print(newMarca4)
let newMarca5 = NSManagedObject(entity: entityMarca!, insertIntoManagedObjectContext: contexto)
newMarca5.setValue("FERRARI", forKey: "nombre")
//print(newMarca5)
do{
//Inserto(guardo) en BD
try contexto.save()
//print(newMarca.description)
print("Insertando marca")
}catch {
print("Aqui hubo un error:-----\(error)")
}
arreglo.removeAll()
let consulta = NSFetchRequest(entityName: "MARCA")
if let resultados = try?contexto.executeFetchRequest(consulta) {
for x in resultados {
arreglo.append("\(x.valueForKey("nombre")!)")
arreglosId.append("\(x.objectID)")
}
}
}
override func viewDidAppear(animated: Bool) {
super.viewDidAppear(animated)
}
func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
let celda = UITableViewCell(style:UITableViewCellStyle.Subtitle, reuseIdentifier: "Cell")
celda.textLabel?.text = arreglo[indexPath.row]
return celda
}
func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
return arreglo.count
}
func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {
var identificador = arreglosId[indexPath.row]
var valorTexto:String =  ""
//
// let newMarca = NSEntityDescription.insertNewObjectForEntityForName("MARCA", //inManagedObjectContext: contexto)
// newMarca.setValue("x", forKey: "nombre")
//   _ = try? contexto.obtainPermanentIDsForObjects([newMarca]);
let alerta = UIAlertController(title:"Agrega modelo", message: "Registra un nuevo modelo ha esta marca", preferredStyle:.Alert)
alerta.addTextFieldWithConfigurationHandler(configuredTextField)
let action =  UIAlertAction(title: "OK", style: .Default, handler: {
(alerta)->Void in
valorTexto = self.textFeild.text!
print(valorTexto)
let consulta = NSFetchRequest(entityName: "MARCA")
/**========= PROBLEMA*/
consulta.predicate = NSPredicate(format: "SELF = %@", NSManagedObject(self.arreglosId[indexPath.row]))
print("consulta \(consulta)")
if let results =  try? contexto.executeFetchRequest(consulta) where results.count > 0 {
for x in results {
print("valor de x  \n\(x)")
}
}else{
print("No hay registros")
}
})
alerta.addAction(action)
presentViewController(alerta, animated: true, completion: nil)
}
/**Metodo para configurar el textField  el textField*/
func configuredTextField(text:UITextField! ){
text.placeholder = "Descripción"
textFeild = text
}
}
imagen 1
imagen 2
8944,c++,Estoy haciendo un ejercicio de un libro de C++ que utilizo para aprender el lenguaje, y no consigo comprender del todo el uso de std::setw y su uso conjunto con std::left (por defecto) y std::right. De hecho, no se como, he dado con la clave para realizar lo que queria hacer, pero no entiendo por que funciona..
Diganme si estoy equivocado, por favor, pero segun lo que yo pienso:
El bucle for j hace que se despliegue el primer triangulo de *.
La linea cout << right << setw(16 - i); hace que se vayan separando las b de los * en cada linea hacia la derecha de cada *, en 16 -i espacios, partiendo del caracter inmediato a cada *.
El bucle for z añade el triangulo compuesto por letras b.
La instruccion cout << right << setw(4 + i * 2); es donde ya me pierdo, porque no conseguia que saliese ese resultado que es el que yo quiero, y no me digais por que, si fue intuicion o que, pero me dio por ponerle el "* 2" y asi si que salio xD
Por favor, se que es mucho pedir, pero si alguien pudiese explicarme el por que funciona y por que me lio tanto con esa instruccion se lo agradeceria enormemente.
#include <iostream>
using std::cout;
using std::endl;
#include <iomanip>
using std::setw;
using std::right;
using std::left;
int main() {
for(int i = 1; i <= 10; i++) {
for(int j = i; j >=1; j--)
cout << '*';
cout << right << setw(16 - i);
for(int z = 11 - i; z >= 1; z--)
cout  << 'b';
cout << right << setw(4 + i * 2);
for(int y = 11 - i; y >= 1; y--)
cout << 'a';
cout << endl;
}
return 0;
}
Tambien pongo la salida que me da a mi, por si no fuese portable.
*              bbbbbbbbbb     aaaaaaaaaa
**             bbbbbbbbb       aaaaaaaaa
***            bbbbbbbb         aaaaaaaa
****           bbbbbbb           aaaaaaa
*****          bbbbbb             aaaaaa
******         bbbbb               aaaaa
*******        bbbb                 aaaa
********       bbb                   aaa
*********      bb                     aa
**********     b                       a
9159,c++,Tengo 2 listas (una simple y una doble), en la doble implemente el método de insertsort sin ningún problema y me gustaría implementar el mismo método de ordenamiento pero en la lista simple, el código es el siguiente.
Insertar al inicio:
void Listaven::insertaInicio(Vendedor dato) {
Nodo * tmp = new Nodo;
tmp->guardaObjeto(dato);
tmp->guardaNodoSig(NULL);
bool nada = vacia();
if (nada) {
inicio = final = tmp;
}
else {
tmp->sig = inicio;
inicio->ant = tmp;
tmp->ant = NULL;
inicio = tmp;
}
ordenar();
int codigoVendedor = dato.damecodigoVendedor();
cout << "Has agregado un vendedor con el codigo: '" << codigoVendedor << "'" << endl;
}
Metodo de ordenamiento:
void Listaven::ordenar() {
Nodo *tmp = inicio;
Nodo *aux;
Vendedor recuperar;
while (tmp)
{
recuperar = tmp->dato;
aux = tmp;
while (aux->ant != NULL && recuperar.damecodigoVendedor()<aux->ant->dato.damecodigoVendedor())
{
aux->dato = aux->ant->dato;
aux = aux->ant;
}
aux->dato = recuperar;
tmp = tmp->sig;
}
}
Así es como lo tengo para poder ordenarlo en la lista doblemente enlazada. Cual seria la forma para implementarlo en la lista simplemente enlazada, ya que por ende en la lista simple no hay parte ANT solo parte SIG.
9380,c++,tengo un problema al crear el método de insertar del árbol binario de búsqueda en c++ me lanza el siguiente error:
argument of type "void" is incompatible with parameter of type "nodo *"
Y mi código de insertar es el siguiente:
void ingresar_elemento(ABB &arbol, Alumno dato) {
if (arbol == NULL) {
numNodos++;
arbol = new nodo;
arbol->guardaObjeto(dato);
arbol->guardaNodoIzq(NULL);
arbol->guardaNodoDer(NULL);
}
else if (dato.dameNombre() < arbol->dameObjeto().dameNombre().c_str()) {
arbol->guardaNodoIzq(ingresar_elemento(arbol->dameNodoIzq(), dato));
}
else if (dato.dameNombre() > arbol->dameObjeto().dameNombre().c_str()) {
arbol->guardaNodoDer(ingresar_elemento(arbol->dameNodoIzq(), dato));
}
else if (dato.dameNombre() == arbol->dameObjeto().dameNombre().c_str()) {
cout << "El elemento que ingreso ya existe" << endl;
system("pause");
}
return arbol;
}
9551,c#|ios,Estoy trabajando en un sistema desarrollado en asp, la cual tiene la autenticación de windows, estoy implementando un control de "FileUpload", el cual funciona correctamente en navegadores de Escritorio, pero cuando hago la prueba en iPad el problema se da:
"Secuencia de cuerpo de solicitud agotado"
He leído en otros post que el problema se debe a la autenticación de Windows, pero desactivarlo no es una opción para el cliente.
9597,javascript|html|ios,Tengo un juego que he hecho que me guarde unos datos en "localstorage", pero según parece el sistema operativo iOS de vez en cuando hace una limpieza y nunca se sabe cuando será esta limpieza.
Esto es un problema grave para mi juego porque este tiene que funcionar offline sin internet.  Si no hay solución a esto, se me ha ocurrido que podría hacer que el juego me guardara los datos en la app de notas del iPad o en el pages o en el keynote.
¿Alguien tiene una solución mejor a este problema?
El juego tiene un Leaderboard que guarda el top 5 en local y luego en una pantalla oculta el administrador puede ver todos los que han jugado, esa pantalla es una simple tabla:
He hecho que cuando tenga conexión a internet lo pueda mandar por e-mail, solo que no siempre tendrá y quiero que lo pueda guardar en el algún lugar, aunque sea una aplicación de un tercero.
9697,c++,¿Cuál es la diferencia entre archivos directos y secuenciales? Si pueden brindarme un ejemplo de cada uno con las sintaxis que llevan en C++ por favor.
9733,android|c++,Estoy intentando compilar CyanogenMod (un 'fork' de Android) y me surge un extraño código de error cientos de veces en diferentes líneas. El error es el siguiente:
external/libcxx/src/strstream.cpp:326: error: no se admite la reubicación 43
external/libcxx/src/system_error.cpp:178: error: no se admite la reubicación 43
external/libcxx/include/stdexcept:112: error: no se admite la reubicación 43
He buscado al respecto y no encuentro nada, estoy bastante perdido.
En el código no hay errores, está en la rama estable del proyecto.
El error lo arroja el linker para ser más precisos.
También surge otro error muy similar linkeando con el resto del código ya compilado archivo.o que indica:
no se admite la reubicación 43 contra el símbolo global vtable for std::__1::moneypunct_byname<wchar_t, false>
El mismo error surge muchas veces en diferentes localizaciones:
no se admite la reubicación 43 contra el símbolo global std::__1::locale::id::__init()
Por otra parte, en el código, algunas de las lineas en las que se dispara el error son:
logic_error::~logic_error() _NOEXCEPT {}
//
if (__flag.__state_ != ~0ul)
La verdad es que no sé ni qué intentar... Cualquier sugerencia vendría muy bien! Gracias
10103,ios,He realizado una app con Tab Bar y cuando implemento mas de 6 item automáticamente crea el item "More".
¿Como modifico el titulo "More" y lo demas que esta en ingles?. Adjunto Imagenes.
10257,ios,Buenas, tengo este método que lee un JSON desde un webservice y me lo guarda en una array.
func conecta(){
let myUrl = NSURL(string: "myWebService");let request = NSMutableURLRequest(URL:myUrl!);
request.HTTPMethod = "POST";
// Compose a query string
let postString = "username=\(userWS)&password=\(passWS)&servidor=\(servidor)"
request.HTTPBody = postString.dataUsingEncoding(NSUTF8StringEncoding);
let task = NSURLSession.sharedSession().dataTaskWithRequest(request) {
data, response, error in
if error != nil
{
print("error=\(error)")
return
}
let responseString = NSString(data: data!, encoding: NSUTF8StringEncoding)
var err: NSError?
do{
let myJSON = try NSJSONSerialization.JSONObjectWithData(data!, options: .AllowFragments)
if let empresas = myJSON["TablaEmp"]!!["item"] as? [[String: AnyObject]] {
for empresa in empresas {
let zcif = empresa["Zcif"] as? String
let zcccp = empresa["Zcccp"] as? String
let zfax = empresa["Zfax"] as? String
let zdocu = empresa["Zdocu"] as? String
self.arrayEmpresas.append([zcif!, zcccp!, zfax!, zdocu!])
}
}
print("muestro: \(self.arrayEmpresas)")
}catch { print(error)}
}
task.resume()
}
El json es algo así, aunque más grande, esta es la estructura.
{"TablaEmp":{"item":[{"Zcif":"123","Zcccp":"456","Zfax":"789","Zdocu":"000"}]}}
No me da ningún error, simplemente no entra al for.
La variable myJSON tiene todo el json perfectamente, creo que es aquí donde falla y no lo entiendo.
if let empresas = myJSON["TablaEmp"]!!["item"] as? [[String: AnyObject]] {
Thanks
EDIT:
Debug
tablaEmp tiene "item" pero dentro no está el contenido de "item"
EDIT2:
Lo he intentado con otro código
func conecta(){
let request = NSMutableURLRequest(URL: NSURL(string: "myWS")!)
request.HTTPMethod = "POST"
let postString = "username=\(userWS)&password=\(passWS)&servidor=\(servidor)"
request.HTTPBody = postString.dataUsingEncoding(NSUTF8StringEncoding)
let task = NSURLSession.sharedSession().dataTaskWithRequest(request) { data, response, error in
guard error == nil && data != nil else {
print("error=\(error)")
return
}
if let httpStatus = response as? NSHTTPURLResponse where httpStatus.statusCode != 200 {
print("statusCode should be 200, but is \(httpStatus.statusCode)")
print("response = \(response)")
}
let responseString = NSData(data: data!)
do {
let jsonDict = try NSJSONSerialization.JSONObjectWithData(responseString, options: NSJSONReadingOptions(rawValue: 0)) as? NSDictionary
if let jsonDict = jsonDict {
let jsontabla = jsonDict["TablaEmp"]!["item"]
print("Cargando array")
for empresa in jsontabla as! [Dictionary<String, AnyObject>] {
let zcif = empresa["Zcif"] as? String
let zcccp = empresa["Zcccp"] as? String
let zfax = empresa["Zfax"] as? String
let zdocu = empresa["Zdocu"] as? String
self.arrayEmpresas.append([zcif!, zcccp!, zfax!, zdocu!])
}
print("muestro: \(self.arrayEmpresas)")
} else {
print("No hay valores")
}
} catch let error as NSError {
print(error)
}
}
task.resume()
}
Could not cast value of type '__NSCFDictionary' (0x10c0ee178) to 'NSArray' (0x10c0edb88).
No entiendo porqué está fallando, el primer código me debería funcionar perfectamente. He hecho rebuild y clean.
Gracias
10258,c++,les saludo, recien empiezo a programar y me encuentro con este problema "[Error] 'binario1' was not declared in this scope" es un string dentro de un switch, un string parecio fuera del switch me funciona, pero dentro no, si me pueden ayudar.el codigo no esta terminado solo, solo es que me trabe en esta parte.
#include <iostream>
#include <string>
using namespace std;
int main (){
int opcion;
/* string para menu*/
string menu1,menu2,menu3,menu4,salir;
menu1 = "1. MENU BINARIO";
menu2 = "2. MENU DECIMAL";
menu3 = "3. MENU HEXADECIMAL";
menu4 = "4. MENU OCTAL";
salir = "5. SALIR";
cout<<menu1<<endl<<menu2<<endl<<menu3<<endl<<menu4<<endl<<salir<<endl;
/*bucle dowhile que solo elija una opcion valida*/
do {
cout<<"Elija un menu :";cin>>opcion;
} while (opcion<1 || opcion>5);
/*switch general de menu*/
switch (opcion){
case 1 : {// estas llaves las puse por que me tiraba otro error si no las ponia.
int opcion2;
std::string binario1,binario2,binario3,salir2;// lo mismo con el std:: delante del string y cout.
binario1 = "1. Pasar de binario a decimal";
binario2 = "2. Pasar de binario a hexadecimal";
binario3 = "3. Pasar de binario a octal";
salir2 = "4. salir";}
std::cout<<"MENU BINARIO"<<endl<<binario1<<endl<<binario2<<endl<<binario3<<endl<<salir2<<endl;
/*bucle dowhile que solo elija una opcion valida*/
do{
cout<<"Digite una opcion :";cin>>opcion2;
}while (opcion2<1 || opcion2>4);
switch (opcion2){
case 1 :
case 2 :
case 3 :
case 4 :
defualt : break;
}break;
case 2 : int opcion3;
{
std::string decimal1,decimal2,decimal3,salir3;
decimal1 = "1. Pasar de decimal a binario";
decimal2 = "2. Pasar de decimal a hexadecimal";
decimal3 = "3. Pasar de decimal a octal";
salir3 = "4. Salir";}
std::cout<<"MENU DECIMAL"<<endl<<decimal1<<endl<<decimal2<<endl<<decimal3<<endl<<salir3<<endl;
/*bucle dowhile interno para que solo elija una opcion*/
do{
cout<<"Digite una opcion :";cin>>opcion3;
}while (opcion3<1 || opcion3>4);
/*Switch interno case 2*/
switch (opcion3){
case 1 :
case 2 :
case 3 :
case 4 :
defualt :;
}break;
case 3 : int opcion4;
{ // estas llaves las puse por que me tiraba otro error si no las ponia.
std::string hexa1,hexa2,hexa3,salir4;
hexa1 = "1. Pasar de hexadecimal a binario";
hexa2 = "2. Pasar de hexadecimal a decimal";
hexa3 = "3. Pasar de hexadecimal a octal";
salir4 = "4. Salir";}
std::cout<<"MENU HEXADECIMAL"<<endl<<hexa1<<endl<<hexa2<<endl<<hexa3<<endl<<salir4<<endl;
/*bucle dowhile interno para que solo elija una opcion*/
do{
cout<<"Digite una opcion :";cin>>opcion4;
}while (opcion4<1 || opcion4>4);
/*Switch interno case 3*/
switch (opcion4){
case 1:
case 2:
case 3:
case 4:
default:;
}break;
case 4 :int opcion5;
{
std::string octal1,octal2,octal3,salir5;
octal1 = "1. Pasar de octal a binario";
octal2 = "2. Pasar de octal a decimal";
octal3 = "3. Pasar de octal a hexadecimal";
salir5 = "4. Salir";}
std::cout<<"MENU OCTAL"<<endl<<octal1<<endl<<octal2<<endl<<octal3<<endl<<salir5<<endl;
/*bucle dowhile interno para que solo elija una opcion*/
do{
cout<<"Digite una opcion :";cin>>opcion5;
}while (opcion5<1 || opcion5>4);
/*Switch interno case 3*/
switch (opcion5){
case 1 :
case 2 :
case 3 :
case 4 :
default :;
}break;
case 5 : return (exit);
default :;
}
return 0;
system ("pause");
}
10345,c++,Buenas tardes, estoy iniciando en la programación con C++ y me he topado varias veces con esta función: cin.get
¿Podrían decirme el uso o la función que se le da a la misma?
10496,c++,Éste es mi código con la clase para una Pistola y una Bala, donde hay definidas funciones para mover, dibujar y borrar cada una de ellas.
El problema está en el uso de la función kbhit(), que la llamo desde 2 partes diferentes del código:
Para hacer mover el arma
Para disparar
Así como tengo el código, no me funciona cuando la intento usar para los disparos (comentado al final del código).
#include <iostream>
#include <windows.h>
#include <conio.h>
#include <list>
#include <stdio.h>
using namespace std;
void gotoxy(int x, int y){
HANDLE hCon;
hCon = GetStdHandle(STD_OUTPUT_HANDLE);
COORD pw;
pw.X = x;
pw.Y = y;
SetConsoleCursorPosition(hCon, pw);
}
class Pistola{
private:
int x, y;
public:
Pistola(int _x, int _y): x(_x), y(_y){}
void pintar();
void borrar();
void mover();
int getX(){return x;}
int getY(){return y;}
};
void Pistola::pintar(){
gotoxy(x,y);   printf("( )==:");
gotoxy(x,y+1); printf("||");
}
void Pistola::borrar(){
gotoxy(x,y);   printf("      ");
gotoxy(x,y+1); printf("      ");
}
void Pistola::mover(){
if(kbhit()){                     // <--- Aca estoy usando para mover
borrar();
char tecla = getch();
if(tecla == 'i') y--;
if(tecla == 'k') y++;
if(tecla == 'j') x--;
if(tecla == 'l') x++;
pintar();
}
}
class Bala{
private:
int x, y;
public:
Bala(int _x, int _y): x(_x), y(_y){}
void pintar();
void mover();
void borrar();
int getX(){return x;}
int getY(){return y;}
};
void Bala::pintar(){
gotoxy(x,y); printf("*");
}
void Bala::mover(){
gotoxy(x,y); printf(" ");
if( x < 70 ) x++;
gotoxy(x,y); printf("*");
}
void Bala::borrar(){
gotoxy(x,y); printf(" ");
}
int main()
{
Pistola arma(10,10);
bool game_over = false;
list<Bala*> B;
list<Bala*>::iterator it;
arma.pintar();
while( !game_over ){
/// El problema esta en que si uso la funcion khbit() para hacer mover el armar, no me funcion cuando
/// la intento usar para los disparos, si corta arma.mover() y lo pega justo antes de Sleep(30) notara
/// que lo que funiona bien son los disparos y lo que falla es la funcion mover del arma.
arma.mover();
if( kbhit() ){               // <--- Aca estoy usando para disparar
char tecla = getch();
if( tecla == 'a'){
B.push_back(new Bala(arma.getX()+7, arma.getY()));
}
}
for( it = B.begin(); it != B.end(); it++){
(*it)->mover();
if( (*it)->getX() >= 70 ){
(*it)->borrar();
delete (*it);
it = B.erase(it);
}
}
Sleep(30);
}
return 0;
}
Por ejemplo, depurando, si se corta la llamada a kbhit() de arma.mover() y lo pega justo antes de Sleep(30), cambiando el orden del bucle para que primero lea el disparo y luego el movimiento, notará que lo que funciona bien son los disparos y lo que falla es la función mover del arma.
¿Qué puedo hacer para solucionarlo? ¿Cómo puedo usar la función kbhit() repetidas veces?
10511,c++,Lo que quiero es poder anular las funciones de la clase suma
y sustituirlas por las funciones de la clase loop.
Esto tiene que ver con Polimorfismo.
En este código explico mejor la pregunta (ver el comentario):
#include<iostream>
using namespace std;
class suma{
public:
void leer(int &a, int &b, int &c);
void calculo(int &a, int &b, int &c);
void escribir(int &a, int &b, int &c);
};
class loop: public suma{
public:
void leer(int &a, int &b, int &c);
void calculo(int &a, int &b, int &c);
void escribir(int &a, int &b, int &c);
};
main(){
int a, b, c;
suma s;
loop l;
// Anulación <----
cout << "Se supone que con esto anulo." << endl;
s = l; // <---- Se supone que así anulo las funciones del objeto s
//       y le asigno las funciones del objeto l
s.leer(a, b, c);
s.calculo(a, b, c);
s.escribir(a, b, c);
}
void suma::leer(int &a, int &b, int &c){
cout << "SUMA" << endl;
cout << "Ingresa numero a: ";
cin >> a;
cout << "Ingresa numero b: ";
cin >> b;
}
void suma::calculo(int &a, int &b, int &c){
c = a + b;
}
void suma::escribir(int &a, int &b, int &c){
cout << a << " + " << b << " = " << c << endl;
}
void loop::leer(int &a, int &b, int &c){
cout << "LOOP" << endl;
cout << "Ingresa numero a: ";
cin >> a;
cout << "Ingresa numero b: ";
cin >> b;
}
void loop::calculo(int &a, int &b, int &c){
c = a * b;
}
void loop::escribir(int &a, int &b, int &c){
cout << a << " * " << b << " = " << c << endl;
}
10566,c++,Estoy intentando ordenar alfabéticamente por método Shell un arreglo de estructuras, solamente contiene Nombre, Apellido, Edad e Indice, algo muy básico.
Ahora bien, el método solo ordena cuando el vector es menor a 4, de otra forma no muestra el vector ordenado, aquí dejo el código:
struct Estudiante{
char apellido[20];
char nombre[20];
int edad;
int indice;
};
Y el método shell:
void ordenarEstudiantes(Estudiante *e, int tam){
int j, k, salto;
Estudiante aux;
salto = tam / 2;
while(salto > 0){
for(int i = salto; i < tam; i++){
j = i - salto;
while(j >= 0){
k = j + salto;
if(strcmp(e[j].apellido, e[k].apellido) < 0){
j = -1;
}else{
aux = e[j];
e[k] = e[j];
e[k] = aux;
}
}
}
salto = salto / 2;
}
}
Gracias!
10577,ios,Como bien dice la pregunta, quiero saber como funciona NSFetchedResultsController y porque usar los métodos del delegate en vez de tableView.reloadData.
Los estoy usando para armar una TableView pero no anda para nada bien, al cargar la app no me muestra las entidades en cada cell y al agregar una nueva entidad, se lagea y ni se muestran las lineas de las celdas.
Dejo el proyecto en dropbox:
https://www.dropbox.com/sh/4fo8h7c4q21t16h/AAAVYOB1rP3zDrq3hwjKG8SWa?dl=0
y un poco del código debajo.
class TableViewController : UITableViewController, AddCourseViewControllerDelegate, NSFetchedResultsControllerDelegate {
var managedObjectContext : NSManagedObjectContext!
//Este objeto se encarga de integrar un fetchRequest con la ViewController.
lazy var fetchedResultController : NSFetchedResultsController = {//Es un closure que devuelve un objeto.
() -> NSFetchedResultsController in
let fetch = NSFetchRequest()
let entity = NSEntityDescription.entityForName("Course", inManagedObjectContext: self.managedObjectContext)
let sort = NSSortDescriptor(key: "author", ascending: true)
fetch.entity = entity
fetch.sortDescriptors = [sort]
let fetchedResult : NSFetchedResultsController = NSFetchedResultsController(fetchRequest: fetch, managedObjectContext: self.managedObjectContext, sectionNameKeyPath: "author", cacheName: nil)
fetchedResult.delegate = self
return fetchedResult
}()
override func viewDidLoad() {
super.viewDidLoad()
do {
try fetchedResultController.performFetch()
} catch {
print("Error")
}
}
func controllerWillChangeContent(controller: NSFetchedResultsController) {
self.tableView.beginUpdates()
}
func controllerDidChangeContent(controller: NSFetchedResultsController) {
self.tableView.endUpdates()
}
//Mark: - NSFetchedResultController delegate methods
func controller(controller: NSFetchedResultsController, didChangeObject anObject: AnyObject, atIndexPath indexPath: NSIndexPath?, forChangeType type: NSFetchedResultsChangeType, newIndexPath: NSIndexPath?) {
switch type {
case .Delete:
tableView.deleteRowsAtIndexPaths([indexPath!], withRowAnimation: .Fade)
break;
case .Insert:
tableView.insertRowsAtIndexPaths([newIndexPath!], withRowAnimation: .Fade)
break;
case .Move:
tableView.moveRowAtIndexPath(indexPath!, toIndexPath: newIndexPath!)
break;
case .Update:
let curso = controller.objectAtIndexPath(indexPath!) as! Course
let cell = tableView.cellForRowAtIndexPath(indexPath!)
cell?.textLabel?.text = curso.title
cell?.detailTextLabel?.text = curso.author
break;
}
}
func controller(controller: NSFetchedResultsController, didChangeSection sectionInfo: NSFetchedResultsSectionInfo, atIndex sectionIndex: Int, forChangeType type: NSFetchedResultsChangeType) {
switch type {
case .Insert:
let set = NSIndexSet(index: sectionIndex)
tableView.insertSections(set, withRowAnimation: .Fade)
break;
case .Delete:
let set = NSIndexSet(index: sectionIndex)
tableView.deleteSections(set, withRowAnimation: .Fade)
break;
default:
break;
}
}
//MARK: - TableView dataSource
override func numberOfSectionsInTableView(tableView: UITableView) -> Int {
return fetchedResultController.sections!.count
}
override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
return fetchedResultController.sections![section].numberOfObjects
}
override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
let cell = tableView.dequeueReusableCellWithIdentifier("Cell")!
let course : Course = (fetchedResultController.fetchedObjects![indexPath.row]) as! Course
cell.textLabel!.text = course.title
cell.detailTextLabel!.text = course.author
return cell
}
private func getFetchedController() -> NSFetchedResultsController {
let fetch = NSFetchRequest()
let entity = NSEntityDescription.entityForName("Course", inManagedObjectContext: self.managedObjectContext)
let sort = NSSortDescriptor(key: "author", ascending: true)
fetch.entity = entity
fetch.sortDescriptors = [sort]
let fetchedResult = NSFetchedResultsController(fetchRequest: fetch, managedObjectContext: self.managedObjectContext, sectionNameKeyPath: "author", cacheName: nil)
return fetchedResult
}
//MARK: - AddCourseDelegate
func addCourseViewControllerDidSave() {
do {
try managedObjectContext.save()
} catch {
print("Error al guardar el curso.")
}
self.dismissViewControllerAnimated(true, completion: nil)
}
func addCourseViewControllerDidCancel(curso : Course) {
managedObjectContext.deleteObject(curso)
self.dismissViewControllerAnimated(true, completion: nil)
}
//MARK: - Segue way
override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) {
if segue.identifier == "addCourseSegue" {
let nextVc = segue.destinationViewController as! AddCourseViewController
nextVc.delegate = self
let selectedCourse = NSEntityDescription.insertNewObjectForEntityForName("Course", inManagedObjectContext: managedObjectContext) as! Course
nextVc.course = selectedCourse
}
}
}
10600,c++,Necesito hacer una clase anidada con private, con un ejemplo me bastaría para entender, o algún link. No he podido encontrarlo.
10656,c++,Quiero una manera de poder establecer el título de las consolas en Linux
de una manera similar a la que lo hago en Windows.
#ifdef _WIN32
#include<windows.h>
#else
//
#endif
main(){
#ifdef _WIN32
SetConsoleTitle("El titulo de ventana en Windows");
#else
// Alguna función para cambiar el título para las terminales
#endif
// Programa...
}
10910,c++,¿me pueden explicar por que no me detecta la fincion abs?,pues cuando lo ejecuto me sale un mensaje diciendo
error: 'abs' not declared in this scope
nota: uso el compilador codeblocks 13.12
#include<iostream>
#include<math.h>
using namespace std;
int main(){
float a,b,c,d,e = 0,f,x,y;
cout<<"numero de vertices : ";
cin>>f;
cin>>a>>b;
x = a;
y = b;
for(int i = 0; i < f; i++){
cin>>c>>d;
x = x - c;
y = y - d;
x = abs(x);
y = abs(y);
e = e + sqrt(x*x + y*y);
x = c;  // un arreglo en el codigo
y = d;  // un arreglo en el codigo
}
x = x - a;
y = y - b;
x = abs(x);
y = abs(y);
e = e + sqrt(x*x+ y*y);
cout<<e;
}
nota :el codigo es para resolver este ejercicio.
--Polígono--
Haz un programa que lee una secuencia de puntos 2D (pares de reales) que representan un polígono (el último punto de la secuencia es igual que el primero), y determina la longitud de su perímetro.
fuente
http://minidosis.org
10949,ios,Buenos dias me gustaria que me ayudaran por favor, tengo un servicio web en Swift 2 me retorna un array asi
{"message": "Imagen Almacenada con Exito." "error": false}
pero a la hora de serializarlo
do{
let json = try NSJSONSerialization.JSONObjectWithData(nsdata, options: NSJSONReadingOptions.MutableContainers)
}catch{
print(error)
}
me muestra el siguiente error:
{ Error Domain=NSCocoaErrorDomain Code=3840 "JSON text did not start
with array or object and option to allow fragments not set." }
10952,c++,Estoy trabajando con makefiles,al compilar el siguiente codigo la opción de random trabaja perfectamente, pero en la opción de introducir la matriz mediante el teclado sale esto Segmentation fault (core dumped), podrían decirme por qué sale esto o que esta mal en el codigo, porfavor.
El error se origina después de ingresar la matriz (user(b, N, P);). Creo que el error está en la función printm(b, N, P);.
function.h
#ifndef function_H
#define function_H
int user(int **m, int N, int P);
void printm(int **m, int N, int P);
int generator(int **m, int N, int P);
void lmax(int **m, int N, int P);
#endif
function.cc
#include <stdio.h>
#include <iostream>
#include <stdlib.h>
#include "function.h"
using namespace std;
int user(int **m, int N, int P)
{
for (int i=0; i<N; i++)
{
for (int j=0; j<P; j++)
{
cin >> m[i][j];
}
}
return 0;
}
void printm(int **m, int N, int P)
{
int i;
for (i=0; i<N; i++);
{
for (int j=0; j<P; j++)
{
cout << " " << m[i][j] << " ";
}
cout << endl;
}
}
int generator(int **m, int N, int P)
{
srand(time(NULL));
for (int i=0; i<N; i++)
{
for (int j=0; j<P; j++)
{
m[i][j] = rand()%50-0;
cout << " " << m[i][j] << "\t";
}
cout << endl;
}
cout << endl;
return 0;
}
void lmax(int **m, int N, int P)
{
int j_max;
for (int i=0; i<N; i++)
{
j_max = 0;
for (int j=1; j<P; j++)
if (m[i][j_max] < m[i][j])
{
j_max = j;
}
m[i][j_max] = 0;
}
for (int i=0; i<N; i++) {
for (int j=0; j<P; j++)  {
cout << " " << m[i][j] << "\t";  }
cout << endl;  }
cout << endl;
bool kl = true;
for (int i=1; i<N; i++)
{
for (int j=0; j<i; j++)
{
if (m[i][j] != m[j][i])
kl = false;
}
}
if (kl)
{
cout << " Symetric matrix." << endl;
}
else
{
cout << " Not symetric matrix." << endl;
}
cout << endl;
}
test.cc
#include <stdio.h>
#include <iostream>
#include "function.h"
using namespace std;
int main()
{
int N, P, **a, **b;
char ch;
cout << "\n 1 - Initialize matrix by using a random number generator." << endl;
cout << " 2 - Initialize matrix via user input." << endl;
cout << " 0 - Exit." << endl;
cout << "\n Your choice: ";
do {
ch = getchar();
switch(ch)
{
case '1':
cout << "\n Rows: ";
cin >> N;
cout << " Columns: ";
cin >> P;  cout << endl;
a = new int *[N];
for (int i=0; i<N; i++)
{
a[i] = new int [P];
}
generator(a, N, P);
lmax(a, N, P);
return 0;
case '2':
cout << "\n Rows: ";
cin >> N;
cout << " Columns: ";
cin >> P;  cout << endl;
b = new int *[N];
for (int i=0; i<N; i++)
{
b[i] = new int [P];
}
user(b, N, P);
printm(b, N, P);
lmax(b, N, P);
return 0;
}
}
while(ch != '0');
return 0;
}
10959,ios,hola estaba intentando cargar un mapa para mi aplicación de IOs con una ubicación determinada y el zoom adecuado estaba siguiendo un tutorial pero en mi casa se produce un error, adjunto la imagen del error que aparece ademas del codigo del mapa. en este caso estoy utilizando Xcode 7 y Swift 2.
fatal error: unexpectedly found nil while unwrapping an Optional value
import UIKit
import MapKit
class ViewController: UIViewController {
@IBOutlet weak var mapView: MKMapView!
override func viewDidLoad() {
super.viewDidLoad()
maptal()
}
func maptal()
{
let tallat:CLLocationDegrees = 27.175015
let tallon:CLLocationDegrees = 78.042139
let tajcordinate = CLLocationCoordinate2D(latitude: tallat, longitude: tallon )
let latdelta:CLLocationDegrees = 0.01
let longdelta:CLLocationDegrees = 0.01
let tajspan = MKCoordinateSpan(latitudeDelta: latdelta, longitudeDelta: longdelta)
let tajregion = MKCoordinateRegion(center: tajcordinate, span: tajspan)
mapView.setRegion(tajregion, animated: true)
let tajanotation = MKPointAnnotation()
tajanotation.title = "taj mahal"
tajanotation.subtitle = "holita"
tajanotation.coordinate = tajcordinate
mapView.addAnnotation(tajanotation)
}
}
10985,c++,Estoy aprendiendo a usar templates de C++ del stl y esta libreria contiene una clase list<T>, tengo entendido que tiene funciones parecidas a las de vector<T> (De ser lo contrario porfavor ilustrenme).
Mi pregunta es, como puedo acceder a un elemento dentro de un objeto de tipo list<T> en un determinado indice?
Hasta ahora he intentado esto:
std::list<int> Numeros = /* Mi asignación aquí */;
int n = Numeros[0]; // Error.
Sin embargo, usando std::vector<T> funciona perfectamente:
std::vector<T> Numeros = /* Alguna asignación */;
int n = Numeros[0]; // Asumiendo que tenemos un elemento aquí, me devuelve el valor.
Es posible acceder a los valores contenidos dentro de un list<T> utilizando un indice?
11006,ios,Me gustaría saber si alguien conoce algún simulador de IPHONE en el que se le pueda probar la Cámara.
11020,ios,Necesito convertir un anyObject que viene de un JSON de un servicio web a Int32 he intentado de muchas maneras pero ninguna me resulta. La última que tengo es esta:
let puntos = "\(objeto["CATPUNTOS"])" as? NSString
cat.catPuntos = Int32(String(puntos!))!
en donde cat es un objeto, al ejecutarlo me sale este error en la segunda línea
"fatal error: unexpectedly found nil while unwrapping an Optional
value" EXC_BAD_INSTRUCTION(code: exc_1386_invop)
11027,ios,Tengo un problema en mi proyecto de Xcode.
Tengo una base de datos de SQLite la cual inserto registros por código, pero cuando accedo directamente a la base de datos por SQL Vault lite y miro la tabla donde realicé el registro no me aparece aunque al realizar una consulta dentro de la aplicación sí me trae el registro que acabo de ingresar.
¿Alguien sabe si es que se está guardando en alguna otra base de datos? ¿Tal vez cuándo se copia al principio o algo así?
11135,ios,He creado una app bastante sencilla y cuando la ejecuto, lo hace con un lag en el cambio de pantallas. Cuando pulso en un botón de configuración o cuando pulso en una celda para ver el detalle, el cambio de vista lo hace con un lag muy molesto.
¿Alguna idea de cuál puede ser el problema?
Podéis ver el problema en el siguiente vídeo: https://youtu.be/UBOq-23kFNg
El que quiera, puede ver el problema en su propia terminal, la app se llama "Lezo Ibilbideak"
Muchas gracias.
11138,ios,Hola tengo el siguiente código que es para llamar desde un botón o abrir el dial para llamar en iOS el tema es que en mi proyecto tengo muchas pantallas y en cada una un botón que tiene que llamar a un número distinto. Mi consulta hay alguna forma de conectar todas las pantallas a un controller y colocar el codigo para llamar enlazado a cada botón o alguna otra forma mejor de aplicar el código a cada botón.
Swift
@IBAction func marcar(sender: AnyObject) {
if let url = NSURL(string: "tel://0180032323") {
UIApplication.sharedApplication().openURL(url)
}
}
11212,c++,CABE DESTACAR QUE APENAS ESTOY EN PR2 Y HAY MUCHAS COSAS QUE TODAVIA NO SE, DISCULPEN MI IGNORANCIA
(Tiene que resolverse con recursividad)
Buenas este es mi codigo en el cual intento resolver el problema de la imagen de arriba, en el cual no entiendo por que en mi codigo solo me muestra dos caminos posibles cuando, ejemplo usando n=3, tendria 0123,013,023. mientras solo me muestra 0123,023. Una ayuda por favor gracias
#include <iostream>
using namespace std;
void caminos (int,int);
int main(){
int i=0,n=0;
cout<<"Inserte tamaño de la Rayuela: ";
cin>>n;
caminos(i,n);
return 0;
}
void caminos (int i,int n){
if(i<=n){
cout<<i;
caminos(i+1,n);
if(i+2<n){
cout<<i;
caminos(i+2,n);
}
}
else{
cout<<endl;
}
}
11264,ios,estoy haciendo una aplicación Universal en Swift 2 (Xcode 7) en la cuál requiero que se vea en todos los dispositivos IPhone,IPad y Ipod en mi storyboard he agregado algunas contraints para mantener la relación aspecto de las pantallas entre dispositivos (soy nuevo en esto), sin embargo tengo un problema en especifico cuando tengo 3 controles alineados de forma horizontal, en este caso son 3 UIImage de la siguiente manera.
Asi es como lo veo en mi storyboard, agregando los siguientes contraints.
mi resultado es el siguiente en el simulador
Las imagenes pierden su aspecto original alargandose, ademas en las contraints me aparecen unos "deshabilitados" (Btn Siguiente), soy nuevo en utilizando contraints, agradeceria cualquier consejo y/o ayuda que me pudieran otorgar. Gracias
11370,ios,Hola estoy siguiendo un tutorial sobre UIPageViewController para generar una galeria de imagenes en mi proyecto http://www.theappguruz.com/blog/easy-steps-to-implement-uipageviewcontroller-in-swift incluso baje el demo y funciona pero en mi caso me da un error y se cae la aplicacion.
fatal error: unexpectedly found nil while unwrapping an Optional value
adjunto el codigo de mis controladores.
PageContentViewController.swift:
import UIKit
class PageContentViewController: UIPageViewController {
@IBOutlet weak var lblTitle: UILabel!
@IBOutlet weak var imageView: UIImageView!
var pageIndex: Int = 0
var strTitle: String!
var strPhotoName: String!
override func viewDidLoad() {
super.viewDidLoad()
imageView.image = UIImage(named: strPhotoName)
lblTitle.text = strTitle
}
}
ViewController2.swift
import UIKit
class ViewController2: UIPageViewController, UIPageViewControllerDataSource
{
var arrPageTitle: NSArray = NSArray()
var arrPagePhoto: NSArray = NSArray()
override func viewDidLoad() {
super.viewDidLoad()
arrPageTitle = ["This is The App Guruz", "This is Table Tennis 3D", "This is Hide Secrets"];
arrPagePhoto = ["1.jpg", "2.jpg", "3.jpg"];
self.dataSource = self
self.setViewControllers([getViewControllerAtIndex(0)] as [UIViewController], direction: UIPageViewControllerNavigationDirection.Forward, animated: false, completion: nil)
}
// MARK:- UIPageViewControllerDataSource Methods
func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -> UIViewController?
{
let pageContent: PageContentViewController = viewController as! PageContentViewController
var index = pageContent.pageIndex
if ((index == 0) || (index == NSNotFound))
{
return nil
}
index -= 1;
return getViewControllerAtIndex(index)
}
func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -> UIViewController?
{
let pageContent: PageContentViewController = viewController as! PageContentViewController
var index = pageContent.pageIndex
if (index == NSNotFound)
{
return nil;
}
index += 1;
if (index == arrPageTitle.count)
{
return nil;
}
return getViewControllerAtIndex(index)
}
// MARK:- Other Methods
func getViewControllerAtIndex(index: NSInteger) -> PageContentViewController
{
// Create a new view controller and pass suitable data.
let pageContentViewController = self.storyboard?.instantiateViewControllerWithIdentifier("PageContentViewController") as! PageContentViewController
pageContentViewController.strTitle = "\(arrPageTitle[index])"
pageContentViewController.strPhotoName = "\(arrPagePhoto[index])"
pageContentViewController.pageIndex = index
return pageContentViewController
}
}
11413,ios,Actualice el xCode y estoy lleno de warning, ya casi todos solucionados, pero este me falta
for var i:Int = row-1; i >= 0; i -= 1
Me lanza el siguiente warning:
C-style for statement is deprecated and will be removed in a future version of Swift
11540,c++,Este es mi programa. Estoy usando CodeBlocks. Los errores que me muestra son los siguientes:
26 - expected primary-expresion before 'int'.
26 - expected ']' before 'int'.
26 - expected ')' before 'int'.
26 - expected initializer before 'int'.
El código es el siguiente:
#include <iostream>
#include <stdlib.h>
#include <stdio.h>
#include <cmath>
class Network
{
public:
int ip[4],mask,cont,nhost,nred,pot;
};
void head()
{
std::cout << "\t\tSubnetting Console" << std::endl;
};
int cant(int a)
{
head();
std::cout << "Cuantas redes hay?\n" << std::endl;
std::cin >> a;
system("cls");
return a;
};
void proc1(Network net[],int n)
{
head();
std::cout << "Cuantos host tiene cada red\n" << std::endl;
for(int b=0; b<n;b++)
{
std::cout<<"R"<<b+1<<": ";
std::cin>>net[b].nhost;
std::cout << "nhost-Listo" << std::endl;
net[b].nred=b+1;
std::cout << "nred-Listo" << std::endl;
net[b].pot=1;
std::cout << "pot-Listo" << std::endl;
net[b].cont=0;
std::cout << "cont-Listo" << std::endl;
while((net[b].pot-2)<net[b].nhost)
{
net[b].pot*=2;
net[b].cont++;
}
net[b].mask=32-net[b].cont;
std::cout << "mask-Listo" << std::endl;
}
system("cls");
};
void SetIP(Network net[],int n)
{
int bmask, bip[4];
long int num=0;
for(int z=0;z<n;z++){num+=net[z].pot;}
if(num<65536){bmask=16; bip[0]=192;bip[1]=168;bip[2]=0;bip[3]=0;}       //Si la red nesecita menos de 65,536 hosts se usa 192.168.0.0/16
else if(num<1048576){bmask=12; bip[0]=172;bip[1]=16;bip[2]=0;bip[3]=0;} //Si la red nesecita menos de 1,048,576 hosts se usa 172.16.0.0/12
else{bmask=8; bip[0]=10;bip[1]=0;bip[2]=0;bip[3]=0;}                        // En cualquier otro caso se usa el ip 10.0.0.0/8
if(bmask==16)
{
for(int a=17;a<32;a++)
{
for(int b=0;b<n;b++)
{
if(net[b].mask==a)
{
net[a].ip[0]=bip[0];
net[a].ip[1]=bip[1];
net[a].ip[2]=bip[2];
net[a].ip[3]=bip[3];
if((32-a)>=8)
{
bip[2]+=pow(2,((32-a)-8));
}
else
{
bip[3]+=pow(2,(32-a));
}
if(bip[3]>255)
{
bip[2]+=1;
bip[3]-=256;
}
if(bip[2]>255)
{
bip[1]+=1;
bip[2]-=256;
}
}
}
}
}
else if(bmask==12)
{
for(int a=13;a<32;a++)
{
for(int b=0;b<n;b++)
{
if(net[b].mask==a)
{
net[a].ip[0]=bip[0];
net[a].ip[1]=bip[1];
net[a].ip[2]=bip[2];
net[a].ip[3]=bip[3];
if((32-a)>=16)
{
bip[1]+=pow(2,((32-a)-16));
}
else if((32-a)>=8)
{
bip[2]+=pow(2,((32-a)-8));
}
else
{
bip[3]+=pow(2,(32-a));
}
if(bip[3]>255)
{
bip[2]+=1;
bip[3]-=256;
}
if(bip[2]>255)
{
bip[1]+=1;
bip[2]-=256;
}
if(bip[1]>255)
{
bip[0]+=1;
bip[1]-=256;
}
}
}
}
}
else
{
for(int a=9;a<32;a++)
{
for(int b=0;b<n;b++)
{
if(net[b].mask==a)
{
net[a].ip[0]=bip[0];
net[a].ip[1]=bip[1];
net[a].ip[2]=bip[2];
net[a].ip[3]=bip[3];
if((32-a)>=24)
{
bip[0]+=pow(2,((32-a)-24));
}
else if((32-a)>=1)
{
bip[1]+=pow(2,((32-a)-16));
}
else if((32-a)>=8)
{
bip[2]+=pow(2,((32-a)-8));
}
else
{
bip[3]+=pow(2,(32-a));
}
if(bip[3]>255)
{
bip[2]+=1;
bip[3]-=256;
}
if(bip[2]>255)
{
bip[1]+=1;
bip[2]-=256;
}
if(bip[1]>255)
{
bip[0]+=1;
bip[1]-=256;
}
}
}
}
}
};
void prnt(Network net[],int n)
{
head();
for(int b=0;b<n;b++)
{
std::cout<<"R"<<b+1<<": "<<net[b].ip[0]<<"."<<net[b].ip[1]<<"."<<net[b].ip[2]<<"."<<net[b].ip[3]<<"/"<<net[b].mask<<std::endl;
}
};
int main()
{
int x,y;
x = cant(x);
Network* red[x];
y=((sizeof(red))/(sizeof(red[0])));
proc1(red[x],y);
//SetIP(red[x],y);
//prnt(red[x],y);
return 0;
}
11574,c++,Se trata de la versión en Español de mi misma pregunta en el StackOverflow en Inglés, he decidido copiarla a este StackOverflow para tener puntos de vista adicionales (ya que no he dado con una respuesta satisfactoria en la versión en Inglés).
La declaración de la plantilla std::string de C++ es la siguiente:
template<
class CharT,
class Traits = std::char_traits<CharT>,
class Allocator = std::allocator<CharT>
> class basic_string;
El tipo CharT puede ser char, wchar_t, char16_t y char32_t; pero al fin y al cabo basic_string es una plantilla y puede ser instanciada con otros CharT y otros allocators. Pero mientras que puedo pensar en algunos casos de uso para otros allocators no se me ocurre ningún caso de uso para cadenas de otros tipos de datos, por ejemplo:
using istring = std::basic_string<int>;
Una cadena de enteros, no podemos inicializarlo como cadena (obviamente) ni como una cadena char32_t (esto no es tan obvio, al menos para mi); pero podemos inicializarlo con initializer_list siempre y cuando el tipo contenido en la lista sea convertible a int:
istring error1("test");   // Error!
istring error2(U"test");  // Error!
istring error3{"test"};   // Error!
istring error4{U"test"};  // Error!
istring error5 = "test";  // Error!
istring error6 = U"test"; // Error!
istring correcto1({U't', U'e', U's', U't'});
istring correcto2 = {U't', U'e', U's', U't'};
istring correcto3({'t', 'e', 's', 't'});
istring correcto4 = {'t', 'e', 's', 't'};
Pero incluso si conseguimos inicializar una cadena de enteros, no podemos usarlo de la manera habitual:
std::cout << correcto1; // Error! esperaba 116101115116
Los únicos basic_string preparados para ser usados con std::cout son los normales, esto tiene sentido: al fin y al cabo no podemos asumir como se supone qe debemos mostrar una cadena de enteros o una cadena de MiClaseChachi.
Pero de todas maneras, crear instancias raras de basic_string está permitido; por un lado no está prohibido por la falta de características que limiten este uso (como los concepts) y por otro lado programar basic_string sin limitar el tipo subyacente es más fácil que hacerlo con estas limitaciones (sin disponer de concepts) por lo que me pregunto:
¿Existe algún uso para  std::basic_string<T> cuando T no es un tipo de caracter?
En cuanto a algún uso pienso en cosas que sólo puedan ser conseguidas con cadenas de T y no puedan ser conseguidas por vectores de T (o que sea significantemente más difícil de hacer), en otras palabras:
¿Os habéis encontrado en la situación en que una cadena de T sea la mejor opción?
11578,ios,Hola en mi aplicación tengo una galería de imágenes con un PageContentViewController, en este caso carga un arreglo de imágenes de un lugar en especifico ya que es una aplicación de turismo  la estructura de mi aplicacion es toda similar por lo tanto necesito que desde otra pantalla cargue otro arreglo de imágenes con la misma estructura. en este caso la base está, lo que necesito saber es como enviarle desde otra pantalla un arreglo distinto para que se vea otro grupo de imágenes. Adjunto código del controlador y el page content.
PageContentViewController:
import UIKit
class PageContentViewController: UIViewController {
@IBOutlet weak var imageView: UIImageView!
var pageIndex: Int = 0
var strTitle: String?
var strPhotoName: String?
override func viewDidLoad() {
super.viewDidLoad()
self.imageView.image = UIImage(named: self.strPhotoName!)
//lblTitle.text = self.strTitle!
}
}
ViewController2:
import UIKit
class ViewController2: UIPageViewController, UIPageViewControllerDataSource
{
var arrPageTitle: NSArray = NSArray()
var arrPagePhoto: NSArray = NSArray()
override func viewDidLoad() {
super.viewDidLoad()
arrPageTitle = ["This is The App Guruz", "This is Table Tennis 3D", "This is Hide Secrets","4","5","6"];
arrPagePhoto = ["madero1", "madero2", "madero3","madero5","madero6","madero7"];
self.dataSource = self
self.setViewControllers([getViewControllerAtIndex(0)] as [UIViewController], direction: UIPageViewControllerNavigationDirection.Forward, animated: false, completion: nil)
}
// MARK:- UIPageViewControllerDataSource Methods
func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -> UIViewController?
{
let pageContent: PageContentViewController = viewController as! PageContentViewController
var index = pageContent.pageIndex
if ((index == 0) || (index == NSNotFound))
{
return nil
}
index -= 1;
return getViewControllerAtIndex(index)
}
func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -> UIViewController?
{
let pageContent: PageContentViewController = viewController as! PageContentViewController
var index = pageContent.pageIndex
if (index == NSNotFound)
{
return nil;
}
index += 1;
if (index == arrPageTitle.count)
{
return nil;
}
return getViewControllerAtIndex(index)
}
// MARK:- Other Methods
func getViewControllerAtIndex(index: NSInteger) -> PageContentViewController
{
// Create a new view controller and pass suitable data.
let pageContentViewController = self.storyboard?.instantiateViewControllerWithIdentifier("PageContentViewController") as! PageContentViewController
pageContentViewController.strTitle = "\(arrPageTitle[index])"
pageContentViewController.strPhotoName = "\(arrPagePhoto[index])"
pageContentViewController.pageIndex = index
return pageContentViewController
}
}
11625,ios,Hola en mi proyecto de xcode con swift agregue una galeria de imagenes estilo carrusel lo que ocurre en este caso es que siempre que cargó la imagen la primera vez sale corrida hacia abajo y con un espacio blanco arriba solo ocurre en la primera imagen y cuando la presiona se soluciona lo cual no es la idea y debería cargar ok desde un inicio.
como puedo solucionar esto?
11627,php|ios,Tengo una aplicación iOS nativa, en la cual debo consumir un servicio web en donde envío una foto en base 64 al backend en php con framework slim pero me retorna el siguiente error sobre el código 64 de la imagen:
recoverable error: Corrupt JPEG data: 233 extraneous bytes before marker 0x10
Este es el código de la conversion a base64 sera que tengo algún error:
let img : NSData = UIImageJPEGRepresentation(self.imgLugar.image!, 1)!
let base64Img = img.base64EncodedStringWithOptions(.Encoding64CharacterLineLength)
11647,c++,Estaba haciendo un programa en C++, usando la función tipo switch
Pedía el precio de un artículo, lo leía, luego pedía la opción de descuento que depende del precio, pero esta opción de descuento se ingresa manualmente
Adjunto mi código para que me entiendan a lo que me refiero:
#include <iostream>
using namespace std;
int main()
int precio, tot_pagar;
char opcion;
cout<< "Ingrese el precio ";
cin>> precio;
cout<< endl;
cout<< "Ingrese la opción de descuento ";
cin>> opcion;
switch (opcion)
{
case 'A':  tot_pagar = precio-precio*0.05;
cout<< "El total a pagar es "; tot_pagar;
break;
case 'B':  tot_pagar = precio-precio*0.10;
cout<< "El total a pagar es "; tot_pagar;
break;
case 'C':  tot_pagar = precio-precio*0.15;
cout<< "El total a pagar es "; tot_pagar;
break;
default: cout<< "Su artículo no tiene descuento";
}
return 0;
Cuando ya inicia el programa, ingreso el precio, la opción, pero después no imprime la operación correspondiente según el caso.
11655,ios,En android se deja crear cuentas de aplicaciones en el telefono para guardar datos de sesion cuando se autentica o se loguea un usuario en nuestra app ejemplo: AccountManager.
¿Se puede hacer esto mismo en iOS? ¿O existe algo similar?
12912,c++,acudo nuevamente a la comunidad en busca de ayuda y aprender, el código no esta terminado pero al compilar y ejecutar, cuando hago la prueba me tira error, alguien me puede decir que esta mal?, en la facultad hice el mismo código y en la versión de dev c++ 5.11 me arroja ese error, y en una versión más vieja me andaba a la perfección.
#include <iostream>
#include <windows.h>
using namespace std;
int main () {
int a,b,fila,columna;
int matriz [fila][columna];
system ("color F3");
cout << "\t\t\t PROGRAMA DE MATRIZ EJ 1 C++" << endl << endl;
cout << "Ingrese el valor de filas que quiere que tenga la matriz: "; cin >> fila;
cout << "Ingrese el valor de columnas que quiere que tenga la matriz: "; cin >> columna;
cout << "Ingrese el valor de los elementos de la matriz: " << endl;
for (a = 0 ; a < fila ; a++) {
for (b = 0 ; b < columna ; b++) {
cout << "Fila " << "[" << a << "]" << " " << "columna " << "[" << b << "]: ";
cin >> matriz[a][b]; cout << endl;
}
}
system ("pause");
}
13048,c++,Buen día, me gustaria saber como usar listas doblemente ligadas en Winapi, mas especificamente, ¿donde inicializar la lista? y dentro de los CALLBACK, ¿como usar la lista? (o simplemente al declararla en el lugar correcto se puede usar sin problemas?) Actualemente uso Visual Studio 2015.
En MsgDlgProc solo hay botones para ir a las otras ventanas.
En MsgDlg2Proc, hay 3 Listbox para mostrar los datos de la lista y un boton para regresar a la ventana 1. Para mostrar la informacion pienso usar si logro obtener "nombre" directo de la lista ligada
SendDlgItemMessage(hDlg, IDC_LIST1, LB_ADDSTRING, NULL, (LPARAM)nombre);
En MsgDlg3Proc, hay 2 EditControl para recibir los datos y un boton para guardarlos en la lista y vaciar los Editbox y un boton para cancelar
Aqui el codigo:
HWND hDlg;
HINSTANCE ghDlg;
struct registro {
registro *sig;
int folio; //char en statictext ---> int en lista
char nombre[70];
int edad;//char en editcontrol ---> int en lista
registro *ant;
};
BOOL CALLBACK MsgDlgProc(HWND, UINT, WPARAM, LPARAM);
BOOL CALLBACK MsgDlg2Proc(HWND, UINT, WPARAM, LPARAM);
BOOL CALLBACK MsgDlg3Proc(HWND, UINT, WPARAM, LPARAM);
BOOL CALLBACK MsgDlgProc(HWND hDlg, UINT msg, WPARAM wParam, LPARAM lParam) {
switch (msg) {
case WM_INITDIALOG:
return true;
case WM_COMMAND: {
switch (LOWORD(wParam)) {
case IDC_BUTTON1: {
ShowWindow(hDlg, SW_HIDE);
DialogBox(ghDlg, MAKEINTRESOURCE(IDD_DIALOG3), 0, MsgDlg3Proc);
}
break;
case IDC_BUTTON2: {
ShowWindow(hDlg, SW_HIDE);
DialogBox(ghDlg, MAKEINTRESOURCE(IDD_DIALOG2), 0, MsgDlg2Proc);
}
break;
}
return false;
}
break;
case WM_CLOSE:
DestroyWindow(hDlg);
return true;
case WM_DESTROY:
PostQuitMessage(0);
return true;
}
return false;
}
int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, PSTR cmdLine, int showCmd) {
hDlg = CreateDialog(ghDlg, MAKEINTRESOURCE(IDD_DIALOG1), 0, MsgDlgProc);
ShowWindow(hDlg, showCmd);
MSG msg;
ZeroMemory(&msg, sizeof(MSG));
while (GetMessage(&msg, 0, 0, 0)) {
if (hDlg == 0 || !IsDialogMessage(hDlg, &msg)) {
TranslateMessage(&msg);
DispatchMessage(&msg);
}
}
return (int)msg.wParam;
}
BOOL CALLBACK MsgDlg2Proc(HWND hDlg, UINT msg, WPARAM wParam, LPARAM lParam) {
switch (msg) {
case WM_INITDIALOG:
return true;
case WM_COMMAND: {
switch (LOWORD(wParam)) {
case IDC_BUTTON1: {
ShowWindow(hDlg, SW_HIDE);
DialogBox(ghDlg, MAKEINTRESOURCE(IDD_DIALOG1), 0, MsgDlgProc);
}
break;
}
return false;
}
break;
case WM_CLOSE:
DestroyWindow(hDlg);
return true;
case WM_DESTROY:
PostQuitMessage(0);
return true;
}
return false;
}
BOOL CALLBACK MsgDlg3Proc(HWND hDlg, UINT msg, WPARAM wParam, LPARAM lParam) {
switch (msg) {
case WM_INITDIALOG:
return true;
case WM_COMMAND: {
switch (LOWORD(wParam)) {
case IDC_BUTTON1: {
}
break;
case IDC_BUTTON2: {
ShowWindow(hDlg, SW_HIDE);
DialogBox(ghDlg, MAKEINTRESOURCE(IDD_DIALOG1), 0, MsgDlgProc);
}
break;
}
return false;
}
break;
case WM_CLOSE:
DestroyWindow(hDlg);
return true;
case WM_DESTROY:
PostQuitMessage(0);
return true;
}
return false;
}
Gracias
13105,ios,¿Que está mal de este código?¿Porque la vista azul no se muestra?
let myRedView = UIView(frame: CGRect(x: 0, y: 0, width: 400, height: 400))
myRedView.translatesAutoresizingMaskIntoConstraints = false
myRedView.backgroundColor = UIColor.redColor()
let myBlueView = UIView()
myBlueView.translatesAutoresizingMaskIntoConstraints = false
myBlueView.backgroundColor = UIColor.blueColor()
myRedView.addSubview(myBlueView)
let blueY = NSLayoutConstraint(item: myBlueView, attribute: .Left, relatedBy: .Equal, toItem: myRedView, attribute: .Right, multiplier: 1.0, constant: 10)
let blueX = NSLayoutConstraint(item: myBlueView, attribute: .Top, relatedBy: .Equal, toItem: myRedView, attribute: .Top, multiplier: 1.0, constant: 10)
//let blueWidth = NSLayoutConstraint(item: myBlueView, attribute: .Width, relatedBy: .Equal, toItem: nil, attribute: .NotAnAttribute, multiplier: 1.0, constant: 200)
//let blueHeight = NSLayoutConstraint(item: myBlueView, attribute: .Height, relatedBy: .Equal, toItem: nil, attribute: .NotAnAttribute, multiplier: 1.0, constant: 200)
myRedView.addConstraints([blueX,blueY])
Con o sin el width y el height, no se muestra y no entiendo la razón.
Otra duda que tengo sobre estos constraints es a quien debo aplicarle el .LeftMargin. Si a la vista principal sobre la que estoy modelando o a la segunda.
13146,ios,Muy buen dìa. estoy intentando insertar en sqlite con swift por medio de una func: sin embargo me sale este error: "Value of Type 'DataBaseHandler' has no member 'insertar_datos2'"  ¿Cual serìa el error?
NOTA: Ya he conectado las clases ej:   let numero_rows = DataBaseHandler().num_row_regs()
status.text = String(numero_rows) y fuenciona correctamente
let junta = DataBaseHandler().insertar_datos2(add1: "hola", add2: "hola", add3:"hola")
print(junta)
Y en  DataBaseHandler:
func insertar_datos2(f1: String, f2: String, f3: String) -> String {
databasePath = (NSTemporaryDirectory() as NSString).stringByAppendingPathComponent("dires.db")
let contactDB = FMDatabase(path: databasePath as String)
if contactDB.open() {
let insertSQL = "INSERT INTO CONTACTS (name, address, phone) VALUES ('\(f1)', '\(f2)', '\(f3)')"
let result_insert = contactDB.executeUpdate(insertSQL,withArgumentsInArray: nil)
if !result_insert {
self.sucess = "Fallo Al Insertar Registro."
print("Error: \(contactDB.lastErrorMessage())")
} else {
self.sucess = "Listo. Insertado con Èxito"
}
} else {
print("Error: \(contactDB.lastErrorMessage())")
}
return self.sucess
}
}
13153,ios,Hola acabo de desarrollar mi aplicación en Xcode 7 con Swift configure las constrains para cada pantalla pero al final cuando la pruebo con diferentes dimensiones en algunas sale bastante desajustada.
la primera es con 4 pulgadas Iphone 5 la segunda es con 3.5 pulgadas Iphone 4. Mi consulta hay alguna otra forma de configurar esta pagina mejor que las constraints o ajustar las constrains para que se vean similar en cada tamaña de pantalla?
13154,ios,Buenas tardes en mi app tomo una foto con la cámara y seguidamente la guardo en el álbum de fotos de la cámara, pero me la guarda con un nombre por default me gustaría saber como colocarle el nombre que yo quiera a la foto, el código que tengo a la hora de guardar la imagen es el siguiente:
func imagePickerController(picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [String : AnyObject]) {
self.guardaImagen = info[UIImagePickerControllerOriginalImage] as? UIImage
UIImageWriteToSavedPhotosAlbum(self.guardaImagen!, nil, nil, nil);
self.imagePick.dismissViewControllerAnimated(true, completion: {
self.performSegueWithIdentifier("envioFotoLink", sender: self)
})
}
13181,ios,Soy nuevo en el desarrollo de applicaciones para IOS y estoy usando swift, necesito generar un arreglo Json como este:
{
"PaymentItems": [
{
"id": "1",
"paid": false
},
{
"id": "2",
"paid": false
},
{
"id": "3",
"paid": false
}
]
}
para lograr lo antes mencionado estoy usando este bloque de codigo, hasta el momento sin exito.
var elementos = [AnyObject]()
for item in transacciones_modificacion
{
let jsonObjectPaid: [AnyObject]  = [[ "id": item.Id, "paid":  item.Paid]]
elementos.append(jsonObjectPaid)
}
let pagosArray = ["PaymentItems": [elementos]]
en un arreglo como este:
13308,ios,Hola estoy terminando una aplicación el problema es que en 3.5 y 4 pulgadas se ve bien pero en 4.7 y 5.5 se ve bastante desajustada la pantalla los objetos no estaban centrados y algunos aparecían sobre puestos en mi storyboard agregue un View para ordenar la pantalla y horizontalmente se ve bien pero en horizontal no está centrado. Mi consulta es si hay alguna forma o fórmula de Constraints para centrar o si puedo hacerlo por código. ya probe todos los posibles contraints y tambien la opcion de Reset to suggested.
13321,ios,Estoy intentando convertir este NSData
var elementos = [AnyObject]()
let jsonData = try? NSJSONSerialization.dataWithJSONObject(elementos, options: NSJSONWritingOptions.PrettyPrinted)
la constante jsonData lleva este valor:
[
{
"id" : "1",
"paid" : false
},
{
"id" : "2",
"paid" : false
}
]
a un arreglo [String: AnyObject] para poderlo enviar como parametro en el POST, estoy usando Alamofire
let decoded = try NSJSONSerialization.JSONObjectWithData(jsonData!, options: .MutableContainers) as? [String: AnyObject]
pero la constante decoded siempre me queda en nil
Gracias
13372,ios,¿Cómo hago para crear una cuenta de mi aplicación con  ACAccountStore en swift2 y Xcode ya que solo me muestra facebook y twitter pero no los voy a utilizar. Necesito crear es una cuenta que sea de mi aplicación. Gracias.
13400,ios,Tengo la siguiente función para llamar una URL que se encuentra en un REST desde Swift 2, pero cuando envío valores con espacio en el NSURL me aparece el siguiente error:
fatal error: unexpectedly found nil while unwrapping an Optional value
class func getApi(urlWithArgs: String?) -> NSMutableURLRequest {
let url: NSURL = NSURL(string: urlWithArgs!)!
let resquest = NSMutableURLRequest(URL: url)
return resquest
}
¿Qué tengo mal para que aparezca ese error únicamente cuando envío valores con un espacio? Ejemplo, envío un nombre: "pepito perez". ¿Por qué si envío "pepitoperez" funciona?
Gracias
13453,ios,Estoy tratando de llamar un view del story board con el siguiente codigo pero me sale el error as no segue with identifier
Estoy usando el siguiente código:
dispatch_async ( dispatch_get_main_queue ())  {
[ unowned self ]  in
self . performSegueWithIdentifier ( "WelcomeController" , sender :  self )
}
13510,c++,Necesitamos dibujar una linea sobre una imagen en el programa Qt
13530,ios,Estoy obteniendo datos de un API REST con Swift 2 y necesito que mientras carga la información se muestre una precarga.
¿Cómo puedo hacerlo?
13575,ios,Quisiera saber como accedo a una foto guardada dentro del photo album del dispositivo. He utilizado UIImagePickerController pero no necesito que se abra la galería de fotos y seleccionar la foto. Quisiera que por medio del código le mande el nombre de la imagen que necesito y la retorne. ¿Existe alguna función para lograr esto?
13579,c++,Este es el código de mi programa:
#include stdio.h
#include stdlib.h
#include string.h
int main ()
{
string a;
string help = "-h";
printf("Por favor introduzca la orden. Si desea ver la ayuda introduzca -h");
scanf(&a);
if ( a == help)
{
printf("\n\nComandos y expresiones de iptables:");
}
else
{
system("iptables %c && iptables -L -v -n", a);
}
return 0;
}
El tema es que no consigo que funcione ni el if ni las variables string ya que gcc me dice esto:
TerFirewall.cpp: In function ‘int main()’:
TerFirewall.cpp:5:2: error: ‘string’ was not declared in this scope
string a;
TerFirewall.cpp:6:9: error: expected ‘;’ before ‘help’
string help = "-h";
TerFirewall.cpp:8:9: error: ‘a’ was not declared in this scope
scanf(&a);
TerFirewall.cpp:9:12: error: ‘help’ was not declared in this scope
if ( a == help) {
He probado varias veces cambiando nimiedades como en vez de usar string para la declaración de las variables, usar char pero dice lo mismo del error "string". También intenté probando otra forma para almacenar el texto en la variable string pero si dejo comillas simples sigue el mismo error y si se las saco dice que la variable h no ha sido declarada.
Y con el if es algo parecido porque no reconoce el help. Y con scanf() no sé como hacer ya que he visto en otros foros que es mejor que getchar(), pero no sé.
13627,c++,#include <iostream>
#include <windows.h>
#include <conio.h>
#define ARRIBA     72
#define IZQUIERDA  75
#define DERECHA    77
#define ABAJO      80
using namespace std;
int i=4;
void SetColor(int ForgC)
{
WORD wColor;
//This handle is needed to get the current background attribute
HANDLE hStdOut = GetStdHandle(STD_OUTPUT_HANDLE);
//csbi is used for wAttributes word
CONSOLE_SCREEN_BUFFER_INFO csbi;
if(GetConsoleScreenBufferInfo(hStdOut, &csbi))
{
//To mask out all but the background attribute, and to add the color
wColor = (csbi.wAttributes & 0xF0) + (ForgC & 0xF0);
SetConsoleTextAttribute(hStdOut, wColor);
}
return;
}
void gotoxy(int x, int y)  // funcion que posiciona el cursos en la         coordenada (x,y)
{
HANDLE hCon;
COORD dwPos;
dwPos.X = x;
dwPos.Y = y;
hCon = GetStdHandle(STD_OUTPUT_HANDLE);
SetConsoleCursorPosition(hCon,dwPos);
}
void seleccionarOpcion(char tecla){
gotoxy(4, i); cout<<" ";
if( tecla == ABAJO && i < 7 ){
gotoxy(8, 9);
cout<<"                          ";
i++;
}
if( tecla == ARRIBA && i > 4){
gotoxy(8, 9);
cout<<"                          ";
i--;
}
if( tecla == 13 ){
gotoxy(8, 9);
if( i == 4 ) cout<<"Eligio la primera opcion";
if( i == 5 ) cout<<"Eligio la segunda opcion";
if( i == 6 ) cout<<"Eligio la tercera opcion";
if( i == 7 ) cout<<"Eligio la cuarta opcion";
}
gotoxy(4, i); cout<<">";
}
void menu(char tecla){
seleccionarOpcion(tecla);
gotoxy(5, 4); cout<<" primera";
gotoxy(5, 5); cout<<" segunda";
gotoxy(5, 6); cout<<" tercera";
gotoxy(5, 7); cout<<" cuarta";
}
int main()
{
char tecla;
while(true){
if( kbhit() )
tecla = getch();
else
tecla = ' ';
menu(tecla);
Sleep(40);
}
system("pause>null");
return 0;
}
Lo que quiero llegar a hacer es algo mas o menos asi
13656,ios,Quería saber si alguien puede explicarme los métodos de UIView acerca de como se actualizan los constraints, de la fase de layout de las UIView, y la sobre el display.
Mi duda viene sobre en que orden y como funcionan los métodos
updateViewConstraints(), updateConstraintsIfNeeded(), updateConstraints(), layoutIfNeeded(), setNeedsLayout(),setNeedsUpdateConstraints(), los cuales están relacionados.
Imagen de la cual vino la duda
13734,c++,#include <iostream>
#include <windows.h>
using namespace std;
class Nodo {
public:
string cadena;
int vecesRepetidas;// se usara solo para la lista de palabras repetidas
Nodo *izquierda, *derecha;
Nodo(string cad): cadena(cad), izquierda(NULL), derecha(NULL){}
Nodo(string cd, int veces): cadena(cd), vecesRepetidas(veces), izquierda(NULL), derecha(NULL){}
};
class Arbol {
public:
Nodo *raiz;
int cont;
void insertar(Nodo *nuevo);
void mostrarPreorden(Nodo *r);
void repetidos(Nodo *r);
Arbol(): raiz(NULL), cont(0){}
};
void Arbol::insertar(Nodo *nuevo){
Nodo *n = new Nodo(nuevo->cadena);
string temp;
if(raiz == NULL){
raiz = nuevo;
}else{
Nodo *aux = raiz;
Nodo *padre;
while(true){
padre = aux;
if( n->cadena < aux->cadena ){
aux = aux->izquierda;
if(aux == NULL){
padre->izquierda = n;
break;// finaliza el metodo
}
}else{
aux = aux->derecha;
if(aux == NULL){
padre->derecha = n;
break; // finaliza el metodo
}
}
}
}
}
void Arbol::mostrarPreorden(Nodo *r){
if( r != NULL ){
cout<<r->cadena<<endl;
mostrarPreorden(r->izquierda);
mostrarPreorden(r->derecha);
}
}
void Arbol::repetidos(Nodo *r){
if( r != NULL ){
if( r->cadena == raiz->cadena ){
cont++;
}
repetidos(r->izquierda);
repetidos(r->derecha);
}
cout<<"la raiz se repite "<<cont<<endl;
}
int main()
{
Nodo *aux;
Arbol arbol;
string palabra;
char resp[3];
do{
int opc;
cout<<"------------- MENU --------------"<<endl;
cout<<"     1. anadir un nodo "<<endl;
cout<<"     2. mostrar nodos"<<endl;
cout<<"     3. mostrar repetidos de la raiz"<<endl;
cin>>opc;
switch(opc){
case 1:
cout<<"\ndigite la palabra a agregar"<<endl;
cin>>palabra;
aux = new Nodo(palabra);
arbol.insertar(aux);
break;
case 2:
arbol.mostrarPreorden(arbol.raiz);
break;
case 3:
arbol.repetidos(arbol.raiz);
break;
}
cout<<"Desea volver a ingresar otra palabra? (s/n)"<<endl;
cin>>resp;
system("cls");
}while( resp[0] == 'S' || resp[0] == 's' );
return 0;
}
La idea es que diga cuantas veces se repite cada nodo. En este caso cada nodo tiene un string, entonces debe decir cuantas veces se repite cada palabra almacenada en cada uno de los nodos. Hasta ahora solo he podido hacer que diga cuantas veces se repite la raíz, y el resultado no es muy bueno que digamos.
13757,ios,Es posible deshabilitar la conexión a internet en el simulador de IOS de xcode 7?
13779,ios,Tengo un servicio web en donde esta una foto y necesito descargarla a mi dispositivo, guardarla y ademas crear una carpeta donde se debe de guardar la imagen desde swift 2.
como puedo lograrlo hacer? como lo hago?
Gracias.
13820,ios,Estoy guardando una imagen en un directorio pero cuando voy a acceder a ella me devuelve que no existe el archivo y revisando la ruta encuentro que parte de ella cambia cada vez que accedo a la ruta adjunto ejemplo:
/Users/mac/Library/Developer/CoreSimulator/Devices/B378CE15-4E91-4EA1-9DDD-FCD5DC9D8190/data/Containers/Data/Application/21C7E4D9-B138-44C2-80BB-2B431056C0EE/Documents/TMGProfileImage/663565364763465.jpg
/Users/mac/Library/Developer/CoreSimulator/Devices/B378CE15-4E91-4EA1-9DDD-FCD5DC9D8190/data/Containers/Data/Application/EEE47491-8D09-40FB-ADBE-78E7B1F83674/Documents/TMGProfileImage/663565364763465.jpg
¿Qué debo de hacer en este caso para que no se pierda el archivo?
Gracias
13873,ios,Hay alguna forma de hacer contenidos responsive sin usar Constraint?
Porque estoy realizando un lector rss y para que se adapte a todos los iphone tengo que poner constraints pero siempre que las uso me aparecen estos errores en la consola
Probably at least one of the constraints in the following list is one you don't want.
Try this:
(1) look at each constraint and try to figure out which you don't expect;
(2) find the code that added the unwanted constraint or constraints and fix it.
(
"<NSLayoutConstraint:0x7fa26a6da110 UILabel:0x7fa26a6d8340'Construir una pista depor...'.top == UITableViewCellContentView:0x7fa26a6d7620.topMargin + 10>",
"<NSLayoutConstraint:0x7fa26a6da1b0 V:[UILabel:0x7fa26a6d8340'Construir una pista depor...']-(5)-[UILabel:0x7fa26a6d9030'Martes, 14 de Junio de 20...']>",
"<NSLayoutConstraint:0x7fa26a6da2f0 UITableViewCellContentView:0x7fa26a6d7620.bottomMargin == UILabel:0x7fa26a6d77c0'Son los anuncios que ha r...'.bottom + 10>",
"<NSLayoutConstraint:0x7fa26a6da340 V:[UILabel:0x7fa26a6d9030'Martes, 14 de Junio de 20...']-(5)-[UILabel:0x7fa26a6d77c0'Son los anuncios que ha r...']>",
"<NSLayoutConstraint:0x7fa26a6ed570 'UIView-Encapsulated-Layout-Height' V:[UITableViewCellContentView:0x7fa26a6d7620(44.5)]>"
)
13960,c++,existe alguna forma para que en un array todas las VARIABLES tengan el mismo valor inicial sin usar un bucle FOR o WHILE.
aqui un ejemplo de como lo he logrado con un bucle FOR.
#include<iostream>
using namespace std;
int main(){
int a[10];
for(int i = 0;i < 10;i++){
a[i] = 0;
}
}
la idea es que todas las VARIABLES que esten dentro del array a   tengan el mismo valor.
NOTA:era un array, no una tabla (error de novato)
13974,ios,Necesito medir el tiempo en el que se ejecuta un algoritmo en iOS. Por ejemplo: quiero comparar la velocidad en que se obtiene el Factorial de un número hecho por recursividad y hecho sin este.
Este es mi programa:
import UIKit
class ViewController: UIViewController {
@IBOutlet weak var numberInput: UITextField!
@IBOutlet weak var resultLabel: UILabel!
override func viewDidLoad() {
super.viewDidLoad()
// Do any additional setup after loading the view, typically from a nib.
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
@IBAction func factorial(sender: AnyObject) {
let numberInt = Int(numberInput.text!)
if numberInt != nil!{
let number = numberInt!
let fact = factorial2(number)
resultLabel.text = "El factorial es: \(fact)"
} else{
resultLabel.text = "Por favor, introduce un número"
}
}
func factorial2(number: Int) -> (Int) {
if (number <= 1) {
return 1
}
return number * factorial2(number - 1)
}
}
Gracias!
13996,ios,Estoy realizando una app en Swift 2, y tengo un UITableView con tweets que obtengo con la API de Twitter, y muestro la imagen de perfil, el nombre de usuario, la fecha de publicación y el contenido del tweet. Lo que quiero es que si clico en la imagen me lleve a su perfil, y si clico en el tweet me lleve al tweet. ¿Cómo puedo hacer para que dentro de un UITableViewCell pueda tener dos enlaces?
14082,c++,Buenas trato de hacer el siguiente problema.
Aqui esta mi solución:
#include <stdio.h>
#include <bits/stdc++.h>
using namespace std;
#define MAX 10005
#define Node pair< int , int >
#define INF 1<<30
struct cmp {
bool operator() ( const Node &a , const Node &b ) {
return a.second > b.second;
}
};
vector< Node > ady[ MAX ]; vector<int> distancia[ MAX ];
bool visitado[ MAX ];
priority_queue< Node , vector<Node> , cmp > Q;
int V;
void init(){
for( int i = 0 ; i <= V ; ++i ){
for (int j = 0; j <= V; ++j){
distancia[i].push_back(INF);
}
visitado[ i ] = false;
}
}
void relajacion( int actual , int adyacente , int peso ,int inicial){
if( distancia[ inicial ][actual] + peso < distancia[ inicial][adyacente ] ){
distancia[ inicial][adyacente ] = distancia[ inicial ][actual] + peso;
Q.push( Node( adyacente , distancia[inicial][ adyacente ] ) );
}
}
void dijkstra( int inicial ){
init();
Q.push( Node( inicial , 0 ) );
distancia[ inicial ][inicial]=0;
int actual , adyacente , peso;
while( !Q.empty() ){
actual = Q.top().first;
Q.pop();
if( visitado[ actual ] ) continue;
visitado[ actual ] = true;
for( int i = 0 ; i < ady[ actual ].size() ; ++i ){
adyacente = ady[ actual ][ i ].first;
peso = ady[ actual ][ i ].second;
if( !visitado[ adyacente ] ){
relajacion( actual , adyacente , peso ,inicial);
}
}
}
}
int main(){
int origen, destino , peso , inicial;
int f;
while(cin>>f>>V){
vector <int> fire(f);
for(int i=0;i<f;i++){
scanf("%d",&fire[i]);
}
for (int i = 0; i < V; ++i){
scanf("%d %d %d" , &origen , &destino , &peso );
ady[ origen ].push_back( Node( destino , peso ) );
ady[ destino ].push_back( Node( origen, peso ) );
}
for (int i = 1; i <= V; ++i){
dijkstra(i);
}
int consulta=0;
int cont2=INF;
for (int i = 1; i <= V; ++i){
int cont=0;
int nuevo=INF;
fire.push_back(i);
for (int k = 1; k <= V; ++k){
nuevo=INF;
vector<int>::iterator it=find(fire.begin(),fire.end(),k);
if(it!=fire.end())continue;
for (int j = 0; j < fire.size(); ++j){
if(k!=fire[j]){
if(nuevo>distancia[k][fire[j]]){
nuevo=distancia[k][fire[j]];
}
}
}
if(nuevo==INF){
nuevo=0;
}
cont+=nuevo;
}
if(cont2>cont){
cont2=cont;
consulta=i;
}
fire.pop_back();
}
printf("%d",consulta);
return 0;
}
}
La cual es ineficiente por el tema de la complejidad O(f2*i) , y la memoria que ocupa , sin embargo , creo que no esta del todo mal , sino en la ultima parte , si pudieran darme una ayuda , ojo se que la solución esta en alguna web , solo quiero una pista,que llevo un buen tiempo en este problema,u otro enfoque , pues creo que usando algun algoritmo voraz podría salir.
14155,ios,estoy desdarrollando una app que funciona como lector rss, al leer la información de un xml, obtengo el titulo de la noticia, la fecha, y una imagen,
la imagen la obtengo con el siguiente código:
var cell:UITableViewCell = UITableViewCell()
cell = tableView.dequeueReusableCellWithIdentifier("BasicCell")!
let imageView: UIImageView? = cell.viewWithTag(2) as! UIImageView?
let url:NSURL? = NSURL(string:currentArticleToDisplay.imagen)
let imageRequest = NSURLRequest(URL: url!)
NSURLConnection.sendAsynchronousRequest(imageRequest, queue: NSOperationQueue.mainQueue(), completionHandler: {(response, data, error) in
actualImageView.image = UIImage(data: data!)
})
He añadido una constraint para que la imagen me ocupe el ancho de la pantalla, pero como puedo hacer para que me salga la imagen con el ancho completo, pero sin cortar la imagen, ya que como lo tengo ahora, me sale la imagen pero cortada al tamaño de la pantalla. Gracias
14211,ios,Estoy haciendo un login de usuarios desde Firebase. El botón Regístrate me envía a la Vista de Registrar, contiene la un Navigation Bar para regresar, esto funciona OK.
Con el botón Iniciar Sesión, si el usuario y contraseña son incorrectas me lanza una alerta de error (cosa que está bien), cuando es correcta se dirige a la Vista de color naranja que le he puesto de nombre Principal. El problema es que el Navigation Bar ya no aparece, hay alguna manera de activarla con código? Y salga la opción de regresar y/o poder agregar la opción de cerrar sesión?
El código de la vista rosa es el siguiente:
import UIKit
import Firebase
class LoginUser: UIViewController {
@IBOutlet weak var Usuario: UITextField!
@IBOutlet weak var Contra: UITextField!
override func viewDidLoad() {
super.viewDidLoad()
// Do any additional setup after loading the view, typically from a nib.
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
@IBAction func IniciarSesion(sender: AnyObject) {
FIRAuth.auth()?.signInWithEmail(Usuario.text!, password: Contra.text!, completion: {
user, error in
if error != nil{
let alert = UIAlertController(title: "Error", message:"Usuario o Contraseña incorrecta", preferredStyle: .Alert)
alert.addAction(UIAlertAction(title: "OK", style: .Default) { _ in })
self.presentViewController(alert, animated: true){}
}else{
let nuestroStoryBoard : UIStoryboard = UIStoryboard(name: "Main", bundle: nil)
let mainPrincipal = nuestroStoryBoard.instantiateViewControllerWithIdentifier("Princ") as! Principal
self.presentViewController(mainPrincipal, animated: true, completion: nil)
}
})
}
}
Cabe indicar que el botón Registrar que me dirige a la Vista Mostaza la hice con un Segue, supongo que por eso si me aparece el Navigation Bar, más no en la Naranja que lo he hecho con código.
14421,c++,Ayuda estoy haciendo un batalla naval en c++ y tengo que enfrentar ak usuario frente a la maquina  y debo usar la funcion rand para generar un coordenada aleatoria dentro de una matriz 10x10, que hago para que no repita el mismo dato?.
14556,c++,#include<iostream>
#include<time.h>
using namespace std;
int main()
{
int filas,columnas,matriz[100][100];
cout<<"por favor introdusca la cantidad de filas : ";cin>>filas;
cout<<"por favor introdusca la cantidad de columnas : ";cin>>columnas;
for(int i=0;i<filas;i++){
for(int j=0;j<columnas;j++){
srand(time(NULL));
matriz[i][j]=1+rand()%(100+1-1);
}
}
cout<<"la matriz quedo de esta forma"<<endl;
for(int i=0;i<filas;i++){
for(int j=0;j<columnas;j++){
cout<< matriz[i][j];
}
cout<<"\n";
}
system("pause");
return 0;
}
14557,c++,En esta serie no entiendo cómo plantear la parte "hasta n igual infinito". Infinito no existe, y si existiese entonces el programa en teoría nunca terminaría de ejecutarse. ¿Cómo se implementan este tipo de operaciones?
Aquí dejo una imagen donde se muestran lo que me piden:
int main () {
int i=0, n=1;
while (i<n) {
i++;
n++;
cout <<i<<endl;
}
getch();
return 0;
}
Por el momento tengo esto que me muestra todos los números desde el 1 hasta el infinito(porque el programa no termina de ejecutarse), pero al momento que quiero llevar esta lógica a mi problema no me compila y me trabo.
14831,ios,Estoy realizando una app que funciona como lector de feeds.
Tengo un UITableViewController, en el que muestro todas las noticias que leo de un xml, muestro el título, la fecha, una breve descripción y una imagen. Menos la imagen, todo lo muestro correcto.
He añadido la librería AlamofireImage para que se visualicen las imágenes. En un primer momento no aparecen, pero si recargo la vista con un reloadData(), las imágenes aparecen.
La mayoría de las imágenes se ven en su posición correcta, pero otras se salen de su posición y en algunas, solo sale imagen. El título, la fecha y la descripción ni aparecen.
Si a las imágenes les pongo un ancho y un alto fijo, aparece perfectamente, pero si solo las posiciono por constraints, es cuadno aparece ele error, que tardan en cargar
Os dejo el código que utilizo:
if let actualImageView = imageView {
// actualImageView.load(currentArticleToDisplay.imagen)
/*let url:NSURL? = NSURL(string:currentArticleToDisplay.imagen)
let imageRequest = NSURLRequest(URL: url!)
NSURLConnection.sendAsynchronousRequest(imageRequest, queue: NSOperationQueue.mainQueue(), completionHandler: {(response, data, error) in
actualImageView.image = UIImage(data: data!)
//actualImageView.contentMode = UIViewContentMode.ScaleAspectFit
})*/
actualImageView.contentMode = .ScaleAspectFit
let URL = NSURL(string: currentArticleToDisplay.imagen)!
actualImageView.af_setImageWithURL(
URL,
placeholderImage: nil,
filter: nil
)
//actualImageView.frame = view.bounds
//actualImageView.autoresizingMask = [.FlexibleWidth, .FlexibleHeight]
//actualImageView.contentMode = UIViewContentMode.ScaleAspectFit
}
Las constraints, las tengo definidas en el Main.storyboard, porque si las ponía en código, tampoco me cargaban en un primer momento.
¿Alguna idea de cual puede ser el problema?
¿Hace falta que añada mas partes del código?
¿Es esta la forma correcta de mostrar imágenes?
¿Hay alguna libreria con la que lo pueda solucionar?
Gracias!
14836,javascript|jquery|html,Tengo esta tabla
<table class="table table-bordered table-hover">            <thead>
<tr class="text-uppercase">
<th>id</th>
<th>Articulo</th>
<th>Contenido</th>
<th>Categoria</th>
<th>Usuarios</th>
<th>Editar</th>
<th>Eliminar</th>
</tr>
</thead>            <tbody>
<?php $contador=1; ?>
@foreach($listaarticulo as $articulo)
<tr data-identificador="{{$contador}}">
<td>{{$articulo->id}}</td>
<td data-nombrearticulo="{{$articulo->title}}">{{$articulo->title}}</td>
<td>{{$articulo->content}}</td>
<td>{{$articulo->categoria->nombre}}</td>
<td>{{$articulo->usuario->name}}</td>
<td>
<a href="{{route('articulos.edit',$articulo->id)}}" class="btn btn-warning"><span class=" glyphicon glyphicon-edit"> EDITAR
</span></a>
</td>
<td>
{!! Form::open(array('route' =>array('articulos.destroy',$articulo->id),'method'=>'delete')) !!}
<input type="submit"  class="btn btn-danger glyphicon glyphicon-trash eliminarArticulo" value ="ELIMINAR" >
{!! Form::close() !!}
</td>
</tr>
<?php $contador = $contador + 1 ?>          @endforeach             </tbody>        </table>
Lo que quiero es que al pulsar en el boton con la clase  eliminarArticulo, me muestre un confirm diciendo que se va a eliminar el articulo de nombre xx de la tabla seleccionada y posteriormente si dices que si lo elimine.
El problema lo tengo al intentar acceder a esa columna, ya que el contenido es dinamico y no se muy bien como referenciarlo.
He hecho esto pero aun sigo sin conseguirlo
$(document).ready(function(){
$('.eliminarArticulo').click(
function()
{
var fila =  $(this).parents('tr');
var valor= fila.data("identificador");
var articulo = $(this).data("nombrearticulo");
if(confirm('seguro que deseas eliminar este Articulo :: '+'  '+articulo+'  '+valor))
{
return true;
}
});
})
esto me selecciona la columna 2 entera , yo quiero que me seleccione la fila de la columna 2 del boton donde le de yo a eliminar, para obtener el nombre del articulo seleccionado.
Luego si uso el metodo click, me elimina directamente el articulo sin tener en cuenta el confirm, sin embargo si uso el metodo submit, me aparece el confirm pero no me elimina el articulo
14846,,Tengo una duda; ¿Cómo implementar correctamente el patrón MVVM?
Tengo un modelo; Usuario, con las propiedades; Nombre, contraseña.
En el ViewModel creo la propiedad full Usuarios en una observable collection, aquí heredo el bindablebase con su InotifyPropertyChange
En el view hago Binding en dos TextBox; Usuario.nombre y Usuario.contraseña.
Pero no se notifica el cambio al escribir en los textbox.
¿Donde tengo que notificar los cambios en el Model ó en el VisualModel?
¿Cómo debería hacer esto correctamente?
Este es el código
Model
public class UsuarioModel
{
public string Nombre{get;set;}
public string Password { get; set; }
}
ViewModel
public DelegateCommand MouseLeftButtonDown { get;private set; }
public DelegateCommand Salir { get; private set; }
public DelegateCommand Login { get; private set; }
public DelegateCommand PasswordChanged {get;set;}
private UsuarioModel _usuario;
public UsuarioModel Usuario
{
get { return _usuario; }
set {SetProperty(ref _usuario, value); }
}
public LoginVM()
{
MouseLeftButtonDown = new        DelegateCommand(MouseLeftButtonDownExecute,MouseLeftButtonDownCanExecute);
Salir = new DelegateCommand(SalirExecute, SalirCanExecute);
Login = new DelegateCommand(LoginExecute, LoginCanExecute);
PasswordChanged = new DelegateCommand(PasswordChangedExecute, PasswordChangedCanExecute);
Usuario = new UsuarioModel();
}
View
<Label Content="Usuario:" Grid.Row="0" FontSize="16" FontWeight="Bold" Foreground= "#FFFF5254" Margin="15,0,0,0"></Label>
<Border  Grid.Row="1" Margin="15,0,15,0" Background="#FFDCD4D4" CornerRadius="10">
<TextBox  Background="#FFDCD4D4" Margin="10,0,10,0" FontSize="15" Foreground="#FFA82020" BorderBrush="{x:Null}" SelectionBrush="{x:Null}" TabIndex="1" BorderThickness="0" Text="{Binding Usuario.Nombre,Mode=TwoWay}"/>
</Border>
<Label Content="Contraseña:" Grid.Row="2" FontSize="16" FontWeight="Bold" Foreground="#FFFF5254" Margin="15,0,0,0"></Label>
<Border Grid.Row="3" Background="#FFDCD4D4" Margin="15,0,15,0" CornerRadius="10">
<PasswordBox  Margin="10,0,10,0" Background="#FFDCD4D4"    FontSize="15" Foreground="#FFA82020" BorderBrush="{x:Null}" SelectionBrush="{x:Null}" TabIndex="2" BorderThickness="0">
<i:Interaction.Triggers>
<i:EventTrigger EventName="PasswordChanged">
<i:InvokeCommandAction Command="{Binding PasswordChangedCommand}" CommandParameter="{Binding ElementName=txtPassword}"/>
</i:EventTrigger>
</i:Interaction.Triggers>
</PasswordBox>
</Border>
14852,,Tengo un problema a la hora de actualizar un proyecto desde asp mvc 2 a asp mvc 5, originalmente el proyecto estaba en asp mvc 1 y logre migrarlo a asp mvc 2, lo hice instalando vs studio 2008 en windows xp y desde ahí cambié la version de .net a la que apuntaba el proyecto.
Sin embargo quiero migrarlo a vs 2015 community y asp mvc 5, pero al querer abrir el proyecto, obtengo el mensaje de que el tipo de proyecto no existe.
Mi pregunta es: ¿Existe alguna forma de hacer compatible un proyecto de vs 2008 mvc 2, con vs 2015 community?
14860,,Tengo el error 91 en VBA con el siguiente código:
Dim i, c, b, a,
With wsMissingSCM2.ListObjects("tblReportData2")
.TableStyle = "TableStyleLight6"
'
' LocationColumn
'
i = 1
.ListColumns(i).DataBodyRange.HorizontalAlignment = xlCenter 'ERROR HERE
.HeaderRowRange.Columns(i).Value = "Missing Item"
.ListColumns(i).DataBodyRange.ColumnWidth = 14
¿Alguna sugerencia?
14866,,Verán tengo una base de datos en phpmyadmin y al querer hacer una consulta a una tabla, no me deja, sólo puedo visualizarla pero no puedo hacer consultas, cuando intento hacer mi propia consulta, en SQL me aparece:
2002 - El servidor no está respondiendo (o el zócalo local al servidor MySQL no está configurado correctamente).
Pero sólo eso, las demás tablas que tengo en esa base de datos sí tengo acceso a ellas y sí puedo hacer consultas.
PD. Estoy en windows y no utilizo xampp
14867,,Estoy desarrollando en ubuntu y necesito usar una base de datos sql server, es posible hacer la conexión si instalo sql server en una maquina virtual
14870,javascript,He intentado con:
var data = {};
var file = {file:{name: 'Getter - Blood.mp3', path: '/user1'}};
data.push(file);
//Y tambien asi
data.file = file;
Pero nada funciona no tira error ni nada pero luego al imprimirlo en pantalla no aparecen los nuevos items
14871,android,Al intentar recibir las notificaciones en Android se genera el siguiente error:
Failed to resolve target intent service, skipping classname enforcement
Error while delivering the message: ServiceIntent not found.
El envío  lo he comprobado en la web http://techzog.com/development/gcm-notification-test-tool-android/ y se realiza correctamente pero no se recibe en el dispositivo.
google-services.json lo he situado en /app
Android Manifest:
<manifest package="com.packageName"
xmlns:android="http://schemas.android.com/apk/res/android">
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
<uses-permission android:name="android.permission.GET_ACCOUNTS" />  <!-- support previous 4.4 KitKat devices-->
<uses-permission android:name="android.permission.WAKE_LOCK" />
<uses-permission android:name="com.packageName.permission.C2D_MESSAGE" />
<application
android:name="AppName"
android:allowBackup="true"
android:icon="@mipmap/ic_launcher"
android:label="@string/app_name"
android:supportsRtl="true"
android:theme="@android:style/Theme.Black.NoTitleBar">
<receiver
android:name="com.google.android.gms.gcm.GcmReceiver"
android:exported="true"
android:permission="com.google.android.c2dm.permission.SEND" >
<intent-filter>
<action android:name="com.google.android.c2dm.intent.RECEIVE" />
<category android:name="com.packageName" />
</intent-filter>
<intent-filter> <!-- support previous 4.4 KitKat devices-->
<action android:name="com.google.android.c2dm.intent.REGISTRATION" />
<category android:name="com.packageName" />
</intent-filter>
</receiver>
<service
android:name="com.packageName.activities.RegistrationIntentService"
android:exported="false" >
</service>
<service
android:name="com.packageName.activities.GcmIDListenerService"
android:exported="false">
<intent-filter>
<action android:name="com.google.android.gms.iid.InstanceID" />
</intent-filter>
</service>
<service
android:name="com.packageName.activities.MyGcmListenerService"
android:exported="false" >
<intent-filter>
<action android:name="com.google.android.c2dm.intent.RECEIVE" />
</intent-filter>
</service>
</application>
MyGcmListenerService:
public class MyGcmListenerService extends GcmListenerService {
@Override
public void onMessageReceived(String from, Bundle data) {
String message = data.getString("message");
Log.d("From", "From: " + from);
Log.d("Msg", "Message: " + message);
}
}
RegistrationIntentService:
public class RegistrationIntentService extends IntentService {
private static String SENDER_ID = "MySenderID";
public RegistrationIntentService(){
super(SENDER_ID);
}
@Override
public void onHandleIntent(Intent intent){
SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
try {
InstanceID instanceID = InstanceID.getInstance(this);
String token = instanceID.getToken(getString(R.string.gcm_defaultSenderId),
GoogleCloudMessaging.INSTANCE_ID_SCOPE, null);
Log.i("TOKEN", "GCM Registration Token: " + token);
} catch (Exception e) {
Log.d("Fail token", "Failed to complete token refresh", e);
}
}
}
GcmIDListenerService:
public class GcmIDListenerService extends InstanceIDListenerService {
@Override
public void onTokenRefresh() {
Intent intent = new Intent(this, RegistrationIntentService.class);
startService(intent);
}
}
14872,php,Estoy intentando enviar email en laravel, y me aparece el siguiente error
Expected response code 250 but got code "553", with message "553 Relaying disallowed as
Es raro, porque si me funciona mandar mails cuando estoy logueado, pero si no lo estoy me sale ese error.
Probé cambiar el email driver a "mail" en vez de "smtp" pero ahi no recibo los emails. Estoy usando zoho email.
14873,java,Tengo un problema al tratar de probar conexión a una base de tipo SQLite, mi método de conexión lo tengo en una clase llamada nwSQLiteCnct el cual es el siguiente:
public void connect(String url)
{
try
{
connect = DriverManager.getConnection("jdbc:sqlite:" + url);
if (connect!=null)
{
System.out.println("Conectado");
}
}
catch (SQLException ex)
{
System.err.println("No se ha podido conectar a la base de datos\n"+ex.getMessage());
}
}
El parametro url de connect se lo paso con una variable que traigo de un Propertie que leo de la siguiente manera:
try
{
//Obtiene el archivo propertie
arch = getClass().getResourceAsStream("/data/dbprop.properties");
//Crea una nueva instancia del objeto Propertie prp
prp = new Properties();
//Carga el archivo arch en el nuevo propertie
prp.load(arch);
//Asigna la direccion de la BD guardada en el propertie
DB = prp.getProperty("db");
//Instancia la clase conexion
cnct = new nwSQLiteCnct();
//Se conecta
cnct.connect(DB);
if(cnct != null)
{
JOptionPane.showMessageDialog(null, "La conexion esta funcionando correctamente!", "Correcto!",
JOptionPane.INFORMATION_MESSAGE);
}
else
{
JOptionPane.showMessageDialog(null, "No se encuentra el archivo correcto de conexion!", "Error!",
JOptionPane.ERROR_MESSAGE);
}
}
catch(IOException a)
{
System.err.println( a.getClass().getName() + ": " + a.getMessage() );
}
Esto es todo lo que contiene el Propertie dbprop.properties:
db = /Users/soporte02/Desktop/AccessPROTimeNet.db
Mi problema ocurre en que si la base de datos no esta en la dirección especificada, se crea otro archivo igual aunque sin ningún dato ilegible, por lo tanto siempre lanzara que la base de datos esta en la dirección correcta aunque no responda al momento de hacer consultas. No se si alguien pudiera ayudarme o decirme si lo estoy haciendo de manera correcta o hay algo en que me estoy equivocando.
14877,,Tengo una duda: Al rellenar un formulario y al pulsar el botón de Save, este se queda pulsado, ¿Porqué pasa esto?. Hace correctamente la introducción de datos pero se queda pulsado el botón. No se si habría que indicar con alguna propiedad en el botón.
<a href class="button submit" onclick="addprueba(dni1);">Save</a>
14883,c#,Buenas, mi problema es que en la parte del código que aparece el primer if del Case 1: dice if (pos < vectorsize) esto lo hago para que el usuario no pueda agregar más datos y no se exceda del limite,
El problema es que al volver al menú principal, la variable pos vuelve a 0 por lo que nunca va a llagar al else donde muestra el error de limite execido, mi pregunta es ¿Cómo hago para que no se vuelva a 0 cada vez que entra al menú?
static void Main(string[] args)
{
int oba = 0, obb = 0, obc = 0, pra = 0, prb = 0, prc = 0, proy = 0;
int opcion = 0;
int confirmacion = 0;
int ci = 0;
int vectorsize = 0;
int pos = 0;
if (vectorsize == 0)
{
Console.WriteLine("Ingrese la cantidad de alumnos.");
vectorsize = Convert.ToInt32(Console.ReadLine());
}
double[] alumnos = new double[vectorsize];
while (opcion != 4)
{
string opcionsino = "SI";
Console.Clear();
//Console.WriteLine(vectorsize);
Console.WriteLine("Bienvenido");
Console.WriteLine("");
Console.WriteLine("1-> Agregar alumno.");
Console.WriteLine("2-> Asignar notas.");
Console.WriteLine("3-> Informe.");
Console.WriteLine("4-> Salir.");
Console.WriteLine("");
Console.WriteLine("Elija una opcion.");
Console.WriteLine(pos);
opcion = Convert.ToInt32(Console.ReadLine());
switch (opcion)
{
case 1:
{
Console.Clear();
for (int i = 0; opcionsino == "SI" || opcionsino == null; i++)
{
if (pos < vectorsize)
{
for (int i2 = 0; i2 < alumnos.Length && alumnos[i2] != 0; i2++)
pos = i2 + 1;
Console.Clear();
Console.WriteLine("Ingrese la cedula del alumno sin puntos ni guiones Ej: 12345678");
ci = Convert.ToInt32(Console.ReadLine());
for (int i3 = 0; i3 < alumnos.Length; i3++)
{
confirmacion = 0;
//int control = 0;
if (ci == alumnos[i3])
{
Console.Clear();
Console.WriteLine("Alumno ya ingresado.");
Console.ReadLine();
confirmacion = 7;
break;
}
//control++;
}
}
else
{
Console.WriteLine("Limite exidido.");
break;
}
if (confirmacion != 7)
{
alumnos[pos] = ci;
pos = pos + 1;
}
Console.WriteLine("¿Deseas agregar otro alumno? Si/No.");
opcionsino = Console.ReadLine();
opcionsino = opcionsino.ToUpper();
}
Console.Clear();
Console.WriteLine("Precione una tecla para volver al menú principal.");
Console.ReadLine();
pos = 0;
break;
}
}
}
}
Muchas gracias de antemano.
14884,php,Buenas tardes estoy realizando una consulta en mysql dada una fecha me traiga el año y el mes y la referencia por ese mes, La consulta está buena pero no me esta trayendo nada, alguien que me ayude a encontrar el error.
<?php
//comprobamos que las fechas existan
if(isset($_POST["fecha_desde"])){
$fecha_desde = $_POST["fecha_desde"];
}
if (isset ($_POST["fecha_hasta"])){
$fecha_hasta = $_POST["fecha_hasta"];
$fecha_desde = strtotime($fecha_desde);
$fecha_hasta = strtotime($fecha_hasta);
$fecha_desde = date('Y-m',$fecha_desde);
$fecha_hasta = date('Y-m',$fecha_hasta);
$rs = mysqli_query($mysqli,"SELECT referencia, DATE_FORMAT(fecha_pedido, '%Y%m'), SUM(cantidad), COUNT(referencia) FROM pedidos_detalle INNER JOIN pedidos ON pedidos_detalle.id_pedido = pedidos.id WHERE $_POST[fecha_desde] = DATE_FORMAT(fecha_pedido, '%Y%m') BETWEEN '$fecha_desde' AND '$fecha_hasta' GROUP BY referencia, DATE_FORMAT(fecha_pedido, '%Y%m'), ORDER BY referencia, DATE_FORMAT(fecha_pedido, '%Y%m') ASC");
while ($row = mysqli_fetch_row($rs)){
echo "<option value='$row[0]'>$row[0], $row[1]</option>";
?>
14885,c#,Siempre que necesito almacenar archivos en una base de datos uso el campo varbinary(max), que es el máximo que soporta el tipo de datos, y simplemente le asigno un arreglo de bytes al campo para almacenarlo, en este momento estoy en la misma situación y me surge una duda, ¿es posible hacer la conversión de kilobytes, que pesa el archivo, a varbinary?, ¿que objetivo tiene esto?, si tengo limitado que se almacene un archivo de 4 mb, puedo definir el campo varbinary del tamaño para almacenar 4 mb y no usar el "max" del tipo de dato.
Saludos
14886,javascript,Les presento mi problema:
Tengo un formulario dinamico, este tiene pues varios campos y entre ellos tengo un select que tiene las opciones: capitulo, subcapitulo, nivel 1, nivel 2, nivel 3 y nivel 4, cada vez que selecciono una opcion de este select se crea un nuevo formulario abajo del anterior que es exactamente igual y asi sucesivamente.
Lo que ocupo es que al seleccionar una opcion de mi select y se cree otro formulario, que en este siguiente formulario vengan unicamente ciertas opciones basadas en la anterior ya seleccionada, por ejemplo: que al seleccionar Capitulo en el siguiente select solo te de de opciones Subcapitulo y Nivel 1, luego si seleccionas Nivel 2 solo te de de opcion seleccionar Nivel 3.
Les adjunto el codigo que llevo, TODO ESTO SOLO CON ANGULARJS
var app = angular.module('angularjs-starter', []);
app.controller('MainCtrl', ['$scope', function($scope) {
$scope.choices = [{id: 'choice1'}];
$scope.addNewChoice = function() {
var newItemNo = $scope.choices.length+1;
$scope.choices.push({id:'choice'+newItemNo});
};
$scope.removeChoice = function(index) {
$scope.choices.splice(index, 1);
};
var initialOptions = ['Capitulo', 'Subcapitulo', 'Nivel 1', 'Nivel 2',     'Nivel 3', 'Nivel 4'];
$scope.options = initialOptions;
$scope.selectedOption = $scope.options[0];
}]);
<div ng-app="angularjs-starter" ng-controller="MainCtrl">
<fieldset class="form-group"  data-ng-repeat="choice in choices">
<form name="myForm">
<select ng-model="selectedOption" ng-options="o for o in options" > ng-change="addNewChoice()">
</select>
<input type="number" ng-model="choice.clave" name="" placeholder="Ingresa > la clave">
<input type="text" ng-model="choice.concepto" name="" placeholder="Ingresa el concepto">
<input type="text" ng-model="choice.unidad" name="" placeholder="Ingresa la unidad" min="0">
<input type="number" ng-model="choice.cantidad" name="" placeholder="Ingresa la cantidad" min="0">
<input type="number" ng-model="choice.punitario" name="" placeholder="Precio unitario" min="0" ng-click="showme=true">
<input type="number" ng-model="choice.importe" name="" placeholder="Importe">
<button class="remove btn btn-danger" ng-show="$last" ng-click="removeChoice($index)">Eliminar</button>
</fieldset>
</form>
<button class="addfields btn btn-primary" ng-click="addNewChoice()">Agregar</button>
</div>
14890,,Estoy aprendiendo en Visual Studio - Visual Basic y con una base de datos SQLite.
En un formulario con 3 combobox logro guardarlos en la base de datos usando
sql = "INSERT INTO actos (parteA, tipo, parteB) "
sql += String.Format("VALUES ('{0}','{1}','{2}')", cboParteA.Text,     cboTipo.Text, cboParteB.Text)
Según leí ese método expone mi base de datos a ataques por inyección de SQL y para evitarlo debo usar Prepared Statement Object pero no me doy cuenta como aplicarlo en mi caso y la documentación en http://www.sqlite.org/c3ref/stmt.html es muy engorrosa.
Debo usar algo del estilo:
this.command.CommandText = "INSERT INTO actos (parteA, tipo, parteB)     VALUES(@param1, @param2, @param3)";
this.command.CommandType = CommandType.Text;
this.command.Parameters.Add(new SQLiteParameter("@param1", cboParteA.Text));
this.command.Parameters.Add(new SQLiteParameter("@param1", cboTipo.Text));
this.command.Parameters.Add(new SQLiteParameter("@param1", cboParteB.Text));
14900,,Tengo el siguiente Json con fechas:
nuevo=[
{ "rr":"4-1-2016" }, { "rr":"4-2-2016" }, { "rr":"4-3-2016" },
{ "rr":"4-4-2016" }, { "rr":"4-5-2016" }, { "rr":"4-6-2016" },
{ "rr":"4-7-2016" }, { "rr":"4-8-2016" }, { "rr":"4-9-2016" },
{ "rr":"4-10-2016" }, { "rr":"4-11-2016" }, { "rr":"4-12-2016" },
{ "rr":"4-13-2016" }, { "rr":"4-14-2016" }, { "rr":"4-15-2016" },
{ "rr":"4-16-2016" }, { "rr":"4-17-2016" }, { "rr":"4-18-2016" },
{ "rr":"4-19-2016" }, { "rr":"4-20-2016" }, { "rr":"4-21-2016" },
{ "rr":"4-22-2016" }, { "rr":"4-23-2016" }, { "rr":"4-24-2016" },
{ "rr":"4-25-2016" }, { "rr":"4-26-2016" }, { "rr":"4-27-2016" },
{ "rr":"4-28-2016" }, { "rr":"4-29-2016" }, {"rr":"4-30-2016" },
{ "rr":"5-1-2016" },{ "rr":"5-2-2016" },{ "rr":"5-3-2016" },
{ "rr":"5-4-2016" },{ "rr":"5-5-2016"} ,{ "rr":"5-6-2016" },
{ "rr":"5-7-2016" },{ "rr":"5-8-2016" },{ "rr":"5-9-2016" },
{ "rr":"5-10-2016" },{ "rr":"5-11-2016" },{ "rr":"5-12-2016" },
{ "rr":"5-13-2016" },{ "rr":"5-14-2016" },{ "rr":"5-15-2016" },
{ "rr":"5-16-2016" },{ "rr":"5-17-2016" },{ "rr":"5-18-2016" },
{ "rr":"5-19-2016" },{ "rr":"5-20-2016" },{ "rr":"5-21-2016" },
{ "rr":"5-22-2016" },{ "rr":"5-23-2016" },{ "rr":"5-...16" },
{ "rr":"6-14-2016" },{ "rr":"6-15-2016" },{ "rr":"6-16-2016" },
{ "rr":"6-17-2016" },{ "rr":"6-18-2016" },{ "rr":"6-19-2016" },
{ "rr":"6-20-2016" },{ "rr":"6-21-2016" },{ "rr":"6-22-2016" },
{ "rr":"6-23-2016" },{ "rr":"6-24-2016" },{ "rr":"6-25-2016" },
{ "rr":"6-26-2016" },{ "rr":"6-27-2016" },{ "rr":"6-28-2016" },
{ "rr":"6-29-2016" },{ "rr":"6-30-2016" },{ "rr":"7-1-2016" },
{ "rr":"7-2-2016" },{ "rr":"7-3-2016" },{ "rr":"7-4-2016" },
{ "rr":"7-5-2016" },{ "rr":"7-6-2016" },{ "rr":"7-7-2016" },
{ "rr":"7-8-2016" },{ "rr":"7-9-2016" },{ "rr":"7-10-2016" },
{ "rr":"7-11-2016" },{ "rr":"7-12-2016" },{ "rr":"7-13-2016" },
{ "rr":"7-14-2016" },{ "rr":"7-15-2016" },{ "rr":"7-16-2016" },
{ "rr":"7-17-2016" },{ "rr":"7-18-2016" },{ "rr":"7-19-2016" },
{ "rr":"7-20-2016" },{ "rr":"7-21-2016" },{ "rr":"7-22-2016" },
{ "rr":"7-23-2016" },{ "rr":"7-24-2016" },{ "rr":"7-25-2016" },
{ "rr":"7-26-2016" },{ "rr":"7-27-2016" },{ "rr":"7-28-2016" },
{ "rr":"7-29-2016" },{ "rr":"7-30-2016" },{ "rr":"7-31-2016" },
{ "rr":"8-1-2016" },{ "rr":"8-2-2016" },{ "rr":"8-3-2016" },
{ "rr":"8-4-2016" },{ "rr":"8-5-2016" }
];
El cual convierto con moment js cada item; el resultado debe ser asi: abril-viernes-2016, abril-sabado-2016, abril-domingo-2016, etc ..... En navegadores como Chrome y en Android OS el resultado es correcto pero al mostrar el resultado en un alert en safari o IOS me da como resultado invalid date
for(var p = 0; p < nuevo.length; p++){
alert(moment(nuevo[p].rr).format('MMMM-dddd-YYYY'));
}
Por que se da este error, que deberia hacer?
También tengo el siguiente error en consola:
Deprecation warning: moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.
Arguments: [object Object]
14905,javascript|jquery,Tengo la siguiente estructura :
<span class="ErrorViewer">
<menu>
<li>El Porcentaje de la prima del contrato es menor que el porcentaje Aprobado por la GERENTE </li>
</menu>
Me gustaría mostrar una alerta con el texto que esta dentro del <li> utilizando JS o JQuery
14908,ios,La escena ejecuta todas las funciones, pero en equipos antiguos (como el 4S o el 5C) se demoran en aparecer los nodos unos 2 segundos (a veces un poco más o un poco menos)
Yo imprimo:
print("antes")
//sprites y matrixSprites son SKSpriteNode
sprites.addChild(matrixSprites)
print("después")
Se imprimen en consola los dos print pasan 2 segundos y recién se muestran en pantalla los elementos que están en el nodo sprites. Hay alguna forma de hacer una pre-carga de la escena y saber si es que en la escena ya están visibles todos los elementos, como para hacer una pantalla de "cargando...."
14910,javascript|jquery,Deseo enviar un input type="file" desde un form, para enviar todos los datos de mi formulario utilizo el formData, el cual creo desde cero para poder capturar cada uno de los datos que existe en mi formulario y recibirlo en una pagina php, en esta pagina puedo capturar todos los datos que estan en el formulario pero no logro capturar el archivo, tengo lo siguiente:
JS
Función donde creó el FormData:
function dataForm_Archivos(formulario){
var nuevoFormulario = new FormData();
$(formulario).find(':input').each(function() {
var elemento= this;
//Si recibe tipo archivo 'file'
if(elemento.type === 'file'){
if(elemento.value !== ''){
var file_data = $('input[type="file"]')[0].files;
for (var i = 0; i < file_data.length; i++) {
nuevoFormulario.append(elemento.name, file_data[i]);
}
}
}
}
}
función dónde llega el id del formulario y lo envió a través de ajax:
function registrarDocumentacion(formulario){
var datosForm = dataForm_Archivos(formulario);
var request = $.ajax({
contentType: false,
processData: false,
data: datosForm,
type: 'POST',
url: 'url',
beforeSend:function(){
}
});
request.done(function(datos) {
});
}
HTML
<form role="form" action='#?' id="registroDocumentacion" method="post">
<div class="row">
<div class="col-md-12">
<div class="form-group">
<label class="control-label">Adjuntar Archivo</label>
<input type="file" id="arcAdjunto"  name="arcAdjunto" class="filestyle" placeholder="Asunto" onchange="validarArchivo('#arcAdjunto');">
<h5><small>Recuerde, los tipos de archivos permitidos son: png, gif, jpg, jpeg, docx, xls, xlsx, docs, pdf</small></h5>
</div>
</div>
</div>
<div class="row">
<div class="col-md-12 text-left m-t-20">
<button type="button" class="btn btn-primary waves-effect waves-light" id="enviarDoc" > Enviar <i class="fa fa-send" aria-hidden="true"></i>   </button>
</div>
</div>
</form>
<script type="text/javascript">
$('#enviarDoc').click(function(event) {
registrarDocumentacion('#registroDocumentacion')
});
</script>
UPDATE
Logre hacerlo de esta manera
function dataForm_Archivos(formulario){
var nuevoFormulario = new FormData();
$(formulario).find(':input').each(function() {
var elemento= this;
//Si recibe tipo archivo 'file'
if(elemento.type === 'file'){
if(elemento.value !== ''){
for(var i=0; i< $('#'+elemento.id).prop("files").length; i++){
nuevoFormulario.append(elemento.name, $('#'+elemento.id).prop("files")[i]);
}
}
}
}
return nuevoFormulario;
}
14911,,Mi idea es hacer un Stript para eliminar el primer carácter y el último de una cadena que me da otro programa que funciona concurrentemente.
Las cadenas que me da el programa siempre van a empezar con un * y van a terminar con un ; por lo que mi idea era hacer lo siguiente:
./Programaparalelo.sh | cut -d* -f2 | cut -d1 -F";"
Pero no funciona.
Sin embargo sí me funcionan los cut por separado. Puedo quitar así el primero o el último pero no los dos.
No se me ocurre nada. Si alguno tuviera alguna idea me seria de mucha ayuda.
14913,,Tengo 2 tablas:
-Articulo
-Articulo_Panio
La tabla Articulo tiene, entre otros, el campo Stock_Local (que seria el stock que se encuentra fisicamente en el negocio) y en la tabla Articulo_Panio se encuentran los articulos que estan dentro de cada paño (que tiene cada vendedor).
Necesito agregar un campo a la tabla Articulo llamado "Stock_General" (el Stock local + la suma de cada incurrencia que encuentre en Articulo_Paño del articulo en si).
Lo estoy haciendo de la siguiente manera,
TablaArticulo.Columns.Add("Stock_General", Type.GetType("System.Int32"))
For Each row As DataRow In TablaArticulo.Rows
row("Stock_General") = CInt(buscarStockGeneral(row("IdArticulo")) + row("Stock_Local"))
Next
y funciona .Pero es un proceso muy lento (al punto que me cuelga el debbugger (son 10.000 registros). Estoy seguro que haciendo un SELECT
dentro de otro se acortaría mucho el tiempo de carga, pero no se como..
Asi esta la función completa:
Public Sub LlenaTablaArticulo()
Try
conectarse()
//Consulta SQL de la tabla Articulos con un INNER JOIN a Departamento
Dim strSql As String = "Select IdArticulo, Codigo, Descripcion, Costo, Ganancia, PrecioFinal, Articulo.IdDepartamento, Departamento.Nombre as departamento, Proveedor, Stock_Local from Articulo inner join Departamento on Articulo.IdDepartamento=Departamento.IdDepartamento"
Dim adaptador As New OleDb.OleDbDataAdapter(strSql, conexion)
TablaArticulo = New DataTable
adaptador.Fill(TablaArticulo)
//Una vez llenada la TablaArticulo, le agrego el campo Stock_General y por cada fila verifico con la funcion BuscarStockGeneral si hay de ese articulo en los paños
TablaArticulo.Columns.Add("Stock_General", Type.GetType("System.Int32"))
For Each row As DataRow In TablaArticulo.Rows
row("Stock_General") = CInt(buscarStockGeneral(row("IdArticulo")) + row("Stock_Local"))
Next
conexion.Close()
Catch ex As Exception
MsgBox(ex.ToString)
End Try
End Sub
Esta es la funcion BuscarStockGeneral
Function buscarStockGeneral(ByRef IdArticulo As String)
Dim contador As Integer
Try
contador = CType(TablaArticulo_Panio.Compute("SUM(Cantidad)", "IdArticulo=" & IdArticulo), String)
Catch ex As Exception
contador = 0
End Try
Return contador
End Function
EDIT (SOLUCION FINAL)
Asi quedo la consulta utilizando un SELECT dentro de otro que sume los campos encontrados con SUM(), y utilizando la funcion IIF(ISNULL(),0,SUM()) para evitar los campos nulos.
"Select IdArticulo, Codigo, Descripcion, Costo, Ganancia, PrecioFinal, Articulo.IdDepartamento, Departamento.Nombre as departamento, Proveedor, Stock_Local, (Stock_Local + (SELECT IIf(IsNull(sum(Cantidad)),0,sum(Cantidad)) FROM Articulo_Panio WHERE IdArticulo = Articulo.IdArticulo)) as Stock_General from Articulo inner join Departamento on Articulo.IdDepartamento=Departamento.IdDepartamento"
14916,c#,He implementado en mis aplicaciones un capturador global de excepciones.
En program he puesto estas 2 sentencias:
Application.ThreadException +=
new System.Threading.ThreadExceptionEventHandler(Application_ThreadException);
AppDomain.CurrentDomain.UnhandledException += new UnhandledExceptionEventHandler(Application_ThreadException);
Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException);
static void Application_ThreadException(object sender, UnhandledExceptionEventArgs e)
{
ExceptionUtility eu = new ExceptionUtility();
eu.LogException((Exception)e.ExceptionObject, "");
FormLogViewer log = new FormLogViewer();
log.lwFlag = true;
log.Show();
}
static void Application_ThreadException(object sender, System.Threading.ThreadExceptionEventArgs e)
{
ExceptionUtility eu = new ExceptionUtility();
eu.LogException(e.Exception, "");
FormLogViewer log = new FormLogViewer();
log.lwFlag = true;
log.Show();
}
public void LogException(Exception e, string source)
{
error err = new error();
err.amxFecha = DateTime.Now.ToString("yyyy/MM/dd HH:mm:ss");
err.amxUsuario = datosPublicos.awNomUsuario;
err.nmxUsuario = datosPublicos.nwNumeroUsuario;
if (e.InnerException != null)
{
err.amxType = e.InnerException.GetType().ToString();
err.amxMessage = e.InnerException.Message;
err.amxSource = e.InnerException.Source;
if (e.InnerException.StackTrace != null)
{
err.mmxTrace = e.InnerException.StackTrace;
}
else
{
err.mmxTrace = " ";
}
}
else
{
err.amxType = " ";
err.amxMessage = " ";
err.amxSource = " ";
err.mmxTrace = " ";
}
err.amxType1 = e.GetType().ToString();
err.amxMessage1 = e.Message;
if (source == "")
{
err.amxSource1 = " ";
}
else
{
err.amxSource1 = source;
}
if (e.StackTrace != null)
{
err.mmxTrace1 = e.StackTrace;
}
else
{
err.mmxTrace1 = " ";
}
if (err.mmxTrace != " ")
{
err.amxUbicacion = extraigoLineaError(err.mmxTrace);
}
else
{
err.amxUbicacion = extraigoLineaError(err.mmxTrace1);
}
}
public string extraigoLineaError(string awTrace)
{
string awRetorno = "";
string[] aLineas1 = awTrace.Split(new Char[] { '\\' });
for (int i = 0; i < aLineas1.Length; i++)
{
if (aLineas1[i].Contains("línea"))
{
awRetorno = aLineas1[i].Substring(aLineas1[i].LastIndexOf("\\") + 1);
string[] aLineas2 = awRetorno.Split(new Char[] { ' ' });
awRetorno = aLineas2[0] + " " + aLineas2[1];
break;
}
}
return awRetorno;
}
public static void muestroError(Exception ex)
{
ExceptionUtility eu = new ExceptionUtility();
eu.LogException(ex, "");
FormLogViewer log = new FormLogViewer();
log.lwFlag = true;
log.Show();
}
En ExceptionUtility lo que hago es grabar toda la información del error para luego poder visualizarla, todo queda registrado para facilitar el encontrar y corregir el error.
Si en algún lugar del programa hago captura de errores con try...catch en vez de hacer un messagebox, lo que hago es ejecutar el método MuestroError().
Todo esto junto con otras medidas me permitía que mis programas al momento de estar a la venta no necesitaran mantenimiento.
Antiguamente en Clipper yo además capturaba una foto de la pantalla y la última tecla apretada por el usuario.
Hoy además debería almacenar donde se hizo clic con el mouse en caso de que esta haya sido la última acción antes del error.
He hecho diversos intentos para capturar la foto pero sin éxito.
Preguntas:
¿Es posible capturar la foto de la ventana activa, la última tecla presionada o el último click del mouse (sobre que componente se hizo) ?
¿Como se haría esto?
¿Es posible mejorar lo que estoy haciendo, tal vez agregando algún otra linea para capturar excepciones?
14917,java|android,necesito encriptar el IMEI en MD5, alguien sabe como se haría ? yo logro obtener el IMEI pero para la encriptación.
14920,java,Estoy intentando consumir un servicio web desde netbeans 8.1 y me arroja el siguiente error:
He testeado desde SoapUI y parece estar bien:
No se cual puede ser el problema, si alguien sabe que puede estar pasando
Gracias.
14922,php,Ocupo ayuda para saber recorrer un arreglo multidimensional en php y obtener sus valores. El arreglo corresponde a un menu de varios niveles.
En el Array de la imagen necesito extraer los ID del arreglo, y en caso de que un ID se encuentre dentro de un children, saber cual es su ID padre, ya que no todos los Items tiene hijos. Pondré un ejemplo mas abajo.
Aqui esta el mismo arreglo en código.
[
[
"id"=>1,
"children"=>[
[
"id"=>2,
"children"=>[
[
"id"=>3,
"children"=>[
["id"=>4]
]
],
[
"id"=>5
]
]
]
]
],
[
"id"=>6,
"children"=>[
[
"id"=>7,
"children"=>[
[
"id"=>8,
"children"=>[
[
"id"=>9
]
]
],
[
"id"=>9
]
]
]
]
]
];
Por ejemplo
[ ['id'=>1, 'parent' => null], ['id'=>2, 'parent' => 1], ['id'=>3, 'parent' => 2] ]
14923,,Buenas, tengo una tabla productos y quiero que cada producto tenga una o varias imágenes. así que cree una tabla imágenes con una foreign key a productos.
algo asi:
create table producto(
id_producto serial,
nombre character varying(20),
....
);
create table imagen(
id_imagen serial,
id_producto integer,
nombre character varying(100),
foreign key(id_producto) references producto(id_producto)
...
);
Hasta acá creo que voy bien, el problema es que quiero que al momento de crear un producto, este tenga una imagen principal (idealmente que se puedan ordenar), pero si pongo un campo como principal boolean en la tabla de imágenes y luego alguien agrega una imagen y la define como principal, tendré 2 imágenes principales, por lo que posiblemente se me dupliquen registros al hacer una query que llame solo a la principal.
No se si me explico bien, pero no veo como ser mas claro.
Lo único que se me ocurre es validar esto en el formulario, pero me gustaría saber si tengo alguna otra opción.
También me gustaría que las imágenes se pudieran ordenar. con un campo posicion integer o algo así.
Como funcionan paginas como mercadolibre en este sentido?
14933,ios,Estoy realizando una app que muestra la información meteorológica.
Tengo la vista dividida en 3 apartados:
1- Un Uiview con información del tiempo de hoy
2- Un UITableView con los días siguientes del tiempo
3- Una tabla horizontal con el tiempo por horas para el día de hoy(Aquí el problema)
He utilizado la librería ASHorizontalScrollView pero todos los items quedan en horizontal.
Me explico: Lo que quiero es que salga un pequeño icono con la hora y la temperatura, por cada hora. El problema es que no me queda uno debajo de otro, sino todo en horizontal.
Deberían de salir todos los items en horizontal, pero dentro de cada item, los 3 elemento, uno debajo de otro.
Conocéis alguna librería o un código para que funcione mas o menos como he explicado?
Os dejo un ejemplo del código:
let horizontalScrollView:ASHorizontalScrollView = ASHorizontalScrollView(frame:CGRectMake(0, 0, vistaScroll.frame.size.width-12, 50.0))
horizontalScrollView.leftMarginPx = 0
horizontalScrollView.miniMarginPxBetweenItems = 0
horizontalScrollView.miniAppearPxOfLastItem = 0
horizontalScrollView.uniformItemSize = CGSizeMake(50, 50)
//this must be called after changing any size or margin property of this class to get acurrate margin
horizontalScrollView.setItemsMarginOnce()
var valorArray = "01"
for index in 1...24 {
if index < 10 {
valorArray = "0" + String(index)
}
else {
valorArray = String(index)
}
let estado = currentArticleToDisplay.estadoCielo[valorArray]
let label = UILabel()
let labelHora = UILabel()
let img = UIImageView()
let url:NSURL? = NSURL(string:currentArticleToDisplay.icono[estado!]!)
let imageRequest = NSURLRequest(URL: url!)
// Fire off the request to download it
NSURLConnection.sendAsynchronousRequest(imageRequest, queue: NSOperationQueue.mainQueue(), completionHandler: {(response, data, error) in
// Assign the data to the imageview
img.image = UIImage(data: data!)
})
label.text = currentArticleToDisplay.temperatura[valorArray]
labelHora.text = valorArray
let vista = UIView()
vista.frame = CGRectMake(0, 0, 100, 50.0)
vista.addSubview(label)
vista.addSubview(labelHora)
vista.addSubview(img)
horizontalScrollView.addItem(img)
horizontalScrollView.addItem(label)
horizontalScrollView.addItem(labelHora)
}
vistaScroll.addSubview(horizontalScrollView)
Actualmente esta asi:
Lo que esta dentro del circulo azul seria un item. lo que quiero es que en vez de salir el sol, la temperatura y la hora en linea, salga uno debajo de otro
Gracias de antemano!
14935,java,Intento encontrar la solución a un laberinto por anchura pero me es imposible no repetir casilla o saltarme una restricción que es ir solo a los adyacentes. El programa tiene que estar obligatóriamente en Anchura, nada de profundidad.
public List<Coords> searchPathBFS(Coords from, Coords to){
boolean visitado[][] = new boolean[mazeSolver.length][mazeSolver[0].length];
List<Coords> MazeC= new LinkedList<Coords>(); //Lista de coordenadas a devolver
Queue<Coords> Q = new LinkedList<Coords>();  // Cola para el recorrido
boolean encontrado = false;
if(mazeSolver[from.row][from.column]==false){
System.out.println("La casilla de inicio esta bloqueada");
return null;
}
else if(mazeSolver[to.row][to.column]==false) {
System.out.println("La casilla final esta bloqueada");
return null;
}
else{
Coords actual = from;
MazeC.add(from);
Q.offer(from);
visitado[from.row][from.column]=true;
//Recorrido en anchura
while(!Q.isEmpty() && !encontrado){
Coords celda=Q.poll();
if(celda.row!=0)
if(mazeSolver[celda.row-1][celda.column] && !visitado[celda.row-1][celda.column]){
visitado[celda.row-1][celda.column]=true;
Coords empilar= new Coords(celda.row-1,celda.column);
if(empilar.column==to.column && empilar.row==to.row){
MazeC.add(empilar);
encontrado=true;
System.out.println("he llegado aqui 4");
break;
}else{
Q.offer(empilar);
MazeC.add(empilar);
}
}
if(celda.row!=mazeSolver.length-1)
if(mazeSolver[celda.row+1][celda.column] && !visitado[celda.row+1][celda.column]){
visitado[celda.row+1][celda.column]=true;
Coords empilar= new Coords(celda.row+1, celda.column);
if(empilar.column==to.column && empilar.row==to.row){
MazeC.add(empilar);
encontrado=true;
System.out.println("he llegado aqui 4");
break;
}else{
Q.offer(empilar);
MazeC.add(empilar);
}
}
if(celda.column!=0)
if(mazeSolver[celda.row][celda.column-1] && !visitado[celda.row][celda.column-1]){
visitado[celda.row][celda.column-1]=true;
Coords empilar = new Coords(celda.row, celda.column-1);
if(empilar.column==to.column && empilar.row==to.row){
MazeC.add(empilar);
encontrado=true;
System.out.println("he llegado aqui 4");
break;
}else{
Q.offer(empilar);
MazeC.add(empilar);
}
}
if(celda.column!= mazeSolver[0].length-1)
if(mazeSolver[celda.row][celda.column+1] && !visitado[celda.row][celda.column+1]){
visitado[celda.row][celda.column+1]=true;
Coords empilar = new Coords(celda.row, celda.column+1);
if(empilar.column==to.column && empilar.row==to.row){
MazeC.add(empilar);
encontrado=true;
System.out.println("he llegado aqui 4");
break;
}else{
Q.offer(empilar);
MazeC.add(empilar);
}
}
}
if(!encontrado) return null;
else
return MazeC;
}
14936,php,Estoy realizando un script en el que muestro unas fechas que tengo en un array, a partir de otra fecha dada, tengo que mostrar solamente las fechas mayores o iguales a la fecha dada
Que funciones de php puedo utilizar para el script
Gracias!
14938,javascript|jquery,Tengo un problema. Dentro de una tabla, irán unos textos sacados de unas variables, cómo hago para leer 'x' número de caracteres y añadir unos espacios en blanco después?.
Ej.:
01. Escritura natural de idiomas.
Ej.: cómo debe quedar:
01.     Escritura natural de idiomas.
Cómo debo formular para añadir esos espacios tras leer dichos primeros caracteres? Gracias de ante mano!.
function generatePageLinks(text, isChapter, pageId) {
// text = variable con cadena de texto de título.
var $element = $(document.createElement('td')),
$link = $("<a></a>").text(text).attr('href', '#').attr('data-page-id', pageId);
$element.append($('<div class="text-wrapper">').html(isChapter ? text : $link));
//Mete dicho texto dentro de las etiquetas <a>
return $element;
}
Y esto es lo que crea en el html:
<a data-page-id="04. Contenido_solapas" href="#">04. Contenido_solapas</a>
Gracias al compañero de abajo, ésta ha sido la solución final, para poder manipular los espacios :)
$element.append('<div class="text-wrapper">');
$element.append($("<pre></pre>").html(isChapter ? text : $link));
return $element;
14941,,En ¿Cómo prevenir SQL inyección en Visual Basic .Net? consulté acerca de como prevenir ataques por inyección SQL.
Ahora estoy intentando grabar en la base de datos usando parámetros pero me da un error diciendo que no indiqué la cantidad suficiente de parámetros.
Mi código actual es:
Dim sql As String
Dim conn = New SQLiteConnection("Data Source=BaseDatos.sqlite;Version=3")
Dim cmdGuardar As SQLiteCommand = New SQLiteCommand(sql, conn)
Try
Using (conn)
conn.Open()
sql = "INSERT INTO actos (parteA, tipo, parteB) VALUES(@param1, @param2, @param3)"
'Línea que debería usar pero me da un error
'SQLiteCommand cmd = New SQLiteCommand(sql, conn)
'Así que pruebo dar la misma instrucción en dos líneas diferentes
cmdGuardar.CommandText = sql
cmdGuardar.Connection = conn
cmdGuardar.Parameters.AddWithValue("@param1", cboParteA.Text)
cmdGuardar.Parameters.AddWithValue("@param2", cboTipo.Text)
cmdGuardar.Parameters.AddWithValue("@param2", cboParteB.Text)
cmdGuardar.ExecuteNonQuery()
conn.Close()
End Using
Catch ex As Exception
MsgBox(ex.ToString())
End Try
14945,java,Necesito saber si hay alguna manera de identificar cuando un usuario hace una recarga de la página mediante f5 o actualizar en el botón del navegador para programar una acción y que este redirija siempre a la pagina de inicio.
Estoy utilizando un phase listener en donde puedo comparar antes de cargar cada pagina el id de la vista y los comparo si son iguales hago una re dirección a la regla de navegación del home.
El problema de este método esta en que no se diferencian cuando hago un actualizar , a cuando se recarga la pagina mediante Ajax , por ejemplo en el paginador de una tabla.
¿Hay alguna opción en la cual pueda identificar si la recarga viene desde ajax o si viene desde f5 o botón actualizar del navegador ?
este es el código de el listener.
Gracias
import javax.faces.component.UIViewRoot;
import javax.faces.context.FacesContext;
import javax.faces.event.PhaseEvent;
import javax.faces.event.PhaseId;
import javax.faces.event.PhaseListener;
@SuppressWarnings("serial")
public class PostRedirectGetListener implements PhaseListener {
private String previousPage = null;
public PhaseId getPhaseId() {
return PhaseId.RENDER_RESPONSE;
}
public void beforePhase(PhaseEvent event) {
String msg = "";
UIViewRoot viewRoot = FacesContext.getCurrentInstance().getViewRoot();
String id = viewRoot.getViewId();
if (previousPage == null) {
msg = "First page ever";
} else if (previousPage.equals(id)) {
msg = "F5 or reload";
FacesContext facesContext = FacesContext.getCurrentInstance();
String outcome = "urlHome";
facesContext.getApplication().getNavigationHandler()
.handleNavigation(facesContext, null, outcome);
} else if (FacesContext.getCurrentInstance().isPostback()) {
msg = "It's a postback";
} else
msg = "It's a navigation";
previousPage = id;
System.out.println(msg);
}
public void afterPhase(PhaseEvent event) {
}
}
14950,java,Estoy haciendo un proyecto y para ello estoy utilizando los patrones de diseño DAO y Factory conjuntamente, por lo que divido la lógica de la vista.
Tengo una ventana VistaContacto con JTextField encapsulados y con un botón Guardar.
El código de la ventana es el siguiente:
package Vista;
import DAO.Contactable;
import DAO.ContactoDAOAdmin;
public class VistaContacto extends javax.swing.JFrame {
ContactoDAOAdmin factory= new ContactoDAOAdmin();
Contactable contacto= factory.ContactoFactory();
public VistaContacto() {
initComponents();
}
@SuppressWarnings("unchecked")
private void initComponents() {
txtNombre = new javax.swing.JTextField();
txtApellido = new javax.swing.JTextField();
btnGuardar = new javax.swing.JButton();
setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
btnGuardar.setText("Guardar");
btnGuardar.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
btnGuardarActionPerformed(evt);
}
});
javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
getContentPane().setLayout(layout);
layout.setHorizontalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addGap(24, 24, 24)
.addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
.addComponent(txtNombre)
.addComponent(txtApellido, javax.swing.GroupLayout.DEFAULT_SIZE, 176, Short.MAX_VALUE)))
.addGroup(layout.createSequentialGroup()
.addGap(141, 141, 141)
.addComponent(btnGuardar)))
.addContainerGap(183, Short.MAX_VALUE))
);
layout.setVerticalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addGap(48, 48, 48)
.addComponent(txtNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
.addGap(37, 37, 37)
.addComponent(txtApellido, javax.swing.GroupLayout.PREFERRED_SIZE, 38, javax.swing.GroupLayout.PREFERRED_SIZE)
.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 66, Short.MAX_VALUE)
.addComponent(btnGuardar)
.addGap(33, 33, 33))
);
pack();
private void btnGuardarActionPerformed(java.awt.event.ActionEvent evt) {
contacto.Guardar();
}
public static void main(String args[]) {
try {
for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
if ("Nimbus".equals(info.getName())) {
javax.swing.UIManager.setLookAndFeel(info.getClassName());
break;
}
}
} catch (ClassNotFoundException ex) {
java.util.logging.Logger.getLogger(VistaContacto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
} catch (InstantiationException ex) {
java.util.logging.Logger.getLogger(VistaContacto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
} catch (IllegalAccessException ex) {
java.util.logging.Logger.getLogger(VistaContacto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
} catch (javax.swing.UnsupportedLookAndFeelException ex) {
java.util.logging.Logger.getLogger(VistaContacto.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
}
java.awt.EventQueue.invokeLater(new Runnable() {
public void run() {
new VistaContacto().setVisible(true);
}
});
}
private javax.swing.JButton btnGuardar;
private javax.swing.JTextField txtApellido;
private javax.swing.JTextField txtNombre;
public javax.swing.JTextField getTxtNombre(){
return txtNombre;
}
public javax.swing.JTextField getTxtApellido(){
return txtApellido;
}
}
Llamo a los JTextField encapsulados de la ventana VistaContacto a una nueva clase llamada ContactoDAOImpl y los utilizo en el método Guardar, este a su vez lo guarda en un ArrayList de Contactos.
El código es el siguiente:
package DAO;
import Vista.VistaContacto;
import java.util.ArrayList;
public class ContactoDAOImpl implements Contactable{
VistaContacto ventanac= new VistaContacto();
private ArrayList<Controlador.Contacto> arreglo= new ArrayList();
@Override
public void Guardar(){
arreglo.add(new Controlador.Contacto(ventanac.getTxtNombre().getText(), ventanac.getTxtApellido().getText()));
}
}
Y el código de la clase Contacto es este:
package Controlador;
public class Contacto {
private String nombre;
private String apellido;
public Contacto(){
}
public Contacto(String nombre, String apellido){
nombre= this.nombre;
apellido= this.apellido;
}
public String getNombre(){
return nombre;
}
public String getApellido() {
return apellido;
}
public void setNombre(String nombre){
this.nombre= nombre;
}
public void setApellido(String apellido) {
this.apellido = apellido;
}
}
Para llamar a la clase ContactoDAOImpl en VistaContacto y utilizar el método Guardar utilizo el modelo Factory y lo implemento de este modo:
package DAO;
public class ContactoDAOAdmin {
public Contactable ContactoFactory(){
return new ContactoDAOImpl();
}
}
Al ejecutar todas estas clases se produce un StackOverFlowError por el tipo de recursión que hago, llamar a VistaContacto desde ContactoDAOImpl y viceversa, esto me produce un error de dependencia circulares que es lo que produce el error anteriormente explicado.
Aquí esta parte del stacktrace disponible:
Exception in thread "AWT-EventQueue-0" java.lang.StackOverflowError
at sun.awt.Win32GraphicsConfig.getBounds(Native Method)
at sun.awt.Win32GraphicsConfig.getBounds(Win32GraphicsConfig.java:222)
at java.awt.Window.init(Window.java:505)
at java.awt.Window.<init>(Window.java:537)
at java.awt.Frame.<init>(Frame.java:420)
at java.awt.Frame.<init>(Frame.java:385)
at javax.swing.JFrame.<init>(JFrame.java:189)
at Vista.VistaContacto.<init>(VistaContacto.java:11)
at DAO.ContactoDAOImpl.<init>(ContactoDAOImpl.java:9)
at DAO.ContactoDAOAdmin.ContactoFactory(ContactoDAOAdmin.java:7)
at Vista.VistaContacto.<init>(VistaContacto.java:9)
Lo que quisiera que me explicaran es cómo puedo evitar este tipo error al llamar una clase desde otra y viceversa o si estoy aplicando mal la lógica.
14953,javascript,Trabajo en un proyecto ASp Mvc y utilizo el siguiente script para mostrar y ejecutar la función submit de una ventana modal:
//$(function () {
$.ajaxSetup({ cache: false });
//$('#popUpLink').on("click", function (e) {
$("a[data-modal]").on("click", function (e) {
// hide dropdown if any (this is used wehen invoking modal from link in bootstrap dropdown )
//$(e.target).closest('.btn-group').children('.dropdown-toggle').dropdown('toggle');
e.preventDefault();
e.stopPropagation();
$('#myModalContent').load(this.href, function () {
$('#myModal').modal({
/*backdrop: 'static',*/
keyboard: true
}, 'show');
bindForm(this);
});
return false;
});
//});
function bindForm(dialog) {
$('form', dialog).submit(function () {
//event.preventDefault();
$.ajax({
url: this.action,
type: this.method,
contentType: this.enctype,
data: $(this).serialize(),
success: function (result) {
if (result.success) {
$('#myModal').modal('hide');
$('#replacetarget').load(result.url); //  Load data from the server and place the returned HTML into the matched element
} else {
$('#myModalContent').html(result);
bindForm(dialog);
}
}
});
return false;
});
}
Tengo el siguiente HTML mostrandose como una ventana Modal:
@model EtapaViewModel
@{
Layout = null;
}
<script src="~/Scripts/jquery-ui.js"></script>
<script src="~/Content/js/ctrlLineScripts.js"></script>
<link href="~/Content/popup/popupstyle.css" rel="stylesheet" />
<div class="modal-header modal-header-warning">
<h3 class="modal-title" style="text-align: center;">
CtrlLine
<button type="button" class="close panelTitleTxt glyphicon glyphicon-remove landing-icon" data-dismiss="modal" aria-hidden="true"></button>
</h3>
</div>
@using (Html.BeginForm())
{
@Html.AntiForgeryToken()
<div class="modal-body">
<div class="form-horizontal">
@Html.ValidationSummary(true, "", new { @class = "text-danger" })
<div class="form-group">
<div class="col-sm-10">
@Html.LabelFor(model => model.Descripcion, htmlAttributes: new { @class = "control-label col-sm-0  popup-labelfont" })
@Html.EditorFor(model => model.Descripcion, new { htmlAttributes = new { @class = "form-control", @autofocus = "autofocus", maxlength = "250", @placeholder = "Descripción de la Etapa" } })
@Html.ValidationMessageFor(model => model.Descripcion, "", new { @class = "label label-danger" })
</div>
</div>
<div class="form-group">
<div class="col-sm-10">
<input class="btn btn-success" id="btnSave" type="submit" value="Guardar" />
<input aria-hidden="true" class="btn btn-md btn-warning" data-dismiss="modal" id="btncancel" type="button" value="Cancelar" />
</div>
</div>
</div>
</div>
}
<script>
$('form').submit(function() {
$('#myModal').on('hidden.bs.modal', function() {
window.loadEtapas();
});
});
$('.modal').modal({
keyboard: true,
show: false
});
// Jquery draggable
$('.modal-dialog').draggable({
handle: ".modal-header"
});
</script>
La idea es que después de ejecutarse el Submit y que el controller no haya regresado ninguna excepción se cierre el Modal y me mande a llamar a una función, en este caso window.loadEtapas(), el problema que ocurre es que por alguna razón la función loadEtapas() se manda a llamar tantas veces como veces utilice el modal, si muestro el modal y presiono el botón Submit una vez entonces loadEtapas() se llama una vez, si posteriormente vuelvo a usar el modal loadEtapas() se llama dos veces, y asi sucesivamente tal parecería que la orden de llamar a la función se fuera sumando.
Esta es la funcion loadEtapas():
function loadEtapas() {
if (!$dtExample.hasClass('.block-loading')) {
$dtExample.prepend(block);
}
var params = {
proyectoId: $('#proyectoId').val()
}
$.ajax({
url: '/etapas/EtapasListPv',
data: params,
type: 'get',
dataType: 'html',
success: function(result) {
$('#etapasList').html(result);
window.displayCuadrillasCollapse();
$($dtExample).find('#blocking').remove();
},
error: function(error) {
$($dtExample).find('#blocking').remove();
}
});
}
14954,javascript,Estoy desarrollando un portfolio y en el siguiente código veréis que recojo la información de un fichero .json, hasta aquí no hay ningún problema. Para los que no utilizáis fetch, os dejo la información aquí.
https://developer.mozilla.org/es/docs/Web/API/Fetch_API
Código:
targetAbout.addEventListener('click', () => {
document.querySelector('#row').style.display = 'block';
console.log('Mostrado: ' + targetAbout + hora());
});
// Mostramos contenido por medio de ajax y json.
var respuestaHTML = document.querySelector('#elem');
var tpl = '';
fetch('json/productos.json', {mode: 'no-cors'})
.then((response) => {
return response.json()
})
.then((category) => {
category.forEach((elem) => {
tpl += '<img src="' + elem.thumbnailUrl + '"/>'
+ '<article class="elem-title"><p>' + elem.title + '</p></article>';
});
respuestaHTML.innerHTML = tpl;
}).catch((err) => {
console.log('Ha fallado: ' + err);
});
Recupero la información sin problema y lo muestra en un <div> pero mi duda es:
¿Si lo que quiero es que cada vez que recoja los datos de un documento .json lo muestre en un div con el mismo id del primero? Es decir que cree un elemento cada vez que tenga que mostrar información.
El ID sería elem:
<section id="row">
<article id="elem">
</article>
</section>
¿Debería de hacer uso de createElementById? ¿Cómo hago para que sea en un div con un determinado id?
Agradecería que fuese en Javascript, no usando algún frameworks.
14960,,Quiero consultar sobre la sintaxis de la etiqueta meta description que me arroja error en el checkeo de SEO.
Actualmente en mi código la linea del meta description esta así:
<meta name="description" content="<?php isset($metadescription) ?  $metadescription : $quickrabbitalias ?>" />
Sin embargo el reporte de SEO sigue arrojando el error sobre esta. Agradecería una orientación sobre este tema ya que me es de urgencia.
14962,,tengo problemas con mi DNS al momento de verificar, mis configuraciones son las siguientes:
zone "sisecc.ddns.net"{
type master;
file "db.sisec.zone";
notify yes;
};
//Zona inversa
zone "118.240.148.in-addr.arpa"{
type master;
file "db.148.240.118";
notify yes;
};
mi zona directa es la siguiente:
;
; BIND data file for local loopback interface
;
$TTL    604800
@  IN  SOA sisecc.ddns.net. root.sisecc.ddns.net. (
2     ; Serial
604800     ; Refresh
86400     ; Retry
2419200     ; Expire
604800 )   ; Negative Cache TTL
;
@          IN  NS  sisecc.ddns.net.
sisecc.ddns.net       IN  A   148.240.118.40
www.sisecc.ddns.net   IN      A       148.240.118.40
14964,java,Quiero enviar por ajax un array de arrays hacia un servlet en java, recibir esos datos y recorrerlos.
Ej:
var datos=[[1,2,3],[4,5,6],[7,8,9]];
$.ajax({
url: servlet,
dataType: 'json',
type: 'post',
data: { lista: datos },
success:function(){}
});
Enviar eso por ajax a un servlet. ¿Cómo lo recibo y recorro en java?
14969,c++,Tengo entendido que la única diferencia entre las dos formas de hacer una nueva línea, es que la primera además, vacía el buffer de salida.
¿Podrían mostrarme un ejemplo práctico donde se vea la diferencia en usar uno y otro?
14972,javascript|jquery,Quiero mostrar opciones pre-seleccionadas, pero al hacerlo en cuanto carga el select2 no me muestra el texto en los tags que se inician.
Si alguien pudiera decirme que tengo mal en mi código o como funciona el usar trigger('change') exactamente!
El texto lo obtengo de mi ajax como json, cuando yo lo selecciono manualmente me funciona bien, pero al inicializarlos por defecto no me muestra el texto. Llevo semanas intentando resolverlo, ¿Alguien?
var idsResponsables = "",
x = "",
res = "";
if (document.getElementById('responsables') !== null) {
idsResponsables = document.getElementById('responsables').value;
x = idsResponsables.split(",");
var options = "";
for (var i = 1; i < x.length - 1; i++) {
options += "<option value='" + x[i] + "'>Texto Cualquiera</option>";
}
document.getElementById("destinatarios").innerHTML = options;
}
var datos = [];
var _tags = $("#select option").each(function() {
datos.push($(this).val());
});
var $tagsControl = $("#select").select2({
tags: true,
ajax: {
url: "ajaxSearchUsers.jsp",
dataType: 'json',
quietMillis: 250,
data: function(params) {
return {
q: params.term, // search term
page: params.page
};
},
processResults: function(data, params) {
params.page = params.page || 1;
return {
results: data.items,
pagination: {
more: (params.page * 30) < data.total_count
}
};
},
cache: true
},
escapeMarkup: function(markup) {
return markup;
},
minimumInputLength: 1,
templateResult: formatRepo,
templateSelection: formatRepoSelection
});
$tagsControl.val(datos).trigger("change");
Estos son mis métodos de formatRepo y formatRepoSelection
function formatRepo(repo) {
if (repo.loading)
return repo.text;
var markup = "<div class='select2-result-repository clearfix'>" +
"<div class='select2-result-repository__meta'>" +
"<div class='select2-result-repository__title'><i class='fa fa-user'></i> " + repo.name + "</div>";
if (repo.email) {
markup += "<div class='select2-result-repository__description'><i class='fa fa-envelope'></i> " + repo.email + "</div>";
}
markup += "" +
"</div></div>";
return markup;
}
function formatRepoSelection(repo) {
return repo.name;
}
Manualmente todo me funciona bien, solo me da error cuando los quiero inicializar, me muestra los tags de la siguiente manera:
14974,php,Os comento lo que tengo
MIGRACIÓN USERS
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;
class CreateUsersTable extends Migration
{
/**
* Run the migrations.
*
* @return void
*/
public function up()
{
Schema::create('users', function (Blueprint $table) {
$table->increments('id');
$table->string('name');
$table->enum('tipo',['miembro','administrador'])->default('miembro');
$table->string('email')->unique();
$table->string('password',60);
$table->rememberToken();
$table->timestamps();
});
}
/**
* Reverse the migrations.
*
* @return void
*/
public function down()
{
Schema::drop('users');
}
}
MIGRACIÓN IPMODELO
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Database\Migrations\Migration;
class CreateIpmodelosTable extends Migration
{
/**
* Run the migrations.
*
* @return void
*/
public function up()
{
Schema::create('ipmodelos', function (Blueprint $table) {
$table->increments('id');
$table->string('ip');
$table->timestamps();
$table->integer('user_id')->unsigned();
$table->foreign('user_id')->references('id')->on('users')->onDelete('cascade');
});
}
/**
* Reverse the migrations.
*
* @return void
*/
public function down()
{
Schema::drop('ipmodelos');
}
}
MODELO USERS
namespace App;
use Illuminate\Foundation\Auth\User as Authenticatable;
class User extends Authenticatable {
/**
* The attributes that are mass assignable.
*
* @var array
*/
protected $table = 'users';
protected $fillable = [
'name', 'email', 'password','tipo',
];
/**
* The attributes that should be hidden for arrays.
*
* @var array
*/
protected $hidden = [
'password', 'remember_token',
];
public function articulos()
{
return $this->hasMany('App\modelos\articulo');
}
public function ips()
{
return $this->hasMany('App\modelos\ipmodelo','user_id','id');
}
}
MODELO IPMODELO
namespace App\modelos;
use Illuminate\Database\Eloquent\Model;
class ipmodelo extends Model
{
protected $table = 'ipmodelos';
protected  $fillable = array('ip','user_id');
public function usuario()
{
return $this->belongsTo('App\User');
}
}
VISTA
<h2>TABLA USUARIOS</h2>
<table class="table table-hover">
<thead>
<tr>
<th>Id</th>
<th>Ip</th>
<th>Nombre</th>
<th>Tipo</th>
<th>Eliminar</th>
<th>Editar</th>
</tr>
</thead>
<tbody>
@foreach($usuarios as $usuarioValor)
<tr>
<th>{{$usuarioValor->id}}</th>
<th>{{$usuarioValor->ips->ip}}</th>
<th>{{$usuarioValor->name}}</th>
<th>
@if($usuarioValor->tipo == 'administrador')
<span class="label label-danger">{{$usuarioValor->tipo}}</span>
@else
<span class="label label-primary">{{$usuarioValor->tipo}}</span>
@endif
</th>
<th>
{!! Form::open(array('route'=>array('usuarios.destroy',$usuarioValor->id), 'method'=>'DELETE','id'=>'eliminaPorUrl')) !!}
<button type="submit" class="btn btn-danger" onclick="return confirm('seguro que deseas eliminar este registro')"><span class=" glyphicon glyphicon-remove-sign"></span></button>
{!! Form::close() !!}
</th>
<th>
{!! Form::open(array('route'=>array('usuarios.edit',$usuarioValor->id), 'method'=>'GET','id'=>'eliminaPorUrl')) !!}
<button type="submit" class="btn btn-warning" ><span class=" glyphicon glyphicon-edit"></span></button>
{!! Form::close() !!}
</th>
{{--@else
<th></th>
@endif--}}
</tr>
@endforeach
</tbody>
</table>
<p>{{$usuarios->render()}}</p>
</div>
Estoy intentando mostrar la ip del usuario pero no lo consigo. Las relaciones están hechas bien por que usando Tinker me muestra bien los resultados, de hecho hago un dd de $usuarioValor->ips y me muestra esto:
pero si intento acceder así $usuarioValor->ips->ip, me surge este error
Undefined property: Illuminate\Database\Eloquent\Collection::$ip
llevo un rato probando y no consigo entender el porqué.
¿Alguna sugerencia?
14976,,Un saludo, quisiera que al hacer click sobre un campo de una tabla como ejemplo <tr><td>Juan</td><tr> un campo de texto tomara este mismo valor, me podrian ayudar muchas gracias
14977,java,Hola tengo el siguiente problema, en mi universidad abrí el mismo proyecto y funciono correctamente, pero en mi casa suelta este error.
JSP:
<%@page import="controlador.AccesoDatos"%>
<%@page import="modelo.*"%>
<%@page import="java.util.ArrayList"%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LISTADO DE LIBROS</title>
</head>
<body>
<%
AccesoDatos a = new AccesoDatos();
%>
<h1 align="center">Libros Almacenados</h1>
<table align="center"   border="1">
<tr>
<th>CODIGO</th>
<th>AUTOR</th>
<th>NOMBRE</th>
<th>ESTADO</th>
</tr>
<%
ArrayList<Libro> listL = new ArrayList();
listL = a.listarLibros();
for(Libro lib : listL){
out.println("<tr>");
out.println("<td>"+lib.getCodigo()+"</td>");
out.println("<td>"+lib.getAutor()+"</td>");
out.println("<td>"+lib.getNombre()+"</td>");
out.println("<td>"+lib.getEstado()+"</td>");
out.println("</tr>");
}
%>
</table>
</body>
</html>
El código de AccesoDatos:
public class AccesoDatos {
private  ResultSet rs = null;
private Connection con = null;
private Statement sentencia = null;
private ArrayList<Comuna> listC;
private ArrayList<Libro> listL;
private ArrayList<Pelicula> listP;
private ArrayList<Vendedor> listV;
private Comuna com;
private Libro lib;
private Pelicula peli;
private Vendedor vend;
private void conectar (){
try{
String parametros = "jdbc:mysql://localhost:3306/libros?zeroDateTimeBehavior=convertToNull";
Class.forName("com.mysql.jdbc.Driver");
con = DriverManager.getConnection(parametros,"root","");
}catch(SQLException e){
System.out.print("No se ha podido conectar");
}catch(Exception e){
System.out.print("No se ha podido conectar");
}
}
private void desconectar (){
try{
con.close();
}catch(SQLException e){
System.out.print("No se ha podido desconectar");
}catch(Exception e){
System.out.print("No se ha podido desconectar");
}
}
public ArrayList<Libro> listarLibros(){
try{
conectar();
sentencia = con.createStatement();
String sql = "select * from libro";
sentencia.executeQuery(sql);
listL = new ArrayList();
while(rs.next()){
int codigoL = rs.getInt("cod_lib");
String autorL = rs.getString("aut_lib");
String nombreL = rs.getString("nom_lib");
String estadiL = rs.getString("est_lib");
lib = new Libro(codigoL,autorL,nombreL,estadiL);
listL.add(lib);
}
sentencia.close();
desconectar();
return listL;
}catch(SQLException e){
return null;
}catch(Exception e){
return null;
}
}
14982,html,No entiendo meta name="viewport". Estoy usando el ejemplo que ofrece w3Schools y no soy capaz de entender para qué sirve, qué es lo que hace exactamente. He leído la explicación y entiendo perfectamente que dice que sirve para configurar el ancho de la página al ancho del dispositivo width=device-width, y el nivel de zoom cuando la página se carga por primera vez initial-scale=1.0, pero no consigo ver su efecto. Me explico...
Usando, como digo, el ejemplo que ofrece w3Schools, veo en su código, en el que está hecho con meta name="viewport", que además de esta etiqueta meta le han incluido un código CSS que es el que realmente genera el efecto que se supone que hace el viewport. El código CSS es:
<style>
img {
max-width:100%;
height:auto;
}
</style>
Si nosotros comentamos la línea max-width:100%perdemos el efecto que se supone que realiza el viewport. Por este motivo no termino de entender para qué sirve realmente el viewport.
14984,php,Estoy intentando validar si existe un registro en la base de datos de mysql mediante una alerta con php pero no genera dicha alerta
if (isset($_POST['numExp']) && !empty($_POST['numExp'])) {
$consulta=$PDO->prepare("SELECT * FROM registro WHERE numExp=".$numExp);
if (mysql_num_rows($consulta)=0)
{
echo '<script>
alert("ERROR AL REGISTRAR");
</script>';
}else{
$sql=$PDO->prepare("INSERT INTO fechas_tbl (numExp, fecha) VALUES (:numExp,:fecha)");
$sql->bindParam(':numExp',$numExp);
$sql->bindParam(':fecha',$fecha);
$sql->execute();
}
14985,javascript|jquery,Lo que quiero hacer es calcular los valores del campo SubTotal, siendo que este es el resultado de la multiplicación entre los valores del campo Precio y el valor ingresado en field text Cantidad. Ademas de calcular el IGV de la suma de los Subtotales y el Total(Suma de los Subtotales y el IGV)
Soy nuevo con JS y no conozco mucho del lenguaje.
JS:
$('.a').on('click',function(){
var trPrincipal = this.offsetParent.parentElement; //Buscamos el TR principal
// var firstName = trPrincipal.children[0].outerText; //Capturamos el FirstName
var idproducto=trPrincipal.children[0].outerText;
var nombreprod=trPrincipal.children[1].outerText;
var peso=trPrincipal.children[3].outerText+' '+trPrincipal.children[2].outerText;
var precio=trPrincipal.children[5].outerText;
// var lastName = trPrincipal.children[1].outerText+' '+trPrincipal.children[2].outerText; //Capturamos el LastName
$(".othertable").append("<tr><td>"+
idproducto+"</td><td>"+
nombreprod
+"</td><td>"+
peso+"</td><td>"+
precio+"<td><input type='text' placeholder='Ingresar cantidad'/></td><td><input type='text' disabled value='458.15'></td><td><input type='button' class='btneli' id='idbotoneli' value='Eliminar'></td></tr>");
trPrincipal.style.display = "none"; //Ocultamos el TR de la Primer Tabla
var btn_ = document.querySelectorAll(".btneli"); // Buscamos todos los elementos que tengan la clase .btneli
for(var a in btn_){ //Iteramos la variable btn_
var b = btn_[a];
if(typeof b == "object"){ //Solo necesitamos los objetos
b.onclick = function (){ //Asignamos evento click
var trBtn = this.offsetParent.parentElement; // buscamos el tr principal de la segunda tabla
var firstNameBtn = trBtn.children[0].outerText; //Capturamos el FirstName de la segunda tabla
trBtn.remove(); // eliminamos toda la fila de la segunda tabla
var tbl = document.querySelectorAll(".table td:first-child"); //Obtenemos todos los primeros elementos td de la primera tabla
for(var x in tbl){ //Iteramos los elementos obtenidos
var y = tbl[x];
if(typeof y == "object"){ //solo nos interesan los object
if (y.outerText == firstNameBtn){ //comparamos el texto de la variable y vs el firstNameBtn
var t = y.parentElement; //capturamos el elemento de la coincidencia
t.style.display = ""; //actualizamos el estilo display dejándolo en vacío y esto mostrará nuevamente la fila tr de la primera tabla
}
}
}
}
}
}
});
table{
margin:20px;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<div class="container">
<table id="idsecond" class="table table-bordered table-hover">
<thead bgcolor="skyblue">
<tr>
<th>#</th>
<th>Articulo</th>
<th>Unidad M.</th>
<th>Peso/Volumen</th>
<th>Categoria</th>
<th>P.Unitario</th>
<th>Accion</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Arroz</td>
<td>Kilo</td>
<td>4</td>
<td>---</td>
<td>18</td>
<td><button class="a">Agregar</button></td>
</tr>
<tr>
<td>2</td>
<td>Sal</td>
<td>Kilo </td>
<td>2</td>
<td>---</td>
<td>14</td>
<td><button class="a">Agregar</button></td>
</tr>
<tr>
<td>3</td>
<td>Maiz</td>
<td>Kilo</td>
<td>3</td>
<td>---</td>
<td>12</td>
<td><button class="a">Agregar</button></td>
</tr>
</tbody>
</table>
<table class="othertable col-xs-12 table-condensed table-hover table-bordered">
<thead bgcolor="orange">
<tr>
<th>#</th>
<th>Nombre</th>
<th>Peso/Volumen</th>
<th>Precio</th>
<th>Cantidad</th>
<th>SubTotal</th>
<th>Accion</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<hr>
<div class="row">
<div class="form-group col-sm-4">
<label for="igv">IGV:</label>
<input type="text" class="form-control"disabled id="igv">
</div>
<div class="form-group  col-sm-4">
<label for="total">Total:</label>
<input type="text" class="form-control" disabled id="total">
</div>
</div>
</div>
14991,java|android,actualmente estoy usando el servicio de accesibilidad, pero desde lollipop android exige ademas tener activado aplicaciones con acceso Configuración->Seguridad->Aplicaciones con acceso-> miAplicacion
14995,android,Estuve buscando mucho cómo hacer para que mi cuenta atrás continúe cuando cierro la aplicación y encontré 2 opciones: Una crear un service pero no entiendo bien que es y la otra, calcular la diferencia del tiempo transcurrido cuando vuelvo a abrir la aplicación.
Pensaba iniciar un cronómetro cuando la aplicación se cierre y luego al volver a abrirla calcular la diferencia y que retome la cuenta atrás. Pero no sé bien si se hace en el onDestroy, onStop o onPause.
Este es el código de la cuenta atrás que hice:
public class MainActivity extends Activity {
Button b1;
TextView tv1;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
tv1 = (TextView) findViewById(R.id.tv1);
b1 = (Button) findViewById(R.id.b1);
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu
// this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.menu_main, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
// Handle action bar item clicks here. The action bar will
// automatically handle clicks on the Home/Up button, so long
// as you specify a parent activity in AndroidManifest.xml.
int id = item.getItemId();
//noinspection SimplifiableIfStatement
if (id == R.id.action_settings) {
return true;
}
return super.onOptionsItemSelected(item);
}
public void a(View view){
new CountDownTimer(10000, 1000) {
public void onTick(long millisUntilFinished) {
tv1.setText("La cuenta llega a 0 en: " + millisUntilFinished / 1000);
}
public void onFinish() {
tv1.setText("Listo!");
}
}.start();
}
}
15002,php,$objAdjEmail = new adjuntoEmail();
//$objAdjEmail = $arrayObjAdjuntos[$indice];
$objAdjEmail->setUrlArchivo($urlAdjunto);
$objAdjEmail->setIdCorreo($pcorreo->getId());
$objAdjEmail->guardar()
ejemplo tras,paso quiero guardar eso, lo guarda en dos registro en la bd
tras
paso
15005,java,Quisiera saber que estoy haciendo mal en el código, resulta que intento conseguir los datos de la sentencia sql en el JFrame. les dejo el codigo lo que llevo
package Formulario;
import Formulario.Menu;
import Clases.*;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.logging.Level;
import java.util.logging.Logger;
public class Login extends javax.swing.JFrame {
public static Controlador controller;
public static ResultSet rs;
public Login() {
initComponents();
}
/**
* This method is called from within the constructor to initialize the form.
* WARNING: Do NOT modify this code. The content of this method is always
* regenerated by the Form Editor.
*/
@SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
private void initComponents() {
jPanel1 = new javax.swing.JPanel();
jLabel1 = new javax.swing.JLabel();
jLabel2 = new javax.swing.JLabel();
btIngresar = new javax.swing.JButton();
tfUsuario = new javax.swing.JTextField();
lbMsj = new javax.swing.JLabel();
psPSW = new javax.swing.JPasswordField();
jLabel3 = new javax.swing.JLabel();
setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
jLabel1.setText(" Usuario :");
jLabel2.setText("Clave :");
btIngresar.setText("INGRESAR");
btIngresar.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
btIngresarActionPerformed(evt);
}
});
tfUsuario.addActionListener(new java.awt.event.ActionListener() {
public void actionPerformed(java.awt.event.ActionEvent evt) {
tfUsuarioActionPerformed(evt);
}
});
jLabel3.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
jLabel3.setText("Sistema de Inventario de Activos Fijos");
javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
jPanel1.setLayout(jPanel1Layout);
jPanel1Layout.setHorizontalGroup(
jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(jPanel1Layout.createSequentialGroup()
.addGap(91, 91, 91)
.addComponent(lbMsj, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE)
.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
.addComponent(btIngresar)
.addGap(45, 45, 45))
.addGroup(jPanel1Layout.createSequentialGroup()
.addGap(66, 66, 66)
.addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(jPanel1Layout.createSequentialGroup()
.addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
.addComponent(jLabel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
.addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 82, javax.swing.GroupLayout.PREFERRED_SIZE))
.addGap(18, 18, 18)
.addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
.addComponent(tfUsuario)
.addComponent(psPSW, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)))
.addComponent(jLabel3))
.addContainerGap(68, Short.MAX_VALUE))
);
jPanel1Layout.setVerticalGroup(
jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(jPanel1Layout.createSequentialGroup()
.addGap(40, 40, 40)
.addComponent(jLabel3)
.addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(jPanel1Layout.createSequentialGroup()
.addGap(138, 138, 138)
.addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
.addComponent(jLabel1)
.addComponent(tfUsuario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
.addGap(18, 18, 18)
.addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
.addComponent(jLabel2)
.addComponent(psPSW, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
.addComponent(lbMsj, javax.swing.GroupLayout.DEFAULT_SIZE, 131, Short.MAX_VALUE)
.addContainerGap())
.addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
.addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
.addComponent(btIngresar)
.addGap(30, 30, 30))))
);
javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
getContentPane().setLayout(layout);
layout.setHorizontalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addGap(58, 58, 58)
.addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
.addContainerGap(142, Short.MAX_VALUE))
);
layout.setVerticalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGroup(layout.createSequentialGroup()
.addContainerGap()
.addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
.addContainerGap())
);
pack();
}// </editor-fold>
private void tfUsuarioActionPerformed(java.awt.event.ActionEvent evt) {
// TODO add your handling code here:
}
private void btIngresarActionPerformed(java.awt.event.ActionEvent evt) {
String Passw = new String(psPSW.getPassword());
try{
controller =new Controlador();
controller.crearConexion();
}catch (SQLException ex){
Logger.getLogger(Login.class.getName()).
log(Level.SEVERE, null, ex);
}
String sql="Select * from Usuario WHERE Us_Nom='"+tfUsuario.getText()+"' and Us_Pwd='"+Passw+"'";
try {
rs=controller.mandarQUERY(sql);
while (rs.next()){
Menu vent= new Menu();
vent.setVisible(true);
this.setVisible(false);
}
} catch (SQLException ex) {
Logger.getLogger(Login.class.getName()).
log(Level.SEVERE, null, ex);
}
}
/**
* @param args the command line arguments
*/
public static void main(String args[]) {
/* Set the Nimbus look and feel */
//<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
/* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
* For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
*/
try {
for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
if ("Nimbus".equals(info.getName())) {
javax.swing.UIManager.setLookAndFeel(info.getClassName());
break;
}
}
} catch (ClassNotFoundException ex) {
java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
} catch (InstantiationException ex) {
java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
} catch (IllegalAccessException ex) {
java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
} catch (javax.swing.UnsupportedLookAndFeelException ex) {
java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
}
//</editor-fold>
/* Create and display the form */
java.awt.EventQueue.invokeLater(new Runnable() {
public void run() {
new Login().setVisible(true);
}
});
}
// Variables declaration - do not modify
private javax.swing.JButton btIngresar;
private javax.swing.JLabel jLabel1;
private javax.swing.JLabel jLabel2;
private javax.swing.JLabel jLabel3;
private javax.swing.JPanel jPanel1;
private javax.swing.JLabel lbMsj;
private javax.swing.JPasswordField psPSW;
private javax.swing.JTextField tfUsuario;
// End of variables declaration
}
15009,java|android,Estoy usando un cliente IRC llamado ATOMIC y este en el Editext que envía el mensaje tiene android:imeOptions="actionSend" pero me gustaría con un botón para realizar este evento.
15010,,Estoy realizando la parte de decodificar del algoritmo de huffman, como tal mi programa recibe dos archivos por consola, uno llamado "diccionariotxt" el cual contiene las letras, la frecuencia con la que salen y el codigo en binario de cada letra y otro llamado "codificadotxt" el cual contiene el codigo en binario a decodificar
Un ejemplo del archivo diccionario:
H (1): 000
O (1): 001
L (1): 010
A (1): 011
Y un ejemplo del archivo codificado sera: 000001010011    (El cual deberia imprimir HOLA)
Mi problema es que cuando la palabra es de solo 3 letras NO lo decodifica por alguna razon que no logro ver, ademas de eso, el caracter espacio (" ") lo reconoce al momento de la traduccion como un salto de linea, imagino que debe ser algun problema teorico. Del resto el algoritmo funciona pero si podrian echarle un ojo se los agradeceria mucho, les anexo el codigo:
#include <stdio.h>
#include <stdlib.h>
// MACRO PARA DECODIFICAR.
#define MAX_CARACTERES 255
// ESTRUCTURA PARA DECODIFICAR.
struct decod{
int frecuencia;
char letra;
char codigo[10];
} nodo[MAX_CARACTERES];
// VARIABLES GLOBALES PARA DECODIFICAR.
int nro_elementos=0;                            // Cantidad de elementos que contiene el diccionario.
int elementos_diccionario[MAX_CARACTERES];      // Almacena la info del diccionario.
// FUNCIONES AUXILIARES PARA DECODIFICAR.
int longitud_codificado(char codificadotxt[20])
{
int cont=0;
char caracter;
FILE * codificado;
codificado = fopen(codificadotxt, "r");
if(!codificado)
{
printf("Archivo invalido...\n");        //Devuelve la longitud del archivo codificado.
return;
}
if(codificado!=NULL)
{
while(feof(codificado)==0)
{
caracter=fgetc(codificado);
cont++;
}
}
fclose(codificado);
return cont;
}
int verifica_igualdad(char cadena1[], char cadena2[], int longitud)
{
int i=0, bandera=0;
for(i=0; i<longitud; i++)
{
if(cadena1[i]==cadena2[i])
{
bandera=1;                          // Verifica si el codigo leido es igual al codigo de la letra evaluada.
}
else
{
bandera=0;
return bandera;
}
}
return bandera;
}
void vaciar_arreglo(char *comparar, int tamano)
{
int i=0;
// Vacia el arreglo para leer una letra nueva.
for(i=0;i<=tamano;i++)
comparar[i]='\0';
}
void guarda_diccionario(char diccionariotxt[20])
{
int i=0;
FILE * diccionario;
diccionario = fopen(diccionariotxt, "r");       //Abrimos el diccionario para asignar cada campo a la estructura.
if(!diccionario)
{
printf("Archivo invalido...\n");
return;
}
if(diccionario != NULL)
{
while(!feof(diccionario)){          //Empieza a guardar cada campo.
fscanf(diccionario, "%c (%d): %s", &nodo[nro_elementos].letra,&nodo[nro_elementos].frecuencia,&nodo[nro_elementos].codigo);
nro_elementos++;
}
fclose(diccionario);
}
}
void decodifica(char codificadotxt[20])
{
int cont1=0, cont2=0, longitud=0;
char caracter;
FILE *codificado;
codificado = fopen(codificadotxt, "r");     //Abrimos el archivo codificado para empezar a decodificar.
if(!codificado)
{
printf("Archivo invalido...\n");
return;
}
longitud=longitud_codificado(codificadotxt);
char comparar[10];
if(codificado != NULL)
{
while(feof(codificado) == 0)
{
caracter=fgetc(codificado);
comparar[cont1]=caracter;
for(cont2=0;cont2<nro_elementos;cont2++)
{
if(strncmp(comparar,nodo[cont2].codigo, 10) == 0)
{
printf("%c", nodo[cont2].letra);
vaciar_arreglo(comparar, cont1);
cont1=-1;
goto salir;
}
}
salir:
cont1++;
}
fclose(codificado);
}
printf("\n");
}
void imprime_dicc()
{
int i=0;
for(i=0;i<nro_elementos;i++)
printf("Caracter: %c Frecuencia:(%d): Codigo:%s\n", nodo[i].letra,nodo[i].frecuencia,nodo[i].codigo);
}
void main()
{
char diccionariotxt[20], codificadotxt[20];
printf("         |HUFFMAN|      \n");
printf("Ingrese el nombre del archivo diccionario: ");
scanf("%s", &diccionariotxt);
printf("Ingrese el nombre del archivo codificado: ");
scanf("%s", &codificadotxt);
guarda_diccionario(diccionariotxt);
decodifica(codificadotxt);
}
15011,javascript,Esto es un ejemplo de mi duda, por que ponerle "this" al principio en lugar de solamente ponerle "wheels = 4" o "seats = 1", etc. ¿De que me puede servir esto al momento de programar?
var Car = function() {
this.wheels = 4;
this.seats = 1;
this.engines = 1;
};
15014,java,Estoy trabajando con varias interfaces y unos de los pequeños inconvenientes con los que me he encontrado es que al oprimir el botón no se quita el JFrame que contiene dicho botón, el otro JFrame que invoco lo hace correctamente pero con el primero detrás de él.
public Interfaz() {
JFrame ventana = new JFrame("FRAME");
ventana.getContentPane().setBackground(Color.ORANGE);
ventana.setLayout(null);
jButton1 = new JButton();
ImageIcon icon = new ImageIcon("src/img/image.png");
jButton1.setIcon(icon);
jButton1.setBounds(15, 60, 100, 100);
ventana.add(jButton1);
ventana.setLocation(230, 55);
ventana.setResizable(false);
ventana.setVisible(true);
ventana.setSize(580, 300);
ventana.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
jButton1.addActionListener(new ActionListener() {
@Override
public void actionPerformed(ActionEvent evt) {
new Ventana2();
// ventana.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);
dispose();
}
});
Encontré que el
dispose();
es el que hace el trabajo de quitar el Frame pero esto no me sucede.
Aproximandamente así tengo el código, dentro tengo 4 botones. Agradecería la ayuda. Gracias.
15016,javascript|php|jquery,Buenas, tengo un formulario de venta, mas o menos terminado.
En esa formulario tengo una tabla que se agregan filas dinámicas extraídas de otra tabla en un modal.
$('.a').on('click',function(){
var trPrincipal = this.offsetParent.parentElement; //Buscamos el TR principal
// var firstName = trPrincipal.children[0].outerText; //Capturamos el FirstName
var idproducto=trPrincipal.children[0].outerText;
var nombreprod=trPrincipal.children[1].outerText;
var peso=trPrincipal.children[3].outerText+' '+trPrincipal.children[2].outerText;
var precio=trPrincipal.children[5].outerText;
// var lastName = trPrincipal.children[1].outerText+' '+trPrincipal.children[2].outerText; //Capturamos el LastName
$(".othertable").append("<tr><td>"+
idproducto+"</td><td>"+
nombreprod
+"</td><td>"+
peso+"</td><td>"+
precio+"<td><input type='number' placeholder='Ingresar cantidad'/></td><td><p class='subTotal'></p></td><td><input type='button' class='btneli' id='idbotoneli' value='Eliminar'></td></tr>");
trPrincipal.style.display = "none"; //Ocultamos el TR de la Primer Tabla
var btn_ = document.querySelectorAll(".btneli"); // Buscamos todos los elementos que tengan la clase .btneli
for(var a in btn_){ //Iteramos la variable btn_
var b = btn_[a];
if(typeof b == "object"){ //Solo necesitamos los objetos
b.onclick = function (){ //Asignamos evento click
var trBtn = this.offsetParent.parentElement; // buscamos el tr principal de la segunda tabla
var firstNameBtn = trBtn.children[0].outerText; //Capturamos el FirstName de la segunda tabla
trBtn.remove(); // eliminamos toda la fila de la segunda tabla
var tbl = document.querySelectorAll(".table td:first-child"); //Obtenemos todos los primeros elementos td de la primera tabla
for(var x in tbl){ //Iteramos los elementos obtenidos
var y = tbl[x];
if(typeof y == "object"){ //solo nos interesan los object
if (y.outerText == firstNameBtn){ //comparamos el texto de la variable y vs el firstNameBtn
var t = y.parentElement; //capturamos el elemento de la coincidencia
t.style.display = ""; //actualizamos el estilo display dejándolo en vacío y esto mostrará nuevamente la fila tr de la primera tabla
}
}
}
}
} //Termina onclick
}//Termina For
//Emprezamos buscando todos los inputs tipo Number
var a = document.querySelectorAll("input[type='number']");
if(a != undefined || a != null){
a.forEach(function (x){ //De todo el resultado iteramos con un Foreach
var precio = Number(x.parentElement.previousSibling.textContent); // Localizamos el Precio dentro de la tabla
x.onkeyup = function (){ //Asignamos un Metodo del teclado;
this.offsetParent.nextElementSibling.children[0].innerHTML = (precio * x.value); //Calculamos el subtotal y se lo agregamos en la columna
generarTotal(); // Ejecutamos una funcion que se genera el Total
}
});//Foreach
}//if
function generarTotal(){ //Funcion que genera el total
var a = document.querySelectorAll(".subTotal"); //Buscamos todos los subtotales
if(a != undefined || a != null){
var total = new Number(); //creamos variable tipo Number llamada Total
a.forEach(function (x){ //Iteramos el array a que contiene los subtotales
total += Number(x.textContent); // Vamos sumando todos los subtotales en la variable total
});
var t_ = document.getElementById("total"); //Buscamos el input que tiene Id: total
t_.value = total.toFixed(2);  // le asignamos por la propiedad value el valos de todos los subtotales con 2 decimales
generarIGV(); // Generamos el IVa General de las Ventas con la funcion generarIGV
}
}
function generarIGV(){ //Funcion que calcula el IVA
var a = document.getElementById("total"); //Buscamos el elemento Total para extraer el total de las ventas
var igv = 0.18; //AQUI se coloca el iva que deseas calcular, par este efecto he puesto el 18%.
var b = document.getElementById("igv"); // Buscamos el campo con Id igv
var operacion = Number(a.value) * igv; // calculamos el IGV
b.value = operacion.toFixed(2); // Le asignamos al campo con Id igv el IVA mediante la propiedad value.
generartotaltotal();
}
function generartotaltotal(){
var txtigv=document.getElementById("igv");
var txttotal=document.getElementById("total");
var txttotaltotal=document.getElementById("totaltotal");
var operaciontotal=Number(txtigv.value)+Number(txttotal.value);
txttotaltotal.value=operaciontotal.toFixed(2);
}
});
table{
margin:20px;
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<table id="idsecond" class="table table-bordered table-hover">
<thead bgcolor="skyblue">
<tr>
<th>#</th>
<th>Articulo</th>
<th>Unidad M.</th>
<th>Peso/Volumen</th>
<th>Categoria</th>
<th>P.Unitario</th>
<th>Accion</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Arroz</td>
<td>Kilo</td>
<td>4</td>
<td>---</td>
<td>18</td>
<td><button class="a">Agregar</button></td>
</tr>
<tr>
<td>2</td>
<td>Sal</td>
<td>Kilo </td>
<td>2</td>
<td>---</td>
<td>14</td>
<td><button class="a">Agregar</button></td>
</tr>
<tr>
<td>3</td>
<td>Maiz</td>
<td>Kilo</td>
<td>3</td>
<td>---</td>
<td>12</td>
<td><button class="a">Agregar</button></td>
</tr>
</tbody>
</table>
<table class="othertable col-xs-12 table-condensed table-hover table-bordered">
<thead>
<tr>
<th>#</th>
<th>Nombre</th>
<th>Peso/Volumen</th>
<th>Precio</th>
<th>Cantidad</th>
<th>SubTotal</th>
<th>Accion</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<br />
<br />
<br />
<br />
<br />
<br />
<div class="form-group col-sm-4">
<label for="igv">IGV:</label>
<input type="text" class="form-control"disabled id="igv">
</div>
<div class="form-group  col-sm-4">
<label for="total">SubTotal:</label>
<input type="text" class="form-control" disabled id="total">
</div>
<div class="form-group  col-sm-4">
<label for="totaltotal">Total:</label>
<input type="text" class="form-control" disabled id="totaltotal">
</div>
Esta seria la base de datos donde quiero insertar mis valores:
Por ejemplo en el siguiente snippet, se muestra una tabla mandando filas a otra.
Esa tabla vendría a ser la descripcion de una boleta o factura.
En esa descripcion especifica el id_producto(La columna del numeral #), el nombre del producto, y otros datos que describen al producto, como su precio unitario, este precio unitario es multiplicado por el input text/numérico de la columna cantidad y de esta se calcula el subtotal del producto.
Usualmente suelo insertar datos de un formulario normal, por el nombre(name) de cada elemento. Pero en el caso de una tabla dinámica, como lo haría? Como capturaría el id_producto y su cantidad(indicada) correspondiente de venta para insertarlo en mi base de datos?
Agradecería enormemente la ayuda.
15018,c++,Buenas me pidieron desarrollar un programa que permita imprimir la suma, el producto, el máximo y el mínimo de 5 números enteros. Lo desarrollé pero al momento que me imprime el menor siempre me sale que es 2(así no ingrese el número 2). Si pudieran revisar y decirme mi error. Gracias.
#include <iostream>
#include <conio>
int main () {
int vector[5];
int i;
int suma=0, producto=1, mayor=vector[0], menor=vector[0];
for (i=0; i<5; i++){
cout<<"Ingrese el numero "<<(i+1)<<endl;
cin>> vector[i];
}
for (i=0; i<5; i++){
if (vector[i]> mayor){
mayor=vector[i];
}
if (vector[i]< menor){
menor=vector[i];
}
}
for(i=0;i<5;i++) {
suma=suma+vector[i];
}
for(i=0;i<5;i++) {
producto=producto*vector[i];
}
cout<<"La suma es: "<<suma<<endl;
cout<<"El producto es: "<<producto<<endl;
cout<<"El mayor es: "<<mayor<<endl;
cout<<"El menor es: "<<menor<<endl;
getch();
return 0;
}
15019,,Hola he tratado de ejecutar este código pero al hacer me dice que el exe ha dejado de funcionar..no me muestra ningún error de sintaxis, por favor quisiera me indicaran el error.
#include <stdio.h>
#include <stdlib.h>
typedef struct Registro
{
int valor;
struct Registro *sig;
}Nodo;
//INICIALIZAR LA LISTA
Nodo *crearLista(Nodo *apuntador)
{
return apuntador=NULL;
}
Nodo * crearNodo(int numero)
{
//CREANDO EL NODO
Nodo *registroNuevo;
registroNuevo=(Nodo*)malloc(sizeof(Nodo));
//SINO SE PUDO RESERVAR MEMORIA PARA EL REGISTRO
if(!registroNuevo)
{
printf("No se pudo crear memoria para el registro\n");
return NULL;
}
else
{
//SI SE PUDO RESERVAR LA MEMORIA SE INSERTAN LOS DATOS
registroNuevo->valor=numero;
registroNuevo->sig=NULL;
}
return registroNuevo;
}
Nodo *insertarEnLista(int numero, Nodo *apuntador)
{
Nodo *apuntadorAuxiliar ,*registroNuevo;
registroNuevo=crearNodo(numero);
//SI SE PUDO CREAR EL NODO QUE SE INSERTE EN LA LISTA
if(registroNuevo)
{
//SI LA LISTA ESTA VACIA
if(!apuntador)
apuntador=registroNuevo;
else
{
//SE USA EL APUNTADOR AUXILIAR PARA MOVERSE ENTRE LOS NODOS
apuntadorAuxiliar=apuntador;
while(apuntadorAuxiliar->sig)
apuntadorAuxiliar=apuntadorAuxiliar->sig;
apuntadorAuxiliar->sig=registroNuevo;
}
return apuntador;
}
return NULL;
}
void imprimirlista(Nodo * apuntador)
{
Nodo *apuntadorAuxiliar;
apuntadorAuxiliar=apuntador;
while(apuntadorAuxiliar->sig)
{
printf("%d-> ",apuntador->valor);
apuntadorAuxiliar=apuntadorAuxiliar->sig;
}
printf("NULL");
}
int main ()
{
Nodo *apuntador;
crearLista(apuntador);
insertarEnLista(9,apuntador);
imprimirlista(apuntador);
return 0;
}
15028,,Hace unas unos días cree con "Access 2010" una tabla con un campo de opción múltiple (32 opciones para ser exactos ya que se puede seleccionar mas de uno ejemplo: acción, terror, drama), utilizando las opciones de access "Lookup Wizards " y le di la opción de permitir múltiples valores, pero cuando deseo hacer una gráfica solo me utiliza el primer valor seleccionado del campo múltiple.
Así es como se hace la selección:
Esta es la gráfica con 7 usuarios que hicieron su selección (como verán solo me toma la primera selección):
¿Hay alguna forma de separar cada opción para que se refleje en la gráfica?
15030,java|android,tengo el siguiente código, pero he hecho las pruebas correspondientes en distintos celulares y el problema solo se genera en dispositivos con android 6.0
private String obtenerImei() {
//StringBuilder builder = new StringBuilder();
//.append()
TelephonyManager tm = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
String imei =tm.getDeviceId(); // Obtiene el imei  or  "352319065579474";
return imei;
//TelephonyManager mngr = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);
//mngr.getDeviceId();
}
15032,java|android,Necesito obtener si un item del ménu principal de mi App está selecionado o no.
Mi menú
<item
android:id="@+id/miCompose"
android:icon="@drawable/ic_center_focus_strong_white_24dp"
android:orderInCategory="100"
android:title="@string/select_scope"
app:showAsAction="ifRoom">
<menu>
<group android:checkableBehavior="all">
<item
android:id="@+id/action_scope_word"
android:checkable="true"
android:checked="true"
android:title="@string/word" />
<item
android:id="@+id/action_scope_line"
android:checkable="true"
android:title="@string/line" />
<item
android:id="@+id/action_scope_text"
android:checkable="true"
android:title="@string/text" />
</group>
</menu>
</item>
Me gustaría obtener en cualquier parte si action_scope_line si está seleccionado.
Lo siguiente no me funciona
MenuItem checkBox = (MenuItem) findViewById(R.id.action_scope_line);
if (checkBox != null) if (checkBox.isChecked()) //checkeado
checkBox es nulo me indica
15033,android,Quisiera saber cual seria la forma mas eficiente de crear una app para android que lo unico que haga es consultar una base de datos en una computadora, la computadora tiene un software de inventario hecho con Visual Fox Pro, la base de datos del software es .DBf, quiero crear una app que simplemente consulte esa base de datos, no quiero ni editar ni agregar registros, solo que el la app tenga un textbox donde se ponga una consulta y esta muestre los resultados (Select "consulta" from "tabla") con que lenguaje seria mas conveniente programarla y cual seria la forma mas sencilla.
15037,javascript|jquery,Trabajo en un proyecto ASP MVC y estoy usando el DataTable para administrar elementos de un catalogo por medio de ventanas Modal de bootstrap, las ventanas modales se disparan a través de etiquetas a, actualmente cuando el DataTable solamente tiene cargado 10 elementos todo funciona bien, pero cuando tiene por ejemplo 11 y quiero administrar el 11 la ventana modal no se carga como tal:
Este es un ejemplo del DataTable:
<table id="example" class="ctrlLineTable table table-striped table-bordered table-hover">
<thead class="ColorHeaderTable">
<tr>
<th style="width: 20%">
@Html.DisplayNameFor(model => model.Secuencia)
</th>
<th style="width: 100%">
@Html.DisplayNameFor(model => model.Descripcion)
</th>
<th style="width: 20%">
Acciones
</th>
</tr>
</thead>
<tfoot class="ColorHeaderTable">
<tr>
<th style="width: 20%">
@Html.DisplayNameFor(model => model.Secuencia)
</th>
<th style="width: 100%">
@Html.DisplayNameFor(model => model.Descripcion)
</th>
<th style="width: 20%">
Acciones
</th>
</tr>
</tfoot>
<tbody class="celda">
@foreach (var item in Model)
{
<tr>
<td style="width: 20%">
@Html.DisplayFor(model => item.Secuencia)
</td>
<td style="width: 100%">
@Html.DisplayFor(model => item.Descripcion)
</td>
<td class="celda" style="width: 20%">
<a style='color: #004881; text-decoration: none' href='/etapabase/edit/@item.EtapaBaseId' id='etapau-@item.EtapaBaseId' title='Editar información de la Etapa Base'>
<span class='fa fa-pencil fa-lg'> </span>
</a>
<b style='color: #004881'>&nbsp;&nbsp;|&nbsp;&nbsp;</b>
<a style='color: #004881; text-decoration: none' href='#' id='etapad-@item.EtapaBaseId' title='Eliminar información de la Etapa Base'>
<span class='fa fa-trash-o fa-lg'> </span>
</a>
</td>
</tr>
}
</tbody>
</table>
Por medio de este script estoy abriendo los modales:
$('#example tbody tr td a').on('click', function (e) {
e.preventDefault();
e.stopPropagation();
alert("entro");
$('#myModalContent').load(this.href, function () {
$('#myModal').modal({
keyboard: true
}, 'show');
});
return false;
});
Como mencione todos los modales se abren perfectamente hasta que llego al 11avo ahi la ventana modal se abre como si fuera una vista normal.
15040,,Intentando conectarme a un API desde angular y me sale el siguiente error:
XMLHttpRequest cannot load https://web/api/beta/ruc. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:3000' is therefore not allowed access.
el codigo es el siguiente ...
var app = angular.module("app", []);
app.controller("HttpController", function ($scope, $http, $httpParamSerializer) {
$scope.GetData = function () {
var data = $httpParamSerializer({
token : "c664bfba-9969-4e57-ab7a-4532bc81670b-ef3868a6-e62f-45c8-9a36-92db7c21a353",
ruc : "10178520739"
});
var config = {
headers : {
'Content-Type': 'application/x-www-form-urlencoded;'
}
}
$http.post('https://web/api/beta/ruc', data, config)
.then(function (data) {
$scope.response = "Exito" + data;
})
.then(function (data) {
$scope.response = "Error: " + data;
});
};
});
si quieren el ejemplo mas detallado y la web a la cual realizo el API pueden acceder a https://jsfiddle.net/darthSinuhe/ckby0x88/
15046,,Estoy tratando de realizar un programa el cual el contenido de un archivo y relacione su contenido a una estructura ya que posee dos campos que quiero guardar, el primer campo que contiene el carácter y el segundo campo que contiene el código de ese carácter. Por ejemplo:
P:00
N:01
Z:10
Mi problema esta en que el programa debe guardar cualquier tipo de caracter, incluso el caracter de fin de linea (\n), en ese caso al ser dos se complica todo. En estos momentos hago la lectura con "fscanf(diccionario, "%c:%s", letra, codigo);" pero en el caso anteriormente indicado, me lee el "\" como un caracter y la "n" como otro distinto.
Pense en leer caracter a caracter pero no encuentro la manera de relacionarlo despues con la estructura. Si podrian ayudarme con alguna idea se los agradeceria.
Les dejo el codigo que uso actualmente:
void guarda_diccionario(char diccionariotxt[20]){
int i=0, nro_elementos=0;
FILE * diccionario;
diccionario = fopen(diccionariotxt, "r");       //Abrimos el diccionario para asignar cada campo a la estructura.
if(!diccionario){
printf("Archivo invalido...\n");
return;
}
if(diccionario != NULL){
while(!feof(diccionario)){          //Empieza a guardar cada campo.
fscanf(diccionario, "%c:%s", &nodo[nro_elementos].letra,&nodo[nro_elementos].codigo);
nro_elementos++;
}
fclose(diccionario);
}
}
15047,,Estoy intentando hacer un ejercicio en C de listas enlazadas en el cual primero creo una estructura persona y luego hago otra locutor la cual tendrá una estructura persona. Para hacer los registros utilizo una lista.
El problema está en que me deja hacer un registro y lo imprime pero cuando quiero hacer algún otro registro entra en la condición en la que no se puede reservar memoria y no sé por qué.
#include <stdio.h>
#include <stdlib.h>
typedef struct persona {
int edad;
char *nombre;
int cedula;
struct persona *sig;
} Persona;
typedef struct locutor {
Persona persona_locutor;
struct locutor *sig;
} Locutor;
//INICIALIZAR LA LISTA
Locutor *inicializarListaLocutor(Locutor *cabeza_de_lista) {
return cabeza_de_lista=NULL;
}
Locutor * crearLocutor() {
//CREANDO EL Locutor
Locutor *registroNuevo;
registroNuevo=(Locutor*)malloc(sizeof(Locutor));
//SINO SE PUDO RESERVAR MEMORIA PARA EL REGISTRO
if(!registroNuevo) {
printf("No se pudo crear memoria para el registro\n");
return NULL;
} else {
//SI SE PUDO RESERVAR LA MEMORIA SE INSERTAN LOS DATOS
printf("Ingrese el nombre del nuevo locutor: ");
fflush(stdin);
gets(registroNuevo->persona_locutor.nombre);
printf("Ingrese la edad del nuevo locutor: ");
scanf("%i", &registroNuevo->persona_locutor.edad);
printf("Ingrese la cedula del nuevo locutor: ");
scanf("%i", &registroNuevo->persona_locutor.cedula);
registroNuevo->sig=NULL;
}
return registroNuevo;
}
Locutor *insertarEnListaLocutores(Locutor *cabeza_de_lista)
{
Locutor *cabeza_de_listaAuxiliar ,*registroNuevo;
registroNuevo = crearLocutor();
//SI SE PUDO CREAR EL Locutor QUE SE INSERTE EN LA LISTA
if(registroNuevo)
{
//SI LA LISTA ESTA VACIA
if(!cabeza_de_lista)
cabeza_de_lista = registroNuevo;
else {
//SE USA EL cabeza_de_lista AUXILIAR PARA MOVERSE ENTRE LOS LocutorS
cabeza_de_listaAuxiliar = cabeza_de_lista;
while(cabeza_de_listaAuxiliar->sig)
cabeza_de_listaAuxiliar = cabeza_de_listaAuxiliar->sig;
cabeza_de_listaAuxiliar->sig=registroNuevo;
}
}
return cabeza_de_lista;
}
void imprimirListaLocutor(Locutor * cabeza_de_lista)
{
Locutor *cabeza_de_listaAuxiliar;
cabeza_de_listaAuxiliar = cabeza_de_lista;
while(cabeza_de_listaAuxiliar)
{
printf("El nombre del locutor es:%s \n", cabeza_de_listaAuxiliar->persona_locutor.nombre);
printf("La edad del locutor es:%d \n", cabeza_de_listaAuxiliar->persona_locutor.edad);
printf("La cedula del locutor es:%d \n", cabeza_de_listaAuxiliar->persona_locutor.cedula);
cabeza_de_listaAuxiliar = cabeza_de_listaAuxiliar->sig;
}
printf("\n");
}
int main ()
{
Locutor *cabeza_de_lista_locutor;
cabeza_de_lista_locutor = inicializarListaLocutor(cabeza_de_lista_locutor);
cabeza_de_lista_locutor = insertarEnListaLocutores(cabeza_de_lista_locutor);
cabeza_de_lista_locutor = insertarEnListaLocutores(cabeza_de_lista_locutor);
cabeza_de_lista_locutor = insertarEnListaLocutores(cabeza_de_lista_locutor);
imprimirListaLocutor(cabeza_de_lista_locutor);
printf("\n");
free(cabeza_de_lista_locutor);
return 0;
}
15048,,Tengo la siguiente consulta:
select sh.CurrencyRateID, cr.ToCurrencyCode,
sum(TotalDue) as [cantidad facturada], month(OrderDate) as mes
from sales.SalesOrderHeader sh
join sales.CurrencyRate cr
on sh.CurrencyRateID=cr.CurrencyRateID
group by sh.CurrencyRateID, cr.ToCurrencyCode, month(OrderDate)
order by sh.CurrencyRateID asc, 2 desc, 4
La salida es la siguiente,
pero ahora no se como agrupar el tipo de moneda,para que solo salga una vez,  y muestre el total
15052,java|android,Por más que busco, el componente EditText no integra un sistema de Deshacer cambios, me gustaría implementar un sistema Undo/Redo es decir Deshacer/Rehacer
¿O bien conocéis un componente que derive de EditText de Android pero que tenga sistema de Undo/Redo o solo Undo?
Update
Algo he encontrado por Github sobre el tema.
Pero no entiendo como se implementa, necesito un ejemplo básico
15054,java|android,Tengo un enum definido enum scope {CHAR,WORD,LINE,TEXT} ¿Me pregunto si se puede concatenar más de una opción con OR |hacia una variable?
Es decir
scope myScope = WORD | LINE
Y cómo se detecteria si myScope uno de ellos?
15055,php,Estoy tratando de hacer una consulta a mi base de datos con php pero me arroja un error. Este e mi codigo
[![<?php
$servername = "localhost";
$username = "venividivici2016";
$password = "4XDjhDFsxBtbxRsw";
// Create connection
$conn = mysqli_connect($servername, $username, $password);
// Check connection
if (!$conn) {
die("Connection failed: " . mysqli_connect_error());
} else {
}
echo '<br/>';
$bd_seleccionada = mysqli_select_db($conn,"veniviajes");
if (!$bd_seleccionada) {
die("Conecion fallida: " . mysqli_error($conn));
} else {
}
$sentencia= " SELECT nombre FROM pais";
if(!$sentencia)
die("Error: no se pudo realizar la consulta");
$resultado = mysqli_query($conn,$sentencia);
if(!$resultado)
die("Error: no se pudo realizar la consulta");
?>
<select>
<option value="">Seleccione</option>
<?php
while($fila=mysqli_fetch_array($resultado)){
?>
<option value="<?php echo $fila\[nombre\]; ?></option>
<?php } ?>
</select>]
15062,php,Buenas, algunas forma de mostrar los datos de un usuario logueado?
Necesito que despues que un usuario se loguea, en otra pagina me muestre los datos de este usuario:
Tengo dos tablas:
Y esta es mi código con el cual estoy validando e intentando extraer los datos del usuario.
<?php
require_once('conexion.php');
session_start();
if (isset($_POST["submit"])) {
$usuario=$_POST["nusuario"];
$contrasena=$_POST["ncontrasena"];
$usuario = stripslashes($usuario);
$usuario = mysql_real_escape_string($usuario);
$contrasena = stripslashes($contrasena);
$contrasena = mysql_real_escape_string($contrasena);
$id_emp="";
$sql="SELECT * FROM usuario WHERE usuario='$usuario' AND (contrasena='$contrasena' AND estado='Activo') ";
$result = $conn->query($sql);
if ($result->num_rows == 1) {
while($row = $result->fetch_assoc()) {
$id_emp=$row["id_empleado"];
}
$_SESSION['iduser']=$usuario;
$sql2="SELECT * FROM empleado WHERE id_empleado='$id_emp'";
$result2=$conn->query($sql2);
if ($result2->num_rows == 1) {
while($row = $result->fetch_assoc()) {
$_SESSION["nombre"]=$row["nombre"];
$_SESSION["apellidos"]=$row["apellidos"];
$_SESSION["tipo"]=$row["tipo"];
$_SESSION["dni"]=$row["dni"];
$_SESSION["ubicacion"]=$row["ubicacion"];
$_SESSION["telfmovil"]=$row["telfmovil"];
$_SESSION["email"]=$row["imagen"];
}
// header("Location: ../venta_venta.php");
}
// if($row = mysql_fetch_array($execute)){
// }
// $_SESSION['username'] = $username;
$mensaje = "¡Bienvenido al Sistema!";
echo "<script type='text/javascript'>alert('$mensaje');</script>";
header( "refresh:0.2;url=../venta_venta.php" );
}else{
$mensaje = "Error! La contraseña o usuario ingresado son incorrectos";
echo "<script type='text/javascript'>alert('$mensaje');</script>";
header( "refresh:0.2;url=../login_agro.php" );
}
}
$conn->close();
?>
Como ven en el codigo, extraigo los datos de mi tabla empleado y lo almaceno en esas variables $_SESSION[]. Pero ahora quiero mostrar esos valores almacenados en otra pagina llamada mantenimiento_cuenta:
<?php
require_once('verifica.php');
?>
<div class="form-group">
<label for="idnombre">Nombre:</label>
<input type="text" REQUIRED disabled class="form-control" id="idnombre" value="<?php echo $_SESSION['nombre']; ?>">
</div>
Y el error que me manda es el siguiente:
<br /><b>Notice</b>:  Undefined index: nombre in <b>C:\xampp\htdocs\PROYECTO_WEB\mantenimiento_cuenta.php</b> on line <b>178</b><br />
Y no entiendo porque. Alguna idea de como solucionarlo? Gracias de antemano.
15067,php|html,Tengo este array:
<?php
$MENU = array();
$MENU["ESCRITORIO"] = array
(
'emparentar' => true, // emparentar == true ? muestra en el nivel superior menu : no lo muestra en el nivel superior
'abilitado' => true,
'text' => 'Escritorio',
'link' => 'public/escritorio',
'sub_modules' => array()   // si esta vacia es que no tiene sub menus
);
$MENU["ODONTOLOGIA"] = array
(
'emparentar' => true,
'abilitado' => true,
'text' => 'Odontologia',
'link' => 'public/shop',
'sub_modules' => array('PACIENTES', 'CONSULTAS', 'RECIPES', 'CITAS') // PACIENTES, CONSULTAS , RECIPES, CITAS son un sub menu de odontologia y estan configurados mas abajo
);
$MENU['PACIENTES'] = array(
'emparentar' => false,
'abilitado' => true,
'text' => 'Pacientes',
'link' => 'public/odontologia/pacientes',
'sub_modules' => array()
);
$MENU['CONSULTAS'] = array(
'emparentar' => false,
'abilitado' => true,
'text' => 'Consultas',
'link' => 'public/odontologia/consultas',
'sub_modules' => array()
);
$MENU['RECIPES'] = array(
'emparentar' => false,
'abilitado' => true,
'text' => 'Recipes',
'link' => 'public/odontologia/recipes',
'sub_modules' => array('INDICACIONES')
);
$MENU['INDICACIONES'] = array(
'emparentar' => false,
'abilitado' => true,
'text' => 'Indicaciones',
'link' => 'public/odontologia/recipes/indicaciones',
'sub_modules' => array()
);
$MENU['CITAS'] = array(
'emparentar' => false,
'abilitado' => true,
'text' => 'Citas',
'link' => 'public/odontologia/citas',
'sub_modules' => array()
);
$MENU['ORTODONCIA'] = array
(
'emparentar' => TRUE,
'abilitado' => TRUE,
'text' => 'Ortodoncia',
'link' => 'public/ortodoncia',
'sub_modules' => array('ORTPACIENTES', 'ORTCONSULTA', 'ORTRECIPE', 'ORTCITAS')
);
$MENU['ORTPACIENTES'] = array(
'emparentar' => FALSE,
'abilitado' => TRUE,
'text' => 'Pacientes',
'link' => 'public/ortodoncia/pacientes',
'sub_modules' => array()
);
$MENU['ORTCONSULTA'] = array(
'emparentar' => FALSE,
'abilitado' => TRUE,
'text' => 'Consultas',
'link' => 'public/ortodoncia/consultas',
'sub_modules' => array()
);
$MENU['ORTRECIPE'] = array(
'emparentar' => FALSE,
'abilitado' => TRUE,
'text' => 'Recipes',
'link' => 'public/ortodoncia/recipes',
'sub_modules' => array('ORTINDICACIONES')
);
$MENU['ORTINDICACIONES'] = array(
'emparentar' => FALSE,
'abilitado' => TRUE,
'text' => 'Indicaciones',
'link' => 'public/ortodoncia/indicaciones',
'sub_modules' => array()
);
$MENU['ORTCITAS'] = array(
'emparentar' => FALSE,
'abilitado' => TRUE,
'text' => 'Citas',
'link' => 'public/ortodoncia/citas',
'sub_modules' => array()
);
$MENU['CONFIGURACION'] = array(
'emparentar' => TRUE,
'abilitado' => TRUE,
'text' => 'Configuracion',
'link' => 'public/configuracion',
'sub_modules' => array()
);
$MENU['REPORTES'] = array(
'emparentar' => TRUE,
'abilitado' => TRUE,
'text' => 'Reportes',
'link' => 'public/Reportes',
'sub_modules' => array()
);
$MENU['SALIR'] = array(
'emparentar' => TRUE,
'abilitado' => true,
'text' => 'Salir',
'link' => 'public/salir',
'sub_modules' => array()
);
ademas para recorrer dicho array tengo este codigo
function show_menu($MENU, $subIndex = false) {
$menu_string = '<ul>';
if (!$subIndex) {
foreach ($MENU as $item) {
if ($item['abilitado'] && $item['emparentar']) {
$_subString = "";
if (!empty($item['sub_modules'])) {
foreach ($item['sub_modules'] as $sub) {
$_subString .= show_menu($MENU, $sub);
}
}
$menu_string .= '<li>' . '<a href="' . $item['link'] . '">' . $item['text'] . '</a>' . $_subString . '</li>';
}
}
} else {
if ($MENU[$subIndex]['abilitado'] && !$MENU[$subIndex]['emparentar']) {
$_subString = "";
if (!empty($MENU[$subIndex]['sub_modules'])) {
foreach ($MENU[$subIndex]['sub_modules'] as $sub) {
$_subString .= show_menu($MENU, $sub);
}
}
$menu_string .= '<li>' . '<a href="' . $MENU[$subIndex]['link'] . '">' . $MENU[$subIndex]['text'] . '</a>' . $_subString . '</li>';
}
}
return $menu_string . '</ul>';
}
El error que tengo es que al momento de generar el menu en la vista se genera bien pero cuando voy a inspecccionar el elemento en el navegador aparece de la siguiente manera:
<ul>
<li>
<a href="public/escritorio">Escritorio</a>
</li>
<li>
<a href="public/shop">Odontologia</a>
<!-- Aqui comienza el error -->
<ul>
<li>
<a href="public/odontologia/pacientes">Pacientes</a>
</li>
</ul>
<ul>
<li>
<a href="public/odontologia/consultas">Consultas</a>
</li>
</ul>
<ul>
<li>
<a href="public/odontologia/recipes">Recipes</a>
<ul>
<li>
<a href="public/odontologia/recipes/indicaciones">Indicaciones</a>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<a href="public/odontologia/citas">Citas</a>
</li>
</ul>
</li>
<li>
<a href="public/ortodoncia">Ortodoncia</a>
<!--Aqui se repite el error-->
<ul>
<li>
<a href="public/ortodoncia/pacientes">Pacientes</a>
</li>
</ul>
<ul>
<li>
<a href="public/ortodoncia/consultas">Consultas</a>
</li>
</ul>
<ul>
<li>
<a href="public/ortodoncia/recipes">Recipes</a>
<ul>
<li>
<a href="public/ortodoncia/indicaciones">Indicaciones</a>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<a href="public/ortodoncia/citas">Citas</a>
</li>
</ul>
</li>
<li>
<a href="public/configuracion">Configuracion</a>
</li>
<li>
<a href="public/Reportes">Reportes</a>
</li>
<li>
<a href="public/salir">Salir</a>
</li>
</ul>
como pudieron ver al momento de generar un sub menu las de etiqueta < ul > se repite por cada item del submenu y deberia ser una etiqueta un por cada grupo de item de un submenu.
15070,c#,Este es el código para que asigne fondo en el diseñador:
internal static Bitmap email_bg
{
get
{
return (Bitmap)RuntimeHelpers.GetObjectValue(AutoOffers.My.Resources.Resources.ResourceManager.GetObject("email_bg", AutoOffers.Resources.resourceCulture));
}
}
Ya que de no ser así solo puedo ponerle fondo de color xd.
Me sale el siguiente error:
'Resources.resourceCulture' no es accesible debido a su nivel de protección
Necesito ponerle algo en el bitmap ya que de no ser así el valor es nulo entonces no me muestra el fondo..
Una captura por si acaso
15072,java|android,Desarrollo una apliacion movil en android-studio tengo un ListView y quiero obtener el evento en el cual cuando seleccione un Item de la lista yo muestre un determinado String en un TextView.
Por Ejemplo:
Seleccion en Item A presenta en TextView1 el String1
Seleccion en Item B presenta en TextView1 el String2
Por ahora ya puedo presentar los datos pero cargando una Activity con un TexView para cada Item.
¿Como puedo hacer que funcione de forma dinámica para todos mis Items?
15076,android,Tengo una duda, tengo este ejemplo de cómo guardar una imagen en SQLite que inserta una imagen en la base de datos.
Pero si yo quiero guardar una imagen de galería en la base de datos, es decir, seleccionarla y luego guardarla en la base de datos ¿Cómo sería un ejemplo funcional?
public void insertImg(int id , Bitmap img ) {
byte[] data = getBitmapAsByteArray(img); // this is a function
insertStatement_logo.bindLong(1, id);
insertStatement_logo.bindBlob(2, data);
insertStatement_logo.executeInsert();
insertStatement_logo.clearBindings() ;
}
public static byte[] getBitmapAsByteArray(Bitmap bitmap) {
ByteArrayOutputStream outputStream = new ByteArrayOutputStream();
bitmap.compress(CompressFormat.PNG, 0, outputStream);
return outputStream.toByteArray();
}
15081,php,Estoy intentando validar un login de entrada para verificar los intentos de un usuario al loguearse. Si este cumple 3 intentos fallidos, entonces la cuenta se desactiva(En mi base de datos; en la tabla usuario, cambia el estado del usuario a inactivo)
Este es mi codigo:
<?php
session_start();
require_once('conexion.php');
// ================================================ EMPIEZA EL CONTADOR PARA EL LOGIN =====================================
$_SESSION['contadorLogin'] == 0;
if (isset($_POST["submit"])) {
$usuario=$_POST["nusuario"];
$contrasena=$_POST["ncontrasena"];
$usuario = stripslashes($usuario);
$usuario = $conn->real_escape_string($usuario);
$contrasena = stripslashes($contrasena);
$contrasena = $conn->real_escape_string($contrasena);
$id_emp="";
$sql="SELECT * FROM usuario WHERE usuario='$usuario' AND (contrasena='$contrasena' AND estado='Activo') ";
$result = $conn->query($sql);
if ($result->num_rows == 1) {
while($row = $result->fetch_assoc()) {
$id_emp=$row["id_empleado"];
}
$_SESSION['iduser']=$usuario;
$sql2="SELECT * FROM empleado WHERE id_empleado='$id_emp'";
$result2=$conn->query($sql2);
if ($result2->num_rows == 1) {
while($row = $result2->fetch_assoc()) {
$_SESSION["nombre"]=$row["nombre"];
$_SESSION["apellidos"]=$row["apellidos"];
$_SESSION["tipo"]=$row["tipo"];
$_SESSION["dni"]=$row["dni"];
$_SESSION["ubicacion"]=$row["ubicacion"];
$_SESSION["telfmovil"]=$row["telfmovil"];
$_SESSION["email"]=$row["email"];
$_SESSION["imagen"]=$row["imagen"];
}
}
$mensaje = "¡Bienvenido al Sistema!";
echo "<script type='text/javascript'>alert('$mensaje');</script>";
header( "refresh:0.2;url=../venta_venta.php" );
}else{
$mensaje = "Error! Es probable que la contraseña o usuario ingresado son incorrectos o bien su usaurio esta inactivo";
echo "<script type='text/javascript'>alert('$mensaje');</script>";
header( "refresh:0.2;url=../login_agro.php" );
// =============================================================== AUMENTAMOS EL CONTADOR DEL LOGIN ==================
$_SESSION['contadorLogin'] = $_SESSION['contadorLogin'] + 1;
// =================================================== SE DESACTIVA LA CUENTA DEL USUARIO =============================
if ($_SESSION['contadorLogin']>3) {
$actualizar="UPDATE usuario SET estado='Inactivo' WHERE usuario='$usuario'";
$result = $conn->query($actualizar);
$mensaje2 = "Lo sentimos, su usaurio ha sido desactivado";
echo "<script type='text/javascript'>alert('$mensaje2');</script>";
header( "refresh:0.2;url=../login_agro.php" );
}
}
}
$conn->close();
?>
Y aunque funciona(cambia el estado del usuario). Me aparece el siguiente mensaje despues del login:
Notice: Undefined index: contadorLogin in C:\...
Como soluciono el problema? Intente ponerle un isset(); pero entonces el que arroja error es la linea donde se acumula +1.
15089,java,¿Cuál es la mejor manera de separar las palabras de un texto que puede contener múltiples espacios en blanco concatenados, tabuladores y saltos de línea?
Procesar el array de palabras y después ajuntarlas, respetando los mismos espacios que hubieran.
Dummy text:
Lorem ipsum dolor  sit amet, consectetur is adipiscing elit.
15091,php,El problema es que envío un formulario con AJAX en POST. Todo va bien en el PRIMER ENVIO, ahora si hago el segundo envío, se guarda el doble de si mismo, y al tercer envio, el triple de si mismo, y así sucesivamente. Entonces, podrían indicarme alguna forma de limpiar el POST o lo que sea que haya que limpiar para evitar este problema?
Cuando hay más de una inserción, multiplica....
La verdad que estoy realmente confundido.
Codigo del archivo "polling.js" que activa la carga de la pagina "test.php" en donde se muestran cada una de las inserciones desde MySQL.
$(document).ready(function(){
$.ajaxSetup({ cache: false });
$('#message').load('test.php');
setInterval(function() {
$('#message').load('test.php');
}, 1000);
});
Codigo de la pagina principal - "test-inside.php"
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title></title>
<script src="js/jq-1.11.3.js"></script>
<script src="js/bst.min.js"></script>
<script src="post-form.js"></script>
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/bst.min.css">
</head>
<body style="background:none;font-family:Trebuchet MS;">
<div class="container">
<div style="width:100%;height:300px;">
<h1 style="margin:0;padding:0;width:100%;text-align:center;">NuevaRed Development Testing</h1>
<form method="POST" id="form">
<table>
<tr>
<td>
<input type="text" class="form-control" style="border-radius:15px;" id="texto" name="texto" placeholder="Escribe tu mensaje" autocomplete="off" autofocus>
<button type="submit" onclick="quebueno();" class="form-control btn btn-primary" style="border-radius:15px;" name="send">Enviar</button>
</td>
</tr>
</table>
</form>
<div id="message" style="height:350px;overflow-y:scroll;padding:5px;margin:0;"></div>
</div>
</div>
<script src="polling.js"></script>
</body>
</html>
Codigo de inserción a MySQL - "sendmessage.php" la pagina que hace el proceso de guardar en MySQL y luego es mostrada en "test.php"
<?php
require 'conec.php';
if($link){
if(!empty($_POST['texto'])){
require 'class.php';
$inputText = $_POST['texto'];
$inputKey = "MaximaPuertaServiceReina17Milena";
$blockSize = 256;
$aes = new AES($inputText, $inputKey, $blockSize);
if($enc = $aes->encrypt()){
$sql=mysqli_query($link,"INSERT INTO testing(e,Location) VALUES ('$enc','Here')");
}else{
echo "Nope!";
}
}else{
echo "Escribe algo antes de enviar, plox.";
}
}
?>
Codigo "test.php" donde se muestra la data almacenada en MySQL.
<?php
require 'conec.php';
require 'class.php';
$inputKey = "MaximaPuertaServiceReina17Milena";
$blockSize = 256;
?>
<!DOCTYPE html>
<html>
<head>
<title></title>
</head>
<body>
<div class="mensajes">
<?php
if($sql=mysqli_query($link,"SELECT * FROM testing ORDER BY id_test DESC")){
if(mysqli_num_rows($sql)>0){
while ($filas = mysqli_fetch_array($sql)) {
$us = $filas['e'];
$inputText = $us;
$aes = new AES($inputText, $inputKey, $blockSize);
if($enc = $aes->decrypt()){
if($filas['Location']=="Here"){
?>
<div class="s-pred" style="text-align:left;position:relative;width:75%;padding:5px 10px;">
<table>
<tr>
<td>
<h2 style="font-size:16px;text-align:left;margin:0;padding:0;"><?php echo $enc ?></h2>
</td>
</tr>
<tr>
<td>
<h2 style="margin:0;padding:0;font-size:12px;text-align:left;"><b><?php echo $filas['Location'] ?></b></h2>
</td>
</tr>
</table>
</div>
<?php
}elseif($filas['Location']=="There"){
?>
<div class="s-pred" style="text-align:right;width:75%;position:relative;left:25%;padding:5px 10px;">
<table>
<tr>
<td>
<h2 style="font-size:16px;text-align:right;margin:0;padding:0;"><?php echo $enc ?></h2>
</td>
</tr>
<tr>
<td>
<h2 style="margin:0;padding:0;font-size:12px;text-align:right;"><b><?php echo $filas['Location'] ?></b></h2>
</td>
</tr>
</table>
</div>
<?php
}
}
}
}else{
?>
<h4 style="width:100%;text-align:center;">No hay mensajes, ¿Dónde está la amistad? :v</h4>
<?php
}
}else{
echo "HEY!!";
}
?>
</div>
</body>
</html>
Código de "post-form.js" el cual es responsable de hacer el registro a MySQL.
function quebueno(){
$('#form').submit(function(e) {
e.preventDefault()//evitas hacer el submit
$.ajax({
type: 'POST',
url: 'sendmessage.php',
data: $('#form').serialize(),
success: function(data) {
console.log("Sended!");
}
});
});
}
15094,java,Hola al momento de compilar el ARCHIVO DE PRUEBA en la consola con javacc me sale
"Error: no se ha encontrado o cargado la clase principal
ProyectoCompi.java"
Este es mi ARCHIVO JJ:
>PARSER_BEGIN(ProyectoCompi)
>class ProyectoCompi{
>   public static void main(String[] args) throws ParseException{
>       try{
>           ProyectoCompi analizador = new ProyectoCompi(System.in);
>           analizador.programa();
>       }catch(ParseException e){
>           System.out.println(e.getMessage());
>           System.out.println("Analizador: Se han encontrado errores en el analisis");
>       }
>   }
>}
>PARSER_END(ProyectoCompi)
>
>TOKEN:{
>   <MAIN: "public static void main()"> {System.out.println("Main -> " + image);}
>}
>
>TOKEN:{
>   <LPAREN: "(">{System.out.println("PARENTIZQ -> " + image);}
>   |<RPAREN: ")">{System.out.println("PARENTDER -> " + image);}
>   |<LBRACE: "{">{System.out.println("LLAVEIZQ -> " + image);}
>   |<RBRACE: "}">{System.out.println("LLAVEDER -> " + image);}
>   |<COMA: ",">{System.out.println("COMA -> " + image);}
>   |<SEMICOLON: ";">{System.out.println("PUNTO Y COMA -> " + image);}
>}
>
>TOKEN:{
>   <ASIGNACION: "=">{System.out.println("ASIGNACION -> " + image + "\r\n");}
>   |<SUMA: "+">{System.out.println("SUMA -> " + image + "\r\n");}
>   |<RESTA: "-">{System.out.println("RESTA -> " + image + "\r\n");}
>   |<PRODUCTO: "*">{System.out.println("SUMA -> " + image + "\r\n");}
>   |<IMPRIMIR: "imprimir ">{System.out.println("IMPRIMIR -> " + image + "\r\n");}
>}
>
>TOKEN:{
>   <COMPLEJO: "Complejo ">{System.out.println("COMPLEJO -> " + image);}
>   |<NUMBER: (["0"-"9"])+>{System.out.println("NUMERO -> " + image);}
>   |<IDENTIFIER: (["a"-"z","A"-"Z"])+>{System.out.println("IDENTIFICADOR   -> " + image + "\r\n");}
>}
>
>SKIP:{
>   " " | "\r\n" | "\t" | "\t\t" | "\t\t\t"
>}
>
>void Programa():
>{}
>{
>   <MAIN><LBRACE>Sentencias()<RBRACE><EOF>
>}
>
>void Sentencias():
>{}
>{
>   DeclaracionLocal()
>}
>
>void DeclaracionLocal():
>{}
>{
>
>   <COMPLEJO><IDENTIFIER>(DeclaracionSimple() | DeclaracionCompleja() | DeclaracionCombinada())  <SEMICOLON> recursivo()
>}
>
>void recursivo():
>{}
>{
>   DeclaracionLocal()
>}
>
>void DeclaracionSimple():
>{}
>{
>   (<COMA><IDENTIFIER>)*
>}
>
>void DeclaracionCompleja():
>{}
>{
>   <LPAREN><NUMBER><COMA><NUMBER><RPAREN> (<COMA><IDENTIFIER> <LPAREN><NUMBER><COMA><NUMBER><RPAREN>)*
>}
>void DeclaracionCombinada():
>{}
>{
>   ((DeclaracionSimple() | DeclaracionCompleja())<COMA>)*((DeclaracionSimple() | DeclaracionCompleja()))
>}
ARCHIVO DE PRUEBA:
public static void main(){
Complejo a;
Complejo a,b;
Complejo a,b(5,4);
Complejo a(5,4);
Complejo a(5,4),b;
Complejo a,b(5,4),c;
Complejo a(5,4),b,c(6,5);
}
15095,javascript,les presento mi problema:
Tengo un formulario dinamico, este tiene pues varios campos y entre ellos tengo un select que tiene las opciones: capitulo, subcapitulo, nivel 1, nivel 2, nivel 3 y nivel 4, cada vez que selecciono una opcion de este select se crea un nuevo formulario abajo del anterior que es exactamente igual y asi sucesivamente.
Lo que ocupo es que al seleccionar una opcion de mi select y se cree otro formulario, que en este siguiente formulario vengan unicamente ciertas opciones que ciertas opciones basandose en la anterior ya seleccionado, por ejemplo: que al seleccionar Capitulo en el siguiente select solo te de de opciones Subcapitulo y Nivel 1, luego si seleccionas Nivel 2 solo te de de opcion seleccionar Nivel 3.
Les adjunto el codigo que llevo, TODO ESTO SOLO CON ANGULARJS
var app = angular.module('angularjs-starter', []);
app.controller('MainCtrl', ['$scope', function($scope) {
$scope.choices = [{id: 'choice1'}];
$scope.addNewChoice = function() {
var newItemNo = $scope.choices.length+1;
$scope.choices.push({id:'choice'+newItemNo});
};
$scope.removeChoice = function(index) {
$scope.choices.splice(index, 1);
};
var initialOptions = ['Capitulo', 'Subcapitulo', 'Nivel 1', 'Nivel 2',     'Nivel 3', 'Nivel 4'];
$scope.options = initialOptions;
$scope.selectedOption = $scope.options[0];
}]);
<div ng-app="angularjs-starter" ng-controller="MainCtrl">
<fieldset class="form-group"  data-ng-repeat="choice in choices">
<form name="myForm">
<select ng-model="selectedOption" ng-options="o for o in options" > ng-change="addNewChoice()">
</select>
<input type="number" ng-model="choice.clave" name="" placeholder="Ingresa > la clave">
<input type="text" ng-model="choice.concepto" name="" placeholder="Ingresa el concepto">
<input type="text" ng-model="choice.unidad" name="" placeholder="Ingresa la unidad" min="0">
<input type="number" ng-model="choice.cantidad" name="" placeholder="Ingresa la cantidad" min="0">
<input type="number" ng-model="choice.punitario" name="" placeholder="Precio unitario" min="0" ng-click="showme=true">
<input type="number" ng-model="choice.importe" name="" placeholder="Importe">
<button class="remove btn btn-danger" ng-show="$last" ng-click="removeChoice($index)">Eliminar</button>
</fieldset>
</form>
<button class="addfields btn btn-primary" ng-click="addNewChoice()">Agregar</button>
</div>
15096,java|android,En mi actividad trato de leer un código de barras mediante la librería Zxing y por otra parte trato de capturar 4 fotografías. He tenido problemas en el momento de capturar las fotografías y regresar a mi actividad: se me detiene la aplicación. Me he preguntado si el problema es porque ocupo dos acciones que recaen en el método onActivityResult y quisiera saber como separarlo ya que cuando tomo la tercera o segunda fotografía me marca error y no me permite terminar capturar las 4 ¿Cómo separo el resultado de la lectura y la de la captura de fotografías?
public void addRight(View button)
{
if(capturas<=3) {
if(capturas==0){
Toast.makeText(getApplicationContext(),"Tome imagen FRONTAL",Toast.LENGTH_LONG).show();
}
else if(capturas==1){
Toast.makeText(getApplicationContext(),"Tome imagen TRASERA",Toast.LENGTH_LONG).show();
}
else if(capturas==2){
Toast.makeText(getApplicationContext(),"Tome imagen IZQUIERDA",Toast.LENGTH_LONG).show();
}
else if(capturas==3){
Toast.makeText(getApplicationContext(),"Tome imagen DERECHA",Toast.LENGTH_LONG).show();
}
Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
int code = TAKE_PICTURE;
startActivityForResult(intent, code);
}else {
Toast.makeText(getApplicationContext(),"No puede tomar mas de 4 fotografias",Toast.LENGTH_SHORT).show();
}
}
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
contentTxt = (EditText) findViewById(R.id.scan_content);
layout = (ViewGroup) findViewById(R.id.content);
scrollView = (HorizontalScrollView) findViewById(R.id.scrollView5);
try {
//------------------CÓDIGO DE BARRAS------------------------
IntentResult scanningResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);
if (scanningResult != null) {
//Quiere decir que se obtuvo resultado pro lo tanto:
//Desplegamos en pantalla el contenido del código de barra scaneado
String scanContent = scanningResult.getContents();
contentTxt.setText(scanContent);
//Desplegamos en pantalla el nombre del formato del código de barra scaneado
String scanFormat = scanningResult.getFormatName();
formatTxt.setText(scanFormat);
capturas_scan = capturas_scan +1;
}
if (scanningResult == null) {
//Quiere decir que NO se obtuvo resultado
if (capturas_scan == 2) {
capturas_scan = capturas_scan - 1;
}
else{
Toast toast = Toast.makeText(getApplicationContext(),
"No se ha recibido datos del scaneo!", Toast.LENGTH_SHORT);
toast.show();
}
}
//-------------------FOTOGRAFIA-------------------------
if (capturas_scan == 1 || capturas_scan == 2) {
LayoutInflater inflater = LayoutInflater.from(this);
int id = R.layout.layout_right;
LinearLayout relativeLayout = (LinearLayout) inflater.inflate(id, null, false);
LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.WRAP_CONTENT);
params.gravity = Gravity.LEFT;
params.topMargin = 50;
relativeLayout.setPadding(5, 3, 5, 3);
//relativeLayout.setPadding(5, 3, 5, 3);
relativeLayout.setLayoutParams(params);
/**
* Se revisa si la imagen viene de la c‡mara (TAKE_PICTURE) o de la galer’a (SELECT_PICTURE)
*/
if (requestCode == TAKE_PICTURE && resultCode == RESULT_OK) {
/**
* Si se reciben datos en el intent tenemos una vista previa (thumbnail)
*/
if (data != null) {
/**
* En el caso de una vista previa, obtenemos el extra ÒdataÓ del intent y
* lo mostramos en el ImageView
*/
try {
if (data.hasExtra("data")) {
iv = (ImageView) relativeLayout.findViewById(R.id.imgFoto);
iv.setImageBitmap((Bitmap) data.getParcelableExtra("data"));
BitmapDrawable estirable = (BitmapDrawable) iv.getDrawable();
Bitmap bitmap = estirable.getBitmap();
ByteArrayOutputStream bos = new ByteArrayOutputStream();
bitmap.compress(Bitmap.CompressFormat.JPEG, 5, bos);
byte[] bb = bos.toByteArray();
image = Base64.encodeToString(bb, Base64.NO_WRAP);
if (capturas == 0) {
v.add(0, image);
} else {
v.add(capturas, image);
}
layout.addView(relativeLayout);
scrollView.post(new Runnable() {
public void run() {
scrollView.fullScroll(ScrollView.FOCUS_DOWN);
}
});
}
} catch (Exception e) {
Toast.makeText(getApplicationContext(), "1. Hubo un error al tomar la fotografía." + e, Toast.LENGTH_SHORT).show();
}
/**
* De lo contrario es una imagen completa
*/
} else {
/**
* A partir del nombre del archivo ya definido lo buscamos y creamos el bitmap
* para el ImageView
*/
iv = (ImageView) relativeLayout.findViewById(R.id.imgFoto);
iv.setImageBitmap(BitmapFactory.decodeFile(name));
}
/**
* Recibimos el URI de la imagen y construimos un Bitmap a partir de un stream de Bytes
*/
capturas = capturas + 1;
}else if (requestCode == SELECT_PICTURE) {
Uri selectedImage = data.getData();
InputStream is;
try {
is = getContentResolver().openInputStream(selectedImage);
BufferedInputStream bis = new BufferedInputStream(is);
Bitmap bitmap = BitmapFactory.decodeStream(bis);
iv = (ImageView) findViewById(R.id.imgFoto);
iv.setImageBitmap(bitmap);
} catch (FileNotFoundException e) {
Toast.makeText(getApplicationContext(),"2.Hubo un error al tomar la fotografía.",Toast.LENGTH_LONG).show();
}
}
}
else{
Toast.makeText(getApplicationContext(),"3.Hubo un error al tomar las fotografías.",Toast.LENGTH_LONG).show();
}
}catch (Exception e){
Toast.makeText(getApplicationContext(),"Ha habido un error"+e,Toast.LENGTH_LONG).show();
}
}
15104,,Para dibujar un diagrama de flujo que incluye una constante (en este caso la gravedad de la tierra es g=9.81 m/s^2) se debe utilizar un rectangulo simple de proceso:
o el de asignación interna:
lo que irá dentro de la figura es: g=9.81 que es una constante.
No encontré etiqueta para diagrama de flujo, disculpen si está en una categoría diferente.
15108,c#,Obtengo el siguiente error: Radiobutton no es accesible debido a su nivel de protección
Comparto con vosotros una captura a ver si sabeis a que se debe..
15116,java,Sabemos que un IDE te facilita la vida al programar, pero necesito saber cuando se está trabajando con un editor de texto, como crear paquetes. Intenté separar las clases en carpetas y usar las palabras package e import pero no funciona.
15117,,tengo la siguiente función en VBA para elevar una matriz a la potencia n pero al ejecutarla (Ctrl + Shift + Enter) Arroja error de valor.
Este es el código que llevo actualmente:
Function MATRIXPOWER(entrada As Range, n As Integer) As Range
Dim identity() As Variant
Dim i As Integer
Dim j As Integer
j = 1
i = 1
Dim k As Integer
ReDim identity(entrada.Rows.Count, entrada.Columns.Count)
For i = 1 To entrada.Rows.Count
For j = 1 To entrada.Columns.Count
If i = j Then
identity(i, j) = 1
Else
identity(i, j) = 0
End If
Next j
Next i
Dim inter() As Variant
ReDim inter(entrada.Rows.Count, entrada.Columns.Count)
inter = identity
For k = 1 To n
inter = Application.MMult(entrada, inter)
Next k
MATRIXPOWER = inter
End Function
15118,,Creo que por error quité una dependencia o librería y ya no me deja correr la app.
08:48:24 PM Error Loading Project: Cannot load 7 facets Details...
08:51:22 PM [![Error running com.mark.exportadora in app: No JDK specified][1]][1]
15121,javascript,En ésta pregunta hablan acerca de como evitar exponer objetos privados en un componente. Yo he estado buscando como hacer lo opuesto. Digamos que se tiene el componente especificado en las lineas de abajo y queremos acceder a privateObj ya sea desde la página web o desde un componente padre. ¿Cómo se podría realizar esto en JavaScript usando la API de Polymer?
<polymer-element name="animating-element">
<script>
var privateObj = {};
privateObj.internalState = 0;
//private static method
privateObject.setupState = function(polymerObject) {
if(polymerObject.stateExposedToOutside == /* some conditions */) {
privateObject.internalState = 1;
}
}
Polymer('animating-element', {
stateExposedToOutside: 0,
ready: function() {
privateObj.setupState(this);
this.animate();
},
animate: function() {
}
});
</script>
</polymer-element>
15125,javascript,Sé que tengo que usar .reverse(); y me imagino que también lo primero que tengo que hacer es pasar a un array la cadena dada en el parámetro pero no se de que manera podría hacerlo ni en que orden. Les dejo mi código a continuación.
function reverseString(str) {
return str;
}
reverseString("hello");
De antemano muchas gracias.
(Lo que quiero es que si pongo "hello" como parámetro al momento de regresar el valor diga "olleh").
15126,c#,Necesito aplicar una misma clase a muchos elementos ActionLink para darle estilos. De momento tengo este código:
@Html.ActionLink("Panel de Administrador", "Registro", "Registro", new { @class = "enlace" })
@Html.ActionLink("Cargar Casa", "Create", new {@class = "enlace" })
Pero al aplicar estilos solo me toma mi primer ActionLink.
15131,javascript|html,Quiero una manera de abrir una búsqueda a través de Duckduckgo usando el texto
ingresado en un input de texto (#search-bar), de manera que al hacer click en la tecla Enter el texto escrito sea el valor de la búsqueda. Quiero hacerlo sin utilizar librerías como jQuery.
Este es mi código HTML
<form>
<input type="text" id="search-bar" placeholder="Buscan">
<--
Si utilizo un <textarea></textarea> en lugar de un input, el javascript funciona,
pero no es lo que necesito.
-->
</form>
Y este es mi javascript.
var search_bar = document.getElementById("search-bar");
var search_wrap = document.getElementById("search-wrap");
var search_visible = false;
search_wrap.style.display = 'none';
"use strict";
document.onkeyup = function (e){
// if S
if((e.keyCode == 83) && (search_visible == false)){
search_visible = true;
search_wrap.style.display = 'block';
search_bar.focus();
}
// if Esc
else if((e.keyCode == 27) && (search_visible == true)){
search_visible = false;
search_wrap.style.display = 'none';
}.
// if Enter
// Si cambio el 13 (Enter) por otra tecla, E.g. 20 (Bloq Mayus) funciona a la perfección.
// Si cambio el 13 por un 17 (Ctrl) funciona haciendo Ctrl+Enter
else if((e.keyCode == 13) && (search_visible == true)){
var content = search_bar.value.replace(new RegExp(" ", 'g'), "+");
// He intentado con if(content.length > 0)
if(content != ""){
window.location = ("https://duckduckgo.com/?q=" + content + "&ia=about");
}
}
}
Mi problema es que la función no se ejecuta correctamente si utilizo la tecla Enter.
15132,python,Cual seria la mejor manera de devolver letras específicas pero a la misma vez esas letras aleatorias, por ejemplo de la distancia a hasta f [a,b,c,d,e,f]. Yo se cómo hacerlo con todo el alfabeto usando la función random y string.ascii_letters, pero no entiendo como hacerlo específico.
def gen():
return random.choice(string.ascii_letters + string.digits)
# prints the first digits until %s, and starts printing random generation.
def printme():
combo1 = '999999991468%s111%s1%s%s%s%s%s%s%s%s%s%s%s%s%s%s%s' % (
gen().upper(), gen().upper(), gen().upper(),
gen().upper(), gen().upper(), gen().upper(),
gen().upper(), gen().upper(), gen().upper(),
gen().upper(), gen().upper(), gen().upper(),
gen().upper(), gen().upper(), gen().upper(),
gen().upper(), gen().upper()
)
15139,,Estoy programando una página web con Bootstrap y en una de las páginas tengo una estructura de dos columnas. En la derecha tengo una imagen o varias y a la izquierda un texto que es la descripción de la imagen. Lo que quiero conseguir es que al hacer scroll hacia abajo para ver la imagen completa o todas las imágenes, el texto me acompañe.
Probé a utilizar position: fixed en el texto o el atributo affix pero no funciona ya que el texto me acompaña pero no se ve entero porque se mete por debajo de la imagen.
La página la podéis encontrar aquí:
http://clients.sabrinacouto.com/kiige/res_publica.html
Si es necesario copio el css o el código html.
Alguna idea de porqué puede pasar esto o si hay alguna otra forma de solucionarlo?
Código:
<section class="row2 text-center col-md-12 center-block text-center">
<div class="col-sm-2 col-md-2">
<div class="projectext">
<p class="">Res Publica valimiskampaania graafilise stiili kujundus välireklaamidele ja trükistele.</p>
</div>
</div>
<div class="col-sm-10 col-md-10">
<div class="image">
<img src="images/Res Publica valimiskampaania kujundus.jpg" class="img-responsive pull-left" alt="web design app image";>
</div>
</div>
</div>
</section>
CSS:
.projectext{
position: fixed;
overflow:hidden;
}
Muchas gracias!
15141,,Estoy haciendo una web en italiano en HTML5.
Tengo un formulario de contacto, con todos los campos con la etiqueta requried="" de HTML5.
Al darle a submit la info que sale debajo de cada input, sale en español, como puedo hacer para qeu salga en italiano.
Asi está el doctype y la etiqueta html
<!DOCTYPE HTML>
<html lang="it" xml:lang="it" xmlns="http://www.w3.org/1999/xhtml">
15144,,Estoy empezando a estudiar el lenguaje rust y, como suelo hacer para comparar con otros lenguajes, itento implementar el cálculo de factorial para números grandes (aka "BigInts").
Utilizo la versión rust 1.9.0 (stable), que me obliga por un lado a buscar fuera de la librería estándar el crate para usar números grandes (crate num). Por otro lado, no se pueden usar características inestables del lenguaje como son los métodos de agregación sum ó product, que hay que reimplementar mediante fold.
De momento, he implementado tres versiones:
extern crate num_bigint;
extern crate num_traits;
extern crate num_iter;
use num_bigint::BigUint;
use num_traits::{Zero, One};
use num_iter::range_inclusive;
fn fact(n: usize) -> BigUint {
let mut res: BigUint = One::one();
for i in 2..n + 1 {
res = res * BigUint::from(i);
}
res
}
fn fact2(n: usize) -> BigUint {
(2..n + 1).fold(One::one(), |x, y| x * BigUint::from(y))
}
fn fact3(n: usize) -> BigUint {
range_inclusive(One::one(), BigUint::from(n)).fold(BigUint::one(), std::ops::Mul::mul)
}
Me interesa, sobre todo, la orientación funcional del lenguaje como la que aparece en las dos últimas implementaciones.
A pesar de que rust debería ser bastante rápido en ejecución, estas implementaciones resultan mucho más lentas que otras hechas en otros lenguajes (haskell, python, scala, ...). Además, el código me parece poco elegante. Por éso:
¿Es posible mejorar estas implementaciones para que sean más rápidas?
¿Se puede reescribir este código para que quede más elegante y/o funcional?
¿Alguna implementación mejor?
¿Tal vez con un macro se podría hacer más legible el código?
Añado estimación de tiempos
Sin ser nada preciso, añado los tiempos obtenidos con distintos lenguajes para el cálculo de 150000! para hacer una mejor idea:
haskell  25.68 secs
python   15.20 secs
rust[1]  17.67 secs
scala     8.36 secs
scala[2]  2.32 secs
scala[3]  0.32 secs
[1] compilado en rust con optimizaciones completas
[2] usando las colecciones paralelizables de scala
[3] algoritmo paralelizable en scala (https://github.com/chemacortes/factPar)
Además de tiempos, habría que medir el consumo de memoria. En este aspecto, sí que la versión rust destaca por la poca memoria empleada.
Edición [d: 2016-07-28]: he podido confirmar que el crate num que uso tiene algunos bugs que imposibilitan el uso del método product en iteradores BigUint que iría perfecto para la implementación del factorial. Habrá que ser paciente hasta que madure el ecosistema rust y tirar con "workarounds", aunque no resulten todo lo elegante que deberían ser.
15146,c#,Estoy trabajando en una aplicación Windows Forms estoy usando EF code first tengo una relación muchos a muchos, muestro código.
Map Proveedor:
public ProveedorMap()
{
ToTable("Proveedores");
HasKey(c => c.ProveedorId);
Property(c => c.ProveedorId).HasDatabaseGeneratedOption(DatabaseGeneratedOption.Identity);
Property(c => c.ProveedorId).HasColumnOrder(0);
Property(c => c.RazonSocial).IsRequired().HasMaxLength(200).HasColumnOrder(1);
Property(c => c.NroDocumento).HasMaxLength(11).HasColumnOrder(2);
Property(c => c.DocumentoIdentidad).HasColumnOrder(3);
Property(c => c.Direccion).HasMaxLength(100).HasColumnOrder(4);
Property(c => c.Fijo).HasMaxLength(9).HasColumnOrder(5);
Property(c => c.Celular).HasMaxLength(9).HasColumnOrder(6);
Property(c => c.Representante).HasMaxLength(100).HasColumnOrder(7);
Property(c => c.Email).HasMaxLength(100).HasColumnOrder(8);
HasMany(c => c.Modelos)
.WithMany(c => c.Proveedores)
.Map(mc =>
{
mc.MapLeftKey("ProveedorId");
mc.MapRightKey("ModeloId");
mc.ToTable("ProveedorModelo");
});
}
Map Modelo:
public ModeloMap()
{
ToTable("Modelos");
HasKey(c => c.ModeloId);
Property(c => c.ModeloId).HasDatabaseGeneratedOption(DatabaseGeneratedOption.Identity);
Property(c => c.ModeloId).HasColumnOrder(0);
HasRequired(c => c.Categoria).WithMany(c => c.Modelos).HasForeignKey(c => c.CategoriaId)
.WillCascadeOnDelete(false);
Property(c => c.CategoriaId).IsRequired().HasColumnOrder(1);
Property(c => c.Descripcion).IsRequired().HasMaxLength(100).HasColumnOrder(2);
}
Método
public void AsignarModelos(Proveedor proveedor, List<EntidadesDominio.Modelo> modelos)
{
using (PosContext Context = new PosContext())
{
//Marcamos la Marca para que no reciba cambios
Context.Entry(proveedor).State = EntityState.Unchanged;
if (proveedor.Modelos == null)
proveedor.Modelos = new List<EntidadesDominio.Modelo>();
//Recorremos cada Proveedor que se quiera asociar
modelos.ForEach(x =>
{
//El Proveedor tampoco debe recibir cambios
Context.Entry(x).State = EntityState.Unchanged;
//Asociamos a la coleción de Proveedores el nuevo item
//Este si recibira cambios
proveedor.Modelos.Add(x);
});
Context.SaveChanges();
}
}
Quiero guardar la entidad Proveedor y la lista de modelos que envío, pero me sale el siguiente error:
"Instrucción INSERT en conflicto con la restricción FOREIGN KEY \"FK_dbo.ProveedorModelo_dbo.Proveedores_ProveedorId\". El conflicto ha aparecido en la base de datos \"PosDb\", tabla \"dbo.Proveedores\", column 'ProveedorId'. Se terminó la instrucción."}
Profiler:
exec sp_executesql N'INSERT [dbo].[ProveedorModelo]([ProveedorId], [ModeloId])
VALUES (@0, @1)
',N'@0 int,@1 int',@0=0,@1=1
Imagen
15147,php,Estoy intentando realizar una consulta, en donde en una misma columna tengo dos diferentes estados, les explico
columna = estados
estado 1
estado 2
mi código para
$auc = "SELECT * FROM resultados WHERE estados=1";
$au_count = $conexion->query($auc);
while( $count_row = $au_count->fetch_array() )
{
$pubAsig=$count_row['estados'];
}
Lo que quiero lograr aquí es mostrar tanto el resultado 1 como el resultado 2 en la misma consulta, pero ambos están en la misma columna y no logro ubicarlos.
15148,,alguien me puede decir como identifico la línea de código en la cual sucede una excepción en oracle, lo que quiero hacer es cuando salte una excepción, agarrar la descripción y la linea y guardarlo en una tabla de errores, así podré identificar en que parte del paquete no se tiene controlado las excepciones.
Saludos.
15149,c#,Estoy atascado con un ejercicio de recursividad en C#,a continuación les dejo la consigna:
-Hacer un árbol como se detalla abajo a partir del ingreso de un valor de una variable.
Ej: Ingreso 5
- - - - 1
- - - 2 2 2
- - 3 3 3 3 3
- 4 4 4 4 4 4 4
5 5 5 5 5 5 5 5 5
(no se si se ve bien, pero la idea es que quede en forma de pino triangular)
Si alguien me podría dar una mano para poder resolverlo, le agradecería un montón, creo que hay algo en el planteo que no estoy pudiendo razonar.
El codigo al que pude llegar es el siguiente:
class Program
{
public class Arbol
{
void hacerArbol(int x)
{
if (x > 0)
{
hacerArbol(x - 1);
if (x < 5)
{
Console.Write("_" + " ");
}
else
{
Console.Write(x);
Console.WriteLine();
}
//hacerArbol(x - 1);
}
}
static void Main(string[] args)
{
Arbol nuevo = new Arbol();
nuevo.hacerArbol(5);
Console.ReadKey();
}
}
}
No puedo lograr plantear la figura que se pide, creo que hay una parte que no me puedo imaginar como hacer.
15151,,¿Cómo puedo eliminar definitivamente composer de linux? Estoy trabajando con Laravel y se me ha presentado un problema y he decidido eliminar composer definitivamente y empezar desde cero con la instalación.
15159,c#,Estoy intentando utilizar el patrón Pub-Sub para comunicar los ViewModels de mi aplicación, pero algo debo estar haciendo mal, ya que no consigo que se disparen los eventos.
La clase con el código para manejar los eventos es esta:
namespace App.Services
{
using System;
using System.Collections.Generic;
public delegate void MessengerEventHandler<T>(object sender, MessengerEventArgs<T> args);
public class MessengerEventArgs<T> : EventArgs
{
public T Item { get; set; }
public MessengerEventArgs(T item)
{
Item = item;
}
}
public enum MessengerType
{
NavigateToBalanceView
}
public static class Messenger<T>
{
private static Dictionary<MessengerType, MessengerEventHandler<T>> events = new Dictionary<MessengerType, MessengerEventHandler<T>>();
public static void AddEvent(MessengerType name, MessengerEventHandler<T> handler)
{
if (!events.ContainsKey(name))
events.Add(name, handler);
}
public static void RaiseEvent(MessengerType name, object sender, MessengerEventArgs<T> args)
{
if (events.ContainsKey(name) && events[name] != null)
events[name](sender, args);
}
public static void RegisterEvent(MessengerType name, MessengerEventHandler<T> handler)
{
if (events.ContainsKey(name))
events[name] += handler;
}
}
}
La implementación la tengo en el HomeViewModel para agregar un evento así:
namespace App.ViewModels
{
using Base;
using Models.DAL;
using Services;
using System.Linq;
using System.Threading.Tasks;
using Windows.UI.Xaml.Navigation;
public class HomeViewModel : ViewModelBase
{
public event MessengerEventHandler<object> NavigateToBalanceViewHandler;
public HomeViewModel()
{
Messenger<object>.AddEvent(MessengerType.NavigateToBalanceView, NavigateToBalanceViewHandler);
}
private decimal balance;
public decimal Balance
{
get { return balance; }
set { balance = value; RaisePropertyChanged(); }
}
public override Task OnNavigatedFrom(NavigationEventArgs args)
{
return null;
}
public override Task OnNavigatedTo(NavigationEventArgs args)
{
using (var db = new Context())
{
var bal = db.Balance.FirstOrDefault();
if (bal == null)
{
Messenger<object>.RaiseEvent(MessengerType.NavigateToBalanceView, this,
new MessengerEventArgs<object>(typeof(BalanceViewModel)));
}
}
return null;
}
}
}
y en el MainViewModel para registrar el evento,´así:
public class MainViewModel : ViewModelBase
{
public MainViewModel()
{
Messenger<object>.RegisterEvent(MessengerType.NavigateToBalanceView, NavigateToBalanceViewHandler);
}
private void NavigateToBalanceViewHandler(object sender, MessengerEventArgs<object> args)
{
}
}
Cuando se añade el evento desde el HomeViewModel, registra correctamente en el listado, pero siempre con el manejador, "MessengerEventHandler" con valor nulo, por lo que al disparar el evento, encuentra el tipo, pero el valor siempre es nulo.
¿Alguna pista por dónde buscar o qué revisar?
Muchas gracias.
Edito, me estoy basando en el modelo PubSub que encontré aquí:
Comunicación entre ViewModels
15160,android,Tengo un problema. lo que pasa es que tengo una aplicación que captura el imei para poder loguearse, y el método que uso es
private String a() {
TelephonyManager tm = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
String imei =tm.getDeviceId();
return imei;
}
pero ese método solo sirve para dispositivos menores que 6.0. y tengo celulares con 4.4, 5.1 y 6.0. luego implementé el siguiente código.
public String obtenerImei()
{
String imei="";
if (checkSelfPermission(Manifest.permission.READ_PHONE_STATE)
!= PackageManager.PERMISSION_GRANTED) {
requestPermissions(new String[]{Manifest.permission.READ_PHONE_STATE},
MY_PERMISSIONS_REQUEST_READ_PHONE_STATE);
imei="";
} else {
imei= a();
}
return imei;
}
private String a() {
TelephonyManager tm = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
String imei =tm.getDeviceId(); // Obtiene el imei  or  "352319065579474";
return imei;
}
pero este último no funciona en los APIS menores que 23 obviamente, ¿Cómo implementar un solo método para que reconozca la captura del imei en ambos casos?
este es mi último código
public String obtenerImei()
{
if(Build.VERSION.SDK_INT  < Build.VERSION_CODES.M)
{
//Menores a Android 6.0
TelephonyManager tm = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
String imei =tm.getDeviceId();
return imei;
}
else
{
// Mayores a Android 6.0
String imei="";
if (checkSelfPermission(Manifest.permission.READ_PHONE_STATE)
!= PackageManager.PERMISSION_GRANTED) {
requestPermissions(new String[]{Manifest.permission.READ_PHONE_STATE},
MY_PERMISSIONS_REQUEST_READ_PHONE_STATE);
imei="";
} else {
imei= a();
}
return imei;
}
}
private String a() {
TelephonyManager tm = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);
String imei =tm.getDeviceId(); // Obtiene el imei  or  "352319065579474";
return imei;
}
15163,javascript|jquery|html,buenos dias:
tengo el siguiente codigo:
generic handler
public void ProcessRequest(HttpContext context)
{
string nombreArchivo,tipo;
//   int id = 12725; NOTA:"Si hago asi no marca error y si me muestra el pdf"
int id = int.Parse(context.Request.QueryString["Id"]);
using (SqlConnection con = new SqlConnection(myconsql))
{
using (SqlCommand cmd = new SqlCommand())
{
cmd.CommandText = "SELECT nomb, ruta, tipo FROM Cat WHERE id=@Id";
cmd.Parameters.AddWithValue("@Id", id);
cmd.Connection = con;
con.Open();
using (SqlDataReader sdr = cmd.ExecuteReader())
{
sdr.Read();
ruta = (byte[])sdr["ruta"];
tipo = sdr["tipo"].ToString();
nombArchivo = sdr["nombArchivo"].ToString();
}
con.Close();
}
}
context.Response.Buffer = true;
context.Response.Charset = "";
if (context.Request.QueryString["download"] == "1")
{
context.Response.AppendHeader("Content-Disposition", "attachment; filename=" + nombArchivo);
}
context.Response.Cache.SetCacheability(HttpCacheability.NoCache);
context.Response.ContentType = "application/pdf";
context.Response.BinaryWrite(ruta);
context.Response.Flush();
context.Response.End();
}
public bool IsReusable
{
get
{
return false;
}
marca este error:
Value cannot be null.
Parameter name: String Line 23:
int id = int.Parse(context.Request.QueryString["Id"]);
Asi lo tengo en source asp.net  c#:
table.append("<tr id='row_" + i + "'><td name='id'>" + Data[i].id + "</td> +  "
"<td style='display: none'>" + Data[i].ruta + "</td>" + " <td style='display: none'>" + Data[i].tipo + "</td>" + "<td name='nombArchivo'>" + "   <a href='http://localhost:25429/FileCS.ashx?Id='" + Data[i].id +  "target='_blank='_blank'>" + Data[i].nombArchivo + "</a></td></td></tr>");
y cuando lo corro me sale ese error, mas sin en cambio si le asigno un id especifico en generic si me lo muestra, estare haciendo algo mal en source de la tabla html?????
15166,,En una aplicación web que he desarrollado, estoy teniendo problemas de integridad en la base de datos cuando realizo INSERT en dos tablas diferentes que tienen información relacionada y se interrumpe la conexión a internet en medio del proceso. Por ejemplo al registrar una nueva factura, primero realizo el INSERT en tabla de facturas y a continuación los sucesivos INSERT en la tabla de items. El problema surge cuando la conexión a internet se interrumpe luego procesar el primer INSERT y antes o durante la segunda serie de INSERT, lo que ocasiona que se registre una factura que no tiene ítems o que tiene una cantidad parcial de los ítems que debería tener. Lógicamente la tasa de ocurrencia de este tipo de problema es muy baja y en general puedo reparar la integridad manualmente, pero quisiera que me ayuden a identificar cuáles serían las "buenas prácticas" recomendadas para lidiar con esta cuestión. Supongo que lo ideal sería poder mandar todo el paquete de información en una misma solicitud a la base de datos y resolver los INSERT en las tablas con un procedimiento almacenado o algo similar, pero no estoy seguro ya que nunca he realizado uno. La aplicación está desarrollada en ASP y la base de datos es MySQL.
15167,,Estoy haciendo mi primera práctica de Ruby on Rails y todo iba bien hasta que he intentado ejecutar el servidor por primera vez . En la línea de comandos ( desde el directorio raíz de mi proyecto ) escribi rails server y luego en el navegar voy a localhost:3000 y me sale este mensaje de error :
"Mysql2::Error
Access denied for user 'root'@'localhost' (using password: YES)"
Según las instrucciones dice que debo comentar (#) la " #database : simpe_cms_development" en el archivo database.yml lo cual hice. Hay 3 partes donde se configura las database: defaul, production y test. Comente la default y trate de iniciar el servidor con el mismo arror. Despues comente las otras 2 database en database.yml y mismo error.
También dice que debo proporcionar la contraseña que me puse al instalar msql . He establecido la contraseña en database.yml archivo como "boots"
username: root
password: boots
host: localhost
Pero aun tengo el mismo problema: mismo error:
"Mysql2::Error
Access denied for user 'root'@'localhost' (using password: YES)" La contraseña 'boots' es correcta. Alguien sabra que hacer en este caso?
15169,c#,Tengo un programa hecho con WPF y C#, este será instalado en muchas computadoras.
El programa requiere de una conexión a una base de datos local (SQL Server Express) porque trabaja en escenarios offline. Existe un servidor central que recolecta los datos de todos los equipos mediante sincronización con Sync Framework.
Todo funciona muy bien, la sincronización se realiza de forma correcta y sin complicaciones.
El problema surge al instalar el programa en un nuevo equipo; el requerimiento es que en el equipo exista una instancia de SQL Server Express llamada VYSICO, así, cuando el programa corre por primera vez, se debe crear la base de datos usando los comandos de SMO. La base de datos se llama Vysico.
Este es el código que estoy utilizando:
ServerConnection srvConn = new ServerConnection();
srvConn.ServerInstance = ".\\" + instanceName;
srvConn.LoginSecure = false;
srvConn.Login = sqlServerLogin; // El login es con sa
srvConn.Password = password;
Server server = new Server(srvConn);
Database db = new Database(server, "Vysico"); // Aquí arroja el error
db.Create();
Cuando se crea la instancia de Database, me da el siguiente error:
setparent failed for database Vysico
Y los InnerExceptions me arrojan los siguiente
Method Not Found: 'Microsoft.SqlServer.Management.Common.ServerConnection Microsoft.SqlServer.Management.Common.ServerConnection.GetDatabaseConnection(Sys‌​tem.String)'.
Espero que puedan ayudarme. Les agradezco de antemano su ayuda y tiempo.
15171,php,Creo un array con JSON y lo envio en una variable encriptada en base64 en un formulario.
La recupero por POST, la desencripto y queda:
[
{"idcliente":"1",
"id_comercial":"999999",
"preciototal":"698.01",
"payTotalTotal":"713.01"
}
]
¿Como puedo obtener cada elemento del array aparte para poder almacenarlo en una columna en mysql cada uno?
Gracias
15176,javascript,Sé que hacer esto debe de ser fácil, pero la verdad no se de que manera podría hacerlo, estaba trabajando en eso y estuve investigando pero me quede trabado. Me serviría de mucho si alguien me ayudara a terminar mi código.
De antemano muchas gracias.
function findLongestWord(str) {
var pp = str.split(" ");
return str.length;
}
findLongestWord("The quick brown fox jumped over the lazy dog");
Ya dividí el string en un array, lo unico que me falta es saber como medir cada palabra individualmente y saber cual es la que mide mas. Al principio se me ocurrió usar un ciclo for para ir de palabra en palabra pero después de eso me quede sin ideas, ayuda por favor.
15184,java|android,Tengo un EditText que si lo desabilito con setEnable(false), me gustaría cambiar el color de la letra, fondo etc...
15186,php,Estoy configurando swiftmailer en symfony, PHP 5.6.*, xampp
Tengo un problema al momento de realizar pruebas para el envió de los correos, mi configuración para swiftmailer es la siguiente:
mailer_transport: smtp
mailer_host: ###.###.###.#
mailer_user: docencia@colsan.edu.mx
mailer_password: ---------
mailer_port:###
mailer_encryption:tls
Genere un test en Java y funciona perfectamente, no tengo idea de que es lo que sucede
String username = "docencia@colsan.edu.mx";
String password = "-----------";
Properties props = new Properties();
props.put("mail.smtp.starttls.enable", "true");
props.put("mail.smtp.host", "###.###.###.#");
props.put("mail.smtp.port", "###");
Es necesario realizar alguna configuración para xampp o symfony?
Saludos!!
