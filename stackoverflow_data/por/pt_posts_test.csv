id,tags,text
3021,javascript,Gostaria de checar se uma string contém outra, como se fosse um método String.contains() mas aparentemente não existe nenhum método que faça isso.
Alguém conheçe um método parecido que faça a mesma coisa?
3048,javascript,Estou com o seguinte desafio: Realizar um gráfico de área em que o cliente possa arrastar as áreas do gráfico(clicar e arrastar) e posteriormente salvar essa "nova visão", após o deslocamento das áreas.
A primeira ideia que me veio em mente foi realizar o deslocamento via Javascript modificando o eixo do gráfico a partir dos eventos de click, mas sentiria uma certa dificuldade para armazenar de volta essas informações na base de dados.
Depois de pensar um pouco sobre, decidi partir do principio de não reinventar a roda, então saí procurando bibliotecas que já fazem isso, porém não é simples assim encontrar.
Então a dúvida é: Vocês conhecem algum componente/recurso que satisfaça essa necessidade?
Preferencialmente em ambiente web, mas sendo local também é bem-vindo!
3051,php,tenho esse model e controle que verifica e valida os usuários cadastrados na tabela tb_users do banco de dados. Preciso de um script que verifica se o usuário é 0 ou 1 na coluna nv_nivel. Se o usuário for igual a 0 ele direciona para redirect('usuario/home', 'refresh'); se for igual a 1 direciona para redirect('admin/home', 'refresh');
Segue abaixo o código Model e Controller.
-> Model
class Login_model extends CI_Model {
function ValidaLogin() {
$this->db->where('hl_email', $this->input->post('email'));
$this->db->where('pw_password', md5($this->input->post('senha')));
$query = $this->db->get('tb_user');
if ($query->num_rows == 1) {
return true;
}
}
}
-> controller
public function valida() {
$this->load->model('login_model'); //Carrega o model
$query = $this->login_model->ValidaLogin(); //Chama a função da Model que checa o usuário no BD
if ($query) { //Se o Usuário e senha existir no mesmo registro...
$data = array(
'login' => $this->input->post('email'),
'is_logged_in' => true
);
$this->session->set_userdata($data);
redirect('usuario/home', 'refresh');
} else { // incorreto username ou password
$info['msg'] = "Informações incorretas";
$this->load->view('header_html');
$this->load->view('header_view');
$this->load->view('login/login_view', $info);
$this->load->view('footer_view');
$this->load->view('footer_html');
}
}
3080,php,Qual(is) a(s) melhor(es) forma(s) de utilizar Injeção de dependência no laravel?
A que eu estava utilizando era essa:
public function __construct(Cliente $clientes, Telefone $telefones){
$this->clientes = $clientes;
$this->telefones = $telefones;
}
Pelo que li, o laravel resolve isso automaticamente devido a Reflection.
Porém buscando na internet alternativas me deparei com esta outra forma (vinculado na rota):
App::bind('ClienteController', function($app) {
$controller = new ClienteController(
new Cliente,
new Telefone
);
return $controller;
});
As questões são:
Qual a melhor? Qual a correta? Qual vai me dar menos dor de cabeça com alterações futuras? Tem alguma mais organizada?
3110,php,Bom, eu estou trabalhando em um sistema SaaP (PHP/CodeIgniter + MySQL).
Inicialmente a idéia seria efetuar o deploy do sistema na hospedagem de escolha do cliente . Todo o processo de "instalação" seria realizado pela minha equipe, de forma que ela não teria contato direto com o código do sistema em si.
O fato é que me peguei pensando, o que impediria um dos meus clientes de contratar um desenvolvedor obscuro e pedir que ele pirateie o código? Dessa forma o cliente poderia repassar para os "amigos" ou até mesmo revender por um valor extremamente baixo.
É claro que do ponto de vista jurídico, a integridade do meu sistema pode ser protegida, mas sabemos que apenas isso não inibe pessoas mal intencionadas.
Bom, queimei um fosfato pensando em tudo acima e cheguei a basicamente uma solução, que não é 100% eficiente ou prática, mas foi o que pensei.
Solução
Criar uma classe central que conectasse com um servidor externo (no caso meu) e, em um esquema tipo token, enviasse um hash (do cliente) que havia sido gerado no momento da compra e assim comparado com o banco de dados do meu servidor. Caso o hash fosse inválido, a classe impossibilitaria o sistema de rodar.
Ilustração:
O problema é que qualquer desenvolvedor mal intencionado poderia facilmente abrir a classe e modificá-la para que essa verificação não fosse feita.
Então, a dúvida continua:
Alguém conhece algum método ou teoria que poderia ser aplicada na prevenção da pirataria de códigos/sistemas PHP?
3112,javascript,Eu entendo os grandes poderes e as grandes consequências dos closures.
Mas suponhamos que eu tenha o seguinte código...
function foo () {
var x = 1;
function bar () {
return x++;
}
return bar;
}
... E que eu não deseje manter o contexto de foo na memória, porque na vida real ele pode ser uma função (ou varias) que utilize uma quantidade muito grande de memória. Mas ainda assim, desejo utilizar os valores processados por foo no contexto de bar.
Se fosse x uma variável global, ainda seria formado um closure? Caso x fosse externo a foo, como em...
var x = 1;
function foo () {
function bar () {
return x++;
}
return bar;
}
...Ainda haveria closure?
Existe alguma forma sã de se alcançar o objetivo que descrevi anteriormente? E independente disso, existe alguma forma de se destruir um contexto de execução que eu não precise mais utilizar?
3145,php,Estou com um problema onde preciso encontrar um arquivo no servidor Linux com o nome do valor do <a href> e realizar o download dele quando clicarem no link.
o caminho do arquivo é /var/www/html/ligacoes (aí tem várias pastas e dentro das pastas estão os arquivos, exemplo /var/www/html/ligacoes/interno/2014/01/30/1391088944.2621-11_35_44-4002-1006.WAV
3160,javascript,Eu tenho uma página que pode ser aberta tanto pelo meu próprio domínio quanto externamente, tanto como uma janela "normal" quanto como um popup.
Nessa janela, eu preciso verificar se ela foi aberta como um popup ou não, e realizar algumas customizações programaticamente. Até o momento, estava usando a seguinte abordagem (amplamente recomendada):
if (window.opener)
// É um popup
else
// Não é um popup
Porém, tenho encontrado problemas de compatibilidade com o Internet Explorer, que faz com que o atributo opener não seja preenchido.
Alguém poderia me indicar alguma alternativa para realizar essa checagem?
Obs:
De maneira geral, não posso alterar o código que abre a janela (ex: para incluir parâmetros de querystring)
Quando digo abrir como popup, me refiro à uma chamada para window.open().
3162,php,Estou tendo dificuldades em fazer uma chamada Ajax usando AngularJS pelo motivo de que as strings que possuem acentos estão retornando nulas, como resposta à chamada, meu PHP está retornando um JSON json_encode($data), e ao receber a resposta estou transformando o JSON em um array angular.fromJson(data), assim como era no meu server-side.
Meu cabeçalho PHP está configurado header("Content-Type: text/html; charset=ISO-8859-1",true), quando retorno o var_dump posso ver todas as strings, acentuadas ou não. O problema está com o JSON, penso que a solução seja um header adequado para o meu request.
Este é meu script:
$http.get("busca_tamanhos.php", {headers: {'Content-Type': 'application/json, text/plain'}}).success(function(data){
$scope.tamanhos = angular.fromJson(data);
$window.console.log(data);
});
PS: consigo visualizar strings não acentuadas, e minha base de dados é ISO-8859-1.
3167,javascript,Geralmente, quando precisamos recorrer à requisições AJAX usando JavaScript, temos à mão APIs que nos auxiliam com isso (ex: jQuery).
Porém, qual seria a maneira mais segura e cross-browser de realizar essas requisições (POST e GET) usando Javascript puro?
3175,javascript,Tenho um sistema de controle de equipamento. Neste sistema,enquanto o usuário preenche o formulário, ele tem a opção de adicionar um outro campo para cadastrar mais um equipamento que ficará associado a um cliente. Para fazer essa funcionalidade eu usou um código em javascript
<script type="text/javascript">
$(document).ready(function () {
var $link = $('#add_answer');
var $model = $link.prev('.equipamento');
$link.click(function () {
var $clone = $model.clone(false);
$(this).before($clone);
$clone.wrap('<div class="wrapper"></div>')
.after('<a href="javascript:void(0)" class="remove"></a>')
.addClass('added')
.parent()
.hide()
.fadeIn();
});
$('a.remove').live('click', function () {
$(this).parent().fadeOut('normal', function () {
$(this).remove();
});
});
});
</script>
Como eu faço para acessar os campos do formulário usando JQuery.
Podem me ajudar? Alguma sugestão? Estou fazendo da forma correta? Existe uma forma melhor de fazer isso?
nota:Não fui eu que programei esse javascript
3179,php,Como enviar e-mails automaticamente usando o PHP?
Tenho um formulário que recebe várias datas e quando faltasse 10 dias para terminar o prazo, envia-se uma mensagem à várias pessoas com o aviso.
Já me disseram para usar o Cron job. Mas isso serve só para fazer a rotina executar.
Preciso é de ajuda no código porque estive a experimentar por o código no gestor de tarefas do Windows e nada.
<?php
include(conectar.php);
$conn = @mysql_connect($local_serve, $usuario_serve, $senha_serve, $banco_de_dados)
or die ("O servidor não responde!");
// conecta-se ao banco de dados
$db = @mysql_select_db($banco_de_dados,$conn)
or die ("Não foi possivel ligar-se a Base de Dados!");
$validade = ("SELECT Nome, AlvaraValidade, AcidenteValidade, SeguroValidade, FinancasValidade, SocialValidade, RemuneracaoValidade, InstaladorValidade, MontadorValidade, MedicaValidade, ProjectistaValidade, GasValidade, RedesValidade, SoldadorValidade, MecanicoValidade, ClasSoldadorValidade, MaquinaValidade1, MaquinaValidade2, MaquinaValidade3, MaquinaTopoValidade FROM tb_eqipamentos, tb_detalhe_trabalhador, tb_trabalhador");
$now = new DateTime();
$diff = $now ($validade);
if ($diff <= 10){
$mail_to = "MAIL@MAIL.pt";
while ($row = mysql_fetch_array($query)){
echo $row['name']." - ".$row['email']."\n";
$mail_to = $row['email'].", ";
}
if (!empty($mail_to)){
sendEmail($mail_to);
}
?>
3183,javascript,Eu tenho duas aplicações em domínios diferentes, e preciso realizar uma requisição Ajax entre elas via POST ou GET de forma cross-domain.
Qual seria a maneira mais segura de implementar isto em JavaScript, sem fazer uso de nenhuma API ou framework de uma forma que funcione em todos os navegadores (cross-browser)?
3186,javascript,Gostaria de saber a diferença entre os dois operadores que seriam:
(1): ==
(2): ===
Se possível, também gostaria de entender o neste caso o uso dos operadores opostos deles:
(3): !=
(4): !==
Qual seria a diferença entre os operadores:
1:
if (foo == "foo")
2:
if (foo === "foo")
E qual seria a diferença entre os operadores opostos:
3:
if (foo !== "foo")
4:
if (foo != "foo")
Alguém poderia me informar?
3190,javascript,Tive um problema num site que estou programando ao executá-lo no IE11.
Após colocar a tag  dentro da minha  para que o código seja emulado no como IE 9:
<head id="Head1" runat="server">
<meta http-equiv="x-ua-compatible" content="IE=9" />
Estava tudo funcionando até chegar na função de Callback:
function CallServer(arg, context) {WebForm_DoCallback('__Page',arg,retornoCallback,"",erroCallback,true); }
E é exibida a mensagem:'WebForm_DoCallback' não está definido
Como fazer que o código execute normalmente?
3225,php,Alguém tem um sistema de redirecionamento no estilo desse site?
3272,php,Estou tentando pegar todos os methods/actions de todas as controllers de minha aplicação CakePHP.
Acontece que não consigo trazer os métodos de todas as controllers e não entendo o motivo.
Tentei importar App::import e com App::uses, mas o get_class_methods() não retorna os methods/actions de todas.
Segue o que eu criei:
//Pega a lista de controllers da aplicação e adiciona num array;
$controllersApp = App::objects('controller');
//Varre o array de controllers da aplicação e adiciona cada item num array global
foreach($controllersApp as $c)
{
$temp_listControllers[] = $c;
}
//Pega a lista de plugins
$plugins = App::objects('plugin');
//Varre o array de plugins
foreach($plugins as $plugin)
{
//Cria string para pegar lista de Controllers de cada Plugin: Plugin.controller
$p = $plugin.'.controller';
//Pega lista de controllers do Plugin corrente em $plugin
$lista = App::objects($p);
//Varre o array de controllers do Plugin corrente e adiciona cada item no array global
foreach($lista as $l)
{
$temp_listControllers[] = $l;
}
}
foreach($temp_listControllers as $c)
{
//$r = str_replace("Controller", "", $c);
$listControllers[] = $c;
}
foreach($listControllers as $controller)
{
$actions = get_class_methods($controller);
echo "<hr /><h1>".$controller."</h1>";
pr($actions);
}
Estou fazendo algo errado? Existe alguma outra forma de fazer isso?
3273,javascript,Quero criar um Carrosel horizontal igual desse site.
Porém, quero puxar a thumb, título e posts de uma certa categoria.
3278,php,Estou querendo usar o elasticsearch para ver se consigo agilidade e rapidez nas minhas consultas ao MySQL.
Comecei a ver algumas coisas, porém achei um pouco confuso a questão de integração com o MySQL, alguém tem alguma experiência com elasticsearch e pode explicar como integrar elasticsearch com o MySQL?
3298,php,Tenho um campo numa tabela onde coloco o arquivo PDF. O tipo deste campo é BLOB.
Queria saber como faço para exibir este arquivo numa página PHP, sem ter que criar diretório.
Quero só que o script acesse o campo dessa tabela, e me mostre o arquivo que está lá.
3301,php,Como faço para o resultado da média ficar vermelho, caso o valor dela seja menor que 20?
Segue o código:
<?php
function media($p1,$p2,$p3) {
$resultado = ($p1 + $p2 + $p3)/3;
return $resultado;
}
$aluno[0]["nome"] = "Ryan";
$aluno[0]["media"] = media(10,20,30);
$aluno[1]["nome"] = "Mikhaela";
$aluno[1]["media"] = media(40,50,60);
for($i=0;$i<count($aluno);$i++){
echo "<b> Nome do Aluno </b>".$aluno[$i]["nome"]."<br>";
echo "<b> A media do Aluno e </b>".$aluno[$i]["media"]."<br><br>";
}
?>
3323,php,Estou a fazer a integração do Doctrine no Codeigniter mas estou com problemas na configuração da linha de commandos.
Em primeiro lugar importa mencionar que segui o guia disponibilizado na página do Doctrine.
Para fazer a instalação das dependencias corretamente usei o Composer.
Desse modo a estrutura do projecto encontra-se organizada do seguinte modo:
/application
--Libraries   <---- Doctrine.php encontra-se aqui
/vendor       <---- aqui encontram-se as libs instaladas para o doctrine
/system
index.php     <---- essas libs são carregadas no root do projecto
...
No ficheiro de configurações do codeigniter adicionei a Lib "Doctrine" em autoload.
Até aqui tudo bem! Se arrancar a aplicação no browser funciona direitinho.
O problema está na hora de configurar a linha de comandos do doctrine que entre muitas funcionalidades permite gerar os "models" de forma automatizada a partir da base de dados.
Segundo o tutorial basta criar um ficheiro .php chamado cli-config.php
Pelo que consegui apurar esse ficheiro deve ser colocado num destes directorios.
array(2) {
[0]=>
string(52) "/Applications/MAMP/htdocs/Project/main/app"
[1]=>
string(59) "/Applications/MAMP/htdocs/Project/main/app/config"
}
Se eu navegar através do "explorer do windows" ou do finder do mac até à pasta vendor/bin e abrir o ficheiro de linha de comandos de nome doctrine um erro surge dizendo:
You are missing a "cli-config.php" or "config/cli-config.php" file in your
project, which is required to get the Doctrine Console working. You can use the
following sample as a template:
<?php
use Doctrine\ORM\Tools\Console\ConsoleRunner;
// replace with file to your own project bootstrap
require_once 'bootstrap.php';
// replace with mechanism to retrieve EntityManager in your app
$entityManager = GetEntityManager();
return ConsoleRunner::createHelperSet($entityManager);
Logo aqui tenho uma dúvida! O que é que eles querem dizer com:
// replace with file to your own project bootstrap
require_once 'bootstrap.php';
Assumindo que aqui devo referenciar o index.php (ficheiro central do meu projeto codeigniter) eu criei um ficheiro no root do projecto chamado cli-config.php tal como deve ser feito (de acordo com a mensagem de erro).
Tudo OK. Fui na linha de comando e naveguei até ao root do meu projecto codeigniter
Usando os métodos do composer (PHP) digitei.
php vendor/bin/doctrine
o resultado do output de uma mensagem de erro.
...
<body>
<div id="container">
<h1>A Database Error Occurred</h1>
<p>Unable to connect to your database server using the provided settings.</p><p>Filename: core/Loader.php</p><p>Line Number: 346</p>    </div>
</body>
Alguém me consegue ajudar? Eu acho que percebi errado aquilo que eles pretendem com "replace with file to your own project bootstrap" no tutorial.
3334,php,Estou usando o Zend e tenho a seguinte função:
public function getChamado($id) {
try {
$cols = array(
'id', 'titulo', 'descricao', 'fk_status', 'fk_local',
'fk_tipo', 'created', 'modified', 'finished', 'fk_usuario',
'fk_restricao', 'fk_prioridade'
);
$sql = $this->getDefaultAdapter()
->select()
->from($this->_name, $cols)
->where('id = ?', $id);
return $this->fetchRow($sql);
} catch(Exception $e){
echo $e->getMessage(); die;
}
}
Ela me gera esta linda e perfeita consulta:
SELECT
`tbl_chamado`.`id`,
`tbl_chamado`.`titulo`,
`tbl_chamado`.`descricao`,
`tbl_chamado`.`fk_status`,
`tbl_chamado`.`fk_local`,
`tbl_chamado`.`fk_tipo`,
`tbl_chamado`.`created`,
`tbl_chamado`.`modified`,
`tbl_chamado`.`finished`,
`tbl_chamado`.`fk_usuario`,
`tbl_chamado`.`fk_restricao`,
`tbl_chamado`.`fk_prioridade`
FROM
`tbl_chamado`
WHERE
(id = '1')
porém ao executar dá o seguinte erro:
SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 1
Todas as variáveis estão corretas, a query gerada é a mesma acima. Executando diretamente no banco ela traz os dados normalmente.
Houve algum detalhe que eu deixei passar?
3341,javascript,Já li alguns comentários na web a respeito de utilizar ou não o ; no final das linhas quando se escreve JavaScript. Alguns dizem que sim, outros dizem não ter necessidade, mas nenhum sabe explicar bem os motivos das divergências.
Exemplo:
var ola = "Olá"; // com ponto e vírgula
var mundo = "Mundo"  // sem ponto e vírgula
O interessante é que mesmo esquecendo o ; no meu código as vezes, ele continua rodando sem problemas e sem disparar erros. Então, o correto é usar ou não o famoso ponto e vírgula?
3368,php,Utilizo no Mac o Netbeans 7.4 para programar. E para não ter que instalar o PHP e PHPUnit, gostaria de executar o PHPUnit instalado em uma máquina virtual que possui todo um ambiente de integração já configurado. Está prática vem sendo muito utilizada, e indicada em sites como o PHP The Right Way.
Para usar o PHPUnit integrado com o Netbeans, é preciso indicar um arquivo que será usado para executar os comandos do PHPUnit, podendo ser o próprio executável do PHPUnit ou um script. Para indicar o arquivo, é necessário que esteja na mesma maquina onde está instalado o Netbeans para que ele consiga acessá-lo.
Sendo assim, como configuro o Netbeans para executar o PHPUnit que está instalado na maquina virtual?
Pesquisando, encontrei alguns tutoriais que mostram scripts que executam o PHPUnit na maquina virtual usando SSH ou a ferramenta de controle de maquinas virtuais do Virtual Box.
Este aparentemente funcionaria, porem é para Windows e necessita de um caminho específico de uma pasta de testes. Eu possuo vários projetos no Netbeans, se eu fixar uma pasta de testes neste script, conseguiria usar o PHPUnit para apenas um projeto.
Outro problema que tenho ao criar um script para o Netbeans executar o PHPUnit é que os caminhos locais são diferentes do servidor virtualizado. Achei outras soluções usando SSH, porém a conexão via SSH requer senha, o que dificulta usar o comando SSH.
O ambiente de desenvolvimento
MacBook com o Mavericks OS X 10.9.1
Servidor virtualizado no Virtual Box 4.3.6 com o Ubuntu Server 12 usando Bridge Adapter
Apache, PHP e MySQL, XDebug, PHPUnit e outras ferramentas de integração contínua instalados no servidor virtualizado
A Pasta "~/Sites" está compartilhada com a maquina virtual e montada em "/var/www". Sendo assim o que eu altero na pasta "~/Sites" e as alterações ficam disponíveis para a maquina virtual executar.
3384,javascript,Estou trabalhando com customElements, porém venho tendo problema com o Opera 12.
Até agora o melhor que consegui foi utilizar o x-tags porém o mesmo da suporte apenas ao document.register e este se diferencia um pouco da API proposta pela W3C, outro inconveniente é que ele não da suporte ao document.registerElement.
Continuando minhas pesquisas eu achei o Polymer-project que é bastante promissor e no Webkit funcionou muito bem, porém no Opera, quando executado o plataform.js do Polymer, este faz com que os scripts subsequentes comecem a dar erros, fazendo parar por exemplo conexão com websocket e sequer consegue executar o polymer.js para adicionar suporte a customElements.
De base dessas informações, gostaria de saber se alguém poderia me ajudar com uma solução consistente para Opera, que não quebre as implementações nativas do mesmo e de suporte a document.registerElement mais próximo possível da API em draft da W3C.
3390,php,Existe alguma função nativa do PHP para percorrer um array e verificar se algum elemento desse array é vazio null?
Observem o código abaixo:
if(isset($_POST['btnCriaModelo'])){
$instArray  = $_POST['idInstrucao'];
$orderArray = $_POST['ordem'];
for ($i=1; $i < count($instArray) ; $i++) {
/*
Aqui é onde pensei em fazer essa verificação mas não consigo criar uma lógica.
A variável auxilar $i começa com o valor 1 por que naturalmente no meu código
o primeiro elemento destes vetores acima são vazios, porém todos os outros elementos
não podem se quer um está vazios
*/
}
}
O motivo pelo qual preciso fazer esta verificação é para fazer uma validação com o PHP. Caso haja algum elemento do vetor vazio eu não rodo o loop de inserção no meu banco.
3404,php,Gostaria de saber se é possível (e como eu poderia fazer) eu criar um sistema de upload onde sempre que eu subir um arquivo, ele vá para uma pasta diferente (sempre), e me mostre (ou grave) o caminho que ele gerou. É possível fazer isso?
Motivo: Sempre gero propostas em PDF que ficam com 10MB, então gostaria de ao invés de enviar para o cliente anexo, envio o link para ele fazer download da proposta. Contudo, um cliente não pode ver a proposta do outro, por isso gostaria de sempre fazer o upload para uma pasta diferente.
O código que tenho de base é esse:
<?php
$pasta = "/pasta/onde/o/arquivo/sera/salvo";
$dest = $pasta."/".$file_name;
if(!move_uploaded_file($file, $dest)) {
echo "Não foi possível enviar o arquivo!";
} else {
echo "Arquivo enviado com sucesso!";
}
?>
3489,php,Estou tentando enviar e-mail com imagem incorporada no texto através do boundary.
No Gmail tudo lindo, como sempre, mas no Outlook não chega o texto em  HTML e a imagem chega como anexo.
<?
@date_default_timezone_set('America/Bahia');
$imagem_nome="imagens/logomarca.png";
$arquivo=fopen($imagem_nome,'r');
$contents = fread($arquivo, filesize($imagem_nome));
$encoded_attach = chunk_split(base64_encode($contents));
fclose($arquivo);
$limitador = "_=======". date('YmdHms'). time() . "=======_";
$limitador2 = "_=======". date('sYmdHms'). time() . "=======_";
$mailheaders = "From: xxx@yyyyy.com.br\r\n";
$mailheaders .= "MIME-version: 1.0\r\n";
$mailheaders .= "Content-type: multipart/related; boundary=\"$limitador\"\r\n";
$cid = date('YmdHms').'.'.time();
$texto="
<html>
<body>
<img src=\"cid:$cid\">
<font size=6><br />blablabla </font>
</body>
</html>
";
$msg_body = "--$limitador\r\n";
$msg_body .= "Content-Type: multipart/alternative; boundary=\"$limitador2\"\r\n";
$msg_body .= "--$limitador2\r\n";
$msg_body .= "Content-type: text/html; charset=iso-8859-1\r\n";
$msg_body .= "Content-Transfer-Encoding: quoted-printable\r\n";
$msg_body .= "$texto";
$msg_body .= "--$limitador2--\r\n";
$msg_body .= "--$limitador\r\n";
$msg_body .= "Content-type: image/png; name=\"$imagem_nome\"\r\n";
$msg_body .= "Content-Transfer-Encoding: base64\r\n";
$msg_body .= "Content-Disposition: inline; filaname=\"$imagem_nome\"\r\n";
$msg_body .= "Content-ID: <$cid>\r\n";
$msg_body .= "\n$encoded_attach\r\n";
$msg_body .= "--$limitador--\r\n";
if(mail("zzzzzzz@hotmail.com","TEste",$msg_body, $mailheaders)){
echo"Mensagem enviada";
}
?>
O que posso fazer para resolver o problema?
3534,php,Eu tenho a seguinte query:
$select = "SELECT concat(mid(cpf,1,3),'.',mid(cpf,4,3),'.',mid(cpf,7,3),'-',mid(cpf,10,2)) as cpf, nome, genero, nome_cracha, rg, crm, crm_uf, rua, bairro, cep, cidade,
estado, telefone, celular, fax, email, cna, ano_titulo_especialista, categoria_inscricao,
forma_pagamento, dataconfirmacao, data from inscricao order by nome ASC";
e eu quero que a variavel $x saiba o valor "categoria_inscricao"(que a query irá mostrar).
Quero isso para fazer o seguinte:
if($x == "valor de categoria_inscricao" ){
...
}
Editado
Estou usando um código para converter os valores da tabela para o Excel. Porém eu quer que ao invés de aparecer o valor da coluna, eu consiga mostras que se o valor da coluna for "x" o que irá aparecer no Excel é "y".
Segue o código:
<?php
if (!isset($_SESSION)) session_start();
if (!isset($_SESSION['usuario'])) {
session_destroy();
header("Location: index.php"); exit;
}
include("conexao.php");
$select = "SELECT concat(mid(cpf,1,3),'.',mid(cpf,4,3),'.',mid(cpf,7,3),'-',mid(cpf,10,2)) as cpf, nome, genero, nome_cracha, rg, crm, crm_uf, rua, bairro, cep, cidade,
estado, telefone, celular, fax, email, cna, ano_titulo_especialista, categoria_inscricao,
forma_pagamento, dataconfirmacao, data from inscricao order by nome ASC";
$export = mysql_query($select) or die ("Sql error : ".mysql_error());
$fields = mysql_num_fields($export);
$header = "";
$data = "";
for ( $i = 0; $i<$fields; $i++ )
{
$header .= mysql_field_name($export, $i)."\t";
}
while( $row = mysql_fetch_row( $export ) )
{
$line = '';
foreach( $row as $value )
{
if ((!isset($value)) || ($value == ""))
{
$value = "\t";
}
else
{
$value = str_replace( '"' , '""' , $value );
$value = '"'.$value.'"'."\t";
}
$line .= $value;
}
$data .= trim( $line ) . "\n";
}
$data = str_replace( "\r" , "" , $data );
if ( $data == "" )
{
$data = "\n(0) Records Found!\n";
}
$novonome = date('Ymd');
header("Content-type: application/vnd.ms-excel");
header("Content-Disposition: attachment; filename=".$novonome.".xls");
header("Pragma: no-cache");
header("Expires: 0");
print "$header\n$data";
?>
3546,php,Suponhamos a seguinte situação na qual tenho um array composto por vários array com valores numéricos:
$array = array(
array(22, 25, 28),
array(22),
array(22, 23)
)
Gostaria de deixar este array ordenado da seguinte forma:
$array = array(
array(22),
array(22, 23),
array(22, 25, 28)
)
Qual seria o algoritmo para este caso?
3567,php,Como eu posso exibir os resultados de uma query numa tabela de uma página html?
Abaixo segue o que consegui fazer. No entanto, o código mostra somente o primeiro registro.
include("conectar.php");
$sql = mysql_query("Select * From tb_trabalhador and tb_detalhe_trabalhador");
$exibe = mysql_fetch_assoc($sql);
echo "<table>";
echo  "<tr><td>Nome:</td>";
echo "<td>".$exibe["Nome"]."</td></tr>"; e os outros campos
3571,php,Estou fazendo um pequeno sistema, e para acessá-lo, o usuário digita o login e senha.
Qual a melhor forma - segura e simples- de fazer o sistema de login e senha?
3625,javascript,Estou com uma dificuldade (que provavelmente é bem boba) em armazenar um valor em uma propriedade de um objeto em Javascript. Já fiz algo parecido recentemente utilizando this.propriedade = valor dentro da função "construtora" e não tive problemas em reutilizar o valor em uma função definida como `Objeto.prototype.nome_funcão".
Porém, nesse exemplo (disponível no JSFiddle) uma propriedade (this.m_oClickCallback) não é visível na função de tratamento do clique do mouse (MyButton.prototype.handleClick), gerando a seguinte exceção quando o botão é clicado:
Uncaught TypeError: Object [object global] has no method
'm_oClickCallback'
Eu imagino que provavelmente o erro se deve a algo bem bobo, mas não estou conseguindo enxergar o que é.
Aqui está o html do exemplo que eu preparei:
<body onload="init();">
<canvas id="myCanvas" width="800" height="600">
O seu navegador não suporta HTML5. (<i>Your browser does not support HTML5.</i>)
</canvas>
</body>
E o código Javascript:
(function() {
// Objeto de botão customizado
var MyButton = function(sLabel, sColor, oClickCallback) {
// Chama o initialize do objeto protótipo (createjs.Container)
this.initialize();
// Armazena a referência para o callback do evento de click
this.m_oClickCallback = oClickCallback;
// Cria o conteúdo do botão
var oText = new createjs.Text(sLabel, "40px Arial", "#ffffff");
oText.textBaseline = "top";
oText.textAlign = "center";
var iWidth = oText.getMeasuredWidth() + 30;
var iHeight = oText.getMeasuredHeight() + 20;
var oBackground = new createjs.Shape();
oBackground.name = "Background";
oBackground.graphics.beginFill(sColor).drawRoundRect(0, 0, iWidth, iHeight, 10);
oText.x = iWidth / 2;
oText.y = 10;
this.addChild(oBackground, oText);
// Captura o evento de click
this.addEventListener("click", this.handleClick);
}
// Define o protótipo
MyButton.prototype = new createjs.Container();
// Função de tratamento do click no botão. Invoca o callback armazenado.
MyButton.prototype.handleClick = function(oEvent) {
this.m_oClickCallback(oEvent.target);
}
// Atribui o objeto ao escopo global de "window"
window.MyButton = MyButton;
}());
// Função de inicialização. Cria o botão no onload do corpo da página.
function init() {
g_oStage = new createjs.Stage("myCanvas");
var oButton = new MyButton("Olá mundo!", "red", function() { alert("Funciona!"); });
g_oStage.addChild(oButton);
g_oStage.update();
}
EDIT: a ideia é armazenar a propriedade de forma que ela seja diferenciada entre cada nova instância do objeto (como se fosse mesmo um atributo privado ou público de uma classe em outras linguagens). Soluções em que a propriedade é compartilhada (como se fosse estática) não são o interesse da pergunta.
EDIT2:
Descobri que no createjs.Container há uma propriedade chamada this.mouseChildren que quando desabilitada faz com que o objeto target enviado no payload dos eventos de mouse seja diretamente o objeto MyButton ao invés de seus componentes (o texto ou o shape colorido de fundo). Usando essa propriedade e o objeto target eu consigo resolver o problema da seguinte forma (veja esse novo JSFiddle de exemplo, agora com duas instâncias de botão):
//. . .
// Faz o target dos eventos ser diretamente o objeto MyButton, ao invés do texto
// ou do background nele inclusos
this.mouseChildren = false;
//. . .
// Função de tratamento do click no botão. Invoca o callback armazenado.
MyButton.prototype.handleClick = function(oEvent) {
oEvent.target.clickCallback(oEvent.target);
}
Logando o this no console, eu percebi que ele se é de fato o objeto window. Por isso não funcionava o código. Não adicionei essa conclusão como uma resposta porque ainda me resta a dúvida de por que a função de tratamento do clique do mouse não é invocada no escopo do botão e sim da janela do navegador. Alguém sabe?
3633,php,Como pegar o avô de um termo na taxonomy no Wordpress? Considere a seguinte árvore:
-Cidade
-Farmacias
-farmacia central
-farmacia São José
Quero pegar o nome da cidade da farmacia central, por exemplo.
3666,php,Estou tendo problemas ao tentar criar novas opções na aba "Gerenciar Opções". Ao criar um atributo, já sei como salvar os dados corretamente no banco de dados. Estou substituindo Mage_Adminhtml_Block_Catalog_Product_Attribute_Edit_Tab_Optionscom o meu módulo para criar campos personalizados.
Meu módulo:
config.xml
<config>
<blocks>
<adminhtml>
<rewrite>
<catalog_product_attribute_edit_tabs>Ceicom_Swatches_Block_Adminhtml_Tabs</catalog_product_attribute_edit_tabs>
<catalog_product_attribute_edit_tab_options>Ceicom_Swatches_Block_Adminhtml_Options</catalog_product_attribute_edit_tab_options>
</rewrite>
</adminhtml>
</blocks>
</config>
Ceicom/Swatches/Block/Adminhtml/Options.php
class Ceicom_Swatches_Block_Adminhtml_Options extends Mage_Adminhtml_Block_Catalog_Product_Attribute_Edit_Tab_Options
{
public function __construct()
{
parent::__construct();
$this->setTemplate('ceicom/attribute/options.phtml');
}
}
No arquivo phtml coloquei nos campos personalizados:
Ao que tudo indica para fazer isso precisam ser adicionadas novas colunas na tabela eav_attribute_option. Por exemplo, campo_1, campo_2.
Para salvar os campos adicionais eu preciso reescrever Mage_Eav_Model_Resource_Entity_Attribute::_saveOption().
Alguma dica de como fazer isso sem alterar o core, do mesmo modo que fiz acima usando rewrite, e como fazer o load dos dados do banco para os inputs ao editar o atributo?
3717,php,Sou novato com apples e recentemente comprei um mac book, com o sistema operacional Lion. Instalei o php, mysql, etc e tudo funcionou perfeitamente.
Agora atualizei o sistema para o Maverick e o servidor parou de funcionar.
Quando digito no browser localhost/~username/project, ao invés de mostrar o site PHP, aparece a árvore de pastas.
O que fazer?
3733,php,Eu estou começando a desenvolver uma página utilizando PHP e, como ainda estou conhecendo a linguagem, resolvi buscar qual módulo utilizar para fazer a conexão com uma base de dados MySQL.
A partir dessa resposta, descobri que o módulo mysql_* já foi descontinuado e contém vários problemas de segurança. Na mesma resposta ele indica o uso da mysqli_* e do PDO, como fiquei em dúvida fui comparar as diferenças entre as duas.
Isso me deixou mais confuso ainda, pois a mysqli_* parece oferecer bem mais suporte do que a PDO, no entanto só a PDO oferece suporte a client-side prepared statements.
Minha dúvida é qual a diferença entre prepared statements server-side e client-side? Quando utilizar um e quando utilizar o outro?
3755,javascript,Contexto
Em PHP, há uma diferença entre o uso de aspas simples e duplas. Neste caso, aspas simples são para "strings comuns", e aspas duplas, utilizadas quando se quer processar a string (concatenar, por exemplo).
Pergunta
Existe alguma diferença entre o uso de " e ' para strings em Javascript? Há alguma mudança no desempenho, ou conflitos com use strict, por exemplo?
Exemplo
alert('foo'); // Aspas simples
alert("bar"); // Aspas duplas
3767,php,Estava olhando algumas funções no PHP.net, e me deparei com uma função chamada declare, e no exemplo, tem algo assim:
declare(ticks=1);
Logo abaixo, tem um outro exemplo:
declare(ticks=1);
// A function called on each tick event
function tick_handler() {
echo "tick_handler() called\n";
}
register_tick_function('tick_handler');
Pelo que entendi, é um método que é chamado toda vez que o valor de uma variável é acessado/alterado.
Mesmo lendo a documentação, fiquei sem entender exatamente o que esse método faz. Em quais situações ele poderia ser útil? O que é um tick event?
3790,php,Estou fazendo um pequeno sistema de login em PHP usando as novas funções de password_hash e password_verify. É uma boa prática armazenar a senha em uma variável public da classe? Se não for, é recomendado que se utilize alguma outra encriptação rápida como md5 só para não deixar a senha armazenada?
Um exemplo:
function User($name,$pass){
$this->username = $name;
$this->password = md5($pass); //Armazenar em md5 para nao armazenar a senha sem encriptação.
}
ou:
function User($name,$pass){
$this->username = $name;
$this->password = $pass; //Não tem problema armazenar assim.
}
Se eu utilizar a encriptação, meu sistema ficará muito lento com muitos usuários logando ao mesmo tempo?
3808,php,Estou criando um sistema com vários produtos, e neles vai ter um link, assim:
<a href ="verificar.php?valor=20">Imagem</a>
O arquivo ( verificar.php ) vai receber por $_GET o valor da variável ( valor ) que no exemplo é 20.
Minha dúvida é: como guardar esse valor em uma variável, pois vai ter vários produtos, e ao clicar neles vai ter que guardar o valor e somar eles no final...
Posso usar o array? É possível me mostrar um exemplo de código?
3817,javascript,Eu preciso verificar se em uma View existe um evento OnClick que executa a função teste
if($.minhaview.propriedade == 'teste'){
alert("existe um evento onClick com o valor teste");
}
3826,javascript,Eu estou usando a API v3 do Google Maps mas um dos efeitos que eu vejo na página do Google eu não estou conseguindo reproduzir.
Esse efeito é a ajuda Visual para zoom in/out, quando você da um zoom na página do Google Maps aparece 4 cantos vermelhos animados (fechando ou abrindo dependendo se o zoom é in ou out) mas pela API esse efeito não aparece.
Como torná-lo disponível?
3849,javascript,Preciso tocar partes de algumas músicas em algo que estou fazendo. Por exemplo:
var audio = new Audio('musica.mp3');
audio.play();
var interval = setInterval(function() {
if(audio.currentTime) {
audio.pause();
audio.currentTime = 15;
audio.play();
clearInterval(interval);
}
},100);
Eu tentei fazer dessa forma, mas não funciona.
3864,php,Desenvolvi uma página em PHP para uso interno da empresa que trabalho e apenas pouquíssimas pessoas a utilizam. Através dessa página é possível fazer algumas consultas, inserções, alterações e remoções de dados de uma tabela em um banco de dados MySQL, porém eu acredito que meu código em PHP não está protegido contra injeção de código SQL, por exemplo:
//----CONSULTA SQL----//
$busca = mysql_query ('insert into Produtos (coluna) values(' . $valor . ')');
Logo, digamos que o usuário usar a sentença: 1); DROP TABLE Produtos; para ao campo valor o comando ficaria:
insert into Produtos (coluna) values(1); DROP TABLE Produtos;
Ele vai inserir um novo registro cujo o campo coluna será 1 e logo em seguida ele vai deletar a tabela Produtos.
Como posso melhorar meu código para prevenir essa situação?
3945,javascript,Tenho uma lista com diversos itens, e logo acima dessa lista terá dois botões, "próximo" e "anterior". Queria que quando o usuário clicasse em próximo, por exemplo, adicionasse uma classe diferente ao próximo item da lista e removesse a classe do item anterior.
Sei que dá para fazer usando o next().addClass do jQuery porém não consegui.
3980,php,Estou fazendo uma aplicação em Cakephp e gostaria da ajuda de vocês em qual seria o melhor jeito de criar o meu banco de dados e minha relação entre os models.
Seria um "workflow".
Gostaria que funcionasse da seguinte maneira:
1- Essa aplicação terá vários grupos e esses grupos, vários usuários.
2- Cada solicitação teria o seu fluxo, podendo várias solicitações ter o mesmo fluxo.
3- O "administrador" poderá criar vários fluxos de trabalho, com até 5 passos, entre grupos e pessoas.
Exemplo:
Primeiro Aprovador | Segundo Aprovador | Terceiro Aprovador | Quarto Aprovador | Quinto
Grupo Delta           Joao                    Pedro            Grupo Alfa        NULL
4- Quando o administrador escolhesse um grupo, e não um usuário específico, seria sorteado alguem desse grupo.
5- As aprovações seguiriam a ordem, ou seja, o próximo só pode aprovar se o anterior já tiver aprovado.
Acho que é basicamente isso.
Realmente isso está me dando muito trabalho. Não estou conseguindo pensar em nada.
3986,php,Quero importar eventos de um Google Calendar não privado do lado do servidor (PHP) em formato JSON.
Uma vez que só quero receber informação e não preciso de editar/criar eventos presumo existir uma maneira que não precise de autentificação.
Sei que é possivel via iCal fazer download de um ficheiro com os dados do calendário com a syntax: http://www.google.com/calendar/ical/{ID}/public/basic.ics, e que funciona no meu caso.
Porem queria obter o mesmo mas em formato JSON e via PHP. Alguma sugestão?
3994,javascript,Suponha que eu tenha uma lista de palavras, em JavaScript (se necessário, já ordenada segundo as regras de collation):
var palavras = [
"acentuacao",
"divagacão",
"programaçao",
"taxação"
];
Repare que não usei o cedilha (ç) nem o til (ã) de forma consistente. Como posso buscar nessa lista por "programação", mas ignorando a acentuação, de modo que várias modalidades de buscas retornem resultados? Ex.:
buscar(palavras, "programacao");
buscar(palavras, "programação");
Fiz uma pergunta semalhante para a linguagem Python, e tentei aplicar a solução proposta (normalizar e remover combinantes) para JavaScript, mas esbarrei no problema da falta de suporte à normalização Unicode. E ainda que eu consiga normalizá-las (usando um polyfill, por exemplo), ainda faltaria identificar e remover os caracteres combinantes.
Há algo já pronto nesse sentido, para que eu não precise "reinventar a roda"? Caso contrário, como fazer?
Atualização: Muitas boas respostas, cada uma com seus prós e contras, difícil de escolher uma. Decidi propor um teste levando em consideração 3 fatores:
Robustez (i.e. capacidade de buscar por palavras cujo acento está representado de mais de uma forma diferente)
'arvore',       // Latin Small Letter A,                         r,v,o,r,e
'\xe1rvore',    // Latin Small Letter A with acute,              r,v,o,r,e
'a\u0301rvore', // Latin Small Letter A, Combining Acute Accent, r,v,o,r,e
Flexibilidade (pode buscar ignorando capitalização? pode só casar o acento com outra letra acentuada?)
arvore    árvore
'arvore'          sim       não
'\xe1rvore'       sim       sim
'a\u0301rvore'    sim       sim
Performance (exige mexer na lista original? quanto tempo leva uma operação?)
Exemplo no jsFiddle. Vou adequar cada resposta a esse exemplo da melhor forma que puder e availá-la com base nisso. Assim poderemos ter uma resposta canônica.
4053,php,Programo PHP juntamente com SQL (principalmente MySQL) há um bom tempo, já tenho uma certa experiência, entretanto nunca achei uma boa solução para isso: qual a melhor forma de inserir SQL dentro de código PHP?
Normalmente o que o pessoal faz é inserir o código entre aspas, por exemplo:
$sql = "
SELECT *
FROM usuarios u
ORDER BY u.nome";
Entretanto, para fins de logging não fica muito interessante, pois o SQL aparece da forma como está no código. Para corrigir isso, uma solução seria concatenarmos sucessivas strings:
$sql =
"SELECT * ".
"from usuarios u ".
"ORDER BY u.nome";
Porém, é pouco prático e sujeito a erros.
Outra sintaxe que já vi mas acho meio bizarra é HEREDOC ou NOWDOC:
$sql = <<<EOT
SELECT *
from usuarios u
ORDER BY u.nome
EOT;
Já pensei também em colocar as SQL em arquivos separados, com seus devidos placeholders (para parâmetros, ao usá-los com Doctrine2, por exemplo), mas não sei se é uma prática comum.
Notem que não estou perguntando, por exemplo, se deveria usar SQL plano, DQL ou o QueryBuilder; a pergunta é sobre estilos ao representar uma SQL "pura" no meio de um código PHP :)
Enfim, quais as melhores práticas em representar SQL dentro de código PHP?
4073,php,Tenho uma aplicação em ZF1 rodando e com sistema de autenticação que utiliza consulta em banco da dados. Gostaria de saber como posso integrar as 2 formas de logar, ou seja, se o usuário optar pelo facebook, ter os mesmos acessos e as mesmas informações daquele que optou por logar direto no site (user/senha).
Lembrando que não estou apenas procurando código pronto, minha dúvida é mais conceitual mesmo.
4095,javascript,No javascript, pelo fato de não haver declaração dos tipos de variáveis como Integer, String, Boolean,  etc., é uma tarefa difícil saber com qual tipo de valor você está lidando em determinada variável.
Por isso, para tornar meu código consistente, gostaria de saber como proceder para checar se uma variável é um Numeral ou não.
Como isto é possível?
4114,c#,Estou com uma DLL que foi criado em .NET e preciso que ela rode como COM+.
código em .NET:
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
namespace thiago.dll.NET
{
public class dllNET
{
public String retornoString()
{
return "retorno";
}
}
}
código adaptação COM+:
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Runtime.InteropServices;
namespace thiago.dll.NET.COMPLUS
{
[ComVisible(true), InterfaceType(ComInterfaceType.InterfaceIsDual),
Guid("2382A011-76E7-4729-A8C9-A016465DCA19")]
public interface IStringRetorno
{
String retornoString();
}
}
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Runtime.InteropServices;
namespace thiago.dll.NET.COMPLUS
{
[ComVisible(true), ClassInterface(ClassInterfaceType.None),
Guid("7457F910-D91C-4378-91CD-D768A32FF339")]
public class StringRetorno : IStringRetorno
{
thiago.dll.NET.dllNET obj = new thiago.dll.NET.dllNET();
public StringRetorno()
{
}
[ComVisible(true)]
public String retornoString()
{
return obj.retornoString();
}
}
}
Para explicar melhor eu fiz uma DLL em .NET e quero que ela rode em VB6, mas para isso eu precisei criar uma outra DLL(que se transformou em uma tlb que é lida em VB6) onde o VB6 consegue ver os métodos e aplica-los. O que eu percebi é que quando eu referenciei a DLL feita em .NET nessa outra DLL, ela leva o arquivo dll onde está o método, como o VB6 vai ler esta dll?
Fiz a Strong Name Key, marquei a opção Register For COM interop, referenciei no projeto a DLL feita em .NET, deixei como Assembly Global (GAC) e adicionei nos nos Serviços de componentes(Aplicativo de biblioteca(Aplicação COM+)), mas na hora de usar no VB6 ele dá um Erro em tempo de execução: Erro de automação
Tem outro modo de se fazer isto?
Edit: Eu fiz uma DLL COM+ simples, sem precisar referenciar de outra DLL .NET e quando fui jogar no VB6 funcionou. O problema pode ser a referencia na COM+ da DLL .NET?
4132,php,Tenho 3 tabelas relacionadas: Usuario, Movimentacao e Grupo
Estou usando:
$usuarios = $this->Usuario->find('all',array(
'recursive' => 1,
'fields' => "Usuario.id, Usuario.nome, Usuario.email"
'order' => array('Usuario.nome ASC')
));
Porém, o recursive => 1 está trazendo as três tabelas. Se coloco 0, retorna apenas Usuario. Eu preciso retornar apenas Usuario e Grupo, pois, trazendo Movimentacao, a query fica lenta demais. Como faço pra eliminar Movimetacao da query?
4133,php,Estou tendo problemas com a sessão do Zend pois expira muito rápido, já tentei de tudo!
1- utilizo um controller base, onde todos os outros estendem dele no método init() do controller base já coloquei:
Zend_Session::rememberMe(864000);
Zend_Session::start();
2- No Apllication.ini
;SESSÃO
resources.session.save_path = APPLICATION_PATH "/../data/session/"
resources.session.gc_maxlifetime = 864000
resources.session.remember_me_seconds = 864000
3- Já mudei as permissões destes arquivos "data/session" para 777
4- já coloquei no bootstrap.php
protected function _initSession()
{
Zend_Session::rememberMe(864000);
Zend_Session::start();
$this->bootstrap('session');
}
E nada resolveu.
4137,php,Em associações no CakePHP por padrão ele sempre faz o relacionamento sendo o nome do modelo no singular seguido de _id, ou seja, model_id.
É possível alterar essa chave de relacionamento para outro campo da tabela?
Tentei utilizar foreignKey mas não funcionou.
Abaixo os dois models:
<?php
class Cart_item extends AppModel
{
public $name = 'Cart_item';
}
?>
E Cart:
<?php
class Cart extends AppModel
{
public $name = 'Cart';
public $hasMany = array(
'Cart_item' => array(
'className' => 'Cart_item',
'foreignKey' => 'Cart_uid'
)
);
}
?>
4142,javascript,Como eu seto um error frame em um TextBox através de uma função javascript?
4149,c#,Criei uma DLL com a opção "Register COM Interop" em C# onde é consumido alguns WebServices de diferentes prefeituras. Utilizo esta DLL em um aplicativo Windows Form C# de teste onde não ocorre nenhum erro.
Ao utilizar a DLL em um aplicativo Delphi me retorna o Erro:
Referência de objeto não definida para uma instância de um objeto.
Alguém já passou por isso?
Segue o código abaixo:
[ComVisible(true),
Guid("49E06C86-FC1A-418A-A12D-550797702A84"),
ClassInterface(ClassInterfaceType.None),
ComSourceInterfaces(typeof(IAbrasfV201_Events))]
public class SigISS : ISigISS_Interface
{
public void GeraNF(string AEnderecoWebService, string ACCM, string ACNPJ, string ASenha, string ACRC, string ACRC_UF,
string AAliquotaSimples, int ANumeroNotaFiscal, int ADiaEmissao, int AMesEmissao, int AAnoEmissao, string AServico,
string ASituacaoNF, double AValor, double ABase, string ADescricaoNF, int ATomadorTipo, string ATomadorCNPJ,
string ATomadorEmail, string ATomadorInscrMunicipal, string ATomadorInscrEstadual, string ATomadorRazaoSocial,
string ATomadorNomeFantasia, string ATomadorEndereco, string ATomadorNumero, string ATomadorComplemento,
string ATomadorBairro, string ATomadorCep, string ATomadorCodCidade, string ATomadorFone, string ATomadorRamal,
string ATomadorFax, string ARPSNumero, string ARPSSerie, int ARPSDia, int ARPSMes, int ARPSAno, out int AResultado,
out int ANotaGerada, out string ALinkImpressao, out string AAutenticidade, out string AErros)
{
AResultado = 0;
ANotaGerada = 0;
ALinkImpressao = string.Empty;
AAutenticidade = string.Empty;
AErros = string.Empty;
try
{
ClientWBAws.br.com.sigiss.testebauru.tcDescricaoRps DescricaoRps = new br.com.sigiss.testebauru.tcDescricaoRps();
ClientWBAws.br.com.sigiss.testebauru.tcRetornoNota RetornoNota = new br.com.sigiss.testebauru.tcRetornoNota();
ClientWBAws.br.com.sigiss.testebauru.tcEstruturaDescricaoErros EstruturaDescricaoErros = new br.com.sigiss.testebauru.tcEstruturaDescricaoErros();
ClientWBAws.br.com.sigiss.testebauru.tcEstruturaDescricaoErros[] DescricaoErros;
ClientWBAws.br.com.sigiss.testebauru.WebServiceSigISS wsClient = new br.com.sigiss.testebauru.WebServiceSigISS();
wsClient.Url = AEnderecoWebService;
DescricaoRps.ccm = ACCM;
DescricaoRps.cnpj = ACNPJ;
DescricaoRps.senha = ASenha;
if (ACRC.Trim() != "")
DescricaoRps.crc = ACRC;
if (ACRC_UF.Trim() != "")
DescricaoRps.crc_estado = ACRC_UF;
if (StrToIntDef(AAliquotaSimples, 0) > 0)
DescricaoRps.aliquota_simples = AAliquotaSimples;
DescricaoRps.servico = StrToIntDef(AServico, 0);
DescricaoRps.situacao = ASituacaoNF;
DescricaoRps.valor = string.Format("{0:N2}", AValor);
DescricaoRps.@base = string.Format("{0:N2}", ABase);
DescricaoRps.descricaoNF = ADescricaoNF;
DescricaoRps.tomador_tipo = ATomadorTipo;
DescricaoRps.tomador_cnpj = ATomadorCNPJ;
DescricaoRps.tomador_email = ATomadorEmail;
DescricaoRps.tomador_ie = ATomadorInscrEstadual;
DescricaoRps.tomador_im = ATomadorInscrMunicipal;
DescricaoRps.tomador_razao = ATomadorRazaoSocial;
DescricaoRps.tomador_fantasia = ATomadorNomeFantasia;
DescricaoRps.tomador_endereco = ATomadorEndereco;
DescricaoRps.tomador_numero = ATomadorNumero;
DescricaoRps.tomador_complemento = ATomadorComplemento;
DescricaoRps.tomador_bairro = ATomadorBairro;
DescricaoRps.tomador_CEP = ATomadorCep;
DescricaoRps.tomador_cod_cidade = ATomadorCodCidade;
DescricaoRps.tomador_fone = ATomadorFone;
DescricaoRps.tomador_ramal = ATomadorRamal;
DescricaoRps.tomador_fax = ATomadorFax;
DescricaoRps.rps_num = ANumeroNotaFiscal;
DescricaoRps.rps_serie = ARPSSerie;
DescricaoRps.rps_dia = ARPSDia;
DescricaoRps.rps_mes = ARPSMes;
DescricaoRps.rps_ano = ARPSAno;
DescricaoRps.dia_emissao = ARPSDia;
DescricaoRps.mes_emissao = ARPSMes;
DescricaoRps.ano_emissao = ARPSAno;
RetornoNota = wsClient.GerarNota(DescricaoRps, out DescricaoErros);
AResultado = RetornoNota.Resultado;
ANotaGerada = RetornoNota.Nota;
ALinkImpressao = RetornoNota.LinkImpressao;
AAutenticidade = RetornoNota.autenticidade;
AErros = RetornaErros(DescricaoErros);
}
catch (Exception e)
{
AErros = e.Message;
}
}
private static int StrToIntDef(string valor, int @Default)
{
int numero;
if (int.TryParse(valor, out numero))
return numero;
return @Default;
}
private string RetornaErros(br.com.sigiss.testebauru.tcEstruturaDescricaoErros[] DescricaoErro)
{
string Retorno = string.Empty;
for (int i = 0; i <= (DescricaoErro.Length -1); i++)
{
Retorno = "Identificador SIGISS " + DescricaoErro[i].id.ToString() +"\r\n";
Retorno += "Processo " + DescricaoErro[i].DescricaoProcesso + "\r\n";
Retorno += "Erro " + DescricaoErro[i].DescricaoErro + "\r\n";
}
return Retorno;
}
4150,php,Tenho visto duas maneiras diferentes de verificar se uma data é válida.
De uma forma "moderna", com DateTime:
$date="2014-02-04";
$dt = DateTime::createFromFormat("Y-m-d", $date);
return $dt !== false && !array_sum($dt->getLastErrors());
E usando uma expressão regular:
$date="2014-02-04";
// regex bem simples, apenas para demonstrar a situação.
return (preg_match("/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/",$date));
Não encontrei muito informação comparativa sobre esses métodos. Sei que o DateTime é mais moderno, mas isso basta para considerá-lo mais recomendável? Quais são as vantagens e desvantagens de cada método?
4154,javascript,Conheci há pouco tempo essa função e me surpreendi com o poder dela, me foi de grande utilidade, porém depois de utilizá-la ouvi comentários de que não era seguro.
Gostaria de saber em situação esse uso pode causar problemas de segurança e se existe alternativa para o eval() quando se deseja gerar código javascript dinamicamente, mas de maneira mais segura.
Exemplo de uso por minha aplicação:
var valPeriodos = "";
var next = ".next()";
for (i = 1; i <= numPeriodos; i++) {
eval('var tdVal' + i + '=$(this).parent().parent().find(".vp1").parent()' + valPeriodos + ';');
valPeriodos += next;
eval('val_' + i + ' = tdVal' + i + '.find(".valInputOn").val()');
}
Nesse código eu pego valores de uma tabela dinamica que possui colunas de acordo com o numero de periodos e as guardo em variáveis.
4162,c#,Problema
Possuo diversos relatórios Report Services Client que quando vou tentar imprimir acontece 2 possíveis erros:
Se não estiver instalado o rsclientprint.dll aparece a seguinte mensagem quando tento imprimir o relatório:
Se estiver instalado o rsclientprint.dll e a data de modificação dele for 2009 o navegador IE para de responder quando tento imprimir o relatório.
Observações
Quando é instalado o rsclientprint.dll de 2010, funciona normalmente.
Não quero soluções como: Permitir o Download de Active X habilitado ou Adicionar a página aos sites confiáveis do IE.
No servidor funciona normalmente a impressão, o problema só ocorre quando tento imprimir remotamente de qualquer outra máquina.
Existe alguma outra maneira de eu fazer funcionar a impressão sem o rsclientprint.dll? Ou é possível controlar para ele sempre instalar o de 2010?
4215,javascript,Tenho variáveis ​​em app.js:
var G = {};
module.exports = G;
var DATA = G.DATA = 'DATA';
var F1 = G.F1　= function(val)
{
return val;
};
Desta forma, posso exportar variáveis ​​sob o objeto G, e, ao mesmo tempo, pode aceder a variável escrever diretamente DATA sem G. prefixo.
Agora, eu quero fazer um teste para app.js em test.js
var G = require('./app.js');
console.log(G.DATA);  // -> DATA
Isso funciona, mas eu também quero acessar a variável escrevendo diretamente DATA sem G. Prefixo como console.log(DATA); // -> DATA
Certamente, eu poderia fazer como:
var DATA = G.DATA;
Para cada variáveis ​​(propriedade) de exportação e necessário módulo G objeto, mas, obviamente, é um processo tedioso para adicionar cada variável para o arquivo de teste manualmente para corresponder a G objeto.
Existe alguma maneira de fazer isso automaticamente?
Até agora, eu sou pessimista desde
JS function encerra var no próprio âmbito, então, em teoria, não há nenhuma maneira de ter uma função auxiliar para var para cada objeto de propriedade.
Eu gostaria de evitar qualquer eval ou VM de solução nó. Eu tentei-los no passado, e teve demais problemas.
4225,javascript,Preciso pegar a altura de 2 elementos, onde estes elementos podem ter alturas variadas e então encontrar a diferença entre a altura dos mesmos como no exemplo:
A = 20
B = 15
|A - B| = 5
Como faço isso em uma equação com JS?
4251,php,Tenho o seguinte código utilizando a função header() do PHP:
header("location: painel.php?spv=nav/regMove");
exit;
e quando ela é acionada reporta o seguinte erro:
Cannot modify header information - headers already sent by
Por que que isto possivelmente ocorre?
4263,php,Atualmente, para exportar somente a estrutura de determinado banco de dados, eu uso o seguinte:
mysqldump -h host -u usuario --no-data --database banco > dump.sql -psenha
Isso gera um arquivo SQL, tudo resolvido. No entanto, esse é um processo manual que me custa tempo, e posso esquecer de fazê-lo, então, pensei em fazer um script em PHP para automatizá-lo dentro do meu sistema. O problema é que não sei como fazer isso.
Eu gostaria de saber se existe algum comando SQL específico para que eu possa gerar esse arquivo. O requisito de ser em PHP é que posso precisar executar isso em um servidor compartilhado, aí teria várias restrições de outras linguagens (como shell script, utilizar o próprio mysqldump, etc.).
4266,c#,Faço a leitura de um arquivo texto que contém dados de um outro banco de dados, carrego esses dados linha por linha para uma classe, edito os campos necessários e depois o salvo no novo banco de dados.
Esse processamento de inserção segue o seguinte padrão:
No View, seleciono o arquivo de texto e o passo por parâmetro para o Controller, que por sua vez chama o Model, que faz todo o processamento e chama o AcessoADados para salvar no banco de dados.
No Form da View, tenho um BackGroundWorker, onde o evento Do_Work chama o Controller para iniciar o processo.
Tenho também uma progressBar, que atualiza seus valores atraves do    backgroundWorker.ReportProgress() para informar a quantas anda o carregamento.
Minha dúvida é:
Como informar o BackGroundWorker que o progresso esta aumentando, a cada registro inserido, lá da classe Model?
4267,c#,Estou trabalhando em ASP MVC4, e gostava saber qual o número das semanas num determinado mês para gerar uma lista com datas. Por exemplo, o utilizador insere uma semana, e nessa semana de cada mês vou gerar uma data.
O utilizador pode inserir a semana do mês em que a ocorrência vai acontecer (na qual vou gerar a data):
primeira - Primeira semana do mês
segunda - Segunda semana do mês
terceira - Terceira semana do mês
quarta - Quarta semana do mês
ultima - Última semana do mês
No fim de o utilizador escolher a semana do mês, vou gerar uma data para essa mesma semana no mês, à Segunda-feira.
Supondo que o utilizador insere terceira
Vou gerar uma lista com as datas:
10/02/2014 - data na terceira semana do mês de Fevereiro, à Segunda-feira
10/03/2014 - data na terceira semana do mês de Março, à Segunda-feira
14/04/2014 - data na terceira semana do mês de Abril, à Segunda-feira
4272,javascript,Estava lendo sobre webSql e me surgiu essa dúvida, qual a vantagem de trabalhar com webSql já que roda client-side?
4293,javascript,Funções do tipo console.log recebem um número qualquer de argumentos. Como especificar isso para uma função em Javascript?
4297,javascript,Tenho uma página em PHP que confirma ou não o envio do e-mail do usuário pela página de contato. Quero que depois de 10 segundos (tempo suficiente para que o aviso de confirmação seja lido), o window.location seja a página inicial do site. Estou tentando da seguinte forma:
window.onload = function(){
setTimeout(window.location = "http://homedosite.com.br", 10000);
}
O problema é que quando aparece a página de confirmação, simplesmente o window.location é setado sem aguardar os 10 segundos. O que pode estar acontecendo?
4306,c#,Fiz um comando por causa de foreign keys, só pra tapar buraco, mas não está funcionando por um erro de caractere inválido, acredito que seja o ";".
Sei que estou fazendo isso da maneira mais errada possível, então aceito sugestões de um código mais adequado. A principio só preciso fazer isso funcionar, pois é só uma demostração da aplicação.
Segue o código:
public string ExcluirIndicador(int codigo)
{
try
{
comand = connectionFactory.CreateCommand();
comand.CommandText = "DELETE FROM TB_CR_INDICADOR WHERE COD_INDICADOR = " + codigo + "; DELETE FROM TB_CR_INDICADOR_PERIODO WHERE COD_INDICADOR = " + codigo + "; DELETE FROM TB_INDICADOR WHERE COD_INDICADOR = " + codigo + "";
comand.Connection = connection;
comand.ExecuteReader();
return "Sucesso";
}
catch (Exception e)
{
var erro = e.Message;
return "Erro";
}
}
O erro:
ORA-00911: invalid character\n
4308,php,Estou utilizando vários editores em um custom post type, porém o plugin qTranslate adiciona a abas de idiomas somente no editor default do Wordpress e nos demais não e junto com isso da um bug na aba que não possibilita alternar entre texto e visual.
Como resolver isso?
4316,java,Na minha aplicação utilizo a biblioteca log4j para gerar os logs de todo o sistema. Está funcionando corretamente, utilizo as seguintes configurações:
Direct log messages to a log file
log4j.appender.file=org.apache.log4j.DailyRollingFileAppender
log4j.appender.file.File=log/aplicacao.log
log4j.appender.file.DatePattern='.'yyyy-MM-dd
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{dd-MM-yyyy,HH:mm:ss:SSS},%t,,%-5p,%c{1}:%L-%m%n
log4j.appender.file.MaxFileSize=50KB
log4j.appender.file.MaxHistory=2
Eu gostaria de saber se existe alguma propriedade que faça apagar os arquivos velhos que já tenham mais de uma semana, pois se meu sistema ficar rodando por muito tempo é inviável que ocupe muita memória, pois a aplicação que estou desenvolvido é para ser utilizado em máquinas bem antigas.
Existe alguma solução para isso? Adicionei as propriedade MaxFileSize e MaxHistory e a mesma não funcinou.
4317,java,Estou querendo refatorar um código de manipulação de e-mail, sei que dá para remover várias mensagens em uma operação só, mas e para mover várias mensagens para determinada pasta, tem como?
Utilizo o protocolo IMAP.
4323,java,Gostaria de escrever em um arquivo texto usando o Java, mas sempre que vou utilizar as funções write do BufferedWriter o texto anterior é apagado e o novo é escrito, eu gostaria de manter o texto antigo e apenas concatenar o novo.
4338,java,Preciso fazer uma query que retorne um objeto abstract. No caso quando meu código chega no ".list()" ele lança uma exception, por outro lado, se utilizo o ".list" mas retornando um atributo deste objeto ele funciona.
Só gostaria de saber se a queryDSL não consegue retornar um objeto abstract
public List<DadoLidoGraficoDTO> buscarDadosDosGraficosGerenciais(List<Long> estacoes, Date dataInicio, Date dataFim, Integer tipoDado) {
QDadoLidoEstacao entidade = QDadoLidoEstacao.dadoLidoEstacao;
QLeituraEstacao entidadeLeitura = QLeituraEstacao.leituraEstacao;
JPAQuery query = new JPAQuery(em);
List<DadoLidoGraficoDTO> resultado = query.from(entidade)
.innerJoin(entidade.leituraestacao, entidadeLeitura)
.where(entidadeLeitura.coletorDados.id.in(estacoes).and(entidade.dataHora.between(dataInicio, dataFim).and(entidade.tipoDado.identificadorTipo.eq(tipoDado))))
.groupBy(entidadeLeitura.coletorDados.id, entidade.dataHora.month(), entidade.dataHora.dayOfMonth(), entidade.dataHora)
.orderBy(entidade.dataHora.asc())
.list(new QDadoLidoGraficoDTO(entidadeLeitura.coletorDados, entidade.valor.sum(), entidade.dataHora));
return resultado;
}
4340,javascript,Algumas vezes eu uso esses métodos mais não sei qual a diferença entre eles (e quero saber para que serve exatamente).
function load( arg ) {
console.log( this, arguments );
}
load.apply('www', 'sss');
load.call('www', 'sss');
load.bind('www')
Se eu tiver esquecido de algum pode colocar também.
4372,php,O NGinx e o Apache apresentam erros de forma diferente quando há um problema na execução de um script PHP. O Apache, quando configurado para exibir em tela, exibe exatamente o erro, com arquivo e linha aonde ele ocorreu, porém o NGinx normalmente exibe apenas algo como 502 bad gateway.
A maioria das soluções, até mesmo no stackoverflow.com em inglês, no máximo ajudam a configurar o  NGinx e o  PHP-FPM para direcionar os erros para um arquivo de texto, mas eu pessoalmente não consegui fazer o NGinx exibir os erros exatamente como o Apache faria. Entendo que em produção não é ideal exibir erros em tela para o usuário, porém um problema constante ao usar NGinx em vez de Apache para um desenvolvedor testar sua aplicação é que a maioria tem dificuldade em debugar apenas olhando arquivos de logs.
Por exatamente especifico que é todos os erros possíveis que teoricamente o NGinx poderia exibir. Caso um worker do php-fpm não esteja ativo ou com problemas sérios seria aceitável ainda ter os mesmos erros
4384,c#,Estou com um problema estranho aqui. Estou atribuindo valor a um asp:hiddenField via javascript (já testei dando alert e ele  mostra o valor correto), mas depois quando tento pegar o valor dele no C# o meuHiddenField.Value é vazio, retorna "". O que pode ser?
4395,java,Como posso limpar os Targets gerados do projeto quando realizamos o deploy para JBoss?
4399,c#,O horário esta aparecendo para o usuário.
Minha dúvida: é possivel ocultar o horário e mostrar apenas a data?
Como está aparacendo:
Código do model:
Código da view:
4410,php,Estou tentando receber um arquivo externo JSON via PHP. Estou fazendo dessa forma:
<?php
$json_file = file_get_contents(
"http://www.moonwalk.com.br/api/VitrineDeProdutos/58e903df295cbc5c4639434d4c35090d");
$json_str = json_decode($json_file, true);
$itens = $json_str->nodes;
foreach ( $itens as $e )
{ echo "$e->title<br>"; }
?>
Mas não estou conseguindo nenhum resultado.
O arquivos JSON externo está neste endereço.
Estou fazendo algo errado?
4422,java,Estou buscando alguma API para decodificação de CAPTCHA, uma que seja de livre utilização e com código fonte aberto.
Compreendo que se trata de um processo complexo que utiliza varreduras por OCR e técnimas avançadas de análise e processamento digital de imagens, mesmo assim acredito ser algo interessante de se estudar estes mecanismos por trás da decodificação.
Assim busquei algumas referências na web, foram elas:
libautocaptcha
Encontrei a libautocaptcha, porém sem sucesso na utilização. Após baixar o código fonte e bibliotecas necessárias ele apresenta erros por falta de classes.
JDownloader
Um aplicativo muito citado em foruns internacionais é o JDonwloader, que internamente possui uma implementação (JAnticaptcha) que decodifica CAPTCHA dos principais sites de compartilhamento de arquivos.
Tesseract OCR tesseract
Trata-se de um poderoso OCR que também é citado em foruns como uma boa opção para varrer a CAPTCHA e decoficá-la.
Diante disso tudo, alguém possui experiência com alguma outra API para decodificação ou numa dessas acima? Poderia oferecer algum exemplo funcional que resultou dessa experiência?
4446,c#,Estou estudando para fazer um CRUD para um framework mas estou tento alguns problemas para poder fazer isso da maneira mais genérica possível.
Por exemplo:
tenho uma classe Pessoa()
Quero fazer o CRUD passando somente o objeto Pessoa para uma outra classe em uma outra camada como por exemplo: DAL.AccessData(Pessoa objPessoa).
E dentro dessa classe DAL.AccessData(Pessoa objPessoa) eu teria os meus métodos: insert/delete/update/select.
Como seria a melhor maneira de se fazer isso? Claro, usando também o conceito de injeção de dependência com inversão de controle?
4456,php,Tenho os dados pessoais (login, senha, nome, etc.) dos usuários em um servidor diferente do que utilizarei em um novo projeto.  Eu gostaria de saber como posso cruzar informações entre duas tabelas, de bancos de dados em servidores diferentes, com credenciais de login diferentes também. Pretendo utilizar apenas os recursos PDO / MySQLi para fazer estas conexões, já que utilizo shared hosts.
Exemplo do que queria, em conceito:
SELECT * FROM `serverLocal`.`banco`.`tabela`
INNER JOIN `serverRemoto`.`banco`.`tabela`
ON `serverLocal`.`banco`.`tabela`.`uniqid` = `serverRemoto`.`banco`.`tabela`.`uniqid`
WHERE `serverRemoto`.`banco`.`tabela`.`email` = 'foo@baz.com';
Neste exemplo, os registros se relacionam através de uniqid's que são iguais para as linhas com conteúdos relacionados.
Pensei em criar uma API REST, mas não sei como utilizar estas informações em um JOIN, por exemplo. Como fazer isto funcionar? Quais outras soluções seriam relevantes para resolver este problema, e porque? O PDO / MySQLi já traz algum recurso nativo para que possa "unir" duas conexões a bancos em servidores distintos?
4464,javascript,Quero mostrar o dia, hora, minuto etc. em um timezone arbitrário, em um dia arbitrário. Como falar de conversão de timezones é sempre difícil e confuso, e como falar de conversões de timezones em JavaScript é ainda mais difícil e confuso, vou tentar meio que formalizar a questão:
Busco uma função f(t, s) que:
dado o timestamp 1357041600 (que 2013/1/1 12:00:00 UTC) e a string "America/São Paulo", satisfaça a igualdade abaixo:
f(1357041600, "America/São Paulo") == "2013/01/01 10:00:00"
dado o timestamp 1372680000 (2013/07/01 12:00:00 UTC), satisfaça a igualdade abaixo:
f(1357041600, "America/São Paulo") == "2013/07/01 09:00:00"
se comporte sempre desta maneira independentemente do timezone da máquina onde o browser roda (mesmo que seja, digamos "Europe/London" ou "America/Los Angeles").
se se comporte sempre desta maneira independentemente da hora na máquina onde o browser roda (mesmo que seja 2014/02/05 19:32, ou 2002/08/04 07:12)
e, por fim, não se comunique com código rodando em algum servidor (porque eu mesmo já tô quase apelando para isso :) )
Isso é possível?
4472,javascript,Estou tentando fazer uma tabela dinâmica para a contagem de frequência de palavras extraídas de um arquivo externo. Me deparei com um modelo, agora eu estou tentando alterar a saída para exibir uma tabela em vez de mostrar os resultados em uma caixa de texto. Duas colunas devem aparecer desencadeada por onClick tanto botões que exibem a palavra e sua freqüência de ocorrências.
Abaixo está o que eu tenho trabalhado até agora:
<script type="text/javascript">
<!--
var w;
function openFile(url) {
w = window.open();
w.location = url;
}
function retrieveText() {
pre = document.getElementById("count");
retrieve(w.document.body);
}
function retrieve(node) {
if (node.nodeType == Node.ELEMENT_NODE) {
for (var m = node.firstChild; m != null; m = m.nextSibling)
retrieve(m);
}
else if (node.nodeType == Node.TEXT_NODE) {
var p = document.getElementById("ta_1");
p.appendChild(document.createTextNode(node.data));
}
}
function data(str, uc){
// implement regular expressions and regex
str=str.replace(/<[^>]+>/g,' ');
var tem, M;
var Rx= /\b(([a-z])([a-z]*'?[a-z]*))/ig;
// tests to see whether there is a match in string
while((M= Rx.exec(str)) != null){
if(uc!== true) tem= M[2]+M[3];
else tem= M[1];
if(!this[tem]) this[tem]= 0;
this[tem] += 1;
}
}
// This function takes a string argument and increases count for every element in 'this'
// JS searches key in 'Glossary' prototype
data.prototype.getCount= function(){
var count=0;
for(var w in this){
// hasOwnProperty - function that takes a string argument
if(this.hasOwnProperty(w)){
count+=this[w];
}
}
return count;
}
data.prototype.getList= function(){
var A= [];
var tem;
for(var w in this){
tem= this[w];
if(this.hasOwnProperty(w)) A[A.length]= [w,tem];
}
A.sort(function(word1,word2){
if(word1[0]== word2[0])return 0;
return word1[0]>word2[0]? 1: -1;
})
return A;
}
// function to display alphab
data.prototype.toString= function(freq){
var L, last, nxt;
var A=this.getList();
L= A.length;
for(var i= 0; i<L;i++){
nxt=A[i][0].charAt(0);
if(last!=nxt)A[i][0]='\n\n'+nxt+'\n'+A[i][0];
last=nxt;
if(freq=== false)A[i]= A[i][0];
else{
A[i]= A[i].join(': ');
}
}
A=A.join(', ').replace(/, \n/g,'\n');
return L+' different words of '+this.getCount()+'\n\n'+A;
}
// function to display freq
data.prototype.frequency= function(){
var A= this.getList();
var C=this.getCount();
var L= A.length;
var B= [],v,n;
while(A.length){
tem= A.shift();
v= tem[1];
n= tem[0];
if(!B[v]) B[v]= [v];
B[v].push(n);
}
while(B.length){
tem= B.pop();
if(tem){
A.push(tem.shift()+' occurrence(s): \n\t'+tem.join(', '));
}
}
return 'Word Frequency ('+L+' different words of '+C+' total)\n\n'+A.join('\n')
}
if(document.getElementById && Object.hasOwnProperty){
window.onload= function(){
var t= document.getElementsByTagName('textarea');
var b= document.getElementsByTagName('button');
b[0].onclick= function(){
var newdt= new data(t[0].value);
t[1].value= newdt.toString(false);
}
b[1].onclick= function(){
var newdt= new data(t[0].value);
t[1].value= newdt.frequency();
}
}
}
-->
</script>
</head>
<body>
<h1>Word Counter</h1>
<div>
<p>Filename: <input id = "url" name="url" size=15 type="Text"/></p>
<a href="javascript:openFile(document.getElementById('url').value)">
Open document</a>
<a href="javascript:retrieveText(w.document.body)">Retrieve text</a><br/>
<textarea id="ta_1" rows="20">
</textarea>
<pre id="count"> &nbsp; </pre><br/>
</div>
<div>
<p>
<button>Alphabetical Order</button>
<button >Frequency Order</button></p>
<textarea id="ta_2" rows="20">
</textarea>
</div>
<div id="freqTable"></div>
</body>
</html>
4490,php|javascript,Tenho um select que quando eu mudar o valor dele ele deve reordenar uma lista, ex.: por id, nome, etc. sem o Laravel eu usaria uma função onchange e passaria o padrão de ordenação pra uma página PHP que iria imprimir essa lista ordenada pra mim...
Mas como fazer isso com o Laravel? Vou ter que gerar uma view? Tentei mas não consegui...
Estava tentando aqui acho que estou errando na hora gerar as views..
eu tenho uma view de layout que tem um @yeld ('content'), no caso eu precisaria atualizar só esse content, porém, quando eu faço:
$this->layout->content = View::make('usuarios.index', $variaveis);
ele duplica meu layout dentro da div content
//Segue o controller
if(Request::ajax()){
$usuarios = Usuario::orderBy(Input::get('order'),'ASC')->get();
$variaveis = array('usuarios' => $usuarios);
return View::make('usuarios.index', $variaveis);;
}else{
$usuarios = Usuario::orderBy('id','ASC')->get();
$variaveis = array('usuarios' => $usuarios);
$this->layout->content = View::make('usuarios.index', $variaveis);
}
Porem ele nunca esta entrando o Request::ajax() e eu não consigo descobrir o porque
4491,java,Eu trabalho com Java e por inúmeras vezes eu tenho que fazer um teste object != null no objeto antes de acessá-lo para evitar NullPointerException
Entretanto, acho que essa prática acaba tornando o código muito feio, sujo e difícil de se ler.
Existe alguma alternativa para evitar essa comparação todo momento que eu desejar acessar o método de um objeto?
Por exemplo:
System.out.println("Nome: " + pessoa.getNome());
Para ficar seguro se torna:
if (pessoa!=null) {
System.out.println("Nome: " + pessoa.getNome());
}
4499,c#,É possível configurar o SonarQube com o OpenCover para ignorar algumas classes do meu projeto .NET?
4505,php,Estou desenvolvendo um blog com wordpress para um cliente (que tem pouca experiência com computador e internet). Neste blog, serão disponibilizados vídeos e arquivos zips para download.
Pensando que estes arquivos podem variar bastante de tamanho (até 350MB) fui procurar um meio de realizar este upload (pelo wp-admin) sem precisar aumentar o max_upload_size no servidor e nem o timeout porque acredito não ser a melhor opção.
Pesquisando em diversos lugares vejo que a maioria das pessoas realiza o upload via FTP e utiliza um plugin que pega os arquivos que estão na máquina e coloca no blog, porém acredito que isto seja algo muito difícil para alguém sem experiência.
Achei um único plugin (http://www.iptanus.com/wordpress-plugins/wordpress-file-upload/) que apenas em sua versão paga faz este upload de maneira satisfatória mas devido a encontrar apenas um plugin e não encontrar muita gente utilizando fiquei com um pé atrás.
Este plugin é confiável? Existem algum outro plugins que faça isso e é mais utilizado? Esta (subir arquivos grandes para disponibilizar no wordpress) é uma abordagem ruim por isso existe pouco a respeito?
4508,java,Durante um projeto me sugeriram o uso de Fork in Join da API do Java ao invés de threads, não achei nada fácil de entender pelos exemplos achados no Google.
Eu entendi que é possível passar uma lista de tarefas e ele subdivide e depois reúne os resultados.
Gostaria de saber se é melhor que usar threads e se alguém tem um exemplo para mostrar ou até mesmo contar sua experiencia de uso com esse modelo.
4513,c#,Como crio um arquivo para pôr as imagens da pasta 'resources'? Não quero que as pessoas que usarem meu programa tenham acesso a elas. O arquivo pode ser qualquer extensão.
4524,php,Estou usando um banco mysql, o formato do campo é Decimal (7,2) e ele recebe o valor de salário.
Baseado no que o usuário digita eu armazeno no banco assim:
str_replace(',','.', $_POST['txtSalario'])
Susbstituindo a vírgula por ponto.
O problema é que se ele digitar ex: 3.145,89, os banco de dados recusa pois ele entende que o primeiro ponto já é a casa decimal.
Como tratar essa entrada de dados para receber valores digitados como 3145,89 ou 3.145,89?
Estou usando o PHP 5.3 e mysql 5.5
4535,c#,Preciso criar um wrapper para ObjectSet para poder criar um controle de acesso centralizado.
O objetivo é implementar o CA sem realizar alterações nas queries já existentes no sistema, que no caso, estão espalhadas por todo o código (não existe uma camada centralizada para o acesso aos dados).
A conexão com o banco utiliza um ObjectContext.
O wrapper de ObjectSet criado, é este:
public class ObjectSetWrapper<TEntity> : IQueryable<TEntity> where TEntity : EntityObject
{
private IQueryable<TEntity> QueryableModel;
private ObjectSet<TEntity> ObjectSet;
public ObjectSetWrapper(ObjectSet<TEntity> objectSetModels)
{
this.QueryableModel = objectSetModels;
this.ObjectSet = objectSetModels;
}
public ObjectQuery<TEntity> Include(string path)
{
return this.ObjectSet.Include(path);
}
public void DeleteObject(TEntity @object)
{
this.ObjectSet.DeleteObject(@object);
}
public void AddObject(TEntity @object)
{
this.ObjectSet.AddObject(@object);
}
public IEnumerator<TEntity> GetEnumerator()
{
return QueryableModel.GetEnumerator();
}
public Type ElementType
{
get { return typeof(TEntity); }
}
public System.Linq.Expressions.Expression Expression
{
get { return this.QueryableModel.Expression; }
}
public IQueryProvider Provider
{
get { return this.QueryableModel.Provider; }
}
public void Attach(TEntity entity)
{
this.ObjectSet.Attach(entity);
}
public void Detach(TEntity entity)
{
this.ObjectSet.Detach(entity);
}
IEnumerator IEnumerable.GetEnumerator()
{
return this.QueryableModel.GetEnumerator();
}
}
Ele não é do tipo ObjectSet, mas isso não é importante, ele só precisa ser utilizado em queries LinqToEntities. E até funciona para consultas simples, como esta por exemplo:
//db.Produto é do tipo ObjectSetWrapper<Produto >
var query = (from item in db.Produto where item.Quantidade > 0 select new { item.Id, item.Nome, item.Valor });
var itensList = query.Take(10).ToList();
Mas quando existe uma * subquery*, como esta:
//db.Produto é do tipo ObjectSetWrapper<Produto>
var query = (from item in db.Produto
select new
{
Id = item.Id,
Nome = item.Nome,
QuantidadeVendas = (from venda in db.Venda where venda.IdProduto == item.Id select venda.Id).Count()
}).OrderByDescending(x => x.QuantidadeVendas);
var productsList = query.Take(10).ToList();
Eu recebo um NotSupportedException, informando que não é possível criar uma constante do tipo de minha entidade da subquery (no caso, Venda):
Unable to create a constant value of type 'MyNamespace.Model.Venda'. Only primitive types or enumeration types are supported in this context.
Como eu faço para essa query funcionar? Eu não preciso que o wrapper seja do tipo ObjectSet, somente que ele possa ser utilizado em queries, mantendo as queries do sistema funcionando.
Updated
Atualize a classe de ObjectSetWrapper para implementar IObjectSet<TEntity> como indicado pelo Miguel Angelo, mas os erros continuam. Agora a classe apresenta esta assinatura:
public class ObjectSetWrapper<TEntity> : IObjectSet<TEntity>, IQueryable<TEntity> where TEntity : EntityObject
Para reforçar, a idéia do wrapper é poder realizar verificações de controle de acesso nas queries de consulta, portanto é importante manter as queries com linq to entities já existentes no sistema funcionando.
4542,javascript,O javascript permite você criar envolver funções como pode ser visto nessa resposta da SOEN e nessa resposta.
Com o auxílio dessas respostas eu consegui envolver uma função spy, como no código abaixo:
function spy(func) {
return function(){
var args = Array.prototype.slice.call(arguments);
return func.apply(this, args);
}
}
o que eu quero fazer agora é o seguinte, quando eu atribuir esse "envolvedor" (wrapper), eu quero que ele tenha um objeto acessível que me gere um relatório, por exemplo:
var spied = spy(umaFuncao);
var report = spied.report();
E esse objeto tenha propriedades acessíveis, como, por exemplo, o número de vezes que o método envolvido foi chamado, por exemplo:
console.log(report.totalCalls);//Será impresso no console o número de vezes que o método foi chamado
Como eu poderia fazer isso? Essa é uma questão que pode ser encontrada no codewars e eu achei que seria interessante trazer para cá.
4554,php,No PHP existem métodos get_object_vars e get_class que retornam informações sobre a classe, no Magento podemos usar Zend_Debug::dump(), o Mage::log() e até o XDebug do PHP, mas durante o desenvolvimento de módulos no Magento, onde precisamos sobrescrever alguma parte do painel administrativo, para isso temos que procurar pelas classes corretas.
Como fazer para obter a lista de todas as classes instanciadas ao acessar uma página do Magento?
Exemplo: O usuário X acessou Catálogo->Atributo->Gerenciar Atributo, como gerar um Debug com a lista de todas as classes que foram instanciadas quando o usuário acessou a página Gerenciar Atributo?
4582,c#,Existe uma cliente minha que possui duas máquinas, uma delas é o servidor aonde ficam todos os dados do banco, e o outro é o caixa.
Porém, existe a preocupação da cliente de caso algo aconteça com o servidor os dados ficarem salvos em algum lugar na internet. Portanto, eu via C# (que é feita a aplicação do caixa) gero um arquivo ".sql" todas as noites com o backup de todos os dados do banco. E envio esse ".sql" via FTP pra um servidor meu.
A minha grande dúvida é se o método que estou utilizando é bom, por que notamos que quanto mais tempo passa, maior o arquivo ".sql" vai ficando e mais tempo se leva para enviar o arquivo para o servidor FTP. Gostaria de saber se o método utilizado é bom e viável ou se existe algo melhor.
4591,java,Estou desenvolvendo uma aplicação em Java que envolve uma JTable, eu preciso pintar algumas linhas de vermelho dependendo da idade e do status dessa linha.
Estou usando um DefaultTableModel para popular minha tabela.
Não sei como começar. Poderiam me ajudar?
4605,javascript,Estou fazendo uma aplicação e me surgiu uma dúvida:
Tem como eu remover um elemento de uma página com javascript sem usar a gambiarra do innerHTML = ''?
Por exemplo, eu quero remover uma div (como a do exemplo abaixo) e todo seu conteúdo:
<div id="conteudo">
<ul>
<li>1</li>
<li>2</li>
<li>3</li>
</ul>
</div>
Como eu poderia fazer isso com Javascript puro?
4616,javascript|jquery,Estamos aqui na empresa querendo criar uma vitrine com o efeito de reorganização estilo o que é usado pelo próprio stackexchange http://stackexchange.com/sites
Estive pensando em algoritmos de cálculo de posição, mas não estou chegando algo conclusivo de como reorganizar itens e calcular os espaços vazios.
Alguma lógica para este efeito em específico?
4637,c#,Tenho um modelo chamado Request e esse modelo tem uma coluna chamada Number.
Esse Number tem a seguinte estrutura: ANO + CONTADOR.
Acontece que sempre que vou criar uma nova request eu pego a última request adicionada no banco de dados e a partir dela posso inferir o Number da nova request.
Por exemplo, se minha última request inserida tem number = 20140001 então a próxima request terá number = 20140002.
O problema ocorre quando duas requests são geradas simultaneamente. Acontece que dois ou mais processos podem criar requests. Logo em cada processo desse o banco é acessado, eu verifico qual é a ultima request e gero uma nova. Acontece que de modo simultâneo os processos pegam a mesma request e consequentemente geram Numbers iguais.
Estou usando Entity Framework 5 e MVC 4. Como resolver isso?
4643,c#,O erro é gerado usando o VS 2012. Quando tento criar o Controller para as minhas News usando o Entity framework, já tentei de várias as formas. o Meu banco de dados vocês podem ver no server explorer a esquerda.
Estou tentando criar o controller para as CRUDS.
"Unable to retrieve metadata for "BraveryBranded.ASP.Models.News". Object reference not set to an instance of an object."
4644,java,Estou configurando dois beans no arquivo beans.xml para injetar loggers em minhas classes.
<bean id="loggerFactory" class="company.LoggerFactory" />
<bean id="logger" class="org.apache.log4j.Logger" factory-bean="loggerFactory" factory-method="createLogger" />
A configuração faz com que o método LoggerFactory.createLogger seja chamado e isso está funcionando corretamente.
O que eu quero saber é: como dentro deste método, eu obtenho a classe onde o objeto será injetado para colocá-la como nome do logger?
4652,php,Qual é a diferença entre aspas simples e aspas duplas em PHP?
Ontem estava a trabalhar com uma string de um JSON do google calendar usei explode('\n', .. para separar uma string.
Quando usei o explode em "Mon Jul 7, 2014 \n\u003cbr", com " deu-me:
array(1) { [0]=> string(25) "Mon Jul 7, 2014 \u003cbr" }
Quando usei o explode em 'Mon Jul 7, 2014 \n\u003cbr', com ' deu-me:
array(2) { [0]=> string(16) "Mon Jul 7, 2014 " [1]=> string(8) "\u003cbr" }
O descrito em cima foi só um exemplo prático com que me deparei.
Seria interessante saber quais são as diferenças, em PHP, entre ' e " ?
4654,jquery,Tenho uma lista com 10 imagens e preciso fazer com que cada vez que houver um refresh na página essas imagens mudem de posição.
4661,php,Estou a fazer a integração da API PayPal Express Checkout.
Quando o pagante efectivamente vai para o site da Paypal para introdução dos seus dados de forma a realizar o pagamento, são-lhe apresentadas as seguintes opções:
Pagamento com conta PayPal
Pagamento através de Cartão de Crédito
Problema
Nesta integração em particular, os pagamentos a realizar via PayPal deverão estar limitados a contas PayPal, ou seja, a opção do cartão de crédito deve ficar indisponível ou não aparecer por completo.
Na documentação da API (Inglês) não encontrei nenhuma referência a este assunto nem opção para indicar que não pretendo que a opção do cartão de crédito seja apresentada.
Parâmetros enviados para a API
Na função em baixo, são preparados os diversos parâmetros que indicam à API o que é pretendido que seja apresentado ao pagante bem como o layout da página no lado da PayPal:
/**
* CALL SHORTCUT EXPRESS CHECKOUT
*
* Prepares the parameters for the SetExpressCheckout API Call.
*
* @param string $token             Internal security token
* @param string $cartLinesArr      The cart lines to build the url string.
* @param string $cartTotalsArr     The cart products and delivery total.
*
* @return array                    Response array from Paypal
*/
public function callShortcutExpressCheckout($token, $cartLinesArr, $cartTotalsArr) {
//get all details about this transaction
$transactionArr = $this->getClientData($cartTotalsArr);
/*
* Buyers Address and Contacts
*/
$shiptoAddress = "&SHIPTONAME="        . urlencode($transactionArr["firstName"]." ".$transactionArr["lastName"]);
$shiptoAddress.= "&SHIPTOSTREET="      . urlencode($transactionArr["address"]);
$shiptoAddress.= "&SHIPTOSTREET2="     . urlencode($transactionArr["address2"]);
$shiptoAddress.= "&SHIPTOCITY="        . urlencode($transactionArr["city"]);
$shiptoAddress.= "&SHIPTOSTATE="       . urlencode($transactionArr["state"]);
$shiptoAddress.= "&SHIPTOCOUNTRYCODE=" . urlencode($transactionArr["countryCode"]);
$shiptoAddress.= "&SHIPTOZIP="         . urlencode($transactionArr["zipCode"]);
$shiptoAddress.= "&SHIPTOPHONENUM="    . urlencode($transactionArr["contact"]);
/*
* Cart Items
*/
$PAYPAL_CART_ITEMS = "";
$c = 0;
if ($cartLinesArr) {
foreach ($cartLinesArr as $cartLine) {
$PAYPAL_CART_ITEMS.= "&L_PAYMENTREQUEST_0_NUMBER" . $c . "=" . urlencode($cartLine["id"]);
$PAYPAL_CART_ITEMS.= "&L_PAYMENTREQUEST_0_NAME"   . $c . "=" . urlencode($cartLine["name"]);
$PAYPAL_CART_ITEMS.= "&L_PAYMENTREQUEST_0_AMT"    . $c . "=" . urlencode($cartLine["price"]);
$PAYPAL_CART_ITEMS.= "&L_PAYMENTREQUEST_0_QTY"    . $c . "=" . urlencode($cartLine["quantity"]);
$c++;
}
}
/*
* Construct the parameter string that describes the
* SetExpressCheckout API call in the shortcut implementation
*/
$nvpstr = "&PAYMENTREQUEST_0_AMT="           . urlencode(numberFormat($transactionArr["shippingVal"]+$transactionArr["chargeValue"]));
$nvpstr.= "&PAYMENTREQUEST_0_ITEMAMT="       . urlencode($transactionArr["chargeValue"]);
$nvpstr.= "&PAYMENTREQUEST_0_SHIPPINGAMT="   . urlencode($transactionArr["shippingVal"]);
$nvpstr.= "&PAYMENTREQUEST_0_PAYMENTACTION=" . urlencode(PAYPAL_PAYMENT_TYPE);
$nvpstr.= "&PAYMENTREQUEST_0_CURRENCYCODE="  . urlencode(PAYPAL_CURRENCY_CODE_TYPE);
$nvpstr.= "&RETURNURL="                      . urlencode(PAYPAL_RETURN_URL.$token);
$nvpstr.= "&CANCELURL="                      . urlencode(PAYPAL_CANCEL_URL.$token);
$nvpstr.= "&ADDRESSOVERRIDE=1";
$nvpstr.= $shiptoAddress;
$nvpstr.= "&ALLOWNOTE="                      . urlencode(PAYPAL_ALLOWNOTE);
$nvpstr.= "&HDRIMG="                         . urlencode(PAYPAL_USE_LOGOTYPE);
$nvpstr.= "&LOCALECODE="                     . urlencode(PAYPAL_LOCAL_CODE);
$nvpstr.= "&EMAIL="                          . urlencode($transactionArr["email"]);
$nvpstr.= $PAYPAL_CART_ITEMS;
$nvpstr.= "&LANDINGPAGE="                    . urlencode(PAYPAL_LANDING_PAGE);
$nvpstr.= "&NOTETOBUYER="                    . urlencode(I18N_ESHOP_PAYPAL_NOTES);
/*
* Make the API call to PayPal
*/
return $this->hash_call("SetExpressCheckout", $nvpstr);
}
Pergunta
Como passar um parâmetro para a API da PayPal de forma a que a mesma limite as opções de pagamento que são apresentadas ao pagante, onde só é pretendido aceitar pagamentos via contas PayPal?
4668,php,Peguei um projetinho já pronto pra estudar, só que está dando esse erro, recentemente migrei para o ubuntu e não sei o que fazer.
Erro: SQLSTATE[28000] [1045] Access denied for user 'root'@'localhost'
(using password: YES)
4679,javascript|jquery,Eu tenho um formulário que é composto por quatro inputs e eles estão agrupados em pares.
A regra para este formulário é muito simples, se eu preencher um dos inputs do par, eu tenho que preencher o outro também ou não preencher nenhum. Para atingir este comportamento eu usei o método skip_or_fill_minimun.
O HTML:
<div id="msgErros"></div>
<form>
<label for="dataInicial">Data Inicial</label>
<input type="text" name="filtro.dataInicial" id="dataInicial" class="datas" />
<label for="dataFinal">Data Final</label>
<input type="text" name="filtro.dataFinal" id="dataFinal" class="datas" />
<br />
<label for="tempoInicial">Tempo Inicial</label>
<input type="text" name="filtro.tempoInicial" id="tempoInicial" class="tempos" />
<label for="tempoFinal">Tempo Final</label>
<input type="text" name="filtro.tempoFinal" id="tempoFinal" class="tempos" />
<br />
<button type="submit">Enviar</button>
</form>
As regras de validação, mensagens e grupos:
$("form").validate({
rules : {
"filtro.dataInicial": {
skip_or_fill_minimum: [2, ".datas"]
},
"filtro.dataFinal": {
skip_or_fill_minimum: [2, ".datas"]
},
"filtro.tempoInicial": {
skip_or_fill_minimum: [2, ".tempos"]
},
"filtro.tempoFinal": {
skip_or_fill_minimum: [2, ".tempos"]
}
},
messages: {
"filtro.dataInicial": {
skip_or_fill_minimum: "Por favor, preencha ambos os campos de data ou nenhum deles."
},
"filtro.dataFinal": {
skip_or_fill_minimum: "Por favor, preencha ambos os campos de data ou nenhum deles."
},
"filtro.tempoInicial": {
skip_or_fill_minimum: "Por favor, preencha ambos os campos de tempo ou nenhum deles."
},
"filtro.tempoFinal": {
skip_or_fill_minimum: "Por favor, preencha ambos os campos de tempo ou nenhum deles."
}
},
groups : {
grupoDatasAtendimentoSintetico : "filtro.dataInicial filtro.dataFinal",
grupoTemposAtendimentoSintetico : "filtro.tempoInicial filtro.tempoFinal"
},
errorContainer : "#msgErros ul",
errorLabelContainer : "#msgErros",
wrapper : "li"
});
O problema acontecendo é que se eu preencher um dos dois primeiros inputs a regra não é acionada, o problema não ocorre se eu faço isso com o segundo par. Se eu excluir o segundo par a regra executa perfeitamente, então eu acho que é um bug. Aqui está um fiddle.
Eu li sobre este método e require_from_group causando problemas que simplesmente impedem que outros métodos de serem executados, mas este bug supostamente foi corrigido na versão 1.11.1 , que é o que eu estou usando no meu projeto e no fiddle tanto para o próprio plugin e os métodos adicionais dele.
O problema só acontece quando o usuário preenche um dos campos no primeiro par. Alguém sabe se este é mais um bug? Eu não encontrei nada relacionado a isso no GitHub issue tracker deste plugin.
ATUALIZAÇÃO:
Crie um entrada no issue tracker do plugin no endereço: https://github.com/jzaefferer/jquery-validation/issues/1008.
4686,c#,Eu estou querendo desenvolver um jogo (iniciando os estudos agora), e estou tendo uma dificuldade:
Tenho um cenário que é basicamente um planeta e nesse planeta posso colocar objetos que irão "mirar" no jogador... eu estive vendo algumas formas e a mais interessante foi a função LookAt(Transform), porém esse método rotaciona todos os eixos dos objetos que irão mirar o jogador. Eu gostaria de umas dicas sobre como eu posso girar esse objeto em apenas um eixo.
Independente do player pular, cair ou qualquer outra ação que o usuário faça de subir ou descer.
Alguém tem alguma dica de um tutorial ou alguma dúvida referente a isso?
4688,javascript|php,Estou no meio de um projecto em que tenho fazer clustering num mapa. Encontrei este algoritmo que se encontra em PHP. A minha duvida é neste foreach:
foreach ($markers as $key => $target) {
$pixels = pixelDistance($marker['lat'], $marker['lon'],
$target['lat'], $target['lon'],
$zoom);
/* If two markers are closer than given distance remove */
/* target marker from array and add it to cluster.      */
if ($distance > $pixels) {
printf("Distance between %s,%s and %s,%s is %d pixels.\n",
$marker['lat'], $marker['lon'],
$target['lat'], $target['lon'],
$pixels);
unset($markers[$key]);
$cluster[] = $target;
}
}
em que
$markers   = array();
$markers[] = array('id' => 'marker_1',
'lat' => 59.441193, 'lon' => 24.729494);
$markers[] = array('id' => 'marker_2',
'lat' => 59.432365, 'lon' => 24.742992);
$markers[] = array('id' => 'marker_3',
'lat' => 59.431602, 'lon' => 24.757563);
$markers[] = array('id' => 'marker_4',
'lat' => 59.437843, 'lon' => 24.765759);
$markers[] = array('id' => 'marker_5',
'lat' => 59.439644, 'lon' => 24.779041);
$markers[] = array('id' => 'marker_6',
'lat' => 59.434776, 'lon' => 24.756681);
$clustered = cluster($markers, 20, 11);
Como "traduzir" para Javascript?
4695,javascript,No ASP.NET MVC é possível executar o @Url.Content nas views e nas controllers.
Esta variável retorna o nível relativo em que o site está.
A minha dúvida é: como executar o Url.Content via JavaScript? Tem alguma forma no MVC?
EDITADO
Exemplo do @Url.Content no C#
<img src="@Url.Content("~/Content/img/teste.jpg")" />
Resultado por ambientes
| DEV | /Content/img/teste.jpg" |
| PRD | /NovoSite/Content/img/teste.jpg" |
No meu caso, o ambiente de produção está dentro de uma pasta "NovoSite", com a utilização do  @Url.Content eu não preciso me preocupar com isto.
Porém se eu for fazer alguma coisa com javascript/jquery exemplo
$("#element").html('<img src="/Content/img/teste.jpg" />');
Só ira funcionar no meu ambiente de Dev, e eu preciso alterar o caminho toda vez que eu faço um deploy
4701,javascript|jquery,Quando eu faço a marcação no html funciona normalmente, quando escrevo em minha folha jQuery utilizando a api ().html não funciona, estou achando que é por causa das data- escritas na div, como eu poderia fazer funcionar?
$(function(){
$('.bl6-conteudo').html([
'<div class="cycle-slideshow"',
'data-cycle-fx="fade"',
'data-cycle-timeout="240000"',
'data-cycle-slides="> .dicas"',
'data-cycle-caption-plugin="caption2"',
'data-cycle-pager-template="">',
'<div class="cycle-prev"></div>',
'<div class="cycle-next"></div>',
'<div class="cycle-caption"></div>',
'<div class="bl6-d1 dicas"></div>',
'<div class="bl6-d2 dicas"></div>',
'<div class="bl6-d3 dicas"></div>',
'<div class="bl6-d4 dicas"></div>',
'<div class="bl6-d5 dicas"></div>',
'<div class="bl6-d6 dicas"></div>',
'</div>'
].join(''));
})
Consegui resolver esse problema fazendo a chamada, na folha dos meus scripts, como disse o @LuizTanure e reinteirou o @FabricioMatte.
$( '.cycle-slideshow' ).cycle();
E na folha do HTML ajeitei os scripts dessa forma:
<!-- jquery -->
// biblioteca jquery
<!-- Cycle2 -->
<script src="js/jquery.cycle2.js"></script> // tem de ficar logo acima da chamada dependende
<!--  Minha folha de scripts-->
<script type="text/javascript" src="js/jquery.meu.js"></script> // cycle2 depende dessa folha , pois tem partes do arquivo carregando nessa folha
Só assim foi possível fazer o plugim funcionar direito , quando inserido via .html() direto em minha folha de scripts (meu.js).
É preciso tomar cuidado com a ordem das chamadas.
@PauloRoberto Realmente não há problema algum inseri conteúdo via Jquery/javascript, só vejo vantagens, mesmo como string, na verdade além de ser mais fácil não encontrei contra indicações relevantes.  Veja ao inspecionar elemento que aparece como se estivesse inserido direto no html, além de ser fácil a edição, e o carregamento da página é rápido também.
vlw ;)
4703,java,Estou com uma classe chamada Bola onde nela tenho uma thread que faz umas bolinhas se movimentarem na fase 1 de um do jogo. É possível eu implementar nessa mesma classe outra thread que faça as bolinhas se movimentarem de forma diferente no caso para fase 2 do jogo, se possível deixem um exemplo de como posso ter as 2 thread na mesma classe e como posso acessar cada uma.
Aqui está o código:
import java.awt.Rectangle;
public class Bola extends Thread {
private int x,y,tamanho;
private int direcao;
int opcao;
public Bola(int x,int y,int tamanho){
this.x=x;
this.y=y;
this.tamanho=tamanho;
}
@Override
public void run() {
super.run();
while(1==1){
try {
Thread.sleep(2);
} catch (InterruptedException e) {
e.printStackTrace();
}
if(x<150){
direcao=1;
}
if(x>700){
direcao=0;
}
if(direcao==1){
x++;
}
if(direcao==0){
x--;
}
}
//aqui gostaria de por outra thread, do mesmo jeito da primeira,porém vai //alterar o y...dai na classe da fase eu gostaria de chamar apenas essa thread //que altera o y
}
public Rectangle colisao(){
return new Rectangle(x, y, tamanho, tamanho);
}
public int getX() {
return x;
}
public void setX(int x) {
this.x = x;
}
public int getY() {
return y;
}
public void setY(int y) {
this.y = y;
}
public int getTamanho() {
return tamanho;
}
public void setTamanho(int tamanho) {
this.tamanho = tamanho;
}
}
4714,php,Quero mostrar os resultados obtidos num formulário mas ao guardar na BD não me guardou como null mas guardou assim:
Data: 0000-00-00 E Numero: 0
Query tenho assim:
$sql = mysql_query ("Select *, Count(*) from tabela1, tabela2 where campo1 = 0 and campo2= '0000-00-00' and campo3 is Null and campo4......'")
Mas ele não me está a mostrar o resultado. Tenho algo mal no código?
4719,php,Eu minimizei o meu código o mínimo possível, a fim de isolar o erro. Já revirei o fórum a procura de uma resposta simples, mas nenhuma dica resolveu este problema básico.
Nas configurações do app, as únicas alterações que fiz foram preencher a url (localhost:81/mb - já fiz publicando o arquivo e alterando o domínio e o resultado foi o mesmo) e defini no App Center Permissions a cláusula Default Activity Privacy como Pública. Preciso fazer algo mais?
Esta é uma página em PHP:
include_once 'libs/facebook/src/facebook.php';
$facebook = new Facebook(array(
'appId'  => '###',
'secret' => '###',
'cookie' => true
));
$user = $facebook->getUser();
$login_url = $facebook->getLoginUrl();
echo 'Please <a href="' . $login_url . '">login.</a>';
if($user == null) {
print_r("user null " . $user);
} else {
print_r("user logged" . $user);
}
Apesar de estar logado no facebook e utilizar outra aba do Chrome o resultado é "user null 0".
4720,c#,Estou tentando importar um arquivo MDB, ler este arquivo e gravar no SQL.
Já estou conseguindo importar o arquivo e ler, só não consigo ainda pegar estes dados e gravar no SQL.
Se reparar no código eu até consegui mostrar os dados em um Lista.
Segue abaixo o meu código:
protected void Btn_Importar(object sender, EventArgs e)
{
if (FileUpload1.HasFile)
{
if (FileUpload1.PostedFile.ContentType == "application/msaccess")
{
string filename = Path.GetFileName(FileUpload1.FileName);
FileUpload1.SaveAs(Server.MapPath("~/Upload/") + filename);
Label1.Text = "File uploaded successfully!";
//ReadMdb();
Insert();
}
}
}
public void Insert()
{
string strFile = Server.MapPath("~/Upload/teste.mdb");
string connectionString = "Provider=Microsoft.Jet.OLEDB.4.0;Data Source=" + strFile;
var myDataTable = new DataTable();
using (var connection = new OleDbConnection("Provider=Microsoft.JET.OLEDB.4.0;" + "data source=" + strFile))
{
connection.Open();
var query = "SELECT * FROM BOLETO";
var command = new OleDbCommand(query, connection);
var reader = command.ExecuteReader();
Conexaocs con = new Conexaocs();
con.Conexao();
SqlCommand sqlComm = new SqlCommand("INSERT INTO BOLETO (CODIGO,NF_CONTA,TEXTO) VALUES (@CODIGO, @NF_CONTA, @TEXTO)", conn);
//if (reader.HasRows)
//{
//    while (reader.Read())
//    {
//        //ListBox1.Items.Add(reader.GetInt32(0).ToString() + " - " + reader.GetString(1));
//    }
for (int i = 0; i < reader.FieldCount; i++)
{
sqlComm.Parameters.AddWithValue("@CODIGO", reader[i]);
sqlComm.Parameters.AddWithValue("@NF_CONTA", reader[i]);
sqlComm.Parameters.AddWithValue("@TEXTO", reader[i]);
sqlComm.ExecuteNonQuery();
}
connection.Close();
}
}
Eu coloquei apenas estas colunas para teste.
4728,php,Eu tenho o seguinte problema, primeiramente a configuração do meu PC.
SO: Fedora 20
PHP 5.5
Oracle Instant Client: 11.2.0.4.0
Eu tento me conectar via configurações do arquivo tnsnames.ora e ocorre o seguinte erro
ORA-12169: TNS:Net service name given as connect identifier is too long
Para conectar no PHP utilizo a extensão oci8 com a versão oci8-2.0.6
A string de fato é grande, mas no SQL Developer conecta normalmente.
4737,php,Estou desenvolvendo um sistema no Laravel 4 com base em tutoriais e documentação oficial do Laravel. Não tenho visto algo relacionado a permissões de acesso (ACL) no Laravel. Sabendo que meu sistema terá vários recursos disponíveis, como: Notícias, Produtos, Administração de Usuários, entre outros, como eu poderia fazer de forma prática uma página onde eu insira as permissões por módulo que cada usuário terá acesso?
Penso em algo onde eu cadastre níveis de permissões (Admin, User, Editor) e depois, no cadastro do usuário, eu vinculo algum nível. Por outro lado, na hora de cadastrar um usuário eu poderia ter opções de checkbox com os tipos de permissões (editar, visualizar, excluir) de cada módulo específico, e selecionaria o desejado para cada usuário. Neste caso, eu optaria em dar permissões individuais por usuário ou selecionaria um nível específico para aquele usuário.
Alguém tem alguma base que eu poderia seguir para desenvolver este recurso?
4738,java,Eu tenho um arquivo Produtos.ser onde foram gravados vários objetos do tipo Objeto.
No método do código abaixo, eu desejo recuperar todos os objetos do arquivo e armazenar numa lista ArrayList.
Porém, ele adiciona no ArrayList apenas o primeiro objeto. Alguma ajuda?
public ArrayList<Produto> recuperarProdutos(){
ArrayList<Produto> produtos = new ArrayList<>();
Produto p = new Produto();
ObjectInputStream leitorObj = null;
FileInputStream leitorArquivo = null;
try {
leitorArquivo = new FileInputStream("files\\Produtos.ser");
leitorObj = new ObjectInputStream(leitorArquivo);
p = (Produto)leitorObj.readObject();
produtos.add(p);
} catch(EOFException e) {
try {
leitorArquivo.close();
} catch (IOException ex) {
System.out.println(ex.getMessage());
}
} catch (Exception ex) {
System.out.println(ex.getMessage());
} finally {
try {
if (leitorArquivo != null) leitorArquivo.close();
} catch (Exception e) {
System.out.println(e.getMessage());
}
}
return produtos;
}
4748,javascript,Estou tentando fazer uma popup usando o OpenLayers (mais especificamente usando Ol4JSF) mas a parte de adicionar a popup uso o jscript direto, e a popup sai toda bugada. Qual o motivo?
Código utilizado:
<m:script>
var lonLat = new OpenLayers.LonLat(-47.89460,-22.00710).transform(
new OpenLayers.Projection("EPSG:4326"),
new OpenLayers.Projection("EPSG:900913")
);
var popup = new OpenLayers.Popup.FramedCloud("Popup",
lonLat, null,
'Texto', null,
true
);
map.setCenter(lonLat, 18);
map.addPopup(popup);  </m:script>
4761,javascript|php|jquery,É possível dentro de um Controller, retornar uma ação javascript e proceder com o script do controller ?
Exemplo:
Chamada para pagina de Login:
<li><a href="javascript:" link="{{ route('login') }}" class="popup">logar</a></li>
$('.popup').click(function(ev){
var URL = $(this).attr("link");
window.open(URL,'janela', scrollbars=yes, status=no, toolbar=no, location=no, directories=no, menubar=no, resizable=no, fullscreen=no');
});
Controller
class testeController extends BaseController {
public function teste($process = null)
{
if ($process) {
return function();
}
echo '<script type="text/javascript">window.close()</script>';
if(Auth::check()){
$role = User::find(Auth::user()->id)->roles()->first();
return Redirect::to($role->name)->with('success', 'Logado com sucesso');
}else{
return Redirect::to('/')->with('warning', 'Não foi possível autenticá-lo, tente novamente mais tarde ou nos contate');
}
...
porem o echo do javascript não funciona dentro do controller, somente se eu der um return, e se eu der um return o resto da função do controller não é executado.
Qual o melhor procedimento nesse caso ?
Tentativa1:
class testeController extends BaseController {
public function teste($process = null)
{
if ($process) {
return function();
}
Functions::jsController('close');
if(Auth::check()){
$role = User::find(Auth::user()->id)->roles()->first();
return Redirect::to($role->name)->with('success', 'Logado com sucesso');
}else{
return Redirect::to('/')->with('warning', 'Não foi possível autenticá-lo, tente novamente mais tarde ou nos contate');
}
...
public static function jsController($acao){
if($acao == 'close'){
return '<script type="text/javascript">window.close()</script>';
}
}
4770,javascript,Estou fazendo uma função para fazer uma lista com 10 amigos do facebook com 10 posts (status) cada. O código abaixo realiza as buscas de forma certeira, no entanto a div "friend" + id não recebe o conteúdo na linha divFriendsPost.innerHTML = friendPosts, ainda que o conteúdo esteja correto.
JS
FB.api('/me/friends?limit=10', function(fResponse) {
console.dir(fResponse);
var divFriendsList = document.getElementById('friendsList');
var friend_data = fResponse.data.sort(sortMethod);
var newLine = '';
for(var i = 0; i < friend_data.length; i++) {
newLine += '<p>';
newLine += '<img src="https://graph.facebook.com/' + friend_data[i].id + '/picture">';
newLine += '<em>' + friend_data[i].name + '</em>';
newLine += '</p>';
newLine += '<div id="friend' + friend_data[i].id + '" class="friendPosts"></div>';
FB.api({method: 'fql.query', query: 'SELECT message FROM status WHERE uid = ' + friend_data[i].id + ' LIMIT 10'},
function(posts){
var divFriendsPost = document.getElementById('friend' + friend_data[i].id);
var friendPosts = '';
for(var j=0; j < posts.length ; j++) {
friendPosts += '<p>' + posts[j].message + '</p>';
}
divFriendsPost.innerHTML = friendPosts;
}
);
}
divFriendsList.innerHTML = newLine;
});
Pelo o que li, tem a ver com a requisição assíncrona. Como se resolve isso?
4776,c#,Preciso de verificar/validar se um dia (numérico) existe num determinado mês.
Por exemplo: tenho o dia 31, e como não existe no mês de Fevereiro a condição irá falhar.
Penso que um simples if me resolverá o problema, onde construo uma data e verifica se a mesma existe.
4777,php,Tenho um banco de dados com algumas tabelas já populadas, mas agora tenho que popular as tabelas que possuem chave estrangeira, estou tentando assim:
$tamanho = Tamanho::find(2);
$genero = Genero::find(1);
$categoria = Categoria::find(2);
$estampa = Estampa::find(1);
$pedido = Pedido::find(1);
$produto = new Produto;
$produto->descricao = 'Lançamento 2012';
$produto->tamanhos()->associate($tamanho);
$produto->generos()->associate($genero);
$produto->categorias()->associate($categoria);
$produto->estampas()->associate($estampa);
$produto->quantidade = '120';
$produto->vunitario = '50';
$produto->save();
$produto->pedidos()->save($pedido);
$pedido->produtos()->save($produto);
mas me retorna o erro:
Call to undefined method Illuminate\Database\Query\Builder::associate()
model Produto:
class Produto extends Eloquent
{
// Produtos has_many Tamanhos
public function tamanhos()
{
return $this->hasMany('Tamanho');
}
// Produtos has_many Generos
public function generos()
{
return $this->hasMany('Genero');
}
// Produtos has_many Estampas
public function estampas()
{
return $this->hasMany('Estampa');
}
// Produtos belongs_to Categorias
public function categorias()
{
return $this->belongsTo('Categoria');
}
// Produtos belongs_to_many Pedidos
public function pedidos()
{
return $this->belongsToMany('Pedido');
}
}
O que pode estar errado?
4786,java,Estou com dúvidas em como conseguir um Path através do IPath,
Tenho uma variável do tipo IPath mas tenho um método que requer um Path, tentei fazer um cast mas não tive sucesso, alguém conhece alguma solução ?
4794,php,Tenho um banco de dados com as seguintes chaves primárias e estrangeiras
tb_detalhe_trabalhador
id
tb_funcoes_id
tb_trabalhador_id
tb_equipamentos
id
tb_trabalhador_id
tb_funcoes
id
tb_trabalhador
id
A minha última tabela a ser preenchida é tb_equipamentos. E me dá o erro:
Column tb_trabalhador_id cannot be null.
Tenho este campo:
$sqlinsert = "INSERT INTO tb_equipamentos VALUES(0, NULL, '" . $MaquinaNumero1 . "',
Este null é o da tb_trabalhador_id
4805,c#,É possível limitar a quantidade de linhas em uma textbox multiline usando C# NET 3.5?
4809,c#,Eu sei que tem como fazer isso. Mas não estou conseguindo achar como.
Como faço para uma função aceitar um número variável de parâmetros do mesmo tipo, parecido como um array?
Assim eu posso chamar simplesmente assim:
UIMostra("Localização", "Informações Gerais", "Acessos")
ao invés de chamar criando um array (poluído):
UIMostra(new string[]{"Localização", "Informações Gerais", "Acessos"})
4810,php,Tenho este codigo para receber dados em duas tabelas diferentes.
Mas apenas a primeira tabela esta a receber dados. A segunda continua em branco.
É possivel este codigo funcionar desta maneira?
if(($query=mysql_query($sqlinsert)) and ($query2=mysql_query($sqlinsert2))){
$sqlinsert = "INSERT INTO tb_funcoes VALUES(0,'"....)";
$sqlinsert2 = "INSERT INTO tb_detalhe_trabalhador VALUES(0,NULL,NULL,'o."',....)";
}
Quando o erro ocorre, retorna a seguinte mensagem:
Duplicate entry '0' for key 'PRIMARY'
4813,php,Estou trabalhando em um sistema que preciso sortear vários dados(cupons) de uma tabela e retornar para o usuário, mas não posso correr o risco de entregar o mesmo cupom para o outro usuário.
Pensei em usar o GET_LOCK() do MySQL para bloquear a tabela temporariamente enquanto o sorteio é feito, mas ele não segura a conexão HTTP e a conexão se perde tendo que fazer a chamada novamente.
Existe alguma forma correta ou apenas melhor de fazer isso?
4818,php,Ao olhar para a classe app\code\core\Mage\Core\Model\App.php, temos a seguinte função:
public function run($params)
{
$options = isset($params['options']) ? $params['options'] : array();
$this->baseInit($options);
Mage::register('application_params', $params);
if ($this->_cache->processRequest()) {
$this->getResponse()->sendResponse();
} else {
$this->_initModules();
$this->loadAreaPart(Mage_Core_Model_App_Area::AREA_GLOBAL, Mage_Core_Model_App_Area::PART_EVENTS);
if ($this->_config->isLocalConfigLoaded()) {
$scopeCode = isset($params['scope_code']) ? $params['scope_code'] : '';
$scopeType = isset($params['scope_type']) ? $params['scope_type'] : 'store';
$this->_initCurrentStore($scopeCode, $scopeType);
$this->_initRequest();
Mage_Core_Model_Resource_Setup::applyAllDataUpdates();
}
$this->getFrontController()->dispatch();
}
return $this;
}
Para se adicionar um event/observer usamos o seguinte codigo:
<events>
<EVENT_TO_HOOK>
<observers>
<module>
<type>singleton</type>
<class>company_module_model_observer</class>
<method>methodToCall</method>
</module>
</observers>
</EVENT_TO_HOOK>
</events>
Qual o evento que devemos adicionar para observarmos a função run da classe Mage_Core_Model_App?
4819,jquery,Uso JQuery para fazer uma chamada Ajax (GET). Quando ocorre "redirect", código 302, para uma resposta válida o JQuery retorna erro em vez de redirecionar para a nova URL.
Tem alguma outra forma de tratar isso?
4832,javascript,Queria saber como posso chamar uma função por meio de uma caixa de texto. exemplo:
<input type="text" value="load()"/>
Mas não é exatamente a função load, eu queria que o digitador pudesse chamar qualquer função mesmo.
4846,c#,Estou tentando renderizar duas views criadas com o scaffolding, uma é para o Create e outra é para o List.
A ideia é juntar na index o seguinte:
@model BraveryBranded.ASP.Models.News
@{
ViewBag.Title = "Index";
}
@RenderPage("~/Areas/Admin/Views/News/New.cshtml")
<hr/>
@RenderPage("~/Areas/Admin/Views/News/List.cshtml")
Esta gerando um erro falando sobre os models. Segue abaixo o print:
Esta é a minha List:
@model IEnumerable<BraveryBranded.ASP.Models.News>
@{
ViewBag.Title = "Lista";
}
<h2>@ViewBag.Title</h2>
<p>
@Html.ActionLink("Create New", "Create")
</p>
<table>
<tr>
<th>
@Html.DisplayNameFor(model => model.IDNews)
</th>
<th>
@Html.DisplayNameFor(model => model.Title)
</th>
<th>
@Html.DisplayNameFor(model => model.Description)
</th>
<th>
@Html.DisplayNameFor(model => model.PostDate)
</th>
<th></th>
</tr>
@foreach (var item in Model) {
<tr>
<td>
@Html.DisplayFor(modelItem => item.IDNews)
</td>
<td>
@Html.DisplayFor(modelItem => item.Title)
</td>
<td>
@Html.DisplayFor(modelItem => item.Description)
</td>
<td>
@Html.DisplayFor(modelItem => item.PostDate)
</td>
<td>
@Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |
@Html.ActionLink("Details", "Details", new { /* id=item.PrimaryKey */ }) |
@Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })
</td>
</tr>
}
</table>
E esta é minha Create:
@model BraveryBranded.ASP.Models.News
@{
ViewBag.Title = "Adicionar";
}
<h2>@ViewBag.Title</h2>
@using (Html.BeginForm()) {
@Html.AntiForgeryToken()
@Html.ValidationSummary(true)
<fieldset>
<legend>News</legend>
<div class="editor-label">
@Html.LabelFor(model => model.IDNews)
</div>
<div class="editor-field">
@Html.EditorFor(model => model.IDNews)
@Html.ValidationMessageFor(model => model.IDNews)
</div>
<div class="editor-label">
@Html.LabelFor(model => model.Title)
</div>
<div class="editor-field">
@Html.EditorFor(model => model.Title)
@Html.ValidationMessageFor(model => model.Title)
</div>
<div class="editor-label">
@Html.LabelFor(model => model.Description)
</div>
<div class="editor-field">
@Html.EditorFor(model => model.Description)
@Html.ValidationMessageFor(model => model.Description)
</div>
<div class="editor-label">
@Html.LabelFor(model => model.PostDate)
</div>
<div class="editor-field">
@Html.EditorFor(model => model.PostDate)
@Html.ValidationMessageFor(model => model.PostDate)
</div>
<p>
<input type="submit" value="Create" />
</p>
</fieldset>
}
<div>
@Html.ActionLink("Back to List", "Index")
</div>
@section Scripts {
@Scripts.Render("~/bundles/jqueryval")
}
Código do Controller News:
public ActionResult Index()
{
return View();
}
public ActionResult List()
{
var list = UpdateList();
return View(list);
}
public ActionResult New()
{
return View();
}
4855,c#,O RenderAction parou de considerar os campos marcados como [Required] nos meus models.
Exemplo de um dos models:
private uint IdNews { get; set; }
[Required(ErrorMessage = "Defina o título.")]
public string Title { get; set; }
[UIHint("tinymce_jquery_full"), AllowHtml]
[Required(ErrorMessage = "Escreva a descrição.")]
public string Description { get; set; }
//[RegularExpression(@"^((0[1-9]|[12]\d)\/(0[1-9]|1[0-2])|30\/(0[13-9]|1[0-2])|31\/(0[13578]|1[02]))\/\d{4}$", ErrorMessage = "A data é inválida.")]
[Required(ErrorMessage = "Selecione a data de postagem.")]
public DateTime PostDate { get; set; }
[Required(ErrorMessage = "Escreva o nome do Administrador que esta postando.")]
public Admin AdminName { get; set; }
public Image Photo { get; set; }
Esta é a view que esta sendo carregada com o Hrml.RenderAction:
@model BraveryBranded.ASP.Models.News
@{
ViewBag.Title = "Adicionar";
}
<h2>@ViewBag.Title</h2>
@using (Html.BeginForm()) {
@Html.AntiForgeryToken()
@Html.ValidationSummary(true)
<fieldset>
<legend>Nova Notícia</legend>
<div class="editor-label">
<h3>*Título</h3>
</div>
<div class="editor-field">
@Html.EditorFor(model => model.Title)
@Html.ValidationMessageFor(model => model.Title)
</div>
<div class="editor-label">
<h4>Imagem</h4>
</div>
<div class="editor-field">
<input type="file" id="file"/>
</div>
<div class="editor-label">
<h4>*Descrição:</h4>
</div>
<div class="editor-field">
@Html.EditorFor(model => model.Description)
@Html.ValidationMessageFor(model => model.Description)
</div>
<br/>
<p>
<button class="btn btn-primary" type="submit">Adicionar</button>
</p>
</fieldset>
}
@*<div>
@Html.ActionLink("Back to List", "Index")
</div>*@
@section Scripts {
@Scripts.Render("~/bundles/jqueryval")
}
View onde são carregadas as RenderActions:
@using BraveryBranded.ASP.Models
@model IEnumerable<BraveryBranded.ASP.Models.News>
@{
ViewBag.Title = "Notícias";
}
<h2>@ViewBag.Title</h2>
@{
Html.RenderAction("New", "News");
}
<hr/>
@{
Html.RenderAction("List", "News");
}
4861,java,Estou tentando manipular um arquivo em Byte com Java.
Na escrita do arquivo tenho o seguinte código:
FileOutputStream fos = new FileOutputStream("files\\Produtos.dat",true);
ObjectOutputStream oos = new ObjectOutputStream(fos);
oos.writeObject(P);
oos.close();
fos = new FileOutputStream("files\\Produtos.dat",true);
oos = new ObjectOutputStream(fos);
oos.writeObject(P2);
oos.close();
fos = new FileOutputStream("files\\Produtos.dat",true);
oos = new ObjectOutputStream(fos);
oos.writeObject(P3);
oos.close();
Eu fechei o arquivo e abri de novo porque é o que o programa original vai fazer, vai gravar novos objetos indefinidas vezes.
O código de leitura é o seguinte, onde produtos é um ArrayList<Produto>:
produtos.add((Produto)ois.readObject());
produtos.add((Produto)ois.readObject());
produtos.add((Produto)ois.readObject());
Na execução desse código só é salvo o primeiro objeto. Por que isso acontece?
4868,javascript|php|jquery,Eu preciso fazer um drag-and-drop que se pareça como a imagem abaixo, que é o sistema que estou desenvolvendo.
Nos botões referentes a "1º Período", "2º Período" e demais, coloquei uma função que retorna as disciplinas referente ao período informado.
Exemplo de table http://associacaoeua.com.br/particular/img/horario.png
codigo  =
<td><type="button" onClick="disc('1');">1º Periodo</button></td>
Ativei o drag no retorno das disciplinas, portanto consigo arrastá-la até o dia e hora desejado com:
draggable="true" ondragover="allowDrop(event)"  ondragstart="drag(event)">
quando solto a disciplina em um determinado local consigo pegar o código (ID) dele
segue código que utilizei:
function drag(ev) {
revert:true,
ev.dataTransfer.setData("Text", ev.target.id);
}
function drop(ev) {
ev.preventDefault();
var data = ev.dataTransfer.getData("Text");
ev.target.appendChild(document.getElementById(data));
//o id da disciplina esta na variavel data.
alert(data);
//data é o ID
}
Eu consigo salvar no banco usando Ajax, o que não consigo é pegar o dia e a hora da aula. Apenas estou conseguindo pegar o ID da disciplina.
Assim que a disciplina for solta tenho que ter no
function drop(ev) {
*var id  : ja tenho.*
var dia : ex.. SEGUNDA.
var hora: ex.. 6:10 a 7:40
}
Como eu devo fazer isso?
4869,java,Se tenho um ArrayList<Integer> listInt por exemplo, suponhamos que nesse ArrayList tenham:
int a, int b, int c; //a = 2 b=3 c=4
e se depois eu trocar o valor de a, b e c por exemplo para a=1 b=2 c=3
Por eu ter trabalhado com os mesmos "objetos" armazenados no arraylist, quando eu acesso ele, obtenho os dados novos?
4876,java,Eu, que sou totalmente novo em Java , estou tentando compilar um projeto "Hello, World!" . Eu segui algumas etapas desse tópico do Stack Overflow em inglês. Eu segui todos os passos, mas quando vou abrir meu jar, dá erro. Eu o abri, e ví que era culpa do manifesto. Eu procurei, mas até agora não achei nenhuma maneira de adicionar a classe principal no manifesto. O que eu devo fazer?
4878,java,Tenho uma classe para gerar relatório e outra para verificar e-mail em uma aplicação, deveria deixá-la como static? A classe de e-mail é para checar o e-mail em determinado período ou quando o usuário solicitar.
4885,c#,Estava experimentando com o conceito de throttling e surgiram algumas dúvidas
1ª parte: Como traduzir numa única palavra este conceito?
2ª parte: Há alguma biblioteca que tenha uma implementação simples disso?
a minha tentativa pode ser encontrada em github.com/pitermarx/Throttler
4886,java,É uma pergunta bem iniciante (sou novo em Java, vim do C++). Tenho que fazer um programa que pega 4 notas de 10 alunos, mas quando vou mexer com os "ponteiros" (arrays), o meu programa devolve uma exception:
import java.util.Scanner;
class Aluno
{
public int[] nota;
}
class Nota
{
private Aluno[] aluno;
private int totalAlunos;
private int NumeroNotas;
public Nota(int numero_alunos, int numero_notas)
{
this.totalAlunos = numero_alunos;
this.NumeroNotas = numero_notas;
this.aluno = new Aluno[numero_alunos];
for(int i = 0; i < totalAlunos; i++)
{
this.aluno = new Aluno[numero_notas];
}
for(int numero_de_alunos = 0; numero_de_alunos < numero_alunos; numero_de_alunos++)
{
System.out.print("Aluno " + (numero_de_alunos+1) + ":\n");
Scanner Scan = new Scanner(System.in);
for(int i = 0; i < NumeroNotas; i++)
{
System.out.print("Digite a nota número " + (i+1) + ": ");
this.aluno[numero_de_alunos].nota[i] = Scan.nextInt();
System.out.print("\n");
}
}
}
public int PegarMedia(int NumeroAluno)
{
int stack = 0;
for(int i = 0; i < NumeroNotas; i++)
{
stack += this.aluno[NumeroAluno].nota[i];
}
return stack / NumeroNotas;
}
public void MostrarMedia()
{
for(int i = 0; i < totalAlunos; i++)
{
System.out.print("Media do aluno " + i + ":");
System.out.print(PegarMedia(i) + "\n");
}
System.out.print("\n");
}
}
//Fim das classes
class Test
{
public static void main(String args[])
{
Nota notas = new Nota(10,4);
notas.MostrarMedia();
}
}
Devolve:
run: Aluno 1: Exception in thread "main"
java.lang.NullPointerException Digite a nota número 1:    at
Nota.(Test.java:28)     at Test.main(Test.java:59) Java Result: 1
O que eu estou fazendo errado? O que eu devo fazer?
4889,javascript|jquery,Eu uso um CMS chamado uCoz e ele tem uma variável <?$RELATED_ENTRIES$(5)?> que exibe postagens relacionadas a da página que meu visitante lendo. Eu gostaria de colocar os linques relacionados entre o texto da postagem, mas não funciona por regra do sistema CMS, que não tem o root dos scripts aberto.
A solução que encontrei foi criar um <div class="related"></div> e inserir o conteúdo que a variável <?$RELATED_ENTRIES$(5)?> gerar usando jQuery. Mas no Javascript as aspas duplas tem que colocar \ (barra inversa) antes e o código gerado não tem esta \ (barra inversa)
O código que a variável gera é assim
<ul class="uRelatedEntries">
<li class="uRelatedEntry"><a href="/link#1">Lorem Ipsum</a></li>
<li class="uRelatedEntry"><a href="/link#2">Lorem Ipsum</a></li>
<li class="uRelatedEntry"><a href="/link#3">Lorem Ipsum</a></li>
</ul>
Só que o HTML é compacto em um linha só.
4897,javascript,Existe mais de uma maneira de fazer um eval() no javascript, problema é que ele pode ser um perigo para o usuário se mal utilizado.
Internamente alguns outros métodos também fazem eval, por exemplo o setTimeout() que se colocado no argumento do callback uma string ele vai aplicar um eval.
Quais são as formas de aplicar eval no Javascript?
Complementar ao assunto, achei esta pergunta que visa as implicações
do uso do eval.
4898,java,Eu estou fazendo um chat HelpDesk projeto com JSF 2.0 e Primefaces, mas é gerado um erro quando tento conectar o Attendant ou usuário no chat.
Em atendente.xhtml e index.xhtml tem um formulário que envia as informações para um AtendenteBean.java e UsuarioBean.java, respectivamente.
Atendente.jsp:
<p:panel header="Login do Atendente" rendered="#{not atendenteMB.autenticado}">
<h:outputLabel for="txtNome" value="Login:"/>
<br/>
<h:inputText id="txtNome" value="#{atendenteMB.atendente.login}"/>
<br/>
<h:outputLabel for="txtSenha" value="Senha:"/>
<br/>
<h:inputSecret id="txtSenha" value="#{atendenteMB.atendente.senha}"/>
<br/>
<h:commandButton action="#{atendenteMB.signIn}" value="Entrar"/>
<br/>
</p:panel>
AtendenteBean.java:
@ManagedBean(name="atendenteMB")
@SessionScoped
public class AtendenteBean implements Serializable{
public AtendenteBean(){
}
private static final long serialVersionUID = 1L;
@ManagedProperty(value="#{localizadorMB}")
private LocalizadorBean gerenciarLocalizador;
@ManagedProperty(value="#{chatMB}")
private ChatBean chat;
private Atendente atendente = new Atendente();
private boolean autenticado;
public void signIn(){
if(atendente.getLogin().equals(atendente.getSenha())){
gerenciarLocalizador.getGerenciador().addAtendente(atendente);
setAutenticado(true);
}
else{
FacesMessage msgm = new FacesMessage("Login ou Senha inválidos.");
FacesContext.getCurrentInstance().addMessage(null, msgm);
}
}
Erro gerado quando clico no botão Enviar.
HTTP Status 500 - java.lang.NullPointerException
type Exception report
message
---
java.lang.NullPointerException
description
---
The server encountered an internal error that prevented it from fulfilling this request.
exception
---
javax.servlet.ServletException: java.lang.NullPointerException
javax.faces.webapp.FacesServlet.service(FacesServlet.java:606)
org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
root cause
---
javax.faces.el.EvaluationException: java.lang.NullPointerException
javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpress    ionAdapter.java:101)
com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:101)
javax.faces.component.UICommand.broadcast(UICommand.java:315)
javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:786)
javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1251)
com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
root cause
---
java.lang.NullPointerException
managedbean.AtendenteBean.signIn(AtendenteBean.java:34)
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
java.lang.reflect.Method.invoke(Unknown Source)
org.apache.el.parser.AstValue.invoke(AstValue.java:278)
org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:274)
com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)
javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpress    ionAdapter.java:87)
com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:101)
javax.faces.component.UICommand.broadcast(UICommand.java:315)
javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:786)
javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1251)
com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)
com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)
javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)
org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
note The full stack trace of the root cause is available in the Apache Tomcat/7.0.47 logs.
Se precisarem de mais detalhes, é só comentar.
4907,javascript,Estou estudando JavaScript e tenho dúvidas quanto às diferentes formas de se fazer um if/ else. Por exemplo, isto:
foo ? foo : foo
Como exatamente funciona?
4913,java,O código abaixo gera um false, porém os objetos possuem os mesmos valores de atributos, existe algum método que compara os objetos, porém seus atributos, e não o objeto em si?
Produto P5 = new Produto(1, 0, 10,1000.0,"Samsung","smartphone");
Produto P6 = new Produto(1, 0, 10,1000.0,"Samsung","smartphone");
System.out.println(P5.equals(P6));
4923,java,Estou tendo um problema muito chato com um erro java.lang.NullPointerException e gostaria de saber se com o debug ele mostra qual elemento é null, ao invés de dizer somente em que linha está o erro.
4937,php,Configurei e instalei tudo com relação o CakePhp para usar via linha de comando no ubuntu. criei e salvei o seguinte:
class HelloShell extends AppShell {
public function main() {
$this->out('Hello world.');
}
}
Que é o código de exemplo deles. Mas quando executo via linha de comando é retornado esse erro, que não consegue carregar  a classe.
Ele fica em:
/home/ubuntu/cakephp/apps/almofadagram/Console/Command/HelloShell.php
E executo dali mesmo, mas como disse é retornado o erro:
Error: Class HelloShell could not be loaded.
4938,java,Estou a tentar salvar uma imagem cortada depois de o usuário fazer o upload da imagem. O upload funciona bem e eu posso salvar a imagem cortada também, mais está a acontecer algo estranho. A imagem só é cortada e salvada se eu colocar o caminho da imagem diretamente no atributo image do componente imageCropper, algo como isso:
<p:imageCropper value="#{imageCropperBean.croppedImage}" image="/imagens/prof/imageName.jpg" initialCoords="225,75,300,125" id="imageCropper"/>
Se eu tentar pegar o nome da imagem(Eu pego o nome da imagem quando eu faço o upload) do meu managed bean o imageCropper não funciona, algo como isso:
<p:imageCropper value="#{imageCropperBean.croppedImage}" image="/imagens/prof/#{imageCropperBean.currentImageName}" initialCoords="225,75,300,125" id="imageCropper"/>
Aqui está o meu código:
uploadImageCropper.xhtml
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://primefaces.org/ui">
<h:head>
<title>Image upload with crop</title>
</h:head>
<h:body>
<h:form enctype="multipart/form-data">
<p:fileUpload fileUploadListener="#{imageCropperBean.fileUploadAction}" update="imageCropper" />
<h:panelGrid columns="2">
<p:imageCropper value="#{imageCropperBean.croppedImage}" image="/imagens/prof/#{imageCropperBean.currentImageName}" initialCoords="225,75,300,125" id="imageCropper"/>
<p:graphicImage id="localCroppedImage" value="/imagens/prof/#{imageCropperBean.newImageName}.jpg" />
</h:panelGrid>
<p:commandButton value="Crop" action="#{imageCropperBean.crop}" update="localCroppedImage"/>
</h:form>
</h:body>
ImageCropperBean.java
@ManagedBean
@RequestScoped
public class ImageCropperBean {
private CroppedImage croppedImage;
private String currentImageName;
private String newImageName;
public ImageCropperBean() {
setCurrentImageName("no_image.jpg");
}
public void fileUploadAction(FileUploadEvent event) {
try {
ExternalContext externalContext = FacesContext.getCurrentInstance().getExternalContext();
HttpServletResponse response = (HttpServletResponse) externalContext.getResponse();
FacesContext aFacesContext = FacesContext.getCurrentInstance();
ServletContext context = (ServletContext) aFacesContext.getExternalContext().getContext();
String realPath = context.getRealPath("/");
File file = new File(realPath + "/imagens/prof/");
file.mkdirs();
byte[] arquivo = event.getFile().getContents();
String caminho = realPath + "/imagens/prof/" + event.getFile().getFileName();
setCurrentImageName(event.getFile().getFileName());
FileOutputStream fos = new FileOutputStream(caminho);
fos.write(arquivo);
fos.close();
} catch (Exception ex) {
System.out.println("Erro no upload de imagem" + ex);
}
}
public String crop() {
if(croppedImage == null)
return null;
setNewImageName(getRandomImageName());
ServletContext servletContext = (ServletContext) FacesContext.getCurrentInstance().getExternalContext().getContext();
String newFileName = servletContext.getRealPath("") + File.separator + "imagens" + File.separator + "prof" + File.separator + getNewImageName() + ".jpg";
FileImageOutputStream imageOutput;
try {
imageOutput = new FileImageOutputStream(new File(newFileName));
imageOutput.write(croppedImage.getBytes(), 0, croppedImage.getBytes().length);
imageOutput.close();
} catch (FileNotFoundException e) {
e.printStackTrace();
} catch (IOException e) {
e.printStackTrace();
}
return null;
}
public String getRandomImageName() {
int i = (int) (Math.random() * 100000);
return String.valueOf(i);
}
//getter and setters
}
4940,javascript,Para JavaScript e NodeJS, existem n bibliotecas que no estilo Cron robustas, a exemplo de node-cron. Porém elas são complexas demais para situações simples, são pesadas para baixar no navegador ou exigem uma dependência adicional em NodeJS, o que as torna inviável em casos mais simples.
Quero criar uma função que possa:
Aceitar o segundo, minuto e hora em que a rotina está pronta para fornecer dados novos.
Checar que horas são agora no cliente, e agendar o início do setInterval para a primeira oportunidade em que o servidor tiver dados novos.
Definir o intervalo de setInterval como exatamente o período entre as atualizações do servidor.
Rodar em ambiente NodeJS e navegadores modernos e no IE8. Caso não saiba testar no NodeJS, eu testo para você.
Não deve existir qualquer dependência adicional. Sem jQuery ou package de NodeJS.
O código deve aceitar um parametro de intervalo do tipo tentar novamente em x segundos, e passar um callback para função executada de modo que se ela retornar exatamente false, tentará esse novamente até retornar true ou chegar no horário da próxima execução padrão. Considera que o servidor pode falhar e retornar sempre erro, mas o cliente deve evitar sobrepor tentativas adicionais!
Exemplo de uso real
O código abaixo é responsável por sincronizar uma tabela de um banco de dados com o navegador ou task NodeJS executada
/**
* Sincroniza o cliente com dados do banco de dados. Caso os dados sejam
* diferentes dos que o cliente já possuia antes, passa ao callback true
* do contrário, se percebeu que o servidor ainda não atualizou os dados
* retorna false
*
* @param   {Function} [cb]  Callback. Opcional
*/
function sincronizar(cb) {
var conseguiuSincronizar = false;
// Executa uma rotina de sincronização de dados
cb && cb(conseguiuSincronizar);
}
Porém, o banco de dados só é atualizado uma vez a cada 15 minutos, isto é, nos minutos 0, 15, 30, 45 de hora.
Como salvar em banco de dados pode consumir algum tempo, essa rotina teria que rodar a cada 15min e alguns segundos de delay, por exemplo, a cada 15min5s.
O problema ao usar setInterval é que colocar para atualizar a cada 15min, corre o risco de quando o navegador ou a tarefa NodeJS é inicializada, haja um delay entre o tempo em que cliente poderia obter uma informação nova e o tempo em que ela está disponível. Definir setInterval em um período menor que 15min causaria perda de dados.
Bootstrap
Segue abaixo um bootstrap de como poderia ser feito o exemplo mais simples.
function cron (cb, s, m, h) {
var start = 0, interval = 0;
/* Logica para calculo de start e interval aqui */
setTimeout(function () {
setInterval(cb, interval);
}, start);
}
4943,php,Sei das diferenças do echo ou print, mas em um projeto real em PHP qual é o mais indicado a se usar? Ou simplesmente tanto faz?
4948,php,Estou criando uma função bbcode para um blog que estou fazendo e queria saber se é possível (e seguro) eu inserir códigos Javascript dentro do meu banco de dados.
Estou trabalhando com MySql.
Outra questão, não consigo inserir aspas simples (que estão dentro do textarea) dentro do banco de dados.
Esse é o código que estou usando para inserção
$sql="INSERT INTO artigo values";
$sql.="('null','".$titulo."','".$mensagem."', NOW())";
4955,php,Estou tentando tratar uma string com a função str_replace porém eu queria inserir um <span> antes antes do da palavra tratada, como no exemplo abaixo:
$entrada = array("//");
$tratamento   = array("<span class='comentario'>//</span>");
$saida = str_replace($entrada, $tratamento, $mensagem);
Minha dúvida:
É possível fazer isso com a função str_replace, ou apenas com expressões regulares, se for somente com ER's gostaria que, por favor, me dessem exemplos.
Queria que após fazer isso me retornasse algo do tipo:
<span class='comentario'>//</span>
Valeu Galera!
4957,php,Estou tentando fazer uma conexão com o banco por PDO, mas toda vez que tento fazer essa conexão, aparece a mensagem:
could not find driver
Fui atrás pra saber e fiquei sabendo que tinha que habilitar o PDO no php.ini. Ok, fui lá e tirei a ; da onde precisava, mas mesmo assim ainda aparece a mensagem.
Meu código é esse:
<?php
try{
// Faz conexão com banco de daddos
$pdo = new PDO("
mysql:host=localhost;
dbname=servidores;",
"root",
"root");
}catch(PDOException $e){
// Caso ocorra algum erro na conexão com o banco, exibe a mensagem
echo 'Falha ao conectar no banco de dados: '.$e->getMessage();
die;
}
?>
Alguém sabe o que pode ser?
4964,java,Já gerei o arquivo jar pelo Netbeans, mas não estou conseguindo fazer a execução do programa pelo prompt de comando.
Qual o comando para executá-lo em ambiente Windows?
4977,java,É possivel atribuir e ao mesmo tempo realizar uma comparação em uma cláusula if em Java?
Por exemplo:
String linha = leitor.readLine();
String saida = "";
if (linha = leitor.readLine()) {
saida += "\n";
}
Isso não parece funcionar.
Como eu faria?
4992,javascript,Queria saber como é o nome desse 'efeito' ('-') que serve para selecionar pastas e arquivos no Windows Explorer.
E se possível queria saber como fazer isso com JavaScript puro.
5007,c#,Tenho uma DLL escrita em C# e não consigo registra-la utilizando o Inno Setup.
Um exemplo de como executar esse processo seria útil.
5010,c#,É possível limitar a quantidade de caracteres por linha de uma textbox multiline usando Windows Forms C# e .Net 3.5?
5017,java,Quando uso o ObjectOutpuStream para gravar em arquivo, os atributos da classe pai também serão gravados?
5021,c#,Estou utilizando o Visual Studio 2010 percebi que quando a lista de parâmetros do construtor é muito grande e não cabe na tela o Visual Studio não exibe mais a lista de parâmetros do construtor. É possível configurá-lo para que exiba todos sem distinção?
5035,javascript|java,Estou tentando implementar um gráfico de barra/coluna utilizando a ferramenta própria do amCharts que utiliza o XML, mas não estou conseguindo editá-lo para ficar com uma barra específica. Qual seria solução mais simples para implementação usando o amCharts?
5036,php,Possuo um projeto Symfony2 que gera um PDF a partir de um HTML com o bundle KnpSnappyBundle, que tem como dependência o bundle KnpSnappy e que, por sua vez, faz a abstração com o executável wkhtmltopdf.
Esse binário é executado com os devidos parâmetros por meio da função proc_open do PHP conforme linha abaixo:
$process = proc_open($this->command, $descriptorspec, $pipes, null, $this->env);
Nos testes que fiz, notei que o processo fica preso ao processo do Apache. Logo, se o servidor estiver sobrecarregado, a resposta do Apache pode demorar muito, o que não é uma opção.
Trocar a função também ou a funcionalidade do bundle também não é uma opção. As únicas coisas que posso fazer são modificar os parâmetros da função proc_open de modo que o processo não fique preso ao Apache – isso se essa opção existir.
Alguém já fez algo do tipo ou conhece algum workaround?
5049,jquery,Quando click em "colocar", o campo é preenchido com a informação "mudou", mas, quando isso acontece, o Próximo change não identifica essa mudança.
Na prática isso não funciona, como posso fazer isso funcionar?
HTML
<button id="botao">Colocar</button>
<input id="campo">
jQuery
$('#botao').click(function(){
$('#campo').val('mudou');
})
$('#campo').change(function() {
alert('mudou mesmo');
});
http://jsfiddle.net/yLcap/2/
5052,javascript,No C# existe um operador ?? que serve para fazer coalescência nula, usada seguindo a sintaxe:
var valor = valorAnulável ?? valorPadrão;
Onde:
valorAnulável é um valor qualquer inclusive nulo
valorPadrão é um valor qualquer, geralmente não é nulo
O operador retorna o valorAnulável se ele não for nulo, e se ele for nulo, retorna o valorPadrão. É o mesmo que dizer:
var valor = valorAnulável != null ? valorAnulável : valorPadrão;
Existe algo parecido com isso no Javascript?
5083,c#,Estou com uma lista de objetos e quero ordenar a lista por uma das propriedades (Desc do tipo string), como faço isso?
public class Foo
{
public string Desc { get; set; }
// Várias outras propriedades
}
public class Program
{
static void Main()
{
List<Foo> objetos = Program.PreencheObjetos();
objetos.Sort();
}
public static List<Foo> PreencheObjetos()
{
// Retorna uma lista preenchida.
}
}
Não consegui utilizar o Sort para fazer isso.
5086,php,No CodeIgniter existe a possibilidade de criar regras (rules) de validação para cada campo do formulário, porém o que eu preciso é uma validação entre dois campos. Explico:
O formulário possui um campo chamado url que só é obrigatório caso a flag correspondente estiver selecionada.
5093,php,$sql = ("SELECT nome, datas FROM tabelas WHERE datediff(now(), data) <= 10 ");
$validade = mysql_query($sql);
while....
(codigo phpmailer)
// corpo da mensagem
$PHPMailer->Body = "<p>Faltam 10 dias ou menos para terminar a data do Documento  ".$Nome."</p>";
Necessito que na mensagem ele me mostre o Nome e a data que está com menos de 10 dias para terminar que está inserido na BD.
Tentei testar só com o nome e também não funciona.
$PHPMailer->Body = "<p>Faltam 10 dias ou menos para terminar a data do Documento ".$Nome."</p>";
5096,java,Estou recebendo um erro ao tentar fazer deploy da minha aplicação no Wildfly 8:
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011445: Failed to get adapter for persistence provider 'org.hibernate.jpa.HibernatePersistenceProvider'
Meu persistence.xml :
<persistence-unit name="budget-ds" transaction-type="RESOURCE_LOCAL">
<provider>org.hibernate.jpa.HibernatePersistenceProvider</provider>
<jta-data-source>java:jboss/budget-ds</jta-data-source>
<properties>
<property name="jboss.as.jpa.providerModule" value="org.hibernate"/>
<property name="jboss.as.jpa.adapterModule" value="org.jboss.as.jpa.hibernate:4"/>
<property name="hibernate.dialect" value="org.hibernate.dialect.MySQL5InnoDBDialect" />
<property name="hibernate.show_sql" value="true" />
<property name="hibernate.format_sql" value="true" />
<property name="hibernate.hbm2ddl.auto" value="update" />
</properties>
</persistence-unit>
Estou usando MySQL 5.5, Hibernate 4.1 e Wildfly 8.
Alguém sabe a causa do erro, e como resolvê-lo?
5097,php,Estou desenvolvendo um web service com NuSOAP no Laravel 4.
A classe que eu estou usando é a https://github.com/noiselabs/NoiselabsNuSOAPBundle
Server
Route::any('ws/server', function()
{
$server = new \soap_server;
$server->configureWSDL('server.hello','urn:server.hello', Request::url());
$server->wsdl->schemaTargetNamespace = 'urn:server.hello';
$server->register('hello',
array('name' => 'xsd:string'),
array('return' => 'xsd:string'),
'urn:server.hello',
'urn:server.hello#hello',
'rpc',
'encoded',
'Retorna o nome'
);
function hello($name)
{
return 'Hello '.$name;
}
$HTTP_RAW_POST_DATA = isset($HTTP_RAW_POST_DATA) ? $HTTP_RAW_POST_DATA : '';
return Response::make($server->service($HTTP_RAW_POST_DATA), 200, array('Content-Type' => 'text/xml; charset=ISO-8859-1'));
});
Cliente
Route::get('ws/client/hello', function()
{
$client = new \nusoap_client('http://localhost/teste_laravel/public/ws/server?wsdl', true);
$err = $client->getError();
if ($err)
{
echo "Erro no construtor<pre>".$err."</pre>";
}
$result = $client->call('hello',array('Renato'));
if ($client->fault)
{
echo "Falha<pre>".print_r($result)."</pre>";
}
else
{
$err = $client->getError();
if ($err)
{
echo "Erro<pre>".print_r($err)."</pre>";
}
else
{
print_r($result);
}
}
});
No retorno tá trazendo esse erro.
Array ( [faultcode] => SOAP-ENV:Client [faultactor] => [faultstring] => error in msg parsing: xml was empty, didn't parse! [detail] => ) Falha 1
Quando faço o server com PHP puro e o cliente com Laravel da certo.
5099,c#,Gostaria de saber por que usar o tipo de dado Bytes ao invés de usar o próprio Image. Se o banco de dados SQL Server possuí o tipo de dado Image, logo deverá ser mais fácil e prático a inserção no modo Image certo?
Gostaria de um exemplo de como pegar a imagem do formulário e salvar em um banco de dados SQL Server, e depois recupera-la para uma View.
5115,c#,Preciso fazer um upload de imagens para o meu banco de dados e usarei o tipo de dados como Bytes no banco SQL Server.
Como garanto que realmente seria uma imagem que estará passando para ele? Quero deixar liberado apenas para arquivos .jpeg e .png. É possível fazer isto?
Como realizo a integração do input HTML para pegar o arquivo via C#?
5119,php,Estou a desenvolver um projeto de grandes dimensões com Laravel e preciso de validar os meus dados. Inicialmente tinha pensado usar o Ardent, mas este não é compatível/aconselhável para quem usa o padrão repositório.
Por isso vou ter que fazer as validações por serviços.
Aconselham algum pacote especifico?
5121,javascript,Em um mundo onde existem linguagens fortemente tipadas como C++, Java ou Pascal, por que ainda Javascript é usado, apesar de todas suas falhas (como ausência de escopo por bloco e facilidade exagerada de criação de variáveis globais)?
5127,javascript,Ex.: det([-1, -2, 3], [3, 3, 1], [-1, 2, -3]) // retorna 22
Ex.: det([1, 2], [2, 5]) // retorna 1
Ex.: det([8]) // retorna 8
5136,javascript,Preciso fazer algumas operações de substituição em massa com Javascript. Para o meu problema específico, vamos supor que preciso substituir uma substring específica. Preciso trocar cada ocorrência de "azul" por "verde".
Então, tenho duas formas de fazer:
var foo = pegaTexto(); // imagine que isso retorna uma string qualquer;
foo = foo.replace("azul", "verde");
Ou:
var foo = pegaTexto();
foo = foo.replace(new RegExp("azul"), "verde");
A meu ver, numa situação dessas, a única utilidade prática de se utilizar uma expressão regular seria para especificar uma flag (para dizer por exemplo se a busca deve ser global), mas no meu caso estou omitindo as flags do construtor  da expressão.
Tenho uma dúvida, no entanto, com relação a performance dessas duas formas distintas.
Forçar o uso de expressão regular provoca algum impacto na performance?
Como eu posso medir isso?
5137,javascript,Queria saber quando é obrigatório o uso de ponto e virgula no Javascript.
5152,php,Como seria uma forma de minimizar esse código de inserção de imagens no banco de dados?
//  controller/GaleriasController.php
public function addGaleria {
$galeria = new Galeria;
$galeria->descricao = "galeria 1";
$galeria->img1 = Input::file('img1');
$name = Input::file('img1')->getClientOriginalName();
Input::file('img1')->move('/arquivos', $name);
$galeria->img2 = Input::file('img2');
$name = Input::file('img2')->getClientOriginalName();
Input::file('img2')->move('/arquivos', $name);
$galeria->img3 = Input::file('img3');
$name = Input::file('img3')->getClientOriginalName();
Input::file('img3')->move('/arquivos', $name);
$galeria->save();
}
Tá salvando a imagem no banco de dados e no diretório corretamente, só que se eu tivesse 10 tabelas com 10 campos de imagens cada uma...
Eu já tentei criar um array de inserção só que não consegui :(
5156,php,Já tenho um sistema desenvolvido, usando várias tabelas no banco de dados.
Tenho que começar a migrar o mesmo para o inglês e espanhol.
A parte de desenvolvimento eu tenho uma ideia já (não total), mas não sei como deixar no banco de dados.
O que estou pensando em fazer:
Uma tabela de produtos, por exemplo, tenho os campos id e name. Estou pensando em alterar o campo name para name_pt e acrescentar mais dois campos: name_en e name_es.
Nesse caso vou ficar com a tabela com os seguintes campos: id, name_pt, name_en, name_es. Percebo que também irei ter que alterar no sistema para a entrada de dados para ter esses novos campos de input, fora alguns outros pontos.
Gostaria de saber se essa é uma forma correta ou se tem alguma outra melhor de se cuidar disso?
Não sei se interfere em algo, mas o sistema está sendo desenvolvido em PHP com CodeIgniter e MySql.
5160,javascript,Como posso calcular a idade de uma pessoa em Javascript a partir da data de nascimento?
Tentei algo do tipo:
function idade(dia, mes, ano) {
return new Date().getFullYear() - ano;
}
idade(11, 12, 1980); //  33
idade(15, 2, 2011);  // 2
idade(5, 31, 1993);  // 20
5169,c#,Tenho um projeto que lê um XML gerado por outro programa na qual eu não tenho acesso ao código fonte. O problema é que o XML gerado vem com um caractere especial no final, e quando vou tentar ler o XML a exception é lançada.
Segue o código:
XmlDocument xmlDoc = new XmlDocument();
try
{
xmlDoc.Load(localMontaXML);
}
catch (Exception ex)
{
erros.Add(ex.Message);
}
ErrorChecker.Check(erros);
Têm alguma forma de ignorar esse caractere?
Utilizo Windows Forms com .Net 3.5
5174,javascript|php,Preciso imprimir um texto que nao esteja necessariamente contido no documento html em uma impressora instalada no cliente, preciso abrir aquela janela pra selecionar impressoras e etc e enviar a impressão.
// EDIT
No caso a impressão seria enviada pra uma impressora de etiquetas termicas zebra que utiliza linguagem EPL, logo não posso enviar o documento html para a impressão.
5181,java,Estou fazendo um relatório que contem todos prestadores de serviço, e possui a seguinte hierarquia: Cidade -> Especialidade -> Prestador.
No ireport ficou o relatório principal que contem um subreport de cidade, dentro do subreport de cidade tem  um subreport de especialidades e dentro do especialidades tem um subreport de todos prestadores de serviço.
Meu problema é no report principal que precisa que cada página tenha o  nome da cidade e na lateral o nome da especialidade.
Passar informações do subreport para o relatório principal eu consigo, através de uma variável, só não consigo colocar no header pois ele é compilado antes da banda que está o subreport de cidades, e quando coloco em outra banda ele só mostra o nome da ultima cidade.
E colocar também o nome da especialidade na lateral do mesmo modo do nome da cidade.
O relatório tem um padrão a ser seguido, que é de acordo com um exemplo que eu fiz a seguir.
Exemplo
5196,jquery,Eu geralmente uso, porque aprendi que era o mais correto, a atribuição de eventos da seguinte forma:
$('seletor').on('click', function(){});
No entanto, vejo muitos desenvolvedores utilizando a seguinte sintaxe:
$('seletor').click(function (){});
Apesar de terem me falado que o .on é o mais recomendado, eu não entendi direito o porquê. Então, na prática, qual a diferença de usar um ou outro?
5202,php,Não achei nenhuma referência do que poderia ser o erro que exibe quando tento instalar um módulo do php (Php5-imagick)
root@SMSA443:~# apt-get -f install php5-imagick php5-cgi
Retorna a mensagem:
root@SMSA443:~# apt-get install php5-imagick
Lendo listas de pacotes... Pronto
Construindo árvore de dependências
Lendo informação de estado... Pronto
Os seguintes pacotes foram instalados automaticamente e já não são necessários:
libgd2-xpm liblua5.1-0 php5-cli
Use 'apt-get autoremove' para removê-los.
Os pacotes extra a seguir serão instalados:
fontconfig-config fonts-dejavu-core fonts-droid ghostscript gsfonts
imagemagick-common libapr1 libaprutil1 libaprutil1-dbd-sqlite3
libaprutil1-ldap libcups2 libcupsfilters1 libcupsimage2 libdb5.3 libedit2
libfontconfig1 libgd3 libgs9 libgs9-common libijs-0.35 libjasper1 libjbig0
libjbig2dec0 libjson-c2 liblcms2-2 liblqr-1-0 liblua5.1-0 libmagickcore5
libmagickwand5 libpaper-utils libpaper1 libtiff5 libvpx1 libxml2 lsof php5
php5-cgi php5-cli php5-common php5-curl php5-gd php5-imap php5-json
php5-mcrypt php5-ming php5-ps php5-pspell php5-recode php5-sqlite
php5-sybase php5-tidy php5-xmlrpc php5-xsl poppler-data ttf-dejavu-core
Pacotes sugeridos:
ghostscript-cups ghostscript-x hpijs cups-common libgd-tools
libjasper-runtime liblcms2-utils libmagickcore5-extra php-pear
php5-user-cache poppler-utils fonts-japanese-mincho fonts-ipafont-mincho
fonts-japanese-gothic fonts-ipafont-gothic fonts-arphic-ukai
fonts-arphic-uming fonts-unfonts-core
Pacotes recomendados:
php5-readline
Os pacotes a seguir serão REMOVIDOS:
libapache2-mod-php5
Os NOVOS pacotes a seguir serão instalados:
fonts-dejavu-core fonts-droid ghostscript gsfonts imagemagick-common
libcupsfilters1 libcupsimage2 libdb5.3 libgd3 libgs9 libgs9-common
libijs-0.35 libjasper1 libjbig0 libjbig2dec0 libjson-c2 liblcms2-2
liblqr-1-0 liblua5.1-0 libmagickcore5 libmagickwand5 libpaper-utils
libpaper1 libtiff5 libvpx1 lsof php5-cgi php5-imagick php5-json poppler-data
Os pacotes a seguir serão atualizados:
fontconfig-config libapr1 libaprutil1 libaprutil1-dbd-sqlite3
libaprutil1-ldap libcups2 libedit2 libfontconfig1 libxml2 php5 php5-cli
php5-common php5-curl php5-gd php5-imap php5-mcrypt php5-ming php5-ps
php5-pspell php5-recode php5-sqlite php5-sybase php5-tidy php5-xmlrpc
php5-xsl ttf-dejavu-core
26 pacotes atualizados, 30 pacotes novos instalados, 1 a serem removidos e 284 não atualizados.
É preciso baixar 0 B/26,6 MB de arquivos.
Depois desta operação, 63,1 MB adicionais de espaço em disco serão usados.
Você quer continuar [S/n]? S
E: Não foi possível proceder à configuração imediata em 'php5-cgi'. Para detalhes, por favor veja man 5 apt.conf em APT::Immediate-Configure. (2)
root@SMSA443:~#
Como informações adicionais, alguns procedimentos e informações que já coletei com a ajuda dos colaboradores.
root@XXXXXX:~# ls -la /
drwxrwxrwt 7 root root 4096 Fev 12 09:09 /tmp/
root@XXXXXX:~# mount | grep tmp
tmpfs on /lib/init/rw type tmpfs (rw,nosuid,mode=0755)
udev on /dev type tmpfs (rw,mode=0755)
tmpfs on /dev/shm type tmpfs (rw,nosuid,nodev)
root@XXXXXX:~# aptitude search libc | grep ^i
i libc6 - Embedded GNU C
root@XXXXX:~# aptitude search php | grep php5-cgi
pB php5-cgi - server-side, HTML-embedded scripting lang
root@XXXXXX:~# apt-get install libc6
Lendo listas de pacotes...
Pronto Construindo Ã¡rvore de dependÃªncias
Lendo informaÃ§Ã£o de estado...
Pronto libc6 jÃ¡ Ã© a versÃ£o mais nova.
0 pacotes atualizados, 0 pacotes novos instalados, 0 a serem removidos e 311 nÃ£o atualizados.
Já apaguei os arquivos de instalação do dpkg e quando executo retorna o mesmo erro.
Será que alguém já passou por alguma coisa parecida e pode me ajudar?
5206,javascript,Eu possuo inúmeros perfis e fan pages que devo controlar o conteúdo.
Entrar uma a uma dá um trabalho gigantesco. Por isso, estou fazendo esta aplicação para mostrar todos os posts por ordem de data, separados por perfil/fan page.
Através do Facebook Graph eu consigo resgatar os dados da tabela STREAM, porém estes não são suficientes para se montar o post completo (eu não encontrei os links, photos, etc, por exemplo).
Estou tentando receber o JSON via JSONP desta forma:
var fburl = "https://graph.facebook.com/xxxxxxxxx";
$.get(fburl, function(data){
console.log(data);
},'jsonp');
Porém, retorna message: "Unsupported get request.".
Qual a melhor forma de resolver esta situação?
5214,java,Estou tentando fazer um mock de um método static, porém o PowerMock obriga a utilização de um Runner (PowerMockRunner) específico para o mock static funcionar!
E para o Demoiselle funcionar é preciso iniciar o Weld com o DemoiselleRunner, mas a API do JUnit só aceita um único Runner.
@RunWith(PowerMockRunner.class) //DemoiselleRunner.class
@PrepareForTest(Fabrica.class)
public class MeuBCTest {
@Inject
private PrimeiroBC primeiroBC; //Não injeta com o PowerMockRunner
private SegundoBC segundoBC;
@Before
public void setUp() {
primeiroBC = Mockito.spy(primeiroBC);
segundoBC = Mockito.mock(SegundoBC.class);
}
@Test
public void testCamposObrigatoriosComSucesso() {
PowerMockito.mockStatic(Fabrica.class);
PowerMockito.when(Fabrica.createSegundoBC()).thenReturn(segundoBC);
primeiroBC.fazerAlgo(); //Internamente este método chama o Fabrica.createSegundoBC() para executar outra operação.
//verificações
}
}
Inicialmente pensei em criar meu próprio Runner estendendo do PowerMockRunner e adicionando o Weld como é feito no DemoiselleRunner.
Há alguma configuração no Demoiselle ou PowerMock para não precisar criar um outro Runner?
5230,java,Possuindo uma classe qualquer ClassA que possui um atributo value e que, dependendo do tipo de value eu precise executar uma operação de maneira diferente, como eu evitaria uma comparação bruta, como no exemplo a seguir:
public class Leitor()
{
public String lerTipoDoValor(ClassA a)
{
//quero verificar se é int ou Integer
if(a.getValue() instanceOf Integer.class)
{
//comandos
return "O VALOR E INTEIRO"
}
//quero verificar se é Double ou double
else if(a.getValue() instanceOf Double.class )
{
//comandos
return "O VALOR E DOUBLE"
}
else if(a.getValue() instanceOf String.class )
{
//comandos
return "O VALOR E STRING"
}
else if(a.getValue() instanceOf Boolean.class )
{
//comandos
return "O VALOR E BOOLEAN"
}
else if(a.getValue() instanceOf List.class )
{
//comandos
return "O VALOR E LIST"
}
//...
}
}
Eu quero considerar tanto tipo primitivo, quanto sua classe correspondente, como, por exemplor, int e Integer.
5238,javascript|jquery,Em um projeto meu, tenho dois campos configurados como datepicker (jQuery UI). Só o primeiro é editável (InitialDate). O segundo (FinalDate) deve ter o mesmo valor de InitialDate acrescido de um ano.
Se eu uso o seguinte código:
<script>
$(document).ready(function () {
$("#InitialDate").change(function () {
var d = $.datepicker.parseDate('dd/mm/yy', $(this).val());
d.setFullYear(d.getFullYear() + 1);
$('#FinalDate').datepicker('setDate', d);
});
});
</script>
o script soma errado. A data fica com cinco dias a menos.
Pesquisando, descobri que eu tenho que modificar o código para algo assim:
<script>
$(document).ready(function () {
$("#InitialDate").change(function () {
var d = $.datepicker.parseDate('dd/mm/yy', $(this).val());
var year = parseInt(1, 10);
d.setFullYear(d.getFullYear() + year);
$('#FinalDate').datepicker('setDate', d);
});
});
</script>
Por que?
5247,javascript|jquery,tenho o seguinte <select>:
<select id="multiselect" multiple="multiple">
<option value="pedra">Pedra</option>
<option value="papel">Papel</option>
<option value="tesoura">Tesoura</option>
</select>
Com o código Jquery abaixo, consigo obter o valor do último <option> selecionado:
<script type="text/javascript">
$(document).ready(function() {
$('#multiselect').multiselect();
$(document).on('change','#multiselect', function(){
console.log (( $('option', this).filter(':selected:last').val() ))
});
});
</script>
Porém, o que eu queria de verdade, era obter o valor do <option> clicado (sei que on('click', func..) não funcionará neste caso), independente se está sendo selecionado ou desselecionado.
Pesquisei bastante, mas o máximo que encontrei, foi como encontrar o valor do último selecionado.
O plugin utilizado é o Bootstrap-multiselect
5266,jquery,Tenho uma div que usa duas classes CSS.
Eis o HTML :
<div class="box1"></div>
<div class="box1 destaque"></div>
<div class="box2"></div>
<div class="box2 destaque"></div>
<div class="box3"></div>
Quero selecionar a div que tenha as classe box1 e destaque (no meu exemplo a segunda div) apenas.
O que já tentei :
Se faço : $('.box1') seleciono as duas divs com classe box1. Não é o que quero.
E se faço : $('.destaque') acabo selecionado uma div com box1 e outra com box2 (o que não quero)
Já tentei $('.box1 .destaque') mas não seleciona nada.
Então como devo montar o seletor jQuery para buscar as divs que usam as classes box1 e destaque?
5283,php,Estou desenvolvendo uma aplicação em PHP onde será feito importação de NF-e no formato XML. O problema é que o cliente irá fazer essa importação de múltiplos arquivos ao mesmo tempo, e terei que pegar os dados de cada arquivo e ir inserindo algumas informações na base de dados. Neste caso, avaliei o uploadify que por sua vez, existe uma versão em HTML5 que é pago, e outra versão free que renderiza na página em forma de swf.
Existe alguma outra biblioteca de upload de múltiplos arquivos em PHP que poderia resolver esse tipo de problema?
5285,c#,Estou reprogramando uma aplicação em C# para rodar no Windows CE, Porém, minha máquina tem pouca memória.
Por isso, preciso alocar a quantidade adequada de memória de processamento (program memory) e de armazenamento (storage memory).  Não posso alocar isso manualmente a cada reinicialização, então encontrei a função SetSystemMemoryDivision().
O código para alocar a memória é basicamente o seguinte:
//Confere se a memória está alocada corretamente
while (storage_page != 800)
{
//Seta a memória para 800 pages de 4096 bytes cada (4Kb * 800 = 3.200Kb)
storage_page = 800;
//Grava a memória setada
SetSystemMemoryDivision(storage_page);
Thread.Sleep(200);
//Lê a memória do sistema
GetSystemMemoryDivision(ref storage_page, ref ram_page, ref page_size);
}
chamamenu();
A função está funcionando em modo debug, mas sempre que reinicio a máquina e tento rodar o programa, o sistema trava.
Como posso garantir que a memória foi alocada antes de rodar qualquer outro processo que possa travar a máquina? É possível que a aplicação esteja alocando mais do que os 32mB disponíveis para RAM.
5290,java,Dado o seguinte código:
public class Musico {
public void tocaInstrumento() {
// faz algo
}
}
.
public class Baterista extends Musico {
public void giraBaqueta() {
// faz algo
}
}
.
public class Violonista extends Musico {
public void trocaCordas() {
}
}
Eu posso me valer do polimorfismo para fazer o seguinte:
Musico musico1 = new Violonista();
Musico musico2 = new Baterista();
musico1 = musico2;
Porém, eu não consigo enxergar os métodos da subclasse:
musico1.trocaCordas(); //ERRO DE COMPILAÇÃO!
Se eu utilizar:
Violonista musico1 = new Violonista();
Não seria melhor? Qual a vantagem em utilizar tipo Musico para referenciar um objeto de uma subclasse? Seria simplesmente a possibilidade de eu conseguir atribuir musico1 = musico2;, por exemplo? Ou há outras vantagens?
5300,javascript|jquery,Eu tenho uma classe em CSS que se chama .codigo. Eu queria que quando eu fosse usá-la, ela removesse a formatação HTML (exemplo: fazer que <font></font> apareça igual está aparecendo aqui no SO PT, usando o método .text()) e deixasse o span do mesmo estilo especificado pela classe. Como eu faço para interagir JS, jQuery e CSS?
5303,php,É o seguinte: o sistema que estou dando manutenção estava usando dois tipos de query (não me perguntem o porquê) e localmente (localhost) funcionam perfeitamente. Quando subi o projeto para o servidor, as querys declaradas assim:
<?php $sql = mysql_query("INSERT INTO entrada_produto (id_produto, descricao, qtde, valor_unitario, unidade, cd, data_entrada) VALUES ('{$id_produto}', '{$descricao}', '{$qtde}', '{$valor_unitario}', '{$unidade}', '{$cd}', now())") or die(); ?>
Não funcionam. Apresentam o seguinte erro:
Warning: mysql_query() [function.mysql-query]: Access denied for user.........
5314,php,A algum tempo precisei verificar se uma imagem externa existia para poder mostrá-la, naquele momento utilizei isso:
<?php
$file = 'http://pt.stackoverflow.com';
$file_headers = @get_headers($file);
$position = strpos($file_headers[0], "404");
if ($position == -1) {
echo "o site está online.";
}
?>
Gostaria de saber se existe alguma outra forma de se obter o mesmo resultado com php.
Eu não quero saber se a url é de fato uma url quero apenas saber se ela realmente existe.
5321,javascript,Informações: Gostaria de saber como fazer para realizar um Agendamento de um evento, ou seja uma funçao qualquer que eu passaria como parâmetro, que executaria tal dia/mês/ano tal hora:minuto que eu também passaria como parâmetro.
Exemplo:
agendar('12/02/2014', '14:55', function() { alert("Está na hora!"); });
Apareceria um alerta dizendo "Está na hora!" quando chegar no dia 12/02/2014 no momento 14:55.
Tem como fazer isso em Javascript?
5327,javascript|jquery,Java tem o Javadoc, PHP tem PHPDoc e outras linguagens, tem padrões de documentação. Qual padrão mais usado para documentar javascript, já integrado a IDEs, de modo que ao usar funções, ele auto-complete o código e haja um meio de gerar documentação automática tendo como base unicamente documentação do código?
Como exibir documentação de bibliotecas de terceiros, como jQuery?
5335,php,Estou precisando fazer uma comparações entre três variáveis no meu código PHP.
if($a == $b == $c) {
return true;
} else {
return false;
}
Tenho muitas ideias de como fazer isso, mas quero saber qual a melhor maneira de conseguir esse resultado.
5342,javascript,Não estou conseguindo passar uma string no formato JSON para um controller do CodeIgniter via AJAX.
A string JSON:
var avaliacao= {"avaliacao":[{"pergunta":"Qual sua idade?"}[{"resposta_certa":"99","resposta_err1":"11","resposta_err2":"15",
"resposta_err3":"14","resposta_err4":"27"}]]}
O JS:
var controller = 'endereco/controller';
var base_url = 'dominio/do/site';
function grava_avaliacao(){
jQuery.ajax({
url : base_url + '/' + controller + '/add',
type : 'POST',
data : avaliacao,
dataType: 'json',
success : function(data){
alert(data);
}
});
}
O controller:
public function add(){
var_dump(json_decode($this->input->post('avaliacao')));
}
5343,java,Estou tentando subir uma aplicação feita em GWT 2.4 no Eclipse Kepler (4.3), usando o Google Plugin for Eclipse.
Ao usar a opção Run As > Web Application, recebo imediatamente no log o erro abaixo:
Starting Jetty on port 8888
[WARN] Failed startup of context com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload@19c0705{/,E:\projetos\_workspace\paymentmonitor\target\paymentmonitor-1.0-SNAPSHOT}
javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial
at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:645)
at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:288)
at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:325)
at javax.naming.InitialContext.lookup(InitialContext.java:392)
at org.mortbay.jetty.plus.webapp.EnvConfiguration.createEnvContext(EnvConfiguration.java:57)
at org.mortbay.jetty.plus.webapp.EnvConfiguration.configureDefaults(EnvConfiguration.java:101)
at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1231)
at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:517)
at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:468)
at com.google.gwt.dev.shell.jetty.JettyLauncher$WebAppContextWithReload.doStart(JettyLauncher.java:468)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.handler.RequestLogHandler.doStart(RequestLogHandler.java:115)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
at org.mortbay.jetty.handler.HandlerWrapper.doStart(HandlerWrapper.java:130)
at org.mortbay.jetty.Server.doStart(Server.java:224)
at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:50)
at com.google.gwt.dev.shell.jetty.JettyLauncher.start(JettyLauncher.java:672)
at com.google.gwt.dev.DevMode.doStartUpServer(DevMode.java:509)
at com.google.gwt.dev.DevModeBase.startUp(DevModeBase.java:1068)
at com.google.gwt.dev.DevModeBase.run(DevModeBase.java:811)
at com.google.gwt.dev.DevMode.main(DevMode.java:311)
5360,php,Tenho lido sobre o cache de opcode do PHP, o APC. A maioria dos materiais que achei para ler, apesar de bons, somente explicam a instalação/utilização das funções do APC.
O que gostaria de saber é:
Até que ponto é interessante usar o APC?
É recomendável usar o APC com objetos?
Exemplo:
<?php
class Test
{
private $someAttribute;
public function __construct( $someAttribute )
{
$this->someAttribute = $someAttribute;
}
public function getSomeAttribute()
{
return $this->someAttribute;
}
}
if ( !apc_exists( 'test' ) ) {
$data = new Test( 'testing...' );
apc_add( 'test', $data, 120 );
} else {
$data = apc_fetch( 'test' );
}
Imaginando que eu possa criar mais de uma instancia do meu objeto, como por exemplo, para persistir os dados em métodos de update(), insert(), etc,
isso "mataria" a ideia do cache neste exemplo?
Estou confuso com a utilização do APC;
5371,javascript|jquery,Descobri a pouco tempo e achei bem interessante a função toggle usando funções:
$('body').toggle(
function(){
alert('A')
}, function(){
alert('B')
}
);
(No exemplo eu coloquei só 2 funções, eu queria com várias)
Tentei fazer em javascript mais não consegui (até olhei no código do jquery, mas lá é muito complicado).
Explicação:
Já que a função toggle não vai usar elementos do DOM, ele poderia funcionar por meio de strings:
toggle('D', fn, fn, fn);
assim toda vez que D for mencionado no arguments[0] ele vai executar uma função por vez do array D (D é uma array de funções), caso não existir D ele cria uma nova array com as funções passadas para o toggle() e vai funcionando normalmente. (No jQuery eles fazem isso com data nos elementos).
5393,c#,Estou desenvolvendo uma aplicação em MVC 3, utilizando C# para as Models e Controllers e Razor com HTML para as Views.
Eu quero implementar a autenticação e permissão de usuários ao sistema.
Como posso fazer isso utilizando os recursos que o MVC disponibiliza para controle de usuários?(Se é que existe).
Tem como fazer?
5406,php,Tenho um grande formulário que realiza update e insert em vários pontos quando submetido. Entretanto, se no intervalo de tempo desse processo o usuário pressionar F5, ele duplica o registro de inserção o número de vezes que ele apertar a tecla.
Utilizo: PHP com CodeIgniter, MySQL com Lumine.
5419,php,Estou aprendendo a trabalhar com o vagrant, já criei a VirtualMachine, fiz os provisionamentos, o projeto rodou perfeitamente.
Mas quando entro via ssh na VirtualMachine para rodar um script php, que roda via shell, está apresentando erro de conexão com o mysql.
"cdbconnection failed to open the db connection: could not find driver"
Utilizo o framework yii. Outra coisa é quando rodo o vagrant reload perco o acesso ao servidor web remotamente.
5425,java,Tenho um sistema que serve a vários clientes e que envia e-mails a seus usuários (clientes dos meus clientes).
Hoje eu uso uma conta de e-mail própria (do meu domínio), e na composição do e-mail eu informo o nome e e-mail do cliente.
Com isso, tenho dois problemas:
Estes e-mails vão para a caixa de spam.
O destinatário não pode
responder o e-mail, pois ele não irá para o remetente indicado, e
sim a minha conta.
Qual seria a melhor forma de enviar estes e-mails? Obrigo o cliente a configurar uma conta de e-mail própria (correndo o risco de estourar seu limite de envio diário)?
Obs: Envio o e-mail usando javax.mail
5432,c#,Estou desenvolvendo uma aplicação web em MVC com C#.
Eu fiz um método que faz um select no meu banco oracle e com o valor retornado eu preencho um DataTable.
Porém ele retorna um erro no momento em que executo o "dataAdapter.Fill(resultado)" retornando o erro:
OCI-22053: erro de overflow.
Alguém sabe me dizer o motivo deste erro?
Segue código do método:
public DataTable ResgataArquivos()
{
var resultado = new DataTable();
myConnection.ConectarBanco(modelLogin);
var query = "SELECT * FROM ARQUIVO";
var command = new OracleCommand(query, myConnection.connection);
var dataAdapter = new OracleDataAdapter(command);
dataAdapter.Fill(resultado);
myConnection.FecharConexaoBanco();
return resultado;
}
5434,javascript|c#|jquery,Como consumir um Web Service por javascript utilizando o Visual Studio?
Dei uma pesquisada e encontrei um modo de realizar com Jquery porém nunca utilizei este antes.
Necessito consumir este Web Service para buscar informações como Endereços etc. Já possuo o mesmo.
5447,javascript,Qual é a melhor maneira de fazer o método "filter" como o da jQuery ou Zepto em javascript puro?
Eu quero implementar esse método na minha biblioteca: https://github.com/acauamontiel/mantis-js/blob/master/src/traversing.js#L3
HTML
<p>Lorem Ipsum</p>
<p class="middle">Lorem Ipsum</p>
<p class="middle">Lorem Ipsum</p>
<p>Lorem Ipsum</p>
JS
$('p').filter('.middle'); // Retorna somente o "p" que tiver a classe "middle"
5455,c#,Como salvar imagens em repositório e recuperá-la através de um Path com Asp.Net MVC?
Pesquisando em alguns lugares, verifiquei que salvar imagens diretamente no banco de dados pode ter uma perda significativa de performance na aplicação.
5466,java,Eu estou precisando pegar todas as classes de um determinado package, eu vi alguns códigos que fazem isso, porém, só pega as classes que fazem parte do projeto em si, basicamente não utiliza reflection e sim faz uma busca por arquivos .class no diretório, no meu caso, eu preciso pegar os .class de um jar que faz parte do meu projeto.
Algo como:
List<Class> clazz = ReflectionUtil.getClassFromPackage("org.springframework.util");
List<Class> clazz = ReflectionUtil.getClassFromPackage("com.meuprojeto.meupacotebase");
Eu já tentei:
http://mike.shannonandmike.net/2009/09/02/java-reflecting-to-get-all-classes-in-a-package/
https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package
https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection
https://stackoverflow.com/questions/520328/can-you-find-all-classes-in-a-package-using-reflection
Falaram dessa biblioteca http://github.com/ronmamo/reflections
mas tem o seguinte código:
Reflections reflections = new Reflections("my.project");
Set<Class<? extends SomeType>> subTypes = reflections.getSubTypesOf(SomeType.class);
Ora, eu preciso pegar a lista de classes, eu não quero especificar o tipo de classe que preciso
Eu penso que isso seria ou deveria ser básico com o reflection do Java.
5477,javascript,Preciso criar uma máscara para um input de telefone somente com JavaScript (não posso usar jQuery). Como posso fazer?
5489,javascript|jquery,Estou utilizando o plugin JqPlot para gerar um gráfico de barras e colunas. Após efetuar os testes no Mozilla e no Chrome, que funcionou perfeitamente, realizei o teste no IE7 e no IE8 e obtive o seguinte erro:
window.g_vmlcanvasmanager is null or not an object.
Alguém sabe me dizer por quê? Pois importei todas as bibliotecas necessárias, inclusive as do Canvas.
5495,javascript|jquery,Preciso criar um Embedded Post em uma página por meio de um evento Click. Estou utilizando a seguinte função:
<body>
<div id="fb-root"></div>
<div id="myDiv"></div>
<div id="myDiv2"></div>
<script>
(function(d, s, id){
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) {return;}
js = d.createElement(s);
js.id = id;
js.src = "//connect.facebook.net/pt_BR/all.js";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>
<div class="fb-post" data-href="https://www.facebook.com/michael/posts/046153"></div>
<script>
$(document).ready(function(){
myLink = "https://www.facebook.com/michael/posts/045847";
var embPost = '<div class="fb-post" data-href="' + myLink + '"></div>';
$("#myDiv2").append(embPost);
myLink = "https://www.facebook.com/michael/posts/045558";
document.getElementById("myButton").onclick = function() {
var embPost = '<div class="fb-post" data-href="' + myLink + '"></div>';
$("#myDiv").append(embPost);
}
});
</script>
</body>
O click deste botão insere esta embPost em #myDiv, mas não gera o embedded post, como era de se esperar, por outro lado a #myDiv2 apresenta o embPost completamente renderizado.
5498,javascript,Estou tentando fazer o seguinte, antes do elemento receber a resposta ajax eu seto o opacity dele pra 0 e disparo a transição, até ai esta funcionando beleza, a questão é que depois que eu passo o responseText pro elemento eu preciso exibir o elemento novamente e disparar a transição, mais não estou conseguindo fazer funcionar...
Eu ja consegui fazer isso com o .show e .hide do jquery mais queria fazer só ativando o css
document.getElementById( this.element ).addEventListener(
"transitionend",
function(){
document.getElementById( this.element ).innerHTML = this.xmlhttp.responseText;
document.getElementById( this.element ).style.opacity = 1;
}, true);
document.getElementById( this.element ).style.opacity = 0;
css do elemento
-webkit-transition: 200ms linear all;
-moz-transition: 200ms linear all;
transition: 200ms linear all;
// O problema esta com o this que esta retornando undefined, mas não sei como solucionar ;s
5504,javascript,Estou tentando fazer uma página que atualize a <div> (que tem o conteúdo trazido do banco de dados) automaticamente assim que for inserido algum valor (assim como nesse site).
Usei o setInterval para atualizar (com Ajax) a <div>  a cada 10 segundos, mas não gostei do resultado, pois eu acho desnecessário fazer requisições a cada dez segundos.Então queria fazer uma verificação antes, e caso tenha alguma atualização no banco executar meu script e atualizar a <div>
Como posso verificar se algum valor foi inserido no banco de dados?
5509,c#,Como eu faço pra pegar o caminho do projeto em c#?
Existe alguma função?
Ou tenho que escrever o caminho completo na minha aplicação?
5510,javascript|jquery|html,Pessoal tenho um blog pessoal e vou criar a sessão onde crio os posts, queria saber se tem algum plugin ou ferramenta que não dependa de nenhuma linguagem server side onde eu crio o post, usando aqueles botões de estilização como no word e ele me retorna o html para eu só guardar no banco.
Alguém conhece algum?
5521,java,É possível, usando uma linguagem de programação, acessar uma página de internet com dados de login e senha, setar as informações de login e senha e "clicar" no botão de enviar, podendo entrar no site com suas credenciais?
Depois disto é possível navegar no site coletando informações do source, etc.?
Estou utilizando Lua para testes, mas posso testar com Java também.
A URL que estou tentando utilizar é https://acad.unoesc.edu.br/academico/login.jsp
Em Lua, eu consigo o código fonte e status, etc, com o luasocket(http).
5525,jquery,Preciso de uma ajuda queria fazer uns ícones animados no site, precisava de um efeito de FADE, que quando passa-se o mouse em cima do ícone ele troca a imagem suavemente.
Site de exemplo
Nos ícones do site  :Flexible, Responsive e
Retina Ready
Alguém sabe algum exemplo na internet?
5527,javascript,Meu código está gerando erro e pelo que pesquisei seria erro de sintaxe mas não to conseguindo achar aqui e o Sublime Text 2 não tem corretor. Poderiam me ajudar? Segue o código:
var Padrao = {
/**
* Init
*/
init : function(){
//Exibe Tela de Login/Minha Conta
$('.login').click(Padrao.abreLogin);
//Exibe Carrinho de Compras
$('.carrinho-botao').click(Padrao.exibeCarrinho);
//Chama o carrousel de Banner
Padrao.carrouselBanner();
},
//Exibe Tela de Login/Minha Conta
abreLogin : function(){
$('.minha-conta').toggle(200);
},
//Exibe Carrinho de Compras
exibeCarrinho : function(){
$('.carrinho-aberto').toggle(200);
},
//Carrousel de banner
carrouselBanner : function(){
//recupera a qtd de elementos da lista
var elementos = $('.destaque-banner ul li').length;
//atribui automatico o valor de width para a ul
$('.destaque-banner ul').css({width : 990 * elementos});
//define e imprime a quantidade de bullets de acordo com o numero de elementos
for(var i = 0; i < elementos; i++){
if(i == 0){
$('.bullets-area ul').append('<li><a href="javascript:void" index="' + parseInt(i) + '" class="sel"> x </a></li>');
} else {
$('.bullets-area ul').append('<li><a href="javascript:void" index="' + parseInt(i) + '"> x </a></li>');
}
}
$('.bullets-area ul li a').click(function(){
var desloca = $(this).attr('index');
//alert(desloca);
$('.destaque-banner ul').animate({'margin-left': desloca * -1000});
});
}
};
$(Padrao.init);
5532,javascript,Bom, sou novo com Node.js, consegui montar uma aplicação de exemplo, aprendi bastante coisa do Node com Express, mas não consigo entender como publicar a aplicação no servidor linux.
Alguem sabe como publicar? Eu teria que criar um processo pra ele rodar automaticamente o comando node app.js ?
Obs: O Servidor tem o node instalado.
5536,c#,Como colocar uma parte da string de um Label no Windows Form em negrito via código no c#.
Alguém conhece algo via código para isso?
5548,java,Estou fazendo um plugin no eclipse e quando seleciono uma classe java no Package Explorer acabo recebendo um objeto do tipo ICompilationUnit, mas preciso de um IResource, o que pode ser feito ?
5552,c#,Tenho uma entidade chamada Livro que possui entre outros atributos uma lista de categorias. No meu modelo um livro pode ter múltiplas categorias e vice versa, logo temos um relacionamento N para N. O EF cria portanto a tabela livros, a tabela categoria e uma de associação entre elas.
Para criar um novo livro no banco de dados eu instancio um objeto do tipo Livro, populo os atributos e para cada categoria selecionada no formulário eu adiciono um novo objeto do tipo categoria a lista de categorias do objeto livro apenas populando o Id da Categoria.
novoLivro.Categorias.Add(new Categoria(){CategoriaId = selectedId})
Adiciono o objeto livro ao meu DbContext e ele salva o livro corretamente no banco de dados.
Porém, ele salva novos registros na tabela categoria, o que não deveria, afinal todas as minhas categorias já estão no banco e os objetos tem ate os id.
Como fazer para o EF entender que deveria somente salvar o novo livro, as associações e não salvar as categorias na tabela de categoria como se fossem novos registros?
5563,javascript|jquery|html,Gostaria de saber qual Checkbox está checado com Jquery.
Para pegar todos os check fiz os seguinte código
var checado=false;
$(obj).find("input[name='analisar']").each(function(){
if($(this).attr("checked")=="checked")
checado=true;
});
if(!checado){
alert("Deve ser selecionado uma opção entre Aprovado/Desaprovado!");
return false;
}else....
Porém está retornando sempre que nenhum está selecionado. Como faço para ver se pelo menos um está selecionado.
Exemplo: http://jsfiddle.net/lionbtt/AGbCY/
5570,php,Como selecionar todos os registros de uma paginação? Semelhante ao que o gmail faz onde sempre , ao marcar o checkbox que seleciona somente a da página atual, aparece logo acima um texto para selecionar todos os outros registros que estão separados em várias páginas da paginação. Isso em PHP.
Exemplo no gmail mesmo depois de uma pesquisa, a pagina mostra 100 resultados, mais é possivel selecionar tb todos os registros somente referentes aquela pesquisa que estão nas outras paginas da paginação.
5579,php,Uso o TimThumb para upload de imagens e redimensionamento das mesmas. Porém, ao fim do projeto, fazendo modificações no .htaccess para otimização (ativando gzip, minify, leverage browser caching e mais), persistiu algo que eu considero erro:
O TimThumb está sendo executado uma vez, em cada imagem, note na figura abaixo:
Teria algum método para eu fazer um Loop no script? Cada tim.php relatado na imagem acima é uma imagem carregada por ele, as URLs estão sendo mostradas da seguinte forma:
http://meusite.com.br/tim.php?src=http://meusite.com.br/uploads/2013/11/nomedaimg&w=160&h=80&zc=1&q=100&a=t
Meu site está demorando 5 segundos para abrir, isso tá incomodando muito.
5580,php,Tenho uma página que envia emails quando uma das datas do meu formulário estão a terminar.
Atualmente ele envia só o nome da pessoa que tem a data a terminar mas quero que ele informe a data que está no fim.
sql = ("SELECT Nome, data1, data2, data3, data4 < (now()+ interval 10 day)");
$validade = mysql_query($sql);
while($row = mysql_fetch_array($validade)){
$Nome = $row[0];
$PHPMailer = new PHPMailer();
(....)
$PHPMailer->Body = "<body><p><strong>Faltam 10 dias para terminar</strong> $Nome</body>";
Basta-me colocar as datas assim?
$data1 = $row[1];
$data2 = $row[2];(...)
5581,javascript|php,Como faço um código para enviar uma imagem ao selecioná-la durante o cadastro?
E após enviada aparecer no formulário uma miniatura, para então o usuário continuar preenchendo o restante do formulário.
Semelhante ao que é feito nesse link.
5584,javascript|jquery,Como faço um jQuery que reconheça se aria-selected="false" e se true trocar o background da div "seta-btn-sub" para outra imagem (img de seta). Isso é parte de um acordion e quero trocar a img da seta quando estiver aberta a parte (<div id="outraDiv">), o 'area selected' aparece dentro do h3.
<h3>
<a>Banho</a>
<div class="seta-btn-sub"></div>
</h3>
<div id="outraDiv">
<ul>
<li><a href="#">Condicionadores</a><span></span></li>
<li><a href="#">sabonetes</a><span></span></li>
<li><a href="#">shampoos</a><span></span></li>
<li><a href="#">outros</a><span></span></li>
</ul>
</div>
Fiz algo assim até agora, mas ainda não consegui fazer funcionar como desejo
<script>
if($("#aria-selected").val() == true){
$(".seta-btn-sub").css("background-image","url(images/seta-blue.png);");
}
else if($("#aria-selected").val() == false){
$(".seta-btn-sub").css("background-image","url(images/seta-padrao-azul.png);");
}
</script>
5607,php,Ao experimentar o phpmailer, a única coisa que faz é mostrar a tela do Browser em branco.
Já alguem aconteceu isso?
Será que posso ter sido bloqueado no servidor de email?
<?php
require_once('PHPMailer/class.phpmailer.php');
$local_serve = "127.0.0.1";      // local do servidor
$usuario_serve = "root";         // nome do usuario
$senha_serve = "";                  // senha
$banco_de_dados = "GCD";      // nome do banco de dados
$conn = @mysql_connect($local_serve,$usuario_serve,$senha_serve,$banco_de_dados) or die ("O servidor não responde!");
// conecta-se ao banco de dados
$db = @mysql_select_db($banco_de_dados,$conn)
or die ("Não foi possivel ligar-se a Base de Dados!");
$sql = ("SELECT Nome, campos FROM tabelas WHERE campos < (now()+ interval 10 day)");
$validade = mysql_query($sql);
while($row = mysql_fetch_array($validade)){
$Nome = $row[0];
$data = $row[1];
$PHPMailer = new PHPMailer();
$PHPMailer->isHTML( true );
// codificação UTF-8, a codificação mais usada recentemente
$PHPMailer->Charset = 'UTF-8';
// Configurações do SMTP
$PHPMailer->SMTPAuth = True;
$PHPMailer->SMTPSecure = 'none';
$PHPMailer->Host = '--------';
$PHPMailer->Port = '25';
$PHPMailer->Username = '--------';
$PHPMailer->Password = '----------';
// E-Mail do remetente (deve ser o mesmo de quem fez a autenticação
// nesse caso seu_login@gmail.com)
$PHPMailer->From = '----------------';
// Nome do rementente
$PHPMailer->FromName = '--------';
// assunto da mensagem
$PHPMailer->Subject = 'Documento';
// corpo da mensagem
$PHPMailer->Body = "<body><p><strong>Faltam 10 dias para terminar</strong>   $Nome</body>";
// corpo da mensagem em modo texto
$PHPMailer->AltBody = 'Mensagem em texto';
// adiciona destinatário (pode ser chamado inúmeras vezes)
$PHPMailer->AddAddress( 'MAILLL' );
// adiciona um anexo
$PHPMailer->AddAttachment( '' );
// verifica se enviou corretamente
if ( $PHPMailer->Send() )
{
echo "Enviado com sucesso";
}
else
{
echo 'Erro do PHPMailer: ' . $PHPMailer->ErrorInfo;
}
}
?>
5609,java,Tenho um JComboBox que o autocomplete está buscando somente pelo início da palavra e preciso que quando o usuário digitar busque por qualquer ocorrência dentro da palavra, que é a forma que o autocomplete do jQuery funciona.
Ex:
Lista de Cidades:
Goiânia
São Paulo
Belo Horizonte
Rio de Janeiro
Se o usuário digitar 'neiro' preciso que já apareça Rio de Janeiro. Atualmente se o usuário digitar a palavra não aparece nada, pois ele busca somente pelo início do nome.
Já tentei de diversas formas e não deu certo, pesquisei na Internet e nada de funcionar dessa forma.
5616,javascript|jquery,Tenho um input do tipo text, em que posso digitar uma busca, que é executada via ajax, enquanto o usuário digita. Abaixo deste tenho uma lista de itens que foram achados em uma table. Ao clicar nessa tabela, eu altero o estilo da row clicada, como se estivesse selecionada, mas não quero que o foco do input seja perdido... quero que o usuário, mesmo tendo clicado na tabela, possa continuar a digitar.
Já tentei o evento blur mas até o momento ainda não consegui, pois não sei se o elemento clicado estava dentro da tabela.
5621,javascript,Estou desenvolvendo um portal, com Bootstrap (3.1).
Para isso coloquei um carousel igual do bootstrap no HEADER da página e o conteúdo logo abaixo desse carousel. É aqui que ocorre o problema, ao carregar a página, como as imagens tem um certo peso - 200kb aprox., o conteúdo que fica abaixo da página "sobe" até que a imagem seja carregada.
A minha dúvida é: como fazer o carousel do bootstrap ter um load para aguardar a imagem ser carregada, sem a página ficar "dançando"?
Obs.: A imagem varia na altura, logo, não consigo colocar um height ou min-height no div do carousel, para delimitar o tamanho inicial dele.
Quanto ao código é exatamente como o do Bootstrap com um "h2" e um "p" abaixo. Conforme abaixo:
<div class="carousel-inner">
<div class="item active">
<img src="..." alt="...">
<div class="carousel-caption">
...
</div>
</div>
...
</div>
<a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
<span class="glyphicon glyphicon-chevron-left"></span>
</a>
<a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
<span class="glyphicon glyphicon-chevron-right"></span>
</a>
</div>
<h2>Título da Página</h2>
<p>Texto texto texto</p>
5635,javascript,Estou tentando criar um condicional com display: block; e display: none; mas o JS não está trazendo o valor do display css do meu elemento #slide.
Qual o problema?
var slider = document.getElementById('slide');
if(slider.style.display == 'block'){
alert('teste');
}
5642,javascript,Problema
Testem aí nos consoles dos seus browsers:
1067.11-1000 = 67.1099999999999
O correto seria 67.11
Alguém poderia me explicar isso?
E como faço para resolver isso?
5644,java|html,Em um um código fonte facelets (xhtml) do primefaces, quero extrair todas as tags <p:inputText>. Depois disso, quero pegar o atributo label. Teria como realizar isso? Lembrando que os componentes teram valores preenchidos diferentes, e posso colocar outras tags do primefaces como outputlabel ou div.
5645,javascript,Fiz uma aplicação simples para testar a capacidade de incorporar publicações em sites externos do Facebook. Nela, você cola uma URL de qualquer post do Facebook, clica um botão e o post é inserido em uma div.
Separei alguns links e comecei a bateria de testes. Evidentemente, tomei o cuidado de separar somente posts públicos. A grande surpresa foi que grande parte destes links, mesmo sendo públicos, gerou um aviso que o conteúdo fora removido ou desrespeita as leis de privacidade.
A maior surpresa foi quando eu colei um link de um post do meu próprio perfil e a mesma mensagem foi gerada. Pesquisei nas configurações do perfil e vi que tudo estava completamente liberado para todos os públicos, porém, eu não havia configurado a opção Quem pode me seguir para Todos (estava Amigos). Quando eu mudei esta configuração, o aplicativo funcionou com todos os meus links.
O problema é que esta opção, por padrão, é somente para amigos, o que limita grandiosamente as possibilidades de incorporar os posts.
Curiosamente, na documentação do próprio facebook, as informações sobre quais os requisitos para que um post possa ser incorporado em outra página são:
Deve ser um post público
Deve ser de alguém que você está seguindo
Todos os seus amigos são seguidos automaticamente
Existe alguma configuração especial para resolver esta questão?
5647,jquery|html,Numa dada página, ao abrir, preciso de remover a margin da classe content  para ficar como pretendo.
CSS:
.three-columns .content {
margin: 20px 250px 0 250px;
}
.content {
margin: 20px 0 0 250px;
}
Estou a tentar ir por jquery ao fazer:
$("#three-columns:content").css({ 'margin': ' 10px 10px 10px 10px' }); //Sei que o erro está aqui
$("#content").css({ 'margin': ' 10px 10px 10px 10px' });
O que pretendo é remover/alterar a margin de .three-columns .content e .content
5656,javascript|html,Tenho um JSON no seguinte formato:
{
"representantes":
[
{
"nome":     "Foo LTDA",
"endereco": "Alameda dos Anjos",
"cep":      "12345-000",
"telefone": "(11) 1234-1234",
"site":     "www.foo.com.br",
"email":    "email@foo.com.br"
}
]
}
Basicamente, esses são os dados a serem usados para imprimir em uma div, mas existem representantes em diversos estados. Então, como eu faria isso com JSON? Como criar um array de representantes por estado com os dados acima? E como imprimir na div?
preview de como ficaria impresso:
como podem ver, tem mais estados também, além de SP para imprimir
5664,javascript,Queria saber como ele funciona exatamente, onde é necessário usar dentro de algum escopo como if etc.
5670,c#,Estou desenvolvendo uma aplicação Asp.net+c# que irá acessar alguns webservices públicos. Gostaria de fazer algo flexível e de fácil manutenção futura. Eu pensei em chamar o webservice passando seu endereço e parâmetros de entrada e armazenar o resultado em uma lista dinâmica.
É possível acessar um webservice e receber o resultado de forma dinâmica, ou seja, sem precisar fazer referencia do webservice no Visual Studio?
5675,php,Como verificar se um checkbox está checado, em um submit de formulário?
5680,c#,Recentemente a opção do meu Adicionar controller sumiu do menu.
Estou usando Visual Studio 2013, e o projeto é ASP NET MVC, versão 5.1.
Como fixar esse problema?
5681,javascript|html,Imaginem que em um HTML eu tenho um botão desabilitado. Posso muito bem usar o Firebug para habilitar esse botão e assim fazer a submissão.
A questão é: tem alguma maneira de eu desabilitar esse botão e não permitir essa submissão nem mesmo quando eu modifico a propriedade disabled do botão no Firebug?
Eu tenho que sempre fazer um tratamento no servidor, pensando que essa possibilidade pode acontecer?
5688,java,Atualmente tenho um programa JAVA(principal), que a partir dele chama outro programa JAVA (filho)... isso está Ok.. porém quando eu fecho o programa principal, quero também fechar o programa filho.
Já tentei:
Runtime.getRuntime().exec("taskkill /F /PID **NOMEDOPROGRAMA**");
Mas não funcionou...
5689,c#,Como chamar uma procedure em ASP.NET C#?
Segue a minha simples procedure:
CREATE PROCEDURE GetAdmin
(
@email VARCHAR(50),
@password VARCHAR (50)
)
AS
BEGIN
SET NOCOUNT ON;
SELECT * FROM Admin WHERE Email = @email AND Password = @password
END
GO
5693,jquery,Situação:
Tenho um menu, e preciso que quando ocorra um evento de hover, ele
exiba uma série de informações do respectivo menu
Quando o mouse for para outro menu, as informações exibidas tem que ser escondidas e mostrar as informações do outro menu.
Problema:
Quando eu passo o mouse rapidamente nos links do menu, as vezes ele acaba bugando, exibindo o conteúdo de 2 menus ou mais (que não deu tempo de esconder)
Aqui está o JSFiddle
Segue abaixo o código que estou usando:
HTML:
<ul class="megamenu">
<li>
<a href="#" data-id="sbc_1">Teste</a>
</li>
<li>
<a href="#" data-id="sbc_2">Teste2</a>
</li>
<li>
<a href="#" data-id="sbc_3">Teste3</a>
</li>
<li>
<a href="#" data-id="sbc_4">Teste4</a>
</li>
</ul>
JS:
$(function(){
var id;
$('.megamenu a').mouseenter(function()
{
id = '#megamenuContent #'+$(this).data("id");
$(id).fadeIn('slow');
})
.mouseleave(function()
{
$(id).hide();
});
});
Gostaria de saber se alguém tem alguma sugestão ou alguma solução para este problema, em um último caso eu acabarei optando por utilizar o evento  click, mas o ideal para o meu caso eh utilizar o hover.
5699,java,Estou fazendo um sistema de login, só que estou com duvida como posso deixa ele com níveis/tipos (admin, usuário, cliente).
IMPORTANTE : Estou fazendo um método que use Taglib - "C:if", para fazer um Switch Case.
A ideia é fazer um redir para o admin e outro para o user
Sendo:
Admin = 0
User = 1
Algo assim:
if(user.getNivelAcesso()!=null){
String nivel = user.getNivelAcesso();
switch(nivel){
case "admin":
redir = "/admin/home.jsp";
break;
case "user":
redir = "/user/home.jsp";
break;
default:
redir = "login.jsp";
break;
}
Assim não preciso nem usar FK, e simplifico, pois não necessito de tanta segurança assim, só preciso de um controle basico
Aqui está meu código MySQL:
CREATE TABLE tb_usuario (
id_usuario INT NOT NULL AUTO_INCREMENT,
nome VARCHAR(20) NOT NULL,
senha VARCHAR(10) NOT NULL,
PRIMARY KEY (id_usuario));
Aqui está meu java .model:
public class Usuario {
private int id;
private String nome;
private String senha;
public Usuario() {
super();
}
public int getId() {
return id;
}
public void setId(int id) {
this.id = id;
}
public String getNome() {
return nome;
}
public void setNome(String nome) {
this.nome = nome;
}
public String getSenha() {
return senha;
}
public void setSenha(String senha) {
this.senha = senha;
}
}
Minha interface .dao Usuario.DAO:
public interface UsuarioDAO {
public Usuario buscarUsuario(Usuario usuario) throws SQLException;
public List<Usuario> listaUsuario() throws SQLException;
public List<Usuario> pesquisarUsuario(String nome) throws SQLException;
public boolean adicionarUsuario (Usuario usuario) throws SQLException;
public boolean alterarUsuario (Usuario usuario) throws SQLException;
public Usuario buscarUsuarioPorId (int idUsuario) throws SQLException;
public boolean excluirUsuario (int idUsuario) throws SQLException;
}
Meu Jdbc .dao class JdbcUsuarioDAO :
public class JdbcUsuarioDAO implements UsuarioDAO {
@SuppressWarnings("finally")
@Override
public Usuario buscarUsuario(Usuario usuario) throws SQLException {
Connection con = null;
PreparedStatement stmt = null;
StringBuilder sql = new StringBuilder();
Usuario usr = null;
try {
con = Conexao.getConnection();
sql.append(" SELECT * FROM tb_usuario ");
sql.append(" WHERE nome = ? and senha = ? ");
stmt = con.prepareStatement(sql.toString());
stmt.setString(1, usuario.getNome());
stmt.setString(2, usuario.getSenha());
ResultSet rs = stmt.executeQuery();
while (rs.next()) {
int id = rs.getInt("id_usuario");
String nomeUsuario = rs.getString("nome");
String senha = rs.getString("senha");
usr = new Usuario();
usr.setId(id);
usr.setNome(nomeUsuario);
usr.setSenha(senha);
}
} catch (Exception ex) {
ex.printStackTrace();
throw ex;
} finally {
stmt.close();
con.close();
return usr;
}
}
Meu servlet ServletLogin:
@WebServlet("/login")
public class ServletLogin extends HttpServlet {
private static final long serialVersionUID = 1L;
private UsuarioDAO dao = new JdbcUsuarioDAO();
public ServletLogin() {
super();
}
protected void doGet(HttpServletRequest request,
HttpServletResponse response) throws ServletException, IOException {
String redir = "/login.jsp";
String msg = "";
Usuario usuarioLogado = null;
try {
String nome = request.getParameter("nome");
String senha = request.getParameter("senha");
if (nome != null && senha != null) {
Usuario usuario = new Usuario();
usuario.setNome(nome);
usuario.setSenha(senha);
usuarioLogado = dao.buscarUsuario(usuario);
if (usuarioLogado != null) {
request.getSession().setAttribute("usuarioLogado",
usuarioLogado);
redir = "/index.jsp";
} else {
msg = "Usuario Ou Senha Invalidos!";
redir = "/login.jsp";
}
} else {
msg = "Informe O Usuario E Senha!";
redir = "/login.jsp";
}
} catch (Exception ex) {
ex.printStackTrace();
msg = "Erro ao efetuar o login!";
redir = "/erro.jsp";
} finally {
request.setAttribute("msg", msg);
RequestDispatcher rd = request.getRequestDispatcher(redir);
rd.forward(request, response);
}
}
protected void doPost(HttpServletRequest request,
HttpServletResponse response) throws ServletException, IOException {
this.doGet(request, response);
}
}
Meu login.jsp
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
pageEncoding="ISO-8859-1"%>
<%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Login</title>
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" type="text/css" href="css/clockcss.css"
charset="utf-8">
<script type="text/javascript">
function runScript(e) {
if (e.keyCode == 13) {
validate();
}
</script>
</head>
<body>
<form action="/Empresa/login" method="post">
<input type="hidden" name="paginaLogin" value="s" />
<div id="fundo_login">
<div id="top_login">
<div id="txt">Empresa</div>
</div>
<div id="alert">
<c:if test="${msg !=null}">
<font color="red">${msg}</font>
</c:if>
</div>
<div id="login">
<div id="imguser"></div>
<input type="text" maxlength="70" name="nome" placeholder="Nome"
required autofocus
style="width: 334px; height: 40px; margin-left: 30px; float: left; font-size: 20px; border-radius: 12px; outline: none; border: solid #fff" />
</div>
<div id="pass">
<div id="imgpass"></div>
<input type="password" maxlength="70" name="senha"
placeholder="Senha" required onkeypress="return runScript(event)"
style="width: 334px; height: 40px; margin-left: 29px; float: left; font-size: 20px; border-radius: 12px; outline: none; border: solid #fff" />
</div>
<div id="checkbox">
<input type="checkbox" style="float: left; margin: 2px 5px;">
<div id="txt1">Manter sessão</div>
</div>
<div id="botao_login">
<input type="submit" value="Login"
style="width: 440px; height: 48px; background: #02a68b; cursor: pointer; border-radius: 8px; color: #fff; font-size: 18px; border: 1px solid #02a68b; margin: 20px 20px;" />
</div>
</div>
</form>
</body>
</html>
Ai está o que eu já fiz, eu estou pensando em criar uma class java "Nviel" no .model com :
-int : Nivel; -String : Descricao;
Assim chamar essa class no Usuario.java, depois não sei onde ir. Não sei como criar o MySQL, e não sei como chamar para as outras class e interface. Não sei se tenho que criar um javascript ou não.
5708,php,Estou querendo criar um site com meu próprio sistema de autenticação, sem utilizar nada pronto.
Gostaria de saber quais as etapas para a criação desse sistema, na ordem.
Se existe uma convenção de melhores práticas e que pontos eu não posso esquecer de levar em consideração na hora da criação para que seja seguro.
5746,c#,Estou desenvolvendo um projeto para automação comercial, utilizando PAF-ECF e tudo o mais.
Aual seria o melhor tipo de dados para trabalhar com SQL Server e C# para questões de dinheiro? Principalmente em relação a arredondamentos e truncamentos.
Imagino que as melhores opções sejam Float, Numeric ou Money. Mas não consigo encontrar boas fontes confiáveis que se adaptam ao meu caso para que eu possa implementar com segurança.
5754,javascript|jquery|html,Informações:
Estou tentando fazer uma simples galeria de fotos. Quero mostrar a imagem clicada em tamanho grande no centro da tela. (Clicar em 0.jpg e mostrar em uma outra div 0Large.jpg)
Problema:
Com o código que eu tenho eu consigo fazer isso, mas apenas mostrando realmente a imagem clicada. O problema é que essa imagem clicada vai ser de um tamanho diferente (será algo tipo thumbnail) então ao clicar a imagem que aparece é a pequena. Eu quero mostrar uma versão grande. Ex: 001Large.jpg ao invés de 001.jpg. Não sei direito como fazer isso. Pensei em usar uma espécie de loop na variavel que contem o endereço da imagem até ela achar o ".jpg" e inserir antes desse texto ".jpg" o nome "Large" pra que seja mostrada a versão grande da imagem.
Eu tenho um HTML parecido com este:
<div id="gallery-work">
<div id="gallery-warper" >
<div class="img-container" >
<img src="img/gallery/work/001.jpg" alt="" width="100%" />
</div>
<div class="img-container" >
<img src="img/gallery/work/002.jpg" alt="" width="100%" />
</div>
<div class="img-container" >
<img src="img/gallery/003.jpg" alt="" width="100%" />
</div>
<div class="img-container" >
<img src="img/gallery/004.jpg" alt="" width="100%" />
</div>
</div>
E o JavaScript:
$(document).ready(function () {
$("img").click(function() {
var imgLocation = $(this).attr("src");
var newImgLocation = '<div id="showimg" class="midway-horizontal midway-vertical"><img class="imgshow midway-horizontal midway-vertical" src="' + imgLocation + '"/></div>';
$(".main-container").append(newImgLocation);
Midway();
$("#showimg").click(function() {
$(this).remove();
});
});
});
Exemplo no JSFiddle
Obs: Ao clicar na div que contem a imagem grande deveria remover a imagem mas no JSFiddle não está funcionando.
5757,php,Seguinte pessoal, tenho que fazer um sistema de cadastro e login de usuários, mas queria aumentar a segurança desse sistema utilizando salts nas senhas, alguém poderia me mostrar um exemplo simples sobre isso?
5767,javascript,Estou fazendo um shim/polyfill para trabalhar com CustomEvents para IE8, mas estou tendo um problema para detectar quando o evento não é padrão.
No IE8 cada elemento pode ter uma lista diferente de eventos disponíveis, não existe a possibilidade de executar um attachEvent que não seja de um evento disponível por padrão no elemento.
No depurador do IE8, quando a gente aplica um watch no contexto do elemento (this em um método do elemento) ele mostra um objeto lista [Events] o qual contém os eventos disponíveis do mesmo.
O problema é que eu não consigo acessar esta propriedade sem ser pelo depurador.
Como posso acessar essa propriedade de lista, ou existe alguma outra maneira de descobrir quais eventos estão disponível no contexto do elemento?
5771,c#,Preciso saber como organizar meu projeto na questão das CRUD's em caso de haver mais de um Model na minha aplicação.
Por exemplo, possuo o Model aluno e o Model professor.
Crio uma classe do tipo DbContext para gerenciar meu banco de dados, mas porém, cada model exigirá suas próprias CRUD's.
Onde será inserido o código das CRUD's? No DbContext? Em um controller master(um controller para controller's) ou no próprio controller de cada model?
Na resposta peço que passem um exemplo de código em relação a dois models diferentes.
5778,c#,Estou a trabalhar em ASP.Net com MVC 4, e ao fazer uma pesquisa/usar filtros vou apresentar uma lista de dados resultante. Para manipular melhor este resultado criei um ViewModel onde coloco informação de várias tabelas. Agora para preencher a lista estou a fazer o seguinte:
Crio um variável do tipo de dados do ViewModel:
var resultFiltro = new FiltroSPlaneamentoViewModel();
E crio um lista do mesmo tipo de dados:
List<FiltroSPlaneamentoViewModel> listaResultFiltro = new List<FiltroSPlaneamentoViewModel>();
Problema:
Ao percorrer um foreach para inserir os dados na lista, e adicionando a variável resultFiltro na mesma lista, todos os outros dados na lista são alterados e ficam igual à resultFilto.
Exemplo de um foreach que estou a usar:
//Pesquisar Técnico Responsável
var serv = db.Servicos.Where(s => s.NumTransportado == TecnicoResp).ToList();
foreach (var item in serv)
{
resultFiltro.idFiltro += 1;
resultFiltro.Serie = item.DadosComerciais.Serie;
resultFiltro.NumDoc = item.DadosComerciais.NumDoc;
resultFiltro.ServicoID = item.ServicosID;
resultFiltro.TecnicoResponsavel = item.NumTransportado;
listaResultFiltro.Add(resultFiltro);
}
5779,php,Tenho uma duvida em relação aos dados longblob que são guardados na Base de dados.
Eu atualmente tenho assim para os outros dados:
echo "<tr><td>Email:</td>";
echo "<td>";
if ($exibe['Email']) {
echo $exibe['Email'];
} else {
echo 'N/D';
}
echo "</td></tr>";
echo "<tr><td>Alvara Numero:</td>";
echo "<td>";
if ($exibe['AlvaraNumero']) {
echo $exibe['AlvaraNumero'];
} else {
echo 'N/D';
}
echo "</td>   </tr>";
E agora quero mostrar o anexo:
echo "<tr><td>Alvara Anexo:</td>";
echo "<td>";
Não sei qual é a melhor maneira se será mostrar ou fazer o Download para ver o ficheiro.
5782,javascript|java|jquery,@GET
@Path("boleto/{processo}/{resposta}")
@Produces({ "application/pdf","application/json"})
public Response gerarBoletoDividaAtivaComCaptcha(@PathParam("processo") String numeroProcesso,@PathParam("resposta") String resposta ) throws DetranException {
if(SimpleCaptcha.validar(request, resposta, true)) {
try {
if(true){
throw new Exception("Erro forcado!");
}
StreamingOutput output = geraBoletoPdf();
return (Response.ok(output).header("content-disposition", "attachment; filename = boleto").build());
} catch(Exception ex) {
EDividaAtiva divida = new EDividaAtiva();
divida.setSucesso(sucesso);
divida.setMsg(ex.getMessage());
return (Response.ok(divida).build());
}
}else{
return null;
}
}
$.ajax({
type : 'GET',
url : URL_APP_CONSULTA_DIVIDA_ATIVA + url,
statusCode : {
//
// 500 - Internal Server Error
//
500 : function(data) {
alert('500 - Internal Server Error');
},
//
// 204 - No Content
//
// Captcha incorreto.
//
204 : function() {
showSimpleCaptcha();
showMsg('Captcha incorreto. Tente novamente.');
},
//
// 404 - Page not found
//
// Serviço indisponivel
//
404 : function() {
showSimpleCaptcha();
showMsg('Serviço indisponível no momento. Tenta novamente a alguns minutos.');
},
// 405 - Method not allowed
// Tratamento especifico para servico indisponivel
405 : function() {
window.location = "Manutencao.html";
}
},
success : function(dados) {
//
// Exibe a interface resposta.
//
createResponseInterface(dados,processo);
return;
}
});
5795,javascript,Quero usar uma <textarea>, mas em vez de usar rows="4" cols="100", queria usar algo deste gênero: style="width: 80%" para que o layout fique responsivo. Mas uma vez que isto não funciona, ou seja, usa-se o tamanho a 80% mas não fica responsive, como posso solucionar o problema? Nota: estou a usar uma framework que vinha no template.
Segue o exemplo:
http://jsfiddle.net/ndQKL/1/
Atenção, o jsfiddle.net faz com que a textarea fique responsive. Se aplicar numa página em branco não fica.
5798,c#,Estou com problemas em minha controller no momento em que inicio uma rotina de exclusão de arquivos.
Eu estou utilizando o método File.Delete(), porem ele simplesmente não reconhece e me retorna a seguinte advertência:
Cannot choose method from method group. Did you intend to invoke the method?
Segue o código também:
public void Delete(String id)
{
//Função que busca o meu arquivo de delete
var modelArquivo = BuscaArquivo(id);
//Aqui se atribue o nome completo do arquivo
var nomeArquivo = modelArquivo.NomeArquivoCompleto;
//Aqui da-se a advertência citada acima
File.Delete(nomeArquivo);
}
Alguma ideia sobre o que está a acontecer?
5799,javascript|html,Em uma caixa que o texto está alinhado para a direita, como eu faço para que quando focar a caixa de texto independente do lugar o cursor de escrita vá para a direita?
quero que ao clicar em um input do tipo text onde está inserido um valor decimal o cursos sempre vá para o último caractere à direita
5806,javascript|php|jquery,Quando escrevo Ajax com JsHelper do CakePHP, se escrevo algo como isso
$this->Js->get('#searchCity')->event(
'click', $this->Js->request(
'http://api.geonames.org/searchJSON', array(
'async' => true,
'dataExpression' => true,
'method' => 'GET',
'data' => "{}",
'dataType' => 'JSON',
'success' => ""
)
)
);
a saída é mais ou menos assim
$(document).ready(function() {
$("#searchCity").bind("click", function(event) {
$.ajax({async: true, data: {},
dataType: "JSON", success: function(data, textStatus) {
}, type: "GET", url: "http:\/\/api.geonames.org\/searchJSON"});
return false;
});
});
Aparentemente, a função .bind() não funciona no Internet Explorer, e li que posso usar o .on() para substituí-lo.
A questão é: posso trocar esses métodos sem ter que mexer no core do CakePHP ou há alguma solução mais inteligente?
5807,c#,Tenho a seguinte questão.
Eu tenho esses seguintes tempos obtidos através do Stopwatch, onde foi colocado dentro de um método para retornar o saldo de banco de horas do funcionário. Só que ele está me mostrando um tempo totalmente contraditório com o que foi calculado pelos Stopwatch.
Dentro do método foi divido em 7 partes para ver onde seria o motivo de levar tanto tempo.
Resultado:
Dados que foram retornado do banco de horas pelo método: -82:52:24;
1 - Tempo para pegar 1ª marcação: 00:00:00.0137141;
2 - Tempo de calculo do saldo: 00:00:00.0153916;
3 - Tempo para pegar todas as marcações: 00:00:00.0008668;
4 - Tempo para formatar data/hora:00:00:00.0013553;
5 - Tempo para setar Informações:00:00:00.0015071;
6 - Tempo para alimentar saldo:00:00:00.0005936;
7 - Tempo para juntar tudo e mostrar o resultado: 00:00:00.0000051;
8 - Tempo Total do método:00:00:17.3199664
Gostaria de saber como é possível o resultado de 1 à 7 levar esses 17 seg que foi informado
pelo calculo da soma de todos os tempos.
Ex:
private string CalculaSaldo(FUNCIONARIOS funcionario, DateTime ultimoDia, TimeSpan cargaHoraria, TimeSpan tempoAlmoco, int diaTrabalho)
{
#region 1
Stopwatch1.Start();
//CÓDIGO ...
Stopwatch1.Stop();
#endregion
#region 2
Stopwatch2.Start();
//CÓDIGO ...
Stopwatch2.Stop();
#endregion
#region 3
Stopwatch3.Start();
//CÓDIGO ...
Stopwatch3.Stop();
#endregion
#region 4
Stopwatch4.Start();
//CÓDIGO ...
Stopwatch4.Stop();
#endregion
#region 5
Stopwatch5.Start();
//CÓDIGO ...
Stopwatch5.Stop();
#endregion
#region 6
Stopwatch6.Start();
//CÓDIGO ...
Stopwatch6.Stop();
#endregion
#region 7
Stopwatch7.Start();
//CÓDIGO ...
Stopwatch7.Stop();
#endregion
long total = Stopwatch1.ElapsedMilliseconds + Stopwatch2.ElapsedMilliseconds + Stopwatch3.ElapsedMilliseconds + Stopwatch4.ElapsedMilliseconds +
Stopwatch5.ElapsedMilliseconds + Stopwatch6.ElapsedMilliseconds + Stopwatch7.ElapsedMilliseconds;
return result + ";tempo total: " + TimeSpan.FromMilliseconds(total).ToString();
}
Todos os pontos o método foi separado com um Stopwatch.
Obg.
5827,c#|jquery,Eu tenho um aplicativo MVC e gostaria de esclarecer algumas dúvidas de como implementar um gráfico com os dados do banco de dados. Eu estou usando jQuery para obter os valores do banco de dados, mas não entendia como pegar esses valores e gerar um gráfico usando Highcharts, eu leio muito na internet, mas não estava claro como obter e colocar os valores no eixo x e do eixo y.
Para os valores de X e Y eixos, estou usando o seguinte:
Dictionary <decimal, decimal> dataResult = new Dictionary <decimal, decimal> ();
Para fazer a consulta no banco de dados e montar a seguinte:
foreach (var item in query)
{
dataResult.Add (Convert.ToDecimal (item.valorinicial), Convert.ToDecimal (item.preco));
}
Para passar o valor:
return Json (dataResult, JsonRequestBehavior.AllowGet);
Para gerar o Gráfico, mudei para:
var options = {
chart: {
renderTo: "container",
},
series: [{}]
};
$.getJSON("/GraficosLev/GetDadosByGraf", { ...parametros passados.... },
function (data) {
var chart = new Highcharts.Chart({
chart: {
renderTo: 'container',
ignoreHiddenSeries: false
},
xAxis: {
},
series: data
});
});
Para a busca dos dados:
Dictionary<decimal, decimal> dataResult = new Dictionary<decimal, decimal>();
public object GetValuesByGraf(int? idRod, int? idLev, string codLev, string kmIni, string kmFim)
{
string tpLev = (from l in db.TIPO_LEVA where l.id == idLev select l.tipo_levantamento).FirstOrDefault();
//Conta o numero de datas Selecionadas
string[] codLevant = codLev.Split(',');
foreach (string i in codLevant)
{
//pega os valores do id do codigo de levantmanto para pegar os levantamentos
int idCodLev = (from l in db.LEV1
where l.cod_levantamento == i
select l.id).FirstOrDefault();
if (tpLev =="I")
{
var query = (from iri in db.IRR10
where iri.cod_levantamento_id == idCodLev
select iri);
foreach (var item in query)
{
dataResult.Add(Convert.ToDecimal(item.inicial), Convert.ToDecimal(item.iri));
}
}
}
return dataResult;
}
5832,c#,Estou tentando montar um input select multiple e deixar marcado as opções que já estiverem presentes numa determinada lista.
Sou iniciante em C# então a lógica do que eu preciso seria mais ou menos essa: (Notem que estou usando Razor)
Desculpe quem já respondeu. Eu transcrevi o código errado. Corrigi agora:
foreach (var cc in Model.DdlCentroCusto)
{
if (listaCentrosDeCustoEquipe[].CodCentroCusto == cc.Value)
{
<option value="@cc.Value" selected="selected">@cc.Text</option>
}
else
{
<option value="@cc.Value">@cc.Text</option>
}
}
Isso não funciona pois não especifiquei o index do item, e podem ser varios itens. Eu já vi algum código where relacionado a listas, vi tb que para lista existe uma opção Contains(só que eu preciso ir no campo especifico e pegar pela string e ele pede o tipo do objeto), mas não sei qual devo usar e nem sei como usar.
Creio que não seja dificil então uma ajuda será muito bem vinda.
5848,javascript,Criei uma função que vai trocando cores (puxadas de um array) em determinados elementos da página (que também estão em array), porém ficou muito estranho, pois vai trocando as cores dos elementos um após o outro. Queria fazer algo diferente, como: Sortear o elemento e a cor que irão ser modificados. Como eu adapto a minha função para fazer isso?
Exemplo -> http://jsbin.com/citoq/1/watch?output
window.onload = function(){
var box = document.getElementsByClassName('box');
var background = ["#f36", "#C3C", "#fc0", "#FC6", "#9C0"];
cor=0;
div=0;
setInterval(function(){
box.item(div).style.backgroundColor = background[cor];
cor++; div++;
if(cor>=background.length){
cor=0;}
if(div>=box.length){
div=0;}
},2000)
}
5851,javascript|html,Tenho uma função em javascript que retorna o dia e hora para texto, para inserção no html, como posso adicionar estilos a esse texto, devo fazer dentro do javascript ou mesmo no html
function date_time(id){
date = new Date;
year = date.getFullYear();
month = date.getMonth();
months = new Array('Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outbro', 'Novembro', 'Dezembro');
d = date.getDate();
day = date.getDay();
days = new Array('Domingo', 'Segunda - Feira', 'Terça - Feira', 'Quarta - Feira', 'Quinta - Feira', 'Sexta - Feira', 'Sabado');
h = date.getHours();
if(h<10)
{
h = "0"+h;
}
m = date.getMinutes();
if(m<10)
{
m = "0"+m;
}
s = date.getSeconds();
if(s<10)
{
s = "0"+s;
}
result = 'Bem Vindo, Hoje é '+days[day]+' '+d+' '+months[month]+' '+year;
document.getElementById(id).innerHTML = result;
setTimeout('date_time("'+id+'");','1000');
return true;
}
Html
<span id="date_time"></span>
<script type="text/javascript">window.onload = date_time('date_time');</script>
Resultado
5863,html,Situação:
Tenho uma página que contém um <iframe> de outra, nesta outra página, tenho um simples elemento HTML input:
<input type="text" required="" pattern="[a-Z]{2,35}" tabindex="6" name="edtCidade" id="edtCidade">
Tenho certeza e me certifiquei que não há nenhum tipo de evento atribuído à ele ou código alterando suas propriedades.
Porém, toda vez que eu digito, qualquer tecla, pode ser número, pode ser letra, qualquer coisa, à cada vez que eu digito me gera este erro no console:
SyntaxError: invalid range in character class
Exemplo:
Se eu digitar "az123" eu vou ter 5 erros de SyntaxError no console de meu navegador.
Importante:
Este erro não me causa nenhum problema, ele é insignificante porém está me incomodando, e gostaria de saber a origem dele.
Pergunta:
Como resolver este erro? Porque ele é ocasionado? Gostaria de uma explicação detalhada.
5864,javascript,Encontrei em um arquivo minificado do bootstrap, o seguinte:
e=e&&e.replace(/.*(?=#[^\s]*$)/,"")
O operador && parece estar sendo aplicado entre duas strings.
O que significa isso?
5866,php,Como faço para adicionar um botão à barra "Descrição" no página de edição de produto?
O botão deve ficar apenas na tab Descrição, onde tem a descrição do produto.
Eu preciso saber como definir a rota e como montar o Block para que eu insira um botão nele e o mesmo apareça na pagina de edição de produtos, em adminhtml calatog product tab.
5871,javascript,Como eu pego e seto o valor do plugin TinyMCE?
tinymce é um plugin textarea com varias opções é uma caixa de formatação de texto, quando eu digo pegar o valor eu quero dizer o que foi formatado pelo usuário por exemplo um texto em negrito com tamanho 16 e etc
5873,c#,Tenho uma aplicação em cluster que uso as Session, para não dar problema coloquei outra maquina para servir de Session Server e configurei o web.config da seguinte forma:
<sessionState mode="StateServer" stateConnectionString="tcpip=[IP]:42424" stateNetworkTimeout="3600" timeout="1440" />
Deixei o timeout em 1440 min para deixar a sessão ativa por 1 dia, mas existem casos que o usuário entra no sistema e depois de min ele perde a sessão, o TimeOut do SessionState não serviria justamente para não acontecer isso? e como posso detectar o que está fazendo as sessões serem perdidas?
5879,jquery,Pessoal atualmente estou tentando desenvolver um script dentro do sharepoint usando o Script Editor mas está caindo no erro do meu código, como se a conexão não estivesse correta, porém, no Dev Http do google a requisição rest funciona. Segue o código:
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.12/angular.min.js"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>
<div ng-app>
<b>Welcome to AngularJS world in SharePoint 2013!</b>
<div ng-controller="MyController" class="ng-scope">
<div ng-repeat="p in Products">
<table style="background-color:#f07432">
<tr><td align="center"><b>Product Name: {{p.ProductName}}</b> </td></tr>
<tr><td align="center"><img ng-src={{p.ProductImage}} /> </td></tr>
<tr><td align="center"><b> Rate: Rs. {{p.ProductRate}}.</b></td></tr>
</table>
<hr />
</div>
</div>
</div>
<script type="text/javascript">
function MyController($scope) {
$scope.loadREST = function () {
jQuery.ajax({
url: _spPageContextInfo.webServerRelativeUrl + "/_api/web/lists/getbytitle('ProductList')/items?$select=ProductName,ProductRate,ProductImage",
type: "GET",
headers: { "Accept": "application/json;odata=verbose" },
success: function (data) {
var newData = [];
jQuery.each(data.d.results, function (index, value) {
var pImage = value.ProductImage;
prImage = pImage.substring(0, pImage.indexOf(','));
newData.push({ ProductName: value.ProductName, ProductRate: value.ProductRate, ProductImage: prImage });
});
$scope.$apply(function () {
$scope.Products = newData;
});
},
error: function () {
alert("error");
}
});
};
$scope.loadREST();
}
</script>
5881,c#,Tenho uma aplicação que processa uma fila de arquivos.
Preciso abrir os arquivos para leitura e escrita.
Por vezes os arquivos encontram-se em uso quando vou processá-los.
Como posso checar se o arquivo está em uso?
Hoje eu trato mais ou menos assim. Criei uma função  :
public bool ArquivoEmUso(string caminhoArquivo)
{
try
{
System.IO.FileStream fs = System.IO.File.OpenWrite(caminhoArquivo);
fs.Close();
return false;
}
catch (System.IO.IOException ex)
{
return true;
}
}
E uso assim :
if (ArquivoEmUso(@"C:\Teste.txt"))
{
//Processar depois...
}
else
{
//Processar agora....
}
Funciona usando try{} catch{}, mas gostaria de evitar que ocorresse uma exceção.
Alguém conhece alguma forma de testar se o arquivo está em uso sem que precise ser disparada uma exceção?
5883,php,Meu problema está na conversão de data, veja:
echo date('Y-m-d', strtotime(Input::get('data_evento')));
echo do Input::get('data_evento'): 14/02/2014
echo do date('Y-m-d', strtotime(Input::get('data_evento'))): 1969-12-31
Realmente não sei o que está acontecendo.
5886,java,Galera to precisando de uma ajuda aqui quero fazer um timer com JFrame mais não to conseguindo fazer ele repetir até chegar a zero, e se deixo o setRepeats em true não consigo fazer ele parar quando chegar em zero
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.Timer;
public class Eventos extends javax.swing.JFrame implements ActionListener{
int segundos = 30;
Timer timer;
public Eventos() {
super("Eventos");
this.timer = new Timer(1000,taskPerformer);
this.timer.setCoalesce(true);
this.timer.setRepeats(false);
JButton botao = new JButton("Clique");
botao.addActionListener(this);
getContentPane().add(botao);
setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
setSize(300,300);
setVisible(true);
}
@Override
public void actionPerformed(ActionEvent e) {
while(segundos>0) this.timer.start();
}
ActionListener taskPerformer = new ActionListener() {
public void actionPerformed(ActionEvent evt) {
System.out.println(segundos--);
}
};
@SuppressWarnings("unchecked")
// <editor-fold defaultstate="collapsed" desc="Generated Code">
private void initComponents() {
setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
getContentPane().setLayout(layout);
layout.setHorizontalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGap(0, 400, Short.MAX_VALUE)
);
layout.setVerticalGroup(
layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
.addGap(0, 300, Short.MAX_VALUE)
);
pack();
}// </editor-fold>
public static void main(String args[]) {
new Eventos();
}
5888,c#,Já vi programas assim :
if(!clienteExiste(1))
{
return "Cliente não existe.";
}
e outros assim
if(!clienteExiste(1))
{
throw new Exception("Cliente não existe.");
}
O segundo código vai consumir mais processamento?
5901,java,Leio sempre o blog Java Revisited e estive lendo hoje o artigo Why use PreparedStatement in Java JDBC – Example Tutorial. Em determinado momento o autor fala sobre parametrização de queries, que é melhor, mais seguro e mais performático usar a parametrização oferecida pela API do que concatenar Strings e utiliza os exemplos abaixo:
SQL Query 1: PreparedStatement utilizando concatenação de String
String loanType = getLoanType();
PreparedStatement pstmt = conn.prepareStatement("select banks from loan where loan_type = " + loanType);
SQL Query 2: Query parametrizada utilizando PreparedStatement
PreparedStatement pstmt = conn.prepareStatement("select banks from loan where loan_type = ?");
prestmt.setString(1, loanType);
Ele explica que ao utilizar a parametrização o driver JDBC irá verificar os dados e com String concatenada não, ele irá apenas executar o SQL enviado, ou seja, se tivermos aquele famoso OR 1 = 1 a query sempre retornará verdadeiro e tá aí o famoso SQL Injection.
O que não ficou muito claro pra mim é porque um é mais performático que o outro e mais, isso valeria pro caso de eu ter um parâmetro sempre estático também, por exemplo:
PreparedStatement pstmt = conn.prepareStatement(select * from usuarios where ativo = 'S');
Ou é mais performático usar como abaixo:
PreparedStatement pstmt = conn.prepareStatement(select * from usuarios where ativo = ?);
pstmt.setString(1, "S");
Outra dúvida, nesse caso acho que a questão de segurança é a mesma, pois como não há passagem de parâmetro através do usuário não há como haver o ataque, certo?
5903,javascript|jquery|html,Preciso esconder/remover o value do meu input, mas não estou conseguindo de forma alguma, onde estou errando? Muito Obrigado
HTML:
<div class="caixa-pesquisa">
<div class="caixa-pesquisa-input">
<input type="text" class="pesquisa-class" value="Digite o produto desejado...">
<div class="caixa-pesquisa-btn"><a class="btn-buscar" href="#">buscar</a></div>
</div>
</div>
JS:
<script type="text/javascript" >
$(document).ready(function (){
$('.pesquisa-class').click(function(){if(this.value == this.defaultValue) {this.value = ;}});
$('.pesquisa-class').blur(function(){if (this.value == ) {this.value = this.defaultValue;}});
});
</script>
5918,java,Eu estou tentando encontrar uma forma de prover uma página de entrada correta no Jersey.  Uma página de login quando não houver um usuário logado, caso contrário eu devo exibir uma outra página inicial que irá chamar serviços RESTful desenvolvidos com Jersey e que irão mudar a interface da página inicial quando houver usuário logado.
Abaixo a configuração do arquivo web.xml:
<welcome-file-list>
<welcome-file>index.html</welcome-file>
<welcome-file>login.html</welcome-file>
</welcome-file-list>
Qualquer solução é válida desde que utilize a configuração do web.xml para facilitar. Não acho conveniente ter de criar um serviço para retornar cada uma dessas páginas.
5920,c#,Estou utilizando MVC em minha aplicação e nas Views estou utilizando diversas ferramentas da Telerik.
Eu necessito obter algumas informações de um POST que dou na minha View.
Segue View:
<div class="div-grid">
@using (Html.BeginForm("ExecutaExportacao", "ExportacaoFinal"))
{
@(Html.Telerik().Grid(listRateioFinal)
.Name("Grid")
.Columns(columns =>
{
columns.Template(
@<text>
<input name="checkedCli" type="checkbox" value="@item.Row.ItemArray[1].ToString()" title="checkedCli" />
</text>).Title("").Width(10).HtmlAttributes(new { style = "text-align:center" });
columns.Bound(o => o.Row.ItemArray[0]).Width(100).Title("ANO MES");
columns.Bound(o => o.Row.ItemArray[1]).Width(100).Title("ID_CLI");
columns.Bound(o => o.Row.ItemArray[2]).Width(100).Title("VALOR");
})
.Scrollable())
<input type="submit" value="Exportar Arquivo"/>
}
</div>
Segue Controller:
[HttpPost]
public ActionResult ExecutaExportacao(int[] checkedCli)
{
ExportarArquivo(anoMes);
return RedirectToAction("Index");
}
Com esse código eu consigo os valores do array checkedCli, porém também gostaria de obter os valores da coluna ANO MES do Grid. Particularmente não sei explicar o porque funciona a obtenção de dados do checkedCli, suponho que seja o atributo name que dá referência ao POST, indicando que é o valor do paramêtro checkedCli da Controller.
Como faço pra também pegar os valores da coluna ANO MES ?
5934,java,Eu tenho um select na minha página que deve ter seu valor e sua legenda populados através de uma lista de Strings que vêm da minha Action.
Estou enviando a lista corretamente, pois vejo a combo ter o número de elementos do mesmo tamanho que a lista, mas não sei como identificar o valor e a descrição na TagLib.
<s:select name="status" list="status" headerKey="" headerValue="-- Selecione --" id="statusMedico" listKey="" listValue="" />
O que eu devo utilizar em listKey e listValue para popular as options?
O método na action:
public List<String> getStatus() {
return Arrays.asList("Ativo", "Inativo");
}
5943,javascript,Como inverter uma string em JavaScript? Por exemplo:
Entrada:
"alguma coisa aqui"
Saída:
"iuqa asioc amugla"
5945,javascript,Gostaria de saber como transformar dígitos numéricos em números por extenso, da seguinte maneira como demonstra o exemplo abaixo:
0          -> retorna "zero"
5          -> retorna "cinco"
2014       -> retorna "dois mil e quatorze"
1034       -> retorna "mil e trinta e quatro"
2566       -> retorna "dois mil quinhentos e sessenta e seis"
78391      -> retorna "setenta e oito mil trezentos e noventa e um"
999999     -> retorna "novecentos e noventa e nove mil novecentos e noventa e nove"
1000000000 -> retorna "um bilhão"
5947,html,Uso o metadatas do The Open Graph protocol para o compartilhamento de redes sociais, em especial o Facebook.
<meta property="og:image" content="http://example.com/ogp.jpg" />
<meta property="og:image:secure_url" content="https://secure.example.com/ogp.jpg" />
<meta property="og:image:type" content="image/jpeg" />
<meta property="og:image:width" content="400" />
<meta property="og:image:height" content="300" />
Até então não defino o tamanho da imagem property="og:image:height", porem no Debugger do Facebook diz que é recomendado definir o tamanho da imagem. Vocês tem noção qual o tamanho ideal para esta imagem? Há alguma documentação que explique?
5949,php,Como calcular um número inteiro aleatório entre 1 e 2000 usando PHP, para fazer um sorteio?
function random() {
// codigo
}
5959,javascript,Estou criando um aplicativo no Phonegap e consome uma API provida através do NodeJS.
Para que isso aconteça, preciso que o NodeJS aceite o CORS.
Como eu habilito o CORS para que NodeJS aceite a requisição?
5965,php,Tenho uma dúvida sobre banco oracle.
Criei duas tabelas e setei uma delas com um campo com foreing key (ver abaixo o FK)
tbl_cidade
*id_city* (PK e auto incremento) - gerado com sequence, visto que não temos auto_increment no oracle
municipio
tbl_escolas
cod (PK)
escola
*id_city (FK)*
Como diabos monto um INSERT para popular as duas tabelas? Até hj só montei insert’s pra UMA tabelas no oracle.
5967,c#,Tenho o seguinte código em C#:
Dictionary<string, object> dataResult = new Dictionary<string, object>();
dataResult["data"] = new List<object[]>();
dataResult["name"] = i;
foreach (var item in query)
{
object[] values = new object[2];
values[0] = Convert.ToDecimal(item.ini) ;
values[1] = Convert.ToDecimal(item.ir);
((List<object[]>)dataResult["data"]).Add(values);
}
Com ele gero o seguinte JSON:
var data = [
{"TESTE2008",23.4,2},
{"TESTE2008",24.4,3},
{"TESTE2008",25.4,4},
{"TESTE2008",26.4,5},
{"TESTE2008",27.4,6},
{"TESTE2008",28.4,7},
{"TESTE2008",29.4,8},
{"TESTE2008",30.4,9},
{"TESTE2009",30.4,2},
{"TESTE2009",31.4,3},
{"TESTE2009",32.4,4},
{"TESTE2009",33.4,5},
{"TESTE2009",34.4,6},
{"TESTE2009",35.4,7},
{"TESTE2009",36.4,8},
{"TESTE2009",37.4,9},
];
e gostaria que os dados estivessem formatados da seguinte forma:
series: [{
name: 'TESTE2008',
data: [[23.4,2],[24.4,3],[25.4,4],[26.4,5],[27.4,6],[28.4,7],[29.4,8],[30.4,9]
]},
{
name: 'TESTE2009',
data: [[30.4,2],[31.4,3],[32.4,4],[33.4,5],[34.4,6],[35.4,7],[36.4,8],[37.4,9]]},
});
Como alterar meu código para produzir a saída desejada?
5968,javascript|jquery|html,Tenho o seguinte código:
$("#cep").on('mouseout', function() {
var url = "http://cep.republicavirtual.com.br/web_cep.php";
var cep = $(this).val();
$.ajax({
type: "GET",
dataType: 'json',
data: {'cep': cep, 'formato': 'json'},
async: false,
url: url,
success: function(response) {
if (response.resultado === '1') {
$("#bairro").val(response.bairro);
$("#endereco").val(response.logradouro);
var uf = response.uf;
$("select#estado option").each(function() {
this.selected = (this.text === uf);
});
$("#estado").trigger("change");
var cidade = response.cidade;
$("select#cidade option").each(function() {
this.selected = (this.text === cidade);
console.log(this.selected);
});
}
}
});
});
Nessa parte do código deveria "setar" a cidade no combo que foi retornada via ajax. Note que essa parte vem após o $("#estado").trigger("change");
var cidade = response.cidade;
$("select#cidade option").each(function() {
this.selected = (this.text === cidade);
});
Não funciona, as cidades são preenchidas, a cidade vem normalmente mas não é "setada" como default no combo box.
Como resolver isso?
5970,php,Desenvolvi um site onde existe um curso para venda num valor específico. Este curso está disponível para pagamento com PagSeguro, para quem for pagar no cartão é tranquilo, mas teria alguma forma de fazer parcelado no boleto?
Até o momento, somente inseri um botão de doação, onde a pessoa que vai comprar o curso adiciona o valor conforme a possibilidade que pode pagar. O curso será somente final do ano, então dá para pagar em partes usando este recurso.
Pra facilitar mais ainda, só mesmo via boleto. Alguém sabe uma forma melhor(via boleto ou não) de fazer parcelas no PagSeguro sem ser no cartão?
5979,php,Como, usando a linguagem PHP, gerar uma string, preferencialmente com tamanho configurável, aleatória o suficiente para ser usada em rotinas que lidam com criptografia e que por questões de segurança não podem ser insuficientemente aleatória?
Caso proponha mais de uma solução, preferencialmente explicitar qual considera que é mais aleatória, possivelmente com referências adicionais externas. Soluções que envolvem mais de uma fonte de gerador de aleatoriedade também são bem vindas, em especial se acompanhadas de explicação de vantagens, a exemplo de reduzir problemas com um sistema operacional explicitamente alterado por uma NSA da vida para gerar menos caos na hora de produzir aleatoriedade.
Mesmo que duas pessoas proponham o mesmo código, caso uma destas explique melhor ou prove com exemplos reais a dispersão de valores, será considerado como melhor resposta. Não basta copiar e colar código, deverá dissertar porque é uma boa solução.
Soluções que acessam diretamente um recurso do sistema operacional, usando por exemplo shell_exec, embora não sejam desejáveis, também são bem vindas com explicação de em que contexto seriam vantajosas a exemplo de versões de PHP mais antigas ou que não tem um módulo PHP específico que permitiria usar uma rotina mais apropriada.
5988,java,Tenho diversas strings em uma ArrayList. Gostaria de saber como retornar uma string dessa lista que contenha outra que foi passada. Por exemplo, se eu passar uma String "Bean", quero retornar a string "AtendenteBean".
5989,c#,Como faço para verificar, enquanto o meu programa estiver rodando, se um determinado software é aberto pelo usuário?
6017,javascript|jquery,Criei um sistema simples de abas com hide() e show(). Dentro de cada uma dessas abas (listadas dinamicamente), haverá várias checkbox (também listadas dinamicamente).
O usuário não será obrigado a selecionar qualquer opção, mas cada aba terá um maxlength diferente. E é aí que está o problema.
Exemplo:
Primeira aba: maxlength = 4
Segunda aba: maxlength = 1
Supondo que o usuário selecionou quatro checkboxes na primeira aba, quando ele vai para a segunda e seleciona um checkbox, o sistema não permite que eu avance para a terceira, porque é como se o usuário tivesse selecionado 5, ou seja, além do limite.
Eu estou pegando o valor máximo permitido de um input hidden, mas por algum motivo ele só considera o maxlength da primeira aba.
Existe alguma solução?
Código jQuery
$("#menu_dias li").first().addClass('current selecionado');
var maximo = $("#menu_dias li.current").first().data('total');
var dia    = $("#menu_dias li.current").first().data('dia');
$("#maximo").val(maximo);
$("#iddia").val($("#menu_dias li.current").first().data('id'));
$("#signup").validate({
rules: {
'idatividade[]': {
required: false,
maxlength: maximo
}
},
messages: {
'idatividade[]': {
required: "Você precisa selecionar no mínimo {1} opções",
maxlength: "Check no more than {1} boxes"
}
},
errorPlacement: function (error, element) {
$('div.aviso').text("Você não pode selecionar mais que "+maximo+" atividades.");
$('div.aviso').fadeIn("slow");
$('div.aviso').delay(2000).fadeOut("slow");
}
});
$('.data').text(dia);
$("#enviar").hide();
$("#prev").hide();
$("body").on("keyup", "form", function(e){
if (e.which == 13){
if ($("#next").is(":visible") && $("fieldset.current").find("input, textarea").valid() ){
e.preventDefault();
nextSection();
return false;
}
}
});
$("#next").on("click", function(e){
if ($("#next").is(":visible") && $("fieldset.current").find("input, textarea").valid() ){
e.preventDefault();
nextSection();
maximo = $("#menu_dias li.current").data('total');
$('.data').text($("#menu_dias li.current").data('dia'));
$("#maximo").val(maximo);
$("#iddia").val($("#menu_dias li.current").data('id'));
return false;
}
});
$("form").on("submit", function(e){
if ($("#next").is(":visible") || $("fieldset.current").index() < $("fieldset").last().index() || !$("fieldset.current").find("input, textarea").valid()){
e.preventDefault();
return false;
}
});
$("#prev").on("click", function(e){
if ($("fieldset.current").index() != $("fieldset").first().index()){
e.preventDefault();
prevSection()
maximo = $("#menu_dias li.current").data('total');
$('.data').text($("#menu_dias li.current").data('dia'));
$("#maximo").val(maximo);
$("#iddia").val($("#menu_dias li.current").data('id'));
return false;
}
});
function nextSection(){
var i = $("fieldset.current").index();
if (i < $("fieldset").last().index()){
$("#menu_dias li").eq(i+1).addClass("selecionado");
goToSection(i+1);
}
}
function prevSection(){
var i = $("fieldset.current").index();
if (i <= $("fieldset").last().index()){
$("#menu_dias li").eq(i-1).addClass("selecionado");
goToSection(i-1);
}
}
$("#menu_dias li").on("click", function(e){
var i = $(this).index();
console.log(i);
if ($(this).hasClass("selecionado")){
goToSection(i);
maximo = $("#menu_dias li.current").data('total');
dia    = $("#menu_dias li.current").data('dia');
$("#maximo").val(maximo);
$("#iddia").val($("#menu_dias li.current").data('id'));
} else {
alert("Selecione as opções primeiro.");
}
});
function goToSection(i){
$("fieldset:gt("+i+")").removeClass("current").addClass("next");
$("li").eq(i).addClass("current").siblings().removeClass("current");
$("fieldset").eq(i).removeClass("next").addClass("current selecionado");
$("fieldset:lt("+i+")").removeClass("current").addClass("next");
if ($("fieldset.current").index() == $("fieldset").last().index()){
$("#next").hide();
$("input[type=submit]").show();
} if ($("fieldset.current").index() != $("fieldset").first().index()){
$("#prev").show();
}else {
$("#next").show();
$("input[type=submit]").hide();
}
}
HTML
<form id="signup" action="admprecadastro.php" method="POST">
<fieldset id="grid" class="current selecionado">
<table cellpadding="1" cellspacing="1" width="100%" id="atividades">
<tr>
<td>
Checkbox
</td>
</tr>
<tr>
<td>
<input type="checkbox" name="idatividade[]" value="1" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="2" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="3" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="4" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="5" id="idatividade"/>
</td>
</tr>
</table>
</fieldset>
<fieldset id="grid" class="next">
<table cellpadding="1" cellspacing="1" width="100%" id="atividades">
<tr>
<td>
Checkbox
</td>
</tr>
<tr>
<td>
<input type="checkbox" name="idatividade[]" value="6" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="7" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="8" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="9" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="10" id="idatividade"/>
</td>
</tr>
</table>
</fieldset>
<fieldset id="grid" class="next">
<table cellpadding="1" cellspacing="1" width="100%" id="atividades">
<tr>
<td>
Checkbox
</td>
</tr>
<tr>
<td>
<input type="checkbox" name="idatividade[]" value="11" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="12" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="13" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="14" id="idatividade"/>
<input type="checkbox" name="idatividade[]" value="15" id="idatividade"/>
</td>
</tr>
</table>
</fieldset>
<div class="botoes">
<input type="hidden" name="maximo" id="maximo"/>
<div class="seguinte">
<a class="btn" id="next">Próximo</a>
<input type="submit" id="enviar" value="Enviar">
</div>
</div>
</form>
<script type="text/javascript">
$("#idatividade").rules("add", { max: $("#maximo").val()});
</script>
6037,php,Por exemplo, em javascript temos o console.log para debugar, descobrir onde estão os erros, etc. E em PHP, quais seriam as melhores maneiras?
6039,javascript|html,Em um projeto que estou desenvolvendo preciso atualizar alguns campos da página a cada 50ms (isso é ajustável). O problema é que, quando testo no IE, os campos deixam de ser atualizados de uma hora para outra, sem explicação alguma. Normalmente, funciona alguns segundos e para.
Já verifiquei o seguinte: o depurador (do IE) não acusa nada, funciona liso no Chrome e no Firefox, e as condições (xmlhttp.readyState == 4 && xmlhttp.status == 200) são satisfeitas, setInterval() está funcionando. A página só volta a funcionar na base do F5.
O código que utilizo para atualizar os campos é o seguinte:
var adc_array = [0, 0, 0, 0, 0, 0, 0];
function update_adc()
{
var xmlhttp;
if (window.XMLHttpRequest)
{
xmlhttp = new XMLHttpRequest();
}
else
{
xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.onreadystatechange = function()
{
if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
{
adc_array = xmlhttp.responseText.split(" ");
for (var i = 0; i < adc_array.length; i++)
{
if(adc_array[i])
{
document.getElementById("adc" + i).innerHTML = adc_array[i] + " V";
}
}
}
}
xmlhttp.open("GET", "./rtu:analogic_inputs", true);
xmlhttp.send();
}
Onde: as div's atualizas são adc0, adc1 ,adc2, adc3, adc4, adc5 e ./rtu:analogic_inputs é o endereço que pego as informações que serão atualizadas (e está funcionando corretamente no IE).
Aparentemente é como se o xmlhttp.open() houvesse falhado, mas isso não está ocorrendo (posso acessar manualmente, e funciona nos outros navegadores).
6063,html,Como exibir uma div, que terá um resumo sobre o filme (texto), e um botão para (VER MAIS) ao passar o mouse sobre uma imagem.
Exemplo:
<a href="#">IMAGEM</a>
Ao passar o mouse em cima desse link, aparecer uma div ao lado direito, com informações sobre esse filme.
Um exemplo do que estou falando, é o site da netflix ou telecine play.
6068,javascript|jquery,Ao abrir ou fechar a fancybox (sou programador php mas iniciante em Javascript com jquery), a minha página dá um refresh e volta para o topo do conteúdo perdendo o foco do lugar que o conteúdo se encontrava ao acionar a fancybox. A ação pode ser vista aqui (http://santins.com.br/_z/holcim) clicando em qualquer link que abre a fancybox e o código que estou usando é este:
$(document).ready(function ($) {
$('.fancybox').fancybox({
closeClick: true,
padding: 0,
width: 800,
height: 'auto',
arrows: true,
autoSize: false,
nextClick: true,
'ajax': {
dataFilter: function (data) {
return $(data).find('#primary')[0];
}
}
});
});
6105,html,Hoje eu precisei fazer um fix para IE8 no qual eu utilizava o seguinte seletor para alinhar 3 caixas horizontalmente.
#page-content .section-servicos .box-servico:nth-child(3n+2){ margin-right:0px; }
no IE8 este código não funciona, então resolvi fazer com JQuery pois sabia que assim iria funcionar.
Foi ai então que surgiu a minha dúvida.
Existe outra maneira de se reproduzir este mesmo efeito de seletor apenas com CSS e que funcione no IE8?
Segue abaixo o fix em JQuery que utilizei para solucionar o problema (só pro caso de alguém precisar).
$('.box-servico:nth-child(3n+2)').css('margin-right', '0px');
.
EDIT: Encontrei um artigo muito bom explicando a funcionalidade dos seletores CSS. LINK AQUI
6119,java,Preciso der um arquivo no caso *.JSON. Entendo que existe uma biblioteca para isso no caso utilizo a json-simple-1.1.1. Como é necessário fazer a leitura do arquivo primeiro e depois trabalhar com ele.
Minha dúvida é a seguinte:
Guardo o arquivo file.json dentro de um pacote com.app.json e preciso acessar esse arquivo.
Qual seria o método mais eficiente para acessar esse arquivo dentro do pacote?
Observação:
Isso deve valer para arquivos .json, .txt, .xml e outros.
6140,javascript|jquery,Preciso de uma ajuda com o seguinte problema, tenho o seguinte HTML, que faz parte de um acordion
<div id="accordion2">
<h3 class="btn-sub-main"><a>Banho</a><div class="seta-btn-sub"></div></h3>
<div id="outraDiv">
<ul>
<li><a href="#">condicionadores</a><span></span></li>
<li><a href="#">sabonetes</a><span></span></li>
<li><a href="#">shampoos</a><span></span></li>
<li><a href="#">outros</a><span></span></li>
</ul>
</div>
<h3 class="btn-sub-main"><a>Higiene Infantil</a><div class="seta-btn-sub"></div></h3>
<div id="outraDiv">
<ul>
<li><a href="#">condicionadores</a><span></span></li>
<li><a href="#">sabonetes</a><span></span></li>
</ul>
</div>
<h3 class="btn-sub-main"><a>Alimentação</a><div class="seta-btn-sub"></div></h3>
<div id="outraDiv">
<ul>
<li><a href="#">condicionadores</a><span></span></li>
<li><a href="#">outros</a><span></span></li>
</ul>
</div>
</div>
Tenho o seguinte código Javascript que altera o fundo da DIV="seta-btn-sub" (imagem de seta):
$(function() {
$("#accordion2").accordion({
icons: null,
beforeActivate: function( event, ui ) {
$("#" + ui.newHeader.attr("id")).children(".seta-btn-sub").toggleClass("active");
$("#" + ui.oldHeader.attr("id")).children(".seta-btn-sub").toggleClass("active");
},
create: function( event, ui ) {
$("#" + ui.header.attr("id")).children(".seta-btn-sub").toggleClass("active");
}
});
});
Tentei de diversas formas fazer o que desejo baseado neste código, mas não consegui.
Desejo que o h3 que tem a class "btn-sub-main" troque a cor do background quando o campo aria-hidden')=='true , ou que add uma class e por lá insiro as característica do CSS que desejo.
Abaixo outro script que existe neste accordion que me esconde/mostra a div="outraDiv", tentei usa-la juntando as duas de diversas formas mas não consegui.
controlaOutraDiv = function(selector){
$("#accordion2 h3", selector).bind('click',function(){
console.log($(this).next().attr('aria-hidden'));
if($(this).next().attr('aria-hidden')=='true'){
$("#outraDiv ul li").show();
}else if($(this).next().attr('aria-hidden')=='false'){
$("#outraDiv ul li").hide();
}
});
}
Código do efeito do accordion:
$(function() {
$("#accordion2").accordion({
collapsible: true
});
controlaOutraDiv("#accordion2");
});
jsFiddle
6151,java,Eu quero utilizar algo similar ao org.springframework.transaction.annotation.Transactional do Spring que configura uma Transação só que utilizando apenas a API do Jersey. Algo parecido com o código que segue abaixo:
@Resource
private SessionFactory factory;
private Class<E> entity;
private String tableName;
public DataProvider(Class e) {
this.entity = e;
this.tableName = entity.getAnnotation(Table.class).name();
}
@Transactional(readOnly = true)
public E get(final Long ID) {
return (E)factory.getCurrentSession().get(entity, ID);
}
@Transactional(readOnly = true)
public List<E> getAll() {
Session s = factory.getCurrentSession();
return s.createQuery("FROM " + tableName ).list();
}
É possivel?
6155,javascript|php|jquery,Eu tenho uma página com uma listagem de fotos. O utilizador ao clicar em "adicionar fotos", é aberta outra aba em que o utilizador pode adicionar fotos. Mas no fim de as inserir, essa aba é fechada. O que eu queria, era que ao fechar a janela, onde adiciono as fotos a janela da listagem Actualizar-se a listagem das fotos automaticamente. É possível?
6158,c#,Gostaria de saber como saber o número de semanas num determinado intervalo de datas em C#.
6159,c#,Estou precisando criar uma checkboxlist na minha pagina utilizando MVC (Razor). Reparei que não existe nenhum Html helper do tipo Html.CheckboxlistFor ou coisa parecida.
Alguém tem algum exemplo de como eu poderia fazer isso. Se possível mostrar como seria o código no controller nas acoes para popular e depois para capturar os checkbox selecionados?
6252,c#|html,Tenho 2 elementos HTML, um TextBox e um Hidden, que possuem valores, como passar pro parametro no Action link os valores desses elementos? Abaixo os parametros docItemId e vlrImobIcms estao dando erro.
<div class="form-group">
@Html.Label("Valor imobilizado do ICMS", new { @class = "col-xs-4 control-label" })
<div class="col-xs-3">
@Html.TextBox("VlrImobilizado", "", new { @class = "form-control" })
</div>
<div class="col-xs-3">
@Html.ActionLink("Gerar Parcelas", "Gerar", new { bemId = @ViewBag.BemID, docItemId = ItemSelecionado.value, vlrImobIcms = VlrImobilizado.value }, new { @class = "btn btn-default btn-sm" })
@Html.Hidden("ItemSelecionado", "")
</div>
</div>
6256,javascript|jquery,Preciso saber como mudar a posição dos Ticks (Entidades do Gráfico) para que fiquem na diagonal ao invés da vertical, pois como mostrado na imagem em anexo, os nomes sobrescrevem uns aos outros quando atingem um certo tamanho.
<script type="text/javascript">
$(document).ready(function () {
$.jqplot.config.enablePlugins = true;
var s1 = [21, 61, 72, 10, 30, 15, 30, 51, 22, 48];
var ticks = ['Eduardo Nobre da Silva Sousa', 'Eduardo Nobre da Silva Sousa', 'Eduardo', 'Eduardo', 'Eduardo', 'Eduardo', 'Eduardo', 'Eduardo', 'Eduardo', 'Eduardo'];
plot1 = $.jqplot('chart1', [s1], {
// Only animate if we're not using excanvas (not in IE 7 or IE 8)..
animate: !$.jqplot.use_excanvas,
seriesDefaults: {
renderer: $.jqplot.BarRenderer,
pointLabels: {
show: true
}
},
axes: {
xaxis: {
renderer: $.jqplot.CategoryAxisRenderer,
ticks: ticks
}
},
highlighter: {
show: false
}
});
$('#chart1').bind('jqplotDataClick',
function (ev, seriesIndex, pointIndex, data) {
$('#info1').html('series: ' + seriesIndex + ', point: ' + pointIndex + ', data: ' + data);
}
);
});
</script>
6258,html,Estou precisando deixar uma div com height: 100% de conteúdo e abaixo dela ainda ficar o rodapé, mas, por exemplo, quando não tiver conteúdo para completar toda a tela, o rodapé aparece no final da pagina. Ele tem 100px e quando o conteúdo completar a pagina, o rodapé fica somente depois do conteúdo, após a rolagem mesmo...
Estou com esse problema pois estou usando o bootstrap e a minha navbar fica na vertical no canto do lado direito. Minha tag html tem a mesma cor do navbar para completar a cor até o final pois o menu não completa tudo e o rodapé tem a mesma cor dessa sidebar e da tag html.
A minha div de conteúdo possui outra cor, quando a pagina não completa tudo, o rodapé sobe e a cor do rodapé fica estendida até boa parte da página, deixando esteticamente feio. O rodapé devia ficar no fim da pagina e a cor da parte de conteúdo ficasse ate onde aparece o rodapé.
Alguém tem alguma solução pra isso?
6266,jquery|html,Estou desenvolvendo um site one page scroll e queria que cada link e (bullets) que eu  clicasse ficasse ativo referente a página que eu estou.
Esse é o exemplo que estou fazendo
o script do scroll não coloquei ainda mas queria deixar o efeito de clicar nos (bullets) prontos.
<nav class="nav">
<ul>
<li><a href="#">LOCALIZAÇÃO</a></li>
<li><a href="#">PROJETOS</a></li>
<li><a href="#">APARTAMENTOS</a></li>
<li><a href="#">LAZER</a></li>
</ul>
<div class="bg_bullets">
<a href="index.html" class=""><div class="bullets_one active"> </div> </a>
<a href="#" class=""><div class="bullets_two active"> </div> </a>
<a href="#" class=""><div class="bullets_three active"> </div> </a>
<a href="#" class=""><div class="bullets_four active"> </div> </a>
</div>
</nav>
#header-container .nav {
position: absolute;
top: 32px;
letter-spacing: 1px;
left:167px;
}
.header-container .nav li {
font-size: 14px;
float: left;
text-transform: uppercase;
margin-right: 5px;
}
#header-container .bg_bullets{
top:40px;
position:absolute;
background:url(../IMAGES/bg_bulets.png) no-repeat;
width:590px;
height:30px;
}
#header-container .bullets_one{
float: left;
width: 16px;
height: 16px;
margin-right: 120px;
background: #FFF;
border-radius: 50%;
border: 3px solid #D7D8DA;
transition: all 0.4s ease;
margin-top:-6px;
margin-left:10px;
position:absolute;
}
#header-container .bullets_one:active{
background:#CC9;
}
#header-container .bullets_one:hover, #header-container .bullets_three:hover, #header-container .bullets_four:hover {
background:#CC9;
}
Caso minha pergunta ainda esteja confusa eu tenho alguns exemplos:
Exemplo 1
Exemplo 2
Exemplo 3
6280,java,Eu tenho um arquivo .bat que executa alguns pre-requisitos durante o build do meu projeto Maven. Eu quero executar este arquivo .bat automaticamente quando eu fizer o build do projeto que eu desenvolvi
Existe alguma forma de realizar esta tarefa com o Maven?
6299,jquery,Estou precisando de uma ajuda em Wordpress pois eu gostaria de carregar posts sem refresh ou reload da página. Tenho um menu que retorna posts de uma determinada categoria em uma <div> a esquerda e gostaria de conseguir carregar na <div> a direita o conteúdo referente ao hyperlink que foi clicado. Além do mais, isto está dentro de uma fancybox, motivo pelo qual não pode haver reload. A estrutura HTML é esta:
<div id="floatpost" role="main">
<!-- section -->
<section>
<div class="rReleases">
<div id="menu" class="rPosts">
<ul>
<?php
$recent = new WP_Query("cat=7");
while ($recent->have_posts()) : $recent->the_post();
?>
<li>
<p class="title">
<?php the_time('j / m'); ?> - <a href="<?php the_permalink(); ?>"><?php the_title(); ?></a>
</p>
</li>
<?php
endwhile;
?>
</ul>
</div>
<div id="content" class="rPost">
</div>
</div>
</section>
<!-- /section -->
</div>
6301,jquery,Quero pegar o valor da porcentagem de uma requisição ajax em um servidor externo. Como fazer?
$("#uptade_space_disk").click(function(){
var url = "/calcular-espaco-em-disco"
jQuery.ajax({
url: url,
dataType: 'script',
beforeSend: function() {
$("#loader").show();
$("#uptade_space_disk").hide();
},
success: function() {
},
error: function() {
}
});
})
6330,c#,Estou a tentar fazer uma query onde verifico se o dia semana é o escolhido para assim criar uma lista de dados que carrega num ViewModel.
Query:
var plan = db.Servicos.Where(s => (TecnicoResp.HasValue ? s.NumTransportado == TecnicoResp.Value : true)
&& ((IdFornecedor.HasValue ? s.FornecedorID == IdFornecedor : true) && (estabelecimentosDrop.HasValue ? s.EstabelecimentoID == estabelecimentosDrop : true))
&& (IdFornecedor.HasValue ? s.FornecedorID == IdFornecedor : true)
).SelectMany(sc => sc.Planeamento).Where(p => (checkQua == "Sim" ? p.DataAssistenciaProgramada.Value.DayOfWeek == DayOfWeek.Wednesday:true));
//O erro encontra-se no where a seguir ao SelectMany
List<FiltroSPlaneamentoViewModel> resultPlaneamento = FiltroSPlaneamentoViewModel.carregaListaSPlanPlanemaneto(plan.ToList());
Assim vejo se o valor passado checkQua é "Sim", e caso seja vou buscar as datas onde o dia da semana seja quarta-feira. Penso que o erro seja daqui, pois ao enviar os dados para o ViewModel resultPlaneamento obtenho o seguinte erro:
The specified type member 'DayOfWeek' is not supported in LINQ to Entities. Only initializers, entity members, and entity navigation properties are supported.
6333,java,Explicação:
Possuo um componente JTextField que seria um contador regressivo, porém quando eu utilizo o ActionListener desta forma:
public static ActionListener alredBGolem = new ActionListener() {
public void actionPerformed(ActionEvent evt) {
redBGolem.setText(String.valueOf(tempoRedBGolem));
tempoRedBGolem--;
}
};
Ele funciona corretamente, mas quando chama uma função:
public static JTextField redBGolem = new JTextField();
private static int tempoRedBGolem = 300;
private static Timer timerRedBGolem = new Timer(1000, alredBGolem);
public static ActionListener alredBGolem = new ActionListener() {
public void actionPerformed(ActionEvent evt) {
count(redBGolem,timerRedBGolem,tempoRedBGolem,1);
}
};
public static void count(JTextField Field, Timer cTimer, int Tempo, int Type){
Field.setText(String.valueOf(Tempo));
Tempo--;
System.out.println(Tempo);
}
Ele apenas imprime 299 repetidamente e o JTextField não sai do 300.
Como resolver este problema?
6334,c#,Estou tendo um problema, que seria um erro dizendo que não existe parâmetro sendo passado para a procedure.
Ele está executando o seguinte código:
cmdProcedure.Parameters.AddWithValue("@id", 0);
Command:
public List<Models.Admin> UpdateList()
{
using (var context = new DbContext())
{
var cmdProcedure = new SqlCommand("GetAdmin");
cmdProcedure.Parameters.AddWithValue("@id", 0);
using (var data = context.ExecuteSelectProcedure(cmdProcedure))
{
return GetList(data);
}
}
}
public SqlDataReader ExecuteSelectProcedure(SqlCommand cmdProcedure)
{
cmdProcedure.Connection = _connection;
return cmdProcedure.ExecuteReader();
}
Aqui esta minha procedure:
PROCEDURE [dbo].[GetAdmin]
(
@id int
)
AS
BEGIN
SET NOCOUNT ON;
if (@id > 0)
SELECT * FROM Admin WHERE idAdmin = @id
else
SELECT * FROM Admin
END
Imagem do erro:
6342,java,O nome da classe que contém o SessionFactory é DataProvider e possui a seguinte implementação:
@Resource(name="sessionFactory")
protected SessionFactory factory;
protected Class<E> entity;
protected String tableName;
public DataProvider(Class e) {
this.entity = e;
this.tableName = entity.getAnnotation(Table.class).name();
}
@Transactional(readOnly = true)
public List<E> getAll() {
Session s = factory.getCurrentSession(); // A exceção acontece aqui.
return s.createQuery("FROM " + tableName ).list();
}
O bean com a configuração do SessionFactory é:
<bean id="sessionFactory" class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">
<property name="dataSource" ref="dataSource" />
<property name="packagesToScan" value="models"/>
<property name="configurationClass" value="org.hibernate.cfg.AnnotationConfiguration" />
<property name="hibernateProperties">
<props>
<prop key="hibernate.dialect">org.hibernate.dialect.Oracle10gDialect</prop>
<prop key="hibernate.show_sql">true</prop>
<prop key="hibernate.hbm2ddl.auto">update</prop>
</props>
</property>
</bean>
Estou obtendo NullPointerException na linha comentada. A pergunta é: estou fazendo algo de errado ou ainda falta alguma configuração?
6344,java,Meu problema:
Preciso ler um JSON que está em uma determinada URL. Tentei o seguinte código, porém não funciona:
JSONObject jsonObjeto;
JSONParser parser = new JSONParser();
URL url = new URL("http://www.exemplo.br/teste.json");
String x = url.openStream().toString();
Reader reader = new InputStreamReader(getClass().getResourceAsStream(x));
jsonObjeto = (JSONObject) parser.parse(reader);
Recebo o seguinte erro:
Exception in thread "main" java.lang.NullPointerException
at java.io.Reader.<init>(Reader.java:78)
at java.io.InputStreamReader.<init>(InputStreamReader.java:72)
Observações:
Esse código é um exemplo e não inclui o try{}catch(...){} no exemplo, alguém tem alguma noção de como resolver esse problema ou por que ele está ocorrendo?
Tentei usar String x = url.toString() porém também obtive o mesmo erro.
6356,jquery,A função $.ajax está funcionando corretamente, mas o retorno dos dados que estão sendo inseridos dentro da div <#exibeCep> está sendo duplicando quando o usuario clica varias vezes no botão. Tentei usar .remove(), e.preventDefault();, stopPropagation();, bind() e outros, mas nada evitou a duplicidade da div.
O que posso colocar para evitar a duplicação da div ?
<div id="exibeCep" class="conf_frete">  <h1>Escolha a opção do frete</h1>  </div>
$('#buscafrete').click(function(e) {
e.preventDefault();
e.stopPropagation();
cep = $('#cep').val();
$.ajax({
type:'GET',
url: "{% url 'get_frete' %}",
dataType: "json",
data: {
data:cep,
csrfmiddlewaretoken:'{{csrf_token}}',
},
success: function(retorno){
if(retorno['sedex_cod_error'] == -3 || retorno['pac_cod_error'] == -3){
$('<label><input type="radio" name="zipcode" id='+'sedex'+' value='+'CEP de destino invalido'+'/>'+
'CEP de destino invalido.'+'</label>').appendTo('#exibeCep');
}else
{
$('<label><input type="radio" name="zipcode" checked id='+'sedex'+' value='+retorno['Sedex']+'/>'+
retorno['Sedex']+' ( '+'Sedex'+' ) '+'</label>').appendTo('#exibeCep');
$('<label><input type="radio" name="zipcode" id='+'sedex'+' value='+retorno['Pac']+'/>'+retorno['Pac']+' ( '+'Pac'+' ) '+'</label>').appendTo('#exibeCep');
}
},
error: function(jqXHR, textStatus, errorThrown){
//alert("FALHOU");
console.log('Error');
console.log(jqXHR);
console.log(textStatus);
console.log(errorThrown);
},
});
});
6368,java,Estou com um problema com o background transparente de um JTextField, ao mudar o conteúdo do JTextField ele parece que sobrepõe o texto e fica tudo misturado:
Estou setando o background assim:
Field.setBackground(new Color(1.0f,1.0f,1.0f,0f));
//EDIT
Consegui fazer usando a dica do @utluiz porem os numeros ficam com uns pixels brancos em volta:
Tem como deixar o fundo totalmente transparente também?
6372,jquery,Eu tenho uma pequena aplicação, e fui construindo ela conforme fui conhecendo o Laravel, então hoje em dia tem coisas que vejo que estão erradas e procuro adequar às boas práticas de programação e um dos pontos-chave são as intermináveis inclusões no db, via ajax.
Bom para entenderem melhor a estrutura da aplicação é a seguinte:
O sistema é um grande banco de referências de texto, video, imagem, url, são entradas numa coluna do banco de dados;
O sistema possibilita uma reordenação dos itens, usando a função sortable do jQueryUI;
A grande questão é, atualmente tenho 448 entradas (ordenadas por id decrescente) e se por exemplo eu quiser definir que a última entrada que fiz, ex: #449, seja a primeira a ser exibida (no caso ordem:0), preciso mapear e mandar um post re-mapeando todas as outras entradas...
Minha principais dúvidas, são:
Como posso enviar as index atualizadas num post só, aliviando o DB?
Como gerar uma resposta depois que a lista for atualizada?
Vou postar apenas a função de update e a função do ajax, caso precisem de mais infos posto aqui.
//Controller
public
function updateOrdem() {
$entries = $this->entrada->orderBy('ordem', 'ASC')->get();
$itemID = Input::get('itemID');
$itemPos = Input::get('itemPos');
foreach($entries as $entry) {
return DB::table('entradas')->where('id', '=', $itemID)->update(array('ordem' => $itemPos));
}
}
//AJAX
$('#entradas ul').sortable({
revert: true,
cancel: "#entradas ul li span, .modal",
stop: function (e, ui) {
$.map($(this).find('li'), function (el) {
var itemID = el.id
var itemPos = $(el).index();
console.log('pos' + itemPos);
console.log('id' + itemID);
$.ajax({
type: "POST",
url: "updateOrdem",
data: {
itemID: itemID,
itemPos: itemPos
},
dataType: 'html',
done: function () {
console.log('ok');
}
});
});
}
});
http://laravel.io/bin/MXE8
6376,java,Problema com Maven install:
Quando rodo no eclipse Run As > Maven install sempre recebo essa mensagem:
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building ProjetoTeste 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]
Porque ocorre SLF4J: Failed e como resolver?
Observação: Utilizo Maven pelo Eclipse e com Java.
6380,javascript|c#,Gostaria de saber a melhor forma de obter o MAC Address do cliente da minha aplicação Asp.Net Web Forms. Como é uma informação de baixo nível, creio que não seja tão simples como parece.
6381,jquery,Estou usando jquery 1.11.0 junto com o plugin jquery-blockui 2.66.0 e ao bloquear a tela, a div fica com fundo branco nos IE 8 e anteriores.
Seguem as imagens:
A chamada para o blockUI:
$.blockUI({
message: "<p style=\"font-weight: bolder; color: white;\">N&atilde;o houve resultado para o seu filtro.<br /><br /><a class=\"fecharBlockUI\">Fechar</a></p>",
timeout: 5000,
onOverlayClick: $.unblockUI
});
Sei que devo fazer um CSS hack, mas não conheço bem front-end, alguém poderia me explicar como fazer para manter o comportamente igual à primeira imagem também no IE 8 e anteriores?
Como requisitado, segue a alteração de estilo do css:
$.blockUI.defaults.css = {
border: "none",
backgroundColor: "rgba(255, 255, 255, 0)",
textAlign: "center",
padding: 0,
margin: 0,
width: "30%",
top: "40%",
left: "35%",
color: "#000000",
cursor: "wait"
};
6387,c#,Eu sei que no meio de uma GridView, é possível ler um item imediato com a tag BoundField:
<asp:BoundField DataField="MeuItem" HeaderText="Meu item" />
Mas eu recebo um erro ao tentar fazer isso:
<asp:BoundField DataField="MeuItem.SubItem" HeaderText="Meu sub item" />
O erro lançado descreve-se:
A field or property with the name 'MeuItem.SubItem' was not found on the selected data source.
Eu já chequei duas vezes se escrevi o nome corretamente e se precisar checo de novo.
Mas creio que não seja esse o problema.
Qual o melhor meio para atingir meu objetivo?
6391,java,Problema:
Quando crio um projeto maven o projeto sempre ficava com a versão JDK 1.5, se alterar na IDE a versão do JDK ao fazer um Maven > Project Update ele volta para JDK 1.5.
O arquivo setting.xml é o lugar onde defino a versão de todos os projetos maven? Se não onde faço para todos os novos projetos sempre utilizem a versão JDK 1.7 por exemplo.
Observação: encontrei uma forma de resolver o problema usando o arquivo pom.xml.
Código:
<!-- CONFIGURAR VERSÃO DO JAVA PARA 1.7 -->
<build>
<plugins>
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-compiler-plugin</artifactId>
<version>3.1</version>
<configuration>
<source>1.7</source>
<target>1.7</target>
</configuration>
</plugin>
</plugins>
</build>
Vantagem e Desvantagem
Entendo que a vantagem deste código é que cada projeto Maven pode trabalhar com uma versão especificado Java. A desvantagem desse código é para cada novo projeto tenho que alterar o pom.xml.
6392,javascript|jquery,Tenho uma operação que preciso realizar de forma síncrona, mas parte das informações das quais preciso somente podem ser obtidas via Ajax.
Tentei tornar tudo síncrono com uma espera pelo retorno do Ajax. O problema é que enquanto qualquer função estiver executando, os eventos do Ajax que tratam do retorno com sucesso não são executados.
Isso é um exemplo do que estou a fazer:
function foo () {
var a = false;
$.ajax({
url: "foo" // substitua por qualquer URL real
}).done(function () {
a = true;
});
while(!a) { } // Isto é apenas para se ter uma espera.
alert(a); // Isso nunca vai executar
}
foo();
E isso tem me gerado uma race condition: a função associada ao evento done não executará enquanto o while estiver a iterar, e o while jamais terminará enquanto o evento done não for executado.
Existe alguma forma de se atingir meu objetivo?
6402,c#,Como eu crio relatórios pelo Cristal Reports, utilizando um DataSet que contenha mais de uma Tabela? Com uma tabela eu consigo trabalhar normal, porém quando eu insiro mais de uma tabela o resultado do Relatório vem em branco. A unica coisa que fiz após a conexão foi selecionar os Data Field's e colar no relatório.
Segue imagens:
Segue também a minha chamativa do relatório pelo MVC:
public ActionResult relatorio_pdf()
{
connectionRateio.ConectarBanco(modelLoginRateio);
DataTable dataTable = new DataTable();
var query = @"SELECT * FROM MYTABLE MT INNER JOIN MYOTHERTABLE MOT ON MT.ID = MOT.ID";
var command = new OracleCommand(query, connectionRateio.connection);
var dataAdapter = new OracleDataAdapter(command);
dataAdapter.Fill(dataTable);
ReportClass rptH = new ReportClass();
rptH.FileName = Server.MapPath("~/Views/Relatorios/relatorio.rpt");
rptH.Load();
rptH.SetDataSource(dataTable);
Stream stream = rptH.ExportToStream(CrystalDecisions.Shared.ExportFormatType.PortableDocFormat);
connectionRateio.FecharConexaoBanco();
return File(stream, "application/pdf");
}
6461,java,Estou trabalhando em um projeto UML e utilizando o JGRAPHX, ou mxGraph como preferirem.
No caso, quando eu tenho um grupo de vértices, é adicionado uma linha pontilhada para marcar que aquele vértice é um grupo.
Como posso mudar o estilo dele como as figuras abaixo?
Quando não é um grupo de vértices:
Quando for um grupo de vértices:
6473,c#,Eu necessito criar uma rotina em C# que faça a leitura de 2 bancos de dados e alimente os dados da leitura em um outro banco. A parte de desenvolvimento do sistema em si eu consigo fazer sem problemas, porém não sei que tipo de projeto desenvolver. Essa rotina será executada semanalmente e ela deve ser publicada/alocada em um server.
Minha dúvida é: "Qual é a forma correta de se desenvolver tal rotina? Seria a criação de um executável que seria acionado pelo scheduler do windows? Ou criar um serviço?"
6475,c#,Eu gostaria de fazer com que no fim de todas as requisições ao meu Web Service o SaveChanges fosse executado. Alguém poderia me ajudar?
6482,javascript|jquery,Gostaria de saber como fazer para carregar a biblioteca do jQuery com Javascript puro e rodar algo simples com jQuery após sua carga?
Meu código está desta forma:
function colocaScript(){
var scriptJquery   = document.createElement('script')
scriptJquery.type  = 'text/javascript';
scriptJquery.src   = "http://code.jquery.com/jquery-1.10.2.min.js";
scriptJquery.async = true;
headHTML = document.getElementsByTagName('head')[0];
headHTML.insertBefore(scriptJquery,headHTML.firstChild);
}
colocaScript()
$(document).ready(function () {
alert("Ola Mundo");
})
Ele retorna este erro:
Uncaught ReferenceError: $ is not defined
6505,c#,Estou criando um Sistema de Gerenciamento de Usuários em Asp.net MVC 4 com duas Tabelas Simples.
Usuários e Roles.
Consigo criar os usuários normalmente selecionando as Roles que ele vai possuir.
Na hora de Editar estou tentando Listar todas as Roles em CheckBox e Marcar Apenas as roles que o usuário possui, sendo assim possível alterar as roles do usuário na edição.
Segue abaixo como estou tentando fazer.
Controller
public ActionResult Edit(int id = 0)
{
var usuario = _ctx.Usuarios.Include("Roles").ToList();
var user = usuario.SingleOrDefault(u => u.UsuarioId == id);
if (user == null)
{
return HttpNotFound();
}
ViewBag.Praca = new SelectList(_ctx.Pracas.ToList(), "PracaId", "Nome");
ViewBag.Roles = _p.GetAllRoles();
return View(user);
}
View Edit
<div class="col-lg-7">
<h4>Permissões</h4>
@foreach (var item in ViewBag.Roles)
{
foreach (var roles in Model.Roles)
{
<label style="display: block">
<input type="checkbox" checked="@item.Equals(roles.Nome)" /> @item
</label>
}
}
</div>
Dessa maneira os dados estão vindo duplicados.
Ex: Digamos que exista duas Roles "Admin" e "Gerente" e o Usuário possui as Duas, a saída fica:
[x] Admin
[ ] Admin
[ ] Gerente
[x] Gerente
Se o Usuário tiver apenas uma das Roles a Saída sai do jeito que quero que fique.
[x] Admin
[ ] Gerente
6510,java,Assim como monitoro o PHP e Django, gostaria de monitorar o "Browser page load time" de aplicações java.
Instalei o "Java agent self-installer" conforme descrito nos documentos da New Relic. Está tudo certo, estou monitorando diversos recursos da JVM, monitoro o acesso ao DB e tudo mais.
O problema é que o "Browser page load time" não habilita assim como no PHP e Python/Django..
Porque?
6516,java,Gostaria de saber se existe um meio de gerar um JLabel ou JTextField na posição onde clicares, em um JPanel ou um JFrame.
É possivel?
6546,javascript|jquery,O Flowtype não esta atualizando o tamanho correto da fonte quando eu carrego a página sem a janela estar maximizada e maximizo ela. Quando a janela é maximizada a fonte aparece no tamanho que deveria estar quando não estava maximizada. E se eu restaurar para não ficar maximizado a fonte fica com o tamanho que devia estar quando maximizada. Se eu redimensionar a janela com o mouse nas bordas o Flowtype funciona bem. Isso seria um bug ou eu estou fazendo algo errado no JavaScript? Eu estou chamando o Flowtype quando a página é carregada, se eu mover o codigo para quando a janela é redimensionada o Flowtype não funciona.
6553,javascript|jquery|html,Explicação:
Tenho uma <div> pai que contém duas <div> filhas, porém eu gostaria de inserir uma <table> utilizando javascript, entre, ou seja, no meio dessas duas <div> filhas que já existem na <div> pai.
Porém a minha <table> é uma string que contem o código HTML como valor.
Código da minha <table> como string:
var HTMLString = '<table id="teste"><tbody id="appender"><tr class="header"><td class="cod">Código</td> <td class="nome">Nome</td><td class="tipo">Cidade - Estado</td></tr></tbody></table>';
HTML da div pai e das div filhas:
<div id=elementoPai>
<div id="fixedHeader_outer">
<div id="fixedHeader">conteudo</div>
</div>
<!-- quero que a HTMLString se transforme num html que apareça aqui no meio das duas -->
<div id="pnlOpcoes_outer">
<div id="pnlOpcoes">conteudo</div>
</div>
</div>
Exemplo no JSFiddle
Pergunta:
Como eu poderia fazer isto? Gostaria de várias soluções, citando as vantagens e desvantagens das mesmas, podendo utilizar do jQuery ou não
6554,javascript|jquery|html,Ao clicar em uma linha de uma tabela, como marcar ela  mudando a cor do fundo da linha, e se clicar novamente desmarcar o fundo, e se clicar em outra linha desmarcar a antiga marcada e marcar a nova.
Como fazer isso usando JavaScript / jQuery?
6573,javascript|jquery|html,Estou tentando fazer com que ao clicar no link "próximo", uma das minhas listas seja revelada e a anterior seja ocultada, usando uma classe que possui display: none;, tentei com .next() do jQuery mas ocorreram alguns problemas, como, por exemplo, numa div com 3 ULs ele pular do primeiro para o último.
http://jsfiddle.net/5kkxy/
<div class="content">
<a href="#" class="prev">anterior</a>
<div class="representante-info">
<div id="#rep-info" class="texto">
<ul>
<li>
<h2>foo LTDA</h2>
</li>
<li>End: Alameda dos Anjos 233, São Caetano do Sul - SP</li>
<li>Cep: 1234-000</li>
<li>Fone: (11) 1234-0000</li>
<li>Site: www.foo.com.br</li>
<li>E-mail: foo@foo.com.br</li>
</ul>
<ul class="hidden">
<li>
<h2>FOO LTDA</h2>
</li>
<li>End: Rua do Bosque, 222, São Paulo - SP</li>
<li>Cep: 1234-000</li>
<li>Fone: (19) 8845-9897</li>
<li>Site: www.foo.com.br</li>
<li>E-mail: Foo@foo.com.br</li>
</ul>
<ul class="hidden">
<li>
<h2>Jhon Doe</h2>
</li>
<li>Rua Plesk, 400 São paulo - SP</li>
<li>Cep: 1234-000</li>
</ul>
</div>
</div>
<!-- /.representante-info --> <a href="#" class="next">proximo</a>
</div>
CSS:
.content {
width: auto;
height: 750px;
margin: 0 auto;
}
.content a.prev, a.next {
float: left;
display: block;
width: 31px;
height: 27px;
color: #f26;
position: relative;
}
.content a.prev {
background-image: url(../assets/img/setas.png);
background-repeat: no-repeat;
background-position: 0 0;
top: 50px;
margin: 0 10px 0 0;
}
.content a.next {
background-image: url(../assets/img/setas.png);
background-repeat: no-repeat;
background-position: 0 -27px;
top: 50px;
margin: 0 0 0 10px;
}
.content .representante-mapa {
width: 850px;
height: 560px;
}
.content .representante-info {
width: 650px;
height: 134px;
background-color: #df6225;
background-image: url(../assets/img/rep-map-info.png);
background-position: -1% 50%;
background-repeat: no-repeat;
margin: 0 auto;
float: left;
}
.content .representante-info .texto {
width: 328px;
height: 100%;
margin: 0 0 0 60px;
}
.content .representante-info .texto ul {
list-style-type: none;
margin: 0;
padding: 0 0 0 20px;
}
.content .representante-info .texto ul.hidden {
display: none;
}
.content .representante-info .texto ul li {
font-family:'helvetica neue', arial, sans-serif;
font-size: 14px;
color: #fff;
}
.content .representante-info .texto ul li h2 {
font-family: arial, serif;
text-transform: uppercase;
font-size: 16px;
color: #fff;
padding: 0;
margin: 0;
}
6574,html,Estava desenvolvendo uma tela, que continha uma tabela com um estilo no tr:hover para quando o usuário passasse o mouse sobre as linhas da mesma, elas ficassem com um aspecto diferente. Tudo estava indo bem até o momento em que eu resolvi que queria colocar uma "bendita borda" em volta da linha no :hover, sendo que os <td>'s já possuem borda.
Demo no JSFiddle
Acontece que a borda do <tr> não aparece na frente. E então o que fazer?
6580,javascript|jquery,Cada vez que eu clicar em um botão, quero adicionar +1 a uma variável.
Por exemplo: tenho uma variável count recebendo o valor 5, ao clicar em um botão quero que o valor 5 mude para 6 e assim sucessivamente, exibindo em um alert().
É possivel?
6585,java,Gostaria de saber como realizar o TDD usando Hibernate. Me informaram que este ORM armazena memória antes de gravar no possível, então queria saber como testar um dado que está em memória. Por exemplo: executo o comando para salvar e faço um teste para verificar se este dado esta salvo, é possível?
6586,javascript|jquery|html,Como adicionar o efeito de fadeIn(), junto com um append().
EXEMPLO
6590,jquery,Gostaria de saber o motivo real da incapacidade que a função jQuery.css() possui, que seria o fato de que ao utilizar o atributo !important em qualquer propriedade CSS atribuída, o mesmo não é adicionado.
Também gostaria de saber se há algum meio funcional de utilizar o atributo !important no método .css()
Obs: Estou falando somente e exclusivamente, do método .css() e não de qualquer outro método existente para atribuir CSS.
6595,javascript|jquery|html,Eu tenho tentando desabilitar o scrolling de uma página. Tudo que eu tenho encontrado são soluções do tipo:
#container{
overflow: hidden;
}
Mas isso apenas oculta a barra de scroll. Como eu faria para desabilitar o scrolling, mesmo com ele sendo apresentado na tela?
Edição
Não importa se será com css ou outra tecnologia web client-side, só quero saber se existe alguma forma.
6614,javascript|jquery|html,Existe alguma forma de saber se o input do tipo file tem algum arquivo ja carregado, pronto para ser enviado?
Quero fazer uma condição onde se tiver algum arquivo para fazer upload no primeiro input, então mostre um botão de add mais um input do tipo file e assim sucessivamente.
É possivel?
6615,javascript|html,Na maioria das vezes que trabalho com textos dentro de elementos HTML, utilizo um recurso em CSS chamado line-height. Suponhamos que a altura de um elemento específico seja de 50px, logo, coloco o line-height com 50px também para que o texto fique centralizado. Pois bem, quando esse texto quebra linha, ou seja, acaba sendo maior que o tamanho do meu elemento, não fica uma coisa muito legal. Existe uma forma em CSS que verifique se meu texto quebrou linha para que eu possa adicionar uma propriedade line-height diferente?
Exemplo de um texto em que fica centralizado corretamente, contendo pouco texto:
Agora, um exemplo de como o texto fica quando é um pouco maior, ou seja, que ultrapassa o limite de meu elemento:
Percebam que na imagem acima, o texto caiu e manteve o tamanho do line-height. Isso é ruim pois acaba ultrapassando o limite de altura de meu elemento.
Agora, como gostaria que ficasse quando o texto cai pra linha debaixo:
Seria esse o problema, possibilidades com javascript não são descartadas também caso alguém tenha uma solução bacana.
6622,javascript|jquery,Tem como recuperar um valor de um resultado de uma url pelo jQuery?
Meu problema é o seguinte, preciso receber o resultado final dessa url:
http://maps.googleapis.com/maps/api/geocode/json?latlng=-12.9945,-38.5266&sensor=false
E preciso recuperar esse resultado através do JavaScript.
6626,javascript|php|jquery,Estou querendo desenvolver um site que rode todo no mesmo arquivo, mas não sei bem como procurar material de estudo para isso.
Assim:
Site normal->estou na página Index.php. Quando clico no menu "Portfólio", por exemplo, ele vai e carrega o arquivo Porfolio.php.
Site que eu quero fazer->estou na página Index.php. Quando eu clico no menu "Portfólio", o site faz uma animação (fade, side-scroll, etc) e mostra o conteúdo do Portfólio, sem a necessidade de carregar outro arquivo.
Alguém pode me dar uma luz? Já trabalhei com sites feitos em uma página só, mas são no modelo One Page Scroll Website.
Acredito que eu precise trabalhar com o AJAX, mas não tenho certeza ainda.
6638,javascript|jquery|html,Possuo o seguinte exemplo feito em JavaScript, do qual é um texto escrito "See more", que ao clicar nele ele você é possibilitado de ver mais texto:
Exemplo no JSFiddle
Código
<head>
<title>
Javascript demo - expand/collapse text
</title>
<script language="JavaScript" type="text/javascript">
// for displaying or hiding parts of the page
function blocking(nr) {
displayNew = (document.getElementById(nr).style.display == 'none') ? 'block' : 'none';
document.getElementById(nr).style.display = displayNew;
}
</script>
</head>
<!-- initially hide the contents of whatItIs and background -->
<body onload="blocking('whatItIs'); blocking('background');">
<a href="" onclick="blocking('whatItIs'); return false;">See more...</a>
<br><br>
<div id="whatItIs">
Pardus is a GNU/Linux distribution developed in Turkey, as a product of the Pardus Project. It was named after the Anatolian Leopard.
<br><br>
Pardus is an easy-to-install and -use operating system, with many enhancements to desktop usability, compatibility and security. With Pardus 1.0 (and the now-released Pardus 2007 version), users can connect to Internet, read e-mails, securely communicate with others and exploit the computer's multimedia capabilities by listening to music and watching movies.
<br><br>
Ladislav Bodnar, the creator of DistroWatch, wrote in his round-up of Linux/*nix in 2006 that Pardus is one of the distros he was most impressed by this year "...thanks to unique package management ideas, innovative start-up sequence and general desktop polish..."
<br><br>
Pardus is open source and freely distributed as a GPL (General Public License) product. It can be installed in Turkish, English, Spanish, German or Dutch.
<br><br>
</div>
</body>
Mas tenho uma questão, quando clico em "See more" o texto é mostrado, até aí tudo bem.
Pergunta
O código que tenho está a funcionar, mas eu gostaria que ao clicar em "See more", o texto mudasse para "Hide" no lugar de "See more". Como atingir este objectivo?
6680,c#,Criei uma DLL COM em c# VS2010 para ser distribuída com outra aplicação em Delphi.
Esta DLL faz apenas consumo em WEB Services.
Na máquina onde foi construída a DLL não ocorre erro. Mas nas distribuição quando é executado os métodos da DLL é retornado a mensagem:
O sistema não pode encontrar o arquivo especificado.
Isso é alguma configuração que deve ser executada na configuração da DLL?
Código da DLL
public string RecepcionarLoteRps(string AEnderecoWebService, string AXmlEntrada)
{
string Retorno = string.Empty;
try
{
ServiceReferenceAbrasfV201.nfseClient wsClient = new ServiceReferenceAbrasfV201.nfseClient("nfseSOAP1", AXmlEntrada);
Retorno = wsClient.RecepcionarLoteRps(Cabecalho(), AXmlEntrada);
}
catch (Exception e)
{
Retorno = e.Message;
}
return Retorno;
}
Código em Delphi para enviar os parâmetros a dll.
var
LClientWBAws: IAbrasfV201_Interface;
LRetorno: string;
begin
LClientWBAws := CoAbrasfV201.Create;
if (Pos('ConsultarLoteRpsEnvio', LEnviaArqXml) > 0) then
begin
LRetorno := LClientWBAws.Getnfse(ALayout.Parametros['EnderecoWebService'], LEnviaArqXml);
end
else if (Pos('CancelarNfseEnvio', LEnviaArqXml) > 0) then
begin
LRetorno := LClientWBAws.CancelarNfse(ALayout.Parametros['EnderecoWebService'], LEnviaArqXml);
end
else
begin
LRetorno := LClientWBAws.RecepcionarLoteRps(ALayout.Parametros['EnderecoWebService'], LEnviaArqXml);
end;
end;
6681,javascript|jquery|html,Tenho 10 elementos com classe "hide", menos a primeira. Ao clicar em um botão eu removo o proximo hide e adiciono a classe "show", mas ao adiciona-la quero colocar um efeito de fadeIn(). É possivel?
6690,javascript|php|jquery,Quando tento fazer um requisição ajax usando o comando $.post do jQuery aparece um erro no netWork do chrome alguém sabe o que pode ser esse erro
Código: estou usando o framework codeigniter
$.post('/pages/entradaprodutos/carregar_notasfiscais',{
codigo:$("#fornecedores").val()
},function(resposta){
console.log(resposta)
});
6691,java,Estou com problemas para imprimir um numero double,
por exemplo eu crio uma variavel do tipo double,
e este recebe o um divisao 1/3, teria que mostra 0.3,
o que eu tenho que fazer para imprimir 0.3???
public class MeuTeste{
public static void main(String [] a){
double x=1;
double y=3;
System.out.println(x/y);
}
}
//0.3333333333333333
6699,javascript|java|jquery,Faço uma requisição assim:
$.ajax({type : 'GET', url : URL_APP_CONSULTA_BOLETO_DIVIDA_ATIVA + url});
Tenho um método java que retorna algo assim:
return (Response.ok(output).header("content-disposition", "attachment; filename = " + filename).type( "application/pdf").build());
Se olharmos no http temos o seguinte:
Request URL:http://xxxxx:8080/app/ConsultaDividaAtiva/boleto/100008621/3npm54
Request Method:GET
Status Code:200 OK
Request Headersview source
Accept:*/*
Accept-Encoding:gzip,deflate,sdch
Accept-Language:pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4
Connection:keep-alive
Cookie:JSESSIONID=6EE1049F45C246F7AB91CD196BC6ADF5
Host:localhost:8080
Referer:http://localhost:8080/view-app/EmiteBoletoDividaAtiva.html
User-Agent:Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko)  Chrome/32.0.1700.107 Safari/537.36
X-Requested-With:XMLHttpRequest
Response Headersview source
content-disposition:attachment; filename = boleto_20022014115213.pdf
Content-Type:application/pdf
Date:Thu, 20 Feb 2014 14:52:13 GMT
Server:Apache-Coyote/1.1
Transfer-Encoding:chunked
X-Powered-By:Servlet 2.4; JBoss-4.2.3.GA (build: SVNTag=JBoss_4_2_3_GA date=200807181417)/JBossWeb-2.0;
A pergunta é: como exibir/baixar o PDF retornado pelo serviço REST em java?
6733,java,Enquanto eu mexia no netbeans usando linguagem java não entendi para que servia esse comando /** , fui atrás e apareceu alguma coisa sobre Javadoc, não entendi bem o que isso queria dizer alguém poderia me explicar?
6740,javascript|jquery|html,Estou à procura de uma paginação simples, sem estilos CSS, nem nada do género. Apenas com os botões em baixo para mudar de página e com os elementos em cima. Estou a perguntar, porque os exemplos que encontro são um pouco complexos para mim.
Estou a carregar os dados usando php, ou seja, nunca tenho um número exacto de linhas. O que quero é que a paginação seja criada, de 10 em 10 elementos, imaginando que tenho 30 elementos.
6754,javascript|jquery|html,Por exemplo:
<div class="container">
<div class="position"></div> <!-- Essa tinha que ser position [0]-->
<div class="position"></div> <!-- Essa tinha que ser position [1]-->
<div class="other"></div>
<div class="position"></div> <!-- Essa tinha que ser position [2]-->
<div class="position"></div> <!-- Essa tinha que ser position [3]-->
<div class="other"></div>
<div class="position"></div> <!-- Essa tinha que ser position [4]-->
<div class="other"></div>
<div class="other"></div>
</div>
Isso feito de preferencia com Jquery.
É possível?
6764,c#,Estou desenvolvendo um sistema de relatório para controle de ligações e preciso pegar o resultado de uma consulta e fazer um somatório que me traga o total de ligações por setor de um determinado número.
Estou usando Stored Procedure com banco MySQL e o desenvolvimento é em ASP.Net.
Estou tentando da seguinte forma.
Declarei as variáveis recebendo zero:
Double TotalLigacoes, TotalSetor, TotalSac, TotalProjetos, TotalTI, TotalADMINISTRATIVO, TotalComercial, TotalDiretoria, TotalRecepcao, TotalOutros = 0;
protected void GvSetor_RowDataBound(object sender, GridViewRowEventArgs e)
{
if(e.Row.Cells.[0].text == "ADMINISTRATIVO")
{
TotalADM = TotalADM + Convert.ToDouble( TotalADM + e.Row.Cells[1].Text);
}
}
Tenho que fazer algo como um looping para somar os minutos de `SqlDataSource  (Separado por setor) e soma em um variável para exibir no outro grid.
6770,html,Geralmente ambos possuem comportamentos similares quando renderizados no navegador.
Se eu abrir um HTML com isto:
<input type="text" value="tente me alterar" disabled>
<input type="text" value="tente me alterar" readonly>
Ambos não permitem que o usuário altere o texto, vejo o exemplo abaixo:
<input type="text" value="tente me alterar" disabled>
<input type="text" value="tente me alterar" readonly>
Então, qual a diferença de fato entre os dois tipos de estados, e quando eu devo usar cada um deles?
6772,html,Tenho o seguinte código:
<select multiple="multiple" id="carros" size="1" name="carros">
<option value="volvo">Volvo</option>
<option value="saab">Saab</option>
<option value="opel">Opel</option>
<option value="audi">Audi</option>
</select>
No internet-explorer 10, o select renderiza com size igual a um e as setas de navegação como esperado, o firefox 27.0.1 renderiza com size um, mas sem as setas de navegação e o google-chrome 32.0.1700.102 m nunca respeita o size menor que quatro e somente após o quarto elemento habilita as setas de navegação.
Eu sei que com css height eu conseguiria o comportamento esperado. Existe algum jeito de fazer com que google-chrome e firefox respeitem o comportamento igual ao do internet-explorer 10, com o size realmente igual a um e com as setas de navegação somente usando HTML?
Segue um fiddle de exemplo que deve ser aberto em cada browser para visualizar o problema.
6783,java,Tenho um projeto no Netbeans, porém eu só conheço o Maven e tenho algumas dependências no projeto.
Se der build ou até mesmo rodar no Netbeans tudo funciona tranquilamente, porém eu queria pegar o jar e testar em outras máquinas.
Tentei exportar o jar mas dá erro de ClassNotFound.
Como posso fazer isso? Qual é a maneira correta?
6791,jquery,Estou com problemas quando neste site http://santins.com.br/_z/holcim acesso a sessão PROJETO e clico em RELEASES. Enquanto eu não clico em nenhum título que carrega via AJAX o conteúdo da postagem, a LIGHTBOX fecha, mas ao clicar no título e o ajax carregar o conteúdo não consigo mais fechá-la. O que pode ser esse problema?
Meu AJAX:
// Classe para posts AJAX
jQuery.noConflict();
jQuery(document).ready(function($){
$.ajaxSetup({cache:false});
$("a.ajax").click(function(){
var post_url = $(this).attr("href");
var post_id = $(this).attr("rel");
$("#tabs").html('<div class="loading">loading...</div>');
$("#tabs").load(post_url);
return false;
});
});
6794,javascript|jquery,Possuo um método de construção de elementos dinâmicos utilizando jQuery v1.2 com Ajax, que cria uma lista de itens contendo a estrutura de <ul> e <li>, porém, quando aplico o .blur() e o Ajax retorna muitos valores, é criado uma  barra de rolagem. No IE8 quando clico na barra de rolagem o .blur() é acionado.
Nos outros navegadores funciona sem problemas, porém, apenas no IE8 tenho este problema.
Aqui está um cídigo que eu criei no codePen: CodePen
Eu preferi pelo CodePen pois não consegui utilizar o JsFiddle.
6815,html,Estou a criar uma tabela para inserção/consulta de dados que seja o mais parecido com o formato de uma folha excel.
A minha tabela:
Problema:
Como a imagem acima mostra, ao colocar uma input num td, ela não ocupa a td toda, ficando com os seus rebordos, o que fica feio. O que pretendo é definir uma class css para a input de modo a que a mesma ocupasse toda a dimensão da td e parecendo que a td e a input fossem o mesmo elemento.
6818,java,Eu tenho uma classe com 2 atributos:
public class Classe(){
private String conteudo;
private String tipoConteudo;
getters...setters..
}
Então eu tenho um ArrayList com 3 ou mais objetos dessa classe, como eu faço em uma linha um get de um Objeto específico de um certo conteúdo??
Por exemplo, se eu quero o objeto que o Tipo é azul, em várias linhas seria:
Classe objetoFinal;
for(int i;i<List.size();i++){
if(objetoFinal.tipoConteudo.equals("azul")
objetoFinal = List.get(i);
}
Então a dúvida é: como fazer isso em uma linha (preciso colocar em uma página JSF :D)
6819,javascript|jquery|html,Tenho um <button> que é renderizado como disabled(desabilitado) quando a página é carregada incialmente.
Gostaria que ele ficasse enabled(habilitado) quando todos os dados forem preenchidos nos <input>'s. Como poderia fazer isso utilizando o jQuery?
6830,javascript|jquery|html,Gerei um scaffold com o nome "property", preciso adicionar imagens junto a ele de preferência em um model diferente fazendo referencia (1 property pode ter muitas imagens), onde o usuário pode selecionar mais de uma imagem.
A idéia seria criar um botão de adicionar mais imagens e ter um preview antes de salva-las, com um botão de remove-la e um radiobutton para definir a qual vai ser a imagem de capa em cada preview.
É possível?
6858,java,Situação:
Descrição: Tenho esse Timer para executar minhas tarefas em um determinado período de tempo de acordo com os seconds informado.
Problema: Ao executar o programa a tarefas começa ignorando os segundos informado, depois que a tarefa é executada pela primeira vez os tempo é respeitado.
Necessidade: Quando o programa é iniciado ele deve esperar os segundos que informado "30", "60", "1200" e depois a tarefa deve começar.
public executarTarefas(int seconds) {
timer = new Timer();
timer.schedule(new limparQuarto(), Calendar.getInstance().getTime(), seconds * 1000);
}
Observação: Esse método executa a tarefa limparQuarto() que é apenas um exemplo, se alguém souber chegar a "necessidade" desgraço.
6865,c#,Gostaria de saber como posso fazer para desmontar uma unidade removível(Pen-Drive) via código c#.
6866,javascript|php|jquery,Há uma possibilidade (com plugins ou não) de pegar as [principais] cores ou as cores predominantes, parecido com o Adobe Kuler, da imagem?
Exemplo
Tenho essa imagem:
E queria pegar as principais cores dela, que seria Azul
6867,c#,Estou gerando um xml através de uma classe já existente, por exemplo
[XmlRoot("pessoa")]
public class pessoa
{
//[CPFValidation]
[XmlElement("cpf")]
public virtual string cpf { get; set; }
[XmlElement("nome")]
public virtual string nome{ get; set; }
[XmlElement("telefone")]
public virtual string telefone{ get; set; }
}
E estou usando o seguinte código para gerar o xml
public static string CreateXML(Object obj)
{
System.Xml.Serialization.XmlSerializer serializer = new System.Xml.Serialization.XmlSerializer(obj.GetType());
XmlWriterSettings settings = new XmlWriterSettings();
settings.Encoding = new UnicodeEncoding(false, false);
settings.Indent = true;
settings.OmitXmlDeclaration = true;
using (StringWriter textWriter = new StringWriter())
{
using (XmlWriter xmlWriter = XmlWriter.Create(textWriter, settings))
{
serializer.Serialize(xmlWriter, obj);
}
return textWriter.ToString();
}
}
Vendo que existe 3 propriedades: cpf, nome e telefone
Quando eu não atribuo valor a uma delas, fica null
Ao gerar o xml ele não gera o elemento
Eu gostaria que gerasse mesmo sendo vazio ou nulo
Se eu preencher
var teste = new Pessoa {
cpf = "123",
nome = "fulano" }
e mandar gerar, ele gera apenas
<cpf>123</cpf>
<nome>fulano</nome>
E não gera o elemento <telefone></telefone>
Então, eu utilizei uma anottation para setar os valores " " pra mim...srsrsrsrs
public class XMLAtributos : ValidationAttribute
{
public override bool IsValid(object value)
{
if (value == null) return false;
IList<PropertyInfo> propriedades = new List<PropertyInfo>(value.GetType().GetProperties());
foreach (PropertyInfo propriedade in propriedades)
{
object valor = propriedade.GetValue(value, null);
if (valor == null)
{
propriedade.SetValue(value, " " ,null);
}
}
return true;
}
}
6880,java,Estou tentando fazer um exemplo de JPA + Spring.
Mas estou com problema ao gerenciar transações.
persistence.xml:
<?xml version="1.0" encoding="UTF-8"?>
<persistence version="2.0"
xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd">
<persistence-unit name="TwsPersistence" transaction-type="RESOURCE_LOCAL">
<provider>org.hibernate.ejb.HibernatePersistence</provider>
<class>model.User</class>
<properties>
<property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect" />
<property name="hibernate.show_sql" value="true" />
<property name="hibernate.format_sql" value="
true" />
</properties>
</persistence-unit>
</persistence>
applicationContext.xml:
<!-- ANNOTATIONS POUR AOP -->
<aop:aspectj-autoproxy />
<!-- ANNOTATIONS POUR LA CREATION DE BEANS -->
<context:component-scan base-package="com.tws" />
<!-- Datasource -->
<bean name="dataSource"
class="org.springframework.jdbc.datasource.DriverManagerDataSource">
<property name="url"
value="jdbc:postgresql:/localhost:5432/tecwebsoft" />
<property name="username" value="p" />
<property name="password" value="a" />
</bean>
<bean id="entityManagerFactory"
class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
<property name="persistenceUnitName" value="TwsPersistence" />
<property name="dataSource" ref="dataSource" />
<property name="jpaVendorAdapter">
<bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter" />
</property>
</bean>
<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
<property name="entityManagerFactory" ref="entityManagerFactory" />
</bean>
<tx:annotation-driven transaction-manager="transactionManager" proxy-target-class="false"/>
<bean id="genericDAO" class="com.tws.persistence.dao.GenericDAO"></bean>
DAO.java:
@PersistenceContext
private EntityManager manager;
@Override
@Transactional(propagation = Propagation.REQUIRED)
public <T> List<T> load(Class<T> classe) {
try {
DetachedCriteria dc = DetachedCriteria.forClass(classe);
// manager.getTransaction().begin();
Session sessao = (Session) manager.getDelegate();
System.out.println("Manager: " + manager);
System.out.println("Sessão: " + sessao);
Criteria criteria = dc.getExecutableCriteria(sessao);
return criteria.list();
} catch (Exception e) {
System.out.println("Falha");
e.printStackTrace();
return null;
}
}
Exception:
Sessão: SessionImpl(<closed>)
org.hibernate.SessionException: Session is closed!
at org.hibernate.impl.AbstractSessionImpl.errorIfClosed(AbstractSessionImpl.java:72)
at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1688)
at org.hibernate.impl.CriteriaImpl.list(CriteriaImpl.java:347)
at com.tws.persistence.dao.GenericDAO.load(GenericDAO.java:64)
at Main.main(Main.java:30)
6882,jquery,Na minha inicialização eu seto que todos os links devem bloquear, usando o plugin jquery-blockui, a tela para evitar os múltiplos cliques do usuário impaciente evitando múltiplas e desnecessárias requisições ao servidor.
$("a").on("click", $.blockUI);
Tive um problema que relatei na pergunta Renderização de select múltiplo diferente para cada browser e acabei aceitando como resposta e a única resposta dada e utilizando a solução dada na primeira opção do update desta mesma resposta, porém este widget usa links para marcar todas as opções, desmarcar todas as opções ou fechá-lo e isso dispara meu evento acima. Tentei utilizar para parar o evento o código abaixo:
$("a.ui-multiselect-none, a.ui-multiselect-all, a.ui-multiselect-close").on("click", function(e) {
e.preventDefault();
});
Ou seja, tentei parar a ação padrão do link nos links com as classes utilizadas pelo widget, porém isso não funcionou. O que efetivamente funcionou foi o que utilizei abaixo:
$("a.ui-multiselect-none, a.ui-multiselect-all, a.ui-multiselect-close").on("click", $.unblockUI);
Porém esta solução dá um efeito na tela de como se ela tivesse piscando. Existe algum jeito de fazer com que estes links simplesmente não acionem o blockUI de forma diferente dos demais sendo uma exceção de UX do sistema?
6884,java,Problema:
Estou recebendo warnings do ProGuard e com isso não consigo ofuscar meu .jar, é a primeira vez que recebo estes avisos e com isso não consigo finalizar a ofuscação.
Imagem com detalhes do problema:
Observação:
Aplicação está funcionando, dentro do .jar estão todas as API's (dependências) necessárias, porém o ProGuard me dá esses warnings.
6893,java,Descrição:
O Spring não converte utilizando o @DateTimeFormat, tento mandar o start das duas formas abaixo e ele me retorna um 404. Quando envio o objeto sem esse campo ele cria o objeto normal, mas não consegue criar quando faço a request com o campo start.
Primeira tentativa
`@DateTimeFormat(pattern = "HH:mm")
@Type(type="org.jadira.usertype.dateandtime.joda.PersistentLocalTimeAsString")
LocalTime start`
Segunda tentativa
`@Type(type="org.jadira.usertype.dateandtime.joda.PersistentLocalTimeAsString")
@DateTimeFormat(pattern = "MM/dd/yyyy")
private DateTime start;`
Documentação do Spring:
`Use @DateTimeFormat to format
java.util.Date, java.util.Calendar, java.util.Long, or Joda Time fields.`
6898,javascript|jquery|html,Descrição:
Tenho um exemplo aqui de como esta funcionando o meu sistema.
Link do EXEMPLO
HTML
<input type=file>
<input type=button class=hide value="Adicionar outro">
JAVASCRIPT
function verificaMostraBotao(){
$('input[type=file]').each(function(index){
if ($('input[type=file]').eq(index).val() != ""){
$('.hide').show();
}
});
}
$('input[type=file]').on("change", function(){
verificaMostraBotao();
});
$('.hide').on("click", function(){
$(document.body).append($('<input />', {type: "file" }).change(verificaMostraBotao));
$('.hide').hide();
});
CSS
input[type=file] {
float: left;
display: block;
}
.hide {
display: none;
float: left;
}
Necessidade:
Quero implementar um preview nesse código. Cada input exibir o preview do seu lado;
É possível?
6904,javascript|jquery,Estou rodando um script que foi me passado por terceiros.
E esta dando o seguinte erro:
TypeError: $.toJSON is not a function
QtdeQuartos: $.toJSON(qtdQuartos),
6913,c#,Estou fazendo um sistema de login e recebo a mensagem de sql exception quando tento criar nova conta no banco de dados:
MySqlCommand usuaExiste = new MySqlCommand(
"SELECT * FROM contas WHERE nome = '"+textBox1.Text+"'", bdConn);
bool resultado = usuaExiste.ExecuteReader().HasRows;
if (resultado == true || textBox2.Text == null || textBox2.Text.Length < 4)
{
MessageBox.Show("Por favor, certifique se sua senha não é muito curta, seu usuário já é existente ou ele é muito curto.");
}
else
{
try
{
MySqlCommand criar = new MySqlCommand("INSERT INTO contas (nome, senha) VALUES ('" + textBox1.Text + "','" + textBox2.Text + "')", bdConn);
criar.BeginExecuteNonQuery();
criar.ExecuteNonQuery();
MessageBox.Show("Conta Criada com sucesso!");
bdConn.Close();
}
catch (MySqlException ex)
{
MessageBox.Show("Erro ao criar a conta, informe isto ao desenvolvedor! \r\n "+ ex);
}
}
Ocorre o seguinte erro:
6916,java,O que é necessário fazer para rodar um aplicativo Java (sem interface visual) como serviço do Windows. O programa usa basicamente a API de Filesystem e a API de rede (java.net, java.io e java.nio)
Se for necessário fazer build a partir dos fontes gostaria de usar GNU C++ em vez de Visual Studio.
Alguma dica ?
6918,c#,Problema
Estou com problema no meu programa que quando o processo chega a mais de 1,5 GB de uso de memória o processo para de executar e exibi um erro de OutOfMemory.
No meu processo estou lendo um arquivo .AVI e guardando cada frame em um Array de Bitmaps,
para que eu possa executar depois em um player de forma sincronizada.
Dúvida
Não sei se o Windows limita um array a 1,5 GB e por isso ele dispara um erro de memória mesmo tendo espaço suficiente para continuar. Alguém já teve esse problema e sabe alguma solução?
Informações adicionais
São 4 arquivos em 30FPS com tamanho de 7MB cada.
Meu computador é 64Bits, Windows 7, 8 GB de memória.
6923,java,Olá,
Estou usando o RichFaces4 e em meu projeto inclui a tag
Este apresenta um botao Save (Disket) e minha intenção é chamar um método no meu Bean e executar meu código para salvar.
Não quero adicionar um novo botão, pois gostaria de seguir o padrão das aplicações em que meus usuários estão mais familiarizados.
Fiz já essa pergunta na versão em inglês: https://stackoverflow.com/questions/21923187/how-to-custom-the-save-button-on-editor-using-richfaces-4
O código de meu Bean e xhtml seguem a baixo:
<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
<http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:a4j="http://richfaces.org/a4j"
xmlns:rich="http://richfaces.org/rich">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Insert title here</title>
</h:head>
<h:body>
<h:form>
<rich:editor id="editor" toolbar="full" value="#{editorBean.value}"
style="margin-bottom: 1em" height="400" >
<a4j:ajax event="change" render="panel"  status="panelUpdateStatus" />
<a4j:ajax event="dirty" render="panel" status="panelUpdateStatus">
<a4j:attachQueue requestDelay="1000" />
</a4j:ajax>
</rich:editor>
<rich:panel id="panel">
<f:facet name="header">
Output from Editor
<a4j:status name="panelUpdateStatus">
<f:facet name="start">
(Updating)
</f:facet>
</a4j:status>
</f:facet>
<h:outputText escape="false" value="#{editorBean.value}" />
</rich:panel>
Bean
import javax.enterprise.context.SessionScoped;
import javax.inject.Named;
@Named
@SessionScoped
public class EditorBean implements Serializable{
/**
*
*/
private static final long serialVersionUID = 5383915229820571701L;
private String value;
/**
* @return the value
*/
public String getValue() {
return value;
}
/**
* @param value the value to set
*/
public void setValue(String value) {
this.value = value;
}
public void save(){
System.out.println(" Saving ");
//Code to save
}
}
6954,java,Estão ocorrendo as seguintes exceções na minha aplicação:
10:52:34,506 ERROR [br.com.app.dao.NotificacaoDAO] (http--0.0.0.0-8080-77) java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,509 ERROR [br.com.app.dao.UsuarioDAO] (http--0.0.0.0-8080-55) java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,513 ERROR [br.com.app.business.NotificacaoBS] (http--0.0.0.0-8080-77) br.com.app.exceptions.DAOException: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,513 ERROR [br.com.app.dao.MensagemDAO] (http--0.0.0.0-8080-6) java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,520 ERROR [br.com.app.business.MensagemBS] (http--0.0.0.0-8080-6) br.com.app.exceptions.DAOException: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,522 ERROR [br.com.app.controller.serversent.ListarNovasNotificacoesController] (http--0.0.0.0-8080-77) br.com.app.exceptions.BusinessException: br.com.app.exceptions.DAOException: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,512 ERROR [br.com.app.business.UsuarioBS] (http--0.0.0.0-8080-55) br.com.app.exceptions.DAOException: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,530 ERROR [br.com.app.services.UsuarioService] (http--0.0.0.0-8080-55) br.com.app.exceptions.BusinessException: br.com.app.exceptions.DAOException: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,534 ERROR [br.com.app.controller.serversent.ListarNovasMensagensController] (http--0.0.0.0-8080-6) br.com.app.exceptions.BusinessException: br.com.app.exceptions.DAOException: java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
10:52:34,585 ERROR [br.com.app.dao.UsuarioDAO] (http--0.0.0.0-8080-66) java.sql.SQLException: javax.resource.ResourceException: IJ000453: Unable to get managed connection for java:/AppDS
Em um minuto ela disparou várias exceções como essa /\
Sempre acontece uns 5 dias após iniciar a aplicação e ela ficar 24h online.
Eu já pesquisei sobre, mas realmente não encontrei o problema, talvez poderia ser alguma conexão aberta, mas eu fecho todas as conexões.
Alguém sabe o porque?
Obs: Eu uso o JBOSS 7.1.1
6957,javascript|jquery|html,Estou a usar o plugin Animated Responsive Image Grid e quero alterar o src das imagens através de Javascript/Jquery.
Código html:
<div id="ri-grid" class="ri-grid ri-grid-size-1 ri-shadow">
<ul>
<li><a href="#"><img src="images/medium/1.jpg" alt="Whatever works"/></a></li>
<li><a href="#"><img src="images/medium/2.jpg" alt="Anything else"/></a></li>
<!-- ... -->
</ul>
e tenho um array de links de imagens com tamanho variável
vectorImagens=[]
O objectivo é alterar o src="images/medium/1.jpg" para src=vectorImagens[0], e src="images/medium/2.jpg" para src=vectorImagens[1] e etc
6961,javascript|php|jquery,Descrição
Necessidade: Preciso fazer um autocomplete com jQuery, PHP e a partir do que foi selecionado, pego o ID,  faço uma consulta no banco de dados e exibo o que preciso.
Problema: Não estou conseguindo exibir os registros no input que carrega o autocomplete. Observe o código abaixo de Javascript.
JavaScript (jQuery)
$( "#consulta_estoque" ).autocomplete({
source: 'js/autocomplete.php',
select: function(event, ui){
$( "#consulta_estoque" ).val(ui.item.descricaoProduto);
alert(ui.item.codigoFabrica);
}
});
PHP
foreach ($sql as $res) {
$resultado[] = $res;
}
echo json_encode($resultado);
JSON
[
{
"codProduto":"9",
"codigoFabrica":"8019077",
"codSubcategoria":"0",
"descricaoProduto":"WWAKS3-5\/S366 CONECTOR M12 EUROFAST ANGULAR FEMEA",
"tipoItemEstoque":"0",
"c7flex":"9",
"ncmProduto":"85444200"
},{
"codProduto":"39",
"codigoFabrica":"8019078",
"codSubcategoria":"0",
"descricaoProduto":"WWAKS3-10\/S366 CONECTOR M12 EUROFAST ANGULAR MACHO",
"tipoItemEstoque":"0",
"c7flex":"39",
"ncmProduto":"0"
}
]
Observação: Acredito que o JSON está correto.
Alguém pode me ajudar com isso?
6991,c#,Estou tendo dificuldades em organizar a solution de um projeto utilizando o pattern MVVM. Não utilizo nenhum framework MVVM.
Atualmente tenho a seguinte estrutura:
Solution
|
--- AppView (Projeto principal onde estão as views e que é iniciado pelo App.xaml)
|
--- AppViewModel (Assembly que contém as viewmodels)
|
--- AppModel (Assembly que contém os modelos de dados - Pessoa.cs, Cliente.cs, etc...)
As referências são:
AppView -> AppViewModel -> AppModel
Ao iniciar a aplicação é apresentado a AppView.MainWindow. Esta possui o viewmodel - AppViewModel.MainWindowViewModel (em assembly separado).
A dificuldade surgiu quando preciso que esta viewmodel abra outra Window, visto que não consigo fazer isso no assembly AppViewModel, devido às referências.
Portanto, gostaria de saber se alguém tem um exemplo do pattern MVVM com uma estrutura em que os assemblies de view e viewmodel são distintos.
6993,c#,Estou com uma duvida na aplicação ASP.Net MVC:
Estrutura
Views
|
+-- Home
|      |
|      +-- Index.cshtml
|      |
|      +-- Page.cshtml
|
+-- Users
|      |
|      +-- Details.cshtml
|
+-- Paginas
|      |
|      +-- Pagina1.cshtml
|      |
|      +-- Pagina2.cshtml
|
+-- Shared
|
+-- Layout.cshtml
|
+-- _Partial.cshtml
Uma estrutura normal, porém a pasta "Paginas" não tem nenhuma controller que faz a associação. Nesta pasta eu vou colocar todas as páginas que são "Html Statics".
Ou seja se eu criar um novo arquivo "Pagina3.cshtml" e colocar nesta pasta, e quando acessar a url {local}\paginas\Pagina3 apareça o conteúdo desta página, mas quando eu faço isto retorna um erro 404.
Só não quero criar arquivos .html pela fato de utilizar o Layout.cshtml.
6995,javascript|html,Há alguma API de vídeos para YouTube e Vimeo que possa ser incorporada, através de um script , num site e que me dê a condição de atualizar automaticamente as publicações feitas?
7023,java,Para pegar o path dinâmico dentro do projeto é fácil, basta executar o código :
String path = this.getServletContext().getRealPath("");
Aqui é retornado:
/home/pedro-pazello/development/servers/apache-tomcat-7.0.42/wtpwebapps/img_uploader/
*img_uploader* é o nome do projeto. Porém eu preciso pegar esse caminho fora do projeto. Eu preciso que o caminho seja:
/home/pedro-pazello/development/servers/apache-tomcat-7.0.42/wtpwebapps/imagens/
Alguém tem ideia de como posso pegar esse path?
7030,jquery,Considerem o seguinte exemplo que fiz aqui:
$("#add").click(function() {
$("#wrap ul").append('<li class="new">Teste</li>');
$("li.new").slideDown('slow', 'easeOutBounce');
});
http://jsfiddle.net/Wagner/4FQCK/5
Como podem reparar ao clicar no botão add o jQuery cria um novo elemento li na minha lista.. Até ai tudo certo.. Notem que eu defini um max-height e um  overflow: auto no meu elemento wrap. O problema é que ao adicionar vários elementos dentro da minha lista, a barra de rolagem do wrap fica no meio dele, ao invés de se manter no bottom como eu gostaria.. Então minha dúvida é essa, como eu faria para que quando um novo elemento fosse adicionado a barra de rolagem não suba (lembrando que o usuário ainda deve ter a opção de rolar a barra para cima caso ele deseje ver outros itens da lista).
7039,java,Estou tentando configurar um exemplo de projeto usando Spring Data JPA com Hsqldb
Fiz a classe pessoa que seria model, a interface repositório e uma classe main para rodar.
Eu não criei o banco porque tenho uma duvida se o Spring criara para mim automaticamente conforme o Hibernate tem essa opção.
Classe pessoa
package data.model;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.Table;
import org.springframework.data.jpa.domain.AbstractPersistable;
@Entity
@Table(name = "pessoa")
public class Pessoa extends AbstractPersistable<Long> {
@Column(name = "nome", nullable = false, length = 25, unique = false)
private String nome;
@Column(name = "sobrenome", nullable = false, length = 25, unique = false)
private String sobrenome;
@Column(name = "idade", nullable = false, unique = false)
private Integer idade;
public String getNome() {
return nome;
}
public void setNome(String nome) {
this.nome = nome;
}
public String getSobrenome() {
return sobrenome;
}
public void setSobrenome(String sobrenome) {
this.sobrenome = sobrenome;
}
public Integer getIdade() {
return idade;
}
public void setIdade(Integer idade) {
this.idade = idade;
}
}
Classe repositório
package data.repository;
import org.springframework.data.jpa.repository.JpaRepository;
import data.model.Pessoa;
public interface PessoaRepository extends JpaRepository<Pessoa, Long> {
}
Classe Test
package data.teste;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;
import data.repository.PessoaRepository;
@Component
public class Test {
@Autowired
private PessoaRepository pessoaRepository;
public PessoaRepository getPessoaRepository() {
return pessoaRepository;
}
public void setPessoaRepository(PessoaRepository pessoaRepository) {
this.pessoaRepository = pessoaRepository;
}
}
Ao executar o main, ele abre uma janela do Eclipse para selecionar uma classe dentro de uma lista de algumas classes do Hsqldb. Então estou confuso sobre o que pode ser.
Meu arquivo xml de configuração do Spring.
Xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:jdbc="http://www.springframework.org/schema/jdbc"
xmlns:context="http://www.springframework.org/schema/context"
xmlns:jpa="http://www.springframework.org/schema/data/jpa"
xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd
http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-4.0.xsd
http://www.springframework.org/schema/data/jpa http://www.springframework.org/schema/data/jpa/spring-jpa-1.3.xsd">
<context:annotation-config/>
<jpa:repositories base-package="data.repository" query-lookup-strategy="create-if-not-found"/>
<bean id="entityManagerFactory" class="org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean">
<property name="jpaVendorAdapter">
<bean class="org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter">
<property name="showSql" value="true"/>
<property name="generteDdl" value="true"/>
</bean>
</property>
<property name="persistenceUnitName" value="persistenceUnitName"/>
</bean>
<bean id="transactionManager" class="org.springframework.orm.jpa.JpaTransactionManager">
<property name="entityManagerFactory" ref="entityManagerFactory"/>
<property name="jpaDialect">
<bean class="org.springframework.orm.jpa.vendor.HibernateJpaDialect"/>
</property>
</bean>
</beans>
7042,c#,Eu fiz um foguete no Unity que consigo fazer decolar e pousar depois de cinco segundos. Porém, ele pousa desse jeito:
Eu quero fazer com que ele chegue ao chão com o paraquedas para cima. Como que eu posso fazer isso pelo código?
Código que eu tenho, até agora:
double t = 5.0;
void Update () {
GameObject Paraquedas;
GameObject CorpoNariz;
CorpoNariz = GameObject.Find("Corpo_Nariz");
Paraquedas = GameObject.Find("Paraquedas");
rigidbody.AddForce(transform.up * 15);
t -= Time.deltaTime;
if (t <= 0) {
Destroy (CorpoNariz);
Paraquedas.renderer.enabled = true;
rigidbody.AddForce(-transform.up * 50);
rigidbody.drag = 5;
}
}
}
7043,javascript|html,Situação:
Tem o formulário e uma das opções que eu quero é que ele de um resultado da soma de variáveis automaticamente clicando num botão ou pode ser sem clicar, apenas o usuário só digitando os valores.
O problema é:
ele já esta ativando o action para a pagina de processamento em php sem o usuário terminar de completar o formulário. Como poderia fazer para mostrar o resultado da soma em baixo do botão somar (o mesmo que está ativando o action)?
código no header:
<script type="text/javascript">
function calcula(){
var val1 = document.getElementById("pa").value;
var val2 = document.getElementById("di").value;
var val3 = document.getElementById("insc").value;
var val4 = document.getElementById("outr").value;
var soma = parseFloat(val1)+parseFloat(val2)+parseFloat(val3)+parseFloat(val4);
document.write("" + soma);
}
</script>
agora o código dentro do formulário html que chama a função acima:
<legend>Calcular total.</legend>
<button id="calcular" onclick="calcula()">Calcular</button>
Aceito sugestões para se fazer de outra forma ou outra linguagem.
7053,c#,Qual a melhor forma de converter uma variável string para uma outra variável do tipo int?, ou seja, um nullable de int? A performance é muito importante nesse caso porque estarei convertendo vários valores dentro de um loop.
Seria possível fazer essa conversão em uma linha de código? Pergunto isso porque serão muitas linhas de código consecutivas fazendo esta operação e seria um "plus" se não aumentasse muito meu código só com conversão de dados.
7058,c#,Estou envolvido num projecto pessoal em que pretendo elaborar uma calculadora com alguns itens que estão inseridos em "arrays". Optei por numa classe chamada "calc.cs" constuir um metodo com um código idêntico a este
public void AddDrinkstoTabbedpanel()
{
List<string> drinks = new List<string>();//New list empty
food foo = new food();//Call food to get drinks
string [] product = foo.name;//string product [] = food.name (drinks)
foreach (string value in product)//(string value in product)//for any "value" in product
{
drinks.Add(value);//Add these value to list
Button bt = new Button();//new button(s)
bt.Text = value.ToString();//Add text to button
}
}
Tentei obter os "items" que estão guardados em "arrays" inserindo:  Messagebox.Show(value); e de facto obtenho todos os items que pretendo.
No entanto a solução não me cria para cada item o respectivo botão, porquê?
Onde falhei, o que está mal?
7069,html,Tenho duas divs, uma com largura fixa, 250px; que fica à esquerda, será um menu fixo, sempre à esquerda.
E outra div à direita que quero fazer com que ela fique 100%, sempre que o usuário manusear os cantos da tela, ela fiquei 100%.
Algo assim:
.menu{width: 250px; float: left; position;fixed}
.resto{width:100%; float:right;}
7075,javascript|jquery,Preciso gerar valores aleatórios para os inputs text da minha tabela(lembrando que ela pode ter N linhas), o meu código hoje consegue gerar os números porém preciso que o número gerado seja no máximo X para que não ultrapasse o valor da coluna Máx.
Ex: Se o total for 200, o valor máximo do teste 1 é 150 e do teste 2 é 130, os números devem ser gerados para que o primeiro valor(teste 1) seja no máximo 150 e o segundo(teste 2) no máximo 130 que a soma totalize 200.
Caso a soma dos valores máximos não seja suficiente para chegar no valor digitado, retornar o maior valor possível para cada campo.
Alguém vê uma solução prática para este caso?
JSFiddle
7079,jquery,Olá eu estou a fazer um site com uma pequena animação que é alterada consoante o tamanho
da janela mas existem 2 problemas na barra de nav. Os problemas são:
window > 800: a animação só é trigered quando quando eu mexo no tamanho da janela.
window < 800: queria que a animação deixa-se de fazer efeito e que respeita-se só os css (media queries para window < 800), mas continua, e o menu não respeita os media queries se o abrirmos depois da animação > 800 for ativada.
jQuery:
$(document).ready(function(){
$(window).resize(function () {
if ($(window).width() > 800) {
$('#upBar, nav').hover(function(){
$('#upBar, nav ul').stop(true).animate({
height: '60px'
}, 200);
});
$('#upBar, nav').mouseleave(function(){
$('#upBar, nav ul').stop(true).animate({
height: '45px'
}, 200);
}
else {
}
})
})
7082,c#,Preciso fazer uma página que possa ser acessada no seguinte formato:
www.exemplo.com/id/123qwe
Esse 123qwe é o ID de uma linha da base de dados, onde pegarei todos os dados pra preencher a página.
Até agora consegui fazer www.exemplo.com/id/id.aspx?id=123qwe usando:
<%=Request.QueryString["id"] %>
Como faço para utilizar www.exemplo.com/id/123qwe em vez de www.exemplo.com/id/id.aspx?id=123qwe?
7094,javascript|jquery|html,Tenho um select e gostaria de selecionar um valor de acordo com o texto de outro campo que o usuário clicou.
Por exemplo. Ao clicar numa tag "p" com o texto "Abril" eu quero selecionar o option de texto "Abril" no meu select:
<select id="meses">
<option value="0">Janeiro</option>
<option value="1">Fevereiro</option>
<option value="2">Março</option>
<option value="3">Abril</option>
</select>
Minha tag p:
<p class="nomMes">Abril</p>
Queria algo assim:
var valMes = $('p.nomMes').text().trim();
$(document).on('click', 'p.nomMes', function(){
$('#meses option[text='+valMes+']).prop('selected', true);
});
Mas o option[text=] não funciona então qual seria a forma mais elegante de fazer isso, sem precisar dar um loop no select por exemplo?
7105,javascript|jquery,Tenho três campos, dois inputs text e entre eles um select. Se um dos dois primeiros for preenchido o outro se torna obrigatório. O problema é que quando um único determinado valor, no caso a última opção, do select for preenchido os três passam a ser obrigatórios.
É possível termos regras dinâmicas com este plugin, ou seja, ao verificar o valor do select tornar o terceiro campo obrigatório?
HTML
<div id="msgErros"></div>
<form>
<label for="tempoInicial">Tempo Inicial</label>
<input type="text" name="filtro.tempoInicial" size="8" value="" id="tempoInicial" class="tempo" />
<br />
<label for="operadorTempo">Operador de Tempo</label>
<select name="filtro.valorOperadorTempo" id="operadorTempo" class="tempo">
<option value="">-- Selecione --</option>
<option value="1">&gt; - Maior</option>
<option value="2">&lt; - Menor</option>
<option value="3">Entre</option>
</select>
<br />
<label for="tempoFinal">Tempo Final</label>
<input type="text" name="filtro.tempoFinal" size="8" value="" id="tempoFinal" />
<br />
<button>Enviar</button>
</form>
JavaScript
$.validator.addMethod("skip_or_fill_minimum", function (value, element, options) {
var $fields = $(options[1], element.form),
$fieldsFirst = $fields.eq(0),
validator = $fieldsFirst.data("valid_skip") ? $fieldsFirst.data("valid_skip") : $.extend({}, this),
numberFilled = $fields.filter(function () {
return validator.elementValue(this);
}).length,
isValid = numberFilled === 0 || numberFilled >= options[0];
// Store the cloned validator for future validation
$fieldsFirst.data("valid_skip", validator);
// If element isn't being validated, run each skip_or_fill_minimum field's validation rules
if (!$(element).data("being_validated")) {
$fields.data("being_validated", true);
$fields.each(function () {
validator.element(this);
});
$fields.data("being_validated", false);
}
return isValid;
}, jQuery.validator.format("Please either skip these fields or fill at least {0} of them."));
$("form").validate({
errorContainer: "#msgErros ul",
errorLabelContainer: "#msgErros",
wrapper: "li",
rules: {
"filtro.tempoInicial": {
skip_or_fill_minimum: [2, ".tempo"]
},
"filtro.valorOperadorTempo": {
skip_or_fill_minimum: [2, ".tempo"]
}
},
groups: {
tempos: "filtro.tempoInicial filtro.valorOperadorTempo"
},
onfocusout: function (element, event) {
var classeCSSElemento = $(element).attr("class");
var classeCSSElementoIndefinida = typeof classeCSSElemento === "undefined";
if (classeCSSElementoIndefinida || (!classeCSSElementoIndefinida && !classeCSSElemento.contains("tempo"))) {
$.validator.defaults.onfocusout.call(this, element, event);
}
}
});
Fiddle
7107,java,Tendo um conjunto de n-valores, preciso dividir esses itens em subconjuntos que não exceda o valor (soma de todos os itens) estipulado e me garanta que a formação do conjunto é a mais próxima possível do valor estipulado.
Por exemplo, tendo um conjunto de n-itens que o valor total seja de 100D, quero criar listas desses itens que não exceda o valor total de 20D. Nesse caso, o primeiro conjunto deve me oferecer os itens que seus valores seja a melhor solução possível para alcançar os 20D.
Não sei se estou sendo muito confusa, ou prolixa, na minha problemática. Contudo, preciso encaixar performance e atendimento desse requisito nessa solução. Já pesquisei pelo teorema da mochila e Ags para a solução desse problema, mas acredito haver alguma solução mas simples...
Alguma sugestão?
7121,javascript|jquery,Gostaria de realizar uma simples animação que seja executada no evento de clique atribuído a um elemento. Este é o site que usarei essa animação.
Suponhamos que meu elemento seja um um circulo, por exemplo. Quero que, ao clicar, ele fique maior e mostre algumas informações. Porém depois da execução, deverá haver um botão "Fechar" para que o elemento volte à posição original (menor, menos informações).
Como poderia fazer isto?
7124,javascript|jquery,Tenho uma lista com várias imagens, e quando com o hover, acontecem 4 animações, um overlay, outro bg de overlay, a legenda da imagem aparece e um outro texto de "leia mais" também aparece.
Todas as animações eu fiz com jQuery, exceto o outro texto que tem esse "leia mais" que fiz com o GreenSock. O que acontece é que o hover, em qualquer uma das imagens, ativa a animação do GreenSock em todas as outras, isso não acontece com as animações em jQuery porque eu usei o this.
Como eu faria para a animação só acontecer na imagem que eu dou o hover?
Segue o código, o .plus é o textinho de "leia mais" animado que não está funcionando.
function animatePublications() {
$( ".menu-publications li" ).hover(function() {
// var self = $(this);
$( ".overlay", this).stop().animate({'opacity' : 1}, 400);
$( ".overlay-plus", this).stop().animate({'bottom': '0', 'opacity' : 1}, 400);
$( ".caption", this).css( "color", "#ffffff" ).stop().animate({'top': '-175px'}, 400);
TweenLite.to(plus, 1, {bottom:"24px", ease:Bounce.easeOut});
}, function() {
$( ".overlay", this).stop().animate({'opacity' : 0}, 400);
$( ".overlay-plus", this).stop().animate({'bottom': '-148px', 'opacity' : 0}, 400);
$( ".caption", this).css( "color", "#737373" ).stop().animate({'top': '0'}, 400);
// $( ".plus").stop().animate({'bottom': '-105px'}, 400);
TweenLite.to(plus, 0.5, {bottom:"-105px"});
})
}
7136,javascript|jquery,Eu preciso retornar todas as classes encontradas dentro de uma string CSS, de modo que quando a expressão fosse conflitada com:
div.classe1{/*...*/}
.classe2 div a{/*...*/}
.classe3.classe4{/*...*/}
.classe5{/*...*/}
Retornasse em um array (com ou sem os pontos antes do nome da classe, tanto faz):
["classe1","classe2","classe3","classe4","classe5"]
O que tentei até o momento foi este código:
\.(-?[_a-zA-Z]+[_a-zA-Z0-9-]*)(?![^\{]*\})
Mas aparentemente não funcionou muito bem...
Segue um FIDDLE para melhor entendimento.
7137,javascript|jquery,Tenho uma função chamada por dois elementos HTML diferentes e cada um dos elementos chama a função através de um determinado evento.
$("#tempoInicial").on("blur", manipulaTempoFinal);
$("#operadorTempo").on("change", manipulaTempoFinal);
function manipulaTempoFinal() {
var tempoInicial = $("#tempoInicial");
var operador = $("#operadorTempo");
if (operador.val() == "4" && tempoInicial.val() != "") {
tempoFinal.removeAttr("disabled");
$("#tempoInicial, #operadorTempo").rules("remove", "skip_or_fill_minimum");
$("#tempoInicial, #operadorTempo, #tempoFinal").rules("add", {
require_from_group: [3, ".temposOperadorWeb"],
messages: {
require_from_group: "Ao entrar com tempo inicial e escolher o operador \"Entre\" o campo tempo final passa a ser obrigat&oacute;rio."
}
});
} else {
tempoFinal.attr("disabled", "disabled");
tempoFinal.val("");
$("#tempoInicial, #operadorTempo, #tempoFinal").rules("remove", "require_from_group");
$("#tempoInicial, #operadorTempo").rules("add", {
skip_or_fill_minimum: [2, ".temposOperadorWeb"],
messages: {
skip_or_fill_minimum: "Ao preencher o tempo inicial selecione o operador ou vice-versa."
}
});
}
}
Existe algum jeito de na função manipulaTempoFinal eu identificar quem chamou-a e/ou qual evento?
7138,javascript|jquery,Estou tentando validar um checkbox utilizando o plugin http://jqueryvalidation.org/.
O problema ocorre que o campo que estou validando ele não existe até que um outro campo pré-determinado seja selecionado. Sendo assim, a validação passa mesmo sem esse campo existir.
Não consegui uma maneira de fazer com que a validação ocorra mesmo o campo não existindo.
Tentei assim:
$('#form_novo').validate({
rules: {
'bnd[]': {
required: true
},
'responsavel[]': {
required: true
},
'etapa[]': {
required: true
},
}
Esse campo responsável só existe depois de selecionado o campo bnd. Alguém sabe como resolver?
7139,c#,Como Usar o HTML Agility Pack meu projeto no Visual Studio em C#, pois tenho uma tabela extraída por um objeto webbrowsers, mais quando vou dar uns splits nele ele fica como uma array de quase 700 índices, eu gostaria de achar o elementos que eu quero mais facilmente,
private void timer_loteca_Tick(object sender, EventArgs e)
{
//loteca
WebBrowser clienteloteca = new WebBrowser();
clienteloteca.Navigate("http://www1.caixa.gov.br/loterias/loterias/loteca/loteca_pesquisa_new.asp");
clienteloteca.Navigated += clienteloteca_Navigated;
timer_federal.Enabled = false;
}
void clienteloteca_Navigated(object sender, WebBrowserNavigatedEventArgs e)
{
try
{
var s = (WebBrowser)sender; ;
string acumulou = string.Empty;
var tabela = s.Document.Body.InnerHtml;
string[] lala = tabela.Split('|');
string[] line22 = Regex.Split(lala[3], "<table" );
string line24 = line22[0].Replace("\r\n","");
string[] line23 = Regex.Split(line24, "</TD>");
var megasena = s.Document.Body.InnerText;
string megasena1 = megasena;
string[] lines = megasena1.Split('|');
string[] line20 = Regex.Split(lines[3], "\r\n");
string[] line30 = Regex.Split(lines[4], "\r\n");
string res1 = line20[1].ToString().Substring(0,1);
string res2 = line20[1].ToString().Substring(1);
string res3 = line20[5].ToString().Substring(0, 1);
string res4 = line20[5].ToString().Substring(1);
string res5 = line20[9].ToString().Substring(0, 1);
string res6 = line20[9].ToString().Substring(1);
string res7 = line20[13].ToString().Substring(0, 1);
string res8 = line20[13].ToString().Substring(1);
string res9 = line20[17].ToString().Substring(0, 1);
string res10 = line20[17].ToString().Substring(1);
string res11 = line20[21].ToString().Substring(0, 1);
string res12 = line20[21].ToString().Substring(1);
string res13 = line20[25].ToString().Substring(0, 1);
string res14 = line20[25].ToString().Substring(1);
string res15 = line20[29].ToString().Substring(0, 1);
string res16 = line20[29].ToString().Substring(1);
string res17 = line20[33].ToString().Substring(0, 1);
string res18 = line20[33].ToString().Substring(1);
}
7152,javascript|jquery,Tenho um grupo de check-boxes que permitem selecionar flags em uma tela de busca. Acontece que, se eu permitir que o usuário desmarque todas, é certo que não existirá resultado. Dito isso, gostaria que não fosse permitido desmarcar todos os checkboxes que tenham uma classe CSS específica.
Alternativas de solução para o problema de selecionar pelo menos uma opção de um conjunto são bem vindas. Talvez, ao invés de impedir o usuário, fazer uma validação de forma que o usuário perceba que desmarcar todas as check não é permitido...
Como fazer? E o que é melhor fazer em termos de usabilidade?
7166,javascript|jquery,Estou com um problema no Scrollorama. Gostaria que a div começasse a aparecer já no bottom, mas ela só está aparecendo quando já estou na metade do site.
A classe:
$(document).ready(function() {
var controller = $.superscrollorama();
var scrollDuration = 200;
controller.addTween('#fade', TweenMax.from( $('#fade'), .50, {css:{opacity:0}, ease:Quad.easeInOut}), scrollDuration);
});
7214,jquery,Eu estou usando o jQuery Validation Engine com este arquivo de traduções para Português. Adicionei no JavaScript a seguinte linha:
"cnpj": {
"regex": /^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$/,
"alertText": "* CNPJ inválido"
}
No ASPX utilizo:
asp:TextBox ID="txtCNPJ" runat="server" CssClass="validate[required,custom[cnpj]]
Porém esta validação não é muito eficiente, já que só verifica a quantidade de caracteres.
Como posso fazer um método para validar o CNPJ e continuar utilizando o Validation Engine desta forma?
7229,javascript|jquery,É possível ou existe alguma biblioteca html5/javascript/jquery que permita que eu tire um print da janela ou de uma div e salvar automaticamente sem precisar da permissão do usuário?
Já tentei window.print() mas ele pede a permissão do usuário
Obs: eu quero salvar como imagem não enviar para a impressora
7232,javascript|jquery,Tenho uma tabela no Google Drive e desejo usar Scripts para fazer oque desejo para ficar de uma maneira mais dinâmica.
Na Pagina2, tenho os campos de "Resultado" "Atraso" e "Chegada" com os seus devidos resultados preenchidos abaixo, eu desejo criar na Página1 em um campo, um select que consulte na Página2, nos campos de Resultado, Atraso e Chegada e me mostre os registros cadastrados na Página2, na coluna ao lado de onde seleciona o campo(no caso os resultados deverão vir na coluna B1 e o termo procurado ficar na coluna A1 com a sétinha do select).
7235,javascript|jquery,Tenho a seguinte tabela:
Esta tabela está dinâmica e funciona tipo formulário, ou seja, o utilizador ao clicar Novo é criada uma nova linha com os campos dinâmicos. Ao clicar Salvar Dados todas as linhas criadas pelo utilizador são guardadas. Até aí tudo bem. Mas o que estou a fazer é dar a possibilidade de o utilizador inserir Ficheiros, para tal tenho uma input type="file" também dinâmica para cada linha (esta a hidden), onde vai carregar os dados para o controller a partir de um ajaxSubmit (estou a trabalhar em ASP MVC 4).
O meu problema agora é:
Ao fazer o ajaxSubmit, o javascript está a sobrepor os dados dos id's dinâmicos que tenho para a input file. Segue a função:
function submitDocCertISCC(numID, DivNrFicha) {
$("#formSaveFile" + numID + "_" + DivNrFicha + "").ajaxSubmit({
type: "POST",
url: $("#formSaveFile").attr("action"),
clearForm: true,
data: { numID: numID, DivNrFicha: DivNrFicha }
});
}
Eu chamo a função a cima ao percorrer um ciclo for onde vou guardar cada linha da tabela de cada vez, e funciona bem. Agora chega a parte de gravar o ficheiro e só grava o ficheiro da última linha. Pelo que me parece, ele vai para o próximo passo do ciclo for sem antes acabar de fazer o ajaxSubmit.
Como é que posso contornar isto e que ele obrigue a não saltar no ciclo sem terminar esta função?
EDIT
Ciclo For:
for (var i = 1; i <= window.numAutoDeclaracaoISCC; i++) {
$.getJSON("/Terceiros/saveAutoDeclar", { // Gravar dados da linha
DivNrFicha: DivNrFicha, dtaEmissao: dtaEmissao, NumAutoDeclar: NumAutoDeclar, DtValid: DtValid, EmitidoPor: EmitidoPor,
Anexo: Anexo, DtEntregaTec: DtEntregaTec, DtRecepcao: DtRecepcao
},
function (result) {
submitDocCertISCC(i, DivNrFicha); // Fazer submit do form com o ficheiro
});
}
7251,c#,Gostaria de saber como faço pra acessar e receber dados de um servidor a partir do Windows Phone. Simplificando: tenho um PC e quero acessar um documento diretamente do smartphone.
7257,java|android,Estou pensando em fazer uma aplicação para vender, gostaria de saber como proteger meu código fonte para manter meu software seguro.
Eu vi que os bytecodes do Java, armazenados no arquivo .class são facilmente convertidos de volta para .java usando a ferramenta Java Decompiler
Os .class podem ser facilmente encontrados dentro de um .jar para o caso dos desktops, ou até mesmo em um .apk, conforme mostrado nesse post.
Como fazem os milhões de aplicativos no Google Play para protegerem seus códigos fontes? Pois deixá-los expostos me parece meio inseguro, ou não é? Se sim (se é inseguro), tem como eu desenvolver aplicações que mantenham escondido o código fonte em Java para desktop e Android?
EDIÇÃO
A resposta do @mgibsonbr me convenceu de não ser paranoico e querer proteger todo o código fonte, entretanto existem alguns pontos da aplicação que não podem ser revelados por motivo de segurança dos dados, por exemplo:
try {
String url = "jdbc:mysql://mysql01.meudominio.com/bd";
Class.forName("com.mysql.jdbc.Driver");
conn = DriverManager.getConnection(url,"usuario","senha");
System.out.println("Remote database connection established");
}
Imaginem o estrago se alguém tiver o endereço, o usuário e a senha do seu banco de dados.
Nos comentários o @mgibsonbr tentou responder essa minha dúvida, mas eu não entendi, ou talvez eu não tenha deixado a dúvida clara, enfim.
Sobre o ofuscador, através de testes pude ver que ele funciona. Entretanto tenho dúvidas se ele é mesmo a solução que eu procuro ou se a solução na verdade é remodelar o meu software de uma maneira que não guarde no código fonte nenhum tipo de informações que exijam segredo como por exemplo usuário, senhas e endereços de BD.
Se a solução for remodelar o software, por favor me expliquem como manter um arquivo externo ao código fonte de uma maneira que não seja possível o hacker copiar a parte do meu código fonte que faz a leitura desse arquivo externo, tendo então o código que consegue ler o arquivo, da mesma maneira que meu software faz.
7261,javascript|jquery,@fundo:#fff; //como alterar isso, externamente com javascript
@texto:rgb(94, 135, 176); //preciso mudar essa propriedade dinamicamente.
.wrapper{
background-color:@fundo;
}
nav a:hover{
color:darken(@fundo, 30%);
}
nav a{
color:darken(@fundo, 20%);
}
.active>a, .well, .active:after, .navbar-toggle{
color:@texto;
}
.well{
background-color:darken(@fundo, 5%);
border-color:darken(@fundo, 10%);
}
7268,java|android,Estou a fazer um programa que troca mensagens por NFC, e estou a ter um problema que quando quero passar um Parametros na mensagem aparece tudo correto agora quando quero passar 2 parametros, então existe um que aparece sempre com caracteres isto no tlm que recebe a mensagem.
Vou mostrar minha fonte.
Código da classe que Envia a mensagem:
NdefMessage create_RTD_TEXT_NdefMessage(String cumprimento,String ID)
{
Locale locale = new Locale("en", "US");
byte[] langBytes = locale.getLanguage().getBytes(Charset.forName("US-ASCII"));
boolean encodeInUtf8 = false;
Charset utfEncoding = encodeInUtf8 ? Charset.forName("UTF-8") : Charset.forName("UTF-16");
int utfBit = encodeInUtf8 ? 0 : (1 << 7);
byte status = (byte) (utfBit + langBytes.length);
byte[] textBytes = cumprimento.getBytes(utfEncoding);
byte[] data = new byte[1 + langBytes.length + textBytes.length];
data[0] = (byte) status;
System.arraycopy(langBytes, 0, data, 1, langBytes.length);
System.arraycopy(textBytes, 0, data, 1 + langBytes.length, textBytes.length);
Locale locale2 = new Locale("en", "US");
byte[] langBytes2 = locale2.getLanguage().getBytes(Charset.forName("US-ASCII"));
boolean encodeInUtf8_ = false;
Charset utfEncoding2 = encodeInUtf8_ ? Charset.forName("UTF-8") : Charset.forName("UTF-16");
int utfBit2 = encodeInUtf8_ ? 0 : (1 << 7);
byte status2 = (byte) (utfBit2 + langBytes2.length);
byte[] textBytes2 = ID.getBytes(utfEncoding2);
byte[] data2 = new byte[1 + langBytes2.length + textBytes2.length];
data[0] = (byte) status2;
System.arraycopy(langBytes2, 0, data2, 1, langBytes2.length);
System.arraycopy(textBytes2, 0, data2, 1 + langBytes2.length, textBytes2.length);
NdefRecord textRecord = new NdefRecord(NdefRecord.TNF_WELL_KNOWN, NdefRecord.RTD_TEXT, new byte[0], data);
NdefRecord textRecord2 = new NdefRecord(NdefRecord.TNF_WELL_KNOWN, NdefRecord.RTD_TEXT, new byte[0], data2);
NdefMessage message = new NdefMessage(textRecord, textRecord2);
return message;
}
E agora a classe que recebe a mensagem por NFC:
void processIntent(Intent intent) {
NdefMessage[] messages = getNdefMessages(getIntent());
for(int i=0; i <messages.length; i++){
for(int j=0;j< messages[0].getRecords().length;j++){
NdefRecord record = messages[i].getRecords()[j];
int languageCodeLength= statusByte & 0x3F; //mask value in order to find language code length
int isUTF8=statusByte-languageCodeLength;
if(j == 0)
{
statusByte=record.getPayload()[0];
if(isUTF8==0x00){
ammount=new String(record.getPayload(),1+languageCodeLength,record.getPayload().length-1-languageCodeLength,Charset.forName("UTF-8"));
System.out.println(ammount + "***********");
}
else if (isUTF8==-0x80){
cumprimento = new String(record.getPayload(),1+languageCodeLength,record.getPayload().length-1-languageCodeLength,Charset.forName("UTF-16"));
}
}
if(j == 1)
{
statusByte1 = record.getPayload()[0];
if(isUTF8==0x00){
id = new String(record.getPayload(),1+languageCodeLength,record.getPayload().length-1-languageCodeLength,Charset.forName("UTF-8"));
}
else if (isUTF8==-0x80){
id = new String(record.getPayload(),1+languageCodeLength,record.getPayload().length-1-languageCodeLength,Charset.forName("UTF-16"));
}
}
Valor = (TextView) this.findViewById(R.id.Valor );
Valor.setText("Montante a pagar \n" + "€ "  + cumprimento);
}
}
}
O problema que está acontecer é que um dos valores no IF vai pelo UTF-8 e aparece caracteres que não devia e o outro aparece no UTF-16 e aparece tudo certo.
Alguem me ajuda com esse problema?
7269,c#,Quando definida a classe de contexto no Entity Framework (exemplo):
public class Context : DbContext
{
public DbSet<Usuario> Usuarios { get; set; }
public DbSet<Categoria> Categorias { get; set; }
}
E utilizada nas classes DAO ou nos Controllers:
private Context db = new Context();
Qual a melhor maneira de utilizar a referência a Context?
Seria mais performático se db fosse static?
Há literatura pertinente a respeito dessa questão, relacionada a um ambiente com bastantes usuários concorrentes?
7277,c#,Gostaria de saber o que acontece no seguinte cenário:
Em um programa asp.net com c# foi aberta uma MySqlConnection, logo depois foi iniciada uma MySqlTransaction, foi realizado um insert na transação aberta, porem, em vez de dar um commit ou rollback na transação, a conexão e fechada.
O que aconteceria com a transação?
7286,javascript|jquery|html,Tenho um parágrafo que contém vários links, alternados entre palavras ou números. Preciso realizar a seguinte checagem: se o link dentro do parágrafo for um texto qualquer, ele não vai fazer nada com o texto, mas caso esse link tenha um número, o mesmo receberá uma formatação CSS.
Vejam:
<p class="teste"><a href="#">Meu texto</a><a href="#">1</a></p>
No caso o número 1 deveria receber uma formatação qualquer, e o meu texto não!
7292,php|jquery,Por algum motivo meu Select2 utilizando AJAX para preenchê-lo não está funcionando. Quando eu coloco um debugger no código, ele não entra no metódo result: e também não retorna nenhum erro.
HTML:
<input type="hidden" class="bigdrop select2-offscreen" name="e7" id="e7" tabindex="-1">
JavaScript:
$("#e7").select2({
placeholder: "Buscar",
minimumInputLength: 3,
ajax: {
url:"/perfil/buscarBancas",
dataType: 'jsonp',
quietMillis: 100,
data: function (term, page) { // page is the one-based page number tracked by Select2
debugger;
return {
q: term, //search term
page_limit: 10, // page size
page: page
};
},
error: function(XMLHttpRequest, textStatus, errorThrown) {
debugger;
alert("some error");
},
results: function (data, page) {
debugger;
var more = (page * 10) < data.total; // whether or not there are more results available
// notice we return the value of more so Select2 knows if more results can be loaded
debugger;
return {results: data.results, more: more};
}
},
formatResult: movieFormatResultText, // omitted for brevity, see the source of this page
formatSelection: movieFormatSelectionText, // omitted for brevity, see the source of this page
dropdownCssClass: "bigdrop", // apply css that makes the dropdown taller
escapeMarkup: function (m) { return m; } // we do not want to escape markup since we are displaying html in results
});
function movieFormatResultText(movie) {
var markup = "<table class='movie-result'><tr>";
markup += "<td class='movie-info'><div class='movie-title'>" + movie.text + "</div>";
markup += "</td></tr></table>";
return markup;
}
function movieFormatSelectionText(movie) {
return movie.text;
}
JSON:
[
{
"total":"20",
"results":[
{
"id":"1",
"text":"ACAFE"
},
{
"id":"2",
"text":"ACAPLAM"
},
{
"id":"3",
"text":"ACEP"
},
{
"id":"4",
"text":"ADVISE"
},
{
"id":"219",
"text":"Aeron\u00e1utica"
},
{
"id":"239",
"text":"AMIGA P\u00daBLICA"
},
{
"id":"253",
"text":"ANBIMA"
},
{
"id":"5",
"text":"AOCP"
},
{
"id":"6",
"text":"ASPERHS"
},
{
"id":"7",
"text":"BIO-RIO"
},
{
"id":"8",
"text":"CAIP-IMES"
},
{
"id":"9",
"text":"CAJU\u00cdNA"
},
{
"id":"257",
"text":"CANPASS"
},
{
"id":"165",
"text":"CCEV - UFMT"
},
{
"id":"10",
"text":"CCV-UFC"
},
{
"id":"255",
"text":"CEC"
},
{
"id":"11",
"text":"CECIERJ"
},
{
"id":"12",
"text":"CEFET-AL"
},
{
"id":"13",
"text":"CEFET-BA"
},
{
"id":"14",
"text":"CEPERJ"
}
]
}
]
Ele chega a buscar, porém não retorna nada.
7300,javascript|jquery,Existe alguma forma de se selecionar todos os elementos vazios de uma página?
Por algum motivo que não sei explicar, o código abaixo não seleciona os inputs sem texto em minha página:
$("input[value=''], select[value=''], textarea[value='']");
Eu sei que eu posso obter todos os input's, select's e textarea's vazios com um laço, se eu primeiro obtiver todos os elementos com algo como $("input, select, textarea") e depois verificar o retorno do método val para cada um deles. No entanto, gostaria de saber se existe algum seletor especial apenas para controles vazios, que tenha uma performance melhor do que a filtragem por força bruta.
7312,java|c#,Problema
Meu formulário faz uma determina requisição a um banco de dados (seleciona, inserir, atualizar, deletar valores), porém sempre que essas requisições são feitas um travamento ocorrer no formulário (um congelamento)! Como evitar que os formulários recebem esses travamentos independe de requisição?
Observação: Quanto maior for a requisição mais demorado é o travamento. Um exemplo é um select * from tabela; que capturar uma grande quantidade de valores no banco de dados. Já tive ambos os problemas em JAVA e C#.
Atenção: quando digo requisição estou me referindo a conexão e busca no banco de dados.
7326,javascript|php|jquery,Estou precisando listar algumas imagens, que precisam ser mostradas em grupos de 6 por página. Pode ser qualquer tipo de paginação.
Eu tenho conhecimentos em Banco de Dados, PHP, consigo trazer as imagens do banco, porém estou a procura de uma paginação simples, que posso usar em qualquer projeto, p. ex.:
<- 1 2 3 .. ->
Conheço o limit do HTML, mas ai ele so vai limitar o quanto vai ser visto, eu precisava que mostrasse todos os itens do banco, mas com paginação, conheçem algum plug-in?
7327,java|android,Estou desenvolvendo uma aplicação para Android que se comunica com um dispositivo USB, uma impressora, um Arduíno ou outro dispositivo Android.
É possível ler e escrever na porta USB do Android? Como devo proceder quanto aos drivers? O Android possui bibliotecas para trabalhar com dispositivos USB? Ouvi falar de um projeto chamado FTDI Chip para se comunicar com um dispositivo USB, estou no caminho certo?
7333,php|jquery|html,Estou utilizando flexbox para mostrar imagens, porém ele lista todas em uma linha só, gostaria de poder exibir 3 imagens por linha.
Estrutura HTML:
<section class="content">
<?php
$i=0;
$sql = mysql_query("SELECT * FROM slideshows");
while($result = mysql_fetch_array($sql)){
$imagem = $result['imagem'];
$titulo = $result['titulo'];?>
<div class="item"><img src="<?php echo $imagem; ?>"></div>
<?php }?>
</section>
CSS:
.content{
width: 100%;
margin: 0 auto;
display: flex;
align-items: center;
justify-content: space-around;
}
.item{
width:303px; height: 242px;
display: block;
}
Estou usando um estilo de paginação para exibir as imagens, esta tudo certo, porem, esta exibindo tudo na mesma linha, gostaria que mostrasse 3 por linhas...
http://planow.com.br/jrgrill/dicas.php
php para exibir com a paginacao:
$outputList = '';
while($row = mysql_fetch_array($sql2)){
$id = $row["id"];
$imagem = $row["imagem"];
$nome = $row["nome"];
$nome = utf8_encode($nome);
$outputList .= '<section class="content"><div class="item"><img src="admin/images/' . $imagem . '"></div><div class="caixa-texto">' . $nome . ' </div></section>';
} // close while loop
?>
<div class="imagens-dicas-churrasco">
<?php print "$outputList"; ?>
</div>
<div style="padding:6px;float:right;"><?php echo $paginationDisplay; ?></div>
7360,java,Alguém que esteja a aprender a linguagem, novato ou experiente, pode nunca se ter cruzado com enumerações de Java. Já li por várias vezes que são úteis, por exemplo, para implementar os padrões singleton com mais garantias de visibilidade entre threads.
Qual é a utilidade de se aprender e usar as enum na programação do dia-a-dia?
7388,javascript|jquery,Eu estou a desenvolver um projecto e precisava de saber como dar slide numa div para a esquerda. De momento estou a usar:
$('#idDiv').toggle('slide', { direction: 'left', distance: 450 });
Eu queria que a minha div de 500px de width deslizasse e deixasse 50px à mostra. O problema é que quando ela acaba de dar o slide de 450px ela desaparece. Eu sei que o toggle tem a ver com o hide e show, mas será que existe outra maneira (sem usar o animate para dar resize) de dar slide para a esquerda sem que esta desapareça?
Está aqui um exemplo do que disse.
7391,javascript|html,Como há muitas resoluções de vários dispositivos diferentes, estou com uma dificuldade de exibir uma lista de feed. Segue uma imagem de como eu acho melhor de exibir tal DIV (lista), em vista que a página é responsiva e não é trivial pôr uma scroll-bar num dispositivo móvel.
Correção da imagem: Scroll Buttom**
7399,php|java,Eu preciso executar um arquivo jar que deve estar no pc do cliente pela web e passar alguns parâmetros pra esse jar, eu consegui fazer isso com o exec() do php:
exec('java -jar "C:\Users\Suporte01\Documents\NetBeansProjects\Printer\dist\Printer.jar" Hello', $output);
print_r($output);
porém ele executa o jar no servidor...
EDIT
Seria algo como eu vejo algumas aplicações web fazerem como o logmein, que abre direto do navegador um programa de acesso remoto que fica instalado no seu computador, como pode ser visto a seguir:
Será que é necessário ter algum serviço instalado no cliente?
7411,php|jquery,Estou trabalhando em um projeto de imobiliárias e nele tenho o add, edit e delete, tudo está normal. Nas imobiliárias tenho as tabelas cidade e bairro, que quando vou cadastrar são dois <option> mas, quando eu vou editar a imobiliária, a cidade e o bairro, não ficam no lugar do option, ou seja, o cliente tem que procurar a cidade e o bairro de novo, queria deixar setado a cidade e o bairro no editar.
Esses são os options:
echo $this->Form->input('cidade', array('label' => 'Cidade', '', 'empty' => 'Selecione', 'options' => $Cidades));
echo $this->Form->input('bairro', array('label' => 'Bairro', 'empty' => 'Selecione o Bairro', 'options' => array() ));
Esse é meu ImovelsController, a função editar:
public function editar($id = null) {
if (!$id) return $this->redirect(array('action' => 'index'));
$imovel = $this->Imovel->read(null, $id);
if ($imovel['Imovel']['creator'] != $this->Session->read('Auth.User.Imobiliaria.id')) return $this->redirect(array('action' => 'index'));
if (empty($this->request->data)) {
$this->set('imovel', $imovel);
$id_cidade = $imovel['Imovel']['cidade'];
include 'banco.php';
$sql = mysql_query("SELECT * FROM cidades WHERE id = '$id_cidade' ");
while($result = mysql_fetch_array($sql)){
$id = $result['id'];
$nomeCidade = $result['nome'];
}
$this->loadModel('Bairro');
$bairrosRioClaro = $this->Bairro->find('list', array('fields' => array('id', 'bairro'), 'conditions' => array('cidade' => $nomeCidade)));
//print_r($bairrosRioClaro);
$this->set('bairrosRioClaro', $bairrosRioClaro);
$especificacoes = array();
$tipo = $imovel['Imovel']['tipo'];
if ($tipo == 'residencial') {
$especificacoes = array(
1 => 'Casa',
2 => 'Apartamento',
3 => 'Condomínio',
4 => 'Chácara',
5 => 'Kitnet',
6 => 'Temporada'
);
} elseif ($tipo == 'comercial') {
$especificacoes = array(
7 => 'Barracão',
8 => 'Salas comerciais',
9 => 'Ponto comercial',
);
} elseif ($tipo == 'empreendimento') {
$especificacoes = array(
10 => 'Comercial',
11 => 'Residencial',
);
} elseif ($tipo == 'terreno') {
$especificacoes = array(
12 => 'Comercal',
13 => 'Residencial',
14 => 'Comercial/Residencial',
);
} elseif ($tipo == 'rural') {
$especificacoes = array(
15 => 'Fazenda',
16 => 'Sítio',
17 => 'Chácara',
);
} else {
$especificacoes = null;
}
$this->set('especificacoes', $especificacoes);
$this->set('data', $imovel);
} else {
$data = $this->request->data;
if ($data['Imovel']['opcoes']) $data['Imovel']['opcoes'] = implode(';', $data['Imovel']['opcoes']);
$data['Imovel']['modifier'] = $this->Session->read('Auth.User.Imobiliaria.id');
$data['Imovel']['especificacao'] = $data['Imovel']['imovel'];
if ($data['Imovel']['bairro']) {
$bairro = $this->Cep->find('first', array('conditions' => array('id' => $data['Imovel']['bairro'])));
$data['Imovel']['bairroNome'] = $bairro['Cep']['bairro'];
}
if ($data['Imovel']['cidade']) {
$cidade = $this->Cidade->find('first', array('conditions' => array('id' => $data['Imovel']['cidade'])));
$data['Imovel']['cidadeNome'] = $cidade['Cidade']['nome'];
}
if ($this->Imovel->save($data)) return $this->redirect(array('action' => 'index'));
$this->set('data', $data);
}
}
Ele esta retornando os dados da imobiliária:
array(
'Imovel' => array(
'id' => '150',
'codigo' => 'TESTEIMOVEL',
'placa' => 'TESTEIMO',
'tipo' => 'residencial',
'cidade' => '9566',
'cidadeNome' => 'Rio Claro',
'bairro' => '578008',
'bairroNome' => 'Jardim Donângela',
'intencao' => '1',
'especificacao' => '1',
'endereco' => 'TESTEIMOVEL',
'valor' => '1',
'condominio' => 'TESTEIMOVEL',
'salas' => '0',
'dormitorios' => '0',
'suites' => '0',
'banheiros' => '0',
'garagem' => '0',
'complemento' => 'TESTEIMOVEL',
'areaConstruida' => 'TESTEIMOVEL',
'areaTotal' => 'TESTEIMOVEL',
'descricao' => 'TESTEIMOVEL',
'geolocalizacao' => 'Sob Consulta',
'video' => null,
'foto1' => '',
'foto2' => '',
'foto3' => '',
'foto4' => '',
'foto5' => '',
'foto6' => '',
'legendaFoto1' => '',
'legendaFoto2' => '',
'legendaFoto3' => '',
'legendaFoto4' => '',
'legendaFoto5' => '',
'legendaFoto6' => '',
'pageview' => '0',
'opcoes' => '',
'destaque' => '0',
'ativo' => '1',
'ativoPeloAdm' => '1',
'created' => '2014-02-26 09:53:13',
'creator' => '110',
'modified' => '2014-02-26 09:53:13',
'modifier' => '110'
)
)
7412,c#,Minha aplicação autentica usuários por meio de STS. A autenticação consegue ir até o STS e validar o PIN do usuário no cartão. Mas como faço para ele redirecionar para a página "home" do meu site após a autenticação?
Adendo:
Não tenho acesso ao admin do STS;
Utilizo o componente FederatedPassiveSignIn contido em: Microsoft.IdentityModel.Web.Controls;
Tentei Utilizar o Método Signed_in para tentar capturar o momento após a autenticação para o STS mas não funcionou;
A maneira que conseguia fazer o redirect anteriormente era usando o Evento Load, porém, este é executado toda vez que a pagina é carregada (óbvio).
Segue Código:
<div style="margin-left: 360px; margin-top: 100px; margin-bottom: 100px;">
<wif:FederatedPassiveSignIn ID="FederatedPassiveSignIn1" runat="server"
Issuer="<%$AppSettings:CORP.STS.Certificado%>"
RequireHttps="False" Realm="<%$AppSettings:CORP.STS.UrlCliente%>"
UseFederationPropertiesFromConfiguration="false" RememberMeText="Lembre minha Senha."
SignInImageUrl="~/Images/ec_b.gif" TitleText="Autenticar Certificado Digital" OnSignedIn="FederatedPassiveSignIn1_SignedIn" >
<SignInButtonStyle Height="80px" />
</wif:FederatedPassiveSignIn>
<div id="errorMessage">
<asp:Label Text="text" ID="lblError" runat="server" Visible="false" ForeColor="Red" style="margin-left:-200px;" />
</div>
</div>
e da parte do code behind:
protected void FederatedPassiveSignIn1_SignedIn(object sender, EventArgs e)
{
Response.Redirect("MinhaPagina.aspx");
}
7419,c#,Tenho um método de um web service que recebe o IP de um servidor como parâmetro e retorna um DataSet. Vários servidores devem ser consultados por esse web service, Uma List<string> contém a lista dos IPs. Um loop executa o método, é feito um merge do retorno para um DataSet local e então um DataGridView winforms é populado com esses dados.
O código que faz isso é simples:
foreach (var server in servers)
{
ds.Merge(ws.GetData(server));
}
dataGridView1.DataSource = ds.Tables[0];
Essa chamada é executada em fila e leva um tempo para terminar, além de travar todo formulário.
Como posso converter esse processo para uma forma assíncrona usando o método GetDataAsync com async e Task para executar todas as chamadas de uma vez e exibir os dados no DataGridView ao final?
7448,java,Que problema um programador Java pode ter ao usar "\n" para pular linha?
Observação: Já utilizei ele por N motivos, gravar um arquivo TXT e outros.
7451,javascript|jquery,Tenho um plugin de paginação feito em jQuery.
O que não estou conseguindo fazer é quando estiver na última página, o link que dá acesso a próxima página seja desabilitado e o usuário não consiga clicar mais.
Da mesma maneira o botão de dá acesso a página anterior.
Já segui algumas dicas, como inserir "disable" mas isso não funciona. Some a "mãozinha" no link mas dá para clicar ainda.
O método a seguir foi criado para customizar os dois link's
function tagNextPrev() {
if($nav_panels.children('.last').hasClass('active_page')){
$nav_panels.children('.next_link').add('.last_link').removeClass('.next_link').addClass('no_more');
} else {
$nav_panels.children('.no_more').add('.last_link').removeClass('no_more');
}
if($nav_panels.children('.first').hasClass('active_page')){
$nav_panels.children('.previous_link').add('.first_link').addClass('no_more');
} else {
$nav_panels.children('.previous_link').add('.first_link').removeClass('no_more');
}
}
7452,html,Preciso fazer uma transição fill from left no background de um botão.
Algo bem parecido como está em http://h5bp.github.io/Effeckt.css/dist/#0 (procurar o botão "fill from left").
Quero que quando eu passe o mouse em cima dele, ele preencha o background da esquerda para a direita. Minha sintaxe está assim:
.BT{
font-size: 12px;
height: 30px;
left: 330px;
line-height: 30px;
top: 350px;
width: 110px;
}
E o Hover desse botão, que está errado, está assim:
.BT:hover{background-color:red;
transform:translate(-10%, 0px);
transition:transform 500ms ease 0s;
}
O que acontece, é que ele está movimentando o botão, queria fazer um teste para movimentar internamente.
7464,javascript|jquery,Estou a tentar fazer uma animação que comporte como um toggle. O que eu quero é que com o click event no #admin > p, este se desvie para a esquerda enquanto o #admin > form, #btn slideUp e volte para a posição original (css) quando #admin > form, #btn faz slide down outra vez.
Aqui está o meu cóodigo:
$('#admin > p').click(function(){
$('#admin > form, #btn').stop(true).slideToggle();
})
$('#admin > p').toggle(function() {
$(this).animate({'left':'20px'});
}, function() {
$(this).animate({'right':'20px'});
});
7470,c#,Estou desenvolvendo uma camada MVC pra um sistema ASP.NET escrito inicialmente em WebForms. Ele não usa EntityFramework, então uma boa parte do sistema eu tive que elaborar uma solução caseira.
Pra eu poder usar os métodos assíncronos do Ajax com os Controllers do MVC5, escrevi como exemplo o seguinte método:
[Authorize]
public async Task<JsonResult> IndexAsync()
{
var pessoas = new Pessoas(GeneralSettings.DataBaseConnection)
.Selecionar()
.Select(p => new { NOME = p.Nome, CPF = p.Cpf, FONE = p.TelefoneResidencial, CELULAR = p.TelefoneCelular, DEPARTAMENTO = "Teste", EMAIL = p.Email })
.Take(10);
return Json(pessoas, JsonRequestBehavior.AllowGet);
}
Este método não é assíncrono porque return Json(... executa de modo síncrono. A seguinte mensagem aparece:
This async method lacks 'await' operators and will run synchronously. Consider using the 'await' operator to await non-blocking API calls, or 'await Task.Run(...)' to do CPU-bound work on a background thread.
Como devo alterar o método para que a execução seja assíncrona?
EDIT
O @dcastro pediu o método Selecionar(), que está reproduzido abaixo:
public override IEnumerable<Pessoa> Selecionar(IEnumerable<Operador> operadores)
{
using (var obj = new Database())
{
var sSql =
"select p.ID_PESSOA, p.NOME_COMPLETO, p.APELIDO, p.EMAIL_PESSOAL, p.NOME_PAI, p.NOME_MAE, p.SEXO, p.CPF, p.RG, p.ORGAO_RG, " +
" p.EMISSAO_RG, p.DATA_NASC, p.LOCAL_NASC, p.ENDERECO, p.NUMERO, p.COMPLEMENTO, p.BAIRRO, p.CIDADE, p.ESTADO, p.DDD_FONE_RES, " +
" p.FONE_RES, p.DDD_FONE_CEL, p.CELULAR, p.ID_BANCO_TALENTOS, p.ESTADO_CIVIL, p.ID_NACIONALIDADE, p.DEFICIENTE, p.TAMANHO_SAPATO, " +
" p.TAMANHO_CAMISETA, p.ALERGIA, p.NOME_CONJUGE, p.DDD_TEL_EMERGENCIA, p.TEL_EMERGENCIA, p.DDD_CEL_EMERGENCIA, p.CEL_EMERGENCIA, " +
" p.CONTATO_EMERGENCIA, p.ID_FORMACAO_ACADEMICA, p.PARENTESCO, p.FOTO_PESSOA, p.RI, p.TITULO_ELEITOR, p.ZONA, p.SECAO, " +
" p.CART_TRABALHO, p.SERIE, p.PIS, p.CPF_CONJUGE, p.LINKEDIN, p.FACEBOOK, p.TWITTER, p.ID_ETNIA, p.CEP " +
" from PESSOAS p ";
foreach (var operador in operadores)
{
sSql += WhereOuAnd + " p." + operador;
}
var parametros = operadores.Where(o => o.GetType().IsAssignableFrom(typeof(Igual))).Select(o2 => ((Igual)o2).ParametroOracle).ToList();
var dataTable = obj.ConsultarSQl(ConexaoBancoDados, sSql, parametros);
foreach (DataRow linha in dataTable.Rows)
{
yield return new Pessoa
{
PessoaId = Convert.ToInt32(linha["ID_PESSOA"].ToString()),
Nome = linha["NOME_COMPLETO"].ToString(),
Apelido = linha["APELIDO"].ToString(),
Email = linha["EMAIL_PESSOAL"].ToString(),
NomePai = linha["NOME_PAI"].ToString(),
NomeMae = linha["NOME_MAE"].ToString(),
Sexo = linha["SEXO"].ToString(),
Cpf = linha["CPF"].ToString(),
Rg = linha["RG"].ToString(),
OrgaoEmissorRg = linha["ORGAO_RG"].ToString(),
DataEmissaoRg = (!String.IsNullOrEmpty(linha["EMISSAO_RG"].ToString())) ? Convert.ToDateTime(linha["EMISSAO_RG"].ToString()) : DateTime.MinValue,
Nascimento = (!String.IsNullOrEmpty(linha["DATA_NASC"].ToString())) ? Convert.ToDateTime(linha["DATA_NASC"].ToString()) : DateTime.MinValue,
LocalNascimento = linha["LOCAL_NASC"].ToString(),
Endereco = linha["ENDERECO"].ToString(),
Numero = linha["NUMERO"].ToString(),
Complemento = linha["COMPLEMENTO"].ToString(),
Bairro = linha["BAIRRO"].ToString(),
Cidade = linha["CIDADE"].ToString(),
Estado = linha["ESTADO"].ToString(),
DddTelefoneResidencial = (!String.IsNullOrEmpty(linha["DDD_FONE_RES"].ToString())) ? Convert.ToInt32(linha["DDD_FONE_RES"].ToString()) : Int32.MinValue,
TelefoneResidencial = (!String.IsNullOrEmpty(linha["FONE_RES"].ToString())) ? Convert.ToInt32(linha["FONE_RES"].ToString()) : Int32.MinValue,
DddCelular = (!String.IsNullOrEmpty(linha["DDD_FONE_CEL"].ToString())) ? Convert.ToInt32(linha["DDD_FONE_CEL"].ToString()) : Int32.MinValue,
TelefoneCelular = (!String.IsNullOrEmpty(linha["CELULAR"].ToString())) ? Convert.ToInt32(linha["CELULAR"].ToString()) : Int32.MinValue,
BancoTalentosId = linha["ID_BANCO_TALENTOS"].ToString(),
EstadoCivil = linha["ESTADO_CIVIL"].ToString(),
NacionalidadeId = (!String.IsNullOrEmpty(linha["ID_NACIONALIDADE"].ToString())) ? Convert.ToInt32(linha["ID_NACIONALIDADE"].ToString()) : Int32.MinValue,
Deficiente = linha["DEFICIENTE"].ToString(),
TamanhoSapato = (!String.IsNullOrEmpty(linha["TAMANHO_SAPATO"].ToString())) ? Convert.ToInt32(linha["TAMANHO_SAPATO"].ToString()) : Int32.MinValue,
TamanhoCamiseta = linha["TAMANHO_CAMISETA"].ToString(),
Alergia = linha["ALERGIA"].ToString(),
NomeConjuge = linha["NOME_CONJUGE"].ToString(),
DddTelefoneEmergencia = (!String.IsNullOrEmpty(linha["DDD_TEL_EMERGENCIA"].ToString())) ? Convert.ToInt32(linha["DDD_TEL_EMERGENCIA"].ToString()) : Int32.MinValue,
TelefoneEmergencia = (!String.IsNullOrEmpty(linha["TEL_EMERGENCIA"].ToString())) ? Convert.ToInt32(linha["TEL_EMERGENCIA"].ToString()) : Int32.MinValue,
DddCelularEmergencia = (!String.IsNullOrEmpty(linha["DDD_CEL_EMERGENCIA"].ToString())) ? Convert.ToInt32(linha["DDD_CEL_EMERGENCIA"].ToString()) : Int32.MinValue,
CelularEmergencia = (!String.IsNullOrEmpty(linha["CEL_EMERGENCIA"].ToString())) ? Convert.ToInt32(linha["CEL_EMERGENCIA"].ToString()) : Int32.MinValue,
ContatoEmergencia = linha["CONTATO_EMERGENCIA"].ToString(),
FormacaoAcademicaId = (!String.IsNullOrEmpty(linha["ID_FORMACAO_ACADEMICA"].ToString())) ? Convert.ToInt32(linha["ID_FORMACAO_ACADEMICA"].ToString()) : Int32.MinValue,
Parentesco = linha["PARENTESCO"].ToString(),
FotoPessoa = (linha["FOTO_PESSOA"].ToString() != "") ? (Byte[])linha["FOTO_PESSOA"] : new byte[0],
RI = linha["RI"].ToString(),
TituloEleitor = linha["TITULO_ELEITOR"].ToString(),
Zona = linha["ZONA"].ToString(),
Secao = linha["SECAO"].ToString(),
CarteiraTrabalho = linha["SECAO"].ToString(),
Serie = linha["SECAO"].ToString(),
Pis = linha["PIS"].ToString(),
CpfConjuge = linha["CPF_CONJUGE"].ToString(),
Linkedin = linha["LINKEDIN"].ToString(),
Facebook = linha["FACEBOOK"].ToString(),
Twitter = linha["TWITTER"].ToString(),
EtniaId = (!String.IsNullOrEmpty(linha["ID_ETNIA"].ToString())) ? Convert.ToInt32(linha["ID_ETNIA"].ToString()) : Int32.MinValue,
Cep = linha["CEP"].ToString()
};
}
}
}
Método ConsultarSql (eu não escrevi este código. Ele faz parte do esquema de acesso a dados que já existia):
/// <summary>
/// Método utilizado para a execução de pesquisas no banco de dados com o envio de uma coleção de parametros.
/// </summary>
/// <param name="pStringConexao">String de conexão com o banco de dados.</param>
/// <param name="pSQL">Enviar o comando SQL que será executado.</param>
/// <param name="pParams">Coleção de parametros esperados no comeando SQL.</param>
/// <returns>Retorna um DataTable com o resultado da pesquisa.</returns>
public DataTable ConsultarSQl(string pStringConexao, string pSQL, List<OracleParameter> pParams)
{
#region Abre a Conexão
OracleConnection cn = new OracleConnection();
try
{
cn = GetConnection(pStringConexao);
cn.Open();
}
catch (Exception ex)
{
cn.Dispose();
throw ex;
}
#endregion
OracleCommand dbCommand = new OracleCommand(pSQL, cn);
dbCommand.CommandType = CommandType.Text;
foreach (OracleParameter param in pParams)
{
if (param.Value != null)
dbCommand.Parameters.Add(param);
}
OracleDataAdapter oAdp = new OracleDataAdapter(dbCommand);
DataSet ds = new DataSet();
try
{
oAdp.Fill(ds);
}
catch (Exception ex)
{
if (cn.State == ConnectionState.Open)
{
cn.Close();
}
dbCommand.Dispose();
cn.Dispose();
throw ex;
}
finally
{
if (cn.State == ConnectionState.Open)
{
cn.Close();
}
dbCommand.Dispose();
cn.Dispose();
}
return ds.Tables[0];
}
Se houver necessidade de colocar mais códigos, só pedir via comentários.
7486,c#,Preciso pegar a localização de um usuário, passar pro C#, pegar os dados da rua dele e mostrar numa label.
Tenho o seguinte código:
Labels
<asp:Label ID="lblMsg" runat="server" Visible="true"></asp:Label>
<asp:Label ID="lblLatitude" runat="server" Visible="false"></asp:Label>
<asp:Label ID="lblLongitude" runat="server" Visible="false"></asp:Label>
Javascript para pegar latitude e longitude
<script>
if (navigator.geolocation) {
navigator.geolocation.getCurrentPosition(showPosition);
}
else { alert("O seu navegador não suporta Geolocalização."); }
function showPosition(position) {
document.getElementById('lblLatitude').textContent = position.coords.latitude;
document.getElementById('lblLongitude').textContent = position.coords.longitude;
}
</script>
Código do botão
protected void btnLocalizei_Click(object sender, EventArgs e)
{
String latitude = lblLatitude.Text;
String longitude = lblLongitude.Text;
string url = string.Format("http://maps.googleapis.com/maps/api/geocode/xml?latlng={0},{1}&sensor=false", latitude, longitude);
XElement xml = XElement.Load(url);
if (xml.Element("status").Value == "OK")
{
lblMsg.Text = string.Format("<strong>Origem</strong>: {0}",
xml.Element("result").Element("formatted_address").Value);
}
else
{
lblMsg.Text = "Ocorreu um erro";
}
}
Infelizmente não está passando os dados do javascript pro C# e não consigo ver erro no código :/
Poderiam me ajudar?
7493,javascript|jquery,Estou usando jQuery Masked Input Plugin com jQuery Validation Plugin. Quando um campo do formulário perde o foco, o plugin de validação mostra uma mensagem, mas isso não está acontecendo com os campos que são têm máscaras, talvez porque o evento blur acontece e verifica que o campo não está vazio, na verdade, o campo está preenchido com a máscara.
Então eu sobrescrevi o método required do plugin de validação para verificar as máscaras também, mas eu tenho que verificar a máscara. Como eu tenho máscaras diversas não posso hard code a máscara, eu teria que chamar um método no plugin que me retorna a máscara vinculada ao campo. Eu não encontrei a documentação do plugin e ninguém com o meu problema.
Alguém sabe se existe um método que me devolve a máscara vinculada ao campo?
7500,php|android,Estou retornando um JSON de um servidor utilizando PHP com o simples código:
<?php
$response = array();
$response["success"] = 1;
echo json_encode($response);
Estou recebendo a resposta através de um aplicativo android, porém com o seguinte erro:
Error parsing data org.json.JSONException: Value <html> of type java.lang.String cannot be converted to JSONObject
Suspeito que o servidor esteja enviando algo a mais junto com o JSON. O que faça para evitar isso?
7507,java,Tenho a seguinte situação:
EJB PROJECT
public BussinessException extends Exception {}
public MyInterfaceImplementation implements MyInterface {}
EJB PROJECT CLIENT
public interface MyInterface {
public void foo() throws BussinessException;
}
Só que a exceção (BussinessException) nao esta no classpath do EJBClient.
Como resolver esse problema?? Não posso botar o projeto EJB (físico) no classpath do client.
7509,javascript|jquery|html,Estou a usar a plugin do sharethis para fazer a partilha de conteudo nas redes sociais. Para isso estou a fazer a seguinte chamada:
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=YOUR_PUBLISHER_ID"></script>
O problema é que este código gera uma imagem, e queria usar umas imagens de partilha minhas:
<img width="125" border="0" height="16" alt="Share" src="//ct1.addthis.com/static/btn/v2/lg-share-pt.gif"></img>
É possível esconder a imagem em javascript? Para esconder a imagem estou a tentar da seguinte maneira mas não resulta:
<script>
$('#teste2').find('img[src$="//ct1.addthis.com/static/btn/v2/lg-share-pt.gif"]').css('visibility', 'hidden');
</script>
Encontrei este exemplo na net, e consegui modifica-lo para o que queria. Mas neste caso não estou a conseguir, não sei se será pelo caminho da imagem gerada.
http://jsfiddle.net/bTf7K/162/
A questão é que as minhas imagens aparecem correctamente e fazem a partilha, mas também é adicionada a imagem a cima e queria esconde-la.
7516,javascript|jquery|html,Já pesquisei em vários sites mas nunca consegui saber se era mesmo possivel, alguém pode me ajudar?
7534,java,Quando tento consumir funcionalidades de um web service, a seguinte exceção ocorre:
org.apache.axis2.AxisFault: Stream write error
at org.apache.axis2.util.Utils.getInboundFaultFromMessageContext(Utils.java:531)
at org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:375)
at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:421)
at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)
at org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)
Já pesquisei na internet mas não achei nada.
7554,c#,Estou a trabalhar em MVC 4 e instalei o iTextSharp para criar PDF's, até tudo bem. Mas o que estou a fazer é replicar um PDF que já existe, para preencher os respectivos campos necessários neste meu PDF criado.
Agora surge a dúvida:
O PDF que estou a replicar tem daqueles campos chamados de destacáveis, ou seja, podemos abrir o PDF e escrever nestes mesmos como se estivéssemos a editar o PDF. É possível a partir do iTextSharp abrir este mesmo ficheiro PDF, detectar estes campos e escrever nos mesmos a partir do controller?
7562,java,Em outras linguagens como Python é possível realizar lógica de programação nos arquivos de configuração e em Java isso não é permitido por ser uma linguagem compilada.
Resolvi encapsular as configurações do arquivo .properties em um objeto Java, com isso tenho a vantagem de poder validar as informações do arquivo, gerar lógica de programação e até utilizar o autocomplete do Eclipse porém tenho a desvantagem de não poder criar propriedades dinamicamente, por isso tenho a dúvida se isso é uma boa prática ou apenas algo para complicar mais o desenvolvimento.
Ex:
Arquivo config.properties
email.user=user
email.host=smtp.email.com
email.auth=true
Classe:
public class Config {
private String emailUser;
private String emailHost;
private Boolean emailAuth;
public Config() {
Properties properties = new Properties();
try {
properties.load(Config.class.getResourceAsStream("/config.properties"));
emailUser = properties.getProperty("email.user");
emailHost = properties.getProperty("email.host");
emailAuth = Boolean.valueOf(properties.getProperty("email.auth"));
} catch (IOException e) {
e.printStackTrace();
}
}
//Somente Gets
}
7602,java,Problema:
Não consigo importar as classes BASE64Decoder e BASE64Encoder, existem N código que utilizam elas e quando vou usa-los tudo que está relacionado não funciona justamente por que elas não são encontradas.
import sun.misc.BASE64Decoder;
import sun.misc.BASE64Encoder;
Preciso entender por que não encontro o pacote sun.misc e a classes BASE64Decoder e BASE64Encoder. Quem pode ajudar?
7607,java|android,Olá, estou desenvolvendo um app e preciso que a tela fique em portrait para smartphones e portrait/landscape para tablets. O cliente não quer aceitar aplicativos distintos e não quer deixar a orientação destravada no smartphone.
Minha solução foi criar um bool que altera o valor conforme o tamanho da tela, porém a aplicação fecha no smartphone ao inicia-la quando o dispositivo está na landscape.
A classe principal extende a classe NoRotateScreen, o código dentro dela é:
boolean tabletSize = getResources().getBoolean(R.bool.isTablet);
if (!tabletSize) {
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);
}
O arquivo que seta o arquivo boolean está assim:
<?xml version="1.0" encoding="utf-8"?>
<resources>
<bool name="isTablet">true</bool>
</resources>
O que posso fazer?
7608,javascript|jquery|html,Tentei fazer uma função mas saiu com alguns bugs estranhos, tem que ser mais ou menos este script, mas habilitar o botão somente se 5 ou mais radio buttons forem marcados. Lembrando que meu formulário é enorme, é um questionário que tem grupos de radio, por exemplo:
<input type="radio" name="group[001]" id="1">apple
<input type="radio" name="group[001]" id="2">pineapple
<input type="radio" name="group[001]" id="3">melon
...
<input type="radio" name="group[002]" id="4">strawberry
<input type="radio" name="group[002]" id="5">orange
<input type="radio" name="group[002]" id="6">kiwi
7620,java,Estou escolhendo um algoritmo de hash para as senhas de um sistema que desenvolvo.
No início de minha "programática" utilizei o MD5, o SHA-1 e suas derivantes. Depois de um tempo preferi o Whirlpool e agora procuro algo mais robusto.
Estou na dúvida entre o Scrypt e os outros...
Sobre o Scrypt eu não gostei de sua saida:
$s0$e0801$epIxT/h6HbbwHaehFnh/bw==$7H0...
porque achei a separação por cifrão muito evidente para um atacante (pelo menos foi a impressão que tive).
Hoje qual seria o melhor caminho a seguir? Scrypt, Bcrypt ou PBKDF2 ou algum outro caminho?
Após conhecer o projeto Jasypt preferi voltar ao velho e bom Whirlpool, ainda pretendo estudar o algorítmos mencionados acima, mas por enquanto estou apostando no whirlpool.
7631,c#,Tenho um formulario que recebe uma quantidade de TextBox que devem ser instanciados, a pagina então gera os textboxes, porém não sei como poderei pegar os valores.
hd = Request.QueryString["qtHD"];
mem = Request.QueryString["qtMem"];
hdnum = Convert.ToInt16(hd);
while (hdnum >= 1)
{
text1 = new TextBox();
String txtBox = "txtTamHD" + hdnum.ToString();
text1.ID = txtBox;
form1.Controls.Add(text1);
hdnum--;
}
7634,java,Vamos dizer que eu tenho os seguintes Pojos
public class Pedidos{
private Strig codigo;
private String nomePedido;
private List<Dados> dadosPedido;
//getters e setters}
}
E
public class Dados {
private String nome;
private int codigo;
}
Eu sei que poderia usar um BeanPropertyRowMapper para popular uma lista de objetos de Pedidos, agora existe alguma forma de popular também o objeto Dados através da mesma query? Depois disso eu precisaria montar um XML onde cada Pedido teria a sua lista de Dados correspondente, eu achei uma pergunta similar: https://stackoverflow.com/questions/16718163/jdbctemplate-set-nested-pojo-with-beanpropertyrowmapper
Porém no meu caso eu tenho também uma Lista de Users.
7641,java,Problema:
Estou recebendo byte e quando tento transformar em String está dando erro.
...
byte[] msgBytes = ch.decode(hex, ch.key()); // retorna byte
String msgDecode = msgBytes.toString(); // tentando converter byte em String
System.out.println("Mensagem descriptografada [" + msgDecode + "]"); // Exibir
...
Já que decode me retorna alguns bytes, usei o msgBytes.toString(), acredito que não se faz a conversão deste modo. Alguém saber por que me retorna [@549498794.
7646,jquery|html,Preciso implementar um textarea(mensagem) e um button(enviar) do seu lado direito, mas que seja liquido(100%), ou seja, se diminuir o tamanho da janela o textarea diminui e o button mantém o seu tamanho(60px por exemplo) e sempre colado no lado direito da janela.
É possível?
7651,javascript|jquery|html,Possuo um combo select multiple que não pode ocupar muito espaço vertical, então o ideal seria poder descer o scroll com aquela setinha tradicional para navegar de 1 em 1 item pra baixo.
Tem alguma forma de forçar o scroll tradicional, com javascript/jquery e/ou css, ou então no próprio html?
OBS: Chamo de tradicional qualquer estilo de barra de rolagem que possua o botão na parte inferior e superior para o usuário clicar e subir/descer linha a linha.
7656,jquery|html,Fiz uma expressão regular para aceitar valores de 0.0 até 10.0 e a letra F e justamente com ela estou tendo problemas, acaba negando na msg do próprio AddMethod().
<html>
<head>
<script src="jquery-2.0.3.js" type="text/javascript"></script>
<script src="jquery.validate.js" type="text/javascript"></script>
<script>
$(document).ready( function() {
//Método para verificar as horas com uso de expressão regular
$.validator.addMethod("nota", function(value, element) {
return this.optional(element) || /^(([F]{0-1})|((([1]{1}[0]{1})\.([0]{1}))|((([0]{1})(\d){1}))\.(\d{1})))?$/i.test(value);
}, "Por favor entre com uma nota válida.");
$("#formularioContato").validate({
// Define as regras
rules:{
nota:{
nota: "required nota",
required: true
}
},
messages:{
nota:{
required: "Digite uma nota válida ou o conceito F",
range: "O valor do dia deve estar entre 0.0 a 10.0 ou F"
}
}
});
});
</script>
<script src="jquery.maskedinput.js" type="text/javascript"></script>
<script>
jQuery(function($){
$("#nota").mask("*9.9");
});
</script>
</head>
<body><form id="formularioContato" method="post">
<div align="center">
<ul>
<li>
<label>Nota:</label><input type="text" id="nota" name="nota"></span><br />
</li>
</ul>
</div>
<input class="submit" type="submit" value="Enviar" />
</form>
</body>
</html>
7660,javascript|jquery|html,Entendo pouco de Html, javaScript, etc., eu precisava de uma janela parecida com alert do javascript só que com o tamanho da fonte diferente, pesquisei e descobri as janelas personalizadas do JQuery, baixei uma janela chamada Confirm Override (no link:
http://www.ericmmartin.com/projects/simplemodal-demos/), que funciona muito bem, o problema é quando eu coloco o código:
<div class='header'><span>Atenção !</span></div>
que servi para alterar o título, ele não exibi o ç (cedilha), ou qualquer outro caractere único das línguas latinas.
Gostaria de Saber se é possível habilitar essa exibição no JQuery ?
Obs.: já tentei a tag <meta charset="UTF-8">
7671,java,Problema e Mistério:
StringBuffer y = new StringBuffer("Eduardo");
Estou usando um StringBuffer, pois preciso acrescentar alguns valores depois a ela. Estava fazendo debug e observei que existem um espaços em branco no final. Observe a imagem:
Imagem 1: Espaços adicionais no StringBuffer.
O mesmo acontece quando uso o StringBuilder, alguém saber por que esses espaços são incrementados?
Existem alguns aspectos entre StringBuilder e StringBuffer. Como usar o Builder quando não envolve Thread. Acredito não ter invertido.
7691,javascript|jquery|html,Existe alguma modo de verificar a rotação de uma div em javascript, por exemplo a verificação de style left é offsetLeft, alguém poderia me dizer como ficaria a de rotação?
7702,javascript|html,Explicação:
Atualmente, tenho uma URL que informa o Email de utilizador do Gmail:
https://accounts.google.com/ServiceLoginAuth?+continue=http%3A%2F%2Fmail.google.com%2Fgmail&service=mail&Email=EMAIL&Passwd=senha&null=Sign+in
Porém desta forma, a Senha não é carregada, apenas o Email.
Objetivo:
Gostaria de um link no qual eu possa informar o Email e a senha, e em seguida realize o login automaticamente.
Se isto não for possível gostaria de uma solução alternativa.
7703,php|html,Fiz todo meu site em HTML e CSS, só que agora estou precisando utilizar o PHP para enviar alguns dados para um banco de dados. Só que estou com uma dúvida, se modifico todos os meus documentos para .php ou se utilizo o PHP dentro do HTML (se é que é possível).
7719,c#,Estou a utilizar o iTextSharp para criar PDF's na minha aplicação. No entanto tenho de recrear uma tabela, onde tenho de definir o tamanho para a uma coluna bastante reduzido. Segue a imagem que mostra o tamanho com que quero configurar a coluna:
Quando ao resto da criação da tabela está tudo bem, não consigo mesmo é definir esta largura.
Código:
PdfPTable table = new PdfPTable(2);
table.WidthPercentage = 82.0f;
PdfPCell cell = new PdfPCell(new Phrase("Com a assinatura autógrafa, o signatário desta Auto-declaração garante ter cumprido estas condições:", fontetexto));
cell.PaddingBottom = 10f;
cell.PaddingTop = 10f;
cell.Colspan = 2;
cell.HorizontalAlignment = 1; //0=Left, 1=Centre, 2=Right
table.AddCell(cell);
table.AddCell("1. ");
table.AddCell("Os óleos e gorduras vegetais velhos fornecidos são biomassa conforme o Decreto de biomassa.");
7724,html,Estou enfrentando um problema. Desejo colocar todo o meu CSS dentro da tag Style como mostra meu código a seguir:
<style>
input[data-column="1"] { display: none; }
input[data-column="2"] { display: none; }
.editCancelar { margin-left:-2px;cursor:pointer; display:none }
.editConcluir { margin-left:0px;cursor:pointer; display:none }
.sgr_hidden { display:none }
.bradC { color: White!important }
</style>
Porém a classe .bradC não está atribuindo seu estilo aos objetos. Só funciona se eu setar a propriedade style dentro do objeto html, como fiz a seguir:
<ol class="breadcrumb" style="padding-top: 17px; margin-left: 15px">
<li><a class="bradC" href="javascript:navegacao( 'mnManutencao', 'mnPrincipal' )">Início</a></li>
<li class="active"><a href="javascript:navegacao( 'mnPrincipal', 'mnManutencao' )" class="bradC">Manutenção</a></li>
<li class="active"><a href="javascript:navegacao( 'mnPrincipal', 'mnManUnidadeGerencial' )" class="bradC" >Unidade Gerencial e Equipe</a></li>
<li class="active"><a href="#" class="bradC">Cadastro Classificação</a></li>
</ol>
Informação adicional:
Ao inspecionar o elemento vejo que o color do elemento está vindo de um arquivo CSS que definiu a cor para todos os elementos "a.bradC:link, a.bradC:visited".
Esse arquivo CSS carrega na página, e a minha tag "style" da página com o css definido fica abaixo dele.
Pergunta:
Como funciona a atribuição do CSS nesse caso? Como fazer com que eu possa organizar tudo dentro do style da página, podendo retirar a propriedade style do meu elemento? Não tenho como trocar a ordem da posição do arquivo CSS com o "style" pois ele vem de uma master page.
7730,c#,Li um pouco do Meta e achei que essa pergunta não foge muito das atuais regras do site. Arriscando perder reputação, vamos lá:
No momento trabalho em uma empresa pequena que atualmente, gerencia dados muito sensíveis (documentos, endereços, telefones, etc) pelo Excel, o que geralmente dá muita dor de cabeça (planilhas enormes, dados redundantes, impossibilidade de gerenciar de forma eficiente). Nisso, pensei em fazer um programa pra poder gerenciar esses dados de forma mais hábil.
Escolhi C# como linguagem de programação e Windows Forms (é uma aplicação interna - então não tem necessidade de ser "bonita" - e eu tenho atualmente mais facilidade com Windows Forms) mas estou com algumas duvidas cruéis no banco de dados:
Como é uma aplicação .NET, utilizar MySQL ainda é uma boa opção ou SQL Server é mais seguro, em questão da integração do banco de dados com o resto do projeto (talvez o MySQL tenha alguns problemas com .NET?)?
Primeiramente escolhi configurar um servidor local no escritório, e deixar a aplicação no notebook, deixando o desktop exclusivo para ser o banco de dados. Porém, alguém pode ver isso como "desperdício de recursos" (deixar o computador parado e ligado sem "utilizar"). Seria seguro deixar ele produtivo (com uma pessoa utilizando pra ler emails, acessar a internet, etc) e ao mesmo tempo guardar os dados da aplicação? Ou devo isola-lo para ser apenas guardar os dados?
Também pensei em utilizar um VPS para guardar os dados, fazendo possível utilizar o programa em outros lugares (o que pode ser útil). Porém, eu teria que proteger o banco de dados contra ataques que não seriam necessários se o banco fosse local (se fosse local alguém poderia roubar o computador com os dados, mas aí é outra história). É mais viavel investir um pouco em deixar os dados na nuvem ou ser mais seguro e deixar localmente?
Eu talvez esteja sendo muito exagerado. Também seria possível guardar os dados junto com a aplicação, ao invés de configurar um servidor só para isso. Porém, acho isso um tanto quanto errado e inseguro, mas posso estar errado.
Sobre os dados do projeto: São documentos brasileiros (RG e CPF), telefone, email, endereço e nome completo. Não é uma empresa tão high-profile a ponto de utilizar criptografia "pesada", mas não posso me permitir que isso fique desprotegido.
Uma informação que não lembrava antes de colocar aqui foi a opinião de alguns que perguntei em outros lugares, que foi que eu estou exagerando e deveria permanecer no Excel pra evitar complicar mais as coisas. Discordo disso pois já ocorreu muito transtorno com esses dados sendo guardados de maneira inadequada, mas talvez exista alguma outra abordagem que eu possa tomar que eu não esteja vendo.
É uma duvida que está me impedindo de iniciar a produção do projeto. Discuti com algumas pessoas e não cheguei em um consenso. Qual seria a melhor ação a se tomar nesse caso?
7734,c#,Possuo um loop com milhares de resultados que renderiza uma tabela. A string está montada através do StringBuilder dessa forma(trecho de exemplo):
ScriptTbody.AppendLine("</select>");
ScriptTbody.AppendLine("<p class=\"valAnoInicio\"></p>");
ScriptTbody.AppendLine("</td>");
ScriptTbody.AppendLine("<td>");
ScriptTbody.AppendLine("<select class=\"cbPeriodoIniEdit\">");
ScriptTbody.AppendLine("</select>");
ScriptTbody.AppendLine("<p class=\"valPeriodoInicio\"></p>");
ScriptTbody.AppendLine("</td>");
Pode haver alguma melhoria de performance caso eu coloque o código todo em uma só linha, como a seguir?
ScriptTbody.AppendLine("</select><p class=\"valAnoInicio\"></p></td><td><select class=\"cbPeriodoIniEdit\"></select><p class=\"valPeriodoInicio\"></p></td>");
E caso fosse uma concatenação, como por exemplo o código a seguir?
comand.CommandText  = "SELECT ";
comand.CommandText += "    TI.COD_INDICADOR, ";
comand.CommandText += "    TI.TXT_DESCRICAO, ";
comand.CommandText += "    TI.COD_PRODUTO, ";
comand.CommandText += "FROM ";
comand.CommandText += "    TB_INDICADOR TI";
Explicações mais avançadas sobre como a linguagem trabalha são bem vindas.
7746,java,Tenho um problema com uma classe em meu servidor de aplicação do projeto. Preciso que esta classe após compilada e executando, receba uma mensagem:
ou "MSG_PV" ou "MSG_RV" do meu REDMINE, para publicar projetos
ou gerar os mesmos, dentro do meu Repositório.
O problema é que implementei a função de Publicar Projeto agora, sendo que a de Gerar já estava em funcionamento em meu servidor. Li algo na net e na documentação do JAVADOC que o método InputStream quando usado com o readLine(), passa a ser o InputStreamReader no Java 7.
Como proceder diante desta situação?
Meu código:
import java.net.*;
import java.io.*;
import java.util.Date;
import java.text.*;
public class server_versao extends Thread
{
private ServerSocket serverSocket;
private boolean server_is_busy  = false;
public server_versao(int port) throws IOException
{
serverSocket = new ServerSocket(port);
}
private boolean execute_MSG_RV(String branch){
try{
if (Integer.parseInt(branch.substring(1,5)) >= 1308) //Versoes B1308 pra cima.
return release_branch("release1308 " + branch);
else
return release_branch("release " + branch);
}catch(Exception ex){
return false;
}
}
private boolean release_branch(String comando){
boolean result = false;
InputStream is;
Process p;
BufferedReader br;
BufferedWriter bw;
Date today;
SimpleDateFormat ft;
File f;
FileWriter fw;
String aux, arch = "";
try{
today = new Date();
ft = new SimpleDateFormat("dd.MM.yyy-hh.mm");
f = new File ("logs/release/log-"+ft.format(today)+".txt");
fw = new FileWriter(f);
bw = new BufferedWriter(fw);
System.out.println("Executando comando: "+ comando);
p = Runtime.getRuntime().exec ("cmd /c gera_release.bat"+comando.toUpperCase());
is = p.getInputStream();
br = new BufferedReader (new InputStreamReader (is));
aux = br.readLine();
while (aux!=null){
arch += aux + "\r\n";
if (aux.contains("BUILD SUCCESSFUL") == true)
result = true;
aux = br.readLine();
}
bw.write(arch);
bw.close();
fw.close();
}catch(Exception e){
result = false;
}
return result;
}
private boolean execute_MSG_PV(String branch){
try{
if (Integer.parseInt(branch.substring(1,5)) >= 1308) //Versoes B1308 pra cima.
return publish_version("publicar versoes_novas " + branch);
else
return publish_version("publicar versoes_antigas " + branch);
}catch(Exception ex){
return false;
}
}
private boolean publish_version(String comando){
boolean result = false;
InputStream is;
Process p;
BufferedReader br;
BufferedWriter bw;
Date today;
SimpleDateFormat ft;
File f;
FileWriter fw;
String aux, arch = "";
try{
today = new Date();
ft = new SimpleDateFormat("dd.MM.yyy-hh.mm");
f = new File ("logs/publish/log-"+ft.format(today)+".txt");
fw = new FileWriter(f);
bw = new BufferedWriter(fw);
System.out.println("Executando comando: "+ comando);
p = Runtime.getRuntime().exec ("cmd /c publicar_versao.bat"+comando.toUpperCase());
is = p.getInputStream();
br = new BufferedReader (new InputStreamReader (is));
aux = br.readLine();
while (aux!=null){
arch += aux + "\r\n";
if (aux.contains("BUILD SUCCESSFUL") == true)
result = true;
aux = br.readLine();
}
bw.write(arch);
bw.close();
fw.close();
}catch(Exception e){
result = false;
}
return result;
}
public void run()
{
boolean success = false;
String msg;
while(true)
{
try
{
System.out.println("Waiting for client on port " + serverSocket.getLocalPort() + "...");
Socket server = serverSocket.accept();
System.out.println("Just connected to " + server.getRemoteSocketAddress());
DataInputStream in = new DataInputStream(server.getInputStreamReader());
msg = in.readLine();
if (msg.equals("MSG_RV"))
success = execute_MSG_RV(in.readLine());
else if(msg.equals("MSG_PV"))
success = execute_MSG_PV(in.readLine());
DataOutputStream out = new DataOutputStream(server.getOutputStream());
if (success)
out.writeUTF("MSG_SUC");
else
out.writeUTF("MSG_ERR");
server.close();
}catch(IOException e)
{
e.printStackTrace();
break;
}
}
}
public static void main(String [] args)
{
int port = Integer.parseInt(args[0]);
try
{
Thread t = new server_versao(port);
t.start();
}catch(IOException e)
{
e.printStackTrace();
}
}
}
Quando o arquivo recebe os parâmetros dentro deste bloco:
DataInputStream in = new DataInputStream(server.getInputStreamReader());
msg = in.readLine();
if (msg.equals("MSG_RV"))
success = execute_MSG_RV(in.readLine());
else if(msg.equals("MSG_PV"))
success = execute_MSG_PV(in.readLine());
Deveria passar para a função chamada o que se encontra dentro de in.readLine() e completar o restante das chamadas. Porém fiz um debug e ele lê os dados mas não processa. Parece estar havendo um erro com meu in.readline()
7749,c#,Estou criar uma aplicação para um PDA, quanto tento fazer a inserção de dados na base de dados encontro sempre este erro.
There was an error parsing the query. [ Token line number = 1,Token line offset = 100,Token in error = ) ]
public static bool InsertPedido(int id, int Vim, DateTime date, int quantidade)
{
SqlCeConnection conn = new SqlCeConnection("Data Source=" + System.IO.Path.GetDirectoryName(System.Reflection.Assembly.GetExecutingAssembly().GetName().CodeBase) + @"\\DataPedido.sdf; Password =SUPER2000PED;");
conn.Open();
try
{
SqlCeCommand comando = new SqlCeCommand(@"INSERT INTO Pedido([IDLayout], [Vim], [Data], [Quantidade])VALUES(@IDLayout,@Vim,@Data,@Quantidade))", conn);
comando.Parameters.AddWithValue("@IDLatout", SqlDbType.Int).Value = id;
comando.Parameters.AddWithValue("@Vim", SqlDbType.Int).Value = Vim;
comando.Parameters.AddWithValue("@Data", SqlDbType.DateTime).Value = date;
comando.Parameters.AddWithValue("@Quantidade", SqlDbType.Int).Value = quantidade;
int row = comando.ExecuteNonQuery();
return true;
}
catch
{
throw;
}
finally
{
conn.Close();
}
}
7760,c#,Em que situações é vantajoso usar operações assíncronas numa aplicação ASP.NET (clássico, MVC, MVC Web API)?
Quando é que o uso da ThreadPool para executar algumas operações pode ser útil?
7763,android,Após algumas pesquisas, vi que o único banco de dados que o Android pode utilizar é SQLite, está correta essa informação?
Pois eu tenho uma aplicação que se conecta a um banco de dados online (MySQL) e gostaria de criar um aplicativo em Android que usasse a mesma base de dados, é possível?
Se sim, como posso me conectar a uma base mysql?
7772,java,Dúvida:
Conheço duas formas e capturar um TimeInMillis() alguém sabe a diferença e qual é a mais eficiente? E se existe uma terceira forma de capturar esse valor?
Opção 1:
System.out.println(Calendar.getInstance().getTimeInMillis());
Opção 2:
System.out.println(System.currentTimeMillis());
Problema:
Percebi que existe uma classe chamada TimeStamp e não consigo passar os um System.currentTimeMillis() para ela.
long time = System.currentTimeMillis();
Timestamp timestamp = new Timestamp(time);
Erro:
The constructor Timestamp(long) is undefined
7776,c#,Podem me dizer como substituir o valor Hex de um arquivo com C#? Exemplo: substituir 62 61 72 ("bar") por 66 6F 6F ("foo").
7797,c#,Estou a construir PDF's, e preciso de imprimir uma string com caracteres especiais. Para tal estou a construir a string da seguinte forma (usando iTextSharp):
PdfPCell teste = new PdfPCell(new Phrase("<O meu texto> '\u20ac'", fontetexto));
Agora o que importa, a minha string é "<O meu texto> '\u20ac'", onde o '\u20ac' apresenta €. Só que eu quero imprimir um ponto tipo password, como a seguinte imagem apresenta:
Ando farto de procurar listas com caracteres especiais para C# / ASP MVC e não encontro mais do caracteres como / , [, ] por exemplo. Como é que posso construir a string com os caracteres especiais?
7823,c#,Estou escrevendo um sistema em asp.net-mvc e a ideia é que nas telas exista um Breadcrumb em todas as telas. Sem ideias para um bom algoritmo, bolei um Helper que devolve uma lista de objetos de acordo com a rota acessada. O arquivo está reproduzido abaixo:
using System;
using System.Collections.Generic;
using MeuProjeto.ViewModels;
namespace MeuProjeto.Helpers
{
public static class BreadcrumbHelper
{
private static readonly Dictionary<String, List<BreadcrumbViewModel>> Breadcrumbs =
new Dictionary<string, List<BreadcrumbViewModel>>
{
{ "/Pessoas",
new List<BreadcrumbViewModel> {
new BreadcrumbViewModel { Title = "Gestão de Colaboradores" },
new BreadcrumbViewModel { Title = "Lista de Pessoas" }
}
},
{ "/Pessoas/Index",
new List<BreadcrumbViewModel> {
new BreadcrumbViewModel { Title = "Gestão de Colaboradores" },
new BreadcrumbViewModel { Title = "Lista de Pessoas" }
}
},
{ "/Pessoas/Create",
new List<BreadcrumbViewModel> {
new BreadcrumbViewModel { Title = "Gestão de Colaboradores" },
new BreadcrumbViewModel { Title = "Dados Pessoais" }
}
},
{ "/Pessoas/Edit",
new List<BreadcrumbViewModel> {
new BreadcrumbViewModel { Title = "Gestão de Colaboradores" },
new BreadcrumbViewModel { Title = "Dados Pessoais" }
}
}
};
public static IEnumerable<BreadcrumbViewModel> GetBreadcrumbs(String url)
{
return Breadcrumbs[url];
}
}
}
Pra eu obter a lista de Breadcrumbs de acordo com a rota que eu estou, é simples: coloquei no código do controller comum o seguinte:
[ChildActionOnly]
public ActionResult Breadcrumb()
{
return PartialView(BreadcrumbHelper.GetBreadcrumbs(Request.Path));
}
E na View Shared/_Layout.cshtml o seguinte:
<body>
<!-- Page background -->
<div id="page-background-gradient">
</div>
<div id="page-background-glare">
</div>
<!-- /Page background -->
@Html.Partial("_SectionHeader")
@Html.Partial("_MainNavigation")
@Html.Action("Showcase")
@Html.Action("Breadcrumb")
<section id="content" class="row">
@RenderBody()
</section>
@Html.Partial("_SectionFooter")
@Scripts.Render("~/bundles/jqueryui")
@Scripts.Render("~/bundles/jquery.datatables")
@RenderSection("scripts", required: false)
</body>
</html>
O resultado na View fica assim para http://localhost:12345/Pessoas:
Início > Gestão de Colaboradores > Lista de Pessoas
Isso funciona bem, mas vejo dois problemas:
O esquema obviamente explode se eu criar um controller novo e não adicionar as novas rotas no BreadcrumbHelper;
É facil de ver que a organização da solução é prolixa e redundante. Queria algo mais simples e mais performático, mas não consegui pensar em algo melhor.
Ideias?
7826,c#,Vi pela documentação do ASP.NET MVC que o uso do atributo [ChildActionOnly] impede que o método seja chamado diretamente via GET, apenas através de uma view específica. Francamente, não entendi. Alguém pode esclarecer?
Exemplo de utilização:
[ChildActionOnly]
public ActionResult Resultado()
7827,javascript|jquery|html,Ele não monta a barra de scroll em elementos que estão com "display: none". Alguém sabe como resolver?
Aqui o plugin do scrollbar
7828,php|html,Eu tenho um formulário de login, que após dado submit ele é enviado para si mesmo com as informações via POST, e caso esteja errado, ele exibe uma mensagem de erro e mostra novamente o mesmo formulário. Fiz dessa forma para evitar criar páginas tipo: login.php, validalogin.php.
Fico me questionando se foi um bom método, pois reduzi o número de páginas, porém quando o usuário aperta F5 a página reenvia novamente todos os dados. Se esse for um bom método, é possível corrigir o problema do F5?
7842,java,Exemplo.:
O nome do meu arquivo seria 001nome.txt, esse arquivo terá uma varia ação no nome dependendo da entidade, ou seja uma hora ele pode ser 001nome.txt em outra hora pode ser 999nome.txt.
Dúvida.:
Como posso passar para o Java abrir esse arquivo independente dessa variação no nome?
Observação: No php faço assim *nome.txt ai ele me retorna o arquivo que tem o final nome.txt independente do inicio do seu nome.
7843,javascript|jquery|html,Preciso selecionar a ul pai do elemento li que esta sendo clicado. Porém como uma li fica dentro da outra o javascript entende que estou clicando na li e em todas as li pais.
<ul class="lista">
<li class="item">
Pai
<ul class="lista">
<li class="item">
Filho
<ul class="lista">
<li class="item">Neto 1</li>
<li class="item">Neto 2</li>
</ul>
</li>
<ul>
</li>
</ul>
Já tentei de milhares de formas fazer a seleção da ul, mas acabei apagando o código e fiquei apenas com um pequeno codigo de "debug":
$(document).ready(function () {
$(document).on('click','.item:last-child', function () {
alert($(this).parent().length);
});
});
Só quando fiz esse código que consegui visualizar q o js entende que cliquei em toda hierarquia das li e não somente na clicada, mesmo com o this.
7853,jquery|html,Estou com um problema no Firefox e no Internet Explorer ao utilizar uma iframe para carregar arquivos na mesma pagina.
No Chrome funciona perfeitamente, mas no Firefox e no Internet Explorer, quando clico no link o iframe abre em outra página.
Alguém tem alguma solução ou alternativa?
O exemplo do código em baixo pode ser visto no JSFiddle ou nesta pagina de experimentos.
<li><a href="pagina-1.htm" target="plantas" class="">pagina 1</a></li>
<li><a href="pagina-2.htm" target="plantas" class="">pagina 2</a></li>
<li><a href="pagina-3.htm" target="plantas" class="">pagina 3</a></li>
<li><a href="pagina-4.htm" target="plantas" class="">pagina 4</a></li>
<li><a href="pagina-5.htm" target="plantas" class="">pagina 5</a></li>
<li><a href="pagina-6.htm" target="plantas" class="">pagina 6</a></li>
<iframe id="plantas" height="500"  width="887" src="pagina-1.htm"
frameborder="0"  scrolling="no"></iframe>
7870,java,Estou com um problema que não consigo armazenar mais de um elemento na mesma TAG, olhem o XML:
<ItemCardapio>
<nCdItemCardapio>10</nCdItemCardapio>
<nQtdeItemCardapio>2</nQtdeItemCardapio>
<ObsProducao>
<sDsObservacaoProducao>Com Gelo</sDsObservacaoProducao>
</ObsProducao>
<ObsProducao>
<sDsObservacaoProducao>Sem Açucar</sDsObservacaoProducao>
</ObsProducao>
</ItemCardapio>
Como vocês podem ver, a TAG "ObsProducao" repete, ao invés de ficar assim:
<ItemCardapio>
<nCdItemCardapio>10</nCdItemCardapio>
<nQtdeItemCardapio>2</nQtdeItemCardapio>
<ObsProducao>
<sDsObservacaoProducao>Com Gelo</sDsObservacaoProducao>
<sDsObservacaoProducao>Sem Açucar</sDsObservacaoProducao>
</ObsProducao>
</itemcardapio>
Segue a classe com as anotações JAXB:
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
"nCdItemCardapio",
"nQtdeItemCardapio",
"obsProducao"
})
public static class ItemCardapio {
protected int nCdItemCardapio;
protected int nQtdeItemCardapio;
@XmlElement(name = "ObsProducao")
protected List<WsTSPaymentParamPedido.ItemCardapio.ObsProducao> obsProducao;
..........
Agora a classe que repete:
@XmlAccessorType(XmlAccessType.FIELD)
@XmlType(name = "", propOrder = {
"sDsObservacaoProducao"
})
public static class ObsProducao {
protected String sDsObservacaoProducao;
......
7884,c#,estou a fazer um launcher, porém eu gostaria de deixar os arquivos com um caminho "fixo", o launcher está na mesma pasta do arquivo a ser iniciado, mas não sei como eu poderia criar um "meio-caminho", algo como no html, que basta colocar um pedaço do caminho, se estiver na mesma pasta, como é o caso.
Estou a usar formulários, .NET 3.5.
As pastas estão assim:
pasta x/pasta launcher/...
pasta x/pasta prog/...
7885,java|android,Criei um XML com o LinearLayout, nele eu tenho um Spinner e um EditText. Na minha tela eu tenho um LinearLayout que deve receber esse outro layout que criei.
Minha dúvida é: como adicionar esse layout customizado na minha tela dentro do outro layout?
Já tentei usar o findById para pegar o layout customizado, mas retorna null.
Toda vez que clicar em um botão eu devo adicionar o layout customizado dentro do linear que está na minha tela.
Como devo fazer?
7896,android,Imaginem que eu faça um aplicativo Android que possa ser incluido dentro de aplicativos de outros desenvolvedores Android.
Eles não têm acesso ao meu código fonte e podem num determinado lugar do aplicativo deles incluir o meu aplicativo.
Sendo possível, de que forma pode ser feito para atingir este objectivo?
Por exemplo, em web eu posso usar um iframe para colocar uma aplicação web dentro do meu site.
7910,c#,Preciso validar CPF com Data Annotation, e verificar se há duplicidade.
7913,javascript|jquery|html,Tenho este código:
<script>
$(function(){
$(".flipster").flipster({style: 'carousel', enableTouch: true, start: 0,
onItemSwitch: function(){
var nomeAlbum = $(this).attr("data-title");
console.log(nomeAlbum);
}
});
});
</script>
A função onItemSwitch() me permite fazer qualquer coisa quando a imagem for trocada.
O problema é que eu estou tentando pegar o data-titulo de cada uma das imagens, e colocá-lo abaixo da foto do álbum.
HTML
<ul>
<li>
<img src="img/californication.jpg" data-title="Californication" class="imgCarousel"/>
<p class="mostra-titulo"></p>
</li>
<li>
<img src="img/greatest-hits.jpg" data-title="Greatest Hits" class="imgCarousel" />
<p class="mostra-titulo"></p>
</li>
<li>
<img src="img/stadium-arcadium.jpg" data-title="Stadium Arcadium" class="imgCarousel" />
<p class="mostra-titulo"></p>
</li>
<li>
<img src="img/the-uplift-mofo-party-plan.jpg" data-title="The Upflit Mofo Party Plan" class="imgCarousel"/>
<p class="mostra-titulo"></p>
</li>
</ul>
Aqui está o repositório do plugin, caso ajude em algo.
7920,c#,Estou tendo problemas com acentuação no ASP.NET MVC 5.
Estou usando o Visual Studio 2013 Professional e na aplicação o .Net 4.5. SQL Server 2008 e o Entity Framework 6. O browser é o Google Chrome atualizado e o Windows é o 8.1.
Exemplo:
Onde quero que apareça "Endereço" está aparecendo "EndereÃ§o".
Como posso resolver isso?
7939,javascript|html,Gostaria de saber como faço para ler conteúdo de outras paginas da web utilizando apenas javascript ou alguma biblioteca.
Por exemplo, de um site de noticias remoto, no caso: www.terra.com.br.
E eu gostaria de criar uma webapp para ler as últimas notícias apresentadas nessa pagina, sendo que a mesma não tem RSS e etc.
Eu sei dos problemas que poderiam ocorrer caso as paginas que eu estou me alimentando mude o layout ou qualquer coisa do tipo.
Teria alguma forma de fazer isso?
7958,java|android,Estou com problemas ao criar uma classe que criasse e manipulasse o banco de dados! Mas no método criar() deu um problema dizendo que
"The method openOrCreateDatabase(String, int, null) is undefined for
the type BancoDeDados".
Alguém tem alguma sugestão para contornar tal problema?! Meu código segue abaixo:
import android.content.Context;
import android.database.sqlite.SQLiteDatabase;
public class BancoDeDados {
private SQLiteDatabase db;
private String DATABASE_NAME;
private String TABLE_NAME;
private String SQL_SELECT_ALL;
private String SQL_SELECT_ID;
private String SQL_CREATE;
public BancoDeDados(SQLiteDatabase db,String DATABASE_NAME,String TABLE_NAME,String SQL_SELECT_ALL,String SQL_SELECT_ID,String SQL_CREATE){
this.db = db;
this.DATABASE_NAME = DATABASE_NAME;
this.TABLE_NAME = TABLE_NAME;
this.SQL_SELECT_ALL = SQL_SELECT_ALL;
this.SQL_SELECT_ID = SQL_SELECT_ID;
this.SQL_CREATE = SQL_CREATE;
}
public void criar(){
this.db = openOrCreateDatabase(this.DATABASE_NAME,Context.MODE_PRIVATE,null);
this.db.execSQL(this.SQL_CREATE);
this.db.close();
}
}
7974,javascript|html,É possivel (se for, como) fazer o seguinte método com JavaScript?
A pessoa digita em um formulário alguns argumentos,
ao clicar em enviar ele vai executar um código JavaScript,
nesse código a função vai pegar as informações do formulário e vai abrir um arquivo chamado por exemplo info.txt,
ele vai escrever os argumentos do formulário nesse arquivo.
Também terá uma função JS já padrão que irá ler esse arquivo e definir o texto de certo lugar da página (essa parte eu sei fazer, só preciso saber como ler o info.txt via JavaScript)
8005,android,Sou novo com a plataforma e estou com problema em um app que estou desenvolvendo, ele estava funcionando normalmente no Android 4.0.4 e agora que atualizei para o 4.1.2 a seguinte mensagem é exibida:
02-27 10:14:47.923: E/Camera_ControlThread(156): Taking picture when recording is not supported!
Logo após a atualização os seguintes itens pararam de funcionar:
Inicio câmera com Camera.open();
Configuração de params;
Chamado ao takepicture(null, null, mPicture);
Não utilizo a surfaceview, pois o app tira fotos em tempo real.
o código é este
Camera camera;
public Cam cam;
protected void onCreate(){
cam = new Cam();
camera  = cam.getCameraInstance(getApplicationContext(), cam.idCameraFrontal());
}
PictureCallback jpeg = new PictureCallback() {
@Override
public void onPictureTaken(byte[] data, Camera camera) {
new ThreadProcessamento(data);
processando = true;
}
};
public class ThreadFoto implements Runnable{
Thread t;
public ThreadFoto(){
t = new Thread(this,"video");
t.setPriority(10);
t.start();
}
public void run(){
sairThread = false;
int count = 0;
do{
if(cam.checkCameraHardware(getApplicationContext())){
try{
if(!processando && !bCapturar){//!processando &&
camera.takePicture(null, null, jpeg);
}
}catch(Exception e){
Log.v("ri","ThreadFoto.Exception:"+e.getMessage());
}
log = "Foto tirada: "+count;
}else{
log = "Hardware desativado:"+count;
}
try {
Thread.sleep(200);
} catch (InterruptedException e) {
// TODO Auto-generated catch block
e.printStackTrace();
}
ihc.update();
count++;
}while(!sairThread);
}
}
8024,php|html,Estou com um site estático e estou implementando algumas funções em php nele e uma delas é de incluir um menu em todas as páginas, sendo que o mesmo já está criado e todos os arquivos estão com ele.
O que eu quero é o seguinte: substituir todo esse código por: include menu.php
Existe alguma ferramenta em que eu possa fazer isso? Sendo que o código do menu é igual para todos os arquivos.
8072,android,Como eu ligo e desligo o Wifi no Android? Gostaria de ligar o sinal toda vez que a pessoa abrir o aplicativo, e desligá-lo no momento em que fechar.
8091,jquery|html,Podemos atribuir um título (atributo title), a um elemento com marcação no HTML, que tenha essa classe, dessa forma:
$(".title-texto").attr("title", $(".title-texto").text());
Exemplo da marcação no HTML com apenas um elemento com a classe:
{<ul class="miniaturas">
<li>
<a href="link1.html">
<img src="img/imagem1.png" >
<p class="title-texto" >texto 1 escrito no html, com o title atribuido no Jquey</p>
</a>
</li>
</ul>}
Como poderia atribuir title diferentes aos elementos <p> que tem a mesma classe?
<ul class="miniaturas">
<li>
<a href="link1.html">
<img src="img/imagem1.png">
<p class="title-texto" >texto 1 escrito no html, com o title atribuido no Jquey</p>
</a>
</li>
<li>
<a href="link2.html">
<img src="img/imagem2.png">
<p class="title-texto" >texto 2 escrito no html, com o title atribuido no Jquey</p>
</a>
</li>
<li>
<a href="link3.html">
<img src="img/imagem3.jpg">
<p class="title-texto" >texto 3 escrito no html, com o title atribuido no Jquey</p>
</a>
</li>
</ul>
8102,android,Preciso desenvolver uma app para tirar fotos sem que o usuário perceba, como nos programas antifurto que existem hoje.
Preciso que o celular abra o app da câmera e tire uma foto quando o celular ou telefone receber um alerta de que foi roubado.
Como posso me aprofundar nessa pesquisa e conseguir uma solução?
8115,android,Preciso conseguir atualizar um aplicativo, sem a necessidade dele estar na Play Store ou do cliente acessar a internet para fazer o download do mesmo. Preciso de algo automático, mas sem interação com o cliente. É possível? Como pode ser feito?
8121,html,Estou com um problema com o float:left;: para uma largura maior que a página a div cai, mas eu queria que continuasse a div anterior.
HTML:
<div id="menu" class="menu">
MENU
</div>
<div class="resto">
RESTO DO CONTEUDO
</div>
CSS:
.menu {
width: 250px;
float: left;
position: blocked;
background-color: blue;
}
.resto {
background-color: #ccc;
width: 100%;
float: right;
}
Resultado no JSFiddle.
8136,javascript|html,Eu gostaria de criar um sumário:
1 - Titulo Tal
1.1 - Subtitulo
1.1.2 - outro
2 - Outro titulo
2.1 - subtitulo
etc...
Eu gostaria de algo automático, mas não faço ideia de onde começar. Alguém poderia me dar uma ideia ou rumo para eu estudar e tentar fazer?
8151,java,Problema:
Quando crio um JAR pelo eclipse ele funciona tranquilamente, mas estou tentando aproveitar o JAR que o Maven está criando e percebi que ele não executa, pois minha classe main não esta no Manifest.
Use essa configuração no POM.XML para informar a minha classe Main:
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-jar-plugin</artifactId>
<configuration>
<archive>
<manifest>
<addClasspath>true</addClasspath>
<mainClass>ClasseMain</mainClass>
</manifest>
</archive>
</configuration>
</plugin>
Quando uso o mvn install recebo:
[WARNING]
[WARNING] Some problems were encountered while building the effective model for com.app:ClasseMain:jar:0.0.1-SNAPSHOT
[WARNING] 'build.plugins.plugin.version' for org.apache.maven.plugins:maven-jar-plugin is missing. @ line 52, column 12
[WARNING]
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING]
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING]
Pelo que entendi esse aviso e referente ao código que postei acima, mas não consigo encontrar uma solução para o aviso desaparecer. E mesmo informando onde está classe Main o JAR não entra em execução.
Dúvida
Se o código que estou informando no POM.XML está incorreto para informar a classe Main qual é o certo?
Como desaparecer com o WARNING que aparece sempre que faço um mvn install?
8164,android,Costumo trabalhar com INCLUDE, mas nunca entendi o MERGE. Quais são seus usos e vantagens?
8165,android,Gostaria de saber em que área do aplicativo (AndroidManifest.xml, etc) eu preciso indicar que meu aplicativo é capaz de fornecer wallpapers para a a área de Live Wallpapers.
8173,javascript|jquery|html,O resultado que preciso atingir usando o jQuery UI Slider parece ser simples. O Slider será utilizado para definir a idade do usuário que submeteria o formulário, com valor mínimo de 18 (anos) e máximo 100 (anos)... O objetivo pretendido pode ser dividido em duas partes:
Primeira parte > Mostrar o valor do Slider em um input de texto:
Até aqui, eu consigo que a primeira parte do objetivo funcione normalmente com o seguinte código. O resultado pode ser visto aqui no jsfiddle.
jQuery(document).ready(function($) {
$("#slider-idade").slider({
range: "min",
value: 18,
min: 18,
max: 100,
step: 1,
animate: 200,
slide: function(event, ui) {
$("#valor-idade").val(ui.value);
}
});
$("#valor-idade").val($("#slider-idade").slider("value"));
});
Segunda parte > Atualizar o Slider caso o usuário insira um valor no input de texto:
------//------
Tentei seguir algumas instruções e soluções postadas no stackoverflow em inglês, tal como podemos ver nesse stack aqui https://stackoverflow.com/a/7524385/1152876, contudo, não estou conseguindo implementar as soluções propostas na discussão.
*Apenas para constar, caso haja alguma interferência: No site que estou implementando o Slider, estou utilizando também o jQuery UI Touch Punch https://github.com/furf/jquery-ui-touch-punch#readme para adicionar suporte a eventos Touch à biblioteca do jQuery UI quando usada em dispositivos móveis, já que por padrão a biblioteca jquery-ui não funciona.
8185,java,Estou tentando instalar o sqldeveloper e datamodeler no meu Fedora 20 e estou tendo problema com seguinte erro:
java.net.UnknownHostException: localdomain: localdomain: Name or service not known
at java.net.InetAddress.getLocalHost(InetAddress.java:1473)
at org.netbeans.CLIHandler$2.run(CLIHandler.java:667)
at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1432)
at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2044)
Caused by: java.net.UnknownHostException: localdomain: Name or service not known
at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)
at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)
at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293)
at java.net.InetAddress.getLocalHost(InetAddress.java:1469)
... 3 more
Estou com Java 1.7.0_51 instalado.
8191,php|html,Estou a obter o seguinte erro quando tempo realizar uma consulta para inserir dados numa tabela na base-de-dados:
You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''nome','quantidade','codigo') VALUES ('Açúcar Refinado', '2','')' at line 1
O meu código:
<html>
<head>
<title>Teste</title>
<meta charset="UTF-8"/>
</head>
<body>
<?php
$host = "localhost";
$user = "root";
$pass = "";
$dbnm = "carrinho";
$con = mysql_connect($host, $user, $pass) or die (mysql_error());
$banco = mysql_select_db($dbnm,$con) or die(mysql_error());
if (!$banco)
die ("Erro de conexão com banco de dados, o seguinte erro ocorreu -> <br> ".mysql_error());
$nome = 'Açúcar Refinado';
$quantidade = '2';
$query = "INSERT INTO orcamento('nome','quantidade','codigo')
VALUES ('$nome', '$quantidade','')";
mysql_query($query,$con) or die ("Não foi Possivel inserir <br>". mysql_error());
echo "Seu cadastro foi realizado com sucesso!<br>Agradecemos a atenção.";
?>
</body>
</html>
8208,javascript|html,Estou a usar um template com o layout Responsive. Tenho um banner na lateral direita de um site. O que estou a fazer, é que ao fazer scroll da página o banner acompanha a página. Quando diminuo a janela, o banner vai para cima do conteudo. O que queria fazer, era o banner desaparecer quando a janela fosse diminuída. O código em baixo é o que faz o banner acompanhar a página. Como faço desaparecer o banner caso a janela seja mais pequena?
<style>
#getFixed { padding: 100px 0px 0 0px; margin: 10px; z-index: 50000; }
</style>
<script>
function fixDiv() {
var $cache = $('#getFixed');
if ($(window).scrollTop() > 350)
$cache.css({'position': 'fixed', 'top': '10px'});
else
$cache.css({'position': 'relative', 'top': 'auto'});
}
$(window).scroll(fixDiv);
fixDiv();
</script>
<div id="getFixed"><img src="banner.png" width="220"></div>
8218,java,Quero usar o Maven para gerar o JAR com suas dependências em formato .jar, as soluções que encontrei não são validas.
O Eclipse possui três formas de gerar um JAR executavel.
Extract required libraries into gerenated JAR
Package required libraries into generated JAR < Utilizo essa no Eclipse.
Copy required libraries into a sub-folder next to the generated JAR
E o Maven possui uma forma equivalente ao Eclipse?
Usando maven-jar-plugin
<plugin>
<groupId>org.apache.maven.plugins</groupId>
<artifactId>maven-jar-plugin</artifactId>
<version>2.4</version>
<configuration>
<archive>
<manifest>
<mainClass>qualquer.que.seja.seu.pacote.ClasseMain</mainClass>
</manifest>
</archive>
</configuration>
</plugin>
Problema: Esse modo gera um JAR sem as dependências em formato .jar.
Usando maven-assemply-plugin
<plugin>
<artifactId>maven-assembly-plugin</artifactId>
<configuration>
<archive>
<manifest>
<mainClass>qualquer.que.seja.seu.pacote.ClasseMain</mainClass>
</manifest>
</archive>
<descriptorRefs>
<descriptorRef>jar-with-dependencies</descriptorRef>
</descriptorRefs>
</configuration>
</plugin>
Problema: Gera um JAR com as dependências "extraídas" fora do formato .jars.
8241,jquery|html,Tenho a seguinte estrutura em HTML:
<font class="a">J</font>
<font class="b">o</font>
<font class="c">ã</font>
<font class="d">o</font>
<font class="e">P</font>
<font class="f">a</font>
<font class="g">u</font>
<font class="g">l</font>
<font class="i">o</font>
<font class="j">S</font>
<font class="l">a</font>
<font class="m">r</font>
<font class="n">a</font>
<font class="o">g</font>
<font class="p">o</font>
<font class="q">s</font>
<font class="r">s</font>
<font class="s">a</font>
E um JQuery que muda a cor de cada "font":
setInterval(function()
{
var cores =
[
"#ff00ff",
"#ff00cc",
"#ff0099",
"#ff0066",
"#ff0033",
"#ff0000",
"#ff3300",
"#ff6600",
"#ff9900",
"#ffcc00",
"#ffff00",
"#ccff00",
"#99ff00",
"#66ff00",
"#33ff00",
"#00ff00",
"#00ff33",
"#00ff66"
]
letras =
[
"a","b","c","d","e","f","g","h","i","j","l","m","n","o","p","q","r","s"
]
for (var i = 0; i <= cores.length; i++)
{
$("font[class ="+letras[i]+"]").css('color', cores[i]);
}
},500);
Como posso criar um loop que altere a cor das letras num intervalo de tempo, de maneira que a cada intervalo cada letra receba a cor anterior a que havia recebido no loop anterior?
Código
8257,jquery|c#|html,Estou estudando upload de imagens e arquivos, e consigo fazer upload de 1 imagem, e mostrar ela na tela, mas tenho interesse em fazer upload de multiplas imagens com apenas um botao, igual a essa aplicaçao web http://www.photojoiner.net/.
Como fazer upload de multiplas imagens?
estou usando asp.net.mvc 5.1.
8271,javascript|html,Tenho meus elementos  em um texto.
<h2> Titulo </h2>
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
<h2> OUTRO TITULO </h2>
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
<h2> OUTRO TITULO </h2>
Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
e eu gostaria de marcar os elementos h2 em memória, sei lá, para depois eu criar um sumário com eles, usando <li> e counter no CSS.
Como eu poderia fazer isso?
8279,java,Estou trabalhando em um relatório que faz um somatório dos dados e parte dos dados são tempos, exemplo:
-----------------------
| Atividade |   Tempo   |
-----------------------
|    1      |  11:00:00 |
-----------------------
|    2      |  12:00:00 |
-----------------------
|    3      |  13:00:00 |
-----------------------
| Total     |  36:00:00 |
-----------------------
Estou tentando somar os tempos dessa maneira:
final DateFormat dt = new SimpleDateFormat("HH:mm:ss");
final Calendar c = Calendar.getInstance(TimeZone.getDefault(), Locale.getDefault());
c.setTimeInMillis(0);
for (final String h : listaHoras) {
c.add(Calendar.MILLISECOND, (int) dt.parse(h).getTime());
}
A variável listaHoras é um ArrayList de String's todas no formato respeitado pelo SimpleDateFormat. O problema do código acima é que não consigo gerar o valor somado, usando o mesmo SimpleDateFormat ele me retorna o horário de um dia lá na frente de acordo com a data, mas dentro das 24 horas.
Alguém sabe como resolver esse problema?
8291,android,Meu app funciona com Google Maps perfeitamente na versão de debug, mas quando eu publico na Play Store ele para de funcionar.
Qual o processo para gerar a hash do GoogleMapsV2 para a versão release?
Como testar o .apk, antes do upload, para ter certeza que o GoogleMapsV2 irá funcionar?
8354,javascript|jquery|html,Considerem o seguinte exemplo:
Tenho uma textarea que, quando o usuário digitar algo nela, um pequeno texto logo abaixo deve ser exibido, e em determinado tempo após o usuário terminar de digitar sua frase, o texto deve desaparecer!
Eu até consegui algo aqui, vejam: jsfiddle
Porém ao digitar o texto tem um pequeno efeito que eu não gosto! O texto fica meio que 'aparecendo e sumindo' muito rápido, eu quero que simplesmente ao digitar o texto apareça e ao parar ele suma, com um delay nesse meio tempo.
8373,jquery|html,Gostaria de mostrar a mensagem do required em cada elemento do input além de realizar a verificação em cada par de checkbox e input text, mas ela só está ocorrendo no primeiro input que estou dando foco.
<html>
<head>
<script src="/jscss/jquery-2.0.3.js" type="text/javascript"></script>
<script src="/jscss/jquery.validate.js" type="text/javascript"></script>
<script>
$(document).ready( function() {
//Método para verificar as notas com uso de expressão regular
$.validator.addMethod("verifica_media", function(value, element) {
return   ((/^(((([1]{1}[0]{1})\.([0]{1}))|((([0_]{1})(\d){1}))\.(\d{1})))?$/i.test(value) && !($('.Checkconceito').is(":checked"))) || ((this.optional(element)) && ($('.Checkconceito').is(":checked"))));
}, "Por favor entre com uma nota válida ou o conceito F.");
$(".conceito").validate({
// Define as regras
debug: true,
rules:{
media:{
verifica_media: true
}
},
messages:{
media:{
required: "Digite uma média válida (valores entre 0.0 e 10.0"
}
}
});
});
</script>
<script src="/jscss/jquery.maskedinput.js" type="text/javascript"></script>
<script>
jQuery(function($){
$(".conceito").mask("99.9");
});
</script>
</head>
<body><form id="formularioContato" method="post">
<div align="center">
<ul>
<li>
<label>Nota:</label><input type="text" id="nota" name="nota" class="conceito"></span>
<input type="checkbox" id="notaf" name="notaf" value="notaf" class="Checkconceito">Nota F
<br />
</li>
<li>
<label>Nota:</label><input type="text" size="4" id="nota" name="nota" class="conceito"></span>
<input type="checkbox" id="notaf" name="notaf" value="notaf" class="Checkconceito">Nota F
<br />
</li>
</ul>
</div>
<input class="submit" type="submit" id="enviar" name="enviar" value="Enviar" />
</form>
</body>
</html>
8434,android,Fiz umas pesquisas e ao que me parece não é possível criar um app de chamada telefônica, alguém já teve este mesmo problema, ele vai ser usado como controle usando o teclado numérico, o app padrão funciona, mas o cliente quer que fique mais amigável visualmente trocando os números por ícones!
8448,html,O calc() no safari não está funcionando. Tentei colocar os prefixos e também não deu certo. Alguém sabe uma solução?
estou usando assim:
#myDiv{
width: calc(100% - 160px);
width: -webkit-calc(100% - 160px);
width: -moz-calc(100% - 160px);
}
Solução:
Gente, estou usando a versão 5.1 do safari e se segundo o Can I Use, essa propriedade não da suporte a essa versão.
8472,jquery|html,Estou precisando de um slider que teria pelo menos 3 slides, onde o do meio apareceria completamente com a resolução e os outros dois laterais apareceriam parcialmente.
Estou usando a solução Cycle2 http://jquery.malsup.com/cycle2/
Eu preciso que ele funcione corretamente no IE8 para cima.
Estou tentando implementar, mas não está funcionando corretamente. O exemplo está localizado em http://theva.com.br/teste/index2.php. Quando ajusto o tamanho da janela, a mudança não acompanha, fica como se estivesse estático.
Tentei simplificar o máximo possível, estava usando um outro plugin, porém não funcionou corretamente no IE e passei muito tempo tentando resolver, então decidi usar outro plugin.
8483,c#|html,Eu estou utilizando ASP.Net-mvc4] no meu projeto em C# no Visual Studio e preciso pegar o valor da input type=text que está na minha view, e jogar em uma variável no meu controller, porém não achei como fazer isso.
Eu daria o exemplo que estou fazendo, porém quando eu coloco o html aqui ele reconhece como comando.
8495,android,Estou desenvolvendo um aplicativo para Android no qual eu preciso integrar o PayPal na parte de compra, estou usando o PayPal Sandbox para testar, parecia estar funcionando perfeitamente. Crio minha conta pessoal e a conta business e as transações fakes estão funcionando, pois estou checando no site do PayPal Developer.
Ao desenvolver a parte de tratamento de erros o primeiro erro que eu pretendia tratar era a questão de fundos insuficientes... mas o problema é que mesmo a minha conta de teste pessoal estando com fundos de R$0,00 as transações fakes continuam a ser confirmadas e o dinheiro é repassado.
O que eu posso estar errando ou o que posso fazer para simular esses erros no Android?
8502,html,Como posso alinhar esse texto "Adote o ritmo da natureza: o segredo dela é a paciência", verticalmente e horizontalmente dentro do campo branco?
Usei o seguinte código:
<ul>
<li>
<a>
adote o ritmo da natuza: o segredo dela é a paciência.
</a>
<h2>Ralph Waldo Emerson</h2>
</li>
<li>
ul{
position: relative;
width: 100%;
height: auto;
list-style: none;
margin: 0;
padding: 0;
}
ul li{
position: relative;
width: 309px;
height: 260px;
background: #f3f2f1;
float:left;
margin: 0 19px 19px 0;
}
ul li  a{
width: 257px;
height: 170px;
background: #fff;
display: block;
margin: 25px 0 0 25px;
text-decoration: none;
text-transform: uppercase;
text-align:center;
color: #f37021;
font-family: Futura;
font-size: 15px;
}
ul li h2{
font-family: Georgia;
font-size: 14px;
color: #111111;
font-style: italic;
text-align: center;
margin: 0;
}
8508,javascript|jquery|html,Preciso que ao clicar fora de uma div (é uma 'telinha' de cadastro), a mesma se feche.
Que seletor eu deveria usar para que clicando em qualquer parte fora da div essa div se feche?
$(????).on("click", function(){
$('div').hide();
});
Se houver clique em qualquer parte ou elemento da div não poderá fechar pois o usuário estará efetuando o preenchimento dos dados.
8521,javascript|jquery|html,Preciso de um script, que em toda uma página onde se clicar apareça uma bolinha no lugar onde foi clicado, mas que depois de uns 2 segundos desaparecesse.
Não precisa ser ondinhas, apenas algo que deixe um vestígio, um exemplo é o Google Maps quando se clica no mapa aparecem ondas brancas para dizer que você clicou aqui.
No lugar da bolinha pode ser também uma imagem qualquer.
8530,android,Tenho uma listview a ser povoada/alimentada por um webservice, mas so faz o load das minhas images com um Handler.
Eu quero usar uma Thread, mas só corre com um Handler e eu não percebo porquê...
Alguém me pode ajudar?
Aqui está o código (excerto):
new Thread(new Runnable() {
public void run() {
do{
if(isOnline()){
initializeArrays();
populateList();
populateListView();
}
}while(!isOnline());
progresso.dismiss();
}
})start();
private void populateListView() {
ArrayAdapter<Clube> adapter = new MyArrayAdapter();
list = (ListView) findViewById(R.id.classificacaoGeral);
list.setAdapter(adapter);
list.setOnItemClickListener(this);
}
private class MyArrayAdapter extends ArrayAdapter<Clube> {
public MyArrayAdapter() {
super(Main.this, R.layout.list_item, clubes);
}
public View getView(int position, View convertView, ViewGroup parent) {
if (convertView == null) {
convertView = getLayoutInflater().inflate(R.layout.list_item,
parent, false);
}
// Counter de position no Ranking
if(position == 0){
convertView.setBackgroundColor(Color.rgb(235, 235, 235));
}else if(position == 1){
convertView.setBackgroundColor(Color.rgb(240, 240, 240));
}else if(position == 2){
convertView.setBackgroundColor(Color.rgb(249, 249, 249));
}else{
convertView.setBackgroundColor(Color.rgb(255, 255, 255));
}
Clube actual = clubes.get(position);
TextView tv = (TextView) convertView.findViewById(R.id.item_name);
tv.setText(actual.getName());
// Logo do clube
ImageView imgView = (ImageView) convertView
.findViewById(R.id.item_img);
imgView.setImageBitmap(this.getClubeLogo(actual.getImgURL()));
// ID de Clube de acordo com a BD
TextView pontos = (TextView) convertView
.findViewById(R.id.item_pontos);
pontos.setText(actual.getPontos() +" pontos");
return convertView;
}
/**
* Metodo para fazer o load de uma imagem por um URL
*
* @param src
*            String de URL de image
* @return Bitmap
*/
private Bitmap getClubeLogo(String src) {
try {
URL url = new URL(src);
HttpURLConnection connection = (HttpURLConnection) url
.openConnection();
connection.setDoInput(true);
connection.connect();
InputStream input = connection.getInputStream();
Bitmap logo = BitmapFactory.decodeStream(input);
return logo;
} catch (Exception e) {
e.printStackTrace();
return null;
}
}
8546,java|android,Estou com dificuldade em executar minha aplicação Android com o Jsoup. É um exemplo simples, mas que está a retornar nada.
Classe em Java:
import java.io.IOException;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import android.os.Bundle;
import android.app.Activity;
import android.view.Menu;
import android.widget.TextView;
public class MainActivity extends Activity {
private TextView textview;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
textview = (TextView)findViewById(R.id.textView1);
Document doc = null;
try {
doc = Jsoup.connect("http://google.com").get();
String title = doc.title();
textview.setText(title);
} catch (IOException e) {
textview.setText("aaaa");
}
}
}
Layout activity_main.xml:
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingBottom="@dimen/activity_vertical_margin"
android:paddingLeft="@dimen/activity_horizontal_margin"
android:paddingRight="@dimen/activity_horizontal_margin"
android:paddingTop="@dimen/activity_vertical_margin"
tools:context=".MainActivity" >
<TextView
android:id="@+id/textView1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentLeft="true"
android:layout_alignParentTop="true"
android:layout_marginLeft="68dp"
android:layout_marginTop="63dp" />
</RelativeLayout>
manifest.xml:
<uses-sdk
android:minSdkVersion="8"
android:targetSdkVersion="19" />
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.persmission.ACCESS_NETWORK_STATE" />
<application
android:allowBackup="true"
android:icon="@drawable/ic_launcher"
android:label="@string/app_name"
android:theme="@style/AppTheme" >
<activity
android:name="com.example.teste12.MainActivity"
android:label="@string/app_name" >
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
</application>
Obs: Também foi inserido no caminho do jsoup.jar.
Segue o Log abaixo:
03-09 00:53:39.281: E/AndroidRuntime(8413): FATAL EXCEPTION: main
03-09 00:53:39.281: E/AndroidRuntime(8413): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.study01/com.example.study01.MainActivity}: android.os.NetworkOnMainThreadException
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2140)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2178)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.ActivityThread.access$700(ActivityThread.java:141)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1271)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.os.Looper.loop(Looper.java:137)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.ActivityThread.main(ActivityThread.java:5118)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at java.lang.reflect.Method.invokeNative(Native Method)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at java.lang.reflect.Method.invoke(Method.java:511)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:792)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:555)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at dalvik.system.NativeStart.main(Native Method)
03-09 00:53:39.281: E/AndroidRuntime(8413): Caused by: android.os.NetworkOnMainThreadException
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1131)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at java.net.InetAddress.lookupHostByName(InetAddress.java:385)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at java.net.InetAddress.getAllByNameImpl(InetAddress.java:236)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at java.net.InetAddress.getAllByName(InetAddress.java:214)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpConnection.<init>(HttpConnection.java:70)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpConnection.<init>(HttpConnection.java:50)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpConnection$Address.connect(HttpConnection.java:340)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpConnectionPool.get(HttpConnectionPool.java:87)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpConnection.connect(HttpConnection.java:128)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpEngine.openSocketConnection(HttpEngine.java:315)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpEngine.connect(HttpEngine.java:310)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:289)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:239)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at libcore.net.http.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:80)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:439)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:424)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:178)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at org.jsoup.helper.HttpConnection.get(HttpConnection.java:167)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at com.example.study01.MainActivity.onCreate(MainActivity.java:23)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.Activity.performCreate(Activity.java:5058)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1079)
03-09 00:53:39.281: E/AndroidRuntime(8413):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2104)
03-09 00:53:39.281: E/AndroidRuntime(8413):     ... 11 more
8555,javascript|html,No meu trabalho, criei páginas como uma lista telefônica estática para facilitar a busca dos mesmos, porém como são muitos nomes, eu gostaria de criar um campo de pesquisa, porém não é possível fazer isso sem código dinâmico e banco de dados. É possível fazer isso com JavaScript com os dados salvos em um XML?.
O interesse não é segurança e nada, visto que é uma página pra facilitar a busca. Não uso o PHP porque na minha empresa não é permitida a instalação de programas (Apache, etc)  nas máquinas. Minha dúvida é saber se é possível fazer isso com XML e JavaScript.
8581,javascript|jquery|html,Preciso que um GIF fique funcionando enquanto a página carrega. Eu já tentei alguns jeitos mas nenhum funcionou.
E que quando página carregar apareça o Concluído!.
Mais ou menos como o acontece neste site.
8590,javascript|html,Quando seleciono uma opção do select teria q aparecer uma imagem diferente no img que eu criei, mas não tá funcionando.
Código HTML
<select id="produtos" onchange="mudaFoto()">
<option value="">Selecione o Produto</option>
<option value="ac-uniao">Áçúcar Refinado união</option>
<option value="ac-guarani">Áçúcar Refinado Guarani</option>
<option value="AM">AM</option>
</select>
Código Javascript
var foto = document.getElementById('imagem-produto').src;
function mudaFoto() {
switch(document.getElementById('produtos').selectedIndex()) {
case 1: foto = "_imagens/acucar-uniao.png";
break;
}
}
8602,html,Estou criando "informativos" para colocar na página inicial do meu site e preciso de uma luz.
Eu queria que ele ficasse assim:
E quando a resolução de tela do visitante fosse diminuindo, as div's do título e da descrição fossem encolhendo. E quando a resolução fosse bem pequena, como 500, o título se movesse abaixo da imagem. Exemplo:
Código simplificado:
<div class="body">
<div class="i1" id="ID-DA-POSTAGEM">
<div class="i1Img"><img src="http://i.snag.gy/uIuFD.jpg" /></div>
<div class="i1Content">…</div>
<div class="clear"></div>
</div>
</div>
.clear{clear: both;}
div.body{/*simula largura do site*/
width:711px; /*original 710px*/
border:1px solid red; /*borda de marcação*/
margin:0 auto;
}
.i1Img {
float:left;
width:200px; /*largura da imagem*/
}
.i1Content{
float:right;
width:505px; /* +200px(imagem) + 5px(padding) = 710px*/
padding-left:5px;
}
Eu coloquei o HTML e CSS completos que estou usando no JSFiddle http://jsfiddle.net/j75Zh/
8608,java|android,Estou criando um aplicativo para Android com o Android Studio e estou tendo problemas para ler um arquivo de texto que está hospedado na Internet. Sempre que eu tento executar o método checkVersion() ele retorna o seguinte erro:
A mensagem está vazia pois net.getMessage() está retornando null
iPoema.java
public int getVersion() {
int versao = 0;
String linha = "0";
BufferedReader in = null;
try {
HttpClient httpclient = new DefaultHttpClient();
HttpGet request = new HttpGet();
URI website = new URI("http://www.xadees.xpg.com.br/iPoema.txt");
request.setURI(website);
HttpResponse response = httpclient.execute(request);
in = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));
String sb;
while ((sb = in.readLine()) != null) {
linha += sb;
}
in.close();
versao = Integer.parseInt(linha);
} catch (NetworkOnMainThreadException net) {
showMessage(net.getClass().getName(), net.getMessage());
} catch (IOException io) {
showMessage(io.getClass().getName(), io.getMessage());
} catch (URISyntaxException use) {
showMessage(use.getClass().getName(), use.getMessage());
}
return versao;
}
8645,android,Estou aprendendo OpenGL ES 2.0 para Android, e após certa familiarização com a ordem da programação estou tentando desenhar 2 triângulos na tela, a partir de 2 objetos diferente. É algo muito simples, mas não está dando certo, apenas meu "triangle2" é desenhado na tela.
Poderiam em ajudar?
Classe 1
public class MainActivity extends Activity {
GLSurfaceView myGLSurfaceView;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
myGLSurfaceView = new GLSurfaceView(this);
myGLSurfaceView.setEGLContextClientVersion(2);
myGLSurfaceView.setRenderer(new RendererClass());
setContentView(myGLSurfaceView);
}
}
Classe 2 - Triângulo 1
public class ObjectTriangle {
int BYTES_PER_FLOAT = 4;
int shaderProgram;
FloatBuffer vertexInBuffer;
public ObjectTriangle(){
float[] vertexArray = {
0.0f,  0.5f, 1.0f, 0.0f, 0.0f,
0.0f, -0.5f, 0.0f, 1.0f, 0.0f,
0.5f,  0.0f, 0.0f, 0.0f, 1.0f
};
vertexInBuffer = ByteBuffer.allocateDirect(vertexArray.length*BYTES_PER_FLOAT)
.order(ByteOrder.nativeOrder())
.asFloatBuffer()
.put(vertexArray);
}
public void inicializeObjectShaders(){
String vertexShaderCode = "attribute vec4 a_Position;"
+ "attribute vec4 a_Color;"
+ "varying vec4 v_Color;"
+ "void main(){"
+     "gl_Position = a_Position;"
+     "v_Color = a_Color;"
+ "}";
String fragmentShaderCode = "precision mediump float;"
+ "varying vec4 v_Color;"
+ "void main(){"
+     "gl_FragColor = v_Color;"
+ "}";
int vertexShaderID = GLES20.glCreateShader(GLES20.GL_VERTEX_SHADER);
int fragmentShaderID = GLES20.glCreateShader(GLES20.GL_FRAGMENT_SHADER);
GLES20.glShaderSource(vertexShaderID, vertexShaderCode);
GLES20.glShaderSource(fragmentShaderID, fragmentShaderCode);
GLES20.glCompileShader(vertexShaderID);
GLES20.glCompileShader(fragmentShaderID);
shaderProgram = GLES20.glCreateProgram();
GLES20.glAttachShader(shaderProgram, vertexShaderID);
GLES20.glAttachShader(shaderProgram, fragmentShaderID);
GLES20.glLinkProgram(shaderProgram);
}
public void setVertexAttribPointer(){
int aPositionLocation = glGetAttribLocation(shaderProgram, "a_Position");
int aColorLocation = glGetAttribLocation(shaderProgram, "a_Color");
vertexInBuffer.position(0);
glVertexAttribPointer(aPositionLocation, 2, GL_FLOAT, false, (2+3)*BYTES_PER_FLOAT, vertexInBuffer);
glEnableVertexAttribArray(aPositionLocation);
vertexInBuffer.position(2);
glVertexAttribPointer(aColorLocation, 3, GL_FLOAT, false, (2+3)*BYTES_PER_FLOAT, vertexInBuffer);
glEnableVertexAttribArray(aColorLocation);
}
public void useProgram(){
GLES20.glUseProgram(shaderProgram);
}
public void draw(){
glDrawArrays(GL_TRIANGLES, 0, 3);
}
}
Classe 3 - Triângulo 2 (99% igual o triângulo1, só muda o local de 1 vértice)
public class ObjectTriangle2 {
int BYTES_PER_FLOAT = 4;
int shaderProgram;
FloatBuffer vertexInBuffer;
public ObjectTriangle2(){
float[] vertexArray = {
0.0f,  0.5f, 1.0f, 0.0f, 0.0f,
-0.5f,  0.0f, 0.0f, 1.0f, 0.0f,
0.0f, -0.5f, 0.0f, 0.0f, 1.0f
};
vertexInBuffer = ByteBuffer.allocateDirect(vertexArray.length*BYTES_PER_FLOAT)
.order(ByteOrder.nativeOrder())
.asFloatBuffer()
.put(vertexArray);
}
public void inicializeObjectShaders(){
String vertexShaderCode = "attribute vec4 a_Position;"
+ "attribute vec4 a_Color;"
+ "varying vec4 v_Color;"
+ "void main(){"
+     "gl_Position = a_Position;"
+     "v_Color = a_Color;"
+ "}";
String fragmentShaderCode = "precision mediump float;"
+ "varying vec4 v_Color;"
+ "void main(){"
+     "gl_FragColor = v_Color;"
+ "}";
int vertexShaderID = GLES20.glCreateShader(GLES20.GL_VERTEX_SHADER);
int fragmentShaderID = GLES20.glCreateShader(GLES20.GL_FRAGMENT_SHADER);
GLES20.glShaderSource(vertexShaderID, vertexShaderCode);
GLES20.glShaderSource(fragmentShaderID, fragmentShaderCode);
GLES20.glCompileShader(vertexShaderID);
GLES20.glCompileShader(fragmentShaderID);
shaderProgram = GLES20.glCreateProgram();
GLES20.glAttachShader(shaderProgram, vertexShaderID);
GLES20.glAttachShader(shaderProgram, fragmentShaderID);
GLES20.glLinkProgram(shaderProgram);
}
public void setVertexAttribPointer(){
int aPositionLocation = glGetAttribLocation(shaderProgram, "a_Position");
int aColorLocation = glGetAttribLocation(shaderProgram, "a_Color");
vertexInBuffer.position(0);
glVertexAttribPointer(aPositionLocation, 2, GL_FLOAT, false, (2+3)*BYTES_PER_FLOAT, vertexInBuffer);
glEnableVertexAttribArray(aPositionLocation);
vertexInBuffer.position(2);
glVertexAttribPointer(aColorLocation, 3, GL_FLOAT, false, (2+3)*BYTES_PER_FLOAT, vertexInBuffer);
glEnableVertexAttribArray(aColorLocation);
}
public void useProgram(){
GLES20.glUseProgram(shaderProgram);
}
public void draw(){
glDrawArrays(GL_TRIANGLES, 0, 3);
}
}
Classe 4 - O Renderer
public class RendererClass implements Renderer {
ObjectTriangle triangle;
ObjectTriangle2 triangle2;
@Override
public void onSurfaceCreated(GL10 arg0, EGLConfig config) {
GLES20.glClearColor(0.0f, 0.5f, 1.0f, 1.0f);
triangle = new ObjectTriangle();
triangle.inicializeObjectShaders();
triangle.setVertexAttribPointer();
triangle2 = new ObjectTriangle2();
triangle2.inicializeObjectShaders();
triangle2.setVertexAttribPointer();
}
@Override
public void onSurfaceChanged(GL10 arg0, int width, int height) {
glViewport(0, 0, width, height);
}
@Override
public void onDrawFrame(GL10 glUnused) {
GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);
triangle.useProgram();
triangle.draw();
triangle2.useProgram();
triangle2.draw();
}
}
8652,android,Tenho uma Activity com Actionbar e três Tabs, em cada Tab é carregado um Fragment diferente e em cada fragment desse tenho um formulário.
Ao terminar de preencher os tres formulários, quando tocar no botão salvar quero poder recuperar as informações de cada fragment e persistir no SQLite.
Minha dúvida é saber como faço pra acessar os campos de cada fragment.
Já tentei fazer usando
Fragment1 detalhes = (Fragment1) fragmentManager.findFragmentByTag("frag1");
mas só funciona pra recuperar o campo no fragment atual.
Como faço pra recuperar de todos?
8697,android,Estou desenvolvendo um app que fica conectado em uma rede local, porém sem internet. Estou usando uma placa APC 8750 http://apc.io/products/8750a  sem bateria, ou seja quando desliga perde o calendário. Por qual meio o Android atualiza automaticamente o calendário? Se no caso o Android usar um servidor de data e hora ou NTP na internet, como fazer para alterar o servidor para uma servlet em um servidor nesta mesma rede local por exemplo?
8734,php|jquery|html,Pergunto de maneira bem abrangente aplicado tanto a Desktop quanto Web, se for muito diferente os métodos, peço que me orientem.
Possuo alguns clientes, e com o passar de alguns meses, vejo que ao crescer dos projetos (Tanto web quanto desktop) fica difícil de outros trabalharem no mesmo projeto, e difícil até para mim me encontrar e me organizar no próprio projeto.
No caso do WEB: Como dividir o arquivos php, jquery e html nas pastas e subpastas? E como documentar algo do tipo? Existe documentação?
No caso do Desktop: Como dividir o banco de dados, das validações e da programação daquele determinado formulário?
Pois bem, gostaria que me dissessem quais são os passos para uma perfeita organização e desenvolvimento de um projeto. Seria o UML? Apenas isso bastaria?
8771,jquery|html,Tenho uma div onde se encontra a parte das redes sociais. Nela tenho botão de curtir do Facebook, do Twitter e do Google Plus.
O do Twitter e do Google Plus terminam de carregar juntos e é mostrado, já o do Facebook demora mais alguns segundos para carregar.
Queria colocar um loader nessa div e quando estiverem carregados ai sim poderá mostrar todos, de uma só vez.
É possível?
8814,android,Estou realizando uma pesquisa de alternativas para desenvolvimento mobile nativo com algumas ferramentas de mercado. Além das próprias ferramentas para desenvolvimento nativo das plataformas (iOS e Android, por exemplo), encontrei algumas ferramentas interessantes como:
CodenameOne
LWUIT precursor de codenameOne, no qual é baseado.
Também realizei uma breve pesquisa sobre Java FX para desenvolvimento mobile e não encontrei algo que possa ser utilizado além do javaME.
Existem mais algumas ferramentas para desenvolvimento mobile nativo?
8844,javascript|jquery|html,Eu estou a tentar criar um formulário muito simples com o Bootstrap que consiste apenas numa text bar e num botão de procurar. Mas, embora estejam os dois no mesmo .form-group, a text bar tem uma width de 100% e o botão fica em baixo, em vez de aparecer ao lado, como eu precisava.
Está ai um exemplo:
<form role="form">
<div class="form-group">
<label for="searchBar">Procurar:</label>
<input type="text" class="form-control pull-left" id="searchBar" placeholder="Procurar por:">
<button type="submit" class="btn btn-info pull-right" value="Procurar"> <span class="glyphicon glyphicon-search"></span>
</button>
</div>
</form>
JSFiddle
8880,javascript|jquery|html,não usei nenhum plugin para fazer uma simples transição entre divs, porque não era para ser nada complicado demais e nao queria sobrecarregar a página com vários plugins, mas no meu script o slider demora demais para começar a inicializar, existe uma forma de diminuir esse tempo? estou usando uma função setInterval mas não consegui fazer esse slider rodar mais rápido, segue o link da página com o slider do lado direito http://bit.ly/1gXSuO8
e abaixo o JS:
$(document).ready(function(){
$(function(){
$('div.fios-cobre div.slide:gt(0)').hide();
setInterval(function(){
$('div.fios-cobre div.slide:first-child').fadeOut()
.next('.slide').fadeIn()
.end().appendTo('div.fios-cobre');},
5000);
});
});
o HTML:
<div class="fios-cobre">
<div class="slide">
<div id="first-content">
<div class="texto">
<ul class="texto-balao">
<li>
<h1 class="text-rotate" id="text-1">Extinflan</h1>
</li>
<li class="separador"></li>
<li>São recomendados para instalações internas de baixa tensão (residenciais, comerciais)</li>
<li><a href="{{ route('produtos') }}"><img src="{{ asset('assets/img/saiba-mais.png') }}" alt=""></a></li>
</ul>
</div>
<div class="imagem">
<img src="{{ asset('assets/img/box-extinflan.png') }}" alt="" id="img-1">
<img src="{{ asset('assets/img/cabo-hepr-flex-home-image.png') }}" alt="" id="img-2" style="display: none;">
</div>
</div>
<!-- /#first-content -->
</div>
<!-- /.slide -->
<div class="slide">
<div id="second-content">
<div class="texto">
<ul class="texto-balao">
<li>
<h1 class="text-rotate" id="text-1">Fios e cabos de Cobre nú</h1>
</li>
<li class="separador"></li>
<li>São recomendados para instalações de linhas aéreas para transmissão de energia elétrica.</li>
<li><a href="{{ route('produtos') }}"><img src="{{ asset('assets/img/saiba-mais.png') }}" alt=""></a></li>
</ul>
</div>
<div class="imagem">
<img src="{{ asset('assets/img/box-fio-cobre-nu.png') }}" alt="" id="img-1">
<img src="{{ asset('assets/img/cabo-hepr-flex-home-image.png') }}" alt="" id="img-2" style="display: none;">
</div>
</div>
<!-- /#second-content -->
</div>
<!-- /.slide -->
<div class="slide">
<div id="third-content">
<div class="texto">
<ul class="texto-balao">
<li>
<h1 class="text-rotate" id="text-1">BRASFLEX</h1>
</li>
<li class="separador"></li>
<li>São recomendados para instalações em equipamentos elétricos, móveis ou fixos.</li>
<li><a href="{{ route('produtos') }}"><img src="{{ asset('assets/img/saiba-mais.png') }}" alt=""></a></li>
</ul>
</div>
<div class="imagem">
<img src="{{ asset('assets/img/box-brasflex.png') }}" alt="" id="img-1">
<img src="{{ asset('assets/img/cabo-hepr-flex-home-image.png') }}" alt="" id="img-2" style="display: none;">
</div>
</div>
<!-- /#third-content -->
</div>
<!-- /.slide -->
<div class="slide">
<div id="fourth-content">
<div class="texto">
<ul class="texto-balao">
<li>
<h1 class="text-rotate" id="text-1">BRASCORD</h1>
</li>
<li class="separador"></li>
<li>São recomendados para ligações de aparelhos de iluminação e de baixa potência.</li>
<li><a href="{{ route('produtos') }}"><img src="{{ asset('assets/img/saiba-mais.png') }}" alt=""></a></li>
</ul>
</div>
<div class="imagem">
<img src="{{ asset('assets/img/box-brascord.png') }}" alt="" id="img-1">
<img src="{{ asset('assets/img/cabo-hepr-flex-home-image.png') }}" alt="" id="img-2" style="display: none;">
</div>
</div>
<!-- /#fourth-content -->
</div>
<!-- /.slide -->
<div class="slide">
<div id="fifth-content">
<div class="texto">
<ul class="texto-balao">
<li>
<h1 class="text-rotate" id="text-1">BRASCORD 90 FLEX</h1>
</li>
<li class="separador"></li>
<li>São recomendados para ligações dos eletrodos em equipamentos de solda elétrica.</li>
<li><a href="{{ route('produtos') }}"><img src="{{ asset('assets/img/saiba-mais.png') }}" alt=""></a></li>
</ul>
</div>
<div class="imagem">
<img src="{{ asset('assets/img/box-brasolda-90-flex.png') }}" alt="" id="img-1">
<img src="{{ asset('assets/img/cabo-hepr-flex-home-image.png') }}" alt="" id="img-2" style="display: none;">
</div>
</div>
<!-- /#fifth-content -->
</div>
<!-- /.slide -->
</div>
<!-- /.fios-cobre -->
8915,android,Sou iniciante no Android e estava com dúvidas de como ler um arquivo TXT para a minha aplicação.
Essa pergunta me ajudou bastante:
https://stackoverflow.com/questions/8499351/how-to-read-csv-file-in-android
Mas no meu caso, o usuário vai colocar um arquivo CSV dentro do sdcard ou da mémoria do tablet , gostaria de saber como eu faço para o usuário escolher onde o arquivo está dentro da memória para poder importar para a aplicação ao invés de fazer minha aplicação procurar um lugar fixo dentro do tablet.
8929,java|android,Neste link ensina a listar comentários (no meu caso noticias) usando banco de dados externo (tem o download do projeto).
Como posso deletar uma notícia ao selecionar, e ainda fazer com que apareça um Dialog perguntando se quero ou não deletar a noticia do banco de dados externo?
Esse é o código do INSERT:
public void chamaCadastrarNoticia(){
setContentView(R.layout.cadastrar_noticia);
editTituloNoticia=(EditText) findViewById(R.id.editTituloNoticia);
editNoticia=(EditText) findViewById(R.id.editNoticia);
btCadastrarNoticia=(Button) findViewById(R.id.btCadastrarNoticia);
btCadastrarNoticia.setOnClickListener(new View.OnClickListener() {
public void onClick(View arg0) {
String vazios = "";
if (editTituloNoticia.getText().toString().equals(""))
vazios="Campo Titulo não pode estar vazio\n\n";
if (editNoticia.getText().toString().equals(""))
vazios="Campo Noticia não pode estar vazio\n\n";
if  (editTituloNoticia.getText().toString().equals("") || editNoticia.getText().toString().equals(""))
mensagemExibir("Erro:", ""+vazios);
else {
String urlPost="#url"; // URL
String urlGet="#url   ?titulo="+editTituloNoticia.getText().toString()+"noticia="+editNoticia.getText().toString(); // URL
ArrayList<NameValuePair> iparametrosPost = new ArrayList<NameValuePair>();
iparametrosPost.add(new BasicNameValuePair("titulo",editTituloNoticia.getText().toString()));
iparametrosPost.add(new BasicNameValuePair("noticia",editNoticia.getText().toString()));
String respostaRetornada = null;
try {
respostaRetornada = ConexaoHttpClient.executaHttpPost(urlPost, iparametrosPost);
String resposta = respostaRetornada.toString();
resposta = resposta.replaceAll("\\s+", "");
if (resposta.equals("1")) {
mensagemExibir("Cadastrado:", "Acesse Listar Noticias para ver a noticia cadastrada");
}
chamaIndexAdmin();
}
catch(Exception erro){
Log.i("erro", "erro = "+erro);
mensagemExibir("Erro", "Erro ao gravar: "+erro);
}
}
}
});
}
8982,android,Estou usando Xamarin para desenvolver para Android em C# e verificando a documentação do componente SeekBar vi que ele só possui uma propriedade "Max", e que o valor mínimo para o componente é 0.
Como seria possível fazer com que o SeekBar aceitasse valores negativos?
8996,javascript|php|html,Situação: Temos três tabelas no mesmo formulário a primeira contém o radio button:
<td> <input required="required"
value="Evento" name="tipo" id="evento" type="radio">
<label for="tipo">Evento.</label> <input required="required" value="Viagem" name="tipo" id="viagem" type="radio">
<label for="tipo">Viagem</label></td>
No momento é mostrada as duas tabelas na tela, quero que seja mostrada apenas uma que depende da escolha.
Como poderia ser feito o if para mostrar determinada tabela?
Por exemplo
if (código){
tabela sobre viagens
}
if(outrocódigo){
tabela sobre eventos
}
É possível fazer por PHP ou tem que ser Javascript?
Já tentei
<?php if($_POST['tipo']=='evento') : ?>
tabela em HTML que eu quero mostrar
<?php endif; ?>
mas me dá o erro:
Undefined index: tipo
9020,android,Estou criando um evento de click, para quando for pressionado um determinado LinearLayout que fica em uma ListView. Os atributos deste ListView ficam em um XML (item_list), porém não esta conseguindo buscar o linear para fazer o evento, esta dando NullPointerException.
...
listView.setAdapter(adapterListView);
beber = (LinearLayout)findViewById(R.id.item_beber);
beber.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
beberCerveja();
}
});
O erro ocorre na linha 2º linha.
9036,android,Explicação:
Tenho uma aplicação que constantemente é feito bastante alterações, e toda vez que eu faço, eu gero uma versão nova com a mesma Private Key(Keystore), ou seja, quando eu mando a nova *.APK instalar no dispositivo nenhuma configuração é perdida e a aplicação é simplesmente atualizada. Até aí tudo bem.
Pergunta:
Porém, eu não quero que o usuário tenha que baixar uma nova *.APK no meu site e posteriormente instalar toda vez que for necessário atualizar ela, eu gostaria de fazer um botão "Atualizar" e quando clicar, transferir a nova *.APK com uma barra de progresso monitorando o fim do download para o aparelho, e automaticamente instalar ela, com outra barra de progresso monitorando o fim da instalação(se não for possível pode ser um "ajax" que seria aquele progresso que fica girando sem previsão), como devo fazer isto?
Detalhe importante:
Não quero utilizar o Google Play para fazer isto para mim pois alguns usuários que possuem minha aplicação não podem, em determinado momento, utilizar, por exemplo, a versão 1.21, e somente a 1.20, já outros usuários já podem atualizar para a versão 1.21.
E também, não gostaria que a atualização fosse realizada automaticamente, pois preciso que o usuário acabe todos os serviços em sua aplicação antes de poder atualizar. E ele só deve atualizar quando for solicitado para que clique no botão.
9046,android,Neste link ensina a listar comentários (no meu caso notícias) usando banco de dados externo. Lá consta o download do projeto.
Como posso deletar uma notícia ao selecionar e ainda fazer com que apareça um Dialog perguntando se quero ou não deletar a notícia do banco de dados externo.
Percebo o seguinte erro no log:  FATAL EXCEPTION: AsyncTask #2
Segue o projeto que estou usando.
package br.com.transparencia.conexaoweb;
import java.util.ArrayList;
import java.util.List;
import android.widget.ArrayAdapter;
import java.util.HashMap;
import org.apache.http.NameValuePair;
import org.apache.http.message.BasicNameValuePair;
import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;
import br.com.transparencia.R;
import br.com.transparencia.conexaoweb.ConexaoHttpClient;
import android.app.AlertDialog;
import android.app.ListActivity;
import android.app.ProgressDialog;
import android.content.DialogInterface;
import android.content.Intent;
import android.os.AsyncTask;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.ListAdapter;
import android.widget.ListView;
import android.widget.SimpleAdapter;
import android.widget.Toast;
public class ReadNoticiasPrefeitura extends ListActivity {
private ProgressDialog pDialog;
private Object json;
private static final String READ_COMMENTS_URL = " "; // URL LISTAR NOTICIAS
private static final String DELETE_COMMENTS_URL = " "; // URL DELETAR NOTICIAS
private static final String TAG_SUCCESS = "success";
private static final String TAG_TITULO = "titulo";
private static final String TAG_POSTS = "posts";
private static final String TAG_POST_ID = "id";
private static final String TAG_NOTICIA = "noticia";
// An array of all of our comments
private JSONArray mComments = null;
private ArrayList<HashMap<String, String>> mCommentList;
public JSONParser jsonParser;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.read_noticias_prefeitura);
}
@Override
protected void onResume() {
super.onResume();
new LoadComments().execute();
}
public void sair(View v) {
finish();
}
public void updateJSONdata() {
mCommentList = new ArrayList<HashMap<String, String>>();
JSONParser jParser = new JSONParser();
JSONObject json = jParser.getJSONFromUrl(READ_COMMENTS_URL);
try {
mComments = json.getJSONArray(TAG_POSTS);
for (int i = 0; i < mComments.length(); i++) {
JSONObject c = mComments.getJSONObject(i);
String titulo = c.getString(TAG_TITULO);
String content = c.getString(TAG_NOTICIA);
HashMap<String, String> map = new HashMap<String, String>();
map.put(TAG_TITULO, titulo);
map.put(TAG_NOTICIA, content);
mCommentList.add(map);
}
} catch (JSONException e) {
e.printStackTrace();
}
}
private void updateList() {
ListAdapter adapter = new SimpleAdapter(this, mCommentList,
R.layout.single_post, new String[] { TAG_TITULO, TAG_NOTICIA
}, new int[] { R.id.titulo, R.id.noticia });
setListAdapter(adapter);
ListView lv = getListView();
lv.setOnItemClickListener(new OnItemClickListener() {
public void onItemClick(AdapterView<?> parent, View view,
int position, long id) {
new DeleteCard().execute();
}
});
}
class DeleteCard extends AsyncTask<String, String, String> {
/**
* Before starting background thread Show Progress Dialog
* */
@Override
protected void onPreExecute() {
super.onPreExecute();
pDialog = new ProgressDialog(ReadNoticiasPrefeitura.this);
pDialog.setMessage("Deleting Product...");
pDialog.setIndeterminate(false);
pDialog.setCancelable(true);
pDialog.show();
}
/**
* Deleting product
* */
protected String doInBackground(String... args) {
int success;
try {
List<NameValuePair> params = new ArrayList<NameValuePair>();
params.add(new BasicNameValuePair("titulo", TAG_TITULO));
JSONObject json = jsonParser.makeHttpRequest(
DELETE_COMMENTS_URL, "POST", params);
Log.d("DELETAR", json.toString());
success = json.getInt(TAG_SUCCESS);
if (success == 1) {
Intent i = getIntent();
setResult(100, i);
finish();
}
} catch (JSONException e) {
e.printStackTrace();
}
return null;
}
protected void onPostExecute(String file_url) {
pDialog.dismiss();
}
}
/* ----------------------------------------------------------------------------------------*/
public class LoadComments extends AsyncTask<Void, Void, Boolean> {
@Override
protected void onPreExecute() {
super.onPreExecute();
pDialog = new ProgressDialog(ReadNoticiasPrefeitura.this);
pDialog.setMessage("Carregando...");
pDialog.setIndeterminate(false);
pDialog.setCancelable(true);
pDialog.show();
}
@Override
protected Boolean doInBackground(Void... arg0) {
updateJSONdata();
return null;
}
@Override
protected void onPostExecute(Boolean result) {
super.onPostExecute(result);
pDialog.dismiss();
updateList();
}
}
/* ########################################################################################################## */
public void mensagemExibir(String titulo, String texto)
{
AlertDialog.Builder mensagem = new AlertDialog.Builder(ReadNoticiasPrefeitura.this);
mensagem.setTitle(titulo);
mensagem.setMessage(texto);
mensagem.setNeutralButton("OK", null);
mensagem.show();
}
}
9049,html,Os prefixos -webkit- ou -moz- devem ser usados para elementos que funcionam sem o uso desses (como box-shadow)?
Normalmente quem utiliza Chrome e Firefox tem as versões que suportam muitos elementos, o que torna desnecessário acrescentar estes códigos.
9112,html,Tenho a seguinte tela e não consigo centralizar verticalmente este formulário abaixo na tela. Defino como position: absolute; e acresço o top:20% e não sai do lugar!
Segue meu html:
<header>
<div class="local">
<img src="images/local_bg.png" alt="Caminho Default">
<span>Enviar arquivo</span>
</div>
<div class="info">
<img src="images/user_ico.png" alt="Icone de usuário" class="user_ico">
<span class="userName">Luítame de Oliveira</span>
<img src="images/down_ico.png" alt="Icone de seta" class="info_btn">
</div>
</header>
<div class="content">
<form class="form_envia" method="post" action="#">
<input type="file">
<label>
<input name="processo" class="processo" type="text">
</label>
<label>
<select name="categoria">
<option value="">Categoria</option>
<option value="">DRAFT</option>
<option value="">DRAFT</option>
<option value="">DRAFT</option>
<option value="">DRAFT</option>
</select>
<input type="checkbox" name="notCat"><span>Outra Categoria</span>
</label>
<label>
<select name="tipo">
<option value="">Tipo</option>
<option value="">Importação</option>
<option value="">Exportação</option>
</select>
</label>
<label>
<input name="importador" class="importador" type="text">
</label>
<label>
<input name="exportador" class="exportador" type="text">
</label>
<label>
<input name="navio" class="navio" type="text">
</label>
<label>
<select name="semana">
<option value="">Semana</option>
<?php
for ($i=1; $i <=52 ; $i++) {
echo "<option value=".$i.">$i</option>";
}
?>
</select>
<input name="data" class="data" type="text">
</label>
<input name="btn_envia" class="btn_envia" value="Enviar Arquivo" type="submit">
</form>
</div>
<?php include_once "../footer.php"; ?>
O CSS que formata tudo é este:
*{padding: 0;
margin: 0;
outline: none;
font-family: 'Roboto', sans-serif;
}
header{background: #75FF75;
height: 30px;
width: 100%;
}
header .local{float: left;}
header img{height: 30px;
float: left;
margin-left: 5px;
}
header span{float: left;
font-family: 'Roboto', sans-serif;
font-weight: 900;
font-style: italic;
font-size: 12px;
color: #333;
text-shadow: 0px 0px 1px #ccc;
margin: 7px 0 0 5px;
}
header .info{float: right;
background: white;
height: 24px;
margin: 3px 10px 3px 0;
}
header .info .user_ico{width: 20px; height: 19px; float: left; margin-top: 2px;}
header .info .userName{color: #088508; font-style: normal; font-weight: 300;}
header .info .info_btn{width: 12px; height: 11px; float: right; margin-top: 8px;         margin-right: 5px;}
.content{width: 1100px;
float: left;
position: relative;
left: 9.7%;
}
.content .upload_file{font-style: italic;
font-weight: 500;
font-size: 15px;
text-decoration: none;
text-shadow: 0 0 1px #333;
background: #006600;
color: white;
padding: 10px 20px;
margin: 5px;
float: right;
display: block;
}
.content .upload_file:hover{background: #37FF37; color: #006600; text-shadow: none;}
.content .upload_off{background: #bdc3c7;
color: rgba(255, 255, 255, 0.75);
text-shadow: none;
font-style: italic;
font-weight: 500;
font-size: 15px;
text-decoration: none;
padding: 10px 20px;
margin: 5px;
float: right;
display: block;
cursor: default;
}
.content .filtro{float: left;
background: #00CC00;
font-style: italic;
font-size: 15px;
color: white;
padding: 15px;
margin: 53px 0 0 0;
}
.content .filtro span{display: block;}
.content .filtro .btn_busca{background: #006600;
color: white;
float: left;
border: none;
width: 98%;
border: 2px solid #006600;
}
.content .filtro .btn_busca:hover{background: #009500; color: white; border: 2px solid #009500;}
input, select{font-size: 15px; padding: 2px; margin: 5px;}
label{display: block;
}
strong{font-weight: normal;
font-size: 14px;
}
/*Formatando tabela*/
th{font-weight: normal;}
table{float: right; width: 820px; margin: 2px 0 0 0; cursor: default;}
table tbody{color: #333;}
table tbody tr td{padding: 3px;}
table tbody tr:hover{background: #37FF37}
/*Paginador*/
.paginador{float: right; margin: 10px 0 0 700px;}
.paginador a{font-size: 13px; text-decoration: none; border: 1px solid #006600; color: #006600; padding: 3px;}
.paginador a:hover{background: #006600; color: white;}
.paginador .separator{margin: 0 5px;}
/*Rodapé*/
footer{height: 50px;
width: 99.99%;
background: #006600;
float: left;
margin: 20px 0 0 0;
position: absolute;
bottom: 0;
}
footer p, .footerPrincipal p{font-size: 13px;
color: #fff;
text-align: center;
font-weight: lighter;
text-shadow: 1px 1px 5px #333;
padding-top: 16px;
}
.footerPrincipal{height: 50px;
width: 99.99%;
background: #006600;
float: left;
margin: 20px 0 0 0;
}
/*Campos do filtro na tela principal*/
.idProcesso{width: 60px;
text-align: center;
}
.cliente{width: 190px;}
.data{width: 80px; text-align: center;}
/*Pagina Envia*/
.form_edita{background: #EDEFF1;
float: left;
padding: 30px 100px;
position: absolute;
top: 10%;
/*left: 20.8%;*/
left: 30%;
}
.form_envia{background: #EDEFF1;
padding: 30px 100px;
position: absolute;
top: 10%;
left: 20.8%;
}
input, select{border: 2px solid #bdc3c7;
border-radius: 5px;
font-size: 15px;
padding: 8px 12px;
color: #006600
}
input:focus{border: 2px solid #1abc9c;}
.btn_envia{display: block;
background: #006600;
border: none;
width: 100%;
color: white;
text-shadow: 0 0 1px #333;
}
.btn_envia:hover{background: #00A400;}
Não to conseguindo ver onde está o que está ocasionando isto.
9131,java|android,Surgiu uma necessidade de criar um menu com submenu na action bar, igual a este:
Poderiam me ajudar?
Meu XML menu:
<menu xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:apk="http://schemas.android.com/apk/res-auto">
<item android:id="@+id/menu_atualizar"
android:title="@string/menu_atualizar"
apk:showAsAction="ifRoom"
/>
</menu>
Meu código:
@Override
public boolean onCreateOptionsMenu(Menu menu) {
getMenuInflater().inflate(R.menu.activity_main, menu);
return super.onCreateOptionsMenu(menu);
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
switch (item.getItemId()) {
case R.id.menu_atualizar:
//código aqui...
default:
return super.onOptionsItemSelected(item);
}
}
9178,php|android,Possuo uma aplicação Android, estou tentando realizar um download de um .apk e posteriormente abri-lo ao finalizar o download, segue o código utilizado:
/**
* baixando arquivo na background thread
* */
@Override
protected String doInBackground(String... f_url) {
int count;
String caminhoAtt = "/sdcard/download/bee/bee.apk";
try {
URL url = new URL(f_url[0]); //f_url[0] é o endereço do arquivo(testado ta certinho)
URLConnection conection = url.openConnection();
conection.connect();
// Pegando tamanho do arquivo
int lenghtOfFile = conection.getContentLength(); //aqui retorna -1 não sei porque
// input stream para ler arquivo - com 8k buffer
InputStream input = new BufferedInputStream(url.openStream(), 8192);
// deletar o arquivo ja existente
File file = new File(caminhoAtt);
file.delete();
// Output stream para jogar o arquivo no sdcard
OutputStream output = new FileOutputStream(caminhoAtt); //aqui ocorre o erro
byte data[] = new byte[1024];
long total = 0;
while ((count = input.read(data)) != -1) {
total += count;
// mostrando o progresso....
// depois disso o onProgressUpdate vai ser chamado
publishProgress(""+(int)((total*100)/lenghtOfFile));
// escrevendo os dados para o arquivo
output.write(data, 0, count);
}
// dando flush no output
output.flush();
// fechando as streams
output.close();
input.close();
} catch (Exception e) {
util xutil = new util();
String cMsg = "*** MENSAGEM DE ERRO *** "+ e.getMessage();
xutil.showmessage(MainActivity.this,"O Download falhou.",cMsg.toString() );
xutil.SaveErrMensagem( cMsg );
}
return null;
}
Essa é outra parte do código que ainda não testei pois não passa da parte de cima:
/**
* Atualizando barra de progresso
* */
protected void onProgressUpdate(String... progress) {
// colocando a porcentagem do progresso
pDialog.setProgress(Integer.parseInt(progress[0]));
}
/**
* Depois de completar a tarefa de fundo
* fecha o processDialog
* **/
@Override
protected void onPostExecute(String url) {
//             fecha o dialog depois que o arquivo foi baixado
dismissDialog(progress_bar_type); //está deprecated porem não sei outro comando
String filePath = Environment.getExternalStorageDirectory().toString() + "/download/bee/bee.apk"; //caminho desejado para o arquivo baixado.
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.fromFile(new File(filePath)), "application/vnd.android.package-archive");
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
startActivity(intent); //abrindo o arquivo .apk baixado
}
}
Ao executar o comando:
OutputStream output = new FileOutputStream(caminhoAtt); //aqui ocorre o erro
Acontece o seguinte erro:
/sdcard/download/bee/bee.apk: open failed: ENOENT (No such file or directory)
Porém acredito que o problema é no download do arquivo pois o length dele retorna -1 como você vê no código comentado lá emcima.
Gostaria de saber como fazer para o servidor não retornar -1 como content-length nos headers
O que estou fazendo errado?
9197,javascript|html,Imagine que eu tenha uma popup que é centralizada com transform:translateX(-50%) translateY(-50%) (se você tiver dúvida sobre essa solução, pode ver mais sobre ela aqui, adaptada destas respostas).
Até ai tudo bem, o elemento é centralizado corretamente, mas digamos que por algum motivo eu precise descobrir a posição exata dele no document do navegador (para implementar um drag'n-drop por exemplo). Eu tentei as propriedades offsetTop e offsetLeft mas elas retornam a posição do elemento sem os transforms, ou seja, é uma posição "fake".
Minha pergunta é, existe alguma propriedade que retorne os valores reais de um elemento que seja posicionado usando translate?
Segue um exemplo para melhor entendimento: FIDDLE.
9209,jquery|html,Existe alguma solução para exibir a página web sempre em portrait(retrato) em dispositivos móveis, mesmo se o usuário girar para o modo landscape(paisagem)? Ou seja, deixar travado sempre em portrait.
9223,c#|html,Como implementar o upload de múltiplos arquivos com o uploadf? Acho muito interessante usar as barras de upload etc.
está dando este erro:
Este é meu controller:
Podem notar que tem muitas mensagens de erro também.
Código da View:
<script type="text/javascript">
$(function () {
$('#file_upload').uploadify({
'swf': "@Url.Content("~/Content/UploadifyContent/uploadify.swf")",
'cancelImg': "@Url.Content("~/Content/UploadifyContent/uploadify-cancel.png")",
'uploader': "@Url.Action("Upload", "Photo")",
'buttonText': 'SELECIONAR',
'onUploadSuccess': function (file, data, response) {
$("#uploaded").append("<img src='" + data + "' alt='Uploaded Image' />");
}
});
});
</script>
9268,html,Existe alguma forma de simular uma tela com maior resolução para verificar como um site se comporta? Atualmente utilizo 1440x900 e preciso testar a interface em resoluções maiores.
9277,php|html,Temos três páginas PHP com formulário html.
Na primeira pagina temos os campos mostrando os valores das variáveis e os campos hidden contendo os valores das variáveis assim:
<input name="nome" type="hidden" value=".$nome." >
Da primeira página para a segunda, todos os valores são passados corretamente via $_POST['nome'] dessa forma, pois chequei com echo var_dump($nome).
Da segunda pagina para a terceira que é o processamento do formulário preenchido cujos valores dos campos hidden vão para o banco de dados, os valores dessas variáveis se perdem.
O var_dump() mostra que as variáveis ficaram nulas (NULL) e também recebo a mensagem:
Indefined index [...]
Nota-se que as variáveis que só existem na segunda página são inseridas no banco normalmente.
Se eu passar diretamente sem campo hidden, vai pro banco de dados o valor .$nome.
O que eu poderia estar fazendo de errado? De que outra forma poderia avançar com essas variáveis até a terceira pagina?
9291,java|android,Como nesse trecho:
@Override
public void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.addcontact);
imageButton01 = (ImageButton) findViewById(R.id.imageButton1);
imageButton01.setOnClickListener(this);
@Override
public void onClick(View view) {
if (view == imageButton01) {
Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);
startActivityForResult(intent, TAKE_PHOTO);
}
}
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
if (requestCode == TAKE_PHOTO) {
if (resultCode == RESULT_OK) {
Bitmap bitmap = (Bitmap) data.getExtras().get("data");
imageButton01.setImageBitmap(bitmap);
}
else if (resultCode == RESULT_CANCELED) {
Toast.makeText(this, "Canceled", Toast.LENGTH_SHORT);
} else {
Toast.makeText(this, "Left", Toast.LENGTH_SHORT);
}
}
}
}
Existe alguma maneira de utilizar o mesmo esquema de tirar fotos através dos imageButton, utilizando dois layouts, com a mesma Activity?
Infelizmente, a sintaxe "setContentView();" autoriza apenas uma por vez.
PS.: Estou utilizando o Eclipse do ADT Bundle para desenvolvimento em Android.
EDIT.: Seguem abaixo os dois .xml relativos às telas:
Adicionar contato:
<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent" >
<EditText
android:id="@+id/addFirstName"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_marginLeft="103dip"
android:inputType="text"
android:hint="First name" >
</EditText>
<EditText
android:id="@+id/addLastName"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/addFirstName"
android:layout_marginLeft="103dip"
android:inputType="text"
android:hint="Last name"
android:width="190dip" >
</EditText>
<EditText
android:id="@+id/addPhone"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/addLastName"
android:layout_marginLeft="103dip"
android:layout_toRightOf="@+id/txtAux5"
android:inputType="text"
android:hint="Phone number"
android:width="190dip" >
</EditText>
<LinearLayout
android:id="@+id/linearLayout1"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/addPhone"
android:gravity="center_vertical" >
<Button
android:id="@+id/btnSave"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentLeft="true"
android:layout_weight="1.0"
android:onClick="btnSave_click"
android:text="Save">
</Button>
<Button
android:id="@+id/btnCancel"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentRight="true"
android:layout_below="@+id/addPhone"
android:layout_weight="1.0"
android:text="Cancel" >
</Button>
</LinearLayout>
<ImageButton
android:id="@+id/imageButton1"
android:layout_width="103dip"
android:layout_height="103dip"
android:layout_above="@+id/linearLayout1"
android:layout_alignParentLeft="true"
android:layout_alignTop="@+id/addFirstName"
android:src="@drawable/avatar" />
</RelativeLayout>
Editar contato:
<EditText
android:id="@+id/edtFirstName"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_marginLeft="103dip"
android:inputType="text"
android:hint="First name" >
</EditText>
<EditText
android:id="@+id/edtLastName"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/edtFirstName"
android:layout_marginLeft="103dip"
android:inputType="text"
android:hint="Last name"
android:width="190dip" >
</EditText>
<EditText
android:id="@+id/edtPhone"
android:layout_width="match_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/edtLastName"
android:layout_marginLeft="103dip"
android:layout_toRightOf="@+id/txtAux5"
android:inputType="text"
android:hint="Phone number"
android:width="190dip" >
</EditText>
<LinearLayout
android:id="@+id/linearLayout1"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_below="@+id/edtPhone"
android:gravity="center_vertical" >
<Button
android:id="@+id/btnConfirm"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentLeft="true"
android:layout_weight="1.0"
android:onClick="btnConfirm_click"
android:text="Confirm">
</Button>
<Button
android:src="@drawable/delete"
android:id="@+id/btnDelete"
android:text=" Delete "
android:layout_width="wrap_content"
android:layout_height="wrap_content" >
</Button>
<Button
android:id="@+id/btnCancel"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignParentRight="true"
android:layout_below="@+id/edtPhone"
android:layout_weight="1.0"
android:text="Cancel" >
</Button>
</LinearLayout>
<ImageButton
android:id="@+id/imageButton2"
android:layout_width="103dip"
android:layout_height="103dip"
android:layout_above="@+id/linearLayout1"
android:layout_alignParentLeft="true"
android:layout_alignTop="@+id/edtFirstName"
android:src="@drawable/avatar" />
9395,html,Eu customizei um website, mas por algum motivo, a primeira vez que a pessoa acessa o site, o menu desaparece até que alguém clique em algo. Não consigo descobrir o por que disso.
Descobri que todo o texto da página fica invisível. Nao importa qual página seja carregada primeiro. As imagens ficam no lugar certo, o texto está lá, mas a cor parece ser igual a do fundo. (Apertar Shift+F5 aqui)
Se apertar Inspect Element, ou redimensionar a página, volta ao normal.
Alguma luz?
9457,java|android,Preciso converter um arquivo .crt em byte para poder mandar por socket. Esse código funciona em Java, mas como eu escreveria ele no Android?
Path path = Paths.get("sdcard/certificado.crt");
byte[] certificado = Files.readAllBytes(path);
9476,php|html,Não entendo quase nada de PHP. Certa vez um amigo me enviou um código que me permitia separar minha página em várias partes e depois pegar essas partes novamente para o caso de eu alterar algo nos scripts e folhas de estilo, então eu não preciso ir em página por página para alterar isso novamente, trata-se do include_once do PHP.
Enfim, lembro que alguma vez eu li um artigo que falava que é uma boa prática adicionar um title descritivo para cada página de nosso site, por exemplo "Meu site - Tutorial Photoshop".
Partindo dessas duas informações, eu me deparei com um problema. Separei meu site em duas partesm o header e o footer, e apenas altero o main com as informações que eu desejar:
<?php
include_once "./includes/header.php";
<!-- AQUI VAI MEU CONTEÚDO -->
include_once "./includes/footer.php";
?>
Só que o <title> da página fica no header (que é padrão de todas as páginas), e acaba sendo único para o site todo. Pensando aqui em casa eu encontrei uma solução, que é usar o JavaScript para modificar o title. Eu tenho uma prática que é sempre colocar uma H1 com o assunto principal do site antes de começar o conteúdo, por exemplo <h1>Contato</h1>. A questão é, isso influencia em algo no site? Seja no SEO ou qualquer outra coisa? Existe alguma maneira melhor de faze-lo?
Este é o código que uso para mudar o título:
var title = $('main').first('h1').text();
$('title').text('Meu site -' + title);
9522,java|android,03-17 08:31:32.283: E/ArrayAdapter(1085): You must supply a resource ID for a TextView
03-17 08:31:32.283: D/AndroidRuntime(1085): Shutting down VM
03-17 08:31:32.283: W/dalvikvm(1085): threadid=1: thread exiting with uncaught exception (group=0xb4a39b90)
03-17 08:31:32.343: E/AndroidRuntime(1085): FATAL EXCEPTION: main
03-17 08:31:32.343: E/AndroidRuntime(1085): Process: br.com.contactsmanager, PID: 1085
03-17 08:31:32.343: E/AndroidRuntime(1085): java.lang.IllegalStateException: ArrayAdapter requires the resource ID to be a TextView
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:386)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.ArrayAdapter.getView(ArrayAdapter.java:362)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.AbsListView.obtainView(AbsListView.java:2263)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.ListView.measureHeightOfChildren(ListView.java:1263)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.ListView.onMeasure(ListView.java:1175)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.View.measure(View.java:16458)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5125)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1404)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.LinearLayout.measureVertical(LinearLayout.java:695)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:588)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.View.measure(View.java:16458)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5125)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.View.measure(View.java:16458)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5125)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at com.android.internal.widget.ActionBarOverlayLayout.onMeasure(ActionBarOverlayLayout.java:327)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.View.measure(View.java:16458)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5125)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2289)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.View.measure(View.java:16458)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1914)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1111)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1293)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:998)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5582)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.Choreographer.doCallbacks(Choreographer.java:562)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.Choreographer.doFrame(Choreographer.java:532)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.os.Handler.handleCallback(Handler.java:733)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.os.Handler.dispatchMessage(Handler.java:95)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.os.Looper.loop(Looper.java:137)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.app.ActivityThread.main(ActivityThread.java:4998)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at java.lang.reflect.Method.invokeNative(Native Method)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at java.lang.reflect.Method.invoke(Method.java:515)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
03-17 08:31:32.343: E/AndroidRuntime(1085):     at dalvik.system.NativeStart.main(Native Method)
03-17 08:31:32.343: E/AndroidRuntime(1085): Caused by: java.lang.ClassCastException: android.widget.LinearLayout cannot be cast to android.widget.TextView
03-17 08:31:32.343: E/AndroidRuntime(1085):     at android.widget.ArrayAdapter.createViewFromResource(ArrayAdapter.java:379)
03-17 08:31:32.343: E/AndroidRuntime(1085):     ... 38 more
Seguem acima os erros que surgem no LogCat ao iniciar a aplicação no emulador. A mensagem de erro exibida na tela é "Unfortunately, Contacts Manager has stopped."
Acredito que o erro esteja nesse trecho:
public View getView(int position, View convertView, ViewGroup parent)
{
// Recupera a pessoa da posição atual
Contact p = list.get(position);
LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View view = inflater.inflate(R.layout.contact_table, null);
// Atualiza o valor do TextView
TextView firstname = (TextView) view.findViewById(R.id.showname);
firstname.setText(p.firstname);
return view;
}
De qualquer maneira, seguem em anexo os códigos que contém adapters, manifest e o xml referente ao TextView com erro:
ContactListAdapter.java
package br.com.contactsmanager;
import java.util.List;
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.BaseAdapter;
import android.widget.TextView;
public class ContactListAdapter extends BaseAdapter
{
private Context context;
private List<Contact> list;
public ContactListAdapter(Context context, List<Contact> list)
{
this.context = context;
this.list = list;
}
public int getCount()
{
return list.size();
}
public Object getItem(int position)
{
return list.get(position);
}
public long getItemId(int position)
{
return position;
}
public View getView(int position, View convertView, ViewGroup parent)
{
// Recupera a pessoa da posição atual
Contact p = list.get(position);
LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
View view = inflater.inflate(R.layout.contact_table, null);
// Atualiza o valor do TextView
TextView firstname = (TextView) view.findViewById(R.id.showname);
firstname.setText(p.firstname);
return view;
}
}
UserItemAdapter.java
package br.com.contactsmanager;
import java.util.ArrayList;
import android.content.Context;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.TextView;
public class UserItemAdapter extends ArrayAdapter<UserRecord>
{
private ArrayList<UserRecord> users;
public UserItemAdapter(Context context, int textViewResourceId, ArrayList<UserRecord> users)
{
super(context, textViewResourceId, users);
this.users = users;
}
@Override
public View getView(int position, View convertView, ViewGroup parent)
{
View v = convertView;
if (v == null) {
LayoutInflater vi = (LayoutInflater) this.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);
v = vi.inflate(R.layout.contact_table, null);
}
UserRecord user = users.get(position);
if (user != null) {
TextView firstname = (TextView) v.findViewById(R.id.showname);
//TextView lastname = (TextView) v.findViewById(R.id.showlastname);
if (firstname != null)
{
firstname.setText(user.firstname);
}
/*if(lastname != null)
{
lastname.setText("Sobrenome: " + user.lastname );
}*/
}
return v;
}
}
AndroidManifest.xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
package="br.com.contactsmanager"
android:versionCode="1"
android:versionName="1.0" >
<uses-permission android:name="android.permission.READ_CONTACTS">
</uses-permission>
<uses-sdk
android:minSdkVersion="8"
android:targetSdkVersion="19" />
<application
android:icon="@drawable/ic_launcher"
android:label="@string/app_name"
android:theme="@style/AppHolo"
android:allowBackup="true" >
<activity
android:name="br.com.contactsmanager.ReadContacts"
class=".ReadContacts" >
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
<intent-filter>
<action android:name="android.intent.action.VIEW" />
<action android:name="android.intent.action.EDIT" />
<action android:name="android.intent.action.GET_CONTENT" />
<category android:name="android.intent.category.DEFAULT" />
</intent-filter>
</activity>
<activity android:name="br.com.contactsmanager.AndroidCamera"
class=".AndroidCamera" >
<intent-filter>
<action android:name="android.intent.action.GET_CONTENT" />
<category android:name="android.intent.category.ALTERNATIVE" />
</intent-filter>
</activity>
<activity android:name=".contactsmanager.contactregister" ></activity>
<activity android:name="EditContact"></activity>
<activity android:name="SearchContact"></activity>
</application>
</manifest>
contact_table.xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_height="wrap_content"
android:gravity="left|center"
android:layout_width="wrap_content"
android:paddingBottom="5px"
android:paddingTop="5px"
android:paddingLeft="5px">
<ImageView
android:id="@+id/avatar"
android:layout_width="wrap_content"
android:layout_height="fill_parent"
android:layout_marginRight="6dip"
android:src="@drawable/avatar" >
</ImageView>
<TextView
android:id="@+id/showname"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:gravity="center">
</TextView>
</LinearLayout>
Para deixar claro, a ideia do projeto é uma agenda de contatos sincronizada com a do Android. O trecho em que o erro surgiu, é referente à atualização do nome e sobrenome do contato em uma ListView.
Em seguida implementarei a atualização da foto também. Caso alguém já saiba como fazer isso, ou se existe algum tópico com uma solução, eu agradeceria.
EDIT.:
Segue o código do UserRecord (de onde vem o UserItemAdapter):
package br.com.contactsmanager;
public class UserRecord
{
public String firstname;
public UserRecord(String firstname)
{
this.firstname = firstname;
}
}
9535,android,Preciso converter um Bitmap ou até mesmo um Drawable em um Drawable (int), pois estou utilizando um Bootstrap para android que necessita de um objeto desse tipo, mas como estou baixando a imagem de uma url e não pegando ela internamente, não estou conseguindo.
Segue o trecho:
Bitmap bitIcon = BitmapFactory.decodeStream(url.openConnection().getInputStream());
Drawable drawable = new BitmapDrawable(getResources(), bitIcon);
imgPerfil.setImage();
Na terceira linha ele pede um inteiro, mas eu só tenho o Objeto Drawable e não o seu id. Queria saber como buscar este inteiro.
9574,android,Estou desenvolvendo uma aplicação para o Android que envia comandos para um equipamento remoto através de SMS. Os comandos utilizados são todos mensagens de texto comuns, e alguns deles são iniciados com o prefixo A@@. Para testar o aplicativo enviei alguns "comandos" para um telefone Android 4.3 e para um Android 2.3.
Quando rodo o aplicativo no Android 4.3, o SMS é recebido normalmente em qualquer dispositivo, mas se eu uso o aplicativo para mandar comandos a partir de um Android 2.3 os comandos são recebidos como A¿¿ pelo telefone Android 4.3 mas chegam normalmente como  A@@ tanto em um Android 2.3 quanto num iPhone. No equipamento "alvo", que utiliza um modem GSM, a mensagem chega como A (caractere "A" mais 2 espaços - símbolo ASCII 0x20), então suspeito que o envio está sendo feito usando um encoding diferente. O estranho é que o símbolo @ nem é um caractere ASCII estendido, então fico imaginando porque teria sido codificado em outro charset que não o ASCII.
Alguém pode explicar o que esta acontecendo? Se o dispositivo Android 2.3 está realmente usando outro encoding, há alguma maneira de forçá-lo para ASCII antes de enviar o SMS?
A função que envia os comandos é a seguinte:
@Override
public void sendCommand(String command) {
SmsManager sms=SmsManager.getDefault();
PendingIntent piSent=PendingIntent.getBroadcast(this, 0,
new Intent("SMS_SENT"), 0);
PendingIntent piDelivered=PendingIntent.getBroadcast(this, 0,
new Intent("SMS_DELIVERED"), 0);
String phone = txtPhone.getText().toString();
sms.sendTextMessage(phone, null, command, piSent, piDelivered);
}
Onde o parâmetro command é sempre a concatenação do prefixo com algum outro texto, assim:
String SmsPrefix = new String("A@@");
sendCommand(SmsPrefix + "AT+DEACT");
9731,android,Estou fazendo a aplicação abaixo, do curso do Neri, porém quando implemento o código referente ao botão a aplicação fecha sozinha com erro
unfortunately MyApplication has stopped
Se comentar o código do botão, a aplicação roda. Segue o código:
MainActivity
package br.com.calculadora;
import android.support.v7.app.ActionBarActivity;
import android.support.v7.app.ActionBar;
import android.support.v4.app.Fragment;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.os.Build;
import android.widget.*;
public class MainActivity extends ActionBarActivity {
EditText etNum1, etNum2, etResultado;
double num1, num2, resultado;
Button btSomar;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
if (savedInstanceState == null) {
getSupportFragmentManager().beginTransaction()
.add(R.id.container, new PlaceholderFragment())
.commit();
}
etNum1 = (EditText) findViewById(R.id.calculo_numero1);
etNum2 = (EditText) findViewById(R.id.calculo_numero2);
etResultado = (EditText) findViewById(R.id.calculo_resultado);
btSomar = (Button) findViewById(R.id.botao_soma);
btSomar.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
num1 = Double.parseDouble(etNum1.getText().toString());
num2 = Double.parseDouble(etNum2.getText().toString());
resultado = num1 + num2;
etResultado.setText(String.valueOf(resultado));
}
});
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.main, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
// Handle action bar item clicks here. The action bar will
// automatically handle clicks on the Home/Up button, so long
// as you specify a parent activity in AndroidManifest.xml.
int id = item.getItemId();
if (id == R.id.action_settings) {
return true;
}
return super.onOptionsItemSelected(item);
}
/**
* A placeholder fragment containing a simple view.
*/
public static class PlaceholderFragment extends Fragment {
public PlaceholderFragment() {
}
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
Bundle savedInstanceState) {
View rootView = inflater.inflate(R.layout.fragment_main, container, false);
return rootView;
}
}
}
fragment_main:
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:paddingBottom="@dimen/activity_vertical_margin"
android:paddingLeft="@dimen/activity_horizontal_margin"
android:paddingRight="@dimen/activity_horizontal_margin"
android:paddingTop="@dimen/activity_vertical_margin"
tools:context="br.com.calculadora.MainActivity$PlaceholderFragment" >
<TextView
android:id="@+id/textView1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:text="@string/titulo" />
<TextView
android:id="@+id/textView3"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_alignLeft="@+id/textView1"
android:layout_below="@+id/textView1"
android:layout_marginTop="18dp"
android:text="@string/text1" />
<EditText
android:id="@+id/calculo_numero1"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignLeft="@+id/textView3"
android:layout_below="@+id/textView3"
android:ems="10"
android:inputType="number" />
<TextView
android:id="@+id/textView2"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignRight="@+id/textView1"
android:layout_below="@+id/calculo_numero1"
android:text="@string/text2" />
<EditText
android:id="@+id/calculo_numero2"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignLeft="@+id/calculo_numero1"
android:layout_below="@+id/textView2"
android:ems="10"
android:inputType="number" />
<TextView
android:id="@+id/textView4"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignLeft="@+id/botao_soma"
android:layout_centerVertical="true"
android:text="@string/resultado" />
<EditText
android:id="@+id/calculo_resultado"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignLeft="@+id/calculo_numero2"
android:layout_below="@+id/textView4"
android:ems="10"
android:inputType="number" />
<Button
android:id="@+id/botao_soma"
android:layout_width="fill_parent"
android:layout_height="wrap_content"
android:layout_alignLeft="@+id/calculo_numero2"
android:layout_below="@+id/calculo_numero2"
android:text="@string/button1" />
</RelativeLayout>
log do erro no LogCat:
03-18 16:18:54.339: D/AndroidRuntime(1879): Shutting down VM
03-18 16:18:54.339: W/dalvikvm(1879): threadid=1: thread exiting with uncaught exception    (group=0xb3a75ba8)
03-18 16:18:54.389: E/AndroidRuntime(1879): FATAL EXCEPTION: main
03-18 16:18:54.389: E/AndroidRuntime(1879): Process: br.com.calculadora, PID: 1879
03-18 16:18:54.389: E/AndroidRuntime(1879): java.lang.RuntimeException: Unable to start   activity ComponentInfo{br.com.calculadora/br.com.calculadora.MainActivity}: java.lang.NullPointerException
03-18 16:18:54.389: E/AndroidRuntime(1879):     at    android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2195)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.ActivityThread.access$800(ActivityThread.java:135)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.os.Handler.dispatchMessage(Handler.java:102)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.os.Looper.loop(Looper.java:136)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.ActivityThread.main(ActivityThread.java:5017)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at java.lang.reflect.Method.invokeNative(Native Method)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at java.lang.reflect.Method.invoke(Method.java:515)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at dalvik.system.NativeStart.main(Native Method)
03-18 16:18:54.389: E/AndroidRuntime(1879): Caused by: java.lang.NullPointerException
03-18 16:18:54.389: E/AndroidRuntime(1879):     at br.com.calculadora.MainActivity.onCreate(MainActivity.java:39)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.Activity.performCreate(Activity.java:5231)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
03-18 16:18:54.389: E/AndroidRuntime(1879):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)
03-18 16:18:54.389: E/AndroidRuntime(1879):     ... 11 more
03-18 16:23:54.839: I/Process(1879): Sending signal. PID: 1879 SIG: 9
Após as alterações sugeridas pelo @ExceptionAI, o código ficou:
MainActivity:
package br.com.calculadora;
import android.support.v7.app.ActionBarActivity;
import android.support.v7.app.ActionBar;
import android.support.v4.app.Fragment;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.os.Build;
import android.widget.*;
public class MainActivity extends ActionBarActivity {
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
if (savedInstanceState == null) {
getSupportFragmentManager().beginTransaction()
.add(R.id.container, new PlaceholderFragment())
.commit();
}
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.main, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
// Handle action bar item clicks here. The action bar will
// automatically handle clicks on the Home/Up button, so long
// as you specify a parent activity in AndroidManifest.xml.
int id = item.getItemId();
if (id == R.id.action_settings) {
return true;
}
return super.onOptionsItemSelected(item);
}
/**
* A placeholder fragment containing a simple view.
*/
public static class PlaceholderFragment extends Fragment {
EditText etNum1, etNum2, etResultado;
double num1, num2, resultado;
Button btSomar;
public PlaceholderFragment() {
}
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
Bundle savedInstanceState) {
View rootView = inflater.inflate(R.layout.fragment_main, container, false);
etNum1 = (EditText) rootView.findViewById(R.id.calculo_numero1);
etNum2 = (EditText) rootView.findViewById(R.id.calculo_numero2);
etResultado = (EditText) rootView.findViewById(R.id.calculo_resultado);
btSomar = (Button) rootView.findViewById(R.id.botao_soma);
btSomar.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
num1 = Double.parseDouble(etNum1.getText().toString());
num2 = Double.parseDouble(etNum2.getText().toString());
resultado = num1 + num2;
etResultado.setText(String.valueOf(resultado));
}
});
return rootView;
}
}
}
Segue tb o activity_main.xml:
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:id="@+id/container"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context="br.com.calculadora.MainActivity"
tools:ignore="MergeRootFrame" />
9777,java|android,Estou desenvolvendo um aplicativo para Android que envia um pedido via SMS para um equipamento remoto e recebe de volta uma resposta, também via SMS, a qual deve ser apresentada para o usuário.
Para receber o SMS utilizei o seguinte código, que implementa SmsReceiver a partir de um BroadcastReceiver, apresentando o conteúdo da mensagem recebida por meio de um Toast:
public class SmsReceiver extends BroadcastReceiver {
@Override
public void onReceive(Context context, Intent intent) {
//---get the SMS message passed in---
Bundle bundle = intent.getExtras();
SmsMessage[] msgs = null;
String str = "";
if (bundle != null)
{
//---retrieve the SMS message received---
Object[] pdus = (Object[]) bundle.get("pdus");
msgs = new SmsMessage[pdus.length];
for (int i=0; i<msgs.length; i++){
msgs[i] = SmsMessage.createFromPdu((byte[])pdus[i]);
str += "SMS from " + msgs[i].getOriginatingAddress();
str += " :";
str += msgs[i].getMessageBody().toString();
str += "\n";
}
Toast.makeText(context, str, Toast.LENGTH_LONG).show();
}
}
}
Como o Toast é uma mensagem temporária e some automaticamente, fica difícil para o usuário ler o conteúdo com calma, então pensei em apresentá-lo por meio de um diálogo com um botão OK. Dessa forma, pensei em utilizar um DialogFragment, mas, de acordo com várias respostas no Stack Overflow (em inglês) como:
https://stackoverflow.com/questions/3835160/how-can-i-display-a-dialog-from-an-android-broadcast-receiver
https://stackoverflow.com/questions/7229951/how-to-raise-an-alert-dialog-from-broadcastreceiver-class
https://stackoverflow.com/questions/9667790/showing-an-alertdialog-from-receiver
e outras - ficou claro que este diálogo não pode ser diretamente instanciado a partir de um BroadcastReceiver (classe base utilizada para receber o SMS) mas sim a partir de uma Activity. Porém, esta resposta (também em inglês), explica que, se você registrar seu BroadcastReceiver na atividade através do método registerReceiver ao invés de tê-lo declarado no Manifest - que é o que está feito atualmente em minha aplicação - eu poderia simplesmente usar esta mesma atividade para apresentar meu diálogo.
Como sou meio novato ainda no Java, como faço isso? Devo instanciar minha classe SmsReceiver como uma classe privada da minha Activity e então chamar o registerReceiver pra ela?
9859,android,Estou utilizando a api v2 do mapas do Android.
Tenho na minha Activity a seguinte declaração
<fragment
android:id="@+id/map"
android:name="com.google.android.gms.maps.MapFragment"
android:layout_width="match_parent"
android:layout_height="0dp" android:layout_weight="1"/>
E o seguinte código para recuperar a Mapa:
GoogleMap mMap = ((MapFragment) getSupportFragmentManager().findFragmentById(
R.id.map)).getMap();
Esta código apresenta o seguinte erro:
Error:(150, 79) java: inconvertible types
required: com.google.android.gms.maps.MapFragment
found:    android.support.v4.app.Fragment
Como faço para utilizar a versão 2 dos mapas do android quando estou usando a API de compatibilidade?
9864,android,Tenho uma Activity do Android com apenas uma webview dentro.
Por exemplo:
<WebView
android:id="@+id/webview"
android:layout_width="fill_parent"
android:layout_height="fill_parent"/>
</FrameLayout>
Como eu faço o webview voltar para tela anterior quando eu clicar no botão fisico de voltar do telefone?
9918,java|android,03-20 10:35:20.250: I/Process(897): Sending signal. PID: 897 SIG: 9
03-20 10:35:25.870: E/SQLiteLog(914): (1) no such column: name
03-20 10:35:25.870: E/data(914): Error while searching contacts: android.database.sqlite.SQLiteException: no such column: name (code 1): , while compiling: SELECT _id, name, lastname, phone FROM contact
03-20 10:35:25.880: D/AndroidRuntime(914): Shutting down VM
03-20 10:35:25.880: W/dalvikvm(914): threadid=1: thread exiting with uncaught exception (group=0xb4aefb90)
03-20 10:35:25.890: E/AndroidRuntime(914): FATAL EXCEPTION: main
03-20 10:35:25.890: E/AndroidRuntime(914): Process: br.com.contactsmanager, PID: 914
03-20 10:35:25.890: E/AndroidRuntime(914): java.lang.RuntimeException: Unable to start activity ComponentInfo{br.com.contactsmanager/br.com.contactsmanager.ContactRegister}: java.lang.NullPointerException
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2176)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2226)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.ActivityThread.access$700(ActivityThread.java:135)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1397)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.os.Handler.dispatchMessage(Handler.java:102)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.os.Looper.loop(Looper.java:137)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.ActivityThread.main(ActivityThread.java:4998)
03-20 10:35:25.890: E/AndroidRuntime(914):  at java.lang.reflect.Method.invokeNative(Native Method)
03-20 10:35:25.890: E/AndroidRuntime(914):  at java.lang.reflect.Method.invoke(Method.java:515)
03-20 10:35:25.890: E/AndroidRuntime(914):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
03-20 10:35:25.890: E/AndroidRuntime(914):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
03-20 10:35:25.890: E/AndroidRuntime(914):  at dalvik.system.NativeStart.main(Native Method)
03-20 10:35:25.890: E/AndroidRuntime(914): Caused by: java.lang.NullPointerException
03-20 10:35:25.890: E/AndroidRuntime(914):  at br.com.contactsmanager.ContactRepository.listContacts(ContactRepository.java:166)
03-20 10:35:25.890: E/AndroidRuntime(914):  at br.com.contactsmanager.ContactRegister.updateList(ContactRegister.java:39)
03-20 10:35:25.890: E/AndroidRuntime(914):  at br.com.contactsmanager.ContactRegister.onCreate(ContactRegister.java:34)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.Activity.performCreate(Activity.java:5243)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
03-20 10:35:25.890: E/AndroidRuntime(914):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2140)
03-20 10:35:25.890: E/AndroidRuntime(914):  ... 11 more
O LogCat está acusando um problema de NullPointerException, porém não consigo identificar. Ao meu ponto de vista, tá certinho. Sei que tem problema nas linhas 34 e 39 do ContactRegister que levam à condição if(moveToFirst()) no ContactRepository, mas não consigo entender qual o erro.
Seguem os códigos do ContactRepository e ContactRegister. Se houver necessidade de postar mais algum, me avisem nos comentários.
O projeto se trata de uma agenda de contatos sincronizada com a do Android, que servirá de base para um aplicativo a ser desenvolvido.
ContactRepository.java
package br.com.contactsmanager;
import java.util.ArrayList;
import java.util.List;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteQueryBuilder;
import android.util.Log;
import br.com.contactsmanager.Contact.Contacts;
public class ContactRepository {
private static final String CATEGORY = "data";
private static final String DB_NAME = "android_data";
public static final String TABLE_NAME = "contact";
protected SQLiteDatabase db;
public ContactRepository(Context ctx)
{
db = ctx.openOrCreateDatabase(DB_NAME, Context.MODE_PRIVATE, null);
}
protected ContactRepository()
{
}
public long save(Contact contact)
{
long id = contact.id1;
if (id != 0) {
update(contact);
}
else
{
id = insert(contact);
}
return id;
}
// Insere uma nova pessoa
public long insert(Contact contact)
{
ContentValues values = new ContentValues();
values.put(Contacts.NAME, contact.name1);
values.put(Contacts.LASTNAME, contact.name2);
values.put(Contacts.PHONE, contact.phone1);
long id = insert(values);
return id;
}
// Insere uma nova pessoa
public long insert(ContentValues values)
{
long id = db.insert(TABLE_NAME, "", values);
return id;
}
// Atualiza a pessoa no banco. O id da pessoa é utilizado.
public int update(Contact contact)
{
ContentValues values = new ContentValues();
values.put(Contacts.NAME, contact.name1);
values.put(Contacts.LASTNAME, contact.name2);
values.put(Contacts.PHONE, contact.phone1);
String _id = String.valueOf(contact.id1);
String where = Contacts._ID + "=?";
String[] whereArgs = new String[] { _id };
int count = update(values, where, whereArgs);
return count;
}
// Atualiza a pessoa com os valores abaixo
// A cláusula where é utilizada para identificar a pessoa a ser atualizado
public int update(ContentValues values, String where, String[] whereArgs)
{
int count = db.update(TABLE_NAME, values, where, whereArgs);
Log.i(CATEGORY, "Updated [" + count + "] registers");
return count;
}
// Deleta a pessoa com o id fornecido
public int delete(long id) {
String where = Contacts._ID + "=?";
String _id = String.valueOf(id);
String[] whereArgs = new String[] { _id };
int count = delete(where, whereArgs);
return count;
}
// Deleta a pessoa com os argumentos fornecidos
public int delete(String where, String[] whereArgs) {
int count = db.delete(TABLE_NAME, where, whereArgs);
Log.i(CATEGORY, "Has deleted [" + count + "] registers");
return count;
}
// Busca a pessoa pelo id
public Contact searchContact(long id)
{
// select * from pessoa where _id=?
Cursor c = db.query(true, TABLE_NAME, Contact.columns, Contacts._ID + "=" + id, null, null, null, null, null);
c.moveToFirst ();
if (c.getCount() > 0) {
// Posiciona no primeiro elemento do cursor
//c.moveToFirst ();
Contact contact = new Contact();
// Lê os dados
contact.id1 = c.getLong(0);
contact.name1 = c.getString(1);
contact.name2 = c.getString(2);
contact.phone1 = c.getInt(3);
return contact;
}
return null;
}
// Retorna um cursor com todas as pessoas
public Cursor getCursor()
{
try {
// select * from pessoas
return db.query(TABLE_NAME, Contact.columns, Contacts.NAME, null, null, null, null, null);
}
catch (SQLException e)
{
Log.e(CATEGORY, "Error while searching contacts: " + e.toString());
e.printStackTrace();
return null;
}
}
// Retorna uma lista com todas as pessoas
public List<Contact> listContacts()
{
Cursor c = getCursor();
List<Contact> contacts = new ArrayList<Contact>();
if ( c.moveToFirst() )
{
// Recupera os índices das colunas
int idxId = c.getColumnIndex(Contacts._ID);
int idxFirstName = c.getColumnIndex(Contacts.NAME);
int idxLastName = c.getColumnIndex(Contacts.LASTNAME);
int idxPhone = c.getColumnIndex(Contacts.PHONE);
// Loop até o final
do
{
Contact contact = new Contact();
contacts.add(contact);
// recupera os atributos da pessoa
contact.id1 = c.getLong(idxId);
contact.name1 = c.getString(idxFirstName);
contact.name2 = c.getString(idxLastName);
contact.phone1 = c.getInt(idxPhone);
}
while ( c.moveToNext() );
}
return contacts;
}
// Busca a pessoa pelo nome "select * from pessoa where nome=?"
public Contact searchContactByName(String name1) {
Contact contact = null;
try {
// Idem a: SELECT _id,nome,cpf,idade from pessoa where nome = ?
Cursor c = db.query(TABLE_NAME, Contact.columns, Contacts.NAME + "='" + name1 + "'", null, null, null, null);
// Se encontrou...
if (c.moveToNext()) {
contact = new Contact();
// utiliza os métodos getLong(), getString(), getInt(), etc para recuperar os valores
contact.id1 = c.getLong(0);
contact.name1 = c.getString(1);
contact.name2 = c.getString(2);
contact.phone1 = c.getInt(3);
}
} catch (SQLException e) {
Log.e(CATEGORY, "Error while searching person by name: " + e.toString());
return null;
}
return contact;
}
// Busca uma pessoa utilizando as configurações definidas no
// SQLiteQueryBuilder
// Utilizado pelo Content Provider de pessoa
public Cursor query(SQLiteQueryBuilder queryBuilder, String[] projection, String selection, String[] selectionArgs,
String groupBy, String having, String orderBy)
{
Cursor c = queryBuilder.query(this.db, projection, selection, selectionArgs, groupBy, having, orderBy);
return c;
}
// Fecha o banco
public void close()
{
// fecha o banco de dados
if (db != null)
{
db.close();
}
}
}
----------------------
ContactRegister.java
package br.com.contactsmanager;
import java.util.List;
import android.app.ListActivity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.ListView;
import br.com.contactsmanager.Contact.Contacts;
public class ContactRegister extends ListActivity {
protected static final int INSERT_EDIT = 1;
protected static final int SEARCH = 2;
public static ContactRepositoryScript repository;
private List<Contact> contacts;
@Override
public void onCreate(Bundle icicle) {
super.onCreate(icicle);
repository = new ContactRepositoryScript(this);
updateList();
}
protected void updateList()
{
contacts = repository.listContacts();
setListAdapter(new ContactListAdapter(this, contacts));
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
super.onCreateOptionsMenu(menu);
menu.add(0, INSERT_EDIT, 0, "Insert new").setIcon(R.drawable.newcontact);
menu.add(0, SEARCH, 0, "Search").setIcon(R.drawable.search);
return true;
}
@Override
public boolean onMenuItemSelected(int featureId, MenuItem item) {
switch (item.getItemId()) {
case INSERT_EDIT:
startActivityForResult(new Intent(this, EditContact.class), INSERT_EDIT);
break;
case SEARCH:
startActivity(new Intent(this, SearchContact.class));
break;
}
return true;
}
@Override
protected void onListItemClick(ListView l, View v, int position, long id) {
super.onListItemClick(l, v, position, id);
editContact(position);
}
protected void editContact(int position)
{
Contact contact = contacts.get(position);
Intent it = new Intent(this, EditContact.class);
it.putExtra(Contacts._ID, contact.id1);
startActivityForResult(it, INSERT_EDIT);
}
@Override
protected void onActivityResult(int code, int returnCode, Intent it) {
super.onActivityResult(code, returnCode, it);
if (returnCode == RESULT_OK)
{
updateList();
}
}
@Override
protected void onDestroy()
{
super.onDestroy();
repository.close();
}
}
9933,android,Tenho uma Activity com o seguinte layout:
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
tools:context=".WebviewActivity"
android:orientation="vertical">
<WebView
android:id="@+id/webview"
android:layout_width="fill_parent"
android:layout_height="fill_parent"/>
</FrameLayout>
Dentro da minha Activity estou abrindo uma determinada url no webview.
Esta url possui algum javascript.
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.webview_activity);
Webview webView = (WebView) findViewById(R.id.webview);
webView.loadUrl("http://paginacomjavascript.com");
}
Por algum motivo o Webview não esta funcionando.
10068,android,Estou buscando a solução de duas formas:
Obter o PATH de arquivo:
Gostaria obter o path de uma imagem que esta em res/drawable em meu projeto Android.
Estou necessitando do path porque tenho que enviar ele em anexo por e-mail, e estou utilizando JavaMail para isso e ele somente aceita um path ou um File, para arquivo em anexo.
Fazer com que o JavaMail consiga aceitar um Bitmap:
Alterar forma de criação do anexo do email, hoje estou fazendo assim:
MimeMultipart content = new MimeMultipart();
MimeBodyPart attachmentPart = new MimeBodyPart();
// aqui teria que setar um bitmap ao inves de um Path ou File;
attachmentPart.attachFile(attachment);
attachmentPart.setContentID("<image>");
attachmentPart.setDisposition(MimeBodyPart.INLINE);
content.addBodyPart(attachmentPart);
Vou tentar explicar um pouco melhor o problema:
Estou necessitando disso para se não achar um logo configurado pelo usuário (em uma pasta especifica e com nome especifico no sdcard) para assinatura de email, então utilizaria um logo padrão de minha aplicação, e esse logo padrão está disponível em meus resources (res/drawable), já que ele é imutável.
Vi a solução que o @ramaral postou, mas apesar de boa, não é uma solução que eu esperava, acredito que deve haver outra forma, pois ter que fazer uma copia da imagem para o sdcard. não me parece "cheirar bem".
Solução Final com auxilia das respostas citadas
Utilizando o ByteArrayDataSource como citado por @Elcio Arthur Cardoso em sua resposta, troquei meu método que inclui o anexo para permitir anexar um arquivo em byte[] assim:
MimeMultipart content = new MimeMultipart();
// ... add message part
// converter bitmap to byte[]
Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.transparent_1x1);
ByteArrayOutputStream stream = new ByteArrayOutputStream();
bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);
byte[] imageBytes = stream.toByteArray();
// criar anexo do email, apartir de um array de byte (byte[])
MimeBodyPart attachmentPart = new MimeBodyPart();
DataHandler handlerAttach = new DataHandler(new ByteArrayDataSource(imageBytes));
attachmentPart.setDataHandler(handlerAttach);
attachmentPart.setFileName("image.png");
attachmentPart.setContentID("<image>");
attachmentPart.setDisposition(MimeBodyPart.INLINE);
content.addBodyPart(attachmentPart);
Essa solução funcionou perfeitamente para o meu caso.
10099,java|android,03-21 07:25:47.740: E/SQLiteLog(796): (1) no such column: name1
03-21 07:25:47.750: E/data(796): Error while searching contacts: android.database.sqlite.SQLiteException: no such column: name1 (code 1): while compiling: SELECT _id, name1, name2, phone1 FROM contact
Seguinte, o Log tá indicando que não encontra a coluna 1, e acusa erro nas linhas que vou apontar logo em seguida. No meu ponto de vista não há nenhum empecilho que impeça o aplicativo de rodar como deveria.
ContactsRegister.java
package br.com.contactsmanager;
import java.util.List;
import android.app.ListActivity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.ListView;
import br.com.contactsmanager.Contact.Contacts;
public class ContactRegister extends ListActivity {
protected static final int INSERT_EDIT = 1;
protected static final int SEARCH = 2;
public static ContactRepositoryScript repository;
private List<Contact> contacts;
@Override
public void onCreate(Bundle icicle) {
super.onCreate(icicle);
repository = new ContactRepositoryScript(this);
updateList();    //ERRO AQUI!
}
protected void updateList() //ERRO AQUI!
{
contacts = repository.listContacts();
setListAdapter(new ContactListAdapter(this, contacts));
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
super.onCreateOptionsMenu(menu);
menu.add(0, INSERT_EDIT, 0, "Insert new").setIcon(R.drawable.newcontact);
menu.add(0, SEARCH, 0, "Search").setIcon(R.drawable.search);
return true;
}
@Override
public boolean onMenuItemSelected(int featureId, MenuItem item) {
switch (item.getItemId()) {
case INSERT_EDIT:
startActivityForResult(new Intent(this, EditContact.class), INSERT_EDIT);
break;
case SEARCH:
startActivity(new Intent(this, SearchContact.class));
break;
}
return true;
}
@Override
protected void onListItemClick(ListView l, View v, int position, long id) {
super.onListItemClick(l, v, position, id);
editContact(position);
}
protected void editContact(int position)
{
Contact contact = contacts.get(position);
Intent it = new Intent(this, EditContact.class);
it.putExtra(Contacts._ID, contact.id1);
startActivityForResult(it, INSERT_EDIT);
}
@Override
protected void onActivityResult(int code, int returnCode, Intent it) {
super.onActivityResult(code, returnCode, it);
if (returnCode == RESULT_OK)
{
updateList();
}
}
@Override
protected void onDestroy()
{
super.onDestroy();
repository.close();
}
}
ContactRepository.java
package br.com.contactsmanager;
import java.util.ArrayList;
import java.util.List;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteQueryBuilder;
import android.util.Log;
import br.com.contactsmanager.Contact.Contacts;
public class ContactRepository {
private static final String CATEGORY = "data";
private static final String DB_NAME = "android_data";
public static final String TABLE_NAME = "contact";
protected SQLiteDatabase db;
public ContactRepository(Context ctx)
{
db = ctx.openOrCreateDatabase(DB_NAME, Context.MODE_PRIVATE, null);
}
protected ContactRepository()
{
}
public long save(Contact contact)
{
long id = contact.id1;
if (id != 0) {
update(contact);
}
else
{
id = insert(contact);
}
return id;
}
// Insere uma nova pessoa
public long insert(Contact contact)
{
ContentValues values = new ContentValues();
values.put(Contacts.NAME, contact.name1);
values.put(Contacts.LASTNAME, contact.name2);
values.put(Contacts.PHONE, contact.phone1);
long id = insert(values);
return id;
}
// Insere uma nova pessoa
public long insert(ContentValues values)
{
long id = db.insert(TABLE_NAME, "", values);
return id;
}
// Atualiza a pessoa no banco. O id da pessoa é utilizado.
public int update(Contact contact)
{
ContentValues values = new ContentValues();
values.put(Contacts.NAME, contact.name1);
values.put(Contacts.LASTNAME, contact.name2);
values.put(Contacts.PHONE, contact.phone1);
String _id = String.valueOf(contact.id1);
String where = Contacts._ID + "=?";
String[] whereArgs = new String[] { _id };
int count = update(values, where, whereArgs);
return count;
}
// Atualiza a pessoa com os valores abaixo
// A cláusula where é utilizada para identificar a pessoa a ser atualizado
public int update(ContentValues values, String where, String[] whereArgs)
{
int count = db.update(TABLE_NAME, values, where, whereArgs);
Log.i(CATEGORY, "Updated [" + count + "] registers");
return count;
}
// Deleta a pessoa com o id fornecido
public int delete(long id) {
String where = Contacts._ID + "=?";
String _id = String.valueOf(id);
String[] whereArgs = new String[] { _id };
int count = delete(where, whereArgs);
return count;
}
// Deleta a pessoa com os argumentos fornecidos
public int delete(String where, String[] whereArgs) {
int count = db.delete(TABLE_NAME, where, whereArgs);
Log.i(CATEGORY, "Has deleted [" + count + "] registers");
return count;
}
// Busca a pessoa pelo id
public Contact searchContact(long id)
{
// select * from pessoa where _id=?
Cursor c = db.query(true, TABLE_NAME, Contact.columns, Contacts._ID + "=" + id, null, null, null, null, null);
if (c.getCount() > 0) {
// Posiciona no primeiro elemento do cursor
c.moveToFirst ();
Contact contact = new Contact();
// Lê os dados
contact.id1 = c.getLong(0);
contact.name1 = c.getString(1);
contact.name2 = c.getString(2);
contact.phone1 = c.getInt(3);
return contact;
}
return null;
}
// Retorna um cursor com todas as pessoas
public Cursor getCursor() {
try {
// select * from pessoas
return db.query(TABLE_NAME, Contact.columns, null, null, null, null, null, null);
} catch (SQLException e) {
Log.e(CATEGORY, "Error while searching contacts: " + e.toString());
return null;
}
}
// Retorna uma lista com todas as pessoas
public List<Contact> listContacts()
{
Cursor c = getCursor();
List<Contact> contacts = new ArrayList<Contact>();
if ( c.moveToFirst() )  //ERRO AQUI!
{
// Recupera os índices das colunas
int idxId = c.getColumnIndex(Contacts._ID);
int idxFirstName = c.getColumnIndex(Contacts.NAME);
int idxLastName = c.getColumnIndex(Contacts.LASTNAME);
int idxPhone = c.getColumnIndex(Contacts.PHONE);
// Loop até o final
do
{
Contact contact = new Contact();
contacts.add(contact);
// recupera os atributos da pessoa
contact.id1 = c.getLong(idxId);
contact.name1 = c.getString(idxFirstName);
contact.name2 = c.getString(idxLastName);
contact.phone1 = c.getInt(idxPhone);
}
while (c.moveToNext());
}
return contacts;
}
// Busca a pessoa pelo nome "select * from pessoa where nome=?"
public Contact searchContactByName(String firstname) {
Contact contact = null;
try {
// Idem a: SELECT _id,nome,cpf,idade from pessoa where nome = ?
Cursor c = db.query(TABLE_NAME, Contact.columns, Contacts.NAME + "='" + firstname + "'", null, null, null, null);
// Se encontrou...
if (c.moveToNext()) {
contact = new Contact();
// utiliza os métodos getLong(), getString(), getInt(), etc para recuperar os valores
contact.id1 = c.getLong(0);
contact.name1 = c.getString(1);
contact.name2 = c.getString(2);
contact.phone1 = c.getInt(3);
}
} catch (SQLException e) {
Log.e(CATEGORY, "Error while searching person by name: " + e.toString());
return null;
}
return contact;
}
// Busca uma pessoa utilizando as configurações definidas no
// SQLiteQueryBuilder
// Utilizado pelo Content Provider de pessoa
public Cursor query(SQLiteQueryBuilder queryBuilder, String[] projection, String selection, String[] selectionArgs,
String groupBy, String having, String orderBy)
{
Cursor c = queryBuilder.query(this.db, projection, selection, selectionArgs, groupBy, having, orderBy);
return c;
}
// Fecha o banco
public void close() {
// fecha o banco de dados
if (db != null) {
db.close();
}
}
}
Contacts (onde a tabela é criada)
package br.com.contactsmanager;
import android.content.ContentUris;
import android.net.Uri;
import android.provider.BaseColumns;
public class Contact
{
public static String[] columns = new String[] { Contacts._ID, Contacts.NAME, Contacts.LASTNAME, Contacts.PHONE };
public static final String AUTHORITY = "com.br.contactsmanager.contactsregister.provider.contact";
public long id1;
public String name1;
public String name2;
public int phone1;
public Contact()
{
}
public Contact(String name1, String name2, int phone1) {
super();
this.name1 = name1;
this.name2 = name2;
this.phone1 = phone1;
}
public Contact(long id1, String name1, String name2, int phone1) {
super();
this.id1 = id1;
this.name1 = name1;
this.name2 = name2;
this.phone1 = phone1;
}
public static final class Contacts implements BaseColumns
{
// Não pode instanciar esta Classe
private Contacts()
{
}
public static final Uri CONTENT_URI = Uri.parse("content://" + AUTHORITY + "/contacts");
public static final String CONTENT_TYPE = "vnd.android.cursor.dir/vnd.google.contacts";
public static final String CONTENT_ITEM_TYPE = "vnd.android.cursor.item/vnd.google.contacts";
public static final String DEFAULT_SORT_ORDER = "_id ASC";
public static final String NAME = "name1";
public static final String LASTNAME = "name2";
public static final String PHONE = "phone1";
public static Uri getUriId(long id)
{
// Adiciona o id na URI default do /pessoas
Uri uriContact = ContentUris.withAppendedId(Contacts.CONTENT_URI, id);
return uriContact;
}
}
}
EDIT.:
03-21 13:56:04.661: E/SQLiteLog(1094): (1) no such column: name1
03-21 13:56:04.661: E/data(1094): Error while searching contacts: android.database.sqlite.SQLiteException: no such column: name1 (code 1): , while compiling: SELECT _id, name1, name2, phone1 FROM contact
03-21 13:56:04.671: D/AndroidRuntime(1094): Shutting down VM
03-21 13:56:04.671: W/dalvikvm(1094): threadid=1: thread exiting with uncaught exception (group=0xb4aa7b90)
03-21 13:56:04.691: E/AndroidRuntime(1094): FATAL EXCEPTION: main
03-21 13:56:04.691: E/AndroidRuntime(1094): Process: br.com.contactsmanager, PID: 1094
03-21 13:56:04.691: E/AndroidRuntime(1094): java.lang.RuntimeException: Unable to start activity ComponentInfo{br.com.contactsmanager/br.com.contactsmanager.ContactRegister}: java.lang.NullPointerException
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2176)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2226)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.ActivityThread.access$700(ActivityThread.java:135)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1397)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.os.Handler.dispatchMessage(Handler.java:102)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.os.Looper.loop(Looper.java:137)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.ActivityThread.main(ActivityThread.java:4998)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at java.lang.reflect.Method.invokeNative(Native Method)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at java.lang.reflect.Method.invoke(Method.java:515)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at dalvik.system.NativeStart.main(Native Method)
03-21 13:56:04.691: E/AndroidRuntime(1094): Caused by: java.lang.NullPointerException
03-21 13:56:04.691: E/AndroidRuntime(1094):     at br.com.contactsmanager.ContactRepository.listContacts(ContactRepository.java:168)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at br.com.contactsmanager.ContactRegister.updateList(ContactRegister.java:39)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at br.com.contactsmanager.ContactRegister.onCreate(ContactRegister.java:34)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.Activity.performCreate(Activity.java:5243)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
03-21 13:56:04.691: E/AndroidRuntime(1094):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2140)
03-21 13:56:04.691: E/AndroidRuntime(1094):     ... 11 more
10133,java|android,Meu código abaixo era pra fazer uma tarefa simples, ao clicar no botão mudar para outra tela, porém está dando erro:
Cannot make a static reference to the non-static method
chamaCadastro() from the type MainActivity
já alterei o chamaCadastro para estático, porém o erro muda para:
Cannot make a static reference to the non-static method
setContentView(int) from the type ActionBarActivity
Segue meu código:
MainActivity.java
package br.com.navegandoemtelas;
import android.support.v7.app.ActionBarActivity;
import android.support.v7.app.ActionBar;
import android.support.v4.app.Fragment;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Button;
import android.os.Build;
public class MainActivity extends ActionBarActivity {
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
//setContentView(R.layout.activity_main);
chamaMenuPrincipal();
if (savedInstanceState == null) {
getSupportFragmentManager().beginTransaction()
.add(R.id.container, new PlaceholderFragment())
.commit();
}
}
public void chamaMenuPrincipal(){
setContentView(R.layout.activity_main);
}
public void chamaCadastro(){
setContentView(R.layout.cadastros);
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
// Inflate the menu; this adds items to the action bar if it is present.
getMenuInflater().inflate(R.menu.main, menu);
return true;
}
@Override
public boolean onOptionsItemSelected(MenuItem item) {
// Handle action bar item clicks here. The action bar will
// automatically handle clicks on the Home/Up button, so long
// as you specify a parent activity in AndroidManifest.xml.
int id = item.getItemId();
if (id == R.id.action_settings) {
return true;
}
return super.onOptionsItemSelected(item);
}
/**
* A placeholder fragment containing a simple view.
*/
public static class PlaceholderFragment extends Fragment {
Button btCadastro;
public PlaceholderFragment() {
}
@Override
public View onCreateView(LayoutInflater inflater, ViewGroup container,
Bundle savedInstanceState) {
View rootView = inflater.inflate(R.layout.fragment_main, container, false);
btCadastro = (Button) rootView.findViewById(R.id.btCadastrar);
btCadastro.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
chamaCadastro();
}
});
return rootView;
}
}
}
10172,android,Estou a desenvolver uma app que usa o Google Maps. Quando eu faço run a partir do Eclipse para o smartphone, o Google Maps não apresenta qualquer erro.
Quando publico a app na Play Store, o Google Maps fica com erro, não aparece o mapa.
10190,android,Estou com uma duvida em relação a ImageView tem como eu deixar uma imagem tremendo ou piscando assim que eu carregar a tela que ela esta? Alguem poderia me informar como postal algum tutorial
10234,java|android,Eu estou trabalhando num App Android, e um amigo meu me mandou o app que ele trabalhou, mas teve um problema, todos os caracteres da nossa língua como o "ç" viraram coisas tipo c'@%, evidenciando problema na codificação/tradução. Queria saber se isso pode se relacionar com o idioma do meu Eclipse quando eu o instalei ou o que.
Tentei recompilar, mas o Banco de Dados que estávamos usando(interno) não está sendo modificado, está sendo dito que eu estou definindo duas Primary Keys, mas eu não o estou fazendo, alguém sabe o que está acontecendo?
10276,java|android,Estou tentando manipular um banco de dados interno com o seguinte código:
sql = "CREATE TABLE IF NOT EXISTS tipo ([codigo] integer autoincrement,nome text not null);";
bancoDados.execSQL(sql);
sql = "INSERT INTO \"tipo\" VALUES(1,\"ESTADUAL\");";
bancoDados.execSQL(sql);
sql = "INSERT INTO \"tipo\" VALUES(2,\"MUNICIPAL\");";
bancoDados.execSQL(sql);
sql = "INSERT INTO \"tipo\" VALUES(3,\"PRIVADA\");";
bancoDados.execSQL(sql);
sql = "INSERT INTO \"tipo\" VALUES(4,\"FEDERAL\");";
O erro que estou tendo é o seguinte:
03-23 20:22:26.419: E/Database(368):
Failure 19 (PRIMARY KEY must be unique) on 0x92ba0 when executing
'INSERT INTO "tipo" VALUES(1,"ESTADUAL");'
Eu já tentei algumas coisas: tirar o número que eu mesmo estava inserindo (por estar com um autoincrement), mas não deu e continuou o mesmo erro... Alguém sabe o que está errado?
10305,java|android,Dei uma estudada nos serviços de GCM para envio e recebimento de notificações para o android, mas tenho a seguinte dúvida:
Se eu estiver em um ambiente local, e o servidor de dados estiver no
mesmo ambiente, existe alguma forma de eu trabalhar com as
notificações automáticas toda vez que uma requisição for feita?
Por exemplo: Eu gravo dados novos por um celular X, e preciso enviar uma requisição automaticamente para um celular Y com os dados do registro. Consigo enviar e resgatar os dados por JSON, mas como faria para o celular detectar uma mudança na base de dados quando eu não tiver acesso a internet?
Existe alguma forma de substituir o GCM para estes casos?
10324,java|android,O LogCat está acusando um problema de NullPointerException, porém não consigo identificar. Ao meu ponto de vista, tá certinho. Sei que tem problema nas linhas 34 e 39 do ContactRegister que levam à condição if(moveToFirst()) no ContactRepository, mas não consigo entender qual o erro. Seria talvez um problema de posicionamento de cursor?
E/AndroidRuntime(914): FATAL EXCEPTION: main
E/AndroidRuntime(914): Process: br.com.contactsmanager, PID: 914
E/AndroidRuntime(914): java.lang.RuntimeException: Unable to start activity ComponentInfo{br.com.contactsmanager/br.com.contactsmanager.ContactRegister}: java.lang.NullPointerException
E/AndroidRuntime(914): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2176)
E/AndroidRuntime(914): at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2226)
E/AndroidRuntime(914): at android.app.ActivityThread.access$700(ActivityThread.java:135)
E/AndroidRuntime(914): at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1397)
E/AndroidRuntime(914): at android.os.Handler.dispatchMessage(Handler.java:102)
E/AndroidRuntime(914): at android.os.Looper.loop(Looper.java:137)
E/AndroidRuntime(914): at android.app.ActivityThread.main(ActivityThread.java:4998)
E/AndroidRuntime(914): at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(914): at java.lang.reflect.Method.invoke(Method.java:515)
E/AndroidRuntime(914): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)
E/AndroidRuntime(914): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:593)
E/AndroidRuntime(914): at dalvik.system.NativeStart.main(Native Method)
E/AndroidRuntime(914): Caused by: java.lang.NullPointerException
E/AndroidRuntime(914): at br.com.contactsmanager.ContactRepository.listContacts(ContactRepository.java:175)
E/AndroidRuntime(914): at br.com.contactsmanager.ContactRegister.updateList(ContactRegister.java:39)
E/AndroidRuntime(914): at br.com.contactsmanager.ContactRegister.onCreate(ContactRegister.java:34)
E/AndroidRuntime(914): at android.app.Activity.performCreate(Activity.java:5243)
E/AndroidRuntime(914): at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
E/AndroidRuntime(914): at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2140)
E/AndroidRuntime(914):     ... 11 more
Enfim, seguem os códigos do ContactRepository e ContactRegister.
O projeto se trata de uma agenda de contatos sincronizada com a do Android, que servirá de base para um aplicativo a ser desenvolvido.
Sou novato na programação orientada a objetos.
ContactRepository.java
package br.com.contactsmanager;
import java.util.ArrayList;
import java.util.List;
import android.content.ContentValues;
import android.content.Context;
import android.database.Cursor;
import android.database.SQLException;
import android.database.sqlite.SQLiteDatabase;
import android.database.sqlite.SQLiteQueryBuilder;
import android.util.Log;
import br.com.contactsmanager.Contact.Contacts;
public class ContactRepository {
private static final String CATEGORY = "data";
private static final String DB_NAME = "android_data";
public static final String TABLE_NAME = "contact";
protected SQLiteDatabase db;
public ContactRepository(Context ctx)
{
db = ctx.openOrCreateDatabase(DB_NAME, Context.MODE_PRIVATE, null);
}
protected ContactRepository()
{
}
public long save(Contact contact)
{
long id = contact.id1;
if (id != 0) {
update(contact);
}
else
{
id = insert(contact);
}
return id;
}
// Insere uma nova pessoa
public long insert(Contact contact)
{
ContentValues values = new ContentValues();
values.put(Contacts.NAME, contact.name1);
values.put(Contacts.LASTNAME, contact.name2);
values.put(Contacts.PHONE, contact.phone1);
long id = insert(values);
return id;
}
// Insere uma nova pessoa
public long insert(ContentValues values)
{
long id = db.insert(TABLE_NAME, "", values);
return id;
}
// Atualiza a pessoa no banco. O id da pessoa é utilizado.
public int update(Contact contact)
{
ContentValues values = new ContentValues();
values.put(Contacts.NAME, contact.name1);
values.put(Contacts.LASTNAME, contact.name2);
values.put(Contacts.PHONE, contact.phone1);
String _id = String.valueOf(contact.id1);
String where = Contacts._ID + "=?";
String[] whereArgs = new String[] { _id };
int count = update(values, where, whereArgs);
return count;
}
// Atualiza a pessoa com os valores abaixo
// A cláusula where é utilizada para identificar a pessoa a ser atualizado
public int update(ContentValues values, String where, String[] whereArgs)
{
int count = db.update(TABLE_NAME, values, where, whereArgs);
Log.i(CATEGORY, "Updated [" + count + "] registers");
return count;
}
// Deleta a pessoa com o id fornecido
public int delete(long id) {
String where = Contacts._ID + "=?";
String _id = String.valueOf(id);
String[] whereArgs = new String[] { _id };
int count = delete(where, whereArgs);
return count;
}
// Deleta a pessoa com os argumentos fornecidos
public int delete(String where, String[] whereArgs) {
int count = db.delete(TABLE_NAME, where, whereArgs);
Log.i(CATEGORY, "Has deleted [" + count + "] registers");
return count;
}
// Busca a pessoa pelo id
public Contact searchContact(long id)
{
// select * from pessoa where _id=?
Cursor c = db.query(true, TABLE_NAME, Contact.columns, Contacts._ID + "=" + id, null, null, null, null, null);
c.moveToFirst ();
if (c.getCount() > 0) {
// Posiciona no primeiro elemento do cursor
//c.moveToFirst ();
Contact contact = new Contact();
// Lê os dados
contact.id1 = c.getLong(0);
contact.name1 = c.getString(1);
contact.name2 = c.getString(2);
contact.phone1 = c.getInt(3);
return contact;
}
return null;
}
// Retorna um cursor com todas as pessoas
public Cursor getCursor()
{
try {
// select * from pessoas
return db.query(TABLE_NAME, Contact.columns, Contacts.NAME, null, null, null, null, null);
}
catch (SQLException e)
{
Log.e(CATEGORY, "Error while searching contacts: " + e.toString());
e.printStackTrace();
return null;
}
}
// Retorna uma lista com todas as pessoas
public List<Contact> listContacts()
{
Cursor c = getCursor();
List<Contact> contacts = new ArrayList<Contact>();
if ( c.moveToFirst() )
{
// Recupera os índices das colunas
int idxId = c.getColumnIndex(Contacts._ID);
int idxFirstName = c.getColumnIndex(Contacts.NAME);
int idxLastName = c.getColumnIndex(Contacts.LASTNAME);
int idxPhone = c.getColumnIndex(Contacts.PHONE);
// Loop até o final
do
{
Contact contact = new Contact();
contacts.add(contact);
// recupera os atributos da pessoa
contact.id1 = c.getLong(idxId);
contact.name1 = c.getString(idxFirstName);
contact.name2 = c.getString(idxLastName);
contact.phone1 = c.getInt(idxPhone);
}
while ( c.moveToNext() );
}
return contacts;
}
// Busca a pessoa pelo nome "select * from pessoa where nome=?"
public Contact searchContactByName(String name1) {
Contact contact = null;
try {
// Idem a: SELECT _id,nome,cpf,idade from pessoa where nome = ?
Cursor c = db.query(TABLE_NAME, Contact.columns, Contacts.NAME + "='" + name1 + "'", null, null, null, null);
// Se encontrou...
if (c.moveToNext()) {
contact = new Contact();
// utiliza os métodos getLong(), getString(), getInt(), etc para recuperar os valores
contact.id1 = c.getLong(0);
contact.name1 = c.getString(1);
contact.name2 = c.getString(2);
contact.phone1 = c.getInt(3);
}
} catch (SQLException e) {
Log.e(CATEGORY, "Error while searching person by name: " + e.toString());
return null;
}
return contact;
}
// Busca uma pessoa utilizando as configurações definidas no
// SQLiteQueryBuilder
// Utilizado pelo Content Provider de pessoa
public Cursor query(SQLiteQueryBuilder queryBuilder, String[] projection, String selection, String[] selectionArgs,
String groupBy, String having, String orderBy)
{
Cursor c = queryBuilder.query(this.db, projection, selection, selectionArgs, groupBy, having, orderBy);
return c;
}
// Fecha o banco
public void close()
{
// fecha o banco de dados
if (db != null)
{
db.close();
}
}
}
----------------------
ContactRegister.java
package br.com.contactsmanager;
import java.util.List;
import android.app.ListActivity;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.ListView;
import br.com.contactsmanager.Contact.Contacts;
public class ContactRegister extends ListActivity {
protected static final int INSERT_EDIT = 1;
protected static final int SEARCH = 2;
public static ContactRepositoryScript repository;
private List<Contact> contacts;
@Override
public void onCreate(Bundle icicle) {
super.onCreate(icicle);
repository = new ContactRepositoryScript(this);
updateList();
}
protected void updateList()
{
contacts = repository.listContacts();
setListAdapter(new ContactListAdapter(this, contacts));
}
@Override
public boolean onCreateOptionsMenu(Menu menu) {
super.onCreateOptionsMenu(menu);
menu.add(0, INSERT_EDIT, 0, "Insert new").setIcon(R.drawable.newcontact);
menu.add(0, SEARCH, 0, "Search").setIcon(R.drawable.search);
return true;
}
@Override
public boolean onMenuItemSelected(int featureId, MenuItem item) {
switch (item.getItemId()) {
case INSERT_EDIT:
startActivityForResult(new Intent(this, EditContact.class), INSERT_EDIT);
break;
case SEARCH:
startActivity(new Intent(this, SearchContact.class));
break;
}
return true;
}
@Override
protected void onListItemClick(ListView l, View v, int position, long id) {
super.onListItemClick(l, v, position, id);
editContact(position);
}
protected void editContact(int position)
{
Contact contact = contacts.get(position);
Intent it = new Intent(this, EditContact.class);
it.putExtra(Contacts._ID, contact.id1);
startActivityForResult(it, INSERT_EDIT);
}
@Override
protected void onActivityResult(int code, int returnCode, Intent it) {
super.onActivityResult(code, returnCode, it);
if (returnCode == RESULT_OK)
{
updateList();
}
}
@Override
protected void onDestroy()
{
super.onDestroy();
repository.close();
}
}
10359,java|android,Alguém teria como me mostrar uma estrutura Observer dentro do android?
Estava tentando montar uma igual a do java, porém não tive sucesso.
Meu teste foi feito da seguinte forma:
Criei uma class Banco e uma class ClienteObservable;
No banco eu tenho os métodos de notificação, e de adicionarObserver (que eu passo a bola pro clienteObservable);
Na class ClienteObservable eu tenho o método update, que vai realizar um ação ao ser notificado.
Essa é a lógica que tenho sobre Padrão de Projeto Observer, porém não sei como estruturar isso no android, alguém poderia desenvolver algo bem básico para me mostrar?
Segue abaixo o Código:
Na Class Banco
Na Class clienteObservable
10361,java|android,Bom já tentei de todos os modos rodar vídeo em flash no android 2.3 do 4.0 pra frente vai fácil a partir de um webview.Procurando no google e em alguns fóruns vi pessoas montando através de VideoView. Pra mim não deu certo.
VideoView videoView = (VideoView) findViewById(R.id.videoView1);
MediaController mediaController = new MediaController(this);
mediaController.setAnchorView(videoView);
Uri video = Uri.parse("http://www.ustream.tv/channel/5474055");
videoView.setMediaController(mediaController);
videoView.setVideoURI(video);
videoView.start();
Bom se alguém tiver alguma dica. Detalhe eu não quero ter baixar o flash e instalar. Assim deu mas, queria algo nativo ou sem a necessidade de baixar algo.
Bom vou deixar uma print do erro quando tento dar load da url no android 2.3 a mesma url carrega tudo normal do android 4.0 pra cima.
10385,java|android,No android tenho a seguinte URL
String url = "http://domain.com/page?parameter1=value1&parameter2=value2";
Gostaria de pegar os parâmetros desta URL como faço isso de uma forma simples?
10416,java|android,Estou tentando fazer meu aplicativo baixar um XML (RSS Feed) e ler suas tags para exibi-lo na tela inicial. Porém o aplicativo fecha após realizar o download antes de tentar iniciar o método onPostExecute do AsyncTask getFeed (Baixar o XML) e o AsyncTask lerXML (Leitura das Tags). E caso eu tente apenas checar a versão do aplicativo, eu utilizo o AsyncTask para baixaro arquivo e ler seu conteúdo, checar a versão e perguntar ao usuário se ele deseja realizar a atualização do aplicativo. Só que, se eu já executei o AsyncTask atualizaApp, eu não posso executar o baixaAPK sem que o aplicativo feche.
Código completo: Pastebin
AsyncTask<Void, Void, String> getFeed = new AsyncTask<Void, Void, String>(){
@Override
protected String doInBackground(Void... params) {
String retorno = "não";
try {
// Baixar Feed
URL url = new URL("http://www.ipoema.tumblr.com/rss");
File file = new File(PATH + "iPoema.xml");
file.delete();
URLConnection ucon = url.openConnection();
InputStream is = ucon.getInputStream();
BufferedInputStream bis = new BufferedInputStream(is);
ByteArrayBuffer baf = new ByteArrayBuffer(50);
lenghtOfFile = ucon.getContentLength();
int current = 0;
while ((current = bis.read()) != -1) {
baf.append((byte) current);
progress = current;
}
FileOutputStream fos = new FileOutputStream(file);
fos.write(baf.toByteArray());
fos.close();
retorno = "sim";
} catch (IOException e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar o download do arquivo.");
}
return retorno;
}
@Override
protected void onPostExecute(String s) {
super.onPostExecute(s);
if (s.equals("sim")) {
try {
lerXML.execute();
} catch (Exception e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar a leitura do arquivo.");
}
}
}
};
AsyncTask<Void, Void, String> lerXML = new AsyncTask<Void, Void, String>(){
@Override
protected String doInBackground(Void... params) {
String state = "erro";
try {
// Ler XML
showMessage("iPoema", "Arquivo lido com sucesso");
File f = new File(PATH + "iPoema.xml");
SAXBuilder sb = new SAXBuilder();
Document d = sb.build(f);
Element mural = d.getRootElement();
List<Element> elements = mural.getChildren("channel");
Iterator<Element> i = elements.iterator();
int x = 0;
//for (int x = 0; x <= elements.size(); x++) {
while (i.hasNext()) {
//Element node = (Element) elements.get(x);
Element node = (Element) i.next();
Element item = node.getChild("item");
titulo[x] = item.getChildText("title");
texto[x] = item.getChildText("description");
autor[x] = item.getChildText("category");
x++;
}
state = "ok";
} catch (JDOMException e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar a leitura do XML.");
} catch (IOException e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar a leitura do XML.");
}
return state;
}
@Override
protected void onPostExecute(String s) {
super.onPostExecute(s);
if (s.equals("ok")) {
try {
// Títulos
TextView titulo1 = (TextView) findViewById(R.id.titulo1);
TextView titulo2 = (TextView) findViewById(R.id.titulo2);
TextView titulo3 = (TextView) findViewById(R.id.titulo3);
TextView titulo4 = (TextView) findViewById(R.id.titulo4);
// Textos
TextView texto1 = (TextView) findViewById(R.id.texto1);
TextView texto2 = (TextView) findViewById(R.id.texto2);
TextView texto3 = (TextView) findViewById(R.id.texto3);
TextView texto4 = (TextView) findViewById(R.id.texto4);
// SetText
titulo1.setText(getTitulo(0));
texto1.setText(getTexto(0)+"\n\n#"+getAutor(0)+"\n\n");
titulo2.setText(getTitulo(1));
texto2.setText(getTexto(1)+"\n\n#"+getAutor(1)+"\n\n");
titulo3.setText(getTitulo(2));
texto3.setText(getTexto(2)+"\n\n#"+getAutor(2)+"\n\n");
titulo4.setText(getTitulo(3));
texto4.setText(getTexto(3)+"\n\n#"+getAutor(3)+"\n\n");
// Exibe
titulo1.setVisibility(TextView.VISIBLE);
texto1.setVisibility(TextView.VISIBLE);
titulo2.setVisibility(TextView.VISIBLE);
texto2.setVisibility(TextView.VISIBLE);
titulo3.setVisibility(TextView.VISIBLE);
texto3.setVisibility(TextView.VISIBLE);
titulo4.setVisibility(TextView.VISIBLE);
texto4.setVisibility(TextView.VISIBLE);
} catch (Exception e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar a leitura do arquivo.");
}
}
}
};
AsyncTask<Void, Void, String> atualizaApp = new AsyncTask<Void, Void, String>(){
@Override
protected String doInBackground(Void... params) {
String versao = "0";
try {
// Baixar iPoema.txt
URL url = new URL("http://www.xadees.xpg.com.br/iPoema.txt");
File file = new File(PATH + "iPoema.txt");
file.delete();
URLConnection ucon = url.openConnection();
InputStream is = ucon.getInputStream();
BufferedInputStream bis = new BufferedInputStream(is);
ByteArrayBuffer baf = new ByteArrayBuffer(50);
lenghtOfFile = ucon.getContentLength();
int current = 0;
while ((current = bis.read()) != -1) {
baf.append((byte) current);
progress = current;
}
FileOutputStream fos = new FileOutputStream(file);
fos.write(baf.toByteArray());
fos.close();
// Ler iPoema.txt
StringBuilder text = new StringBuilder();
BufferedReader br = new BufferedReader(new FileReader(file));
String line;
while ((line = br.readLine()) != null) {
text.append(line);
}
versao = text.toString();
} catch (IOException e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar o download do arquivo.");
} catch (Exception e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar a leitura do arquivo.");
}
return versao;
}
@Override
protected void onPostExecute(String s) {
super.onPostExecute(s);
int vAtual = Pi.versionCode;
int vAPK = Integer.parseInt(s);
if (vAtual < vAPK) {
try {
// Baixar
URL url = new URL("http://www.xadees.xpg.com.br/iPoema%20for%20Android.apk");
File file = new File(PATH + "iPoema.apk");
file.delete();
URLConnection ucon = url.openConnection();
InputStream is = ucon.getInputStream();
BufferedInputStream bis = new BufferedInputStream(is);
ByteArrayBuffer baf = new ByteArrayBuffer(50);
lenghtOfFile = ucon.getContentLength();
int current = 0;
while ((current = bis.read()) != -1) {
baf.append((byte) current);
progress = current;
}
FileOutputStream fos = new FileOutputStream(file);
fos.write(baf.toByteArray());
fos.close();
// Instalar
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.fromFile(new File(PATH + "iPoema.apk")), "application/vnd.android.package-archive");
//java.lang.Process proc = Runtime.getRuntime().exec(new String[]{"su", "-c", "adb install -r " + PATH + "iPoema.apk"});
//proc.waitFor();
startActivityForResult(intent,0);
} catch (IOException e) {
showMessage(e.getClass().getName(), "Erro ao tentar realizar o download do pacote.");
}
} else {
showMessage("iPoema", "iPoema já está atualizado.");
}
}
};
10475,android,Bem pessoal, eu estou trabalhando na minha aplicação, e tudo estava perfeitamente bem... Tinha terminado ela com a ajuda de vocês, mas encontrei um outro problema. Eu estava testando ela no Android 2.3.3 pois ele era mais popular e abria mais rápido no meu computador, mas quando eu fui testar ele em meu tablet (que é API16) e no emulador com Android 4.1.2(API16) ele está apresentando um erro esquisito. Quando eu rodo ele no 2.3 ele abre perfeitamente, recuperando dados do BD e tudo... Entretanto, quando eu tento executá-lo numa API mais recente, me é passado que o meu Banco de Dados não existe(?!). Alguém saberia me dizer se houve alguma mudança no jeito de trabalhar com BDs internos nas APIs recentes? Me falaram que algum dos meus comandos poderia ter caído em desuso, mas o problema está apontando só pro SQL, e não pro Android.
10497,java|android,Em uma aplicação para Android, pretendo abrir a agenda de contatos a partir de outra Activity via Intent, mas gostaria que aparecessem apenas os contatos que trazem um valor específico no campo "Organização". Existe uma forma de especificar isso no Intent que abre a agenda de contatos? Segue o código atual, no qual o Intent é iniciado ao clicar do botão getContactDetails:
getContactDetails.setOnClickListener(new View.OnClickListener() {
@Override
public void onClick(View v) {
//Inicia atividade de lista de contatos, para obter os dados do contato
Intent intent = new Intent(Intent.ACTION_PICK,
ContactsContract.Contacts.CONTENT_URI);
startActivityForResult(intent, PICK_CONTACT);
}
});
10499,android,Explicação:
Possuo uma aplicação mobile que utiliza o método showDialog() em determinado momento, para mostrar um DatePickerDialog e pegar a data, porém vejo que na seguinte linha:
showDialog(DATE_DIALOG_ID);
Eu tenho o seguinte alerta:
The method showDialog(int) from the type Activity is deprecated
Ele está obsoleto, ou seja, obsoleto.
Código funcional obsoleto:
Declaração das variáveis:
private int year;
private int month;
private int day;
static final int DATE_DIALOG_ID = 0;
Button btnLembrar = null;
Handler:
View.OnClickListener handler = new View.OnClickListener(){
public void onClick(View v) {
if( v.getId()==3 ){
showDialog(DATE_DIALOG_ID);
}
}
};
Atribuindo handler ao botão:
btnLembrar.setId(3);
btnLembrar.setOnClickListener(handler);
Override do evento onCreateDialog() e o listener:
@Override
protected Dialog onCreateDialog(int id) {
switch (id) {
case DATE_DIALOG_ID:
return new DatePickerDialog(this, datePickerListener, year, month,day);
}
return null;
}
private DatePickerDialog.OnDateSetListener datePickerListener = new DatePickerDialog.OnDateSetListener() {
public void onDateSet(DatePicker view, int selectedYear, int selectedMonth, int selectedDay) {
util xutil=new util();
year  = selectedYear;
month = selectedMonth;
day   = selectedDay;
String cDta  = xutil.strZero( day, 2 ) + "/" + xutil.strZero( month+1, 2 ) + "/" + xutil.strZero( year, 2 );
btnLembrar.setText(cDta);
}
};
Pergunta:
Qual método alternativo de realizar esta mesma operação de forma que ela não esteja obsoleta?
10589,android,Estou a desenvolver uma app que precisa de estar sempre ligada ao servidor. Para isso pensei utilizar uma async task para correr em background a ligação ao servidor mas quando mudo de Activity a ligação termina.
Estive a ler alguma documentação na internet e percebi que posso fazer com que a ligação ao servidor seja sempre constante através de uma Aplication.
O meu problema é que eu não consigo entender qual é a diferença entre Aplication e Async Task, porque é que as duas podem dar origem ao mesmo resultado ?
10620,android,Gostaria de entender com que funciona este atributo (android:ems).
Vi algo citando que ele age sobre a fonte do texto, mais não entendi de que forma. Tentei fazer alguns testes, e não notei resultado.
Alguém sabe como ele age sobre um TextView?
10632,android,Comecei um projeto e tive muitos problemas por que escolhi a versao 2.3 como base, agora estou trabalhando em um outro aplicativo que vai ter que ter: conexão com banco de dados online, e salvar edicao em fotos, no caso só um texto escrito na foto, acho que é o canvas que terei de usar, qual a versão minima que devo usar? Fazendo um bom aplicativo, bom design?
10643,android,Vi neste exemplo, atualizando o campo TextView de dentro da AsyncTask mas não consigo repetir isso no meu código, e ao que me parece isso nem é possível ou é?
protected String doInBackground(String... params) {
// updating UI from Background Thread
runOnUiThread(new Runnable() {
public void run() {
// Check for success tag
int success;
try {
// Building Parameters
List<NameValuePair> params = new ArrayList<NameValuePair>();
params.add(new BasicNameValuePair("pid", pid));
// getting product details by making HTTP request
// Note that product details url will use GET request
JSONObject json = jsonParser.makeHttpRequest(
url_product_detials, "GET", params);
// check your log for json response
Log.d("Single Product Details", json.toString());
// json success tag
success = json.getInt(TAG_SUCCESS);
if (success == 1) {
// successfully received product details
JSONArray productObj = json
.getJSONArray(TAG_PRODUCT); // JSON Array
// get first product object from JSON Array
JSONObject product = productObj.getJSONObject(0);
// product with this pid found
// Edit Text
txtName = (EditText) findViewById(R.id.inputName);
txtPrice = (EditText) findViewById(R.id.inputPrice);
txtDesc = (EditText) findViewById(R.id.inputDesc);
// display product data in EditText
txtName.setText(product.getString(TAG_NAME));
txtPrice.setText(product.getString(TAG_PRICE));
txtDesc.setText(product.getString(TAG_DESCRIPTION));
}else{
// product with pid not found
}
} catch (JSONException e) {
e.printStackTrace();
}
}
});
return null;
}
Meu Código!
protected String doInBackground(String... params) {
runOnUiThread(new Runnable() {
public void run() {
List<NameValuePair> param = new ArrayList<NameValuePair>();
param.add(new BasicNameValuePair("id", pid));
//Conexao
JSONObject json = jsonParser.makeHttpRequest(Extras.urlListarProdutosID(), "POST", param);
try {
int success = json.getInt("sucesso");
if (success == 1) {
JSONArray productObj = json.getJSONArray("produto");
JSONObject produto = productObj.getJSONObject(0);
nome = (EditText) findViewById(R.id.nome);
nome.setText(produto.getString("nome"));
}
} catch (JSONException e) {
// TODO Auto-generated catch block
e.printStackTrace();
}
}
});
return null;
}
10654,android,Quero fazer uma rolagem entre telas diferentes. Por exemplo, criar uma rolagem igual do menu de celular ou da área de trabalho que quando puxada uma vai ocupando o espaço da outra. Como posso fazer isso?
10723,java|android,Passei por esse problema implementando uma biblioteca simples de consultas ao banco de dados sqlite em android e gostaria de compartilhar a solução com a comunidade, acredito que seja útil já que penei até encontrar uma solução simples.
Na implementação era necessário saber se a String do where era null ou vazia ou se era uma String em branco, sendo que a verificação de null e vazia era simples o problema era a String em branco.
E como fazer isso?
10837,android,Criei um layout e nele coloquei o seguinte codigo:
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:tools="http://schemas.android.com/tools"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:orientation="vertical"
android:screenOrientation="portrait"
>
<TextView
android:id="@+id/textView1"
android:layout_width="wrap_content"
android:layout_height="wrap_content"
android:layout_marginLeft="5dp"
android:text="Teste de Orientação"
android:textAppearance="?android:attr/textAppearanceMedium" />
</LinearLayout>
MAS quando rodo ele no emulador, e pressiono o botão 9 do teclado(para mudar de orientação) volta para outro layout, o de login(principal).
O que devo fazer para não dar esse tipo de erro?
10847,android,Problema
Estou trabalhando em uma biblioteca UI para android, onde seto os parâmetros de layout (height, width, weight e gravity) dinamicamente via código, em um objeto LinearLayout.LayoutParams mas o atributo gravity não parece ter o mesmo efeito de setGravity(gravity) direto na View.
Obs: não seto diretamente a View por que na codificação do componente não pretendo ter  acesso a View diretamente.
O que faço resumidamente é algo similar a isso:
// width = 0, height = LinearLayout.LayoutParams.WRAP_CONTENT, weight = 1000
LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(0,
LinearLayout.LayoutParams.WRAP_CONTENT, 1000);
params.gravity = Gravity.RIGHT;
textView1.setLayoutParams(params);
Mas o textview1 não fica alinhado a direita como deveria.
Já se eu faço o seguinte código dai funciona:
// width = 0, height = LinearLayout.LayoutParams.WRAP_CONTENT, weight = 1000
LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(0,
LinearLayout.LayoutParams.WRAP_CONTENT, 1000);
textView1.setLayoutParams(params);
textView1.setGravity(Gravity.RIGHT);
Pergunta?
Por que isso acontece?
gravity do objeto LinearLayout.LayoutParams e setGravity da View são atribitos diferentes?
Qual a diferença entre as duas abordagens?
Há alguma maneira de obter o mesmo resultado do setGravity da View no gravity do objeto LinearLayout.LayoutParams?
Obs: A View que me refiro na questão, no caso é o TextView.
Para ficar mais claro, fiz um exemplo em HTML do efeito que quero no layout do meu TextView android, através do LinearLayout.LayoutParams.
10856,android,Explicação:
Eu tenho uma aplicação que possui um campo do tipo EditText usado para observação, do qual é pequeno demais, pois não há espaço para ele.
Se eu abro a tela no modo "orientação horizontal" e clico no campo, o Android se encarrega de abrir um o teclado horizontal do qual tem espaço para digitar e um botão "concluir", como podemos ver na imagem abaixo:
Eu gostaria que ele ativasse esta funcionalidade do Android sempre. Teoricamente ela só é acionada se a orientação está "deitada" ou seja, no modo horizontal.
Pergunta:
Quero saber como fazer pra ativar o Teclado Horizontal independente da orientação que o usuário estiver, como posso fazer isto?
10919,android,Bom dia! Gostaria de pegar a hora do celular jogar na tela para o usuário poder alterar e salvar a hora que o usuário escolher e a mesma coisa para a data. exemplo fazer parecido com o despertador
10927,java|c#|android,Estou consumindo um Web service desenvolvido em C#, a partir de uma aplicação em Android. Ao enviar tipos simples por parâmetro como string, int ou long, consigo obter a informação normalmente apenas colocando o mesmo tipo no parâmetro da declaração do método Web service. Mas não sei como obter um objeto complexo criado em java dentro do método web service em C#.
O objeto enviado tem o mesmo nome em ambas aplicações, mas não são exatamente iguais devido nomes das propriedades.
obs:
-Estou usando o Ksoap2 no android, e a classe esta sendo serializada e enviada para para o web service sem erros.
-talvez poderia obter o objeto como XML, mas que tipo eu colocaria no paramento?
Chamada web service
SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);
PropertyInfo object = new PropertyInfo();
object.setName("obj");
object.setValue(ordemServicoBO);
object.setType(ordemServicoBO.getClass());
request.addProperty(object);
SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);
envelope.dotNet = true;
envelope.encodingStyle = SoapSerializationEnvelope.ENC;
envelope.setOutputSoapObject(request);
envelope.addMapping(NAMESPACE, "ordemServicoBO",new OrdemServicoBO().getClass());
envelope.implicitTypes = true;
HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);
androidHttpTransport.debug = true;
androidHttpTransport.setXmlVersionTag("<?xml version=\"1.0\" encoding=\"UTF-8\"?>");
androidHttpTransport.call(SOAP_ACTION, envelope);//Aqui a chamada é feita normalmente sem erro, e entra no método do web service
SoapObject responseNoXML = (SoapObject)envelope.bodyIn;
Classe em Java
public class OrdemServicoBO implements KvmSerializable {
private long idOrdemServico;
private long IdOrdemServicoCategoria;
private long idOrdemServicoLocal;
private long idHotel;
private long idUsuarioExecutante;
private long idUsuarioSolicitante;
private long idArea;
private String dataAbertura;
private String descricao;
private String status;
private AreaBO areaBO;
private UsuarioBO usuarioSolicitante;
private UsuarioBO usuarioExecutante;
private OrdemServicoCategoriaBO ordemServicoCategoriaBO;
public void setOrdemServicoCategoriaBO(OrdemServicoCategoriaBO ordemServicoCategoriaBO) {
this.ordemServicoCategoriaBO = ordemServicoCategoriaBO;
}
public OrdemServicoCategoriaBO getOrdemServicoCategoriaBO() {
return ordemServicoCategoriaBO;
}
public void setUsuarioExecutante(UsuarioBO usuarioExecutante) {
this.usuarioExecutante = usuarioExecutante;
}
public void setUsuarioSolicitante(UsuarioBO usuarioSolicitante) {
this.usuarioSolicitante = usuarioSolicitante;
}
public UsuarioBO getUsuarioExecutante() {
return usuarioExecutante;
}
public UsuarioBO getUsuarioSolicitante() {
return usuarioSolicitante;
}
public void setDataAbertura(String dataAbertura) {
this.dataAbertura = dataAbertura;
}
public void setDescricao(String descricao) {
this.descricao = descricao;
}
public void setIdArea(long idArea) {
this.idArea = idArea;
}
public void setIdHotel(long idHotel) {
this.idHotel = idHotel;
}
public void setIdOrdemServico(long idOrdemServico) {
this.idOrdemServico = idOrdemServico;
}
public void setIdOrdemServicoCategoria(long idOrdemServicoCategoria) {
IdOrdemServicoCategoria = idOrdemServicoCategoria;
}
public void setIdOrdemServicoLocal(long idOrdemServicoLocal) {
this.idOrdemServicoLocal = idOrdemServicoLocal;
}
public void setIdUsuarioExecutante(long idUsuarioExecutante) {
this.idUsuarioExecutante = idUsuarioExecutante;
}
public void setIdUsuarioSolicitante(long idUsuarioSolicitante) {
this.idUsuarioSolicitante = idUsuarioSolicitante;
}
public void setStatus(String status) {
this.status = status;
}
public String getDataAbertura() {
return dataAbertura;
}
public long getIdArea() {
return idArea;
}
public long getIdHotel() {
return idHotel;
}
public long getIdOrdemServico() {
return idOrdemServico;
}
public long getIdOrdemServicoCategoria() {
return IdOrdemServicoCategoria;
}
public long getIdOrdemServicoLocal() {
return idOrdemServicoLocal;
}
public long getIdUsuarioExecutante() {
return idUsuarioExecutante;
}
public long getIdUsuarioSolicitante() {
return idUsuarioSolicitante;
}
public String getDescricao() {
return descricao;
}
public String getStatus() {
return status;
}
public void setAreaBO(AreaBO areaBO) {
this.areaBO = areaBO;
}
public AreaBO getAreaBO() {
return areaBO;
}
@Override
public Object getProperty(int arg0)
{
switch(arg0)
{
case 0:
return getDataAbertura();
case 1:
return getDescricao();
case 2:
return getStatus();
case 3:
return getIdOrdemServicoCategoria();
case 4:
return getIdOrdemServico();
case 5:
return getIdOrdemServicoLocal();
case 6:
return getIdArea();
case 7:
return getIdHotel();
case 8:
return getIdUsuarioExecutante();
case 9:
return getIdUsuarioSolicitante();
}
return null;
}
@Override
public void setProperty(int arg0, Object arg1)
{
switch(arg0)
{
case 0:
setDataAbertura(arg1.toString());
break;
case 1:
setDescricao(arg1.toString());
break;
case 2:
setStatus(arg1.toString());
break;
case 3:
setIdOrdemServicoCategoria(Long.parseLong(arg1.toString()));
break;
case 4:
setIdOrdemServico(Long.parseLong(arg1.toString()));
break;
case 5:
setIdOrdemServicoLocal(Long.parseLong(arg1.toString()));
break;
case 6:
setIdArea(Long.parseLong(arg1.toString()));
break;
case 7:
setIdHotel(Long.parseLong(arg1.toString()));
break;
case 8:
setIdUsuarioExecutante(Long.parseLong(arg1.toString()));
break;
case 9:
setIdUsuarioSolicitante(Long.parseLong(arg1.toString()));
break;
}
}
@Override
public void getPropertyInfo(int arg0, Hashtable arg1, PropertyInfo arg2)
{
switch(arg0)
{
case 0:
arg2.type = PropertyInfo.STRING_CLASS;
arg2.name = "CategoryId";
break;
case 1:
arg2.type = PropertyInfo.STRING_CLASS;
arg2.name = "Description";
break;
case 2:
arg2.type = PropertyInfo.STRING_CLASS;
arg2.name = "Name";
break;
case 3:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
case 4:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
case 5:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
case 6:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
case 7:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
case 8:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
case 9:
arg2.type = PropertyInfo.INTEGER_CLASS;
arg2.name = "CategoryId";
break;
default:break;
}
}
@Override
public int getPropertyCount()
{
return 10;
}
}
Método Web service C#
[WebMethod]
public OrdemServicoBO Exportar(OrdemServicoBO ordemServicoBO)//quando é executado o androidHttpTransport.call() é chamado esse método, mas o retorno, que é o mesno recebido por parâmetro, esta vazio.
{
return ordemServicoBO; //Atualmente retorna vazio
}
classe em C#
public class OrdemServicoBOAPP
{
private long _idOrdemServico;
public long IdOrdemServico
{
get { return _idOrdemServico; }
set { _idOrdemServico = value; }
}
private long _IdOrdemServicoCategoria;
public long IdOrdemServicoCategoria
{
get { return _IdOrdemServicoCategoria; }
set { _IdOrdemServicoCategoria = value; }
}
private long _idOrdemServicoLocal;
public long IdOrdemServicoLocal
{
get { return _idOrdemServicoLocal; }
set { _idOrdemServicoLocal = value; }
}
private long _idHotel;
public long IdHotel
{
get { return _idHotel; }
set { _idHotel = value; }
}
private long _idUsuarioExecutante;
public long IdUsuarioExecutante
{
get { return _idUsuarioExecutante; }
set { _idUsuarioExecutante = value; }
}
private long _idUsuarioSolicitante;
public long IdUsuarioSolicitante
{
get { return _idUsuarioSolicitante; }
set { _idUsuarioSolicitante = value; }
}
private long _idArea;
public long IdArea
{
get { return _idArea; }
set { _idArea = value; }
}
private String _dataAbertura;
public String DataAbertura
{
get { return _dataAbertura; }
set { _dataAbertura = value; }
}
private string _descricao;
public string Descricao
{
get { return _descricao; }
set { _descricao = value; }
}
private string _status;
public string Status
{
get { return _status; }
set { _status = value; }
}
private AreaBOAPP _areaBO;
public AreaBOAPP AreaBO
{
get { return _areaBO; }
set { _areaBO = value; }
}
}
10996,java|android,É possível utilizar todo o potencial da API Java 8 (consultas lambda e etc) em sistemas Android?
Se sim, já vale a pena fazer a migração?
11030,java|android,public void Spinner1() {
Spinner spinner1 = (Spinner) findViewById(R.id.spinner1);
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this, R.array.curso_array, android.R.layout.simple_spinner_item);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
spinner1.setAdapter(adapter);
}
public void Spinner2() {
Spinner spinner2 = (Spinner) findViewById(R.id.spinner2);
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this, R.array.turma_array, android.R.layout.simple_spinner_item);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
spinner2.setAdapter(adapter);
}
public void Spinner3() {
Spinner spinner3 = (Spinner) findViewById(R.id.spinner3);
ArrayAdapter<CharSequence> adapter = ArrayAdapter.createFromResource(this, R.array.periodo_array, android.R.layout.simple_spinner_item);
adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
spinner3.setAdapter(adapter);
if ("Redes de Computadores".equals(R.array.curso_array)) {
;
}
}
11057,android,Tenho o seguinte método implementado e irei usar ele em varias Activities
private int dia, mes, ano;
String data;
String dd, mm;
int hora, minuto;
static final int TIME_DIALOG_ID = 0;
String horas;
@Override
public void onCreate(Bundle savedInstaceState){
super.onCreate(savedInstaceState);
setContentView(R.layout.sub_casa_quarto);
Calendar c = Calendar.getInstance();
ano = c.get(Calendar.YEAR);
mes = c.get(Calendar.MONTH);
dia = c.get(Calendar.DAY_OF_MONTH);
hora=c.get(Calendar.HOUR);
minuto=c.get(Calendar.MINUTE);
if (mes >=1 && mes<10){
mm = "0"+String.valueOf(mes);
}
else
mm = String.valueOf(mes);
if (dia>= 1 && dia<10){
dd = "0"+String.valueOf(dia);
}
else
dd = String.valueOf(dia);
data = String.valueOf(ano) + "-" + mm + "-"+dd;
}
//Data
public void onCLickteste(View v){
final DatePickerDialog dialogo = new DatePickerDialog(this, mDataSetListener, ano, mes, dia);
dialogo.show();
}
private OnDateSetListener mDataSetListener = new OnDateSetListener(){
@Override
public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth){
int a = year;
int m = monthOfYear;
int d = dayOfMonth;
if (m >= 1 && m<10){
mm = "0"+String.valueOf(m);
}else
mm = String.valueOf(m);
if (d>=1 && d<10){
dd = "0" + String.valueOf(d);
}else
dd = String.valueOf(d);
data = String.valueOf(ano) + "-" +mm+ "-" +dd;
mostrarData();
}
};
private void mostrarData(){
Toast.makeText(this, "Data Selecionada" + data,Toast.LENGTH_LONG).show();
}
Gostaria de criar uma class e colocar ele lá para não precisar repetir o código. Alguém poderia me ajudar ou explicar como fazer isso? Preciso do retorno (resultado) para salvar no banco de dados.
11168,java|android,Estou fazendo uns estudos de android, não manjo muito do assunto pois estou começando agora, gostaria de criar um simples mvc de CRUD, onde quero chamar model.save();
Então criei a seguinte estrutura:
MainActivity.java
Produto produto1 = new Produto(this);
produto1.setId(1);
produto1.setNome("CELULAR");
produto1.setPreco(5.5);
produto1.Save();
Produto.java
@DatabaseTable (tableName = "produtos")
public class Produto extends BaseModel{
@DatabaseField(columnName="id",    columnType="INTEGER", primaryKey=true)
private int id;
@DatabaseField(columnName="nome", columnType="VARCHAR")
private String nome;
@DatabaseField(columnName="preco", columnType="DOUBLE", columnSize="10,9")
private Double preco;
@DatabaseField(columnName="endereco", columnType="TEXT", columnSize="50", canBeNull=true, defaultValue="NULL", unique=true)
private Double endereco;
public int getId() {return id;}
public void setId(int id) {this.id = id;}
public String getNome() {return nome;}
public void setNome(String nome) {this.nome = nome;}
public Double getPreco() {return preco;}
public void setPreco(Double preco) {this.preco = preco;}
public Produto(Context context) {
super(context);
}
}
DatabaseTable.java
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.TYPE) //can use in method only.
public @interface DatabaseTable {
String tableName();
}
DatabaseField.java
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.FIELD) //can use in method only.
public @interface DatabaseField {
String columnName() default "";
String columnType();
String defaultValue() default "";
String columnSize() default "";
boolean canBeNull() default true;
boolean unique() default false;
boolean primaryKey() default false;
boolean autoIncrement() default false;
}
BaseModel.java
public class BaseModel extends DBFactory<BaseModel> {
public BaseModel(Context context) {
super(context);
}
}
DBFactory.java
public class DBFactory<T> extends SQLiteOpenHelper {
private static final String DB_NAME = "VendasDB";
private static final int DATABASE_VERSION  = 1;
private final Context myContext;
private static DBFactory mInstance = null;
private static SQLiteDatabase myWritableDb;
private Class t;
public void set(Class t) { this.t = t; }
public Class get() { return t; }
public DBFactory(Context pContext){
super(pContext, DB_NAME, null, DATABASE_VERSION);
this.myContext = pContext;
this.set((Class) this.getClass());
Log.v("CreateTableOnModel",CreateTableOnModel());
}
public String Save()
{
Log.v("DBFactory", "SAVE()");
Class clazz = get();
DatabaseTable annot = (DatabaseTable) clazz.getAnnotation(DatabaseTable.class);
StringBuilder sb = new StringBuilder();
if(!annot.tableName().equals(""))
{
Field[] fields = clazz.getDeclaredFields();
Field idField = null;
try {
idField = clazz.getDeclaredField("id");
idField.setAccessible(true);
Object b = idField.get(get().newInstance());
Log.v("idField:", b.toString());
} catch (Exception nsfe) {
System.out.println(nsfe.toString());
}
}
}
}
Erro:
03-31 16:26:23.780: I/System.out(32048): java.lang.InstantiationException: can't instantiate class br.com.rlsystem.vendas.model.Produto; no empty constructor
11179,android,Fiz algumas modificações em um app que foi iniciado por outro desenvolvedor. As modificações deram tudo certo e agora quero publicar no Google Play. Segui o tutorial http://developer.android.com/tools/publishing/app-signing.html Altero a versão depois adotei principalmente a parte que usa o ADT - > Android Tools -> Export Signed Application Package - Crio uma nova keystore - Assino - Alinho e beleza gero Apk.
Mas o Google Play me dá uma mensagem dizendo que os certificados SHA1 estão diferentes.
Tenho que gerar o apk com a mesma keystore que foi criada pelo desenvolvedor inicial? E se ele perdeu o arquivo o que posso fazer?
11210,android,Estou desenvolvendo uma aplicação em android e estou em uma parte que preciso colocar muitos itens na tela e para que não fique muito bagunçado, pensei em montar uma tela com o estilo da imagem que esta abaixo
Selecionando os itens a esquerda e mudando a direta, procurei na internet mas não achei, aguem poderia me ajudar como que posso montar neste estilo.
Estou utilizando o Android Studio, para desenvolver.
11271,java|android,Isso é permitido?
public Produto(Context context) {
super(context, this);
}
Está me dando erro :
Cannot refer to 'this' nor 'super' while explicitly invoking a constructor
Estou tentando fazer um simples MVC para quando eu digitar produto.Save() eu consiga resgatar os valores que foram setados abaixo:
Produto produto1 = new Produto(this);
produto1.setId(1);
produto1.setNome("CELULAR");
produto1.setPreco(5.5);
produto1.Save();
O fonte do mesmo encontra-se nessa outra dúvida: Android getDeclaredFields value
11336,java|android,Eu estou desenvolvendo um programa simples em Java Desktop usando SqLite para armazenar dados locais, gostaria de saber qual padrão de design eu posso usar para reutilizar os códigos Java para desenvolver o mesmo aplicativo para Android, no meu projeto eu estou usando o padrão MVC.
Este é o mais apropriado para esta situação?
Tenho um conhecimento intermediariamente em Java para Android, Ciclo de Activitys, Views, BaseAdapter, Handlers, AsyncTask, persistência com sqlite e etc.
11439,java|android,Opa pessoal estou com um certo problema quando eu executo um destroy em uma webview.
wb.getSettings().setAllowFileAccess(true);
wb.getSettings().setJavaScriptEnabled(true);
wb.getSettings().setRenderPriority(RenderPriority.HIGH);
wb.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);
detalhe isso só ocorre quando eu seto o JavaScriptEnable.
mWebContainer.removeView(wb);
wb.clearHistory();
wb.stopLoading();
wb.clearView();
wb.clearCache(true);
wb.destroyDrawingCache();
wb.setWebChromeClient(null);
wb.setWebViewClient(null);
wb.getSettings().setJavaScriptEnabled(false);
wb.removeAllViews();
wb.destroy();
Já tentei quase tudo para dar o destroy sem que o erro acontecesse
04-02 13:34:14.893: E/webview(24263): java.lang.Throwable: Error: WebView.destroy() called while still attached!
04-02 13:34:14.893: E/webview(24263):   at android.webkit.WebViewClassic.destroy(WebViewClassic.java:2188)
04-02 13:34:14.893: E/webview(24263):   at android.webkit.WebView.destroy(WebView.java:647)
04-02 13:34:14.893: E/webview(24263):   at android.view.View.performClick(View.java:4421)
04-02 13:34:14.893: E/webview(24263):   at android.view.View$PerformClick.run(View.java:17903)
04-02 13:34:14.893: E/webview(24263):   at android.os.Handler.handleCallback(Handler.java:730)
04-02 13:34:14.893: E/webview(24263):   at android.os.Handler.dispatchMessage(Handler.java:92)
04-02 13:34:14.893: E/webview(24263):   at android.os.Looper.loop(Looper.java:213)
04-02 13:34:14.893: E/webview(24263):   at android.app.ActivityThread.main(ActivityThread.java:5225)
04-02 13:34:14.893: E/webview(24263):   at java.lang.reflect.Method.invokeNative(Native Method)
04-02 13:34:14.893: E/webview(24263):   at java.lang.reflect.Method.invoke(Method.java:525)
04-02 13:34:14.893: E/webview(24263):   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:741)
04-02 13:34:14.893: E/webview(24263):   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
04-02 13:34:14.893: E/webview(24263):   at dalvik.system.NativeStart.main(Native Method)
04-02 13:34:15.294: E/AndroidRuntime(24263): FATAL EXCEPTION: main
04-02 13:34:15.294: E/AndroidRuntime(24263): java.lang.NullPointerException
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.ZoomManager.onSizeChanged(ZoomManager.java:955)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.WebViewClassic.onSizeChanged(WebViewClassic.java:5689)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.WebView.onSizeChanged(WebView.java:2157)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.sizeChange(View.java:14582)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.setFrame(View.java:14557)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.WebView.access$701(WebView.java:243)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.WebView$PrivateAccess.super_setFrame(WebView.java:1788)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.WebViewClassic.setFrame(WebViewClassic.java:5665)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.webkit.WebView.setFrame(WebView.java:2151)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.layout(View.java:14468)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewGroup.layout(ViewGroup.java:4562)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1076)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.layout(View.java:14471)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewGroup.layout(ViewGroup.java:4562)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.widget.FrameLayout.onLayout(FrameLayout.java:452)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.layout(View.java:14471)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewGroup.layout(ViewGroup.java:4562)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1671)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1525)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.widget.LinearLayout.onLayout(LinearLayout.java:1434)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.layout(View.java:14471)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewGroup.layout(ViewGroup.java:4562)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.widget.FrameLayout.onLayout(FrameLayout.java:452)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.View.layout(View.java:14471)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewGroup.layout(ViewGroup.java:4562)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:1984)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1738)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1008)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5508)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.Choreographer.doCallbacks(Choreographer.java:562)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.Choreographer.doFrame(Choreographer.java:532)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.os.Handler.handleCallback(Handler.java:730)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.os.Handler.dispatchMessage(Handler.java:92)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.os.Looper.loop(Looper.java:213)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at android.app.ActivityThread.main(ActivityThread.java:5225)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at java.lang.reflect.Method.invokeNative(Native Method)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at java.lang.reflect.Method.invoke(Method.java:525)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:741)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:557)
04-02 13:34:15.294: E/AndroidRuntime(24263):    at dalvik.system.NativeStart.main(Native Method)
11455,android,Eu preciso chamar uma nova Activity através do click em uma ImageView.
Segue meu código:
final ImageView botaoAbrirMesas = (ImageView) findViewById(R.botoes_laucher.openMesas);
botaoAbrirMesas.setOnClickListener(new OnClickListener() {
@Override
public void onClick(View v) {
Intent it = new Intent();
it.setClass(null, PrincipalActivity.class);
startActivity(it);
}
});
Porém ao executar a aplicação encerra-se devido a um erro. Este é o modo certo de usar ou não posso usar o click em uma ImageView?
11543,android,Como eu faço para pegar a data hora do dispositivo usando o phonegap?
11723,android,Estou tentando criar uma aplicação Android com um menu na parte superior e um na inferior. Pesquisando encontrei o SplitActionBar mas quando o utilizo todo a parte do ActionBar fica no rodapé. É possível utilizar o ActionBar  e o SplitActionBar juntos?
11792,android,Explicação:
Tenho uma aplicação comum onde há vários componentes EditText, onde eu atribuo-os um handler que  seria este aqui:
TextWatcher handler = new TextWatcher() {
@Override
public void onTextChanged(CharSequence s, int start, int before, int count) {
// TODO Auto-generated method stub
}
@Override
public void beforeTextChanged(CharSequence s, int start, int count, int after) {
oldText = s.toString();
}
@Override
public void afterTextChanged(Editable s) {
//v.setText("afterTextChanged");
}
};
Está funcionando ok, e o debugger entra certinho, os eventos são disparados, porém eu gostaria de ter acesso a View que está disparando os eventos para ter acesso ao método .setText().
Pergunta:
Como fazer para acessar a View que disparou um evento do handler TextWatcher?
Exatamente da mesma forma do v do evento onClick
11815,android,Estou tendo problemas ao tentar usar algumas libs extras no meu projeto tenho uma pasta JNI e ou OBJ ambas tem os arquivos necessários, só que a hora que clico no botão para executar a ação acontece este erro.
11854,java|android,Eu tenho a seguinte situação: abre-se o Fragment A e dele, com um evento de click no botão, vai para o Fragment B. Quando estiver no Fragment B e apertar o botão voltar, com o intuito de voltar para o Fragment A, gostaria de passar alguns parâmetros para o Fragment A. Alguém sabe como eu posso fazer isso?
11944,android,Estou no meio de um desenvovimento de uma aplicação em ANDROID, que contém muitas Activity e para cada Activity tem alguns checkBox e estou usando SharedPreferences para guardar o  que estava selecionado caso o usuário queira voltar na tela.
Mas preciso deletar todas as SharedPreferences ao iniciar a aplicação. Como que posso fazer isso ?
11968,java|android,Estou desenvolvendo uma aplicação para fazer uma lista de chamada escolar , eu criei o Listview e populei ele com dados de uma base de dados Mysql, utilizando Json. O problema é o seguinte, preciso armazenar o estado dos checkbox selecionados. Por exemplo`:
O usuário marcou o checkbox de falta para o Aluno 1 e o checkbox de presença para o aluno 2 , como armazenar o estado dos check-box para depois inseri-los em uma tabela de frequência no MySQL via JSON e PHP.
11993,java|android,Fiz uma aplicativo socket cliente/servidor, onde o cliente é um aparelho com android e o servidor é feito em java. A principio esta tudo ok, no emulador ele roda corretamente, mas quando instalo o apk no celular ele não funciona, ele diz que o aplicativo parou.
12077,java|android,Estou criando a seguinte tela no android
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
android:layout_width="match_parent"
android:layout_height="match_parent"
android:background="@color/activities_fundo_cinza"
android:orientation="vertical" >
<Webview
android:id="@+id/webview"
android:layout_width="match_parent"
android:layout_height="match_parent" />
</LinearLayout>
Mas estou com o seguinte erro:
04-07 14:55:45.557: E/AndroidRuntime(1693): Caused by: java.lang.ClassNotFoundException: Didn't find class "android.view.Webview" on path: DexPathList[[zip file "/data/app/br.test.apk"],nativeLibraryDirectories=[/data/app-lib/br.livetouch.synchro-2, /system/lib]]
12087,android,Estou trabalhando em um projeto para a faculdade no qual uso um banco de dados e uma ListView. O problema se dá quando preciso recuperar os dados de um dos itens da ListView, pois não consigo sincronizar os IDs da ListView com os IDs do BD. No caso, se eu cadastro alguns itens no BD e depois os removo, os IDs da ListView não correspondem mais aos do BD, fazendo com que dê erro na hora de remover ou visualizar.
Existe alguma maneira de amarrar os itens da ListView a um ID único, que não altere caso a ordem ou a quantidade de itens da ListView mude?
12105,android,Fiz um app de teste em que gostaria de ver um ProgressBar sendo atualizando simulando uma tarefa de longa duração. Inicialmente tentei utilizar Handler pois depois de algumas pesquisas vi que seu uso era recomendado:
final int tempoDeEspera = 500;
new Handler().post(new Runnable() {
@Override
public void run() {
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(1);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(2);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(3);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(4);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(5);
}
});
Mas só consegui o resultado esperado usando Thread.
final int tempoDeEspera = 500;
new Thread(new Runnable() {
@Override
public void run() {
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(1);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(2);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(3);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(4);
SystemClock.sleep(tempoDeEspera);
progressBar.setProgress(5);
}
}).start();
Gostaria de saber os detalhes das duas implementações e quais as situações em que cada um deve ser utilizado.
12111,android,Eu preciso executar o comando: gradle -q dependencies para verificar conflitos de biblioteca no Android Studio.
12302,java|android,Eu faço um post com android e HttpClient em uma pagina, mas preciso saber uma forma de obter os cookies dessa conexão.
esse é o código que utilizo para fazer o post
public static void postData(Activity activity, String user, String password) {
// Create a new HttpClient and Post Header
HttpClient httpClient = new DefaultHttpClient();
HttpPost httppost = new HttpPost([URL]);
try {
List<NameValuePair> nameValuePairs = new ArrayList<NameValuePair>(2);
nameValuePairs.add(new BasicNameValuePair("Email", user));
nameValuePairs.add(new BasicNameValuePair("Senha", password));
httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));
HttpResponse response = httpClient.execute(httppost);
System.out.println("response:" + response);
HttpEntity entity = response.getEntity();
String responseString = EntityUtils.toString(entity, "UTF-8");
System.out.println(responseString);
} catch (ClientProtocolException e) {
System.out.println("ClientProtocolException: " + e.getMessage());
} catch (IOException e) {
System.out.println("IOException: " + e.getMessage());
}
}
12308,android,Pessoal estava fazendo um exemplo para um serviço de uma aplicação ser inicia no boot, ele parece iniciar mas se interrompe em poucos segundos e não consigo entender porque, estou seguindo um exemplo de um livro, e encontrei a mesma coisa em muitos exemplos quase igual. Alguma dica pois não consigo entender porque o serviço é interrompido.
public class NotificacaoTask extends TimerTask {
private static int i = 0;
@Override
public void run() {
Log.i("servico" ,"Incremento: "+ i++);
}
}
public class Servico extends Service {
public static final String CATEGORIA = "servico";
public Timer timer;
@Override
public int onStartCommand(Intent intent, int flags, int startId) {
Log.i("servico","O servico foi iniciado!!!!");
timer = new Timer();
long delayInicial = 1 * 1000; //segundos
long periodo = (long) 1 * 1000;
timer.scheduleAtFixedRate(new NotificacaoTask() ,  delayInicial, periodo );
return START_STICKY;
}
public void onDestroy(){
Log.i("servico" , "servico destruido");
timer.cancel();
super.onDestroy();
}
@Override
public IBinder onBind(Intent arg0) {
// TODO Auto-generated method stub
return null;
}
}
public class BootReciever extends BroadcastReceiver {
public static Intent service;
@Override
public void onReceive(Context context, Intent intent) {
service = new Intent("INICIAR_SERVICO");
context.startService( service );
Log.i("servico","iniciou serviço boot");
}
}
<uses-sdk
android:minSdkVersion="8"
android:targetSdkVersion="18" />
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
<application
android:allowBackup="true"
android:icon="@drawable/ic_launcher"
android:label="@string/app_name"
android:theme="@style/AppTheme" >
<activity
android:name="com.example.serviceboot.MainActivity"
android:label="@string/app_name" >
<intent-filter>
<action android:name="android.intent.action.MAIN" />
<category android:name="android.intent.category.LAUNCHER" />
</intent-filter>
</activity>
<service android:name="Servico">
<intent-filter>
<action android:name="INICIAR_SERVICO" />
<category android:name="android.intent.category.DEFAULT" />
</intent-filter>
</service>
<receiver android:name="BootReciever">
<intent-filter >
<action android:name="android.intent.action.BOOT_COMPLETED"/>
</intent-filter>
</receiver>
</application>
saida logcat
04-08 18:37:47.036: I/servico(704): iniciou serviço boot
04-08 18:37:47.057: I/servico(704): O servico foi iniciado!!!!
04-08 18:37:48.077: I/servico(704): Incremento: 0
04-08 18:37:49.186: I/servico(704): Incremento: 1
04-08 18:37:50.166: I/servico(704): Incremento: 2
04-08 18:37:51.077: I/servico(704): Incremento: 3
04-08 18:37:52.077: I/servico(704): Incremento: 4
04-08 18:37:53.077: I/servico(704): Incremento: 5
04-08 18:37:54.085: I/servico(704): Incremento: 6
12314,android,Alguém pode me recomendar um bom SGBD SQLite, pois estou usando o sqlitebrowser para gerenciar os bancos de dados das minhas aplicações Android, porém não consigo fazer quase nada nele.
12421,java|android,Preciso passar o nome de um produto selecionado numa ListView para ser apresentado em um EditText.
Atualmente estou na tela que o usuário informa o cliente e em seguida abre a tela de novo pedido, nessa tela tenho um botão para selecionar um produto dessa ListView.
Problema: Quando entro na Activity da lista e seleciono o produto, ele da start em uma nova tela de novo pedido reiniciando as informações do cliente e mostrando apenas o nome do produto no EditText.
Como eu evito a nova carregar atualizo apenas o EditText?
12482,android,Explicação:
Eu possuo um simples aplicativo Android, e também um servidor NodeJS. Tenho as seguintes permissões no AndroidManifest.xml da minha aplicação:
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.INTERNET"/>
Estou tentando realizar um HTTP Post e uma URL Local, mas isso gera um erro desconhecido:null, ao executar o HTTP Post. Por isso não tenho como saber o que está acontecendo.
Já verifiquei o LogCat mas nada de erros, apenas esse erro null da minha Exception está aparecendo.
Aqui está o código do HTTP Post:
HttpPost post = new HttpPost("http://192.168.25.32:8080/signup");
HttpParams params = new BasicHttpParams(); //eu estava usando Params, agora uso Pairs
List<NameValuePair> pairs = new ArrayList<NameValuePair>();
pairs.add(new BasicNameValuePair("name", "Teste2"));
pairs.add(new BasicNameValuePair("email", "testezin@email.com"));
pairs.add(new BasicNameValuePair("country", "Brazil"));
pairs.add(new BasicNameValuePair("user", "teste"));
pairs.add(new BasicNameValuePair("pass", "123456"));
post.setEntity(new UrlEncodedFormEntity(pairs));
HttpClient httpclient = new DefaultHttpClient();
HttpResponse response = httpclient.execute(post); //aqui vai para a Exception
Pergunta:
O que estou fazendo de errado ? Como posso resolver este problema ?
Também gostaria de saber porque esse erro está sendo gerado.
Observação:
Quando acessando http://192.168.25.32:8080/signup eu tenho uma html form de cadastro funcionando certinho, daí da pra saber que meu servidor NodeJS está comunicando certinho, e funcionando, por isso tenho certeza que o erro está no Android.
12540,java|android,Como pegar os dados de uma tabela e apresentá-los cada um em um EditText?
Estou desenvolvendo em Android. Aqui faço o List dos dados que preciso:
public List<ConfiguracoesSistema> listarConfiguracoes() {
// List que recebe os dados que são percorridos no while
List<Configuracao> listaConfiguracoes = new ArrayList<Configuracao>();
// Variável para utilizar a query no Cursor
String sql = "select * from teste";
// Objeto que recebe os registros do Banco de Dados
Cursor cursor = getReadableDatabase().rawQuery(sql, null);
try {
// Percorre todos os registros do cursor
while (cursor.moveToNext()) {
Configuracao configuracoes = new Configuracao();
// Carrega os atributos do Banco de Dados
configuracoes.setCodigoSistema(cursor.getLong(0));
configuracoes.setNomeEmpresa(cursor.getString(1));
configuracoes.setEnderecoEmpresa(cursor.getString(2));
// Adiciona os pedidos na Lista para ser apresentado
listaConfiguracoes.add(configuracoes);
}
} catch (Exception e) {
Log.i(TAG, e.getMessage());
} finally {
// Garante o fechamento do Banco de Dados
cursor.close();
}
return listarConfiguracoes();
}
E tenho a classe Activity
public class ConfiguracoesSistema extends Activity implements
OnItemClickListener {
private EditText codigoSistema;
private EditText razaoSocial;
private EditText enderecoEmpresa;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.tela_configuracoes);
razaoSocial = (EditText) findViewById(R.id.edtRazaoSocial);
enderecoEmpresa = (EditText) findViewById(R.id.edtEndereco);
}
@Override
public void onItemClick(AdapterView<?> arg0, View arg1, int arg2, long arg3) {
}
}
Como pegar os dados do banco SQLite daquele List e passá-lo para os EditText de cada campo?
12632,android,Eu quero criar alguns JOIN em cinco tabelas como este exemplo:
SELECT * FROM TableA AS TA
INNER JOIN TableB AS TB ON TA.Id = TB.IdTA
INNER JOIN TableC AS TC ON TB.IdTC = TC.Id
INNER JOIN TableD AS TD ON TC.Id = TD.IdTC
INNER JOIN TableE AS TE ON TD.IdTE = TE.Id
WHERE TE.Id = 30085
Obs: As TableB e TableD são tabelas N-M
Estou um pouco confuso de como fazer isso no Ormlite do Android, alguém poderia me ajudar com essa query ou me fornecer um passo a passo?
18807,c++,Gostaria de converter uma string passada para valor do tipo double.
Exemplo:
string expressao = "1+1";
double x, y;
Tal que, x = expressao[0]; e y = expressao[1];
E a soma de x+y retornasse 2 como resposta.
Já li algumas coisas sobre atof, mas não consegui aplicá-lo corretamente.
Segue o código abaixo:
#include <iostream>
#include <stdlib.h>
#include <string>
using namespace std;
double resultado(string); // prototipo
int main()
{
string expressao;
cout << "Exemplo de Expressão:\n\n1+2\n\n";
cout << "Insira uma expressão:";
getline(cin, expressao);
cout << expressao << " = " << resultado(expressao) << endl;
}
double resultado(string valor) {
double x, y;
/*
gostaria de recuperar apenas os valores numericos. Por exemplo:
Se a minha entrada for 1+1
gostaria repartir a entrada(1+1) em duas partes.
1. valor[0] para recuperar o valor 1
2. valor[1] para recuperar o outro valor 1 depois do sinal(+)
3. em seguida gostaria de converter esses dois char(valor[0] e valor[1]) em valores do tipo double par assim, somá-los e retorná-los.
*/
return x;
/*
if (opr[1] == '+') {
return x+y;
} else if (opr[1] == '-') {
return x-y;
} else if (opr[1] == '*') {
return x*y;
} else if (opr[1] == '/') {
return x/y;
} else {
return 0.0;
}
*/
}
18815,c++,Possuo um QVector e quero converter ele para poder fazer comparações para descobrir qual o maior.
Tentei fazer isto mas não funciona:
QVector<QString> vector;
std::atoi(vector.value (i).toStdString ());
19073,c++,Acho que todo mundo com o mínimo de conhecimento sabe quando escolher C ou C++ no lugar de outras linguagens. Existem casos claros em que estas linguagens são mais adequadas e outros que não faz tanta diferença. Mas pode haver situação em que se sabe que uma das duas seja ideal mas não se sabe qual das duas.
Quais elementos concretos devemos analisar e em que situações podemos ter certeza que o C é mais indicado que C++ ou C++ é o mais adequado?
Os motivos não precisam ser essencialmente técnicos mas eles precisam ser objetivos, precisa ser algo que os profissionais experientes nas duas linguagens costumam concordar.
Em outras palavras, quais problemas o C lida melhor e quais o C++ costuma se sair bem?
É claro que ambas podem ser usadas para qualquer projeto, mas nem sempre é a ferramenta mais adequada. Existem casos que alguns requisitos podem inviabilizar uma escolha. Que requisitos podem dificultar tanto o uso de uma linguagem que é melhor usar a outra?
Considere pontos políticos como não requisitos fundamentais, só a parte técnica importa mesmo.
19522,c++,Alguém sabe me dizer o que está errado neste algoritmo?
Faça um programa onde o usuário entre com N valores e armazene os 10 primeiros números pares em um vetor chamado par. Quando chegar ao décimo número par, encerre o programa e imprima o vetor....
#include<stdio.h>
#include<stdlib.h>
#include<locale.h>
int par[10],a,count;
main(){
setlocale(LC_ALL, "Portuguese");
while(count<10){
printf("Digite um número: \n");
scanf("%d",&a);
if(a%2==0){
par[a]=a;
a++;
count++;
}//fim do if
}//fim do while
for(a=1;a<=10;a++){
printf("valores de vetor: %d \n",par[a]);
}//fim do for
system("pause");
}//fim do main
O que está acontecendo é o seguinte, na hora de imprimir os números pares do primeiro vetor até o nono, vai tudo ok, porém a impressão do décimo vetor, está somando "1" ao número, por exemplo se eu digitar as seguintes sequências,
2 4 6 8 10 2 4 6 8 10
ele irá imprimir:
2 4 6 8 10 2 4 6 8 "11"...
20549,c++,Tenho a seguinte situação:
Tenho que repintar a tela a cada pouco tempo para que objetos na tela se mecham por conta, porém isso tem que ocorrer de maneira que o programa não trave.
Já tentei fazer uma Thread e chamar o método update porém a tela fica branca, toda travada.
Basicamente, eu preciso que isso ocorra a cada tempo especifico, mas que não influencie nos depois processos do programa (como eventos de teclado e mouse).
void atualizar(){
X = X - 20;
repaint();
}
Acredito que o melhor é com Thread, mas não consegui implementar da maneira correta, mesmo seguindo a documentação oficial do QT.
Outro ponto, ao tentar fazer com Thread o evento de pintura acaba sendo chamado duas vezes, ocorrendo em crash no programa.
20571,c++,Erro encontra-se na linha:
quadrados = (desvio_qualquer * desvio_qualquer);
Erro: Cannot Convert Float* to Float
#include <iostream>
#include <string.h>
#include <sstream>
#include <cmath>
using namespace std;
struct leituras{
float vetor[1000];
int n;
}n1;
//int quadrados(leituras n1, int i, float desvio_qualquer, float quadrados);
int main ()
{
int i;
float soma, media, desvio, desvio_qualquer, soma_dos_desvios_de_leituras,x,quadrados;
cout << "Programa para calcular a media das leituras de um experimento e o desvio da media, o programa trabalha com no maximo 1000(mil) leituras.\n";
cout << "Digite o numero de leituras que seram inseridas no programa, sendo inteiro não negativas e diferente de zero e menores ou igual a 1000,e use pontos e não virgulas para expressar numeros decimais :\n";
cin >> (n1.n);
if(n1.n != 0) {
for( i=0; i<n1.n; i++)  {
cout << "Digite as leituras:\n ";
cin >> (n1.vetor[i]);
}
for( i=0; i<n1.n; i++)  {
soma = soma+n1.vetor[i];
}
media=soma/n1.n;
for( i=0; i<n1.n; i++)
{
desvio_qualquer = n1.vetor[i] - media;
//quadrados(n1.n, i, desvio_qualquer, quadrados);
soma_dos_desvios_de_leituras = soma_dos_desvios_de_leituras + pow(desvio_qualquer,2);
}
x=pow(n1.n,-1);
desvio=sqrt(x*soma_dos_desvios_de_leituras);
cout << "A media é: " << media << " \n E o desvio é: " << desvio << endl;
}
else {
cout << "Digite a leitura:\n ";
cin >> (n1.vetor[1]);
cout << "A media é: " << n1.vetor[1] << " E o desvio é 0(zero)" << endl;
}
return 0;
}
//int quadrados(leituras n1, int i, float desvio_qualquer, float *quadrados) {
//  for( i=0; i<n1.n; i++){
//      quadrados = (desvio_qualquer * desvio_qualquer);
//}
//return 0;
//}                                 Não entendi o erro.
20577,c++,quadrada cannot be used as a function. Alguem pode me dizer como consertar?
#include <iostream>
#include <string.h>
#include <sstream>
#include <cmath>
using namespace std;
struct leituras{
float vetor[1000];
int n;
}n1;
int quadrados(leituras n1, int i, float desvio_qualquer, float *quadrados);
int main ()
{
int i;
float soma, media, desvio, desvio_qualquer, soma_dos_desvios_de_leituras,x,quadrados;
cout << "Programa para calcular a media das leituras de um experimento e o desvio da media, o programa trabalha com no maximo 1000(mil) leituras.\n";
cout << "Digite o numero de leituras que seram inseridas no programa, sendo inteiro não negativas e diferente de zero e menores ou igual a 1000,e use pontos e não virgulas para expressar numeros decimais :\n";
cin >> (n1.n);
if(n1.n != 0) {
for( i=0; i<n1.n; i++)  {
cout << "Digite as leituras:\n ";
cin >> (n1.vetor[i]);
}
for( i=0; i<n1.n; i++)  {
soma = soma+n1.vetor[i];
}
media=soma/n1.n;
for( i=0; i<n1.n; i++)
{
desvio_qualquer = n1.vetor[i] - media;
quadrados(n1.n, i, desvio_qualquer, &quadrados);
soma_dos_desvios_de_leituras = soma_dos_desvios_de_leituras + quadrados;
}
x=pow(n1.n,-1);
desvio=sqrt(x*soma_dos_desvios_de_leituras);
cout << "A media é: " << media << " \n E o desvio é: " << desvio << endl;
}
else {
cout << "Digite a leitura:\n ";
cin >> (n1.vetor[1]);
cout << "A media é: " << n1.vetor[1] << " E o desvio é 0(zero)" << endl;
}
return 0;
}
int quadrados(leituras n1, int i, float desvio_qualquer, float *quadrados) {
for( i=0; i<n1.n; i++){
*quadrados = desvio_qualquer*desvio_qualquer;
}
return 0;
}
20614,c++,No código abaixo, liberar memória de B libera também de A?
int* A = new int[4];
int *B = A;
delete[] B;
20650,c++,Pelo que consegui entender, o QSharedPointer é um smart pointer, ou seja, um ponteiro que oferece coleta que lixo automática.
Se possível gostaria de um código que melhor explicasse isso, inclusive em que momento devo usa-lo.
20673,c++,Alguem pode me ajudar, este programa esta dando diversos erros, mas eu não encontro nenhum. Desde já agradeço.
Erros:
[Error] cannot convert 'int*' to 'int**' for argument '3' to 'int leitura(int, int, int**)'
[Error] invalid conversion from 'int' to 'int*' [-fpermissive]
[Error] initializing argument 3 of 'int impressao(int, int, int*)' [-fpermissive]
[Error] invalid conversion from 'int' to 'int*' [-fpermissive]
[Error] initializing argument 4 of 'int somatorio(int, int, int*, int*)' [-fpermissive]
[Error] invalid conversion from 'int' to 'int*' [-fpermissive]
[Error] initializing argument 3 of 'int maior(int, int, int*, int*)' [-fpermissive]
[Error] expression list treated as compound expression in initializer [-fpermissive]
[Error] ISO C++ forbids comparison between pointer and integer [-fpermissive]
#include <iostream>
#include <string.h>
#include <sstream>
#include <cmath>
using namespace std;
int leitura(int i, int q_numeros, int *vetor[1000]);
int impressao(int i, int q_numeros, int vetor[1000]);
int somatorio(int i, int q_numeros, int *soma, int vetor[1000]);
int maior(int i, int q_numeros, int vetor[1000], int *max);
int fimpar(int *impar, int i, int q_numeros, int vetor[1000]);
int main(){
int q_numeros, vetor[1000], i, max, soma, impar;
cout<<"Programa que apartir dos numeros inseridos diz quem são eles, o seu somatorio, qual é o maior e quantos impares foram digitados.";
cout <<"\nDigite quantidade de numeros a ser inseridos no programa:";
cin >> q_numeros;
leitura(i, q_numeros, &vetor[1000]);
impressao(i, q_numeros, vetor[1000]);
somatorio( i, q_numeros, &soma,vetor[1000]);
cout<<"\nSomatorio dos numeros digitados é:"<<soma<<endl;
maior( i,  q_numeros, vetor[1000], &max);
cout<<"\nMaior numero é: "<< max<<endl;
int fimpar (&impar, i, q_numeros, vetor[1000]);
cout<<"n\A quantidade de numeros impares é: "<< impar<<endl;
return 0;
}
int leitura(int i, int q_numeros, int *vetor[1000]){
cout<<"digite os numeros";
for(i=0; i<q_numeros;i++){
cin >> *vetor[i];
}
return 0;
}
int impressao(int i, int q_numeros, int vetor[1000]){
cout << "Numeros digitados foram:\n";
for(i=0; i<q_numeros;i++)
{
cout << vetor[i]<<"\n"<< endl;
}
return 0;
}
int somatorio(int i, int q_numeros, int *soma, int vetor[1000]){
for(i=0; i<q_numeros;i++){
*soma=*soma+vetor[i];
}
return 0;
}
int maior(int i, int q_numeros, int vetor[1000], int *max){
for(i=0; i<q_numeros;i++) {
if (max<vetor[i]) {
*max=vetor[i];
}
else{
}
}
return 0;
}
int fimpar (int *impar, int i, int q_numeros, int vetor[1000]) {
for(i=0; i<q_numeros;i++){
if ((vetor[i] % 2) == 0){
}
else
{
*impar++;
}
}
return 0;
}
20871,c++,Quero ligar um programa dentro do outro pois possuo um projeto (main, 7 Classes) em C++/OpenCV que deveria chamar um programa também em C++/integrado com o tesseract, passar e receber um Objeto para que o programa (internamente ele ira fazer um processamento e reconhecimento de caracteres).
Por que não faço tudo em um único programa? Porque o programa em C++/OpenCV é x64 e o C++/Tesseract Win32, não há como realizar uma integração C++/OpenCV2.4.8/Tesseract 3.03 x64 (quando o faço gera um pilha de erros, já tentei de varias formas até no fórum de desenvolvedores mas não obtive exito).
20913,c++,Bom dia pessoal, tenho o seguinte problema:
tenho uma classe que representa uma Lista, e a partir dela criei três objetos(não sei qual npme se dá) lista1(5), lista2(5), lista3(10).
template<class T>class Lista{
private:
T *itens;
int ultimo, maxTam;
public:
Lista(int maxTam);
void insere(T item);
};
template <class T> Lista<T>::Lista(int maxTam){
this->maxTam = maxTam;
this->itens = new T[maxTam];
this->ultimo = 0;
}
template <class T> void Lista<T>::insere(T item){
if(ultimo == maxTam){
cout<< "Lista Cheia!"<<endl;
}else{
this->itens[this->ultimo] = item;
this->ultimo++;
}
}
int main(){
Lista<int> lista1(5); //esta lista ja está cheia
Lista<int> lista2(5); //esta lista já está cheia
Lista<int> lista3(10); //esta lista deve receber o conteudo das duas listas anteriores intercalados.
return 0;
}
suponde que eu ja enchi as duas primeiras listas, como copiar os itens delas para a fila3, passando-as como parametro de uma função? Fiz a função a baixo, mas não funciona.
//Aqui o protótipo do método.
template<class T> T Lista<T>::MisturaListas(Lista<T> *l1, Lista<T> *l2, Lista<T> *l3){
for(int i = 0; i < 5; i++){
l3->insere(l1[i]);
l3->insere(l2[i]);
}
}
//Aqui a parte que fica na classe
T MisturaListas(Lista<T> *l1, Lista<T> *l2, Lista<T> *l3);
//Aqui o main
int main(){
Lista<int> lista1(5); //esta lista ja está cheia
Lista<int> lista2(5); //esta lista já está cheia
Lista<int> lista3(10); //esta lista deve receber o conteudo das duas listas anteriores intercalados.
lista3.MisturaListas<int>(lista1, lista2, lista3);
return 0;
}
Espero que tenha entendido, se poderem me ajudar, agradeço.
21062,c++,Não estou conseguindo gravar uma string em arquivo .txt em C++ (CodeBlocks).
// aux é um inteiro
// aux2 é uma string
// foi dado fopen no arquivo...abaixo só segue a parte com erro
aux = x.retorne_energia();
aux2 = x.retorna_nome();
fprintf(arquivo,"%d",aux);
fputs(aux2,arquivo);
aux1 = y.retorne_energia();
aux2 = y.retorna_nome();
fprintf(arquivo,"%d %s",aux,aux2);
fclose(arquivo);
Como posso resolver os erros abaixo?
error: cannot convert 'std::string {aka std::basic_string}' to
'const char*' for argument '1' to 'int fputs(const char*, FILE*)'|
error: cannot pass objects of non-trivially-copyable type 'std::string
{aka class std::basic_string}' through '...'|
format '%s' expects argument of type 'char*', but argument 4 has type
'std::string {aka std::basic_string}' [-Wformat]|
21450,c++,Estou tendo um problema na codificação de strings no Qt. Ao mostrar alguma coisa em um QMessageBox ou dar um drawText em um paintEvent, minhas strings saem mal formatadas, como se não estivessem na codificação correta.
Eis como me aparece:
Código do LineChart:
if(bTitle){
p.setPen(titleColor);
p.drawText((width()/2 - (getTitle().size() * 5)),40, getTitle());
}
sendo que getTitle é:
QString LineChart::getTitle(){
return this->Title;
}
Uso Debian 7.1 64 bits.
Alguém sabe como resolver?
21467,c++,Sempre que tento gravar algo novo nesse arquivo, ele apaga o que estava salvo antes, fica sempre salvando em cima do que tinha antes, alguém sabe me dizer o que é?
arquivo = fopen("dados.txt","w");
aux     = x.retorne_energia();
aux2    = x.retorna_nome();
fprintf(arquivo,"%d\t",aux);
fputs(aux2.c_str(), arquivo);
aux     = y.retorne_energia();
aux2    = y.retorna_nome();
fprintf(arquivo,"\n%d\t",aux);
fputs(aux2.c_str(), arquivo);
fclose(arquivo);
21697,c++,Eu executo esse programa com o executável, mas falta fechar o console que fica aberto após executar, como fazer isso?
21700,c++,Estou tentando fazer uma simples caixa de diálogo exibir meu nome. Vejam o código.
Pessoa *p = new Pessoa("Ronald Araújo", "ronald.araujo@live.com", 23);
QMessageBox msg;
msg.setText(QString::fromUtf8(p->getNome()));
msg.exec();
Porém o código quebra na linha do setText() com o seguinte erro:
error: no matching function for call to
'QString::fromUtf8(std::string)'
msg.setText(QString::fromUtf8(p->getNome));
Lembrando que quando eu coloco por exemplo msg.setText(QString::fromUtf8("Oi mundo")) o código roda normalmente.
Implementação para retornar o nome:
string Pessoa::getNome(){   return this->nome; }
Alguém pode me dar uma luz?
21869,c++,Estou em desenvolvimento de uma biblioteca de orientação-a-objetos. Criei um iterator para meu futuro container. Tenho advance_iterator e regress_iterator. Ambos dão origem a bidirectional_iterator. O código é:
#ifndef OBJSTD_ADVANCE_ITERATOR
#define OBJSTD_ADVANCE_ITERATOR
#include <cstddef>
namespace objstd
{
template <typename data_type> class advance_iterator
{
public:
advance_iterator(data_type* data_ref)
{
this->data_reference = data_ref;
}
advance_iterator(const advance_iterator& it) = default;
advance_iterator(advance_iterator&& it) = default;
virtual bool operator > (const advance_iterator& it) const
{
return this->data_reference > it.data_reference;
}
virtual bool operator < (const advance_iterator& it) const
{
return this->data_reference < it.data_reference;
}
bool operator == (const advance_iterator& it) const
{
return this->data_reference == it.data_reference;
}
bool operator != (const advance_iterator& it) const
{
return this->data_reference != it.data_reference;
}
virtual bool operator >= (const advance_iterator& it) const
{
return (*this).operator>(it) || (*this).operator==(it);
}
virtual bool operator <= (const     advance_iterator& it)const
{
return (*this).operator<(it) || (*this).operator==(it);
}
virtual advance_iterator& operator+=(const size_t skips)
{
this->data_reference += skips;
return *this;
}
virtual advance_iterator& operator++()
{
*this += 1;
return *this;
}
virtual advance_iterator& operator++(int)
{
advance_iterator& state = *this;
this->operator++();
return state;
}
virtual advance_iterator operator+ (const size_t skips)
{
return this->data_reference + skips;
}
//must be declared virtual for non-conservational
virtual data_type& operator*() const
{
return *this->data_reference;
}
protected:
data_type* data_reference;
};
}
#endif // OBJSTD_ADVANCE_ITERATOR
regress_iterator
#ifndef OBJSTD_REGRESS_ITERATOR
#define OBJSTD_REGRESS_ITERATOR
#include <cstddef>
namespace objstd
{
template <typename data_type> class regress_iterator
{
public:
regress_iterator(data_type* data_ref)
{
this->data_reference = data_ref;
}
regress_iterator(const regress_iterator& it) = default;
regress_iterator(regress_iterator&& it) = default;
virtual bool operator > (const regress_iterator& it) const
{
return this->data_reference > it.data_reference;
}
virtual bool operator < (regress_iterator& it) const
{
return this->data_reference < it.data_reference;
}
bool operator == (regress_iterator& it) const
{
return this->data_reference == it.data_reference;
}
bool operator != (regress_iterator& it) const
{
return this->data_reference != it.data_reference;
}
virtual bool operator >= (regress_iterator& it) const
{
return (*this).operator>(it) || (*this).operator==(it);
}
virtual bool operator <= (regress_iterator& it)const
{
return (*this).operator<(it) || (*this).operator==(it);
}
virtual regress_iterator& operator-=(size_t backwards)
{
this->data_reference -= backwards;
return *this;
}
virtual regress_iterator& operator--()
{
*this -= 1;
return *this;
}
virtual regress_iterator& operator--(int)
{
regress_iterator& state = *this;
this->operator--();
return state;
}
virtual regress_iterator operator- (size_t backwards)
{
return this->data_reference - backwards;
}
//must be declared virtual for non-conservational
virtual data_type& operator*() const
{
return *this->data_reference;
}
protected:
data_type* data_reference;
};
}
#endif // OBJSTD_REGRESS_ITERATOR
E bidirectional_iterator é definido assim:
#ifndef OBJSTD_BIDIRECTIONAL_ITERATOR
#define OBJSTD_BIDIRECTIONAL_ITERATOR
#include "regress_iterator.hpp"
#include "advance_iterator.hpp"
namespace objstd
{
template <typename data_type> class bidirectional_iterator : public advance_iterator <data_type>, public regress_iterator <data_type>
{
};
}
#endif // OBJSTD_BIDIRECTIONAL_ITERATOR
O problema é ao criar uma instancia do tipo bidirectional_iterator(ponteiro), pois o compilador não sabe como inicializar. O que estou fazendo de errado?
21923,c++,Preciso repartir o espaço em células. Cada célula deve ter aproximadamente o tamanho do raio das partículas para que uma partícula não ocupe mais que 4 células como na ilustração abaixo:
A partícula de raio r pode ocupar até 4 células. A sua própria
célula (onde o centro (x,y) da partícula está localizado) e mais outras 3 células vizinhas.
Motivo da otimização: Com o atual código, quando aumento a quantidade de partículas, o programa fica muito lento e as colisões entre elas não ocorrem de forma fluída.
canvas.cpp
#include "canvas.h"
#include <QPainter>
canvas::canvas(QWidget *parent) :
QWidget(parent)
{
m_particulas.resize(50);
int n = m_particulas.size();
for(int i = 0 ; i<n ; ++i)
{
m_particulas[i].init();
}
startTimer(5);
}
void canvas::paintEvent(QPaintEvent * event)
{
(void) event;
QPainter painter(this);
painter.setWindow(0,0,1000,1000);
painter.setRenderHint(QPainter::Antialiasing, true);
painter.setPen(QPen(Qt::black, 2, Qt::SolidLine, Qt::RoundCap));
painter.setBrush(QBrush(Qt::darkCyan, Qt::SolidPattern));
int n = m_particulas.size();
for(int i = 0 ; i<n ; ++i)
{
double x = m_particulas[i].x();
double y = m_particulas[i].y();
double L = m_particulas[i].r();
painter.drawEllipse(QPointF(x, y), L, L);
}
}
void canvas::timerEvent(QTimerEvent *event)
{
(void) event;
int n = m_particulas.size();
for(int i = 0 ; i<n ; ++i)
m_particulas[i].andar();
for(int i = 0 ; i<n ; ++i)
{
Particula &pi = m_particulas[i];
for(int j = 0 ; j < n ; ++j)
{
if (i == j) continue; //(MODO 2)
Particula &pj = m_particulas[j];
if (pi.testa_colisao(pj))
{
pi.calcula_colisao(pj);
}
}
}
update();
}
particula.cpp
#include "particula.h"
#include <stdlib.h>     /* srand, rand */
#include <cmath>
Particula::Particula()
{
}
void Particula::init()
{
m_r = 20;
m_x = 900.0*rand()/RAND_MAX + 50;
m_y = 900.0*rand()/RAND_MAX + 50;
m_vx = 2.0 * rand()/RAND_MAX - 1;
m_vy = 2.0 * rand()/RAND_MAX - 1;
double norma = sqrt(m_vx*m_vx + m_vy*m_vy);
m_vx /= norma;
m_vy /= norma;
}
void Particula::normaliza(double &vx, double &vy)
{
double norma = sqrt(vx*vx + vy*vy);
if (norma > 0)
{
vx /= norma;
vy /= norma;
}
}
bool Particula::testa_colisao (Particula &p)
{
double dx = x() - p.x();
double dy = y() - p.y();
double dist2 = dx*dx + dy*dy;
double somaRaios = r() + p.r();
return dist2 <= somaRaios * somaRaios;
}
void Particula::calcula_colisao(Particula &p)
{
double vx = p.x() - x();
double vy = p.y() - y();
normaliza(vx,vy);
p.m_vx += vx;
p.m_vy += vy;
normaliza(p.m_vx,p.m_vy);
m_vx -= vx;
m_vy -= vy;
normaliza(m_vx, m_vy);
do
{
andar();
p.andar();
} while (testa_colisao(p));
}
double Particula::x() const
{
return m_x;
}
double Particula::y() const
{
return m_y;
}
double Particula::r() const
{
return m_r;
}
void Particula::andar()
{
m_x += m_vx;
m_y += m_vy;
if(m_x > 1000-m_r) m_vx *= -1; //inferior - multiplicado por -1 para inverter a     direção...
if(m_y > 1000-m_r) m_vy *= -1; //direita
if(m_x < 0+m_r) m_vx *= -1; //esquerda
if(m_y < 0+m_r) m_vy *= -1; //superior
}
21938,c++,Tenho um struct com um campo do tipo vetor de char e tenho um arquivo .txt com varias linhas nesse formato com nome de músicas.
texto1 texto2 texto3 texto4
Preciso ler o arquivo inteiro linha por linha e armazenar cada linha em uma posição do vetor de struct. Fiz esse código aqui, porém ele armazena o ultima linha em todos as posições do vetor desse struct.
#include <iostream>
#include <cstring>
#include <fstream>
using namespace std;
struct musica2{
char *musica;
};
int main(){
FILE *arquivo;
musica2 *z = new musica2[12];
char a[255];
arquivo = fopen("teste.dat", "r");
int i=0;
if(arquivo == NULL)
cout << "Erro ao abrir arquivo." << endl;
else{
while(!feof(arquivo)){
z[i].musica = fgets(a,255,arquivo);
i++;
}
}
cout << z[3].musica;
fclose(arquivo);
return 0;
}
O que pode ser?
22551,c++,A intenção neste programa seria imprimir a posição linha e coluna em que se localiza o maior valor da dentro da matriz, alguém sabe me dizer por que no resultado está imprimindo 0x0 e se existe outro caminho mais eficaz? No meu teste é claro, o valor maior digitado não foi o primeiro.
#include<stdio.h>
#include<stdlib.h>
int matriz[3][3],i,j,maior=0,i1,j1;
main(){
for(i=0;i<3;i++){
for(j=0;j<3;j++){
printf("Digite um valor: ");
scanf("%d",&maior);
if(matriz[i][j]>maior){
maior=matriz[i][j];
i1=i;
j1=j;
}//fim if
}//fim for j
}//fim for i
printf("%d x %d \n",i1,j1);
system("pause");
}//fim do main
23116,python,Estou recebendo um xml no formato de string no meu response. Eu quero manipular esse xml e gerar uma lista das tags <item> do xml retornado pelo web service. Aqui vai o trecho do meu código:
if (op == 2):
print '\n'*3
print 'TESTE Viagem'; sleep(2);
print '\n'*3
response = oRodov.viagem() #xml
tree = ET.parse(response)
root = tree.getroot()
iterador = root.getiterator()
for x in iterador:
if x.tag == "item":
print x.items()
O código esta me retornando um IOError
Traceback (most recent call last):
File "rodoviario.py", line 134, in ?
tree = ET.parse(response)
File "/usr/local/lib/python2.4/site-packages/elementtree/ElementTree.py", line 1120, in parse
tree.parse(source, parser)
File "/usr/local/lib/python2.4/site-packages/elementtree/ElementTree.py", line 642, in parse
source = open(source, "rb")
IOError: [Errno 2] No such file or directory: '<?xml version="1.0" encoding="ISO-8859-1"?>\n\n<viagem origem="1" destino="2" data="2014-07-02" servico="2311" grupo="DEMON">\n <saida dia="0" hora="02:00" />\n <chegada dia="0" hora="12:15" />\n <empresa>DEMON</empresa>\n <mensagem-servico></mensagem-servico>\n <destino>2</destino>\n <moeda>R$</moeda>\n <preco>51.10</preco>\n <layout>\n  <secao nome="Unica">\n   <item x="0" y="0">\n    <assento ocupado="0" tipo=" " numero="01" />\n   </item>\n   <item x="1" y="0">\n    <assento ocupado="0" tipo=" " numero="05" />\n   </item>\n   <item x="2" y="0">\n    <assento ocupado="0" tipo=" " numero="09" />\n   </item>\n   <item x="3" y="0">\n    <assento ocupado="0" tipo=" " numero="13" />\n   </item>\n   <item x="4" y="0">\n    <assento ocupado="0" tipo=" " numero="17" />\n   </item>\n   <item x="5" y="0">\n    <assento ocupado="0" tipo=" " numero="21" />\n   </item>\n   <item x="6" y="0">\n    <assento ocupado="0" tipo=" " numero="25" />\n   </item>\n   <item x="7" y="0">\n    <assento ocupado="0" tipo=" " numero="29" />\n   </item>\n   <item x="8" y="0">\n    <assento ocupado="0" tipo=" " numero="33" />\n   </item>\n   <item x="9" y="0">\n    <assento ocupado="0" tipo=" " numero="37" />\n   </item>\n   <item x="10" y="0">\n    <assento ocupado="0" tipo=" " numero="42" />\n   </item>\n   <item x="0" y="1">\n    <assento ocupado="0" tipo=" " numero="02" />\n   </item>\n   <item x="1" y="1">\n    <assento ocupado="0" tipo=" " numero="06" />\n   </item>\n   <item x="2" y="1">\n    <assento ocupado="0" tipo=" " numero="10" />\n   </item>\n   <item x="3" y="1">\n    <assento ocupado="0" tipo=" " numero="14" />\n   </item>\n   <item x="4" y="1">\n    <assento ocupado="0" tipo=" " numero="18" />\n   </item>\n   <item x="5" y="1">\n    <assento ocupado="0" tipo=" " numero="22" />\n   </item>\n   <item x="6" y="1">\n    <assento ocupado="0" tipo=" " numero="26" />\n   </item>\n   <item x="7" y="1">\n    <assento ocupado="0" tipo=" " numero="30" />\n   </item>\n   <item x="8" y="1">\n    <assento ocupado="0" tipo=" " numero="34" />\n   </item>\n   <item x="9" y="1">\n    <assento ocupado="0" tipo=" " numero="38" />\n   </item>\n   <item x="10" y="1">\n    <assento ocupado="0" tipo=" " numero="41" />\n   </item>\n   <item x="12" y="2">\n    <assento ocupado="0" tipo=" " numero="04" />\n   </item>\n   <item x="1" y="3">\n    <assento ocupado="0" tipo=" " numero="08" />\n   </item>\n   <item x="2" y="3">\n    <assento ocupado="0" tipo=" " numero="12" />\n   </item>\n   <item x="3" y="3">\n    <assento ocupado="0" tipo=" " numero="16" />\n   </item>\n   <item x="4" y="3">\n    <assento ocupado="0" tipo=" " numero="20" />\n   </item>\n   <item x="5" y="3">\n    <assento ocupado="0" tipo=" " numero="24" />\n   </item>\n   <item x="6" y="3">\n    <assento ocupado="0" tipo=" " numero="28" />\n   </item>\n   <item x="7" y="3">\n    <assento ocupado="0" tipo=" " numero="32" />\n   </item>\n   <item x="8" y="3">\n    <assento ocupado="0" tipo=" " numero="36" />\n   </item>\n   <item x="9" y="3">\n    <assento ocupado="0" tipo=" " numero="40" />\n   </item>\n   <item x="10" y="3">\n    <assento ocupado="0" tipo=" " numero="44" />\n   </item>\n   <item x="0" y="4">\n    <assento ocupado="0" tipo=" " numero="03" />\n   </item>\n   <item x="1" y="4">\n    <assento ocupado="0" tipo=" " numero="07" />\n   </item>\n   <item x="2" y="4">\n    <assento ocupado="0" tipo=" " numero="11" />\n   </item>\n   <item x="3" y="4">\n    <assento ocupado="0" tipo=" " numero="15" />\n   </item>\n   <item x="4" y="4">\n    <assento ocupado="0" tipo=" " numero="19" />\n   </item>\n   <item x="5" y="4">\n    <assento ocupado="0" tipo=" " numero="23" />\n   </item>\n   <item x="6" y="4">\n    <assento ocupado="0" tipo=" " numero="27" />\n   </item>\n   <item x="7" y="4">\n    <assento ocupado="0" tipo=" " numero="31" />\n   </item>\n   <item x="8" y="4">\n    <assento ocupado="0" tipo=" " numero="35" />\n   </item>\n   <item x="9" y="4">\n    <assento ocupado="0" tipo=" " numero="39" />\n   </item>\n   <item x="10" y="4">\n    <assento ocupado="0" tipo=" " numero="43" />\n   </item>\n  </secao>\n </layout>\n</viagem>\n'
Identifiquei que esse erro esta acontecendo por que eu não estou informando um diretório de arquivo xml e sim passando o xml em formato de string:
tree = ET.parse(response)
Porém não quero ter que salvar essa string como arquivo xml para depois fazer o parse e manipular o arquivo.
Como eu faço para manipular essa string como xml sem ter q salvá-la como um arquivo em algum diretório?!
23121,python,Se executarmos o código abaixo, será criada uma janela com um botão dentro, que sempre que clicado irá abrir outra janela(Window2)... Como fazer para que não seja permitido uma segunda instancia de Window2? Quero fazer isso sem usar modal().
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
from gi.repository import Gtk
class Main(Gtk.Window):
def __init__(self):
button = Gtk.Button('Click')
Gtk.Window.__init__(self, title = 'Main Window')
button.connect('clicked', Window2)
self.connect('delete-event', Gtk.main_quit)
self.set_default_size(300, 200)
self.add(button)
self.show_all()
class Window2(Gtk.Window):
def __init__(self, widget):
button = Gtk.Button('Exit')
Gtk.Window.__init__(self, title = 'Window2')
button.connect('clicked', Gtk.main_quit)
self.set_default_size(300, 200)
self.add(button)
self.show_all()
if __name__ == '__main__':
Main()
Gtk.main()
23146,c++,Tentei seguir o fonte de um tutorial Metar Gearn Nanna, pois tinha interesse em criar um jogo em opengl e c++, podia ser algo simples, com validações precárias, apenas para eu entender o conceito, aprendi a desenhar triangulos e colorir usando o opengl (confesso que poderia ter dedidado um pouco tempo e esforço para essa tarefa), mas ficou muito longe de conseguir fazer um jogo como o snake por exemplo. O link com o fonte estava quebrado. E o meu conhecimento nessa área é extremamente limitado, quase nulo, segui essa apostila, mas também tive dificuldade. Acredito que criar um jogo seja algo de interesse de muitos desenvolvedores por hobby mesmo, mas muitos como eu acabam encontrando muitas dificuldade. A falta de código de exemplo de algo funcional foi algo que me limitou bastante. Não postei código pelo motivo de eu não saber muito bem nem por onde começar.  Então o questão real a dessa pergunta é: Como fazer um jogo em opengl (qualquer jogo) que aceite interação do usuário (teclas do teclado, mouse ou controle)? O que eu espero como resposta são coisas do tipo links com exemplo de código, documentação e etc... qualquer coisa que seja útil não só para mim, mas para todos que tenham interesse em construir um jogo. Não importa que seja simples. Se  tiver um menu e um quadro que ande com as setas do mouse está valendo! A ideia é dar um norte para todos que quererem desenvolver um jogo leiam essa pergunta e com a resposta sejam capazes de dar os primeiros passos.
23167,c++,Um script em C ou C++ poderia escrever algoritmos em Lua (por brute force, isto é, testar várias combinações possíveis) baseado em um banco de dados com os resultados dos algoritmos.
A ideia é chegar ao algoritmo mais eficiente para determinado objetivo, por exemplo, desenvolvi um algoritmo para cálculo de estatísticas, quero chegar a um mais eficiente, sem perder o foco.
Existe alguma biblioteca ou maneira de testar a velocidade de um código em Lua ou C/C++ usando C++?
23529,c++,Com que faço para lista dados de duas tabela no tableView?
Banco de dados(Exemplo) Sqlite:
tb_venda
tb_produto
tb_valor
tb_cliente_id (Id do cliente "tb_cliente")
tb_cliente
tb_cliente_id (id primary key)
tb_nome
tb_estado
Com QSqlRelationalTableModel consigo trazer apenas o nome do cliente.
Preciso também do estado.
relacao = new QSqlRelationalTableModel(this);
relacao->setTable("tb_venda");
relacao->setRelation(2, QSqlRelation("tb_cliente", "tb_cliente_id", "tb_nome"));
relacao->select();
ui->tableView->setModel(relacao);
23628,python,O @Elizeu Santos perguntou no grupo de Python em português do facebook o seguinte:
"Fala galera, to estudando python e uma coisa que não estou entendendo
são os decorators. Dei de cara com eles fazendo o tuto de flask, podem
me esclarecer?"
(O facebook não é legal para responder perguntas que incluam português e código misturado nos comentários - aqui é muito melhor formatado pra isso - então trouxe a pergunta pra cá, para colar a resposta que eu escrevi pra ele)
23823,python,Estou com uma dúvida. É possível colocar o time.sleep() numa declaração if/else?
Exemplo:
import time
if time.sleep(2):
print "hello"
else:
#alguma coisa
Procurei na internet mas não encontrei resultados esclarecedores.
23829,python,Supondo que criei um programa em Python e ele está funcionando perfeitamente, como fazer para permitir apenas uma instancia do programa por vez? Pesquisei no Google e encontrei uma pessoa dizendo ter resolvido a questão usando PID's, mas não era em Python e não havia mais detalhes, também não encontrei informações sobre a solução citada.
23895,python,Estou tentando criar um sistema de multiplayer local, onde terá um script para o "servidor" e vários "clientes" poderão se conectar. Por enquanto vou usar em uma aplicação de teste simples, onde os usuários criarão suas contas, farão login e na tela de cada usuário que estiver conectado aparecerá a lista de todos que estiverem conectados. A lista seria alterada em todos os clientes quando algum usuário logasse ou saísse.
Do jeito que eu estava fazendo, quando o cliente queria fazer alguma ação, como login por exemplo, ele gravava uma string em um arquivo de texto, por exemplo 'login usuario senha'. Daí tinha o script do server que ficava em um loop infinito lendo todos esses arquivos (cada cliente aberto seria 1, não necessariamente o usuário conectado) e gravando no mesmo arquivo a resposta, por exemplo:
Arquivo de texto:
client_request:login usertest 1234
server_answer:wrong_password
Só que estava lento, com alguns problemas e acho meio gambiarra ficar gravando e lendo arquivos de texto sem parar. Queria alguma ideia de como posso fazer isso de uma maneira melhor, sem usar arquivos !
Se não fui claro tento explicar de novo.
23913,python,Consideremos os exemplos abaixo:
Exemplo 1:
> class PrintText():
>     def __init__(self):
>         text = 'Funciona!'
>         self.printa(text)
>
>     def printa(self, text):
>         print(text)
Exemplo 2:
> class PrintText():
>     def __init__(self):
>         self.text = 'Funciona!'
>         self.printa()
>
>     def printa(self):
>         print(self.text)
Vamos supor que na classe PrintText existem vários casos como esse, onde determinada variável é usada por apenas uma ou duas funções; É melhor usar o Exemplo 1 que passa a variável como argumento para a função, ou usar o Exemplo 2 que declara explicitamente o 'self'?
Os dois exemplos funcionam, mas existe uma vantagem entre um ou outro, ou um deles está incorreto?
23959,python,Olá. Estou com um impasse. O meu objetivo é que se o usuário carregar no enter ou esperar 2 segundos ele inicie o "PowerBIT", mas numa declaração if/else e não sei como fazê-lo. Exemplo:
#(...)
elif machine == "" or #tempo:
if temp >=20:
print "A iniciar o PowerBIT 1.0..."
starting_so = time.sleep(float(temp))
#(...)
Código completo:
import time
def text_y():
with open('Chave de inicialização do SO(não mexer).txt', 'r') as f:
text = f.readlines()
return text
f.close()
if __name__ == "__main__":
text_z = text_y()
def ler_reboot_arquivo():
try:
with open('reiniciar.txt', 'r') as f:
leitura = f.readlines()
return leitura
f.close()
except:
pass
if __name__ == "__main__":
reboot = ler_reboot_arquivo()
#====================<<<código de carregamento de dados>>>============================#
def ler():                                                                        #
try:                                                                          #
with open('maquina virtual 1ªversão-texto inicial.txt', 'r') as f:        #
linhas = f.readlines()                                                #
return linhas                                                         #
f.close()                                                                 #
except:                                                                       #
pass                                                                      #
try:                                                                              #
if __name__ == "__main__":                                                    #
dados = ler()                                                             #
dados = "".join(str(s.replace('[', '').replace(']', '')) for s in dados)  #
except TypeError:                                                                 #
pass                                                                          #
#===========<<<<<código de carregamento de dados>>>>>=================================#
#===#
def ler_tempo_boot():                                                         #
with open('Tempo de boot.txt', 'r') as f:                                 #
linhas = f.readlines()                                                #
return linhas                                                         #
f.close()                                                                 #
f.closed                                                                  #
if __name__ == "__main__":                                                    #
temp = ler_tempo_boot()                                                   #
temp = "".join(str(s.replace('[', '').replace(']', '')) for s in temp)    #=====#
#==============<<<<<código de carregamento de dados>>>>>================================#
def guardar_password_vm():                                                          #
try:                                                                            #
with open('Password VM.txt', 'r') as f:                                     #
linhas = f.readlines()                                                  #
return linhas                                                           #
f.close()                                                                   #
except:                                                                         #
pass                                                                        #
try:                                                                                #
if __name__ == "__main__":                                                      #
writing = guardar_password_vm()                                             #
writing = "".join(str(s.replace('[', '').replace(']', '')) for s in writing)#
except TypeError:                                                                   #
pass                                                                            #
#
#================<<<código de salvação de dados>>>======================================#
def guardarTempoBoot(times):                                            #===========#
with open('Tempo de boot.txt', 'r+') as f:                          #
f.write(str(times))                                             #
f.seek(0)                                                       #
f.close()                                                           #
#================<<<código de salvação de dados>>>==========================#
def reboot_arquivo():
turn_off = open('reiniciar.txt', 'w')
turn_off.write(msm)
turn_off.close()
def reiniciar_vm():
try:
msm = raw_input("Tem a certeza que pretende reiniciar o SO?")
if msm == "sim" or msm == "si" or msm == "s":
print "A guardar dados e a encerrar o SO..."
import time
turn_off_so = time.sleep(10)
while turn_off_so:
reboot_arquivo()
for f in user_z:
f.close()
f.closed
for f in entrada_z:
f.close()
f.closed
for f in programas_z:
f.close()
f.closed
else:
palavra_passe_os()
except:
encerrar = raw_input("Há programas em execução. Tem a certeza que pretende continuar?")
if encerrar == "sim" or encerrar == "si" or encerrar == "s":
print " A encerrar o SO..."
import time
sem_guardar = time.sleep(10)
while sem_guardar:
for f in user_z:
f.close()
for f in entrada_z:
f.close()
for f in programas_z:
f.close()
else:
palavra_passe_os()
def criar_passe_vm():
passe = raw_input("Escreve uma password nova:")
save = raw_input("Guardar alterações?")
if save == "sim" or save == "si" or save == "s".lower():
nova_passe = open('Password VM.txt', 'w')
nova_passe.write(passe)
nova_passe.close()
else:
bios()
def palavra_passe_vm():
try:
if(len(writing) > 0):
passwordvm = raw_input("Palavra-passe:")
if passwordvm == (str(writing)) :
print "Palavra-passe correta."
else:
print "Palavra-passe incorreta."
palavra_passe_vm()
except TypeError:
pass
palavra_passe_vm()
#só fechar no encerramento do SO:
def user_y():
with open('Utilizadores.txt', 'r') as f:
user = f.readlines()
return user
if __name__ == "__main__":
user_z = user_y()
user_z = "".join(str(s.replace('[', '').replace(']', '')) for s in user_z)
def entrada_y():
with open('Password SO.txt', 'r') as f:
entrada = f.readlines()
return entrada
if __name__ == "__main__":
entrada_z = entrada_y()
entrada_z = "".join(str(s.replace('[', '').replace(']', '')) for s in entrada_z)
def programas_y():
with open('Programas VM.txt', 'r') as f:
programas = f.readlines()
return programas
if __name__ == "__main__":
programas_z = programas_y()
programas_z = "".join(str(s.replace('[', '').replace(']', '')) for s in programas_z)
#------------------------------------------------------------------------------
def passe_so():
if (len(entrada_z) > 0):
passe_so = raw_input("Palavra-passe:")
if passe_so == (str(entrada_z)):
pass
else:
print "Palavra-passe incorreta. Tente de novo"
passe_so()
def palavra_passe_os():
using = raw_input("")
if using == "Utilizador" or using == "util" or using == "u" or using == "user":
passe_so()
elif using == "quit" or using == "q" or using == "exit" or using == "e":
try:
msm = raw_input("Tem a certeza que pretende encerrar o SO?")
if msm == "sim" or msm == "si" or msm == "s":
print "A guardar dados e a encerrar o SO..."
import time
turn_off_so = time.sleep(10)
while turn_off_so:
for f in user_z:
f.close()
f.closed
for f in entrada_z:
f.close()
f.closed
for f in programas_z:
f.close()
f.closed
quit()
except:
encerrar = raw_input("Há programas em execução. Tem a certeza que pretende continuar?")
if encerrar == "sim" or encerrar == "si" or encerrar == "s":
print " A encerrar o SO..."
import time
sem_guardar = time.sleep(10)
while sem_guardar:
for f in user_z:
f.close()
for f in entrada_z:
f.close()
for f in programas_z:
f.close()
arranque()
else:
palavra_passe_os()
elif using == "r" or using == "reiniciar" or using == "restart":
reiniciar_vm()
else:
palavra_passe_os()
#função que inicia a máquina virtual (função que coopera com a função bios()-> se esta tiver sido indevidamente alterada pelo usuário, esta impede o arranque do SO
def arranque():
import sys, time, msvcrt
timeout = 2
startTime = time.time()
inp = None
if (len(dados) == 0):
print "\nBem vindo à máquina virtual. Prima ENTER para iniciar o SO ou B para aceder ao menu da BIOS setup utility."
else:
print dados
while True:
if msvcrt.kbhit():
inp = msvcrt.getch()
break
elif time.time() - startTime > timeout:
break
machine = raw_input("")
if machine == "B".upper():
print "A iniciar o BIOS..."
import time
time.sleep(7)
#bios===========================================================================================================
def bios():
print "------------------ \n"
print "BIOS setup utility \n"
print "------------------"
opcao =raw_input("Está no menu da BIOS. Escolha o que pretende aceder: Informações do sistema(a), Data(b), Avançadas(c), Configurações do SO(d) (escreva quit para voltar ao menu de arranque.) \n")
if opcao == "Informações do sistema" or opcao == "a".lower():
print "--------------"
print "Maquina virtual"
print "--------------"
print "Versão: 1.0v 32bit \n Data da criação: 07/06/14 \n Compatível com Windows XP, Windows Vista, Windows 7, Windows 8, Unix, Linux, Ubuntu e Mac OS"
print "Todos os direitos reservados © 2014"
rebobinar = raw_input("")
if rebobinar == "back" or rebobinar == "b" or rebobinar == "":
bios()
else:
bios()
elif opcao == "Data" or opcao == "b".lower():
print "--------------"
print "Data"
print "--------------"
from datetime import datetime
now = datetime.now()
print "Data atual:"
print '%s/%s/%s' % (now.year, now.month, now.day)
print '%s:%s:%s' % (now.hour, now.minute, now.second)
print "Sistema Operativo(simulado): PowerBIT 1.0® \nInterface: Literal (e GUI nas próximas atualizações) \nLinguagem de programação predefinida: Python"
try:
import win32api
path = "C:/"
info = win32api.GetVolumeInformation(path)
print( "Número da série do disco rígido: = %d" % info[1] )
except ImportError:
print "Número da série do disco rígido desconhecido"
rebobinar = raw_input("")
if rebobinar == "back" or rebobinar == "b" or rebobinar == "":
bios()
else:
bios()
elif opcao == "Avançadas" or opcao == "c".lower():
print "--------------"
print "Avançadas"
print "--------------"
configurar = raw_input("Para configurar as defenições da máquina virtual, escreva a password bitwise para aceder(0b10b100b110b100): \n")
if configurar == "0b10b100b110b100":
print "As opções disponíveis são: \nAlterar a forma de inicialização(a), \nDesinstalar SO(b), \nCriar permissões especiais para a VM(c), \nVer código fonte da VM(d) \nInformações de Hardware(e) "
avanced = raw_input("")
if avanced == "Alterar a forma de inicialização" or avanced == "a".lower():
alterar = raw_input("O que deseja alterar: \nApresentação inicial da VM(a), \nApresentar código de arranque(b)(aviso: qualquer alteração incorreta destes pode instabilizar a VM)?")
if alterar == "Apresentação inicial da VM" or alterar == "a".lower():
imprima = raw_input("Digite o texto que pretende que o programa imprima no início (sugestão: refira os nomes das teclas que iniciam o SO(ENTER) ou o menu da BIOS(B)):")
import os
reescrever = os.remove('maquina virtual 1ªversão-texto inicial.txt')
restarting = open('maquina virtual 1ªversão-texto inicial.txt', 'w')
save = raw_input("Guardar alterações?")
if save == "sim" or save == "si" or save == "s".lower():
if (len(imprima) > 0):
restarting.write(imprima)
restarting.close()
else:
print "Não digitou nenhum texto."
bios()
else:
print "Não foram guardadas quaisquer alterações(de texto: o ficheiro ficou sem nenhum texto)."
rebobinar = raw_input("")
if rebobinar == "back" or rebobinar == "b" or rebobinar == "":
bios()
elif alterar == "Apresentar código de arranque" or alterar == "b".lower():
#código ainda não concluído
if rebobinar == "back" or rebobinar == "b" or rebobinar == "":
bios()
else:
bios()
else:
bios()
elif avanced == "Desinstalar SO" or avanced == "b".lower():
deletar_so = raw_input("Tem mesmo a certeza (atenção: depois não pode restaurar e pode perder dados)?)")
if deletar_so == "sim" or deletar_so == "yes":
print "A desinstalar o SO..."
import time
time.sleep(20)
#função bitsky_one--> deletar
print "SO desinstalado."
else:
bios()
elif avanced == "Criar permissões especiais para a VM" or avanced == "c".lower():
especial = raw_input("As opções disponíveis são: \nColocar password(a) \nEliminar password(b)")
if especial == "Colocar password" or especial == "a":
criar_passe_vm()
elif especial == "Eliminar password" or especial == "b":
try:
ter = raw_input("Tem mesmo a certeza?")
if ter == "sim" or ter == "si" or ter == "s".lower():
save = raw_input("Guardar alterações?")
if save == "sim" or save == "si" or save == "s".lower():
import os
sem_passe = os.remove("Password VM.txt")
else:
print "Não foram guardadas nenhumas alterações."
bios()
else:
bios()
except WindowsError:
print "A palavra passe já foi removida anteriormente."
bios()
else:
bios()
elif avanced == "Informações de Hardware" or avanced == "e":
import platform
so = platform.system()
arq_processador = platform.machine()
nome_pc = platform.node()
windows = platform.platform()
print "Sistema Operacional: %s" % (so)
print "Arquitetura do processador: %s" % (arq_processador)
print "Nome do computador: %s" % (nome_pc)
print "Informações do windows: %s" % (windows)
else:
bios()
rebobinar = raw_input("")
if rebobinar == "back" or rebobinar == "b" or rebobinar == "":
bios()
else:
bios()
else:
bios()
elif opcao == "quit" or opcao == "Q".upper():
arranque()
elif opcao == "Configurações do SO" or opcao == "d".lower():
alteracao = raw_input("As opções disponíveis são: \nModificar o tempo de boot do SO(a) \nFormatar SO(b)")
if alteracao == "Modificar o tempo de boot do SO" or alteracao == "a":
alterar_boot = raw_input("Insira o tempo que deseja que o SO demore a iniciar:\n")
try:
alterar_boot = float(alterar_boot)
except ValueError or TypeError:
print "Digite um número inteiro positivo maior ou igual a 20!"
bios()
if alterar_boot >= 20:
print "Valor de tempo suportado."
save = raw_input("Guardar alterações?")
if save == "sim" or save == "si" or save == "s".lower():
guardarTempoBoot(alterar_boot)
rebobinar = raw_input("")
if rebobinar == "back" or rebobinar == "b" or rebobinar == "":
bios()
else:
bios()
elif alteracao == "Formatar SO" or alteracao == "b":
raise None #Só pode ser concluído quando for feito o SO
else:
bios()
else:
bios()
bios()
#bios=============================================================================================================
elif machine == "" or inp:
import time
if temp >=20:
print "A iniciar o PowerBIT 1.0..."
starting_so = time.sleep(float(temp))
while starting_so:
text_y()
if (str(text_z)) == "def bios(): right (0b10b100b110b100)":
pass
else:
print "ERRO DE PARTIÇÃO: o SO não foi localizado. Poderá estar em falta a Chave correta de inicialização do SO ou pode estar corrompido."
try:
import os
os.remove("reiniciar.txt")
except:
pass
user_y()
entrada_y()
programas_y()
else:
time.sleep(30)
print "A iniciar o PowerBIT 1.0..."
starting_so = time.sleep(float(temp))
while starting_so:
text_y()
if (str(text_z)) == "def bios(): right (0b10b100b110b100)":
pass
else:
print "ERRO DE PARTIÇÃO: o SO não foi localizado. Poderá estar em falta a Chave correta de inicialização do SO ou pode estar corrompido."
try:
import os
os.remove("reiniciar.txt")
except:
pass
user_y()
entrada_y()
programas_y()
def powerbit():
print "====================================================================="
print "                       PowerBIT v.1.0"
print "====================================================================="
print "Escolha um utilizador:"
print user_z
palavra_passe_os()
print "Bem vindo!"
powerbit()
elif machine == "quit" or machine == "exit" or machine == "e" or machine == "q":
quit()
else:
arranque()
arranque()
Desculpem se comentei pouco o código e se o código está desorganizado.
Eu uso o windows 7 e a versão python que utilizo é o python 2.7.6.
25359,c++,Qual o uso de ponteiros de ponteiros,exemplo:
int  var;
int  *p;
int  **pp;
var = 50;
Até compreendo o uso do ponteiro simples(*),mas para que usar outro para referenciar este?
25501,c++,Estou tentando definir o valor de um vetor de char de uma struct dentro de um if, mas sem sucesso...
A struct propriamente dita:
struct ficha {
char nome[31], classificacao[31], telefone[21];
float altura, peso, imc;
}paciente1, paciente2, aux;
Seguem-se as tentativas:
Tenttiva 1:
if (paciente1.imc<18.5) {
paciente1.classificacao = {"Abaixo do peso", 31};
} else if ...
Tentativa 2:
if (paciente1.imc<18.5) {
paciente1.classificacao = "Abaixo do peso";
} else if ...
Tentativa 3:
if (paciente1.imc<18.5) {
paciente1.classificacao = ("Abaixo do peso", [31]);
} else if ...
Desde já grato pela ajuda !
25613,c++,Estou tentando com QT 5 + QML criar um aplicação onde após abrir o arquivo utilizando o fileDialog ele retorne uma mensagem por um sinal do QT.
A aplicação faz a abertura utilizando um QML e iniciando uma chamada a um SLOT na classe responsável. Esta classe realiza a leitura e posteriormente fará alguns trabalhos a mais e retornaria por um SIGNAL o trabalho terminado para ser apresentado.
O código da main segue a baixo:
#include <QApplication>
#include <QQmlApplicationEngine>
#include <QtQml>
#include "imagefilter.h"
int main(int argc, char *argv[])
{
QApplication app(argc, argv);
ImageFilter filtro;
qmlRegisterType<ImageFilter>("ImageFilter", 1, 0, "ImageFilter");
QQmlApplicationEngine engine;
engine.rootContext()->setContextProperty("filtro", &filtro);
engine.load(QUrl(QStringLiteral("qrc:///main.qml")));
return app.exec();
}
A classe responsável pelo trabalho das imagens:
#include <QObject>
#include <QString>
#include <QDebug>
class ImageFilter : public QObject
{
Q_OBJECT
public:
explicit ImageFilter(QObject *parent = 0);
signals:
void teste(const QString &path);
public slots:
void receiveImage(const QString path);
};
O signal teste é apenas um teste que estou realizando para validar se consigo receber as informações posteriormente retornaria um QImage.
O SLOT que faz a chamada do SIGNAL para simplificar o teste.
void ImageFilter::receiveImage(QString path)
{
qDebug() << path;
emit teste("Teste");
}
Por fim o QML, vou postar apenas a parte responsável por receber o SIGNAL pois a parte de SLOT não tenho problema nenhum.
import QtQuick 2.2
import QtQuick.Controls 1.1
import QtQuick.Dialogs 1.2
import ImageFilter 1.0
ImageFilter {
onTeste: image2.text: path
}
O que seria esperado de funcionar pois utilizei da documentação do qt-project.org, porem o onTeste não é chamado pelo menos o texto no local não é alterado. Neste caso utilizei o qmlRegisterType pois não descobri uma forma de trabalhar igual a utilizada para fazer chamadas a SLOTS no C++ com engine.rootContext()->setContextProperty("filtro", &filtro);.
Se alguém puder ajudar em como receber estes sinais.
Grato!
25615,c++,Estou tentando carregar vários arquivos na memória (arquivo pequenos), mas o problema é que quando tento carregar outro arquivo logo em seguida, todos os arquivos ficam com o mesmo nome do ultimo arquivo carregado.
Eu estou utilizando uma struct que contém nome, tamanho do nome, dados e o tamanho dos dados, para representar os arquivos.
// Cabeçalho
struct AssetHeader
{
char* version;
long version_sz;
int files_num;
};
// Estrutura para representar os arquivos
struct AssetData
{
char* name;
char* data;
long name_sz;
long data_sz;
};
class AssetManager
{
protected:
FILE* m_pFile;
AssetHeader* m_pHeader;
std::vector<AssetData*> m_pAssets;
unsigned int m_FileNum;
.....
.....
public:
inline std::vector<AssetData*> getFileList() {return m_pAssets;}
inline int getFileCount() {return (int)m_FileNum;}
AssetData* getFileByName(std::string name);
void createAsset(const char* name="DefaultAssetName.asset");
void loadAsset(const char* filename);
void addFile(const char* filename);
void saveFile(AssetData* asset, const char* filename);
void clear();
void writeAsset();
void closeAsset();
protected:
void writeAssetHeader();
void writeAssetBlock(AssetData* asset);
void readAssetHeader();
void readAssetBlock();
};
// Carrega um arquivo na memória
void AssetManager::addFile(const char* filename)
{
AssetData* asset = new AssetData();
FILE* file = fopen(filename, "rb");
fseek(file, 0, SEEK_END);
asset->data_sz = ftell(file);
fseek(file, 0, SEEK_SET);
asset->data = new char[asset->data_sz];
if(fread(&asset->data[0], sizeof(char), asset->data_sz, file) == 0) {
delete asset;
asset = NULL;
fclose(file);
}
fclose(file);
asset->name_sz = strlen(filename);
asset->name = (char*)filename;
m_FileNum += 1;
m_pAssets.push_back(asset);
m_pHeader->files_num = m_FileNum;
}
// Utilização
int main(int argc, char* argv[])
{
AssetManager* asset_mgr = new AssetManager();
asset_mgr->createAsset("asset.txt");
std::string name;
name = "1.txt";
asset_mgr->addFile(name.c_str());
name = "2.txt";
asset_mgr->addFile(name.c_str());
asset_mgr->writeAsset();
asset_mgr->closeAsset();
return 0;
}
Não sei o que estou fazendo de errado. Eu fiz um teste utilizando um print em cada HAssetData armazenado mas o problema é como eu avia dito, os arquivo ficam com o nome do ultimo arquivo carregado.
25923,python,Olá,
estou com um problema, mais matemático do que computacional, para resolver, mas não consegui resolver isso sozinho até agora...
Tenho um conjunto de 3 Átomos ligados entre si formando um ângulo X entre a ligação. Preciso implementar um código que quando X não for igual a 109.4 eu transforme um dos átomos da extremidade de modo que esse angulo fique igual a 109.4.
Segue um exemplo mais detalhado:
os 3 átomos estão no espaço R3. Eu tenho a posição deles por exemplo:
O5 = 12.350,5.420,12.480
C1 = 13.290,4.510,13.090
O1 = 14.461,5.261,13.253
Sei que o ângulo entre os vetores C1O5 e C1O1 é de 104.808°
E o meu objetivo é saber como eu faço para descobrir o ponto O1' para que o ângulo entre os vetores seja de 109.45°, isso tudo sem alterar a distância euclidiana, ou seja, a distância de C1O1 é igual a distância de C1O1'.
Segue duas imagens para facilitar o entendimento:
Meu problema é que não consigo descobrir o ponto (?,?,?) de uma maneira matemática. Único jeito que consegui resolver foi implementando um código que busca a posição do ponto aleatoriamente, porém meu objetivo era uma resposta em tempo real...
Existe algum calculo matemático que baseado nos dados de entrada dos pontos C1, O5, O1 e os ângulos inicial e final, me diga qual tenha que ser o ponto O1'??????
Segue abaixo o script em python que utilizei para gerar o valor, porém acredito que exista alguma forma matemática genérica para resolver só não sei qual que é =(
import biopyVector as bp
import math
import numpy
import random
O5 = bp.Vector(12.350,5.420,12.480)
C1 = bp.Vector(13.290,4.510,13.090)
O1 = bp.Vector(14.461,5.261,13.253)
angulo = bp.calc_angle(O5, C1, O1)
print "Angulo Atual: " + str(math.degrees(angulo))
distanciaC1O1 = bp.dist2(C1,O1)
print "Distancia Atual: " + str(distanciaC1O1)
while(True):
O1linha = bp.Vector(O1[0],random.uniform((C1[1]-2), (C1[1]+2)),random.uniform((C1[2]-2), (C1[2]+2)))
angulo = math.degrees(bp.calc_angle(O5, C1, O1linha))
distanciaC1O1linha = bp.dist2(C1,O1linha)
if(angulo >= 109.4) and (angulo <= 109.5):
if(distanciaC1O1linha >= (distanciaC1O1-0.01)) and (distanciaC1O1linha <= (distanciaC1O1+0.01)):
print "Angulo Novo: " + str(angulo)
print O1linha
break
25988,html|python,To com o seguinte problema: estou tentanto preencher os campos
logradouro, cidade e estado com o cep informado.
São todos input.
Estou usando https://github.com/jbochi/cep
Meu projeto é em Django, mas eu acho que dá pra retornar os dados diretamente na página html (front-end), visto que é só preenchimento e inserção.
Como eu faço isso? Tentei com AngularJS, mas estou apanhando.
Me ajudem por favor.
26253,python,Preciso fazer um loop na API do Stack Overflow para gerar dados de todos os usuários do fórum, mas não sei como os id's dos usuários são gerados na hora do cadastro. Alguém sabe como os IDs dos usuários são gerados? Não são de forma crescente, creio eu.
26367,python,No CMD do Windows é possível usar o comando ping para pegar o IP de determinados sites, por exemplo:
ping www.facebook.com.br
Existe alguma maneira de fazer algo semelhante usando o Python 3.4?
26734,c++,Eu estou fazendo um simples projeto de console pessoal que vai fazer keyboard hooking, mas não quero que abra a janela OpenGL do SFML. Há como ouvir eventos do SFML sem abrir uma janela?
26745,python,Sou iniciante em Python. Como faço para mudar o valor de uma label dinamicamente?
Para ser mais especifico, tenho o seguinte código:
#!/usr/bin/env python
from Tkinter import *
import socket, webbrowser
root = Tk()
root.title("Test - waghcwb")
def window(w=300, h=200):
ws = root.winfo_screenwidth()
hs = root.winfo_screenheight()
x = (ws/2) - (w/2)
y = (hs/2) - (h/2)
root.geometry('%dx%d+%d+%d' % (w, h, x, y))
window(270, 100)
def Open():
text_contents = text.get()
url = str(socket.gethostbyname( text.get() ))
if url != '0.0.0.0':
webbrowser.open("http://%s" %url)
else:
#Erro para a label aqui
print("Erro")
info = Label(root, text="Testando", pady=20).pack()
text = Entry(root, width=40).pack()
button = Button(root, text="Enviar", command=Open, width=40).pack()
error = Label(root, text="", pady=5)
root.mainloop()
Notem o else: ali, é ali que gostaria de inserir minha mensagem de erro.
A minha ideia foi deixar uma label vazia ali e só inserir dados quando houver o erro, mas como falei sou bem iniciante e desconheço alguma maneira de fazer isso.
26831,python,Estou começando em python e uso um site que possui diversos problemas para resolução, nele os vetores e as matrizes são passado com os valores separados por um espaço e não virgula. Por exemplo:v = 1 2 3 43.
Sei que posso receber esse valor no input e deixar como string, a questão é como transforma essa string num vetor. Gostaria de saber se existe alguma função que consiga converter, pois se eu for "tratar" essa entrada eu perco a eficiência.
26853,python,Olá, recebi este problema para resolver em python mas não conheço muito da linguagem, conheço C, mas acredito que meu problema está na leitura do problema, recebi o programa assim sem mais nenhuma explicação e quem sabe alguém possa me ajudar.
#!/bin/env python3
# coding: utf-8
def dormir(dia_semana, feriado):
"""
dia_semana é True para dias na semana
feriado é True nos feriados
você pode ficar dormindo quando é feriado ou não é dia semana
retorne True ou False conforme você vá dormir ou não
"""
def alunos_problema(a_sorri, b_sorri):
"""
temos dois alunos a e b
a_sorri e b_sorri indicam se a e b sorriem
temos problemas quando ambos estão sorrindo ou ambos não estão sorrindo
retorne True quando houver problemas
"""
def soma_dobro(a, b):
"""
dados dois números inteiros retorna sua soma
porém se os números forem iguais retorna o dobro da soma
soma_dobro(1, 2) -> 3
soma_dobro(2, 2) -> 8
"""
def diff21(n):
"""
dado um inteiro n retorna a diferença absoluta entre n e 21
porém se o número for maior que 21 retorna o dobro da diferença absoluta
diff21(19) -> 2
diff21(25) -> 8
dica: abs(x) retorna o valor absoluto de x
"""
def papagaio(falando, hora):
"""
temos um papagaio que fala alto
hora é um parâmetro entre 0 e 23
temos problemas se o papagaio estiver falando antes da 7 ou depois das 20
"""
def dez(a, b):
"""
dados dois inteiros a e b
retorna True se um dos dois é 10 ou a soma é 10
"""
def dista10(n):
"""
seja um inteiro n
retorna True se a diferença absoluta entre n e 100 ou n e 200
for menor ou igual a 10
dista10(93) -> True
dista10(90) -> True
dista10(89) -> False
"""
def apaga(s, n):
"""
seja uma string s e um inteiro n
retorna uma nova string sem a posição n
apaga('kitten', 1) -> 'ktten'
apaga('kitten', 4) -> 'kittn'
"""
def troca(s):
"""
seja uma string s
se s tiver tamanho <= 1 retorna ela mesma
caso contrário troca a primeira e última letra
troca('code') -> 'eodc'
troca('a') -> 'a'
troca('ab') -> 'ba'
"""
# Área de testes: só mexa aqui se souber o que está fazendo!
acertos = 0
total = 0
def test(obtido, esperado):
global acertos, total
total += 1
if obtido != esperado:
prefixo = ' Falhou.'
else:
prefixo = ' Passou.'
acertos += 1
print ('%s Esperado: %s \tObtido: %s' % (prefixo,repr(esperado),
repr(obtido)))
def main():
print ('Oba! Hoje vou ficar dormindo!')
test(dormir(False, False), True)
test(dormir(True, False), False)
test(dormir(False, True), True)
test(dormir(True, True), True)
print ()
print ('Alunos problema')
test(alunos_problema(True, True), True)
test(alunos_problema(False, False), True)
test(alunos_problema(True, False), False)
test(alunos_problema(False, True), False)
print ()
print ('Soma dobro')
test(soma_dobro(1, 2), 3)
test(soma_dobro(3, 2), 5)
test(soma_dobro(2, 2), 8)
test(soma_dobro(-1, 0), -1)
test(soma_dobro(0, 0), 0)
test(soma_dobro(0, 1), 1)
print ()
print ('Diff21')
test(diff21(19), 2)
test(diff21(10), 11)
test(diff21(21), 0)
test(diff21(22), 2)
test(diff21(25), 8)
test(diff21(30), 18)
print ()
print ('Papagaio')
test(papagaio(True, 6), True)
test(papagaio(True, 7), False)
test(papagaio(False, 6), False)
test(papagaio(True, 21), True)
test(papagaio(False, 21), False)
test(papagaio(True, 23), True)
test(papagaio(True, 20), False)
print ()
print ('Dez')
test(dez(9, 10), True)
test(dez(9, 9), False)
test(dez(1, 9), True)
test(dez(10, 1), True)
test(dez(10, 10), True)
test(dez(8, 2), True)
test(dez(8, 3), False)
test(dez(10, 42), True)
test(dez(12, -2), True)
print ()
print ('Dista 10')
test(dista10(93), True)
test(dista10(90), True)
test(dista10(89), False)
test(dista10(110), True)
test(dista10(111), False)
test(dista10(121), False)
test(dista10(0), False)
test(dista10(5), False)
test(dista10(191), True)
test(dista10(189), False)
test(dista10(190), True)
test(dista10(200), True)
test(dista10(210), True)
test(dista10(211), False)
test(dista10(290), False)
print ()
print ('Apaga')
test(apaga('kitten', 1), 'ktten')
test(apaga('kitten', 0), 'itten')
test(apaga('kitten', 2), 'kiten')
test(apaga('kitten', 4), 'kittn')
test(apaga('Hi', 0), 'i')
test(apaga('Hi', 1), 'H')
test(apaga('code', 0), 'ode')
test(apaga('code', 1), 'cde')
test(apaga('code', 2), 'coe')
test(apaga('code', 3), 'cod')
test(apaga('chocolate', 8), 'chocolat')
print ()
print ('Troca letras')
test(troca('code'), 'eodc')
test(troca('a'), 'a')
test(troca('ab'), 'ba')
test(troca('abc'), 'cba')
test(troca(''), '')
test(troca('Chocolate'), 'ehocolatC')
test(troca('nythoP'), 'Python')
test(troca('hello'), 'oellh')
if __name__ == '__main__':
main()
print("\n%d Testes, %d Ok, %d Falhas: Nota %.1f" %(total, acertos,
total-acertos, float(acertos*10)/total))
if total == acertos:
print("Parabéns, seu programa rodou sem falhas!")
Lembrete, não preciso da resolução do problema, apenas de um guia.
27026,c++,Sou meio novato em C++ (até porque o código é básico) e estou tendo certo problema com um exercício que é necessário guardar os dados de 10 pessoas (nome, data de nascimento e altura) utilizando structs.
As structs são:
typedef struct
{
char nome[50];
float altura;
} pserhumano;
typedef struct
{
float dia;
float mes;
float ano;
} dnasc;
E as duas funções são:
void CriaData(dnasc *D[], int i)
{
D[i]->mes = 1 + (rand() % 12);
D[i]->ano = 1950 + (rand() % 49);
D[i]->dia = 1 + (rand() % 30);
}
void InserirNome(pserhumano *Z[])
{
dnasc a[10];
for (int contador = 0; contador < 10; contador++) {
cout << "Insira o seu nome." << endl;
gets (Z[contador]->nome);
cout << "Insira a sua idade." << endl;
cin >> Z[contador]->altura;
CriaData(&a, contador);
}
}
Ao compilar, o output é esse:
athos@ubuntu:~$ g++ exercicio1.cpp -w -o a
exercicio1.cpp: In function ‘void InserirNome(pserhumano**)’:
exercicio1.cpp:35:33: error: cannot convert ‘dnasc (*)[10]’ to ‘dnasc**’ for  argument ‘1’ to ‘void CriaData(dnasc**, int)’
CriaData(&a, contador);
^
exercicio1.cpp: In function ‘int main()’:
exercicio1.cpp:43:19: error: cannot convert ‘pserhumano (*)[10]’ to ‘pserhumano**’ for argument ‘1’ to ‘void InserirNome(pserhumano**)’
InserirNome(&b);
^
Basicamente, estou tendo problemas em lidar com um vetor de struct e na hora de passar isso pra função. O que poderia ser feito?
27085,c++,Em vários artigos,li que ao adicionar uma função inline dentro de uma iteração(while,for) gera um consumo desnecessário dos recursos do sistema.
Escrever:
#include <iostream>
inline int cubo(int n){
return n*n*n;
}
int main(){
for(int i = 0; i<40; i++){
std::cout << cubo(3) << std::endl;
}
return 0;
}
Não seria o mesmo que escrever:
#include <iostream>
int main(){
for(int i = 0; i<40; i++){
std::cout << 3*3*3 << std::endl;
}
return 0;
}
Algo como,o compilador irá copiar a função para cada repetição,ao invés de fazer o acima.
27185,python,Olá. Eu estou a trabalhar com tkinter e estou num impasse. Tenho nove botões e cada um imprime um número. Como posso fazer com que depois de carregar num botão, independentemente do botão que eu carregue, ele faça aparecer um número sempre na mesma posição e que quando carrego outro botão, também independentemente do botão que eu carregue, faça aparecer outro número ao lado do primeiro?
Código:
# -*- coding: cp1252 -*-
from Tkinter import *
root = Tk()
root.minsize(620, 500)
root.title("Euromilhões virtual")
root.configure(background = 'blue')
def sorteio():
import time
import random
numeros = ["1", "2", "3", "4", "5", "6", "7", "8", "9"]
randw = random.sample(numeros, 1)
randx = random.sample(numeros, 1)
randy = random.sample(numeros, 1)
randz = random.sample(numeros, 1)
randt = random.sample(numeros, 1)
mostrar = Label(root, text = randw, bg = "blue", fg = "black", font = ('arial black', 40)).place(x = 110, y = 250)
mostra = Label(root, text = randx, bg = "blue", fg = "black", font = ('arial black', 40)).place(x = 190, y = 250)
amostra = Label(root, text = randy, bg = "blue", fg = "black", font = ('arial black', 40)).place(x = 270, y = 250)
show = Label(root, text = randz, bg = "blue", fg = "black", font = ('arial black', 40)).place(x = 350, y = 250)
visto = Label(root, text = randt, bg = "blue", fg = "black", font = ('arial black', 40)).place(x = 430, y = 250)
#Botões dos números:
def um():
one = Label(root, text = "1", bg = "blue", font = ('arial', 20))
def dois():
two = Label(root, text = "2", bg = "blue", font = ('arial', 20))
def tres():
three = Label(root, text = "3", bg = "blue", font = ('arial', 20))
def quatro():
four = Label(root, text = "4", bg = "blue", font = ('arial', 20))
def cinco():
five = Label(root, text = "5", bg = "blue", font = ('arial', 20))
def seis():
six = Label(root, text = "6", bg = "blue", font = ('arial', 20))
def sete():
seven = Label(root, text = "7", bg = "blue", font = ('arial', 20))
def oito():
eight = Label(root, text = "8", bg = "blue", font = ('arial', 20))
def nove():
nine = Label(root, text = "9", bg = "blue", font = ('arial', 20))
btn_um = Button(root, width = 5, text = "1", fg = "red", command = um).place(x = 90, y = 12)
btn_dois = Button(root, width = 5, text = "2", fg = "red", command = dois).place(x = 140, y = 12)
btn_tres = Button(root, width = 5, text = "3", fg = "red", command = tres).place(x = 190, y = 12)
btn_quatro = Button(root, width = 5, text = "4", fg = "red", command = quatro).place(x = 240, y = 12)
btn_cinco = Button(root, width = 5, text = "5", fg = "red", command = cinco).place(x = 290, y = 12)
btn_seis = Button(root, width = 5, text = "6", fg = "red", command = seis).place(x = 340, y = 12)
btn_sete = Button(root, width = 5, text = "7", fg = "red", command = sete).place(x = 390, y = 12)
btn_oito = Button(root, width = 5, text = "8", fg = "red", command = oito).place(x = 440, y = 12)
btn_nove = Button(root, width = 5, text = "9", fg = "red", command = nove).place(x = 490, y = 12)
#-----------------------------------------------------
nums_aposta = Label(root, text = "Números escolhidos:", bg = "blue", fg = "black").place(x = 250, y = 40)
botao_lotaria = Button(root, width = 20, height = 2, text = "Iniciar Lotaria", bg = "yellow", command = sorteio).place(x = 235, y = 150)
root.mainloop()
27294,c++,Como posso fixar dois "corpos" rígidos ou dinâmicos de uma maneira que onde um vá o outro vá junto o mais fixo possível com PhysX.
Eu estou utilizando a classe PxFixedJoint mas não me agradou.
Como podem ver no print a cima, existe uma curva "barriga" na formação dos cubos.
Eu já pesquisei mas não encontrei nada de concreto. Queria uma solução para fixar os objetos uns aos outros mas com o mínimo de curva (por assim dizer).
Abaixo um trecho do código.
// C++
// Função responsável por criar o joint
void HEntity::createFixedJoint(HEntity* target)
{
physx::PxPhysics* physics = HEngine::getInstance()->getPhysicsContext()->getPhysics();
physx::PxRigidActor* _target = target->getPhysicsBody();
physx::PxVec3 pos_a = m_pPhysicsBody->getGlobalPose().p;
physx::PxVec3 pos_b = _target->getGlobalPose().p;
physx::PxVec3 offset = (pos_a - pos_b).abs() / 2;
physx::PxFixedJoint* joint = physx::PxFixedJointCreate(*physics, m_pPhysicsBody, physx::PxTransform(-offset), _target, physx::PxTransform(offset));
joint->setConstraintFlag(physx::PxConstraintFlag::eVISUALIZATION, true);
joint->setConstraintFlag(physx::PxConstraintFlag::eCOLLISION_ENABLED, false);
m_lpJoints.push_back(joint);
}
Como estou utilizando Lua Script para a estender/ampliar minha aplicação, abaixo um trecho do script em Lua que cria os cubos.
-- Lua
-- Função responsável por criar os cubos em serie
function createJointCubes()
local parent = scene:getObjectByName("Object.2") -- Cubo já presente na cena
local last_obj = nil;
for i = 1, 12 do
local obj = HGameObject:new()
obj:setName("Object_Phy." .. i)
obj:setMesh(HEngine.importWavefront(imports[2]))
if last_obj == nil then
obj:setWorldPosition(parent:getWorldPosition()+HVec3(2, 0, 0))
else
obj:setWorldPosition(last_obj:getWorldPosition()+HVec3(2, 0, 0))
end
obj:createPhysicsBody()
if last_obj == nil then
obj:createFixedJoint(parent)
else
obj:createFixedJoint(last_obj)
end
scene:addObject(obj)
last_obj = obj
end
end
27339,python,Gostaria de saber como ajustar o tamanho da fonte utilizada em uma legenda em um gráfico feito em Python utilizando a biblioteca matplotlib. Fiz uma pesquisa e encontrei esta forma.
plt.legend(loc='upper left', prop={'size':12})
Tem outra maneira de ajustar o tamanho da fonte da legenda de tal forma que ela fique proporcional ao tamanho da figura?
27616,c++,Oi,gostaria de saber como mudar a codificação de output do C++,sabendo que a codificação padrão é o ASCII.
Já tentei com as bibliotecas <windows.h> e <tchar.h>,no seguinte código:
int main(){
_tsetlocale(LC_ALL, _T("portuguese"));
(...)
}
Mas percebo que além de não funcionar em outros OS,seta apenas para o português.
Pretendo utilizar de vários caracteres,de várias linguagens na aplicação mas não faço ideia de como fazer.
UTF-8 é uma opção?Se sim,como implementar?
27621,c++,Eu estou tentando armazenar a classe PxFixedJoint em um std::vector com o método push_back. Mas o vetor fica sempre vazio, simplesmente não adiciona nada.
A baixo o código.
// C++
// Declaração do vector para armazenar os joints
std::vector<physx::PxFixedJoint*> m_lpJoints;
// Criando um joint
physx::PxFixedJoint* joint = physx::PxFixedJointCreate(*physics, m_pPhysicsBody, physx::PxTransform(-offset), _target, physx::PxTransform(offset));
// Armazenando
m_lpJoints.push_back(joint);
// Verificando o tamanho do vetor
std::cout << "size: " << m_lpJoints.size() << std::endl;
27686,c++,Estou fazendo um programa para o arduino escrito em C++ para ligar e desligar leds quando um botão é pressionado.
Criei uma class Led e coloquei nela os métodos, agora escrevi um if que verifica quando um botão é pressionado, porém quero que quando o o if verifique que o botão foi pressionado ela automaticamente passa o led referente ao botão como para o método.
Algo assim.
if(digitalRead(led1.botão || led2.botão) == 0) { // verifica se algum botão foi pressionado
"Ledpressionado".ligar(); // seleciona o led referente ao botão pressionado
Em java isso acontece automaticamente com o uso do this, mas em c++ não.
27930,python,Olá, sou iniciante em Python 2.7 e estou querendo saber como aplico interface gráfica em aplicações desenvolvidas com Python, assim como o html faz a interface para o php e o visual studio é usado para fazer os windows form em c#, mas e python como funciona isso?
28074,javascript|c++,Eu tenho uma simulação em C++. Passei essa simulação para JavaScript para o usuário poder brincar com ela no browser, mas ficou muito mais lenta. Se possível, portanto,  gostaria de chamar a própria função em C++ dentro do JavaScript e fazer isso do lado do cliente. É possível?
28283,c++,Estou fazendo um programa para o Arduino escrito em C++ para ligar e desligar leds quando um botão é pressionado.
Quero salvar em uma memória EEPROM os valores dos leds que estiverem ligados e a quantidade de luminosidade.
Pensei em usar um array, sendo assim o primeiro elemento seria a referência para o objeto especifico e o segundo o quantidade de luminosidade. Ainda sou novo em programação em geral, dei uma pesquisada e acabei pensando tentando utilizar um array bi-dimensional, que acabou não funcionando perfeitamente.
28345,python,Sou um iniciante em Python e estou tentando fazer um script para somar todos os valores de uma coluna do excel e escrever o valor da soma na planilha. Estou usando os pacotes Python xlrd e xlwt. O código funciona bem pra primeira coluna, mas a partir da segunda não funciona mais, ele informa sempre valor 0. Espero que alguém mais experiente possa me ajudar.
Obrigado!
import xlwt
import xlrd
workbook_page = xlrd.open_workbook('page_level.xlsx')
worksheet_page = workbook_page.sheet_by_name('Daily External Referrers')
num_rows = worksheet_page.nrows - 1
curr_row = 0
num_cols = worksheet_page.ncols - 1
curr_col = 1
soma = 0
while curr_col < num_cols:
curr_col = curr_col + 1
while curr_row < num_rows:
curr_row = curr_row + 1
row = (worksheet_page.cell_value(curr_row, curr_col))
if isinstance (row, float):
soma = soma + row
else:
pass
worksheet_page.write(num_rows+1, curr_col, soma)
worksheet_page.save('page_level.xlsx')
28347,python,Como faço para apagar parte de um texto em Python ?
Tenho a seguinte string
"""
texto textinho
outro texto
<div dir 'ltr'><div><div> bla bla ....
"""
quero apagar toda parte HTML.
Estou usando Python2.7
28377,python,Galera, estou aprendendo Programação e gostaria de saber: como faço para meu programa ler o valor de uma variável de outro programa (teoricamente isso seria sem "consciência" do programa lido, não sei exatamente como isso funciona, se teria que pedir alguma permissão... Algo como faz o Cheat Engine, só que sem atribuição, só leitura mesmo)?
Tenho o básico (bem básico mesmo, conclui apenas a disciplina de Intro a Computação na minha faculdade) de Python, C e arrisco um pouco em C++ e Java
28395,c++,Estou precisando criar uma rotina de proteção na função de remoção. Porquê dá erro ao remover o último item?
A função:
// Remover o primeiro cliente
void cadRemover(){
lista=ini; // Volta ao início
aux = lista; // Copia o 1º para aux
lista = lista->prox; // Move a lista para o próximo
delete aux; // Deleta aux
}
O source completo.
28526,c++,Eu estou utilizando o Visual Studio 2010 Express. O problema é que a Syntax Highlighting é muito fraca e o intellisense (recurso que mostra os atributos dos objetos em quanto "você" digita) também deixa a desejar (não sei se é só na versão express).
Eu estive utilizando a COde::Blocks e gostei muito, mas com o Mingw, com o VS 2010 eu consegui compilar em Release mas não consegui debugar, porque o debugger não mostra onde exatamente aconteceu a falha de segmentação, ele nem marca a linha no código.
Eu sempre utilizei o Mingw, não sei como configurar o Code::Blocks para debuggar com o VS 2010 Express, se for possível.
28835,c++,Como fazer para enviar um código para o terminal?
Por exemplo: em uma tela gráfica onde eu digito o nome de uma pasta, e ele envia para o terminal um mkdir NomePasta ? (Claro, serão outras funcionalidades, como executar programas por exemplo, mas só preciso saber como enviar o comando).
28955,c++,Não consigo pegar valor de uma matriz em Lua para usar em C++.
Assim pego o valor da variável M:
//No LUA
M = 85
//No C++
L = lua_open();
luaL_loadfile(L, "teste.lua");
lua_pcall(L, 0, 0, 0);
int m;
lua_getglobal(L, "M");
m = lua_tonumber(L, -1);
cout << m;
Mas não sei como pegar o valor do índice de uma matriz como segue abaixo:
// LUA
MATRIZ =
{
{4,2,2,6},
{2,1,1,2},
{2,1,1,2},
{5,2,2,3}
}
Como pegar o valor dessa matriz?
29128,python,Estou tentando criar fontes separadas para meu projeto em um determinado arquivo.py, depois de criá-las eu importo para o projeto.py, faço isso da seguinte maneira:
fonte.py
"""
Criando as fontes.
"""
def fontes(self):
self.font1=("Arial", "60")
projeto.py
from Tkinter import *
from fonte import *
class base:
def __init__(self, janela):
caixa=Frame(janela)
caixa.pack()
a=Label(caixa, text="teste para o funcionamento das fontes", font=self.font1)
a.pack()
root=Tk()
base(root)
root.mainloop()
Porem quando tento usar a fonte:
a = Label(caixa, text="teste para o funcionamento das fontes", font=font1)
Está dando erro e diz que ela não é global:
NameError: global name 'font1' is not defined
Alguém poderia me dizer como posso fazer o uso de fontes sem ser dentro do próprio projeto?
29158,python,Eu preciso escrever um programa que identifique uma letra minúscula cercada por três letras maiúsculas de cada lado.
Por exemplo:
"AEIoSDE" == "o"
Eu escrevi o código da seguinte forma:
# coding: utf-8
letra = raw_input()
for i in range(1, len(letra) - 7):
if letra[i].isupper() and not letra[i-1].isupper():
if letra[i+1].isupper():
if letra[i+2].isupper():
if letra[i+3].islower():
if letra[i+4].isupper():
if letra[i+5].isupper():
if letra[i+6].isupper() and not letra[i+7].isupper():
print letra[i+3]
Só que eu preciso fazer isso para uma quantidade massiva de dados, então eu salvei em um arquivo .txt e entrei no terminal do Linux e digitei:
python criptografia.py < entrada.txt
Só que ele me retorna apenas uma letra e não lê as demais strings.
Como posso resolver?
29250,python,Acredito que seja mais por curiosidade.
Ao contrário das outras IDE's, o IDLE mantém o programa "aberto" mesmo após o fim da sua execução, enquanto em outras IDE's eu preciso colocar algo como 'input()' ao fim para o programa não ser encerrado até que eu entre com algum valor.
Alguém saberia me explicar o porquê do IDLE ter esse comportamento?
29270,c++,Estou com um problema na utilização de um array de ponteiros, preciso criar um array com ponteiros que referenciem para um valor inteiro de cada objeto de outro classe.
Exemplo:
arrayDePonteiros[0] = objeto.int;
No caso esse array está dentro de uma classe e como ele será apenas uma referencia ele será estático,Assim poderei utilizar esse array para me referir ao valor de cada objeto da outra classe, que futuramente será gravado em uma eeprom, e no momento que eu for ler o valor na eeprom eu poderei utilizar o ponteiro para passar o valor da eeprom para a variável do objeto.
Meu código atual é:
class Scenario {
public:
int byteInicial; // byte da eeprom
static int* link[6]; // atual array de ponteiros
Scenario(int byteI) // construtor da classe
{
byteInicial = byteI;
link[0] = &led1.fade;
}
Neste caso eu recebo o erro: undefined reference to `Scenario::link'.
Já tentei utilizar
Scenario::Scenario link [0] = &led1.fade;
Porém recebo o erro ao tentar usar ele de qualquer forma, seja printando na serial ou tentando gravar na eeprom.
Qual seria a forma correta de fazer isso?
29321,python,Preciso criar um script em Phyton que quando executado seja via 'click' do mouse ou 'enter' do teclado, ele próprio abra o terminal linux e execute um comando qualquer dentro do mesmo. Já consegui fazer com que ele execute o comando, mas desde que o script seja executado já dentro do terminal.
Já tentei de tudo o que estava ao meu alcance via google, tentei usar os.system(), subprocess(), mas nenhum resolveu.
Meu código nesse momento é o seguinte:
#!/usr/bin/env python3
# -*- coding; utf-8 -*-
import subprocess
processo = subprocess.Popen(args = ['pantheon-terminal'],
stdin = subprocess.PIPE,
stderr = subprocess.PIPE,
shell = True)
processo.communicate('ls') # Aqui um erro
Ele deveria abrir o terminal e executar o comando ls, mas apenas abre o terminal.
Edit:
Como podem ver acima, eu estava usando processo.communicate('ls'), ou seja, estava passando o comando de forma errada, mas ainda não sei onde por o comando para ele ser executado dentro do terminal que foi aberto pelo script.
29447,python,Olá, eu estou utilizando um coletor para buscar dados de todos os usuários do fórum do stackoverflow pela API. Só que estou sofrendo com a "quota_max" que são apenas 300 buscas diárias. Já tentei com a função Sleep, coloquei o coletor para dormir até 300 segundos por busca, e mesmo assim ele preenche as cotas e para de retornar. Alguém pode sabe uma maneira de buscar na api sem parar (se possível) ou como funciona o reabastecimento das quotas?
29789,java|python,Já busquei bastante no Google mas nunca achei uma boa explicação pra como fazer programas open-source. Eu curto muito programar em Java e Python e queria desenvolver algum programa open com essas linguagens, mas imagina se eu crio um programa desses, vem outra pessoa, e copia meu programa e diz que foi ela que fez... Como eu posso ficar seguro contra isso? no geral... Como fazer programas open-source?
29844,python,Como eu posso fazer para usar dois decoradores no python, como no exemplo abaixo:
@makebold
@makeitalic
def say():
return "Hello"
que retorna:
<b><i>Hello</i></b>
Eu não estou tentando fazer o HTML assim em uma aplicação real, eu estou apenas tentando entender como decoradores e grupos de decoradores funcionam no Python.
29846,python,Como eu posso chamar um comando externo no Python, como se ele fosse executado no shell do Unix ou no prompt do Windows?
29872,python,Estou tendo dificuldade para ler as informações de uma planilha que tem linhas e colunas mescladas. Eu tentei usar merged_cell para obter o valor, mas eu não entendo como ele funciona. Alguém pode me ajudar?
Usando o script abaixo, eu posso obter os valores, exceto para as células mescladas. Como posso obter todas as células, inclusive os mesclados?
from xlrd import open_workbook,cellname
workbook = open_workbook('file.xls')
sheet = workbook.sheet_by_index(0)
for row_index in range(sheet.nrows):
for col_index in range(sheet.ncols):
print cellname(row_index,col_index),'-',
print sheet.cell_value(row_index,col_index)
30013,c++,Estou com problemas para salvar uma mensagem SMS em uma variável. A ideia é mandar um SMS com um comando e mais tarde usar um operador condicional para ativar ou desativar um relé.
Mas não consigo salvar a mensagem SMS. Sempre que eu tento salvá-la, ela assume o valor de:
" ÿ ".
Estou usando um módulo GSM sim900 com o Arduino.
Segue o código que estou tentando usar:
#include <SoftwareSerial.h>
SoftwareSerial cell(2,3);
void setup()
{
cell.begin(19200);
cell.println("AT+CMGF=1");
delay(200);
cell.println("AT+CNMI=3,2,0,0");
delay(200);
}
void loop()
{
if(cell.available() >0)    // se o shild resceber uma msg
{
delay(10);
msg=cell.read();     // salve ela na variavel  msg
Serial.println(msg);// mostra o valor do "msg" NESSE ponto ela esta valendo ÿ
if (msg=='a')     // se o primeiro caracter for "a"
{
delay(10);
msg=cell.read();
if (msg=='0')   // se o segundo caracter for "0"
{
delay(10);
msg=cell.read();
if (msg=='e')   // se o terceiro caracter for "e"
{
}
}
}
}
}
Quando imprimo a mensagem no serial, seu valor é ÿ, por que  isso?
Andei pesquisado e descobri que antes de dizer ao Arduino para armazenar a SMS, temos que dizer pra ele "escutar" a serial que recebe a mensagem e isto está relacionado ao:
gsm.listen();
Mas não entendi a relação muito bem.
30145,java|python,No python, a string tem uma função chamada title, que faz que um texto fique que nem um título. Tem uma função assim no Java? Se não, como fazê-la?
Exemplo:
"oi, meu nome é goku".title() -> "Oi, Meu Nome É Goku"
Eu preciso dessa função pois estou trabalhando com nomes de pessoas, e o nome da pessoa tem que ficar assim.
Outro Exemplo:
freterotilda astrobalda -> Freterotilda Astrobalda
30391,c++,Eu estou tentando "chamar" uma função de uma table escrito em Lua. O problema é que eu não estou conseguindo passar três argumentos a esta função.
Quando eu passo os argumentos, é como se a Lua pulasse o primeiro argumento e continuasse do segundo em diante. A baixo um trecho do código.
// C++
// Função responsável por chamar a função do script
int CPP_get(lua_State* ls)
{
lua_getfield(ls, LUA_GLOBALSINDEX, "vec"); // Coloca vec na pilha
lua_getfield(ls, -1, "func"); // coloca a função func na pilha
lua_remove(ls, -2); // Remove vec da pilha
dumpStack(ls); // Mostra a pilha
lua_pushnumber(ls, 2.0f); // Primeiro argumento
lua_pushnumber(ls, 4.0f); // Segundo argumento
lua_pushnumber(ls, 8.0f); // Terceiro argumento
dumpStack(ls); // Mostra a pilha
std::cout << "\n";
lua_pcall(ls, 3, 1, 0); // Chama a função
return 1;
}
-- Lua
-- Table
vec = {}
vec.__index = vec
-- Função a ser chamada
function vec:func(x, y, z)
print("vec:func:", x, y, z)
return "return: OK"
end
-- Chamando a função
print("CPP.get:", CPP.get())
A função dumpStack, é para mostrar os elementos da "pilha" atual. Abaixo um print de como fica a "pilha". No final da execução ele só passa do segundo argumento em diante.
30459,python,Bem, não estou conseguindo executar funções externas (com exec) que alterarão listas globais para que seja usada em minha função principal, segue código:
m = []
n = []
def mp((a,b),p):
c = [n[0] for n in p]
d = [z.index for z in c if (a == z)]
if len(d) == 1 and ((((sum(p) - p[d[0]]) + b) % 5) == 0 ):
return m.append((((sum(p) - p[d[0]]) + b),d[0]))
elif len(d) > 1 :
return ( m.append((((sum(p) - p[d[i]]) + b),d[i])) for i in d if ((sum(p) - p[d[i]]) + b) % 5 == 0 )
elif ( len(d) == 0 ):
return m.append(None)
def mp2((a,b),p):
c = [n[0] for n in p]
e = [k.index for k in c if (b == z)]
if len(e) == 1 and ((((sum(p) - p[e[0]]) + a) % 5) == 0 ):
return  n.append((((sum(p) - p[e[0]]) + a),e[0]))
elif len(e) > 1 :
return ( n.append((((sum(p) - p[e[i]]) + a),e[i])) for i in e if ((sum(p) - p[e[i]]) + a) % 5 == 0 )
elif ( len(e) == 0 ):
return n.append(None)
def maior_ponto((a,b),p):
g = mp((a,b),p)
h = mp2((a,b),p)
exec(g)
exec(h)
u = (m+n)
return(r[1] for r in u if max(r[0]))
O erro retornado no terminal é:
python bloco313.py
File "bloco313.py", line 71
exec(g)
SyntaxError: unqualified exec is not allowed in function 'maior_ponto' it contains a nested function with free variables
Qual o problema na função? Não identifiquei problema de variáveis. Estou Usando python 2.7.5 no terminal do Ubuntu
30503,python,Eu sou novo no Python, está dando esse erro que existe na imagem.
http://uploaddeimagens.com.br/imagens/sem_titulo-png--8888
Oque posso fazer para resolver ?
30508,python,eu tenho uma tabela de 5 linhas e 5 colunas.
Para cada coluna tenho um nome, por exemplo: Nome, Idade, Sexo, Peso, Altura. E todas as células 5*5 estão preenchidas.
Eu preciso da seguinte formatação:
Idade
João - 15
José - 16
Maria - 21
Sexo
João - M
José - M
Maria - F
Ou seja, para cada informação da célula eu preciso que me mostre a qual pessoa é relacionada este resultado.
Eu já listo o título (Idade) e o valor (16), porém não consigo vincular o nome a cada informação, ficando:
Nome
JOão
JOsé
MAria
Idade
16
15
21
Sexo
M
M
F
Eu criei uma varíavel recebendo o valor da célula(x,y), mas imprime vazio.
Segue meu código:
for crange in sheet.merged_cells:
rlo, rhi, clo, chi = crange
rranges[(clo,rlo)] = rhi - rlo;
for col_index in range(sheet.ncols):
linhas = iter(range(sheet.nrows));
nome_mol = ""
for row_index in linhas:
if (sheet.cell_value(row_index,col_index) != ''):
valor = sheet.cell_value(row_index,col_index);
if (sheet.cell_value(row_index,col_index) == "NOME"):
nome_mol = sheet.cell_value(row_index,col_index)
print "{} -- {} |{} |".format(nome_mol, valor)
30643,c#|java|python,Atualmente estou trabalhando em meu Trabalho de Conclusão de Curso e o tema envolve OCR.
Fiz algumas pesquisas e encontrei o Tesseract, também encontrei bibliotecas no Nuget pra ele (estou usando C#). O problema é que meu trabalho é sobre leitura de Placa Veicular, quando passo uma imagem de um carro (daquelas que os radares tiram), o tesseract não consegue fazer a leitura da imagem, diz que a imagem é inválida. Tentei com várias imagens diferentes, com imagens que só tinha a placa e sempre a mesma coisa (entenda coisa como erro). Porém se eu criar uma imagem no Paint com um texto e tentar ler, funciona, mas não é isso que quero.
Gostaria de saber se alguém já teve experiência com isso e sabe como resolver, ou se conhece outra forma de trabalhar com OCR e que atenda esta necessidade.
Se conhecer outra forma de fazer em outra linguagem, por favor me diga, posso desenvolver em outra linguagem que não seja C#.
30734,python,Eu tenho um script para deploy feito com Fabric e Boto para fazer deploy de aplicações no AWS Beanstalk e gostaria de printar os Event Details gerados no beanstalk no terminal durante o deploy. Alguém sabe se isso é algo possível? Se sim, como pode ser feito?
30937,python,Tenho o seguinte html:
<p>Um acidente no cruzamento da rua ... </p>
<div id="marca"></div>
<p>Um acidente no cruzamento ......</p>
<div id="marca2"></div>
Estou tentando fazer assim:
def text_view(self):
soup = BeautifulSoup(self.text)
try:
marca1 = BeautifulSoup(self.get_images())
soup.find("div", {"id": "marca"}).replaceWith(marca1)
except:
pass
try:
marca2 = BeautifulSoup(self.get_images())
soup.find("div", {"id": "marca2"}).replaceWith(marca2)
except:
pass
return soup
Mas ele só substitui o texto do primeiro div.
O que pode ser?
31276,c#|c++,Bom, estou passando uns códigos do qual tenho, e estou dúvida para conseguir passar tal código para c#, e queria a ajuda de quem puder ajudar, no seguinte código abaixo
#include <dirent.h>
#include <cstdlib>
#include <iostream>
#include <string.h>
#include <windows.h>
bool extracoes();
int main()
{
bool saida;
//"Interface"
saida = extracoes();
if(saida)
std::cout<<"Copias concluidas!!!\n\nPressione qualquer tecla para encerrar!";
else
std::cout<<"Erro! Executar instalacao como Suporte\n\nPressione qualquer tecla para encerrar...";
std::cin.get();
}
bool extracoes()
{
struct dirent *lsdir;
DIR *dir;
int qtd=0, i=0;
bool padrao;
std::string path;
dir = opendir("D:\\Users\\");
while((lsdir = readdir(dir)) != NULL)
qtd++;
std::string users[qtd];
closedir(dir);
dir=opendir("D:\\Users\\");
while((lsdir = readdir(dir)) != NULL)
{
padrao=true;
std::string aux = lsdir->d_name;
if(aux.size() == 7)
{
for(int j=0; j<7; j++)
{
if(!(aux[j]<=57 && aux[j]>=48))
{
padrao=false;
break;
}
}
}
else
padrao=false;
if(padrao)
{
users[i]=aux;
i++;
}
}
closedir(dir);
users[i]    = "Default";
users[i+1]  = "\0";
i           = 0;
padrao      = true;
//Config Global
if(system("Xcopy kds_kodak c:\\ProgramData\\kds_kodak /v /e /y /h > nul") == 0)
std::cout<<"Extracao Config_Globais concluida\n\n";
else
{
padrao = false;
std::cout<<"Erro na extracao Config_Globais\n";
}
//Config default e usuários
while(users[i].compare("\0"))
{
std::cout<<"Copiando...\n";
path = "Xcopy \"Smart Touch\" \"d:\\Users\\";
path += users[i]+"\\AppData\\Local\\Smart Touch\\\" /v /e /y /h > nul";
if(system(path.c_str()) == 0)
std::cout<<"Copia do usuario "<<users[i]<<" concluida!!\n\n";
else
{
std::cout<<"Copia do usuario "<<users[i]<<" nao concluida!!\n\n";
padrao = false;
}
i++;
}
return padrao;
std::cin.get();
}
31330,python,Tenho um problema no qual tenho que pegar todas as minhas informações (informação de cada célula da planilha), faze-las passar por uma condição e para cada resultado da condição escrever em um nova planilha de um novo arquivo.
Por exemplo, tenho o arquivo teste.xls que contém uma planilha e todas as informações.
Todos os valores desta planilha passarão por 3 condições, sendo que essas condições as separam em Nome, Idade e Sexo. Ou seja todas os valores da minha planilha serão separados em Nome, Idade e Sexo.
A grande questão é, criar um novo arquivo com 3 planilhas sendo que cada uma terá o nome Nome, Idade e Sexo e cada resultado irá apra sua determinada planilha.
Meu código está pronto, ele traz todo o resultado que quero no terminal, porém eu não sei por onde começar para separar cada resultado de cada condição para sua determinada planilha. Eu sei da biblioteca xlwt, porém estou com dificuldade sobre como separar as os resultados nas planilhas.
31371,python,Existe alguma forma de formatar o Python Traceback para ter uma leitura melhor do request de erro? Por exemplo, eu recebi o seguinte request no meu traceback:
"<WSGIRequest\npath:/admin/verificacao/verificacao/1849/,\nGET:<QueryDict: {}>,\nPOST:<QueryDict: {u'trajeto': [u''], u'concluido': [u'1'], u'_save': [u'Salvar'], u'consultor': [u'18'], u'resposta_21': [u'As parcerias realizadas.\\r\\nDedica\\xe7\\xe3o da equipe envolvida.\\r\\nPlanejamento para os eventos.\\r\\nImplementa\\xe7\\xe3o essencial da pol\\xedtica pedag\\xf3gica.\\r\\nEstudo pr\\xe9vio dos pontos de fragilidade das comunidades.'], u'resposta_20': [u'A extens\\xe3o territorial \\xe9 do estado de goi\\xe1s, podendo estender-se \\xe0s outras defensorias.\\r\\n'], u'resposta_23': [u'78 processos ativos que foram arquivados na comunidade do Assentamento de Canudos.\\r\\n'], u'resposta_22': [u'Praticamente todas foram superadas com a parte pedag\\xf3gica e negocial.\\r\\nHavia as dificuldades para levar ao conhecimento do jurisdicionado seus direitos e at\\xe9 mesmo os benef\\xedcios que possu\\xedam.\\r\\n'], u'resposta_25': [u'1. Superintend\\xeancia Regional do Incra em Goi\\xe1s.\\r\\n2. Prefeitura Municipal de Campestre de Goi\\xe1s, Goi\\xe1s.\\r\\n3. Banco do Brasil\\r\\n4. Colaboradores volunt\\xe1rios da \\xe1rea de produ\\xe7\\xe3o rural, assistentes sociais.\\r\\n'], u'resposta_24': [u'Aproximadamente 337 fam\\xedlias e 1118 pessoas considerando a quantidade de integrantes das fam\\xedlias abarcadas pelo projeto.\\r\\n'], u'resposta_19': [u'1 ano e 2 meses'], u'resposta_17': [u'O problema \\xe0 ser resolvido era a insatisfa\\xe7\\xe3o na entrega jurisdicional pela sua pr\\xf3pria inefic\\xe1cia, quando existia um assentamento. \\r\\nIgnor\\xe2ncia dos pr\\xf3prios assentados quanto aos benef\\xedcios.\\r\\nIgnor\\xe2ncia quanto ao movimento, pois existiam v\\xe1rios movimentos e achavam que a defensoria seria mais um.\\r\\nExistia um insucesso muito grande nas demandas judiciais.\\r\\nPor mais que existiam benef\\xedcios, n\\xe3o eram do conhecimento dos assentados.\\r\\nFalta de estrutura f\\xedsica e operacional para levar o conhecimento dos benef\\xedcios dos assentados.\\r\\n'], u'proposta': [u'4512'], u'csrfmiddlewaretoken': [u'FQlzjFRtKmaT9HWjfIyXk4IK3PNwHA96'], u'resposta_18': [u'1\\xba Identifica\\xe7\\xe3o do problema e realiza\\xe7\\xe3o do planejamento\\r\\n2\\xba Definir um evento como solu\\xe7\\xe3o adequada.\\r\\n3\\xba formula\\xe7\\xe3o do plano pedag\\xf3gico\\r\\n4\\xba Forma\\xe7\\xe3o das parcerias.\\r\\n5\\xba Plano operacional - Visitas aos locais, com parcerias com as prefeituras para\\r\\nrealiza\\xe7\\xe3o dos eventos.'], u'slug': [u'dpu-no-campo-4512-altivojr']}>,\nCOOKIES:{'__utma': '63901038.1404066889.1409656010.1409656010.1409666214.2',\n '__utmz': '63901038.1409666214.2.2.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided)',\n 'csrftoken': 'FQlzjFRtKmaT9HWjfIyXk4IK3PNwHA96',\n 'mp_4cb22527c5133fdb99a210c6664dcb0f_mixpanel': '%7B%22distinct_id%22%3A%20%22148360bb47a5de-0063bfb2f-4e40012c-100200-148360bb47b5a7%22%2C%22%24search_engine%22%3A%20%22google%22%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.google.com.br%2F%22%2C%22%24initial_referring_domain%22%3A%20%22www.google.com.br%22%7D',\n 'sessionid': 'ec5ef2aa54e3451a108ffed9929bba8d'},\nMETA:{'CONTENT_LENGTH': '3482',\n 'CONTENT_TYPE': 'multipart/form-data; boundary=----WebKitFormBoundaryedY6h7JfsgGlDEvU',\n 'CSRF_COOKIE': 'FQlzjFRtKmaT9HWjfIyXk4IK3PNwHA96',\n 'DOCUMENT_ROOT': '/var/www/html',\n 'GATEWAY_INTERFACE': 'CGI/1.1',\n 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',\n 'HTTP_ACCEPT_ENCODING': 'gzip,deflate,sdch',\n 'HTTP_ACCEPT_LANGUAGE': 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',\n 'HTTP_CACHE_CONTROL': 'max-age=0',\n 'HTTP_CONNECTION': 'keep-alive',\n 'HTTP_COOKIE': 'mp_4cb22527c5133fdb99a210c6664dcb0f_mixpanel=%7B%22distinct_id%22%3A%20%22148360bb47a5de-0063bfb2f-4e40012c-100200-148360bb47b5a7%22%2C%22%24search_engine%22%3A%20%22google%22%2C%22%24initial_referrer%22%3A%20%22https%3A%2F%2Fwww.google.com.br%2F%22%2C%22%24initial_referring_domain%22%3A%20%22www.google.com.br%22%7D; __utma=63901038.1404066889.1409656010.1409656010.1409666214.2; __utmz=63901038.1409666214.2.2.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); sessionid=ec5ef2aa54e3451a108ffed9929bba8d; csrftoken=FQlzjFRtKmaT9HWjfIyXk4IK3PNwHA96',\n 'HTTP_HOST': 'www.premioinnovare.com.br',\n 'HTTP_ORIGIN': 'http://www.premioinnovare.com.br',\n 'HTTP_REFERER': 'http://www.premioinnovare.com.br/admin/verificacao/verificacao/1849/',\n 'HTTP_USER_AGENT': 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/36.0.1985.143 Safari/537.36',\n 'HTTP_X_FORWARDED_FOR': '186.214.161.180',\n 'HTTP_X_FORWARDED_PORT': '80',\n 'HTTP_X_FORWARDED_PROTO': 'http',\n 'PATH_INFO': u'/admin/verificacao/verificacao/1849/',\n 'PATH_TRANSLATED': '/opt/innovare/website/website/wsgi.py/admin/verificacao/verificacao/1849/',\n 'QUERY_STRING': '',\n 'REMOTE_ADDR': '10.140.200.104',\n 'REMOTE_PORT': '21830',\n 'REQUEST_METHOD': 'POST',\n 'REQUEST_URI': '/admin/verificacao/verificacao/1849/',\n 'SCRIPT_FILENAME': '/opt/innovare/website/website/wsgi.py',\n 'SCRIPT_NAME': u'',\n 'SERVER_ADDR': '10.111.156.250',\n 'SERVER_ADMIN': 'root@localhost',\n 'SERVER_NAME': 'www.premioinnovare.com.br',\n 'SERVER_PORT': '80',\n 'SERVER_PROTOCOL': 'HTTP/1.1',\n 'SERVER_SIGNATURE': '<address>Apache/2.2.27 (Amazon) Server at www.premioinnovare.com.br Port 80</address>\\n',\n 'SERVER_SOFTWARE': 'Apache/2.2.27 (Amazon)',\n 'mod_wsgi.application_group': 'ip-10-111-156-250.ec2.internal|',\n 'mod_wsgi.callable_object': 'application',\n 'mod_wsgi.handler_script': '',\n 'mod_wsgi.input_chunked': '0',\n 'mod_wsgi.listener_host': '',\n 'mod_wsgi.listener_port': '80',\n 'mod_wsgi.process_group': 'innovare',\n 'mod_wsgi.request_handler': 'wsgi-script',\n 'mod_wsgi.script_reloading': '1',\n 'mod_wsgi.version': (3, 2),\n 'wsgi.errors': <mod_wsgi.Log object at 0x7f66943a7870>,\n 'wsgi.file_wrapper': <built-in method file_wrapper of mod_wsgi.Adapter object at 0x7f668c3e6648>,\n 'wsgi.input': <mod_wsgi.Input object at 0x7f66943a74b0>,\n 'wsgi.multiprocess': True,\n 'wsgi.multithread': True,\n 'wsgi.run_once': False,\n 'wsgi.url_scheme': 'http',\n 'wsgi.version': (1, 1)}>"
Só que é muito ruim de ler ele assim. Tem alguma forma de torná-lo mais agradável aos olhos e mais entendível?
31623,c++,Como eu poderia fazer uma solicitação em uma URL que retornaria um jSON em C++?
Preciso acessar uma URL /return.php que retorna a string
{"status":true,"hash":"12#87!!3@WSS\/.","user":"admin"}
e trabalhar ela em meu projeto, acessando o json como obj.status por exemplo.
32048,c++,Estou com o seguinte problema, ao executar o método insereOP() as instâncias maq e cli perdem seus dados.
Assim quando chamo o método atualizarOP, as informações do cliente e da maquina não existem, gerando erro no comando SQL.
ClienteDAO cliDAO(con);
Cliente * cli = cliDAO.getCliente(3);
MaquinaDAO maqDAO(con);
Maquina * maq = maqDAO.getMaquina(1);
OrdemDeProducao tmp("op001",cli,maq,1,10000,QDate(2014,9,1));
OrdemDeProducaoDAO dialogDAO(con);
if (dialogDAO.insereOP(tmp)){
std::cout << "Inserido" << std::endl;
tmp.setQuantidadeProgramada(50000);
if(dialogDAO.atualizaOP(tmp)) {
std::cout << "Atualizado" << std::endl;
}
}
Métodos utilizados:
Maquina *MaquinaDAO::getMaquina(int codigoMaquina) {
Maquina * retorno = NULL;
if(db.open()) {
query = QSqlQuery(db);
query.prepare("SELECT CodigoMaquina, NomeMaquina, StatusMaquina FROM Maquina WHERE CodigoMaquina = ?");
query.addBindValue(codigoMaquina);
if(!query.exec()){
std::cout << query.lastError().text().toStdString() << std::endl;
db.close();
return retorno;
} else {
if (query.first())
retorno = new Maquina(query.value(0).toInt(), query.value(1).toString(), query.value(2).toInt());
}
db.close();
} else {
std::cout << db.lastError().text().toStdString() << std::endl;
}
return retorno;
}
Cliente *ClienteDAO::getCliente(int codigoCliente) {
Cliente * retorno = NULL;
if(db.open()) {
query = QSqlQuery(db);
query.prepare("SELECT CodigoCliente, NomeCliente FROM Clientes WHERE CodigoCliente = ?");
query.addBindValue(codigoCliente);
if(!query.exec()){
std::cout << query.lastError().text().toStdString() << std::endl;
db.close();
return retorno;
} else {
if (query.first())
retorno = new Cliente(query.value(0).toInt(), query.value(1).toString());
}
db.close();
} else {
std::cout << db.lastError().text().toStdString() << std::endl;
}
return retorno;
}
bool OrdemDeProducaoDAO::insereOP(OrdemDeProducao op) {
if(db.open()) {
query = QSqlQuery(db);
query.prepare("INSERT INTO OrdemdeProducao (op, CodigoCliente, CodigoMaquina, ordem, QuantidadeProgramada, datadeentrega) VALUES (?,?,?,?,?,?)");
query.addBindValue(op.getOP());
query.addBindValue(op.getCliente()->getCodigoCliente());
query.addBindValue(op.getMaquina()->getCodigoMaquina());
query.addBindValue(op.getOrdem());
query.addBindValue(op.getQuantidadeProgramada());
query.addBindValue(op.getDataDeEntrega());
if(!query.exec()){
std::cout << query.lastError().text().toStdString() << std::endl;
db.close();
return false;
}
db.close();
return true;
} else {
std::cout << db.lastError().text().toStdString() << std::endl;
return false;
}
}
Todos os arquivos do projeto podem ser encontrados no repositório do GitHub:
https://github.com/LuanTavares/PointSW
O que pode estar causando esta perda de informação ?
32129,c++,Ao executar um código C++ ocorrem esses dois problemas:
- [BCC32 Error] USerialCommunication.cpp(96): E2034 Cannot convert 'wchar_t *' to 'const char *'
- [BCC32 Error] USerialCommunication.cpp(96): E2342 Type mismatch in parameter '__src' (wanted 'const char *', got 'wchar_t *')
Código Fonte:
void __fastcall TFSerialPort::EnviarClick(TObject *Sender)
{
char buff[100];
//Converte uma string em array.
strcpy(buffer, EdCommand->Text.c_str());
}
Declaração do EdCommand: TEdit *EdCommand;
Declaração do buffer: char buffer[100];
Erro ocorre na linha do strcpy.
Obs.: O código fonte foi feito no C++ Builder 6 e estou tentando executar no Embarcadero XE2
32199,python,Senhores, boa tarde!
Estou enfrentando um pequeno problema, fiz algumas mudanças em uma aplicação que estou desenvolvendo para estudos.
Me deparo com o seguinte, preencho a form tudo certo e quando vou dar um save, não acontece nada, não redireciona para o listamento nem nada.
O estranho que olho no terminal da um post.
"POST /tickets/novo/ HTTP/1.1" 200 3261
O que pode ser?
Ja tentei de tudo e não consigo resolver.
Segue o codigo da view : http://hastebin.com/uxorenoyiy.py
Segue o codigo do model: http://hastebin.com/uxogiqufoh.py
Quem pude me me ajudar agradeco.
32230,c++,Eu gostaria de passar uma std::list temporária à uma função, mas não sei se é possível fazê-lo. Eu sei que é possível passar um std::vector temporário com uma initializer_list:
#include <iostream>
#include <vector>
template<typename T>
void mostra(const std::vector<T>& myVec)
{
for(T var : myVec)
std::cout << var << "\n";
}
int main()
{
mostra<int>({12, 14, 28, 7, 10});
return 0;
}
32313,c++,Preciso de ajuda, estou com problemas na comparação de duas variáveis usando strcmp().
[Error] invalid conversion from 'char' to 'const char*' [-fpermissive]
struct transicao{
int estado;      //estado em que o DFA esta
char simbolo;    //simbolo usado no DFA
int proxestado;  //proximo estado do DFA
};
// Cria uma tabela do tipo transicao e preenche com todos os casos possiveis de serem obtidos no DFA
struct transicao tabela[103][3] = {
//Aqui no codigo original, estao todos os casos possiveis
};
int validar(){
char email[50]; // Armazena o email que deve ser testado
cout<<"Digite o email: ";
cin>>email;    // Salva email digitado pelo usuario
fflush(stdin);
char cEmail = email[0];
int count;
int estado;
char simbolo;
int proxestado;
int t = strlen(email);
int j = 0;
while(t > 0){    // O loop dura enquanto existirem caracteres em email
for(count = 0; count < 103; count++){   // A condicao de parada e 103 porque e o numero de casos
estado = tabela[count][0].estado;                   // Armazena o estado do DFA no momento
simbolo = tabela[count][1].simbolo;                 // Armazena o simbolo do DFA no momento
proxestado = tabela[count][2].proxestado;           // Armazena o proximo estado caso
if(strcmp(cEmail,simbolo) == 0){
//Se o simbolo atual for igual ao caracter do email, entra no switch
switch(estado){
case 0:
// Se o estado e o proximo estado forem 0, significa que o automato
// devera continuar no estado 0
if(estado == 0 && proxestado == 0){
continue;
} else if(simbolo == '@'){   // Se nao for, estado recece proxestado
estado = proxestado;
continue;
}
break;
case 1:
// Se o estado e o proximo estado forem 1, significa que o automato
// devera continuar no estado 1
if(estado == 1 && proxestado == 1){
continue;
} else if(simbolo == '.'){   // Se nao for, estado recece proxestado
estado = proxestado;
continue;
}
break;
case 2:
// Se o estado e o proximo estado forem 2, significa que o automato
// devera continuar no estado 2
if(estado == 2 && proxestado == 2){
continue;
}
break;
} // end switch
j++;  // Incrementa o contador que anda entre os caracteres do email
} else {
continue;       // Se o simbolo atual for nao igual ao caracter do email, continue testando os próximos
}
} // end for
t--;
} // end while
if(estado != 2) {       // Testa se o DFA terminou em um estado diferente de 2
return 0;
}
else return 1;
}
int main(){
int retorno;
retorno = validar();
if(retorno == 1)
cout<<"Email valido!";
else
cout<<"Email invalido!";
system("pause");
}
32441,python,Programo em python mais ou menos a um ano, e tenho visto sempre em alguns projetos que encontro pela web, um arquivo chamado exceptions.py. Sei tratar exceptions dentro dos meus códigos, esta não é minha duvida.
Gostaria apenas de entender a importancia deste arquivo, e como posso criar e utilizar em meu projeto.
Alguém teria algum documento que pudesse me ajudar a compreender?
32496,python,Estou tentando criar no matlab um script que faça uma sub-matriz (janela de busca 3 x 3) percorrer por toda uma matriz maior buscando valores mínimos para cada trecho de 3 x 3 células analisadas. Quando o script encontra esta célula de valor mínimo, ele a coloca como centro da sub-matriz e busca novamente o valor mínimo e assim sucessivamente até uma célula indicada na matriz maior. Já tentei trabalhar com loops, porém como sou iniciante não estou conseguindo.
clc
clear
alt= imread('foto_o1.tif')
[l c]= size(alt)
a = 1
b = 7
d= 1
while a < 416
a= a+1
while b < 416
b= b+1
d= d+1
d= alt(1:7, a:b)
end
end
32658,c++,Estou tendo problemas ao copilar um simples teste utilizando a biblioteca cURL para C++ pois sempre retorna esse erro:
C:\Users\Raphael\Desktop\HTTP Request\collect2.exe  [Error] ld returned 1 exit status
Makefile.win
# Project: SQL Request
# Makefile created by Dev-C++ 5.6.3
CPP      = g++.exe
CC       = gcc.exe
WINDRES  = windres.exe
OBJ      = "SQL\ Request.o"
LINKOBJ  = "SQL Request.o"
LIBS     = -L"C:/Program Files (x86)/Dev-Cpp/MinGW32/lib" -L"C:/Program Files (x86)/Dev-Cpp/MinGW32/mingw32/lib" -static-libstdc++ -static-libgcc
INCS     = -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/include" -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/mingw32/include" -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/lib/gcc/mingw32/4.8.1/include"
CXXINCS  = -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/include" -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/mingw32/include" -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/lib/gcc/mingw32/4.8.1/include" -I"C:/Program Files (x86)/Dev-Cpp/MinGW32/lib/gcc/mingw32/4.8.1/include/c++"
BIN      = "SQL Request.exe"
CXXFLAGS = $(CXXINCS)
CFLAGS   = $(INCS)
RM       = rm.exe -f
.PHONY: all all-before all-after clean clean-custom
all: all-before $(BIN) all-after
clean: clean-custom
${RM} $(OBJ) $(BIN)
$(BIN): $(OBJ)
$(CPP) $(LINKOBJ) -o $(BIN) $(LIBS) // AQUI OCORRE O ERRO
"SQL\ Request.o": SQL\ Request.cpp
$(CPP) -c "SQL Request.cpp" -o "SQL Request.o" $(CXXFLAGS)
Meu Código:
#include <stdio.h>
#include "libs/curl/curl.h"
int main(void)
{
CURL *curl;
CURLcode res;
curl_global_init(CURL_GLOBAL_DEFAULT);
curl = curl_easy_init();
if(curl) {
curl_easy_setopt(curl, CURLOPT_URL, "https://example.com/");
#ifdef SKIP_PEER_VERIFICATION
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYPEER, 0L);
#endif
#ifdef SKIP_HOSTNAME_VERIFICATION
/*
* If the site you're connecting to uses a different host name that what
* they have mentioned in their server certificate's commonName (or
* subjectAltName) fields, libcurl will refuse to connect. You can skip
* this check, but this will make the connection less secure.
*/
curl_easy_setopt(curl, CURLOPT_SSL_VERIFYHOST, 0L);
#endif
/* Perform the request, res will get the return code */
res = curl_easy_perform(curl);
/* Check for errors */
if(res != CURLE_OK)
fprintf(stderr, "curl_easy_perform() failed: %s\n",
curl_easy_strerror(res));
/* always cleanup */
curl_easy_cleanup(curl);
}
curl_global_cleanup();
return 0;
}
32990,python,Meu codigo percorre todas as células da minha planilha e devolve todos os valores que preciso, sendo que neste arquivo.xls tem apenas uma aba.
Agora tenho um novo arquivo para percorrer e são 8 abas. Eu sei que preciso inicializar com:
workbook_r = open_workbook('arquivo.xls', formatting_info=True)
worksheet_r = workbook_r.sheet_by_index(0)
Onde nesta segunda linha estou definindo que seja percorrido a aba na posição 0. COmo faço para que percorra mais de uma aba em todo o arquivo?
Não apresenta erro, ele apenas não lê a aba seguinte. Não encontrei nenhuma referência na documentação da biblioteca xlrd para ler mais de uma aba.
33032,c++,O problema aqui é que ele cria o arquivo 'test.txt' porem quando chega na hora de gravar no arquivo ele não faz nada...
eu ja vi a permissão do arquivo e esta ok...
não entendi alguém poderia me ajudar?
#include <iostream>
#include <fstream>
#include <cstdlib>
#include <string>
using namespace std;
int main()
{
int numero;
string name;
ofstream outFile;
outFile.open("c:\\x\\test.txt");
if (! outFile)
{
cout << "erro test.txt" << endl;
abort();
}
cout << "Name: \n"
<< "Fim de arquivo (Ctrl-Z) termina a entrada de dados\n\n? ";
while(cin >> numero >> name){
outFile << numero << " " << name<< '\n'; // << Chega aqui ele não faz nada
cout << "? ";
}
outFile.close();
return 0;
}
33070,python,Eu uso Jekyll em meu site, vou parar de usar por essa razão.
Eu queria migrar para o Pelican mas travei nos layouts. O problema é o seguinte:
No Jekyll eu posso em cada página (page) definir o layout, ou melhor, dizer (apontar) qual será o layout, Ex:
foo1.md
---
layout: modelo-a
---
foo2.md
---
layout: modelo-b
---
foo3.md
---
layout: modelo-c
---
Eu não descobri como fazer isso no Pelican, alguém sabe como?
Aquela variável de configuração TEMPLATE_PAGES...
TEMPLATE_PAGES = {'src/books.html': 'dest/books.html',
'src/resume.html': 'dest/resume.html',
'src/contact.html': 'dest/contact.html'}
... não me serve porque eu tenho mais de 100 páginas e o número está crescendo, imagine como ficaria o negócio!
33337,python,O IDLE permite abrir um arquivo para escrever os nossos programas (carregando CRTL + N, se não me engano), mas, devido a um problema com o IDLE do Python 3.4.1 ou 3.4.0, eu não posso usá-lo corretamente. Posso usar o Python só através do terminal.
É possível abrir um arquivo com o IDLE a partir to terminal?
33541,c++,int main()
{
int**items[5];
for (int i=0;i<5;i++)
{
*items[i] = new int; <--
}
return 0;
}
O programa compila, mas não roda. Rodei o debugger e apontou que o erro está onde a seta aponta.
Meu objetivo é que o meu ponteiro de um vetor aponte para outra memória dinâmica para armazenar apenas um int.
O que estou fazendo de errado?
33659,python,Estou a tentar criar um simples bloco de notas, mas tenho um pequeno problema:
quando tento ver se o texto dum objecto Text está ou não vazio:
if text_area.get(0.0, tkinter.END) != "":
print("Text não vazio") # é sempre executado
Quando eu tento usar a função len para controlar a comprimento do texto, retorna 1.
Qual é afinal este caracter predefinido? A minha solução seria controlar o comprimento do texto com 1 (ou talvez melhor, se o comprimento é maior que 1), e se retorna True, quer dizer que está "vazio".
Já agora, porquê que o Python, ou melhor a livraria tkinter fornece um indicador de final de texto, ou seja tkinter.END, e não de inicio? Porquè que tenho que meter 0.0 (e não tkinter.START)?
(Em comparação por exemplo a linguagem Java, e em particular a sua livraria Swing, a livraria tkinter é mesmo pouco intuitiva, mesmo franquinha sinceramente)
33816,python,Em Python como eu faço para a função abaixo alterar a lista penas localmente, isto é, apenas no escopo da função f sem alterar x definida fora de f?
x = [1, 2]
def f(x):
x[1] = "novo valor"
return x
f(x)
'''
f alterou o valor de x
'''
print x
[1, 'novo valor']
Uma solução que encontrei foi a seguinte:
def f(x):
x = x[:]
x[1] = "novo valor"
return x
Mas isso me pareceu um pouco forçado. Há alguma outra forma?
33830,python,Postei uma pergunta bem parecida com essa há alguns dias, porém dessa vez, estou tentando fazer algo bem mais genérico.
Quero pegar a informação da linha 0 e 1. O Código abaixo está completo, e está gerando a saída do arquivo entrada.xls corretamente.
import xlrd
import xlwt
# Open the input worksheet
inputWorkbook = xlrd.open_workbook('entrada.xls', formatting_info=True)
# select the correct sheet for input
inputSheet = inputWorkbook.sheet_by_name('idade')
# Create the output worksheet
outputWorkbook = xlwt.Workbook(encoding="utf-8")
# Add a new sheet to the output worksheet
outputSheet = outputWorkbook.add_sheet('idade')
# Output sheet header's style
headerStyle = xlwt.easyxf('font: height 200, bold 1, color white;''pattern: pattern solid, fore_color black; ')
for coluna in range(inputSheet.ncols):
outputSheet.write(0, coluna, inputSheet.cell_value(1, coluna), headerStyle);
outputSheet.write(1, coluna, inputSheet.cell_value(2, coluna));
outputWorkbook.save("resultado.xls")
O problema: Ler mais de 10 arquivos .xls de uma vez.
Não quero a informação Só do entrada.xls, mas também de, entrada1.xls, entrada2.xls, entrada3.xls ...
33852,python,Tomando como base esta pergunta, é possível criar seus próprios objetos/classes imutáveis em Python, no sentido de que, por default, este meu objeto será copiado ao ser passado como argumento de uma função? Se possível, como fazer?
33924,python,Galera, estou com o seguinte problema.
Tenho uma função que me retorna o seguinte output:
"Address:58.200.133.200"
Gostaria de salvar esse valor em uma variável ip, porém eu quero apenas a parte do ip desde output, para que fique ip = "58.200.133.200".
Eu não tenho acesso a função que gera esse output, apenas chamo ela atráves de uma API.
34117,c++,Gostaria de separa o meu código fonte em pastas para ter uma organização melhor no código, agrupando os arquivos em diretórios.
Em geral costuma se ter bastante arquivos .h e .cpp e costumo ir separando as pastas. Sempre usei o netbeans, mas recentemente resolvi testar o Visual Studio.
Ao iniciar o código (coisa pouca, para seguir um tutorial de criação de jogos em SDL), comecei a organizar o fonte em pastas, como eu costumava fazer. No Visual Studio quando eu estou trabalhando com C++ vejo a opção de adicionar filter, para organizar a estrutura de arquivos, mas não vejo a opção de adicionar pastas.
Consigo organizar o código no que visualmente parece ser uma estrutura de pastas, mas quando vou verificar os arquivos estão uma salada, está tudo misturado na raiz do programa. As opções do Menu apenas me permitem Adicionar um filtro:
Aparentemente fica organizado, mas só visualmente, os códigos continuam todos no mesmo lugar.
Gostaria de saber se dentro do visual studio há uma forma de converter esses filtros em pastas, ou como adicionar a pasta pelo visual studio, pois eu acabei por criar as pastas  e reorganizar manualmente quando me dei conta.
Não que eu costume ter arquivos com o mesmo nome, mas nesse ambiente por exemplo isso seria impossível. Além do que eu acho que fica bem bagunçado se for procurar alguma coisa, ou se precisar trocar de IDE no futuro, pois acredito que essa organização lógica não vai ser reaproveitada em outra IDE como Eclipse, Netbeans e etc.
34165,c++,Abaixo segue um exemplo do código que eu estou tentando executar.
//main.cpp
#include <iostream>
using namespace std;
class A{
public:
A(){}
~A(){}
void teste(){
cout << "Teste" << endl;
}
};
int main(){
A *pA = NULL;
pA->teste();
return 0;
}
//end main.cpp
Uma vez que declaro o ponteiro *pA como nulo, esperava que o programa desse erro.
Porém, o mesmo executa o normalmente e exibe a mensagem "Teste".
Por que o programa executa normalmente em vez de lançar um erro to tipo null pointer exception?
Estou utilizando a plataforma Qt5 no Linux.
34320,java|c++,Em relação a Analisador Sintático LR, temo a seguinte Wiki:
http://pt.wikipedia.org/wiki/Analisador_sint%C3%A1tico_LR#Algoritmo
Nela existe um algoritmo canônico para gerar as tabelas GOTO e ACTION.
Procurei, e não encontrei algum software que tenha implementado esse algoritmo, para que se possa usar didaticamente.
Algum software que a partir de uma gramática, gere algo semelhante a:
34908,ios,Quero que quando o usuário entre em um campo UITextField, faça uma animação simples de mover um UIView para baixo, por exemplo.
Se eu colocar a minha rotina Up Inside funciona, a mesma rotina no didBegin do UItextfield não funciona, ele anima para baixo e quando chega no ponto definido ele volta para o lugar de partida.
PS: uso a mesma rotina nos dois casos.
Alguém tem alguma ideia do que possa estar errado?
Rotina:
-(IBAction)testa:(id)sender {
CGPoint fromPt = self.viewStatus.layer.position;
CGPoint toPt = CGPointMake(fromPt.x, fromPt.y+200);
CABasicAnimation* anime = [CABasicAnimation animationWithKeyPath:@"position"];
anime.delegate = self;
anime.removedOnCompletion = NO;
anime.duration = 2;
anime.fromValue = [NSValue valueWithCGPoint:fromPt];
anime.toValue = [NSValue valueWithCGPoint:toPt];
CAMediaTimingFunction* tf = [CAMediaTimingFunction
functionWithName:kCAMediaTimingFunctionEaseOut];
anime.timingFunction = tf;
[self.viewStatus.layer addAnimation:anime forKey:@"ResizeForKeyboard"];
self.viewStatus.frame = CGRectMake(self.viewStatus.frame.origin.x,
toPt.y,
self.viewStatus.frame.size.width,
self.viewStatus.frame.size.height);
}
35141,c++,Eu implementei o caixeiro viajante e mostro o custo mínimo de todos os caminhos. Agora eu quero mostrar o caminho que corresponde ao menor custo.
Estou usando para fazer isso um pair<int, vector<int> > x, onde como first eu coloco o custo mínimo e no second eu coloco meu vector de caminho.
Quando eu coloco x.make_pair(custoMinimo, push_back(caminho)), ele dá o erro:
struct std::pair<int, std::vector<int> >’ has no member named ‘make_pair’
Alguém tem alguma ideia de como arrumar isso?
35162,ios,Fui designado a antes de iniciar a aplicação exibir imagens promocionais.
As imagens são obtidas através de JSON, que também possui uma configuração de tempo de visualização.
Estou usando o seguinte código para armazenar a imagem vinda de uma URL no diretório /Library/Caches/Images/:
// /Library/Caches
NSArray *paths = NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSLocalDomainMask, YES);
// /Library/Caches/Images
NSString *path = [[paths objectAtIndex:0] stringByAppendingPathComponent:@"Images"];
NSString *extension = [imageURLString pathExtension];
// /Library/Caches/Images/image_0.jpg
NSString *filePath = [path stringByAppendingPathComponent:[NSString stringWithFormat:@"image_%d.%@", index, extension]];
NSData *file = [NSData dataWithContentsOfURL:[NSURL URLWithString:imageURLString]];
[file writeToFile:filePath atomically:YES];
[self.imagesCache addObject:filePath];
Depois para exibir as imagens estou usando o código:
// Dentro de um loop. current é o índice do loop
UIImage *image = [UIImage imageWithContentsOfFile:[self.imagesCache objectAtIndex:current]];
self.currentImage = [[UIImageView alloc] initWithImage:image];
Quando eu pego a imagem diretamente da URL funciona, mas do cache não.
self.currentImage = [[UIImageView alloc]
initWithImage:[UIImage
imageWithData:[NSData
dataWithContentsOfURL:[NSURL URLWithString:imageURLString]]]];
Quem poderia me dar uma luz sobre esse processo de cache de imagens?
Não dá erro mas as imagens ficam todas pretas quando obtidas do cache.
35201,python,Minha intenção é fazer como na figura abaixo:
http://postimg.org/image/pdb6urf1d/
Minha função:
def translacao(imagem1):
imagem1.save("translate.png")
destino = Image.open("translate.png")
destino = destino.resize((400,400))
#Tamanho Imagem - Largura e Altura
width = destino.size[0]
height = destino.size[1]
x_loc = 20
y_loc = 20
x_loc = int(x_loc)
y_loc = int(y_loc)
imagem1.convert("RGB")
destino.convert("RGB")
for y in range(0, height):
for x in range(0, width):
xy = (x, y)
red, green, blue = destino.getpixel(xy)
x += x_loc
y += y_loc
destino.putpixel((x, y), (red, green, blue))
return destino.save("translate.png")
Aparece esse erro:
C:\Python27\python.exe C:/Users/Mikhail/PycharmProjects/SistMult/histograma.py
Traceback (most recent call last):
File "C:/Users/Mikhail/PycharmProjects/SistMult/histograma.py", line 289, in <module>
translacao(imagem1)
File "C:/Users/Mikhail/PycharmProjects/SistMult/histograma.py", line 262, in translacao
destino.putpixel((x, y), (red, green, blue))
File "C:\Python27\lib\site-packages\PIL\Image.py", line 1269, in putpixel
return self.im.putpixel(xy, value)
IndexError: image index out of range
Process finished with exit code 1
35260,ios,Eu tenho um UIViewController com o Background preto onde seria minha UIViewController principal (onde fica o menu e etc) e eu faço isso:
CredenciaisViewController *obj = [self.storyboard instantiateViewControllerWithIdentifier:@"Credencial"];
[_viewContainer addSubview:obj.view];
_viewContainer.alpha = 1;
A CredenciaisViewController tem o background vermelho e eu carrego ela em um UIView que está na minha UIViewController principal, mas quando ela se carrega dentro da view ela fica metade branca e os UiButtons quando estão na parte branca não funcionam.
Por que isso acontece?
E como faço para resolver?
35337,android|ios,Estava pesquisando sobre ferramentas para desenvolvimento mobile (iOS, Android) e me deparei com o Xamarin.
Achei interessante a proposta, ainda mais por trabalhar em conjunto com o Visual Studio. Fiz o download e configurei, porém, apesar de estar com uma maquina intermediaria (i3, 6GB de RAM) tive um tempo absurdo para executar aplicativos testes distribuídos como exemplo pelo Xamarin, além do aplicativo executar com lag extremo no meu celular emulado.
Pesquisei e me deparei com a informação de que para desenvolver para iOS, preciso de um mac os sendo executado em minha maquina, seja ela virtual ou um mac. Porém, se possuo lag em uma maquina regular, imagino em uma maquina virtual.
Existe algum modo de otimizar a performance de emulação? Não existe meios de trabalhar com o Xamarin para iOS sem rodar mac os?
Existe algum outro programa que trabalhe em conjunto com o Visual Studio para desenvolvimento mobile ou até mesmo que seja otimizado para C#?
35355,c++,Tenho lido alguns códigos open-source em C ultimamente e percebi que muitos deles se tornam bastante complexos e com bastante #ifdef a fim de tornar o código o mais portável possível entre várias plataformas e *NIX diferentes. Alguns oferecem suporte até mesmo a bibliotecas diferentes em um mesmo programa.
Gostaria de questionar se na prática, o C++ pode sobrepor esse tipo de problema de portabilidade. Um exemplo de código para ter o comando mkdir de forma portável:
// Try to bring in unistd.h if possible
#if !defined(__TURBOC__) && !defined(_MSC_VER)
#include <unistd.h>
#endif
// Bring in direct.h if we need to; sometimes mkdir/rmdir is defined here
#if defined(__WATCOMC__) || defined(_MSC_VER)
#include <direct.h>
#endif
// Fill in S_ISDIR
#if !defined(_POSIX_VERSION) && !defined(S_ISDIR)
#define S_ISDIR(m) (((m) & S_IFMT) == S_IFDIR)
#endif
#if defined(__TURBOC__) || defined(__WATCOMC__) || defined(__MINGW32__) || defined(_MSC_VER)
//
// Already have a single-argument mkdir()
//
#else
//
// Provide a single-argument mkdir()
//
#define mkdir(a) mkdir(a, S_IRWXU | S_IRWXG | S_IRWXO)
#endif
Código retirado de common.h do pacote cmdpack (apt-get install cmdpack em sistemas Debian-like)
Na prática, o C++ consegue ser mais portável? Entendo que a biblioteca padrão do C++ deveria oferecer todos os recursos necessários (considerando C++11) para programar em qualquer plataforma, não sendo necessário este tipo de código. Qual a real intenção do programador em fazer este tipo de código e principalmente, como o C++ resolve (ou tenta resolver) este tipo de situação?
35451,c++,O código abaixo funciona, recebe o que foi digitado e armazena o mesmo, só que não faz a lógica para mostrar se é palíndromo ou não e não apresenta na tela o resultado para o usuário.
Por favor, onde errei e como consertar?
#include <iostream>
using namespace std;
int main(void)
{
string Texto = "";
bool palindrono = true;
int posicaoReversa = 0;
cout << "Digite a palavra : " ;
cin >> Texto;
for (int i = Texto.length() -1; i > 0; i--)
{
posicaoReversa = Texto.length() - i - 1;
if (Texto.substr(i, 1) != Texto.substr(posicaoReversa, 1))
{
palindrono = false;
break;
}
}
}
35476,ios,Meu app não faz uso de nenhum tipo de propaganda, e mesmo depois de marcar "◉ Não" nas duas opções continuo recebendo um aviso abaixo e não consigo enviar o app para avaliação. O que pode estar acontecendo?
[...] Se o seu aplicativo contém o IDFA e você selecionar Não, o binário será permanentemente rejeitado [...]
35538,python,Tenho uma aplicação django e estou com dificuldades para configurar meu servidor para um alto tráfego. Está muito lento com poucos acessos. veja minha configuração:
[uwsgi]
chdir = /home/meuser/public/meusite.com.br/public_html/
wsgi-file = meusite/wsgi.py
processes = 4
max-requests = 6000
chmod-socket = 666
master = True
vacuum = True
socket = /tmp/uwsgi.sock
Mesmo com varnish e e nginx o site está muito lento.
Como posso resolver isso?
Tenho um vps no linode de 16Gb de RAm, e outro de 4gb exclusivo par ao banco de dados.
Veja as configurações:
Varnish:
backend default {
.host = "127.0.0.1";
.port = "8080";
}
sub vcl_recv
{
# if (req.restarts == 0) {
#       if (req.http.x-forwarded-for) {
#           set req.http.X-Forwarded-For =
#               req.http.X-Forwarded-For + ", " + client.ip;
#       } else {
#           set req.http.X-Forwarded-For = client.ip;
#       }
#     }
remove req.http.X-Forwarded-For;
set    req.http.X-Forwarded-For = client.ip;
# Do not cache example.com, the admin area,
# logged-in users or POST requests
if (req.http.host ~ "patoshoje.com.br" ||
req.url ~ "^/rocha" ||
req.url ~ "^/admin" ||
req.http.Cookie ~ "sessionid" ||
req.request == "POST")
{
return (pass);
}
# Don't allow cookies to affect cachability
unset req.http.Cookie;
# Set Grace Time to one hour
set req.grace = 1h;
}
sub vcl_fetch
{
#set bereq.http.X-Real-IP = client.ip;
# set bereq.http.X-Forwarded-For = req.http.X-Forwarded-For;
#set bereq.http.host = req.http.host;
# Set the TTL for cache object to five minutes
set beresp.ttl = 3m;
# Set Grace Time to one hour
set beresp.grace = 1h;
}
Nginx:
upstream mysite {
server unix:///tmp/uwsgi.sock;
}
server {
listen 8080;
server_name www.mysite.com.br mysite.com.br;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
access_log /home/mysite/public/mysite.com.br/log/access.log;
error_log /home/mysite/public/mysite.com.br/log/error.log;
root /home/mysite/public/mysite.com.br/public_html;
charset     utf-8;
gzip on;
gzip_disable "msie6";
gzip_types text/plain text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript;
gzip_vary on;
keepalive_timeout 0;
client_max_body_size 10m;
large_client_header_buffers 4 16k;
error_page   500 502 503 504  /50x.html;
location = /50x.html {
root   /home/mysite/public/mysite.com.br/public_html/mysite/public/static/;
}
location /ckfinder  {
alias /home/mysite/public/mysite.com.br/public_html/ckfinder;
expires         7d;
add_header      pragma public;
add_header      cache-control "public";
}
location /media  {
alias /home/mysite/public/mysite.com.br/public_html/mysite/public/media;
expires         7d;
add_header      pragma public;
add_header      cache-control "public";
}
location /static {
alias /home/mysite/public/mysite.com.br/public_html/mysite/public/static;
expires         7d;
add_header      pragma public;
add_header      cache-control "public";
}
location /robots.txt {
root            /home/mysite/public/mysite.com.br/public_html/mysite/public/static/robots.txt;
access_log      off;
log_not_found   off;
}
location /favicon.ico {
root            /home/mysite/public/mysite.com.br/public_html/mysite/public/static/imgs/favicon.png;
access_log      off;
log_not_found   off;
}
location / {
uwsgi_pass mysite;
include     /etc/nginx/uwsgi_params;
}
}
[uwsgi]
chdir = /home/meuser/public/meusite.com.br/public_html/
wsgi-file = meusite/wsgi.py
processes = 4
max-requests = 6000
chmod-socket = 666
master = True
vacuum = True
socket = /tmp/uwsgi.sock
35582,python,Eu estava querendo acessar uma página que se obtém ao clicar em "Exibe todos os documentos acima" nesse link. A empresa que eu peguei é só um exemplo, não tenho interesse nela.
Tentei resolver isso por meio de uma requisição POST, e consegui o resultado que queria usando a biblioteca requests do python. Código em python abaixo:
import requests
link = "http://siteempresas.bovespa.com.br/consbov/ExibeTodosDocumentosCVM.asp?CNPJ=02.541.982/0001-54&CCVM=22551&TipoDoc=C&QtLinks=10"
r = requests.get(link)
dados={'hdnCategoria':'0', 'hdnPagina':'', 'FechaI':'', 'FechaV':''}
r1 = requests.post(link, data=dados, cookies=r.cookies)
print r1.text
Tentei rodar os seguintes códigos no R, um usando RCurl:
library(RCurl)
link <- "http://siteempresas.bovespa.com.br/consbov/ExibeTodosDocumentosCVM.asp?CNPJ=02.541.982/0001-54&CCVM=22551&TipoDoc=C&QtLinks=10"
curl <- getCurlHandle()
r <- getURL(link, curl=curl)
r1 <- postForm(link, hdnCategoria='0', hdnPagina='', FechaI='', FechaV='', .encoding='UTF-8', curl=curl)
cat(r1)
e outro usando httr (que pelo que sei é só um wrapper do RCurl):
library(httr)
link <- "http://siteempresas.bovespa.com.br/consbov/ExibeTodosDocumentosCVM.asp?CNPJ=02.541.982/0001-54&CCVM=22551&TipoDoc=C&QtLinks=10"
h <- handle(link)
dados=list(hdnCategoria='0', hdnPagina='', FechaI='', FechaV='')
r1 <- POST(handle=h, body=dados, encoding='UTF-8')
cat(content(r1, 'text'))
a) Por quê as duas alternativas em R retornam a página original e não o resultado de clicar em "Exibe todos os documentos acima"?
b) O que a biblioteca do python tem "a mais", que faz ela funcionar de forma tão simples?
PS: Para essa pergunta, não gostaria de usar mechanize, selenium, outras bibliotecas do python, etc. Queria resolver em R, preferencialmente com httr e, se não der, com RCurl. Existe também uma alternativa nova, o rvest, mas não conheço muito bem  e não sei se faz sentido usar nesse caso específico.
35592,ios,Ontem submeti um App que é feito somente para iPhone, e não para iPad, conforme solicitação do cliente, porém o meu app foi rejeitado por que ele não roda corretamente em um iPad.
Motivo da Rejeição:
Reasons
2.10: iPhone Apps must also run on iPad without modification, at iPhone resolution, and at 2X iPhone 3GS resolution
----- 2.10 -----
We found that your app did not meet the requirements for running on
iPad, as required by the App Store Review Guidelines.
Your app did not run at iPhone resolution when reviewed on iPad. While
your app may be built for iPhone or iPod, it must still run on iPad,
at iPhone resolution and at 2x iPhone 3GS resolution.
For information on iOS device screen sizes and resolutions, see Points
versus Pixels, in the View Programming Guide for iOS. For discrete
code-level questions, you may wish to consult with Apple Developer
Technical Support. When the DTS engineer follows up with you, please
be ready to provide:
complete details of your rejection issue(s)
screenshots
steps to reproduce the issue(s)
symbolicated crash logs - if your issue results in a crash log
If you have difficulty reproducing a reported issue, please try
testing the workflow as described in
https://developer.apple.com/library/ios/qa/qa1764/Technical Q&A
QA1764: How to reproduce a crash or bug that only App Review or users
are seeing.
Eu entendi bem ou a Apple quer nos forçar a desenvolver apps para os dois modelos (iPad e iPhone)???
36656,c++,Estou tendo dificuldades com este raciocínio. Tenho uma matriz 4x4. Devo preenchê-la com 0 e 1, desde que o número 1 apareça duas vezes em cada linha e em cada coluna, como no exemplo abaixo.
1   1   0   0
1   0   0   1
0   0   1   1
0   1   1   0
Mas a situação abaixo pode ocorrer. Aí eu teria que que mover o "1" de (2,3) para (4,2) que voltará a ficar como no exemplo acima.
1   1   0   0
1   0   1   1
0   0   1   1
0   0   1   0
Se eu somar as linhas e colunas, posso identificar qual linha e coluna está errada, mas não consigo fazer meu programa identificar a posição exata.
Eu preciso dar um retorno do tipo "mover de (2,3) para (4,2)".
Como meu programa pode encontrar as posições exatas?
36747,ios,Cenário: Em uma tela do app, o usuário devera informar um tipo de dado que é somente de números para realizar uma busca. Para evitar que use texto, configurei um teclado para o tipo: Number Pad. Porém preciso que apareça juntos aos números outros caracteres, no caso o hífen ( - ) e o ponto-final ( . ).
Alguém tem idéia de como posso fazer isso?.
Tive a idéia de pelo menos instanciar uma classe do UITextFiled e editar o tipo de teclado que aparece para ele.
Abaixo está uma imagem de com está e de como pretendo que fique:
Mas alguém se alguém puder me orientar ficarei grato!
Obrigado
36780,ios,Alguem sabe porque meu xcode ao criar um single view aplication, ele não cria as storyboard, estou começando agora e na aula a tela do app iphone é feito la, mas no meu aparece apenas um main storyboard, quando eu rodo a aplicação não aparece nada, apenas o nome do projeto.
alguem sabe:
36805,python,Preciso realizar uma consulta em um banco de dados mongodb que resulte um conjunto de resultados por faixa de tempo. Estou utilizando pymongo. A minha consulta está da seguinte forma:
queryConsulta = {"$and": [
{"id_no": id_node},
{"porta": porta},
{"datahora":{"$gte": self.horaInicio}},
{"datahora": {"$lte": self.now}}
]}
listaResultados = db.minhacolecao.find(queryConsulta)
Eu também tentei dessa forma:
queryConsulta = {"id_no":int(id_node),
"porta":porta,
"datahora": {"$gte":self.horaInicio, "$lte":self.now }}
listaResultados = db.minhacolecao.find(queryConsulta)
Porém o resultado é sempre vazio. Testei diretamente no mongodb mas o resultado é vazio. Eu tenho certeza que os dados existem no banco de dados com a faixa de tempo que eu estou pesquisando.
36924,python,Gostaria de saber a ordem de avaliação desta expressão no Python:
if 'a' <= c <= 'z': # c é uma variável de tipo `chr`
print("Ronal... D'oh!")
37002,c++,Fazer um algoritmo que leia um vetor de 50 elementos e imprima o vetor
desconsiderando os valores repetidos.
O código está dando a saída correta, mas se eu digito um número repetido, o programa solicita um novo até que eu digite um que ainda não exista no vetor. Como consertar isso?
int main(){
int vet[5], i, j, num;
for(i = 0; i < 5; i++){
cout << ("Numero: ");
cin >> vet[i];
num = vet[i];
for(j = 0; j < i; j++){
if (vet[j] == num){
--i;
}
}
}
for(i = 0; i < 5; i++){
cout << vet[i] << endl;
}
return 0;
}
37050,ios,Olá, estou começando agora a programar para ios, eu ja sou programador java android, e queria saber no momento qual melhor para desenvolver aplicações para apple (iphone/tablet)
e vi que a apple lançou uma nova linguagem, por qual começar?
37063,c++,Tenho q pegar dados (nome e telefone) de algumas pessoas em uma struct, depois armazena-las em um vetor, tudo isso por uma função/procedimento. Nna hora de imprimir sai uns caracteres estranhos.
Estou usando a plataforma DEV C++
# include <stdio.h>
# include <stdlib.h>
#define MAX 2
typedef struct dadosPessoais
{
char nome = ' ';
int telefone = -1;
}DadosPessoais;
void inserir(DadosPessoais *vetor);
void listar(DadosPessoais *vetor);
int main()
{
int escolha=1;
DadosPessoais vetor[MAX];
// se a escolha for diferente de 3, ele continua... o que inicialmente é verdade
// pois escolha é igual a 1
while (escolha!=5)
{
printf("\n\n ----------------------- ");
printf("\n 1 - Inserir novo registro ");
printf("\n 2 - Limpar registros da tabela ");
printf("\n 3 - Fechar Programa ");
printf("\n\n Escolha uma opcao: ");
scanf("%d",&escolha);
// estrutura switch
switch (escolha)
{
case 1:
{
system ("cls");
inserir(vetor);
break;
}
case 2:
{
system ("cls");
listar(vetor);
break;
}
// opção padrão
default:
{
system ("cls");
// se for escolhida a opção 3, ele pula o while utilizando continue para isso
if( escolha==3)
{
continue;
}
// caso o usuário digite um numero acima de 5, ele irá informar que nao existe essa opção
printf("\n\n Nenhuma opcao foi escolhida ");
break;
}
}
}
if( escolha==3)
printf("\n\n O Programa foi fechado");
system("PAUSE");
}
void inserir(DadosPessoais *vetor)
{
int x=3, i, espaco ;
for(i=0; i<x; i++)
{
if (vetor[i].nome == ' ')
{
espaco = 1;
break;
}
else
{
espaco = 2;
}
}
if (espaco == 1)
{
printf("Digite nome: \n");
scanf(" %s", &vetor->nome);
printf("Digite o telefone: \n ");
scanf(" %d", &vetor->telefone);
}
else
{
printf("Nao ha espaco vago \n ");
}
}
void listar(DadosPessoais *vetor)
{
int x=MAX, i, espaco ;
for(i=0; i<x; i++)
{
if (vetor[i].nome != ' ')
{
printf(" %c", &vetor[x].nome);
printf("\n");
printf(" %c", &vetor[x].telefone);
printf("\n");
}
else
{
printf("Vetor vazio");
}
}
}
37171,python,Galera, estou com um problema ao tentar utilizar um projeto no pycharm.. utilizo o xhtml2pdf e ao tentar debugar aparece este erro :
Porem eu já tenho os packages adicionado no projeto:
Alguém faz ideia de como posso arrumar isso ?
37270,c++,Como faço para receber um ponteiro de char via teclado?
37301,c++,Estou aprendendo sobre o QgraphicsScene, QgraphicsItem estou tentando mover dois quadrados com o mouse na janela, porém movendo só no vetor X ou só no vetor Y, mas que eles se movam somente em um vetor por vez como se estivessem amarrados para se moverem somente na horizontal ou vertical, conforme arrasto o mouse.
37363,ios,Ja utilizo mapkit para desenvolvimento no iOS, mas gostaria de saber se alguém conhece como no código para adicionar amigos, mostrar no mapa outras pessoas próximas.
PS. ou mesmo um código de exemplo para esta função, agradeço.
37401,python,Gostaria de saber como se faz para acessar um item de um menu, para conecta-lo com uma função ou handler. Por exemplo, gostaria de controlar o comportamento da aplicação quando eu faço click no menu item.
A função bind pode ser útil, mas se não sei como acessar ao menu item.
37498,c++,Preciso imprimir apenas as notas acima de >=6, em que lugar do código coloco o if ou alguma outra instrução?
Já tentei e não consegui achar o local correto.
#include <iostream>
#include <string.h>
using namespace std;
#define MAX 50
struct aluno {
char nome[50];
int matricula;
float nota;
};
void imprime(aluno v[], int num);
int main(void) {
// Declara um aluno
aluno alunos[MAX];
alunos[0].matricula = 12014432;
alunos[0].nota = 7.5;
strcpy(alunos[0].nome,"Fulano");
alunos[1].matricula = 13022301;
alunos[1].nota = 5.9;
strcpy(alunos[1].nome,"Sicrano");
alunos[2].matricula = 11024122;
alunos[2].nota = 4.0;
strcpy(alunos[2].nome,"Beltrano");
alunos[3].matricula = 11014120;
alunos[3].nota = 6.1;
strcpy(alunos[3].nome,"Huguinho");
alunos[4].matricula = 11024012;
alunos[4].nota = 8.0;
strcpy(alunos[4].nome,"Zezinho");
alunos[5].matricula = 11014117;
alunos[5].nota = 3.5;
strcpy(alunos[5].nome,"Luizinho");
imprime(alunos, 6);
}
void imprime(aluno v[], int num) {
int i;
for (i=0; i<num; i++) {
cout << "Mat.: " << v[i].matricula << endl;
cout << "Nome: " << v[i].nome << endl;
cout << "Nota: " << v[i].nota << endl;
}
}
37506,ios,Preciso desenvolver uma aplicação para iPhone e iPad que faça leitura de código de barra de cheque (CMC7 cópia), mas estou encontrando dificuldades para achar uma SDK free, existe algum?
37579,c++,Eu estou querendo fazer um gravador de tela. O que eu pensei em fazer foi o seguinte:
A partir do evento de gravação bater 30 screenshots por segundo e depois juntá-las em sequência para formar um vídeo.
Nesse ponto que surgem algumas dúvidas:
Essa é a maneira correta de se pensar em como fazer uma gravação da tela?
Se sim, como eu poderia capturar uma screenshot e converter um conjunto de imagens em um vídeo?
Se não, qual seria a forma mais correta de fazer?
Como eu disse no começo da questão, ainda está tudo no campo das ideias, ainda não tenho nenhum algoritmo e, também, não quero um programa completo, queria mais uma resposta referente as dúvidas teóricas e um direcionamento em como fazer isso em c++.
37633,ios,Atualmente eu estou com a biblioteca do iOS 7 e pretendo atualizar a minha biblioteca para o iOS 8. Gostaria de saber qual vai ser o impacto desta atualização nos projetos que eu já possuo.
Eu conseguirei estar prestando suporte nos meus projetos do iOS 7 sem nenhum problema?
Motivo da minha pergunta, é que quando fui atualizar do iOS 6 para o iOS 7, houve um impacto enorme. Tive de refazer grande parte das telas dos meus projetos. Acabou gerando bastante retrabalho e prejuízo.
37658,ios,Estou trabalhando com um projeto que faço captura de imagem e preciso transmitir essa imagem com 200dpi, gostaria de saber como faço para alterar a densidade da imagem para 200 dpi ?
37852,ios,Desenvolvo para Android, agora estou querendo começar a desenvolver para iPhone, minhas dúvidas são as seguintes.
Utilizo Linux, pesquisando na internet conclui que a Apple só disponibiliza as ferramentas para Mac. E para programar em ambiente Linux e Windows só fazendo gambiarras. Alguém aqui conseguiu bons resultados desenvolvendo no Windwos ou no Linux?
A linguagem Objective-C e Java tem muitas semelhanças em relação a escrita?
(EX.: sintaxe, heranças, implements, comunicação com BDs)
Qual um bom livro para iniciantes em desenvolvimento para iOS?
37878,ios,Preciso transformar uma imagem em array de bytes, como faço para transformar essa imagem em um Array Bytes?
38035,c++,Estou a implementar uma aplicação em C++/cli e WinForms que apresenta vídeos de forma contínua. Durante a execução, quando os vídeos são carregados a memória aumenta e é libertada depois. Reparei que ao fim de algum tempo, a memória utilizada vai subindo. Ao fim de um dia inteiro de execução a aplicação é terminada por haver esta fuga de memória.
Já isolei o player dos restantes componentes para verificar se de facto era aí que residia o problema. Já experimentei alguns players - MediaPlayer component, ActiveX VLC, VideoLANDotNet ou DirectX SDK - mas o problema mantem-se, por vezes de forma não tão evidente mas acaba sempre por acontecer.
Alguem teve um problema parecido ? É necessário parar ou iniciar algum serviço para que o sistema operativo permita estas operações?
38079,c++,Eu tenho que fazer um código que imprima os todos valores de uma pilha na ordem oposta em que eles foram inseridos, só que eu só consigo imprimir um valor por vez, cada vez que eu queira ver o valor anterior eu tenho que selecionar a opção 8 no meu programa.
Obs.: Minha pilha é uma classe derivada da lista
Aqui esta o código:
lista.h
#include <string>
#include<iostream>
using namespace std;
struct Nodo //nodos para listas duplamente encadeadas
{
string valor;
Nodo *anterior;
Nodo *proximo;
};
#ifndef LISTA_H
#define LISTA_H
class Lista
{
public:
Lista(){};
Lista(Nodo *primeiro);
void insereFim(Nodo *novo);
void insereInicio(Nodo *novo);
void insereAntes(Nodo *novo, Nodo *ref);
void insereDepois(Nodo *novo, Nodo *ref);
void removeInicio();
void removeFim();
void removeEscolhe(Nodo *n);
void vetore (Nodo*n, int ref);
protected:
Nodo *inicio;
Nodo *fim;
int tamanho;
int vetor;
};
#endif
pilha.h
#include"lista.h"
#ifndef PILHA_H
#define PILHA_H
class pilha
{
public:
pilha(){};
pilha(Nodo *p);
void push(Nodo *novo); //insercao
void pop(); //remocao
Nodo *top(); //tamanho
void retorna();
//bool empty();
private:
Nodo *topo;
int tamanho;
};
#endif PILHA_H`
pilha.cpp
#include"pilhas.h"
pilha::pilha(Nodo *p)
{
p->anterior = NULL;
p->proximo = NULL;
topo = p;
tamanho = 1;
};
Nodo *pilha::top()
{
return topo;
};
void pilha::push(Nodo *novo)
{
novo ->proximo =NULL;
novo->anterior =topo;
topo = novo;
tamanho++;
};
void pilha::pop()
{
if(tamanho == 0)
cout << "Impossivel remover";
else if(tamanho ==1)
{
topo =NULL;
tamanho=0;
}
else
{
topo = topo -> anterior;
tamanho--;
}
};
void pilha::retorna()
{
if(tamanho == 0)
{
cout << "Não há caminho" << endl;
}
else if(tamanho <= 1)
{
do{
cout << "   " << topo->valor << endl;
topo = topo -> anterior;
tamanho--;
}while(tamanho==NULL);
}
};
Main .cpp
#include"pilhas.h"
int main()
{
//Criando as 4 salas
Nodo n1, n2, n3 , n4;
pilha Salas;
int N;
bool S=false;
n1.valor="Calabouco";
n2.valor="Hall";
n3.valor="Quartos";
n4.valor="Cozinha";
//Pergunta pra onde quer ir
while (!S)
{
cout << "Escolha um local " <<endl;
cout << "1-Calabouco" << endl;
cout << "2-Hall" <<endl;
cout << "3-Quartos" << endl;
cout << "4-Cozinha" << endl;
cout << "7-Sair" << endl;
cout << "8-Mostrar caminho de Volta" << endl;
cin >> N;
switch (N)
{
case 1:
Salas.push(&n1);
cout << n1.valor << endl;
break;
case 2:
Salas.push(&n2);
cout << n2.valor << endl;
break;
case 3:
Salas.push(&n3);
cout << n3.valor << endl;
break;
case 4:
Salas.push(&n4);
cout << n4.valor << endl;
break;
case 7:
S=true;
break;
case 8://Saida
Salas.retorna();
break;
default:
cout << "Essa sala nao existe" << endl;
break;
}
}
system("pause");
return 0;
}
38099,c#|ios,Para não ter que aprender várias tecnologias para desenvolver para as várias plataformas móveis, queria usar apenas C#.
No entanto tenho algumas dúvidas, nomeadamente:
O Xamarin Studio é gratuito?
Com o mesmo código, a aplicação gerada corre nas três plataformas?
Possuo um Mac. Se eu tiver um projeto no Mac que rodo nas três plataformas, posso abrir esse projeto em um PC Windows? Posso editar normalmente, fazer testes no Android e ele me garante que as alterações funcionarão no iOS? O projecto continuará a funcionar quando for aberto novamente no Mac?
Relativamente à interface gráfica. Como são feitas? Apenas uma para todas as plataformas?
38104,python,As duas formas abaixo retornam True, mas quais as consequências disso num código mais complexo?
>>> a = '2'
>>> a is '2'
>>> True
>>> a == '2'
>>> True
38111,python,Estou trabalhando com manipulação de imagens em Python.
Me deparei com uma linha de código do tipo:
image[dst > 0.01 * dst.max()] = [0, 0, 255]
Sendo "image" e "dst" imagens.
O que se encontra dentro dos colchetes "[]", indexando "image" é uma condição para o pixel dessa imagem? A atribuição será efetivada quando a condição for verdadeira?
38131,c++,Tenho este código:
Main.cpp
Warehouse<Base<int>> arm(1, 1, 1, 1);
arm.createSubBase(1,1,1);
Warehouse.h
private:
vector<Base<T>*> whouse;
public :
void createSubBase(int, int, int);
template <class T>
void Warehouse<T>::createSubBase(int,int,int) {
Base<T>* dN = new SubBase<T>(int,int,int,int); ***<-ERROR MESSAGE:" in file included from"***
whouse.push_back(dN);
}
Base.h
template <class T>
class Base {
private:
int I,a,b,c;
public :
Base(int,int,int,int);
}
template <class T>
Base<T>::Base(int i, int a, int b, int c) {
this -> I = i;
this -> a= a;
this -> b= b;
this -> c = c;
}
SubBase.h
template <class T>
class SubBase: public Base<T> {
public:
SubBase(int, int, int,int);
}
template <class T>
SubBase<T>::SubBase(int, int, int , int) : Depositos<T>(int,int,int,int) {...}
Alguém sabe porque me esta a dar aquela mensagem de erro? É que dá me essa mensagem e dá me erro no include do vector.
Não entendo porque não me deixa criar este objeto:
Base < T > * b = new subbase < T > ( int , int , int );
38181,c++,uma vez que eu utilizei  a função abaixo:
BOOL readyProcessMe = ReadProcessMemory(process, (LPCVOID)memory, &value, 4, 0);
Como posso eu mostrar o valor correto em uma label?
38292,python,Viva.
Eu não percebo muito ou mesmo nada de previsão de valores. O meu problema é saber como prever futuros valores de uma certa variável com base num conjunto de valores previamente anotados ...
Sabem onde posso encontrar tutorias que expliquem bem o que eu necessito de perceber e fazer para resolver o meu problema?
Obrigado!
EDIT:
Eu tenho medições de temperatura com intervalos regulares (neste caso é de 5 em 5 min mas também tenho de 10 em 10 min ou outros valores). Ex:
180   '2000-08-13 14:05:00'
172   '2000-08-13 14:10:00'
110   '2000-08-13 14:35:00'
102   '2000-08-13 14:40:00'
94    '2000-08-13 14:45:00'
....
O que eu queria saber é como é que posso determinar a temperatura futura com uma janela de 30 min, ou seja, fazer previsão da temperatura, por exemplo, no instante '2000-08-13 15:15:00'. Se precisarem de mais informações, avisem!
Também já procurei no google mas está difícil de perceber bem como estas coisas funcionam. Isto porque parece-me que o que vejo é do estilo: dado x e y o resultado vai ser z e no meu caso é dado q o resultado é q (se é que me faço entender).
38360,ios,Eu criei um app em PhoneGap e preciso agora gerar um pacote para publicar na loja da Apple, minha dúvida é a seguinte: existe uma forma de criar esse pacote sem ter um Mac e o Xcode? Eu tenho conta de desenvolvedor.
38397,ios,Preciso somente pegar um atributo de uma única linha da tabela:
name  | id   | idade  | aprov|repro| sala |
_______|______|________|______|_____|______|
John   |  32  |    15  |   A  |     | 155  |
Seguindo a tabela acima, seria o campo idade contendo o elemento 15.
Como posso fazer isso usando Core Data?
No caso este app é para iOS.
38435,c++,Eu estava usando using namespace (nomeDaBiblioteca); no meu código e acabei tendo alguns conflitos com outra biblioteca.
Por que esses conflitos acontecem e qual a melhor solução?
38502,java|ios,Necessito da conversão deste pequeno código em Java para Objective-C para executar uma função no Objective-C, porém possui um erro que ainda não consegui descobrir.
Código Java:
final char CHR0 = 0;
String finalprotocolo = "" + CHR0 + "";
String ligartv = "/ARP/IR/enviar/LigaTV" + finalprotocolo;
byte[] arrayligartv = ligartv.getBytes();
Código Objective-C:
unichar c = 0x00;// c = 0x00;
NSString *nova = [NSString stringWithFormat:@"%c", c];
//NSString *nova = [NSString stringWithCharacters:&c length:1];
// Pega a menssagem<br>
NSString *final = @"/ARP/enviar/LigaTV";
NSString *mensagem = [final stringByAppendingString:nova];
Preciso realizar a mesma função do código Java, apenas transformando o byte 0 em String e adicionando a variável mensagem do Objective-C.
38545,ios,Cenário, possuo uma requisição de dados usando JSON mas gostaria que essa requisição fosse realizada fora da main thread do app, para que ele não trave e que o usuário possa realizar outras operações enquanto os dados são baixados.
No código abaixo eu já consigo baixar os dados normalmente, porém preciso somente que seja realizado em uma thread secundária.
-(void)recebeTodosOsDadosPorFuncionarioDoWebService{
NSMutableString* strURL =[[NSMutableString alloc]initWithFormat:@"http://localhost/advphp/ArquivosFuncionando/pegaDadosNaoLidosPorFuncionario.php?funcionario=%@",funcionarioCadastrado];
NSURL* url = [NSURL URLWithString: strURL];
NSData* data = [NSData dataWithContentsOfURL:url];
NSError*erro;
arraySalvaDadosProcessos = [NSJSONSerialization JSONObjectWithData:data options:kNilOptions error:&erro];
if(arraySalvaDados == (id)[NSNull null]|| [arraySalvaDados count] == 0){
NSLog(@"Erro para receber dados do webservice: \n\n%@", arraySalvaDados);
}else{
[self salvaTodosOsDadosRecebidosNoBancoLocal];
}
}
38547,ios,Sei que existem diversas informações a respeito da conversão de um código 32-bit para 64-bit no iOS. Porém, tenho ainda muitas dúvidas e acredito que sejam as mesmas de outras pessoas, principalmente na questão das variávies do tipo int. Por exemplo, como pude verificar, int é usado para 32-bit e long para 64-bit.
No entatnto, estou desenvolvendo um app que possui somente variáveis do tipo int, coloco a arquitetura para Standard architectures (including 64-bit) e executo no simulador. O app é executado de forma correta sem nenhum warning ou erro. Mesmo executado (aparentemente) de forma correta, eu tenho que alterar as variáveis para o tipo long?
38670,ios,Estou convertendo NSString para NSDictionary porém quando passo dentro de uma variável sempre retorna nulo.
o que eu estou fazendo:
NSDictionary *json =
[NSJSONSerialization JSONObjectWithData: [body dataUsingEncoding:NSUTF8StringEncoding]
options: NSJSONReadingMutableContainers
error: nil];
Onde body é a minha variável, porém se coloco o conteúdo dela ali tudo funciona normal!
O que poderia estar acontecendo?
conteúdo da variável: @"{\"teste\" : \"ehtetra\"}"
38691,ios,Estou criando um menu programaticamente, eu instancio o menu no meu home e quando clico no botão que vai puxa o menu, o menu aparece porem não consigo interação, não consigo clicar nas células, quem esta com a prioridade é a home e não o menu, como faço para que quando eu clicar no botão e puxar o menu ele fique com a prioridade?
- (void)viewDidLoad {
[super viewDidLoad];
menuViewone =[[UIView alloc ]initWithFrame:CGRectMake(0, 0, 0, 568)];
[menuViewone setBackgroundColor:[UIColor blackColor]];
[self.view addSubview:menuViewone];
menuViewController = [[ITMenuViewController alloc] init];
menuViewController.view.frame = CGRectMake(0, 0, 0, 568);
[self.view addSubview:menuViewController.view];
btn = [[UIButton alloc] init];
btn = [UIButton buttonWithType:UIButtonTypeRoundedRect];
[btn addTarget:self action:@selector(pushMenu) forControlEvents:UIControlEventTouchUpInside];
[btn setTitle:@"push" forState:UIControlStateNormal];
btn.frame = CGRectMake(40, 300, 240, 40);
[btn setBackgroundColor:[UIColor orangeColor]];
[btn setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
btn.layer.cornerRadius = 2;
btn.tag = 1;
btn.clipsToBounds = YES;
//set other button properties here.
[self.view addSubview:btn];
}
- (void)pushMenu {
if (menuViewController.view.frame.origin.x < 0 && btn.tag == 2) {
[UIView animateKeyframesWithDuration:0.5 delay:0 options:UIViewAnimationOptionCurveEaseIn animations:^{
self.view.frame = CGRectMake(0, 0, 320, 568);
menuViewController.view.frame=CGRectMake(0, 0, 0, 568);
} completion:^(BOOL finished) {
btn.tag = 1;
}];
}
if (menuViewController.view.frame.origin.x >= 0 && btn.tag == 1)
{
[UIView animateKeyframesWithDuration:0.5 delay:0 options:UIViewAnimationOptionCurveEaseOut animations:^{
self.view.frame = CGRectMake(200, 0, 320, 568);
menuViewController.view.frame=CGRectMake(-self.view.frame.size.width + 0, 0, self.view.frame.size.width, 568);
[self.view.layer setCornerRadius:4];
[self.view.layer setShadowColor:[UIColor blackColor].CGColor];
[self.view.layer setShadowOpacity:0.8];
[self.view.layer setShadowOffset:CGSizeMake(0.0f, 2.5f)];
} completion:^(BOOL finished) {
btn.tag = 2;
}];
}
}
38714,ios,Estou com um "pequeno" problema ao usar o Core Data.
Esta é a minha arquitetura:
Synchronizer -> SyncService -> PersistenceService -> NSManagedObject
Todas as classes na camada do PersistenceService herdam esta estrutura:
# PersistenceService.h
#import <Foundation/Foundation.h>
@interface PersistenceService : NSObject
@property (nonatomic, retain) NSManagedObjectContext *context;
-(instancetype) init;
-(void) saveContext;
@end
# PersistenceService.m
@implementation PersistenceService
-(instancetype) init {
self = [super init];
if (self) {
self.context = [[NSManagedObjectContext alloc] initWithConcurrencyType:NSPrivateQueueConcurrencyType];
self.context.parentContext = [DataManager sharedInstance].managedObjectContext;
}
return self;
}
-(void) saveContext {
NSManagedObjectContext *context = self.context.parentContext;
[self.context performBlock:^{
NSError *error;
[self.context save:&error];
[context performBlock:^{
NSError *error;
[context save:&error];
[context.parentContext performBlock:^{
NSError *error;
[context.parentContext save:&error];
}];
}];
}];
}
@end
No início do ciclo de execução, meu Synchronizer faz um fetch dos objetos que vou precisar e passo para o SyncService operar sobre eles. Sempre utilizo o parentContext para qualquer coisa que não seja alterar (criar, editar, salvar, deletar) os próprios objetos:
# Synchronizer.m
-(void) synchronize {
NSArray *pseudoLeads = [[[PseudoLeadPersistenceService alloc] init] getAllParentPseudoLeads];
if (pseudoLeads) {
PseudoLeadDAO *pseudoLead = [pseudoLeads objectAtIndex:0];
if ([pseudoLead.type isEqualToNumber:[NSNumber numberWithInt:Capture]]) {
CaptureSyncService *service = [[CaptureSyncService alloc] initWithDelegate:self andPseudoLead:pseudoLead];
[service executeRequest];
} else {
HotleadSyncService *service = [[HotleadSyncService alloc] initWithDelegate:self andPseudoLead:pseudoLead];
[service executeRequest];
}
}
}
Após o SyncService terminar de realizar suas operações, preciso deletar o objeto para que ele saia da fila e os próximos sejam tratados. Abaixo segue o código que uso para recuperar o objeto que desejo deletar no context normal e onde faço o delete de fato:
# PseudoLeadPersistenceService.m
-(void) deletePseudoLeadById:(NSNumber *)pseudoLeadId andEventId:(NSNumber *)eventId {
PseudoLeadDAO *pseudoLeadDAO = [PseudoLeadDAO findPseudoLeadById:pseudoLeadId andEventId:eventId inContext:self.context];
[self.context deleteObject:pseudoLeadDAO];
[self saveContext];
}
Depois disso o processo se inicia de novo no Synchronizer (ou deveria). O problema, é que ao voltar pro método -(void) synchronize e fazer o fetch, o objeto que acabou de ser deletado está sendo retornado novamente. Não importa quantos fetchs eu faça nesse ponto, ele sempre vem. O processo continua e só para quando o objeto chega novamente no método de deleção, que é quando ao tentar acessar as propriedades do objeto nil é retornado e faz com que o programa quebre.
38748,ios,Como criar uma UITableView, onde as células mantenham o texto em negrito, até que sejam tocadas, e salvar essa alteração?
Por exemplo, quando recebemos uma mensagem no Facebook o texto na UITableViewCell fica em negrito, após tocar na célula e ver e voltar à UITableView, o texto da célula não fica mais em negrito.
Exemplo, Imagem Abaixo:
Abaixo o código que tentei, mas não funcionou:
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
.
.
.
//Implementation
.
.
.
// Atualiza o estado de NÃO LIDO para LIDO no banco de dados
[[fetchedObjects objectAtIndex:indexPath.row ] setValue:@"1" forKey:@"lido"];
NSError*error;
// Escreve no banco a alteração
[context save:&error];
for (int index = 0; index<[fetchedObjects count]; index++) {
NSLog(@"%@",[[fetchedObjects objectAtIndex:index]valueForKey:@"lido"]);
.
.
.
// Implementation
}
-(UITableViewCell*)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
.
.
.
//Implmentation
.
.
.
//Verifica o estado e faz a alteração na fonte da célula
if ([[arrayProcessosLocal objectAtIndex:indexPath.row ]  valueForKey:@"lido"] == 1) {
//Torna fonte bold
cell.textLabel.font = [UIFont boldSystemFontOfSize:17];
[cell.textLabel setText:[NSString stringWithFormat:@"%@ - %@", [processosLocal valueForKey:@"processo"],[processosLocal valueForKey:@"data_pdf"]]];
return cell;
}else{
// Exibe a fonte normal caso o valor de "lido" seja 0 (zero)
[cell.textLabel setText:[NSString stringWithFormat:@"%@ - %@", [processosLocal valueForKey:@"processo"], [processosLocal valueForKey:@"data_pdf"]]];
return cell;
}
Como fazer esse processo?
38921,ios,Cenário: O app consome dados de um web service, para que o app não fique "travado" eu adicionei a tarefa de download dos dados em uma trhead secundária, conforme o seguinte código:
dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^{
//realize aqui o trabalho em background
dispatch_async(dispatch_get_main_queue(), ^{
//quando as operações em background forem concluídas, execute aqui o código na thread principal para atualização da tela, caso necessário
});
});
Porém, quando o web service está fora do ar, o app fica esperando a resposta do servidor, e depois de um tempo sem a resposta, o iOS encerra meu app.
Gostaria de saber se existe um Design Pattern para este tipo de situação, onde possamos controlar o tempo que o app ficará esperando resposta do servidor, e informar ao iOS para que encerre o processo de solicitação de dados sem ter que encerrar o app!
39011,ios,Como o jailbreak não é proibido acho que posso fazer essa pergunta aqui, existe com jailbreak ou alguma outra forma de se instalar um app desenvolvido por mim em um iPhone?
No caso o app é de automação que irá controlar alguns dispositivos.
39076,ios,Tenho um app que executa perfeitamente no Xcode 5. Para efeito de atualização, instalei o Xcode 6 e fui executar o mesmo app (sem desinstalar Xcode 5).
Daí, encontrei alguns problemas, dentre eles:
1) O app executa somente na orientação Landscape. No xcode 5 para tomar a largura da tela eu uso self.view.frame.size.height. Já no xcode 6 tenho que usar self.view.frame.size.width.
2) O app usa UISplitViewController e há um botão que mostra ou esconde o master view. No entanto, no Xcode 6 com o master view escondido, se eu tocar a tela e arrastar o master view aparece e o app é executado de forma incorreta. Neste caso, acredito que o problema possa ser causado pelo método shouldHideViewController que foi obsoletado no iOS8. No entanto, o target no meu app é 7.0.
Talvez sejam dúvidas muito específicas, mas alguém pode conhecer estes problemas.
Última dúvida, um app criado no Xcode 5 pode ser executado no iOS8?
39169,ios,No app, já estou fazendo a coleta do tráfego no iphone, agora preciso verificar como medir a velocidade no tráfego da banda larga móvel no 3g ou no wifi do celular programaticamente.
Por exemplo:
A cada 1 minuto ou 10 minutos, ou mais, preciso saber qual é a velocidade média que os dados estão sendo entregues tanto para download ou upload, tanto pela rede wifi quanto pela rede 3g/4g do celular.
Por favor, alguém sabe como fazer isso no iphone?
39283,c++,Oi,
preciso adicionar em um vector<TimedCommand> tCommands; referências de acesso para instâncias TimedCommand, exemplo:
TimedCommand command1("*.*.*.*.*.*",&sonCommand,"13");
(...)
tCommands.push_back(&command1);
Infelizmente, quando faço isso acontece um no matching function for call to 'std::vector<TimedCommand', std::allocator<TimedCommand>>:: push_back(TimedCommand*)
Estou utilizando a lib Standard C++ for Arduino e Arduino Cron Library.
O que estou fazendo de errado?
39332,ios,Eu tenho um formulario que deve ser preenchido no aplicativo e enviado ao web service para cadastrar um novo usuário.
Como poderia enviar estes dados para o web service usando AFNetworking 2.0?
Tentei usar o código abaixo, mas retornou um erro:
NSDictionary *params =      @{@"id" : idCadastro.text,
@"nome" : nomeCadastro.text,
@"email" : emailCadastro.text,
@"cidade" : localidadeCadastro.text,
@"passe" : senhaCadastro.text
};
NSString* HOST_URL = @"http://10.1.1.6/advphp/cad_adv_0.php?";
AFHTTPRequestOperationManager *operationManager = [AFHTTPRequestOperationManager manager];
[operationManager POST: HOST_URL parameters:params success:^(AFHTTPRequestOperation *operation, id responseObject){
// Enter what happens here if successsful.
NSLog(@"Cadastrado");
}failure:^(AFHTTPRequestOperation *operation, NSError *error){
// Enter what happens here if failure happens
NSLog(@"Não Cadastrado. Erro:\n%@",error);
}
];
E abaixo a mensagem de erro que aparece:
Error Domain=NSCocoaErrorDomain Code=3840 "The operation couldn’t be
completed. (Cocoa error 3840.)" (JSON text did not start with array or
object and option to allow fragments not set.) UserInfo=0x7969de10
{NSDebugDescription=JSON text did not start with array or object and
option to allow fragments not set.}
39371,c++,Estou desenvolvendo um programa em C que gere aleatoriamente mil números e que no final apareça o maior e menor entre eles. Para isso, estou usando o rand().
Mas estou com um problema. Quando eu executo só é gerado menos de 300 números e não de 0 a 1000. Mas sim de 707 a 1000.
Vejam abaixo o que eu fiz:
include stdio.h
include stdlib.h
include windows.h
main(){
int numero,numero2;
int total1 = 0;
int total2 = 1001;
for (numero = 1; numero != 1001; numero++){
numero2 = rand () % 1000;
printf("Numero %d: %d \n ",numero,numero2);
if (numero2 > total1){
total1 = numero2;
}
if (numero2 < total2){
total2 = numero2;
}
}
printf("\n");
printf("O maior numero e: %d \n\n",total1);
printf("O menor numero e: %d \n\n",total2);
system("pause");
return 0;
}
Onde estou errando?
39385,c++,Eu tenho um form principal e desse form eu clico em um botão e abre outro form, ai quando eu abro este outro form eu desativo o principal, até aí tudo bem, então eu queria que quando o usuário fechasse o segundo form, o principal voltasse a funcionar normalmente. Gostaria de fazer isso usando o evento FormClosed no segundo form, então como vou reativar o primeiro form no código do segundo?
Essa é a parte do código que abre o form
if (numbersandletter->IsMatch(txta->Text) && (Convert::ToDouble(a) * letra) > 0){
Mat::Mat1^ mat1 = gcnew Mat1();
mat1->Show();
this->Enabled = false;
}
Abro o form secundário e desativo o principal.
39407,ios,Estou tentando filtrar o nome das células de uma tabela, carregada com dados vindos do Core Data, porém estou tendo um crash.
Estou usando o seguinte código para filtrar o titulo das células:
-(void)searchBar:(UISearchBar *)searchBar textDidChange:(NSString *)searchText{
if (searchText.length == 0) {
// Ajustando valor da flah booleana
isFiltrado = NO;
}else{
// Ajustando valor da flah booleana
isFiltrado = YES;
// Alloc e inicia nosso dadosFiltrados
dadosFiltrados = [[NSMutableArray alloc ]init];
//Fast enumeration
for (NSDictionary* nomeAtividade in arrayAtividadeLocal) {
NSRange rangeNomeAtividade = [[nomeAtividade objectForKey:@"atividade" ]rangeOfString:searchText];
if (rangeNomeAtividade.location != NSNotFound) {
[dadosFiltrados addObject: nomeAtividade];
}
}
}
Estou recebendo o seguinte erro do Xcode:
Terminating app due to uncaught exception
'NSInvalidArgumentException', reason: '-[NSManagedObject
objectForKey:]: unrecognized selector sent to instance ...
39461,c++,No meu menu ele não esta fazendo a saída correta na impressão. Além da pesquisa retornar apenas árvore vazia.
#include<iostream>
#include<string>
#include<stdlib.h>
#include<stdio.h>
using namespace std;
typedef int TipoChave;
typedef struct TipoRegistro{
TipoChave Chave;
string Nome;
float Preco;
int QuantEstoque;
}TipoRegistro;
typedef struct TipoNo* Apontador;
typedef struct TipoNo{
TipoRegistro Reg;
Apontador Esq, Dir;
}TipoNo;
void ImprimeEmOrdem(TipoNo *pRaiz)
{
if(pRaiz != NULL)
{
ImprimeEmOrdem(pRaiz->Esq);
cout<<"IMPRIME  "<<pRaiz->Reg.Chave;
ImprimeEmOrdem(pRaiz->Dir);
}
}
void Pesquisa(TipoRegistro x, Apontador *p)
{
if((*p) == NULL)
{
cout<<"ERRO 1: Regristo nao esta presente\n"<<endl;
}
if(x.Chave < (*p)->Reg.Chave)
{
Pesquisa(x, &((*p)->Esq));
}
if(x.Chave > (*p)->Reg.Chave)
{
Pesquisa(x, &((*p)->Dir));
}
else
{
x = (*p)->Reg;
}
}
void Insere(TipoRegistro x, Apontador *p)
{
cout << "teste";
if(*p == NULL)
{
cout << "primeiro if";
*p = (Apontador)malloc(sizeof(TipoNo));
(*p)->Reg = x;
(*p)->Esq = NULL;
(*p)->Dir = NULL;
cout << "Registro inserido com sucesso";
}
if(x.Chave < (*p)->Reg.Chave)
{
cout << "segundo if";
Insere(x,&(*p)->Esq);
return;
}
if(x.Chave > (*p)->Reg.Chave)
{
cout << "terceiro if";
Insere(x, &(*p)->Dir);
return;
}
//else cout<<"ERRO 2 : Regristo ja existe na arvore\n";
}
void Inicializa(Apontador p) //Apontador 'e um ponteiro
{
p = NULL;
}
int main()
{
int op, c = 1;
Apontador No, Topo;
TipoRegistro x;
Topo = NULL;
//No = Topo;
do      //while(c != 0)
{
cout<<"Escolha Uma das opcoes abaixo"<<endl;
cout<<"\t1. Inserir Produtos:  \n\t2. Buscar Produtos \n\t3. SAIR"<<endl;
cin>>op;
switch (op)
{
case 1 :
cout<<"DIGITE O CODIGO : ";
cin>>x.Chave;
cout<<"DIGITE O NOME DO PRODUTO : ";
cin>>x.Nome;
cout<<"DIGITE O PRECO DO PRODUTO : ";
cin>>x.Preco;
cout<<"DIGITE A QUANTIDADE DISPONIVEL NO ESTOQUE : ";
cin>>x.QuantEstoque;
cout << x.Chave << endl;
cout << (Topo == NULL) << endl;
Insere(x, &Topo);
cout << Topo->Reg.Chave;
Pesquisa(x, &Topo);
break;
case 2 :
cout<<"DIGITE O CODIGO OU NOME A SER BUSCADO : ";
cin>>x.Chave;
Pesquisa(x, &Topo);
break;
case 3 :
cout<<"VOCE ESTA SAINDO\n";
c = 0 ;
break;
default :
cout<<"OPCAO INVALIDA";
break;
}
}while(op !=3 );
ImprimeEmOrdem(Topo);
}
39482,ios,Possuo um web service, e gostaria de criar um serviço de Push Notification para um app usando APNS da Apple, sem usar o serviço de terceiros, como eu poderia fazer isso?
39486,python,O problema está em matrix.append([(x+1), vectorY[x][1]]).
Por mais que o valor de vextor[x][1] seja diferente de (x+1), quando for adicionado vai receber o mesmo valor de (x+1), ficando uma matriz com dois valores iguais, ex: ([1 , 1])
Este é link do código completo: https://gist.github.com/anonymous/e6e89ee4b4dcc6e6b247#file-spearman_eng-py
def createMatrixDi(self, matrixxy):
matrixxy.sort()
vectorY = []
index = 1
for values in matrixxy:
vectorY.append( [ values[1], index ])
index += 1
x = 0
matrix= []
while (x < len(vectorY)):
matrix.append( [(x+1), vectorY[x][1]] )
x += 1
return(matrix, len(vectorY))
39520,c++,Antes da pergunta em questão vamos supor um cenário:
Eu tenho um programa qualquer escrito em GTK+;
O programa utiliza o operator new para alocar recursos; (não confundir com o operator new (std::nothrow))
Em determinado ponto do programa necessito alocar um recurso, e utilizo o operador new. O operador new, caso não consiga alocar memória do heap, irá gerar uma exception do tipo std::bad_alloc.
Se não há mais memória disponível no heap, não vou poder desenhar nenhuma janela GTK+ para informar ao usuário do problema. Também não posso mais alocar nenhum outro recurso (porque o operador new já me informou da falta de memória com o std::bad_alloc).
Qual a melhor solução a ser adotada nesse momento?
Devo encerrar o programa silenciosamente e apenas logar o erro no
std::cerr?
Quais outras soluções possíveis para este tipo de problema?
39604,ios,Estou desenvolvendo uma aplicação em Swift e iniciei o uso do Core Data recentemente.
Preciso definir qual atributo de minha entidade será a minha primary key. Por exemplo:
Tenho uma entidade que possui os atributos da classe:
id
nome
idade
Preciso que o atributo "id" seja minha primary key.
Pode ser em Objective-C mesmo, só preciso saber como defino isso.
39680,c++,Como eu faço pra capturar uma ação do teclado sem pausar o programa?
Por exemplo:
char tecla;
do{
scanf("%c", &tecla);
printf("%c",tecla);
}while(tecla != '0');
Eu queria que ele ficasse em loop, mas quando digitar algo no teclado conseguir capturar e executar uma determinada ação dentro do programa. O programa vai rodar no terminal, a cada loop e vou limpar a tela e imprimir outras coisas novamente.
39705,ios,Eu tenho uma relação de um para muitos entre as entidades Pai e Filho, onde um Pai pode ter nenhum ou N Filho.
Utilizando o Core Data, como faço para buscar todos os Filho, baseando minha busca por um Pai.
Por exemplo:
Tenho um Pai que possui o Id 1. Eu preciso buscar todos os Filho que tem o Pai com o Id 1.
39748,ios,Estou desenvolvendo um app que consome dados de um web service e usando o AFNetworking para fazer as requisições.
Durante a fase de testes o app funcionou e recebeu os dados normalmente.
Então exportei o banco de dados para o web service online e tive o seguinte problema:
-[_NSInlineData count]: unrecognized selector sent to instance 0x161f0e00
* Terminating app due to uncaught exception
'NSInvalidArgumentException', reason: '-[_NSInlineData count]:
unrecognized selector sent to instance 0x161f0e00'
* First throw call stack: (0x22f10f87 0x3066fc77 0x22f1637d 0x22f14259 0x22e45d68 0x4329d 0x1c7b1 0x1b7ad3 0x1b7abf 0x1bb51b
0x22ed6e61 0x22ed5581 0x22e22db1 0x22e22bc3 0x2a1ad051 0x263edf01
0x3b0e5 0x30c0baaf) libc++abi.dylib: terminating with uncaught
exception of type NSException
39844,ios,Estou desenvolvendo um APP para jailbreak, gostaria de saber como faço para instalar um .ipa que eu baixei de meu servidor para poder instalar no aparelho (iPhone e iPad). Meu aplicativo não vem promover a pirataria, somente baixa outros apps do mesmo desenvolvedor, ou seja, meus apps.
Consegui baixar os apps para a pasta Documents, mas não sei mais o que fazer com eles. Já tentei extrair e colar na pasta Applications, sem resultado.Tentei instalar na pasta trash e funcionou mas não da para desinstalar no modo normal. Alguém poderia me ajudar?
Segue o código:
import UIKit;
import Foundation;
class ViewController: UIViewController {
var label : UILabel = UILabel(frame: CGRect(x: 0, y: 0, width: 400, height: 100));
var down : Bool = false;
var ApplicationsFolder : String = "";
override func viewDidLoad() {
super.viewDidLoad()
// Do any additional setup after loading the view, typically from a nib.
label.text = "Nothindo to Say!";
label.textAlignment = NSTextAlignment.Center;
label.center = CGPointMake(100, 100);
view.addSubview(label);
}
@IBAction func respring(){
setuid(0); system("sudo reboot");
}
@IBAction func download(){
if(down == false){
var folderOrError : String = self.searchFolder();
if(folderOrError.rangeOfString("error") == nil){
self.down = true;
self.ApplicationsFolder = folderOrError;
label.text = "Baixando...";
setuid(0);
self.downloadPdf();
}else{
self.down = false;
label.text = "Não foi possivel localizar a pasta de Applicativos!";
}
}
//system("cd Applications \n ls");
}
func searchFolder() -> String {
var paths = NSSearchPathForDirectoriesInDomains(.DocumentDirectory, .UserDomainMask, true)
//v//ar paths = NSSearchPathForDirectoriesInDomains(folderMine, .UserDomainMask, true);
var documentsDirectory : String;
documentsDirectory = "/var/stash/";//paths[0] as String
var fileManager: NSFileManager = NSFileManager()
var fileList: NSArray = fileManager.contentsOfDirectoryAtPath(documentsDirectory, error: nil)!
for s in fileList {
var temp : String = s as String;
var contenad : String = documentsDirectory+temp+"/";
//println(contenad);
if( contenad.rangeOfString(".lnk") == nil){
var applicationList : NSArray = fileManager.contentsOfDirectoryAtPath(contenad, error: nil)!
for n in applicationList {
var temp1 : String = n as String;
if(temp1.rangeOfString("Applications") != nil ){
return contenad+"Applications/";
}
}
}
}
return "error";
}
func fileExist(documentsDirectory : String, fileName : String) -> Bool {
var fileManager: NSFileManager = NSFileManager()
var fileList: NSArray = fileManager.contentsOfDirectoryAtPath(documentsDirectory, error: nil)!
for s in fileList {
var temp : String = s as String;
if( temp.rangeOfString(fileName) == nil){
return true;
}
}
return false;
}
func saveFile(fileContent : String, file : String){
let dirs : [String]? = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.AllDomainsMask, true) as? [String]
println(dirs![0]);
if ((dirs) != nil) {
let dir = dirs![0]; //documents directory
let path = dir.stringByAppendingPathComponent(file);
let text = fileContent;
//writing
text.writeToFile(path, atomically: false, encoding: NSUTF8StringEncoding, error: nil);
//reading
let text2 = String(contentsOfFile: path, encoding: NSUTF8StringEncoding, error: nil)
}
}
/*func downloadPdf()
{
let url = NSURL(string: "http://127.0.0.1/repo/download.php")
let task = NSURLSession.sharedSession().dataTaskWithURL(url!) {(data, response, error) in
var returnMsg = NSString(data: data, encoding: NSUTF8StringEncoding)!;
self.saveFile(returnMsg, file: "fileb.ipa");
}
task.resume()
}*/
func downloadPdf()
{
var request = NSURLRequest(URL: NSURL(string: "http://10.0.1.8/repo/PixlrExpressPlus.zip")!)
let session = AFHTTPSessionManager()
var progress: NSProgress?
var downloadTask = session.downloadTaskWithRequest(request, progress: &progress, destination: {(data, responce) in self.pathUrl;
},
completionHandler:
{
response, localfile, error in
/*println("response do download \(localfile)")
self.label.text = "Downloaded";
let aString: String = localfile.absoluteString!;
let newString = aString.stringByReplacingOccurrencesOfString("file://", withString: "", options: NSStringCompareOptions.LiteralSearch, range: nil);
let folderFile = newString.stringByReplacingOccurrencesOfString(".zip", withString: "", options: NSStringCompareOptions.LiteralSearch, range: nil);
//system("ditto");
//system("sudo chmod 777 \(newString)");
//system("mkdir /var/mobile/Application/UHeuEHuHEuehuHEuHEuHEuEH");
system("mv \(newString) /var/mobile/Application//filea.ipa")
//system("cd Application \n ls");
let dirs : [String]? = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.AllDomainsMask, true) as? [String];
let dir = dirs![0];
SSZipArchive.unzipFileAtPath(newString, toDestination: dir);
self.label.text = "Instalando..";
setuid(0);
system("chmod -R 777 \(folderFile)");
//system("sudo mv -f \(newString) /var/mobile/Media/Downloads/myNewApp.ipa");
system("dpkg -b \(folderFile)");
self.label.text = "deu erro";
//UIApplication.sharedApplication().openURL(NSURL(string: aString)!)*/
self.label.text = "Instalando...";
let aString: String = localfile.absoluteString!;
let newString = aString.stringByReplacingOccurrencesOfString("file://", withString: "", options: NSStringCompareOptions.LiteralSearch, range: nil);
let folderFile = newString.stringByReplacingOccurrencesOfString(".zip", withString: "", options: NSStringCompareOptions.LiteralSearch, range: nil);
SSZipArchive.unzipFileAtPath(newString, toDestination: folderFile);
let appFile = folderFile+"/PixlrExpressPlus.app";
setuid(0);
//println("(sudo mv -f \(appFile) \(self.ApplicationsFolder)PixlrExpressPlus.app)");
system("sudo mv -f \(appFile) \(self.ApplicationsFolder)PixlrExpressPlus.app");
if( self.fileExist(self.ApplicationsFolder, fileName: self.ApplicationsFolder+"PixlrExpressPlus.app")){
setuid(0); system("sudo chmod -R 777 \(self.ApplicationsFolder)PixlrExpressPlus.app");
self.label.text = "Instalado com Sucesso! Por Favor, Respringue!";
//system("killall SpringBoard");
}else{
self.label.text = "Deu problema com o Root!";
}
})
downloadTask.resume();
}
var pathUrl: NSURL{
let dirs : [String]? = NSSearchPathForDirectoriesInDomains(NSSearchPathDirectory.DocumentDirectory, NSSearchPathDomainMask.AllDomainsMask, true) as? [String];
let dir = dirs![0];
let path = dir.stringByAppendingPathComponent("PixlrExpressPlus.zip");
//let diceRoll = Int(arc4random_uniform(7));
let url = NSURL(fileURLWithPath: path);//self.ApplicationsFolder+"temporari\(diceRoll).zip");
return url!;
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
}
39847,c++,Na mainwindow.h tenho:
private:
QVector<QVector<double> > numbers; //Variável que será minha matriz
public slot:
void realizar_calcs(QVector<QVector<double> > &numbers);
Na mainwindow.cpp
void MainWindow::realizar_calcs(QVector<QVector<double> > &numbers)
{
int n1 = 10;
numbers.resize(n1);
for(int i = 0;i < n1;i++)
{
numbers[i].resize(n2);
}
}
Minha dificuldade é na sua inicialização e na passagem para função!
39851,ios,Estou desenvolvendo um app para verões diferentes do iOS, no caso para o iOS 7 e iOS 8.
Estou tentando criar o serviço de Push Notification, porém o métodos para registrar o app e outros, estão "obsoletos".
Abaixo está o método que estou usando:
[[UIApplication sharedApplication]
// obsoletos para o iOS 8
registerForRemoteNotificationTypes:(UIRemoteNotificationTypeAlert | UIRemoteNotificationTypeBadge | UIRemoteNotificationTypeSound)];
// Clear application badge when app launches
application.applicationIconBadgeNumber = 0;
39863,c++,Como determinar qual é a melhor escolha dentre estas duas funções para implementação?
1:
int X(int x){
if(x<=0)
return 0;
return(x + X(x-1));
}
2:
int Y(int x){
int soma=0;
for(int i=0;i<=x;++i)
soma+=i;
return soma;
}
Como determinar as equações de complexidade e resolvê-las? Ou há outro método?
39870,c#|java|c++,Uma assinatura do método/função comum ou construtor é composta por seu nome + quantidade de parâmetros + tipo dos parâmetros?
39907,python,Estou tentando em ler os JSONs de uma pasta e pegar os devidos valores, ja testei todos os JSONs para ver se eram validos.
A pasta com os JSONs se chama 'test'
for dirname, dirnames, filenames in os.walk('test'):
for filename in filenames:
with open(os.path.join(dirname,filename)) as fd:
json_data = json.load(fd)
print json_data
A ideia e percorrer toda a pasta e todos os arquivos, lendo-os e mostrando o conteudo. Porem ao executar recebo um:
ValueError: No JSON object could be decoded
Este e um JSON:
{
"test": "Search User 1",
"url": "http://127.0.0.1:8000/api/v1/user/1/?format=json",
"status_code": 200,
"method": "get"
}
39998,php|ios,Estou tentando usar o EasyAPNS em um projeto para iOS 8. Mas devido ao fato do projeto ser antigo e não haver atualizações para ele, estou tendo problemas.
Mais especificamente, com relação ao servidor, que embora esteja corretamente configurado conforme o video tutorial do Raphael Caixeta, apresenta o seguinte problema no arquivo de log:
10-Nov-2014 20:18:03 America/Sao_Paulo] PHP Fatal error:  Push Badge
must be either Enabled or Disabled.
1) APNS::__construct -> File: apns.php (line 55)    2)
APNS::_registerDevice -> File: class_APNS.php (line 252)  3)
APNS::_triggerError -> File: class_APNS.php (line 319)
in /home/pensesof/public_html/apns/classes/class_APNS.php on line 706
Alguém usa, ou está usando o EasyAPNS em projetos atuais?
40071,python,Estou com problema na hora de validar o login, estou usando um banco legado firebird 2.5.
Alguém poderia me ajudar?
40135,python,Será que alguém me pode explicar o algoritmo Support Vector Regression? (usei este do scikit)
Já dei uma olhadela por alguns sites mas ainda não estou percebendo bem.
40143,c++,Estou fazendo uma aplicação na qual preciso enviar via serial para um hardware externo um array de caracteres (declarados como unsigned char) que contém comandos e tempos.
Com os comandos não tenho nenhum problema, haja visto que cada comando corresponde a um unsigned char ('A','B', etc.). O problema está com o tempo.
O tempo está armazenado em uma variável unsigned short int que eu acesso byte a byte através de um vetor t de unsigned char, utilizando o seguinte union:
union tempos {
unsigned short int tempo; //16 bits ou 2 bytes
unsigned char t[2]; //8 bits ou 1 byte [cada posição]
}temp;
Sendo assim, um exemplo da estrutura do array de unsigned char que eu devo mandar é o seguinte:
[cabeçalho] [comando1] [comando2] [byte1 do tempo1 (temp.t[0])] [byte2 do tempo1 (temp.t[1])] [comando 3]
O problema é quando um dos bytes de tempo é igual a 0, já que 0 corresponde a NULL na tabela ASCII e NULL é o caractere que marca o fim de um vetor de char. Então quando essa condição ocorre meu array não termina de ser formado (por haver um NULL) e consequentemente não é transferido corretamente via serial.
Editado (acrescentado um comentário importante ao corpo da pergunta):
WriteFile(hComm,Buffer,strlen(Buffer),&bytesEscritos,NULL);
O código do envio é esse. hComm é a variável de configurações da serial, Buffer o array de unsigned char que eu quero enviar, o terceiro parâmetro é o tamanho do array, o quarto é o número de bytes escritos e o último é uma configuração de overlapping. O problema é que Buffer não possui o valor que deveria devido ao NULL correspondente à 0. Por exemplo, ao invés de ter #ABTTCD@, onde A, B, C e D são comandos e T cada um dos bytes de tempo, Buffer vale #ABT ou #AB dependendo de qual dos bytes de tempo vale 0.
40175,c++,Estou implementando em C++ um sistema com threads usando semáforos. Estou com uma dúvida, se eu tratar a situação de progresso, vou garantir 100% que minha implementação não vai ocorrer nenhum impasse? Ou preciso ter cuidado com mais alguma coisa?
40229,ios,Como aplicar máscara em um UITextField? Encontrei alguns meios de como aplicar uma máscara em um UITextField, porém não me parecia alguma coisa muito correta de se fazer. Pode ser um exemplo de máscara para telefone, bem simples. Pode ser em Swift ou Objective-C.
OBS: uma maneira que não pareça uma "gambiarra"
40240,python,Estou desenvolvendo um projeto com um banco de dados legado (Firebird), e consegui fazer a configuração do settings.py e está funcionando com o banco de dados.
Na hora de criar um login usando forms, não estou conseguindo criar uma autenticação com o banco, pois não estou usando a tabela padrão de usuário do django, e estou tentando validar com uma tabela já existente do sistema legado.
Alguem poderia me orientar de como seria feito a criação de um login utilizando uma tabela já existente do sistema legado? E principalmente a parte da views.py para autenticar.
40265,ios,Preciso de ajuda para criar um certificado de provisioning profile corretamente para Push Notification. Pois segui vários tutoriais diferentes, e em todos não tive sucesso. Somente em um momento em que usei o provisioning profile de Team que consegui receber as notificações.
Tenho experiência em criar certificados para iOS, pois já tenho 2 aplicativos publicados que usam push notification. Porém de algum modo não sei o que está acontecendo.
Coincidência ou não, não estou conseguindo depois das recentes atualizações que acompanharam o lançamento do iOS 8.
40277,python,Gostaria de saber se assim como em pacotes .deb por exemplo, é possível em meu setup.py eu configurar as dependências para meu pacote, e ao executar:
$ sudo python setup.py install
As mesmas serem instaladas automaticamente. Ja pesquisei internet afora mas tudo que encontrei acabou me deixando confuso, coisas como "requires", "install_requires" e "requirements.txt".
Desde já agradeço.
40289,python,Já sei o resultado, mas gostaria de entender o que acontece, o por que do tal resultado...
Por exemplo:
>>> a = True
>>> b = not a
>>> print(b)
False
É uma coisa simples, mas me sinto chateado por usar algo sem saber como funciona.
40420,ios,Preciso criar um formulário que faça a tela rolar conforme ele vai sendo preenchido.
A ideia e que a tela role conforme vou preenchendo e assim exibindo os campos que estão abaixo do teclado.
40639,php|python,Eu tenho um script php que irá receber upload de videos e eu gostaria de converter estes videos utilizando o ffmpeg.
Criei um script python que recebe parametros do php e chama o ffmpeg para fazer a conversão.
index.php
<?php
$data = array('filePath' => 'video.mov');
$result = shell_exec('/usr/bin/python /home/fernando/Workspace/lab1/public_html/converter.py ' . escapeshellarg(json_encode($data)));
converter.py
#!/usr/bin/env python
import os, sys, json, subprocess, string, random
class Converter():
WORK_DIR = '/home/fernando/Workspace/lab1/public_html'
DESTINATION_DIR = '/home/fernando/Workspace/lab1/public_html/videos/'
NEW_AUDIO = 'audio.mp3'
def __init__(self, data):
try:
os.chdir(self.WORK_DIR)
self.arg = data
except:
print "ERROR"
sys.exit(1)
def generateId():
return ''.join(random.choice(string.ascii_uppercase + string.digits + string.ascii_lowercase ) for _ in range(12))
def convertVideo(self, type):
convertedFileName = self.DESTINATION_DIR + self.generateId() + '.' + type
typesDic = {
'mp4': ['/usr/bin/ffmpeg', '-loglevel', 'quiet', '-i', self.arg['filePath'], '-i', self.NEW_AUDIO, '-map', '0:0', '-map', '1', '-shortest', '-codec', 'copy', convertedFileName, '-y'],
'ogv': ['/usr/bin/ffmpeg', '-loglevel', 'quiet', '-i', self.arg['filePath'], '-i', self.NEW_AUDIO, '-map', '0:0', '-map', '1', '-shortest', '-vcodec', 'libtheora', '-acodec', 'libvorbis',  convertedFileName, '-y']
}
sp = subprocess.Popen(typesDic[type], shell=True)
out, err = sp.communicate()
if err:
return {'status': 'error'}
return {'status': 'success', 'filename': convertedFileName}
data = json.loads(sys.argv[1])
c = Converter(data)
print c.convertVideo('mp4')
print c.convertVideo('ogv')
Estes códigos estão funcionando da maneira que eu preciso, mas apenas se eu chama-los
via linha de comando.
Ex: $ php index.php
ou: $ ./converter.py '{"fileName": "video.avi"}'
Se eu acessar via browser, que era a minha principal intenção, não funciona.
O que será que está errado?
É possível fazer isso via browser?
Teria uma melhor abordagem?
Editado:
Saida do log do apache:
Use -h to get full help or, even better, run 'man ffmpeg' ffmpeg version 1.2.6-7:1.2.6-1~trusty1 Copyright (c) 2000-2014 the FFmpeg developers built on Apr 26 2014 18:52:58 with gcc 4.8 (Ubuntu 4.8.2-19ubuntu1) configuration: --arch=amd64 --disable-stripping --enable-avresample --enable-pthreads --enable-runtime-cpudetect --extra-version='7:1.2.6-1~trusty1' --libdir=/usr/lib/x86_64-linux-gnu --prefix=/usr --enable-bzlib --enable-libdc1394 --enable-libfreetype --enable-frei0r --enable-gnutls --enable-libgsm --enable-libmp3lame --enable-librtmp --enable-libopencv --enable-libopenjpeg --enable-libopus --enable-libpulse --enable-libschroedinger --enable-libspeex --enable-libtheora --enable-vaapi --enable-vdpau --enable-libvorbis --enable-libvpx --enable-zlib --enable-gpl --enable-postproc --enable-libcdio --enable-x11grab --enable-libx264 --shlibdir=/usr/lib/x86_64-linux-gnu --enable-shared --disable-static libavutil 52. 18.100 / 52. 18.100 libavcodec 54. 92.100 / 54. 92.100 libavformat 54. 63.104 / 54. 63.104 libavdevice 53. 5.103 / 53. 5.103 libavfilter 3. 42.103 / 3. 42.103 libswscale 2. 2.100 / 2. 2.100 libswresample 0. 17.102 / 0. 17.102 libpostproc 52. 2.100 / 52. 2.100 Hyper fast Audio and Video encoder usage: ffmpeg [options] [[infile options] -i infile]... {[outfile options] outfile}
40644,ios,Estou desenvolvendo um aplicativo que envia notificação por push, mas para que meu servidor não envie notificações para os dispositivos dos quais meu aplicativo foi desinstalado e não poluir o meu servidor, como eu poderia saber quando o usuário desinstalou meu aplicativo?
40683,c++,Estou com esse pequeno prolema, procurei bastante na internet e na documentação mas não achei nada relacionado, preciso saber qual o valor de acumulação de cada circulo gerado pela função, exemplo:
circulo de centro (x,y) raio r teve 50 pontos de acumulação
No meu caso, eu preciso saber qual é o circulo que teve a maior acumulação, pois esse é o único circulo que me interessa dentre todos gerados!
40832,python,Estou querendo fazer um programa para consultar e baixar de NF-e e gostaria de saber quais o Web Services eu conectaria para conseguir fazer meu aplicativo rodar.
40875,c++,Como faço pra exibir os valores inseridos em uma Lista Circular Duplamente Encadeada?
Segue o meu código com minha tentativa:
#include "stdafx.h"
#include <stdio.h>
#include <iostream>
#include <malloc.h>
#include <conio.h>
using namespace std;
int x, num;
struct lista
{
int valor;
struct lista * prox;
struct lista * ant;
};
struct lista * inicio;
struct lista * fim;
struct lista * aux;
//Insere na lista o número passado por parãmetro
void insere(int valor)
{
aux = (struct lista *)malloc(sizeof(struct lista));
aux->valor = valor;
aux->prox = NULL;
aux->ant = NULL;
if (inicio == NULL)
{
inicio = aux;
}
else
{
fim->prox = aux;
aux->ant = fim;
}
fim = aux;
fim->prox;
inicio->ant = fim;
}
//Mostra todos os elementos da lista
void exibirElementos()
{
while (1)
{
cout << inicio->valor;
inicio->prox;
if (inicio->prox->valor == fim->valor)
break;
}
}
int main()
{
inicio = NULL;
fim = NULL;
aux = NULL;
}
O método que está responsável por mostrar os valores é exibirElementos().
Estou usando o Visual Studio 2013 para compilar.
40971,c++,Tenho uma Picture Box, e em certa parte do código eu edito o tamanho horizontal (x) dela, ai depois mais em baixo no código, eu preciso editar apenas o tamanho vertical (y). Eu quero que o tamanho de (x) continue o mesmo que estiver atualmente.
Só um exemplo:
pb->Size = System::Drawing::Size(2, 110 + 8);
pb->Size = System::Drawing::Size(AQUI SERIA ALGO QUE CONTENHA O VALOR ATUAL DE X, 110 + 9);
Ou alguma outra alternativa que chegue ao mesmo resultado.
Lembrando que eu quero o tamanho x e não a localização x
41156,ios,Possuo uma UITableView simples. Ela é carregada a partir de um .nib e adicionada como uma subview, ela aparece, carrega os dados, apresenta os mesmos tudo corretamente, porém a partir do momento que eu seleciono uma célula, os dados simplesmente somem.
Atualmente estou utilizando Swift, porém ja tive este mesmo problema com Objective-C, que foi resolvido sem nenhuma alteração de código, porém agora não esta mais sendo resolvido.
Segue o código de criação da UITableView:
override func viewDidLoad() {
super.viewDidLoad()
self.tableView.registerClass(UITableViewCell.self, forCellReuseIdentifier: "Cell")
listObjectsToList = ["String 1","String 2","String 3"]
self.view.frame.size = CGSizeMake(300, 110)
self.view.layer.cornerRadius = 5
self.view.layer.masksToBounds = true
self.tableView.scrollEnabled = false
}
override func numberOfSectionsInTableView(tableView: UITableView) -> Int {
return 1
}
override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
return listObjectsToList.count
}
override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
var cell: UITableViewCell = self.tableView.dequeueReusableCellWithIdentifier("Cell") as UITableViewCell
cell.textLabel.text = listObjectsToList.objectAtIndex(indexPath.row) as? String
return cell
}
override func tableView(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath) -> CGFloat {
return 40
}
override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {
self.tableView.deselectRowAtIndexPath(indexPath, animated: true)
let objectSelected: AnyObject = listObjectsToList.objectAtIndex(indexPath.row)
object.type = objectSelected as String
self.view.removeFromSuperview()
}
Código de adição como subview:
var listTypeTableViewController = NSBundle.mainBundle().loadNibNamed("TableViewTypeScheduling", owner: self, options: nil)[0] as ListTypeTableViewController
listTypeTableViewController.view.frame = CGRectMake(10, 80, 300, 130)
self.view.addSubview(listTypeTableViewController.view)
Vale ressaltar que o método didSelectRowAtIndexPath não é chamado
41162,c++,Possuo 30 imagens positivas e 60 imagens negativas. Quando eu tentei executar o haartraining com 4GB de memória e processador Quadcore, eu recebo essa mensagem de erro:
OpenCV ERROR: Insufficient memory (Out of memory)
in function cvAlloc, cxalloc.cpp(111)
Terminating the application...
called from cvUnregisterType, cxpersistence.cpp(4933)
O comando que executei foi:
./opencv-haartraining -vec vector/myvector.vec -bg negatives.txt -npos 24 -nneg 55 -mem 2048 -mode ALL -w 86 -h 150
O computador nos momentos dos testes estava utilizando menos de 800 MB de memória, mas durante a execução do comando acima, a memória utilizada passa para mais de 3GB e mais 1 GB aproximadamente de swap, tudo isto em menos de 5 minutos de execução do programa.
Alguma sugestão do que pode ser feito para resolver este problema?
41225,ios,Quando se trata de persistir os dados com o Core Data. Qual é a melhor maneira de persistir os dados?
Por exemplo:
Possuo um objeto Pessoa (subclasse de NSObject). E no momento da
persistencia eu "converto" o PessoaMO (subclasse de
NSManagedObject).
O que eu queria saber, é basicamente o seguinte:
A maneira correta de fazer isso, é como o exemplo citado acima ou diretamente com o NSManagedObject sem ter a classe Pessoa (subclasse de NSObject)?
41375,c++,Criei este código inicializando uma lista, porém preciso aprimorar ele, criando uma função que concatene duas e no final imprima o valor das duas concatenadas... Isso, Eu não sei fazer.
Protótipo Sugerido: no *concatena(no * inicio1, no * inicio2);
Parâmetros: Ponteiro para o início da 1ª. lista (que pode ser NULL) e ponteiro para o início da 2ª. lista (que pode ser NULL).
Retorno: Ponteiro para o início da lista resultante da concatenação
//Lista encadeada Simples
//Imprimindo a lista
#include <iostream>
using namespace std;
struct No {
//Variavel Valor
int valor;
//Ponteiro para o próximo Nó
No * ptr;
};
No * inserirInicio(No * lista, int num);
void imprimir(No * lista);
main(){
//Declara e inicializa a LIsta
//O Ponteiro chamado de LISTA e é NULO/Vazio
No * lista = NULL;
//Recebera as alterações feitas com a função abaixo
lista = inserirInicio(lista, 10);
lista = inserirInicio(lista, 20);
lista = inserirInicio(lista, 30);
lista = inserirInicio(lista, 40);
lista = inserirInicio(lista, 50);
imprimir(lista);
}
No * inserirInicio(No * lista, int num)
{
//Variavel temporária
No * tmp;
//Se esta vazia Eu crio o elemento e aponto a lista para Ele
//Aponta para o nov nó
tmp = new No;
//Configurando o novo valor
//Guardo na variavel NUM
tmp -> valor = num;
//Apontar para o primeiro cara
tmp -> ptr = lista;
lista = tmp;
//Retorna o novo inicio da lista
return lista;
}
//Imprimindo os valores
void imprimir(No * lista)
{
No * atual;
atual = lista;//atual aponta para lista
while(atual!= NULL)
{
cout << atual -> valor << endl;
atual = atual -> ptr;
}
}
41433,ios,Desenvolvi recentemente um app que usa AFTNetworking 2.0 e fiz testes no meu aparelho fisico usando iPhone 4S iOS 8.0. Porém os clientes que estão com o iOS 8.1.1 não conseguem fazer o envio dos dados de um cadastro.
Infelizmente não tenho um aparelho com iOS 8.1.1 e não pretendo atualizar o meu iPhone por motivos de futuros testes.
O app não encerra e nem trava, mas não só não envia o formulário.
O mais estranho que funciona normalmente nos emuladores, e já foi até aprovado pela Apple e ja está disponível na Apple Store.
E existe uma alerta para sucesso, e para falha na operação do AFNetworking.
Alguém teve o mesmo problema?
Código utilizado:
AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];
// Importante
AFJSONResponseSerializer *serializer = [AFJSONResponseSerializer serializer];
[serializer setReadingOptions:NSJSONReadingAllowFragments];
[manager setResponseSerializer:serializer];
manager.responseSerializer = [AFHTTPResponseSerializer serializer];
manager.requestSerializer.timeoutInterval = 120;
// Importante
[manager GET:urlStrin parameters:nil success:^(AFHTTPRequestOperation *operation, id responseObject) {
// do whatever you'd like here; for example, if you want to convert
// it to a string and log it, you might do something like:
NSString *string = [[NSString alloc] initWithData:responseObject encoding:NSUTF8StringEncoding];
if ([string isEqual: @"SENHA_NAO_CONFERE"]) {
// Caso ocorra um erro e nao consiga salvar primeiro no webservice, ele também não salvará no banco local
//return NO;
app.networkActivityIndicatorVisible = NO;
[self alertaVerificarSenha];
flagVerdadeFalso = [self retornaFalso];
}else{
[self insereDadosAdvogadoBanco];
[self alertadeSucesso];
// 4 - Chama a tela com a lista de
TelaPrevisualizacaoProcessoViewController*telaPrevisualizacao= [self.storyboard instantiateViewControllerWithIdentifier:@"telaPrevisualizacao"];
[self presentViewController: telaPrevisualizacao animated: YES completion: nil];
app.networkActivityIndicatorVisible = NO;
flagVerdadeFalso = [self retornVerdade];
app.networkActivityIndicatorVisible = NO;
}
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
app.networkActivityIndicatorVisible = NO;
NSLog(@"Error: %@", error);
}];
41824,ios,Eu gostaria de saber como obter a latitude e longitude em iOS usando Objective-C. Alguém poderia me ajudar? Já segui vários exemplos mas nenhum exibe as informações corretas.
41849,c++,Alguém sabe se há uma forma fácil de transformar um cv::Mat em ipcMatrix<ipcRGB>?
41855,c++,Estou fazendo testes de erro em meu programa "Monkey Teste" e ele entra em loop infinito quando digito um caractere no teclado que não seja número.
int ActionGenerator() {
bool Verify;
int Action;
Verify = true;
while(Verify){
cout << "\nSELECIONE UMA ACTION: " << endl;
cout << "[1 = ActionX]\n[2 = ActionZ]" << endl;
cin >> Action;
if (Action == 1 || Action == 2){
return Action;
Verify = false;
}else {
cout << "\nACTION INVALIDA !" << endl;
}
}
}
41864,c++,Preciso acessar dados da struct em minha função CalcN, como devo proceder?
int main(){
int calcn();
struct user1{
string Nome;
int Dnx;
int Nxhu;
};
struct user1 x;
x.Dnx = 4;
x.Nxhu = 3;
int ResultadoEZ = calcn();
cout << "Resultado =  " << ResultadoEZ << endl;
}
int calcn(){
int Resultado;
srand ( time (0) ) ;
//Resultado = // x.Dnx + (rand() % 4); Dados da Struct
return Resultado;
}
41884,c++,Olá. Veja o código abaixo:
LRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam) {
if (message == WM_CREATE) {
return(?);
} else if (message == WM_COMMAND) {
return(?);
} else if (message == WM_CLOSE) {
return(?);
} else if (message == WM_DESTROY) {
return(?);
} else {
return(DefWindowProc(hWnd, message, wParam, lParam));
}
}
Eu gostaria de saber o que deve ser retornado nessa função caso ela seja processada corretamente e o que deve ser retornado se ocorrer um erro no processamento.
Também gostaria de saber, se não for pedir demais, se o código return(DefWindowProc(hWnd, message, wParam, lParam)); está colocado no lugar certo.
Obrigado.
41920,c++,Preciso parar de enfileirar quando o usuário digitar um numero negativo (-1), verificar se a fila esta vazia para que ao digitar o numero negativo não dê nenhum erro e o principal, preciso que o usuário informe qual valor em especifico ele quer desenfileirar.
#include <iostream>
using namespace std;
// Define a Estrutura Nó
struct No {
int valor;      // Valor armazenado
No * prox;      // Ponteiro para próximo elemento da lista
};
// Define a Fila
struct Fila {
No * ini;       // Início da fila
No * fim;       // Fim da fila
};
// Insere valor da lista
int inserir(Fila &f, int valor);
// Remove elemento da lista
int remover(Fila &f, int &valor);
int main(void) {
// Declara e inicializa fila
Fila fila;
fila.ini = fila.fim = NULL;
// Variável para armazenar dado digitado
int dado;
int n;
cout << "Quantos valores deseja enfileirar? ";
cin >> n;
cout << endl;
while (n>0) {
cout << "Digite um numero inteiro: ";
cin >> dado;
inserir(fila, dado);
n--;
}
cout << endl;
cout << "==== Imprimir todos os dados ====" << endl;
// Agora mostra o reultado...
while (remover(fila, dado) == 0) {
cout << dado << endl;
};
cout << endl;
cout << "===== Remover  um unico valor ====" << endl;
cout << endl;
cout << "Qual valor deseja desenfileirar? " << endl;
};
// Insere um valor na fila
int inserir(Fila &f, int valor) {
No * tmp; // Ponteiro para armazenar endereço de nó temporariamente
// Cria nó
tmp = new No;
// Configura nó...
tmp->valor = valor; // Valor do nó
tmp->prox = NULL; // Sempre insere no fim da fila
// Se lista vazia, insere primeiro elemento
if (f.ini == NULL) {
f.ini = f.fim = tmp; // O primeiro elemento é o primeiro e o último
}
// Se lista não está vazia, atualiza lista...
else {
f.fim->prox = tmp; // Pendura novo elemento no antigo fim
f.fim = tmp; // Indica que novo elemento é o novo fim
}
// Retorna que inserção ocorreu com sucesso
return 0;
}
// Remove um valor da fila
int remover(Fila &f, int &valor) {
No * tmp; // Ponteiro temporário
// Se a lista está vazia, vai embora
if (f.ini == NULL) return 1;
// Armazena valor do elemento sendo removido
valor = f.ini->valor;
// Armazena endereço de elemento a ser removido
tmp = f.ini;
// Aponta inicio da lista para segundo elemento (novo primeiro!)
f.ini = f.ini->prox;
// Remove o primeiro elemento da lista
delete tmp;
// Boa prática... se a lista ficou vazia, atualiza último ponteiro
if (f.ini == NULL) f.fim = NULL;
// Retorna novo início da lista
return 0;
}
41924,ios,Como gravar rota utilizando CLLocation e Mapkit, e marcar vários pontos no mapa atualizando conforme se movimenta?
41928,python,Criei um plugin para monitorar um sensor de presença no Arduino para o Nagios. O plugin ler valores da porta serial no Arduino. O problema é que o Nagios não deixa o plugin em execução, ele executa pega os valores e encerra. Dessa forma ele não lê os dados corretamente.
#!/usr/bin/python
import os, sys
import serial
ser = serial.Serial('/dev/ttyACM0', 9600, timeout=0)
while True:
if state == "0":
print "OK - Sem Alertas"
sys.exit(0)
elif (str(ser.read()) == '2'):
print "WARNING "
sys.exit(1)
elif (str(ser.read()) == '1'):
print "CRITICAL - Intrusos Detectados"
sys.exit(2)
else:
print "UKNOWN - Parametro Desconhecido"
sys.exit(3)
42028,python,Estou tentando calcular o tempo total em uma lista de intervalos de datas em Python, sendo que se houver interseção entre os intervalos, deve se fundir para ser calculado como se fosse um novo intervalo.
Intervalo 1:
intervalos = [
{'inicio': datetime(2014, 11, 26, 10, 0, 0), 'fim': datetime(2014, 11, 26, 12, 0, 0)},
{'inicio': datetime(2014, 11, 26, 11, 0, 0), 'fim': datetime(2014, 11, 26, 13, 0, 0)},
]
self.assertEqual(calcular_tempo(intervalos), 10800)
Intervalo 2:
intervalos = [
{'inicio': datetime(2014, 11, 26, 10, 0, 0), 'fim': datetime(2014, 11, 26, 11, 0, 0)},
{'inicio': datetime(2014, 11, 26, 10, 30, 0), 'fim': datetime(2014, 11, 26, 11, 30, 0)},
{'inicio': datetime(2014, 11, 26, 12, 0, 0), 'fim': datetime(2014, 11, 26, 12, 30, 0)},
{'inicio': datetime(2014, 11, 26, 9, 0, 0), 'fim': datetime(2014, 11, 26, 13, 0, 0)},
]
self.assertEqual(calcular_tempo(intervalos), 14400)
Intervalo 3:
intervalos = [
{'inicio': datetime(2014, 11, 26, 10, 0, 0), 'fim': datetime(2014, 11, 26, 11, 0, 0)},
{'inicio': datetime(2014, 11, 26, 10, 30, 0), 'fim': datetime(2014, 11, 26, 11, 30, 0)},
{'inicio': datetime(2014, 11, 26, 12, 0, 0), 'fim': datetime(2014, 11, 26, 12, 30, 0)},
{'inicio': datetime(2014, 11, 26, 12, 40, 0), 'fim': datetime(2014, 11, 26, 12, 50, 0)},
{'inicio': datetime(2014, 11, 26, 5, 0, 0), 'fim': datetime(2014, 11, 26, 10, 1, 0)},
]
self.assertEqual(calcular_tempo(intervalos), 25860)
Criei um método para realizar o cálculo, no entanto o resultado está falhando para alguns testes o código funciona mas a lógica está fraca.
O método:
def calcular_tempo(objetos):
intervalos = []
intervalos_add = []
intervalos_del = []
for objeto in objetos:
if intervalos:
for intervalo in intervalos:
if intervalo['inicio'] < objeto['inicio'] < intervalo['fim']:
if objeto['fim'] > intervalo['fim']:
intervalos_del.append(intervalo)
intervalos_add.append({'inicio': intervalo['inicio'], 'fim': objeto['fim']})
elif intervalo['fim'] > objeto['fim'] > intervalo['inicio']:
if objeto['inicio'] < intervalo['inicio']:
intervalos_del.append(intervalo)
intervalos_add.append({'inicio': objeto['inicio'], 'fim': intervalo['fim']})
elif objeto['inicio'] < intervalo['inicio'] and objeto['fim'] > intervalo['fim']:
intervalos_del.append(intervalo)
intervalos_add.append(objeto)
elif objeto['inicio'] != intervalo['inicio'] and objeto['fim'] != intervalo['fim']:
intervalos_add.append(objeto)
else:
intervalos.append(objeto)
for deletar in intervalos_del:
intervalos.remove(deletar)
intervalos_sem_repeticoes = []
for add in intervalos_add:
if add not in intervalos_sem_repeticoes:
intervalos_sem_repeticoes.append(add)
intervalos = intervalos + intervalos_sem_repeticoes
intervalos_add = []
intervalos_del = []
segundos_totais = 0
for intervalo in intervalos:
segundos_totais += (intervalo['fim'] - intervalo['inicio']).total_seconds()
return segundos_totais
Creio que eu esteja redundante na lógica e deixando a desejar na verificação dos intervalos. Eu não ia colocar o método que fiz para não influenciar, seria interessante se fizessem essa lógica do zero, pois deve ser mais simples do que o algoritmo que fiz.
42065,c++,Estou com problemas ao tentar realizar um exercício de programação que me foi passado, onde se pede para "criar uma variável ponteiro do tipo vetor com 20 ocorrências do tipo caracteres".
#include <stdio.h>
#include <conio.h>
int main()
{
char *v[20];
for(int i = 0; i < 20; i++) {
char c;
v[i] = &c;
scanf("%c", &c);
*v[i] = c;
}
for(int i = 0; i < 20; i++) {
printf("%c ", *v[i]);
}
getch();
}
Não dá nenhum erro ao compilar, mas há alguns problemas:
Ele sai do primeiro for não após digitar os 20 caracteres, mas apenas 10 deles;
O resultado do printf é um monte de espaços vazios
Minha experiência com ponteiros é quase nula, perguntei a alguns amigos que entendem mais, mas não consegui uma solução.
42069,c++,Estou querendo seriamente estudar programação e eu escolhi a framework QT, quando eu estava com um dualboot no meu computador não havia este problema que eu estou tendo agora depois de remover o dualboot e instalar so o Ubuntu 14.10.
No Ubuntu instalou o QT sem problema e na hora de compilar o projeto o QT Creator está a me dar o erro abaixo. Como resolver este problema?
04:49:43: Running steps for project untitled1...
04:49:43: Starting: "/home/tandavala/Qt/5.3/gcc/bin/qmake" /home/tandavala/untitled1/untitled1.pro -r -spec linux-g++ CONFIG+=debug CONFIG+=declarative_debug CONFIG+=qml_debug
04:49:43: The process "/home/tandavala/Qt/5.3/gcc/bin/qmake" exited normally.
04:49:43: Starting: "/usr/bin/make"
g++ -c -pipe -g -Wall -W -D_REENTRANT -fPIE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_QML_LIB -DQT_WIDGETS_LIB -DQT_NETWORK_LIB -DQT_GUI_LIB -DQT_CORE_LIB -I../Qt/5.3/gcc/mkspecs/linux-g++ -I../untitled1 -I../Qt/5.3/gcc/include -I../Qt/5.3/gcc/include/QtQuick -I../Qt/5.3/gcc/include/QtQml -I../Qt/5.3/gcc/include/QtWidgets -I../Qt/5.3/gcc/include/QtNetwork -I../Qt/5.3/gcc/include/QtGui -I../Qt/5.3/gcc/include/QtCore -I. -I. -o main.o ../untitled1/main.cpp
/home/tandavala/Qt/5.3/gcc/bin/rcc -name qml ../untitled1/qml.qrc -o qrc_qml.cpp
g++ -c -pipe -g -Wall -W -D_REENTRANT -fPIE -DQT_QML_DEBUG -DQT_DECLARATIVE_DEBUG -DQT_QUICK_LIB -DQT_QML_LIB -DQT_WIDGETS_LIB -DQT_NETWORK_LIB -DQT_GUI_LIB -DQT_CORE_LIB -I../Qt/5.3/gcc/mkspecs/linux-g++ -I../untitled1 -I../Qt/5.3/gcc/include -I../Qt/5.3/gcc/include/QtQuick -I../Qt/5.3/gcc/include/QtQml -I../Qt/5.3/gcc/include/QtWidgets -I../Qt/5.3/gcc/include/QtNetwork -I../Qt/5.3/gcc/include/QtGui -I../Qt/5.3/gcc/include/QtCore -I. -I. -o qrc_qml.o qrc_qml.cpp
g++ -Wl,-rpath,/home/tandavala/Qt/5.3/gcc -Wl,-rpath,/home/tandavala/Qt/5.3/gcc/lib -o untitled1 main.o qrc_qml.o   -L/home/tandavala/Qt/5.3/gcc/lib -lQt5Quick -lQt5Qml -lQt5Widgets -lQt5Network -lQt5Gui -lQt5Core -lGL -lpthread
/usr/bin/ld: cannot find -lGL
collect2: error: ld returned 1 exit status
Makefile:192: recipe for target 'untitled1' failed
make: *** [untitled1] Error 1
04:49:47: The process "/usr/bin/make" exited with code 2.
Error while building/deploying project untitled1 (kit: Desktop Qt 5.3 GCC 32bit)
When executing step "Make"
04:49:47: Elapsed time: 00:05.
42086,python,Como faço para extrair todo o conteúdo de um arquivo compactado para o diretório atual?
P.S.: O arquivo tem pastas e arquivos.
import libarchive
def unpack(file):
#?
42127,android|ios,Isto acontece no Android e IOS.
Quando o nome da loja ou o do lojista é muito grande o texto fica sobre a imagem. E o cliente quer a imagem do lado direito, e do lado esquerdo não tenho este problemas com as imagens.
O texto está alinhado por Leading e o Trimming = Character.
42183,c++,Gostaria de fazer dois .exe básicos, um seria para desconectar a Internet e abrir um programa e o outro seria para apenas conectar a Internet.
A parte de abrir o programa eu sei, agora desconectar e conectar a Internet em c++ ainda não aprendi. Eu sei que poderia fazer com .bat, mas na verdade é que eu sei fazer em .bat, mas queria saber em c++ também.
Em .bat o de desconectar e abrir ficaria assim:
@echo off
netsh interface set interface "" DISABLED
cd diretorio
programa.exe
.bat para conectar simplesmente:
@echo off
netsh interface set interface "" ENABLED
42201,ios,Estou utilizando o Google Map SDK for iOS em um projeto, mas ao usar o serviço por padrão ele cobre toda a tela. Porém preciso ter espaço para adicionar alguns botões na tela.
Como posso redimensionar a view do mapa?
No momento usando o código padrão:
GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:latitude
longitude:longitude
zoom:17];
mapView_ = [GMSMapView mapWithFrame:CGRectZero camera:camera];
mapView_.myLocationEnabled = YES;
self.view = mapView_;
// Creates a marker in the center of the map.
GMSMarker *marker = [[GMSMarker alloc] init];
marker.position = CLLocationCoordinate2DMake(latitude, longitude);
marker.title = nomeCliente;
marker.snippet = @"Detalhes";
marker.map = mapView_;
Com este código fica deste jeito:
Mas preciso que fique assim:
42202,ios,Como incorporar um vídeo do meu canal do YouTube a um app em iOS?
Segui esse guia do YouTube Developers, mas o vídeo não aparece na tela.
Meu código está assim:
FirstViewController.h
//
//  FirstViewController.h
//  GaleRio
//
//  Created by Alex on 25/11/14.
//  Copyright (c) 2014 Creapix Tecnologia Criativa. All rights reserved.
//
#import <UIKit/UIKit.h>
#import "YTPlayerView.h"
@interface FirstViewController : UIViewController
@property(nonatomic, strong) IBOutlet YTPlayerView *playerView;
@end
FirstViewController.m
//FirstViewController.m
//  GaleRio
//
//  Created by Alex on 25/11/14.
//  Copyright (c) 2014 Creapix Tecnologia Criativa. All rights reserved.
//
#import "FirstViewController.h"
@interface FirstViewController ()
@end
@implementation FirstViewController
- (void)viewDidLoad {
[super viewDidLoad];
[self.playerView loadWithVideoId:@"M7lc1UVf-VE"];
// Do any additional setup after loading the view, typically from a nib.
}
- (void)didReceiveMemoryWarning {
[super didReceiveMemoryWarning];
// Dispose of any resources that can be recreated.
}
@end
As ligações no storyboard foram feitas corretamente, acho que o problema esta no ID do vídeo no youtube.
EDIT: Tentei a solução do Lucas mais não adiantou.
Nota: código disponível na íntegra aqui.
42215,c++,Estou tentando aprender um pouco mais das bibliotecas em C/C++ para fazer mais coisas por isso fui atrás da biblioteca graphics.h e fui atrás do código mais básico que encontrei, que foi:
#include <graphics.h>
int main(){
int gdriver = DETECT, gmode, errorcode;
char *str = new char[30];
strcpy(str, "d:\\tc\\bgi");
initgraph(&gdriver,&gmode, str);
arc(200, 200, 0, 130, 50);
closegraph();
return 0;
}
O que acontece é que o programa compilou, abriu, parou de responder sem executar o que eu pedi e fechou
42236,c++,Estou compilando meu projeto C++ no CodeGear 2009 da Embarcadero, e quando começo a debugar meu programa esta mensagem aparece:
bds.exe - bordbk120N.dll
Assertion failure: "(!"SetThreadContext failed")" in ..\win32src\thread32.cpp at line 434
Continue execution?
Imagem:
Alguém poderia me ajudar a entender o porque deste erro e como solucionar?
42274,ios,Acessando o banco de dados .sqlite via sql normalmente, posso utilizar a função CAST('coluna' as decimal).
Via NSPredicate utilizando CoreData, como faço a mesma coisa? Possuo uma coluna do tipo String e preciso fazer um cast para decimal.
42280,python,Preciso decompor uma string em Python, separando letra e números, e realizar a soma desses números. Por exemplo:
string = "96h11k"
Dessa string preciso extrair os números 9, 6, 1, 1 e somá-los: 9 + 6 + 1 + 1 = 17. Na realidade, a soma acontece entre os dígitos.
42294,c++,Antes de iniciarmos algumas considerações:
O objeto deste tópico é buscar por fatos/objetos, portanto
suposições/chutes/flames não serão aceitos como respostas.
Todas as respostas devem levar em consideração um ambiente GNU/Linux com a
devida biblioteca sem necessidade de se preocupar com portabilidade para ambiente não UNIX-LIKE (Windows/Mac).
As respostas não necessitam considerar utilização da biblioteca para fim comercial.
Tenho visto bastante discussões em alguns foruns a cerca do uso das bibliotecas e fiquei com algumas duvidas quanto a certos argumentos.
Quais recursos exatamente o GTK+ tem que o QT não tem?
E o inverso, quais recursos o QT tem que o GTK+ não tem?
Percebi que ainda existe uma resistencia por parte do desenvolvedores na utilização das novas versões das bibliotecas. Tanto a QT quanto a GTK possuem versões novas. Há algum problema de compatibilidade com relação as versões anteriores que impedem o seu uso?
42336,c++,Preciso parar de enfileirar quando o usuário digitar um numero negativo (-1) e imprimir todos os valores digitados, como faço isso?
#include <iostream>
using namespace std;
// Define a Estrutura Nó
struct No {
int valor;      // Valor armazenado
No * prox;      // Ponteiro para próximo elemento da lista
};
// Define a Fila
struct Fila {
No * ini;       // Início da fila
No * fim;       // Fim da fila
};
// Insere valor da lista
int inserir(Fila &f, int valor);
// Remove elemento da lista
int remover(Fila &f, int &valor);
int main(void) {
// Declara e inicializa fila
Fila fila;
fila.ini = fila.fim = NULL;
// Variável para armazenar dado digitado
int dado;
int n;
while (n>0) {
cout << "Digite um numero inteiro: ";
cin >> dado;
inserir(fila, dado);
n--;
}
// Agora mostra o reultado...
while (remover(fila, dado) == 0) {
cout << dado << endl;
};
}
// Insere um valor na fila
int inserir(Fila &f, int valor) {
No * tmp; // Ponteiro para armazenar endereço de nó temporariamente
// Cria nó
tmp = new No;
// Configura nó...
tmp->valor = valor; // Valor do nó
tmp->prox = NULL; // Sempre insere no fim da fila
// Se lista vazia, insere primeiro elemento
if (f.ini == NULL) {
f.ini = f.fim = tmp; // O primeiro elemento é o primeiro e o último
}
// Se lista não está vazia, atualiza lista...
else {
f.fim->prox = tmp; // Pendura novo elemento no antigo fim
f.fim = tmp; // Indica que novo elemento é o novo fim
}
// Retorna que inserção ocorreu com sucesso
return 0;
}
// Remove um valor da fila
int remover(Fila &f, int &valor) {
No * tmp; // Ponteiro temporário
// Se a lista está vazia, vai embora
if (f.ini == NULL) return 1;
// Armazena valor do elemento sendo removido
valor = f.ini->valor;
// Armazena endereço de elemento a ser removido
tmp = f.ini;
// Aponta inicio da lista para segundo elemento (novo primeiro!)
f.ini = f.ini->prox;
// Remove o primeiro elemento da lista
delete tmp;
// Boa prática... se a lista ficou vazia, atualiza último ponteiro
if (f.ini == NULL) f.fim = NULL;
// Retorna novo início da lista
return 0;
}
42339,java|c++,Como imprimir os números hexadecimais digitados pelo usuário ao contrário? Por exemplo:
Entrada: 0x101c4701
Saída:   01471C10
Se possível em Java e em C++.
Na realidade eu quero pegar as informações contidas dentro de um arquivo do registro do Windows que estão assim:
"0000"=hex:0x001c2701
"0001"=hex:0x001d2701
Queria um código que pegasse somente os 0x001c2701 e invertesse para: 01271c00
o código que vocês me forneceram funciona,mas eu teria que copiar de um em um e como são muitos seria trabalhoso.
42369,ios,Estou criando um simples alarme e gostaria de saber como "pegar" ou "apontar" para uma determinada musica escolhida pelo usuário, que está em sua biblioteca do iPod app.
Como eu poderia armazenar esse apontamento?
42498,ios,Como leio um arquivo .xlsm (planilha do Excel) a partir do meu aplicativo?
Basicamente eu preciso obter os dados desta planilha. Pegar o valor de cada uma das células que esta possui.
Há alguma coisa nativa para eu poder efetuar esta leitura? Alguma biblioteca para indicação? Em caso de exemplo, pode ser em Objective-C ou Swift.
42548,ios,Tenho uma lista de itens dentro de uma TableView
Gostaria de quando clicar em um item da lista uma nova ViewController seja aberta contendo as informaçoes referentere ao item selecionado
Não estou conseguindo fazer a view abrir utilizando o metodo abaixo:
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
// Muro selecionado
NSInteger linha= indexPath.row;
Muro *c =[Muros objectAtIndex:linha];
//navega para a tela detalhes
DetalhesMuroViewController *detalhes = [[DetalhesMuroViewController alloc] init];
detalhes.muro = c;
[self.navigationController pushViewController:detalhes animated:YES];
o que eu estou fazendo de errado ?
Nesse link estao todos os arquivos do projeto GaleRio.
Tentei usar a segunda opção e ele me retorna o seguinte erro de compilação
No visible @interface for "DetalhesMuroViewController" declares the selector "setItem"
O codigo ficou mais ou menos assim
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
UIStoryboard *storyboard = [UIStoryboard storyboardWithName:@"MainStoryboard_iPhone" bundle:nil];
DetalhesMuroViewController * detailViewController = [storyboard instantiateViewControllerWithIdentifier:@"Detalhes"];
[detailViewController setItem:[Muros objectAtIndex:indexPath.row]];
[self.navigationController pushViewController:detailViewController animated:YES];
}
42648,python,Estou com uma dúvida em como gerar nomes de usuários automaticamente a partir do nome real do usuário, de forma que o resultado seja referência ao nome real.
Sabendo que o método deve ser chamado informando o nome completo da pessoa e o limite mínimo de caracteres que terá este nome de usuário, além de verificar se este nome já existe e modifica-lo para não haver conflito, como seria feito essa operação?
nomes_de_usuarios_atuais = ['ACBETR', 'ZRPACA', 'TRDPOR', 'TRDPOR1']
def gerar_nome_de_usuario(nome, min_caracteres=6):
# ...
nomes_de_usuarios_atuais.append(nome_de_usuario)
print nome_de_usuario
self.assertEqual(gerar_nome_de_usuario('Luis Inacio Lula Da Silva', 6), 'LILDSI')
self.assertEqual(gerar_nome_de_usuario('Ricardo Magalhães', 6), 'RMAGAL')
self.assertEqual(gerar_nome_de_usuario('Ana Carolina Viana', 6), 'ACVIAN')
self.assertEqual(gerar_nome_de_usuario('David Rio', 6), 'DRIO01')
self.assertEqual(gerar_nome_de_usuario('Luis Inacio Lula Da Silva', 6), 'LILDSI1')
No caso o retorno deve ser as iniciais do nome completo. Caso o nome completo tenha poucas palavras, o algoritmo deve pegar mais letras (ex: 'Luis Inacio' ficaria 'LUIINA') a ultima palavra deverá completar, e se assim ainda não resultar em no mínimo 6 caracteres, deve adicionar números ao final. Se o resultado final conflitar com nomes de usuários já cadastrados, o algoritmo deve adicionar um número ao final.
42667,html|python,Estou usando Python 3 para acessar uma API web. A resposta das requisições vêm no padrão JSON e o meu problema é que um dos Strings vem codificado com entidades em HTML (especificamente acentuação).
Por exemplo:
"orienta&ccedil;&atilde;o-a-objetos"
Existe algum parser que me devolva os strings com os caracteres HTML resolvidos?
42739,ios,Como eu coloco um ícone em um UIButton através do .storyboard?
Através do .storyboard tem as opções do UIButton entre elas tem a opção image onde consigo informar um caminho para uma imagem para o botão. Porém eu gostaria de usar os ícones default do iOS.
O iOS possui ícones default assim como no android? Ou terei de criar um .jpg ou .png para cada um dos meus ícones?
42854,ios,Como recolher o teclado quando o botão de cancelar é clicado em um UISearchBar?
Tentei alguns métodos e até os métodos do delegate, mas não funcionou.
Irei colocar uma imagem para ser mais preciso:
Preciso que quando o botão de cancelar (botão com o X) for clicado/selecionado ele recolha o teclado.
42901,python,Estou usando PyMongo para fazer uma busca:
resultado = db.find_one({'nome':'xpto'})
O resultado desta busca é um dicionário em Python, mas eu preciso convertê-lo para um JSON. Qual a melhor forma de fazê-lo?
42988,ios,O cenário é o seguinte:
Eu possuo uma UIViewController e dentro desta controladora eu possuo
uma UITableViewController adicionado como uma ContainerView.
Como eu faço para passar parâmetros entre a minha UIViewController e a minha ContainerView?
Por exemplo, eu quero passar da minha UIViewController uma lista de itens para serem apresentados na minha ContainerView (UITableViewController).
43067,python,Estou seguindo um tutorial para usar o Twisted para estabelecer conexão para um app.
Porem na hora de testar a conexão com o localhost para teste, parece que não está respondendo.
Estou usando o seguinte script no arquivo chatserver.py :
from twisted.internet.protocol import Factory, Protocol
from twisted.internet import reactor
class IphoneChat(Protocol):
def connectionMade(self):
print " um cliente conectado"
factory = Factory()
factory.protoco = IphoneChat
reactor.listenTCP(80, factory)
print "Iphone Chat server started"
reactor.run()
Então eu abro outra janela do console para testar com o seguinte comando:
telnet localhost 80
E me retorna o seguinte erro:
Trying ::1... telnet: connect to address ::1: Connection refused
Trying 127.0.0.1... telnet: connect to address 127.0.0.1: Connection
refused telnet: Unable to connect to remote host
Como consigo fazer o Twisted funcionar no Mac OSX?
43326,python,Estou a criar um jogo com Python 3.4 e Pygame, e estou usando o paradigma object-oriented. Nas minhas classes, sobretudo nos __init__, estou cheio the type checkings, para prevenir errors de runtime. Por exemplo, esta é a minha classe Board (por agora), e está cheia de exceptions handlings:
class Board:
def __init__(self, resolution, color, image_path):
if type(resolution) != tuple or len(resolution) != 2:
raise TypeError('incorrect format for resolution')
if type(color) != tuple or len(color) < 3 or len(color) > 4:
raise TypeError('incorrect format for color')
if type(image_path) != str
raise TypeError('image_path is not a str')
self.resolution = resolution
self.color = color # background color
self.image_path = image_path
self.surface = pygame.display.set_mode(self.resolution)
self.surface.fill(self.color)
#
def write(self, msg, color, pos, size=20, bold=False, italic=False):
'''This function writes some text in a surface passed as parameter.'''
if type(surface) != pygame.Surface:
raise TypeError('surface is not pygame.Surface')
if type(msg) != str:
raise TypeError('msg is not a str')
if type(color) != tuple or len(color) < 3 or len(color) > 4:
raise TypeError('incorrect format for color')
if type(pos) != tuple or len(pos) != 2:
raise TypeError('incorrect format for pos')
if type(size) != int or size < 0:
raise TypeError('incorrect format for size')
if type(bold) != bool:
raise TypeError('bold is not a boolean')
if type(italic) != bool:
raise TypeError('italic is not a boolean')
font = pygame.font.SysFont(None, size, bold, italic)
text = font.render(msg, True, color)
self.surface.blit(text, text.get_rect())
Gostaria de saber se fazer os types checkings é uma pratica comum em Python, e se, no meu caso, estou abusando deles (type checkings).
43395,ios,Eu preciso baixar uma imagem, a mesma é exibida, porém depois de exibi-la preciso excluir ela do dispositivo. Mas sempre quando eu abro o aplicativo novamente ela ja está carregada.
func getPhoto(pathPhoto: String, imageview: UIImageView) {
activityIndicator = UIActivityIndicatorView(frame: CGRectMake(20, 20, imageview.frame.size.width - 40, imageview.frame.size.height - 40))
activityIndicator.color = UIColor(red: 64.0/255.0, green: 109.0/255.0, blue: 157.0/255.0, alpha: 1.0)
activityIndicator.startAnimating()
imageview.addSubview(activityIndicator)
var photoUrlString = urlImages
photoUrlString += pathPhoto
var imgURL: NSURL = NSURL(string: photoUrlString)!
let request: NSURLRequest = NSURLRequest(URL: imgURL)
NSURLConnection.sendAsynchronousRequest(request, queue: NSOperationQueue.mainQueue(), completionHandler: {(response: NSURLResponse!,data: NSData!,error: NSError!) -> Void in
if error == nil {
if data == nil {
NSLog("Erro ao baixar")
} else {
self.image = UIImage(data: data)
dispatch_async(dispatch_get_main_queue(), {
self.activityIndicator.stopAnimating()
self.activityIndicator.removeFromSuperview()
imageview.image = self.image
})
}
}
})
}
43724,python,Estou usando o banco de dados PostgreSQL e Python para consulta-lo, tenho a seguinte modelagem:
Estou tentando fazer uma consulta que me retorne todos os OrderItems de uma Order em um array, para isso fiz o seguinte código:
select ARRAY(
SELECT '(' || translate(string_to_array(x.*::"text", ',')::text, '{()}', '') || ')'
from "OrderItem" x
)::"OrderItem"[] AS "_AAA";
O que me retorna o seguinte resultado:
"{"(16,1,ProductName1,M,45.00,1,6)","(17,6,ProductName2,M,45.00,1,6)"}"
No Python estou usando psycopg2 para conversar com o banco, e sendo assim ele me retorna uma string, assim como no resultado acima, não conseguindo iterar por ela para pegar as tuplas com os valores.
Alguém tem idéia de como posso fazer essa query para retornar um array de OrderItem ?
44137,ios,Como faço para definir somente uma UIViewController estar habilitada em rotação?
O cenário é o seguinte:
Eu possuo 5 telas, e em todas elas eu devo habilitar somente o modo
retrato. Porém eu possuo uma sexta tela, e esta deve estar habilitado
os modos em paisagem.
Obs: Atualmente as configurações do meu projeto está para aceitar somente o modo portrait.
44316,ios,Estou desenvolvendo uma aplicação para iOS 8 e requisito a permissão para CLLocationManager, porém se o usuário não aceitar a permissão e tentar alterar nas configurações de privacidade, as configurações fecham no momento da seleção (semelhante a um Crash) e ao retornar no painel de configurações, o mesmo ainda está selecionado a opção "Nunca".
Problema: Por mais que o usuário tente alterar esta permissão ele nunca irá conseguir. Isso acontece com o aplicativo em background ou totalmente inativo.
44544,ios,Galera, estou tentando criar um botão que ao ser pressionado habilita um text field que devera pegar o input do usuário e trocar o label do botão para o input, porém quanto eu tentei reproduzir apenas consegui o seguinte resultado: Video do Resultado
O meu ViewController:
import UIKit
class ViewController: UIViewController, UITextFieldDelegate {
@IBOutlet weak var textFieldInput: UITextField!
@IBOutlet weak var iphoneSaveCharName: UIButton!
@IBOutlet weak var charOne: UIButton!
@IBOutlet weak var charTwo: UIButton!
@IBOutlet weak var charThree: UIButton!
@IBOutlet weak var charFour: UIButton!
override func viewDidLoad() {
super.viewDidLoad()
// Do any additional setup after loading the view, typically from a nib.
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
var savedText: String!
//    func textFieldShouldReturn(textFieldInput: UITextField) -> Bool {
//        savedText = textFieldInput.text
//        textFieldInput.resignFirstResponder()
//        return false
//    }
func textFieldEditCompleted(textFieldInput: UITextField) -> Bool
{
savedText = textFieldInput.text
textFieldInput.resignFirstResponder()
return false
}
func textFieldShouldReturn(textFieldInput: UITextField) -> Bool
{
return textFieldEditCompleted(textFieldInput);
}
@IBAction func editText(sender: AnyObject) {
if sender is UILongPressGestureRecognizer &&
sender.state == UIGestureRecognizerState.Began {
textFieldInput.hidden = false
let button = sender.view as UIButton
if button.tag == 1 {
charOne.setTitle(savedText, forState: .Normal)
} else if button.tag == 2{
charTwo.setTitle(savedText, forState: .Normal)
} else if button.tag == 3{
charThree.setTitle(savedText, forState: .Normal)
} else if button.tag == 4{
charFour.setTitle(savedText, forState: .Normal)
}
}
}
}
44715,python,Eu tenho esta soma:
total = 0.1 + 0.2
print total #retorna 0.30000000000000004
Como eu faria para "arredondar" as casas decimais e retornar apenas o número de casas somadas? Exemplo:
totalA = 0.1 + 0.2     #retornaria 0.3
totalB = 0.32 + 0.25   #retornaria 0.57
totalC = 0.358 + 0.1   #retornaria 0.458
#...
44753,ios,Como criar UISegmentedControl customizadas? Meu objetivo é criar uma UISegmentedControl , assim como na imagem abaixo:
44806,ios,Gostaria de saber se tem alguma maneira de "limpar" meu context utilizando o Core Data.
Pois tenho um problema em que quando atualizo o aplicativo, o mesmo após salvar os registros no banco de dados, também mantém no context. Sendo assim toda vez que vou mostrar na tela estes registros o mesmo mostra duplicado, pois ele pega do banco e o temporário que está no context.
Obs.: Já verifiquei e não tem registro duplicado no banco de dados.
44814,python,Eu estou aprendendo e tentando resolver um caso de um POST request em que é feito um envio de um body bem largo para ser processado pela API e o retorno é um job ID para acessar o resultado.
Acontece que o tempo que a API leva para processar pode variar consoante o tamanho do body e tenho de verificar o status do job com outra GET request usando o job ID para saber do seu status. Se o status for complete então eu posso fazer o download do resultado ficheiro.zip via por exemplo URLlib.retrieve() ou algo parecido.
Qual seria a melhor forma de monitorar os vários POST requests enviados para saber se o seu estado está completo e se sim fazer o download.
Procuro padrão, boa prática ou até mesmo algum modulo para importar que ajude.
45660,python,Leiam apenas comentários em português, a questão do self está em comentários no código, agora os eventos vai estar lá em baixo.
class LOL:
class Champions:
class MasterYi:
def __init__(self):
#YiAttributes
self.YiAD = 66
self.YiLevel = 1
self.YiQ = 25 + self.YiAD
def Name(self):
return 'MasterYi'
class Q:
def Use(self, target):
print( "[MasterYi] Q In %s" % ( target ) )
def Damage(self):
return self.YiQ #Como Eu Conseguiria Pegar O self.YiQ Da Classe MasterYi ?
class Zed:
def __init__(self):
#ZedAttributes
self.ZedAD = 84
self.ZedLevel = 1
self.ZedQ = 75 + self.ZedAD
def Name(self):
return 'Zed'
class Q:
def Use(self, target):
print( "[Zed] Q In %s" % ( target ) )
def Damage(self):
return self.ZedQ #Mesmo Caso Do self.YiQ
class Match:
def Start(self, Tuple):
print( "------ Starting Match ------\n" )
if (len(Tuple) == 1):
print( "Champions: %s" % ( Tuple[0].Name() ) )
elif (len(Tuple) == 2):
print( "Champions: %s, %s" % ( Tuple[0].Name(), Tuple[1].Name() ) )
def Finish(self):
print( "\n------ Finishing Match ------" )
#Creating Objects
Match = LOL.Match()
MasterYi = LOL.Champions.MasterYi()
Zed = LOL.Champions.Zed()
#Starting
Match.Start( ( MasterYi, Zed ) )
MasterYi.Q().Use( Zed.Name() )
print( "YiQ Damage: %g" % ( MasterYi.Q().Damage() ) )
#Finishing
Match.Finish()
Eu precisaria de um evento dentro da classe MasterYi que fizesse com que toda vez que a variável self.YiLevel fosse incrementada em 1, variáveis como self.YiAD e outras que não botei aqui no código, fossem aumentadas em valores específicos.
Deixei a parte da criação dos objetos no código porque ai vocês já podem pegar e testar o código.
E também como é eu que faço a incrementação de self.YiLevel no código, eu poderia junto já fazer a incrementação nas outras variáveis junto, só que no futuro, neste código, eu vou precisar saber fazer eventos personalizados querendo ou não, então já prefiro fazer uma pergunta com um exemplo mais simples.
Outro detalhe essas duas classes 'MasterYi' e 'Zed' são parecidas, mas vão existir mais outras dezenas de classes e garanto que a maioria vai ser diferente, nessas duas o calculo de self.Q funciona quase do mesmo jeito, só que em outras classes vai ser por exemplo self.Q = 30 + self.AP outras iram fazer cálculos de porcentagem tipo self.Q = self.AP * 30 / 100 + self.AD * 10 / 100.
Então nem sempre vai ser (algum número + o AD), ainda tem a questão de que n é só Q e sim (Q, W, E, R)
45741,ios,Tenho uma string já formatada, gostaria transforma-la em float e depois em um número formatado para moeda.
entrada      saída
1.234,10     1234.1 ou 1234.1
entrada      saída
1.234.10     1.234,10
45949,ios,Tenho 1 problema
Código simples:
let url = "http://apple.com"
override func viewDidLoad() {
super.viewDidLoad()
let requestURL = NSURL(string:url)
let request = NSURLRequest(URL: requestURL!)
webView.loadRequest(request)
}
essa webview não esta carregando o site responsivo, carrega normal com um zoom horrivel,  alguem sabe o porque?
46012,python,Como simular a elevação dum numero a uma potência usando a recursão (e Python)?`
46024,ios,Tenho uma webview bem simples, e antes de carregar a webview quero checar a conexao, caso esteja indisponivel crie uma mensagem para o usuario informando.
46166,ios,Coloquei todos os dados no iTunes Connect mas há um erro na parte de capturas de tela. Já coloquei uma imagem para 3,5", 4", 4,7", 5,5" e iPad com os tamanhos informados no site. No entanto sempre aparece o erro:
Carregue ao menos uma captura de tela
Alguém pode me ajudar?
46413,python,Como tratar o pipelines.py quando temos diferentes spiders?
Exemplo: Tenho uma Spider que trabalha obtendo posts de um determinado blog e outra salvando imagens de banners em jpeg encontrados em cada página. As duas spiders funcionam, mas utilizo o mesmo pipeline para persistir os objetos.
46415,python,Uma das configurações que vem padrão no Scrapyd é o número de processos concorrentes (é 16).
CONCURRENT_REQUESTS = 16
Qual seria a melhor metodologia para calcular um valor ótimo para esta variável?
O objetivo é obter o melhor desempenho em relação à uso de processamentos e memória versus número de páginas crawleadas.
46416,python,Existe alguma maneira de o Scrapyd criar filas de spiders de forma que quando eu envie muitas spiders (com funções diferentes) eu possa privilegiar/limitar a concorrência entre elas? Hoje, todas as Spiders que eu envio executam de acordo com a ordem estipulada pelo servidor Scrapyd.
46417,python,Digamos que eu tenha a seguinte configuração no scrapy.cfg no Scrapyd.
[deploy]
url = http://example.com/api/scrapyd/
username = user
password = secret
project = projectX
Na documentação do Scrapyd ele cita as opções username e password, mas aparentemente eu continuo mandando as spiders rodarem mesmo sem autenticação.
A pergunta que fica é, como proteger meu servidor Scrapyd de chamadas indesejadas/não autenticadas?
46518,ios,Estou elaborando um app, e li em vários sites e artigos sobre como armazenar imagem no Core Data ou no diretório do app.
Porém fiquei em dúvida qual seria o melhor modo.
Gostaria de saber, qual seria a melhor design para este caso.
Para entender melhor o que planejo, o app irá receber a descrição de um produto e uma imagem para representar este produto. Como o app irá ter vários produtos minha preocupação é tentar manter tudo o máximo possível organizado.
46590,python,Estou desenvolvendo um módulo para obter informações sobre as spiders que rodam no sistema da empresa. Segue abaixo o modelo onde guardamos o início das operações e o job. Gostaria de validar se os jobs foram realizados da maneira correta e preencher o resto dos campos.
models.py
# -*- coding: utf-8 -*-
from django.db import models
class CrawlerJob(models.Model):
job_id = models.CharField(verbose_name=u'ID da Tarefa', editable=False,
max_length=255, blank=True, null=True,)
job_started_dt = models.DateTimeField(
verbose_name=u'data de início da tarefa', blank=True, null=True,
editable=False)
job_has_errors = models.BooleanField(
verbose_name=u'erros?', blank=True, default=False)
job_finished_dt = models.DateTimeField(
verbose_name=u'data de fim da tarefa', blank=True, null=True,
editable=False)
tasks.py
# -*- coding: utf-8 -*-
from app.models import CrawlerJob
from celery.decorators import periodic_task
from celery.task.schedules import crontab
from django.utils import timezone
from scrapyd_api import ScrapydAPI
import celery
import datetime
scrapy_url = 'http://localhost:6800'
scrapyd = ScrapydAPI(scrapy_url)
@periodic_task(run_every=(crontab(hour="6-19")))
def funcao_assincrona():
crj = CrawlerJob()
job_id = scrapyd.schedule('projeto_X', 'rodar_spider')
crj.job_id = job_id
crj.job_started_dt = timezone.now()
crj.save()
Uma ideia para isso era ter acesso aos logs do sistema e checar pelo json gerado como o que segue abaixo.
2015-01-09 12:40:18-0300 [spider] INFO: Closing spider (finished)
2015-01-09 12:40:18-0300 [spider] INFO: Stored jsonlines feed (11 items) in: scrapyd_build/items/projeto_X/spider/5a3bc7ca980e11e4b396600308991ea6.jl
2015-01-09 12:40:18-0300 [spider] INFO: Dumping Scrapy stats:
{'downloader/request_bytes': 2448,
'downloader/request_count': 5,
'downloader/request_method_count/GET': 3,
'downloader/request_method_count/POST': 2,
'downloader/response_bytes': 28218,
'downloader/response_count': 5,
'downloader/response_status_count/200': 5,
'finish_reason': 'finished',
'finish_time': datetime.datetime(2015, 1, 9, 15, 40, 18, 93445),
'item_scraped_count': 11,
'log_count/DEBUG': 19,
'log_count/INFO': 8,
'request_depth_max': 4,
'response_received_count': 5,
'scheduler/dequeued': 5,
'scheduler/dequeued/memory': 5,
'scheduler/enqueued': 5,
'scheduler/enqueued/memory': 5,
'start_time': datetime.datetime(2015, 1, 9, 15, 40, 13, 90020)}
2015-01-09 12:40:18-0300 [spider] INFO: Spider closed (finished)
Existe alguma maneira mais prática de obter essas informações? E no caso de ocorrer erros obter as mensagens geradas por possíveis erros ou exceções?
46638,ios,Tenho um projeto utilizando ARC mas gostaria de adicionar arquivos que não estão usando ARC. É possível fazer isso?
46710,python,No Python, temos o método reversedentro do List. Ele reverte a ordem de uma list.
Exemplo:
[1, 2, 3].reverse() // [3, 2, 1]
Porém esse método não está presente numa string.
exemplo (Python):
myString = "The String"
myString.reverse() // AttributeError: 'str' object has no attribute 'reverse'
1 - Como eu faria para reverter essa string acima no Python?
Outra questão é que, no javascript, por exemplo, temos o Prototype, onde é possível adicionar um método a uma classe nativa da linguagem.
Exemplo (Javascript):
String.prototype.hello = function() {
return this.toString() +  " hello!";
}
"teste".hello() // "teste hello!"
2 - Tem uma maneira de criar um método diretamente na classe String do Python?
46743,python,Galera, estou com um problema.
Não acho que o stack seja o melhor lugar para perguntar mas não sei exatamente aonde perguntar isso.
Como todos sabem, o OpenId 2.0 não terá mais suporte da google o que nos obriga a alterar nossas aplicações para OpenId Connect(Oauth2.0).
Depois de algumas pesquisas, encontrei dois frameworks de Oauth2.0:
https://github.com/google/oauth2client
https://github.com/rohe/pyoidc
O problema é que nenhum dos dois frameworks possuem uma documentação clara sobre como serem utilizados e, antes de me aprofundar sobre algum deles para buscar a solução, resolvi perguntar aqui se alguém já utilizou algum deles ou se conhece algum outro.
Acredito que esta pergunta possa ajudar muitos aqui na comunidade, mas vou entender se optarem por fechar essa pergunta.
Obrigado
46818,python,Eu tenho isso em minha tela de login: SESSION_COOKIE_AGE = 1200 # 20 minutos e gostaria de mostrar o tempo restante em meu template.
Alguém conhece um bom middleware ou pacote para Django que adicione um contador do tempo que falta para acabar a sessão de login. Não achei nada integrado com o Django, apenas soluções em JavaScript.
46890,python,Estou a desenvolver um jogo em python "Quem quer ser milionário" e queria meter no jogo o modo "contra-relógio" a aparecer o tempo enquanto respondemos à pergunta e quando o tempo acabar e a pergunta nao tiver sido respondida o programa termina "game over"
46902,ios,Em todos os dispositivos está OK, aparece a requisição de permissão para o uso da localização (independente iOS 7 ou iOS 8). Apenas no iPhone 5 não aparece.
Código de requisição de permissão:
var versionString = UIDevice.currentDevice().systemVersion.stringByReplacingOccurrencesOfString(".", withString: "", options: NSStringCompareOptions.CaseInsensitiveSearch, range: nil) as NSString
if versionString.floatValue >= 800 {
if CLLocationManager.authorizationStatus() != CLAuthorizationStatus.Authorized && CLLocationManager.authorizationStatus() != CLAuthorizationStatus.AuthorizedWhenInUse {
if CLLocationManager.authorizationStatus() == CLAuthorizationStatus.Denied {
NSLog("Not Accepted")
} else {
locationManager.requestAlwaysAuthorization()
}
}
} else {
if CLLocationManager.authorizationStatus() == CLAuthorizationStatus.Denied {
NSLog("Not Accepted")
} else {
locationManager.startUpdatingLocation()
locationManager.stopUpdatingLocation()
}
}
Declarei a chave NSLocationAlwaysUsageDescription "Precisamos de sua localização"
46914,ios,Ao exibir imagem incluída no projeto no formato .png utilizando UIImageView para somente exibir a tela do simulador fica em branco.
Código utilizado:
UIImage* imagemLocal = [UIImage imageNamed:@"button.png"];
_imagemViewLocal = [UIImageView alloc]initWithImage:imagemLocal];
Ou:
UIImage* imagemLocal = [UIImage imageNamed:@"button.png"];
_imagemViewLocal = [[UIImageView alloc]init];
[_imagemViewLocal setImage: imagemLocal];
O resultado é o mesmo ImageViewLocal fica em branco.
OBS: Adicionei uma UIImageView pelo Sotryboard e liguei-a com _imageViewLocal.
Acabei realizando o seguinte teste:
- Removi o UIImageView criado no Storyboard e fiz tudo diretamente no código. E exibiu a imagem com o seguinte código:
UIImageView* imageViewLocal = [[UIImageView alloc]init];
imagemLocal = [UIImage imageNamed:@"button.png"];
imageViewLocal = [[UIImageView alloc]initWithImage:imagemLocal];
[self.view addSubview: imageViewLocal];
Como resolver o problema relatado?
46971,python,Olá,
Estou com um problema na utilização do Google App Engine e gostaria de saber se alguém pode me ajudar.
Na minha máquina tenho instalado:
Windows XP
Python 2.7.6
Google App Engine 1.9.17 (é o mais novo)
Fiz uma aplicação exemplo e não estou conseguindo fazer com que ela execute localmente na minha máquina. Pesquisando no Google identifiquei que o problema é o Proxy da empresa. Veja o mesmo problema no artigo https://www.marshut.net/iwuhqp/dev-appserver-py-cannot-connect-to-some-http-endpoint.html
Consigo chamar o dev_appserver.py [aplicação], mas quando acesso http://localhost:8080 o erro é apresentado. Consigo realizar o Deploy (push) para o a nuvem sem erro.
Na minha casa tenho a mesma versão do Python e Google App Engine, somente o Windows que é o Vista. Consigo realizar os meus testes sem erros, tanto ambiente de desenvolvimento quanto o deploy.
Não consigo desabilitar o Proxy na empresa, pois questões da política de segurança.
O que posso fazer para ter o ambiente de desenvolvimento funcional na minha estação de trabalho? Existe algum workaround?
Abraço e obrigado pela ajuda!
47079,ios,Baixei um projeto pronto de rss Reader, ele vem titulo descrição e imagem.
Porem estou tentando editar o mesmo para o meu xml.
vejam os códigos:
//
//  FeedTableViewController.swift
//  RSSReader
//
//  Created by Training on 23/12/14.
//  Copyright (c) 2014 Training. All rights reserved.
//
import UIKit
class FeedTableViewController: UITableViewController, MWFeedParserDelegate, SideBarDelegate {
var feedItems = [MWFeedItem]()
var sidebar = SideBar()
var savedFeeds = [Feed]()
var feedNames = [String]()
func request(urlString:String?){
if urlString == nil{
let url = NSURL(string: "http://feeds.nytimes.com/nyt/rss/Technology")
let feedParser = MWFeedParser(feedURL: url)
feedParser.delegate = self
feedParser.parse()
}else{
let url = NSURL(string: urlString!)
let feedParser = MWFeedParser(feedURL: url)
feedParser.delegate = self
feedParser.parse()
}
}
func loadSavedFeeds (){
savedFeeds = [Feed]()
feedNames = [String]()
feedNames.append("Add Feed")
let moc = SwiftCoreDataHelper.managedObjectContext()
let results = SwiftCoreDataHelper.fetchEntities(NSStringFromClass(Feed), withPredicate: nil, managedObjectContext: moc)
if results.count > 0 {
for feed in results{
let f = feed as Feed
savedFeeds.append(f)
feedNames.append(f.name)
}
}
sidebar = SideBar(sourceView: self.navigationController!.view, menuItems: feedNames)
sidebar.delegate = self
}
// MARK: - FEED PARSER DELEGATE
func feedParserDidStart(parser: MWFeedParser!) {
feedItems = [MWFeedItem]()
}
func feedParserDidFinish(parser: MWFeedParser!) {
self.tableView.reloadData()
}
func feedParser(parser: MWFeedParser!, didParseFeedInfo info: MWFeedInfo!) {
println(info)
self.title = info.title
}
func feedParser(parser: MWFeedParser!, didParseFeedItem item: MWFeedItem!) {
feedItems.append(item)
}
// MARK: - SIDEBAR DELEGATE
func sideBarDidSelectMenuButtonAtIndex(index: Int) {
if index == 0{ // ADD FEED BUTTON
let alert = UIAlertController(title: "Add new feed", message: "Enter feed name and URL", preferredStyle: UIAlertControllerStyle.Alert)
alert.addTextFieldWithConfigurationHandler({ (textField:UITextField!) -> Void in
textField.placeholder = "Feed name"
})
alert.addTextFieldWithConfigurationHandler({ (textField:UITextField!) -> Void in
textField.placeholder = "Feed URL"
})
alert.addAction(UIAlertAction(title: "Cancel", style: UIAlertActionStyle.Cancel, handler: nil))
alert.addAction(UIAlertAction(title: "Save", style: UIAlertActionStyle.Default, handler: { (alertAction:UIAlertAction!) -> Void in
let textFields = alert.textFields
let feedNameTextField = textFields?.first as UITextField
let feedURLTextField = textFields?.last as UITextField
if feedNameTextField.text != "" && feedURLTextField.text != "" {
let moc = SwiftCoreDataHelper.managedObjectContext()
let feed = SwiftCoreDataHelper.insertManagedObject(NSStringFromClass(Feed), managedObjectConect: moc) as Feed
feed.name = feedNameTextField.text
feed.url = feedURLTextField.text
SwiftCoreDataHelper.saveManagedObjectContext(moc)
self.loadSavedFeeds()
}
}))
self.presentViewController(alert, animated: true, completion: nil)
}else{
let moc = SwiftCoreDataHelper.managedObjectContext()
let selectedFeed = moc.existingObjectWithID(savedFeeds[index - 1].objectID, error: nil) as Feed
request(selectedFeed.url)
}
}
override func viewDidLoad() {
super.viewDidLoad()
loadSavedFeeds()
}
override func viewWillAppear(animated: Bool) {
super.viewWillAppear(animated)
request(nil)
}
override func didReceiveMemoryWarning() {
super.didReceiveMemoryWarning()
// Dispose of any resources that can be recreated.
}
// MARK: - Table view data source
override func tableView(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath) -> CGFloat {
return 100
}
override func numberOfSectionsInTableView(tableView: UITableView) -> Int {
// Return the number of sections.
return 1
}
override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
// Return the number of rows in the section.
return feedItems.count
}
override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell {
let cell = tableView.dequeueReusableCellWithIdentifier("Cell", forIndexPath: indexPath) as FeedTableViewCell
cell.itemImageView.image = UIImage(named: "placeholder")
let item = feedItems[indexPath.row] as MWFeedItem?
cell.itemAuthorLabel.text = item?.author
cell.itemTitleLabel.text = item?.title
if item?.content != nil {
let htmlContent = item!.content as NSString
var imageSource = ""
let rangeOfString = NSMakeRange(0, htmlContent.length)
let regex = NSRegularExpression(pattern: "(<img.*?src=\")(.*?)(\".*?>)", options: nil, error: nil)
if htmlContent.length > 0 {
let match = regex?.firstMatchInString(htmlContent, options: nil, range: rangeOfString)
if match != nil {
let imageURL = htmlContent.substringWithRange(match!.rangeAtIndex(2)) as NSString
println(imageURL)
if NSString(string: imageURL.lowercaseString).rangeOfString("feedburner").location == NSNotFound {
imageSource = imageURL
}
}
}
if imageSource != "" {
cell.itemImageView.setImageWithURL(NSURL(string: imageSource), placeholderImage: UIImage(named: "placeholder"))
}else{
cell.itemImageView.image = UIImage(named: "placeholder")
}
}
return cell
}
override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {
let item = feedItems[indexPath.row] as MWFeedItem
let webBrowser = KINWebBrowserViewController()
let url = NSURL(string: item.link)
webBrowser.loadURL(url)
self.navigationController?.pushViewController(webBrowser, animated: true)
}
}
FeedTableViewCell.swift
//
//  FeedTableViewCell.swift
//  RSSReader
//
//  Created by Training on 25/12/14.
//  Copyright (c) 2014 Training. All rights reserved.
//
import UIKit
class FeedTableViewCell: UITableViewCell {
@IBOutlet weak var itemTitleLabel: UILabel!
@IBOutlet weak var itemAuthorLabel: UILabel!
@IBOutlet weak var itemImageView: UIImageView!
override func awakeFromNib() {
super.awakeFromNib()
// Initialization code
}
override func setSelected(selected: Bool, animated: Bool) {
super.setSelected(selected, animated: animated)
// Configure the view for the selected state
}
}
Feed.h
#import <Foundation/Foundation.h>
#import <CoreData/CoreData.h>
@interface Feed : NSManagedObject
@property (nonatomic, retain) NSString * name;
@property (nonatomic, retain) NSString * url;
@end
Eu quero apenas colocar meu xml: http://multpesquisa.com.br/busca/a
Como ficaria?
47238,ios,Estou fazendo um projeto em Swift e gostaria de usar alguns arquivos em Objective-C. É possível fazer isso?
No caso eu instalei usando o Cocoa Pods, não sei se isso influencia em algo.
47275,ios,Estou tentando usar uma das duas bibliotecas STTwitter ou Swifter no meu projeto mas sempre da erro.
No caso da STTwitter o erro é na chamada do metodo getUserTimelineWithScreenName:(NSString *)screenName successBlock:(void(^)(NSArray *statuses))successBlock errorBlock:(void(^)(NSError *error))errorBlock;
O que acontece é que o Xcode fica reclamando "Missing argument for parameter 'sinceID' in call" só que não tem esse parâmetro no método..
Segue o codigo:
twitter.verifyCredentialsWithSuccessBlock({ (username: String!) -> Void in
twitter.getUserTimelineWithScreenName(
screenName: "gregoryfm",
successBlock: { (status: Array!) -> Void in
println("deu certo")
},
errorBlock: { (error: NSError!) -> Void in
println("verifyCredentialsWithSuccessBlock error:  \(error.description)")
})
},
errorBlock: { (error: NSError!) -> Void in
println("verifyCredentialsWithSuccessBlock error:  \(error.description)")
})
E ao testar a Swifter quando importo ela no projeto dá erro de compilação na classe String+Swifter.
Estou usando o Xcode 6.1.1 com o iOS SDK 8.1
Estou fazendo algo de errado?
47679,ios,Cenário:
Possuo um app, que tem um link para uma determinada página no facebook.
Quando o usuário clica no link, ele deve ser dirigido a página e carrega-la com o Safari.
Porém caso o usuário possua o App Facebook instalado no iPhone, o iOS direciona o link para o App e o App do Facebook não mostra a página.
Alguém saberia como faço para determinar que um link deve obrigatoriamente ser aberto no Safari, e não pelo App do Facebook?
Código usado: Objective-C.
47749,python,Estou fazendo um projeto aqui e preciso abrir outra janela do terminal, que execute o comando ls.
Já tentei com subprocess mas deu erro:
Traceback (most recent call last):
File "tests.py", line 8, in <module>
subprocess.Popen(cmd, stdout=subprocess.PIPE)
File "/usr/lib/python2.7/subprocess.py", line 679, in __init__
errread, errwrite)
File "/usr/lib/python2.7/subprocess.py", line 1249, in _execute_child
raise child_exception
OSError: [Errno 2] No such file or directory
Meu terminal é o bash.
Como posso fazer isso ?
48163,ios,Criei uma classe para baixar dados de um web service.
E faço os seguintes passos para teste:
Instancio a classe de download em viewDidLoad de ViewController e depois executo o método, como no código abaixo:
- (void)viewDidLoad {
[super viewDidLoad];
GDRequestURL* getData = [[GDRequestURL alloc]init];
[getData getDataFromURL];
// Aqui instancio um objeto para receber o retorno.
NSMutableArray* restultado = [[NSMutableArray alloc]init];
//NEste ponto faço a execução para receber o retorno dos dados.
restultado = [getData retornaResultado];
}
Porém o retorno é nil.
48355,python,Como capturar uma ou mais frases de um site com Python e/ou expressões regulares?
Quero tudo que comece com
<p>&#8220; e acabe com &#8221;</p>
Exemplo:
<p>&#8220;frasefrasefrasefrasefrasefrasefrasefrase.&#8221;</p>
Como proceder?
48439,ios,Estou implementando um projeto, que possui um Web Service. Neste Web Service são salvos dados de produtos, contendo os campos: Nome, Valor, Descrição e a Imagem do produto.
Fiz alguns testes baixando somente os dados no formato String, que devido a natureza dos dados, permite um download rápido.
A idéia do projeto, é que esses dados baixados sejam salvos no Core Data, onde já estou realizando com sucesso somente com os dados no formato String.
Porém, o download de imagens, somente retorna a URL de onde está armazenada a imagem, tendo que ser feito um request independente.
Para as imagens, irei salva-las em no diretório do app, e salvar o endereço da em disco (path file) no Core Data, e não a URL e nem o arquivo de imagem no formato Blob.
Porém tentei incluir o request da imagem dentro do looping que salva os arquivos no Core Data, porém devido a diferentes velocidades do download, estou tendo problemas ao realizar o download das imagens.
Para tentar solucionar este problema dividi o request em duas partes, um request para dados em formato String e outro para as imagens, criei duas classes para tratar os isso de maneira independente.
Para integrar as classes, inseri a requisição da imagem dentro do looping que faz requisição dos dados String. Porém devido ao tempo de download entre as duas, o looping que é um FOR dispara e finaliza antes do download da primeira imagem, o que gera um erro de lógica adicionando os endereços de discos das imagens de maneira errada.
Alguém tem alguma sugestão para este problema?
Gostaria de saber como faço para partilhar os arquivos das classes, para que possa ser avaliado. Pois aqui ficaria muito grande.
Classe: GDRequestURL
Utilidade: Baixar os dados formato String e retornar um Array contendo o dicionário dos dados baixados.
GDRequestURL.h
#import <Foundation/Foundation.h>
#import "URLGloblal.h"
#import "GDResquestURLImage.h"
@interface GDRequestURL : NSObject<NSURLConnectionDelegate>{
NSMutableData *responseData;
NSMutableDictionary *result;
NSMutableArray*cleanArray;
NSString* isPizza;
NSString* isMassa;
NSString* isRodizio;
NSString* isBebidas;
NSString* isEventos;
// Download de imagem
//GDResquestURLImage* imageRequest;
}
@property (nonatomic, strong) NSString* url;
@property (nonatomic, strong) NSString* requestToken;
@property (nonatomic, strong) NSString* httpHeader;
-(void)getDataFromURL;
-(NSMutableArray*)retornaResultado;
@end
GDRequestURL.m
#import "GDRequestURL.h"
@implementation GDRequestURL
- (id)init {
if (self = [super init]) {
isEventos = urlEventos;
isPizza   = urlPizzas;
isMassa   = urlMassas;
isBebidas = urlBebidas;
isRodizio = urlBebidas;
_requestToken = urlGlobalToken;
_httpHeader = urlGlobalHttpHeader;
// Passo 1 Download image
GDResquestURLImage*imageRequest = [[GDResquestURLImage alloc] init];
[imageRequest getImageFromURL];
}
return self;
}
-(void)getDataFromURL{
// Aqui é executado todo os métodos desta classe e retorna o resultado da consulta em forma de NSMutableDictionary.
// Here runs all the methods of this class and returns the query result in the form of NSMutableDictionary.
[self requestURLApi:_url requestValue:_requestToken httpHeaderField:_httpHeader];
NSLog(@"getDataFromURL");
}
-(void)requestURLApi:(NSString *)requestURLString requestValue:(NSString*)value httpHeaderField:(NSString*)headFiedl{
NSLog(@"requestURLApi");
NSMutableURLRequest *req = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:requestURLString]];
[req setValue:value forHTTPHeaderField:headFiedl];
NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:req delegate:self];
[conn start];
}
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
NSLog(@"Connection pega data");
responseData = [[NSMutableData alloc] init];
NSError* error;
[responseData appendData:data];
result = [NSJSONSerialization JSONObjectWithData:responseData
options:NSJSONReadingMutableContainers error:&error];
}
- (void)connectionDidFinishLoading:(NSURLConnection *)connection {
NSLog(@"Connection did finish loading");
// Aqui deve ser implementada a logica para descompactação dos dados de seu JSON.
// Mantenha a lógica apenas acrecentando campos (chaves) conforme o seu JSON gerado na Goldark
// Here the logic should be implemented for unpacking the data from your JSON.
// Keep logic just prepending the name and fields (keys) as your JSON generated in Goldark
// Este modelo é somente para exemplo.
// This model is only for example.
#pragma mark - Se Pizzas
if([isPizza isEqual:_url]){
// Recebe o array Data
NSMutableArray* arrayDataReceived =  [result objectForKey:@"data"];
cleanArray = [[NSMutableArray alloc]init];
for ( NSMutableDictionary* valuesDict in arrayDataReceived) {
NSMutableDictionary* cleanDict = [[NSMutableDictionary alloc]init];
[cleanDict setObject: [valuesDict objectForKey:@"nome"] forKey:@"nome"];
[cleanDict setObject: [valuesDict objectForKey:@"valorquarto"]forKey:@"valorquarto"];
[cleanDict setObject: [valuesDict objectForKey:@"valormedio"]forKey:@"valormedio"];
[cleanDict setObject: [valuesDict objectForKey:@"valorgrande"]forKey:@"valorgrande"];
[cleanDict setObject: [valuesDict objectForKey:@"descricao"]forKey:@"descricao"];
// Pega URL da imagem baixa e salva em disco e retorna o path em disco para o Core Data.
// GDResquestURLImage*imageRequest = [[GDResquestURLImage alloc] init];
//  imageRequest.urlImage = [valuesDict objectForKey:@"imagem"];
// [imageRequest getImageFromURL];
// [cleanDict setObject:  [imageRequest  retornaImagem] forKey:@"imagem"];
// Armazena os dicionarios em um Array
[cleanArray addObject:cleanDict];
}
//  NSLog(@"%@",cleanArray);
}
}
-(NSMutableArray*)retornaResultado{
NSLog(@"retorna resultado");
NSMutableArray* array =[ [NSMutableArray alloc] initWithArray:cleanArray];
return array;
}
@end
Abaixo está a classe responsável por baixar as imagens, ela é idêntica a de String.
Tem as mesma funcionalidade, baixar as imagens, salvar em disco e retornar o file path para o arquivo de imagem em disco.
GDRequestURLImage.h
#import <UIKit/UIKit.h>
#import <Foundation/Foundation.h>
@interface GDResquestURLImage : NSObject<NSURLConnectionDelegate>{
NSMutableData *responseData;
NSMutableDictionary *result;
UIImage* imagemRecebida;
NSString *caminhoImagemEmDisco;
NSMutableDictionary* dicionarioCaminhoImagemEmDisco;
int numero;
}
@property (nonatomic, strong) NSString* urlImage;
@property (nonatomic, strong) NSString* requestToken;
@property (nonatomic, strong) NSString* httpHeader;
-(void)getImageFromURL;
-(NSString*)retornaImagem;
-(id)initWithURLToRequest:(NSString*)urlImage requestValue:(NSString*)requestToken httpHeaderField:(NSString*)httpHeader;
@end
GDRequestURLImage.m
#import "GDResquestURLImage.h"
@interface GDResquestURLImage ()
@end
@implementation GDResquestURLImage
-(id)initWithURLToRequest:(NSString*)urlImage requestValue:(NSString*)requestToken httpHeaderField:(NSString*)httpHeader {
if (self = [super init]) {
numero = 0;
NSMutableURLRequest *req = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:urlImage]];
[req setValue:requestToken forHTTPHeaderField:httpHeader];
NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:req delegate:self];
[conn start];
}
return self;
}
-(void)getImageFromURL{
// Aqui é executado todo os métodos desta classe e retorna o resultado da consulta em forma de NSMutableDictionary.
// Here runs all the methods of this class and returns the query result in the form of NSMutableDictionary.
[self requestURLApi:_urlImage requestValue:_requestToken httpHeaderField:_httpHeader];
NSLog(@"1 -Inicio de download de imagem...\n");
}
-(void)requestURLApi:(NSString *)requestURLString requestValue:(NSString*)value httpHeaderField:(NSString*)headFiedl{
NSMutableURLRequest *req = [[NSMutableURLRequest alloc] initWithURL:[NSURL URLWithString:requestURLString]];
[req setValue:value forHTTPHeaderField:headFiedl];
NSURLConnection *conn = [[NSURLConnection alloc] initWithRequest:req delegate:self];
[conn start];
}
- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data {
NSLog(@"2 - Connection DidReceiveData.\n");
// As imagens ja vem em formato binario, portanto basta passar para responder (Tipo: NSMutableData).
responseData = [[NSMutableData alloc] init];
[responseData appendData:data];
}
- (void)connectionDidFinishLoading:(NSURLConnection *)connection {
NSLog(@"3 - ConnectionFinishLoading.\n");
NSLog(@"Fim de conexao");
for (UIImage* imagemTemp in responseData) {
imagemRecebida = [[UIImage alloc]init];
imagemRecebida = imagemTemp;
// paga endereço da pasta
NSString* enderecoPastaDisco = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) objectAtIndex:0];
NSString* nomeImagem = [NSString stringWithFormat:@"%dTeste",numero];
caminhoImagemEmDisco = [NSString stringWithFormat:@"%@/%@.jpg",enderecoPastaDisco,nomeImagem];
NSData *data2 = [NSData dataWithData:UIImageJPEGRepresentation(imagemRecebida, 1.0f)];//1.0f = 100% quality
[data2 writeToFile:caminhoImagemEmDisco atomically:YES];
// retorna imagem
NSLog(@"CaminhoImagem: %@",caminhoImagemEmDisco);
numero ++;
}
}
-(NSString*)retornaImagem{
return caminhoImagemEmDisco;
}
-(void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error{
NSLog(@"Erro de request: %@",error);
}
@end
Como estou fazendo constantes testes para tentar solucionar, existem variáveis que não vão fazer sentido aparentemente. Mas o código em um todo pode ser compreendido.
48447,ios,Alguém poderia indicar um tutorial, ou sample code explicando como imprimir um texto a partir de um UITextField.
48548,javascript|python,Posso "acessar" um parâmetro especifico de uma função de JavasScript, ou seja, dar um valor para um determinado parâmetro? Como exemplo é melhor do que texto (já que não sei me explicar direito), aqui vai um:
Em Python, tendo uma função:
def funcX(A="A",B="B",C="C"):
print(A+B+C)
...que resultaria em:
'ABC'
...eu posso mudar o valor de determinado parâmetro assim:
funcX(C = "c")
...o que resulta em:
'ABc'
Quero saber se há alguma forma de fazer o mesmo em JavaScript.
Exemplo:
function funcX(A,B,C){
if(typeof A != 'string'){A= "A"}
if(typeof B != 'string'){B= "B"}
if(typeof C != 'string'){C= "C"}
alert(A+B+C)
};
Resultaria em:
'ABC'
E ai gostaria de fazer algo como:
funcX(C = "c")
...para resultar em:
'ABc'
Aproveitando, gostaria de fazer uma pergunta paralela (se é que isso é permitido):
Existe uma forma melhor de dar "valores padrão" para os parâmetros das funções em Javascript do que if(typeof A != 'string'){A= "A"}?
Como em Python def funcX(A="A")
*(desculpem tanta comparação, mas é que aprendi a programar em Python, e é a única referência que tenho)
48561,ios,Como realizo operações relacionando entidades no Core Data?
Essas operações irá relacionar dados entre 2 entidades, sendo do tipo 1 para 1.
Quero relacionar o atributo imagem da tabela 1 com o campo pathimagem da tabela 2.
Exemplo:
Gostaria de saber se isso fará com que o campo da imagem da tabela 1 "guarde" o valor contido no campo pathimagem da tabela 2... ou que seja equivalente a isso?
Se alguem souber um link para um bom tutorial explicando isso detalhadamente será bem vindo também!
48592,python,To aprendendo Django, mas uma coisa que até agora não entendi muito bem é, como montar uma url, sei que ela usa expressão regular, mas alguém aí tem como me explicar, ou me indicar um material que seja bom.
48810,ios,Há alguma maneira de eu restringir versões do iOS?
Detalhe: Não é a versão minima
Por exemplo, eu desenvolvi um aplicativo e gostaria que ele rodasse nas versões iOS 7.x.x e iOS 8.1.x. Resumindo, gostaria de evitar que o aplicativo fosse instalado nas versões iOS 8.0.x.
Por que? Atualmente no iOS 7 funciona perfeitamente, no iOS 8.1.x também, porém no iOS 8.0.x o aplicativo apresenta vários problemas, inclusive crashes constantes.
48850,ios,Estou testando o AFTNetworking para baixar imagens de um backend, porém estou tendo erros ao baixar imagens.
Testei diversas implementações, com esta implementação apresenta erro de conteúdo não aceito.
Abaixo está a ultima implementação que fiz de teste:
NSString* urlImagem = @"http://lojacliente.goldarkapi.com/pizzas/54bf3e3a657f6f2c04a81afd/imagem";
AFHTTPRequestOperationManager *operationManager = [AFHTTPRequestOperationManager manager];
operationManager.responseSerializer = [AFImageResponseSerializer serializer];
operationManager.responseSerializer = [AFJSONResponseSerializer serializer];
operationManager.requestSerializer = [AFJSONRequestSerializer serializer];
[operationManager.requestSerializer setValue:@"image/jpeg" forHTTPHeaderField:@"Content-Type"];
[operationManager.requestSerializer setValue:@"zRWGVZ0HEpSzsb1ZOYMYHCwL6q54qa2x3y3JlNmCN61d1SCmfRDfnbFHteu/R50N29bOQJv8IgG6aLD4y8dNWQ==" forHTTPHeaderField:@"X-Api-Token"];
[operationManager GET:urlImagem parameters:nil success:^(AFHTTPRequestOperation *operation, id responseObject) {
NSLog(@"success");
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
NSLog(@"failure. Error:%@",error);
}];
ERRO:
GDRequestImageAFTNetworking[1647:65915] failure. Error:Error
Domain=com.alamofire.error.serialization.response Code=-1016 "Request
failed: unacceptable content-type: image/jpeg" UserInfo=0x78604030
{com.alamofire.serialization.response.error.response= { URL:
http://lojacliente.goldarkapi.com/pizzas/54bf3e3a657f6f2c04a81afd/imagem
} { status code: 200, headers {
"Access-Control-Allow-Credentials" = "true, true";
"Access-Control-Allow-Headers" = "Content-Type, Content-Length, Depth, User-Agent, X-Requested-With, X-Requested-By,
If-Modified-Since, X-Access-Token, X-FileEncoding, Cache-Control";
"Access-Control-Allow-Methods" = "GET,PUT,POST,DELETE, OPTIONS, HEAD";
"Access-Control-Allow-Origin" = "*";
Connection = "keep-alive";
"Content-Length" = 25553;
"Content-Type" = "image/jpeg";
Date = "Fri, 30 Jan 2015 16:49:36 GMT";
Etag = "\"5c08b1f8fc6e9943027d4062badbd5d60aca31f0\"";
Server = "nginx/1.4.1 (Ubuntu)"; } }, NSErrorFailingURLKey=http://lojacliente.goldarkapi.com/pizzas/54bf3e3a657f6f2c04a81afd/imagem,
NSLocalizedDescription=Request failed: unacceptable content-type:
image/jpeg, com.alamofire.serialization.response.error.data=
Como poderia estabelecer corretamente a configuração do cabeçalho da requisição com o Token?
48968,ios,Realizei o download de uma imagem, e armazenei em disco. Após o download a classe insere o caminho da imagem no core data, ficando esta string:
@"/Users/Tiago/Library/Developer/CoreSimulator/Devices/3E103B07-E48E-4740-911C-ECD24E0C3A3F/data/Containers/Data/Application/D17A1BA1-7096-49F9-BDAD-9587B2780715/Documents/54bf3ebf657f6f2c04a81b0b.jpg
"
Porém no momento de carregar esta imagem em um UIImage ele é iniciado com nil, como mostrado no código abaixo:
// Implementação de uma UITableView.
...
NSManagedObject *device = [dadosRetornadosDoCoreData objectAtIndex:indexPath.row];
...
NSString* stringPath = [device valueForKey:@"imagempath"];
UIImage* imageNew = [[UIImage alloc]initWithContentsOfFile:stringPath];
[cell.imagemProduto setImage:imageNew];
return cell;
Adicionei uma imagem a vulso no projeto, e carreguei como o código abaixo:
UIImage* imageNew = [[UIImage imageNamed:@"cloud.png"];
E carregou normalmente.
Detalhe: a String que leva até a imagem está vindo do armazenamento do Core Data. Não sei se isso pode afetar na interpretação da String.
49082,python,Estou usando o seguinte código:
from docx import Document
d = Document(open("arquivo.docx"))
Esse código funciona no Ubuntu mas não funciona no windows.
No windows tenho o retorno no terminal:
Traceback (most recent call last):
File "Default2.py", line 94, in dialogo
d = Document(f)
File "C:\Python27\lib\site-packages\docx\api.py", line 35, in init
document_part, package = self._open(docx)
File "C:\Python27\lib\site-packages\docx\api.py", line 193, in _open
package = Package.open(docx)
File "C:\Python27\lib\site-packages\docx\opc\package.py", line 116, in open
pkg_reader = PackageReader.from_file(pkg_file)
File "C:\Python27\lib\site-packages\docx\opc\pkgreader.py", line 32, in from_f
ile
phys_reader = PhysPkgReader(pkg_file)
File "C:\Python27\lib\site-packages\docx\opc\phys_pkg.py", line 101, in __init
__
self._zipf = ZipFile(pkg_file, 'r')
File "C:\Python27\lib\zipfile.py", line 793, in init
self._RealGetContents()
File "C:\Python27\lib\zipfile.py", line 860, in _RealGetContents
raise BadZipfile("Truncated central directory")
zipfile.BadZipfile: Truncated central directory
O código completo está nesse link
49097,ios,Tenho uma função responsável por deletar todos os itens de uma entidade:
func removeItens() {
if let managedContext = managedObjectContext {
let fetchRequest = NSFetchRequest()
let entity = NSEntityDescription.entityForName("Entidade", inManagedObjectContext: managedContext)
fetchRequest.entity = entity
fetchRequest.includesPropertyValues = false
var error: NSError?
var resultados = managedContext.executeFetchRequest(fetchRequest, error: &error)
for resultado in resultados as [NSManagedObject] {
managedContext.deleteObject(resultado)
}
if !managedContext.save(&error) {
println("could not save \(error), \(error?.userInfo)")
}
}
}
A minha aplicação consiste de uma TabBar com 3 telas:
Na primeira tab, eu possuo uma listagem de cidades, e ao seleciona o usuário é enviado para uma tela de listagem de produtos, no qual ele pode "marcar" os produtos.
A segunda tab possui uma tela que mostra a listagem destes produtos marcados.
Porém, eu preciso deletar todos os objetos desta entidade sempre que o usuário selecionar uma cidade diferente ou quando ele inicia a aplicação depois de terminada.
Para o primeiro caso, eu chamo a função no "prepareForSegue" quando o usuário seleciona uma cidade, e funciona perfeitamente.
O problema surge quando eu tento executar no segundo caso. Se eu tento chamar esta função no "application didFinishLaunchingWithOptions" do AppDelegate ou no "viewDidLoad" da primeira tab, o banco é corrompido, e eu recebo a seguinte mensagem quando eu tento entrar na segunda tab:
Terminating app due to uncaught exception 'NSObjectInaccessibleException', reason: 'CoreData could not fulfill a fault for '0xd000000000140000 ''
Porém, se eu retiro a função do "application didFinishLaunchingWithOptions" ou do "viewDidLoad" da primeira tab, a aplicação funciona perfeitamente.
==Atualizado==
Observando com mais atenção, o erro está ocorrendo na segunda tab (a de listagem de produtos).
Eu possuo uma variável no qual eu utilizo para manter atualizado os itens da tabela (caso o usuário marque algum produto).
lazy var fetchedResultsController: NSFetchedResultsController = {
let fetchRequest = NSFetchRequest()
let appDelegate = UIApplication.sharedApplication().delegate as AppDelegate
let managedContext = appDelegate.managedObjectContext!
let entity = NSEntityDescription.entityForName("Entidade", inManagedObjectContext: managedContext)
fetchRequest.entity = entity
let sortDescriptor1 = NSSortDescriptor(key: "nome", ascending: true)
fetchRequest.sortDescriptors = [sortDescriptor1]
let fetchedResultsController = NSFetchedResultsController(
fetchRequest: fetchRequest,
managedObjectContext: managedContext,
sectionNameKeyPath: "nome",
cacheName: "Entidade")
fetchedResultsController.delegate = self
return fetchedResultsController
}()
E o erro está ocorrendo exatamente nesta linha:
override func viewDidLoad() {
super.viewDidLoad()
navigationItem.leftBarButtonItem = editButtonItem()
var error: NSError?
if !fetchedResultsController.performFetch(&error) { // <----- Esta
fatalCoreDataError(error)
}
}
Alguém teria alguma sugestão?
49164,ios,Estou com um problema/dúvidas. Até hoje devido algumas necessidades desenvolvi apenas para iPhone ou iPad separadamente, porém hoje estou iniciando no desenvolvimento de aplicativo universal, iPhone e iPad.
Estou utilizando o Xcode 6 e desenvolvendo diretamente para iOS 8. Consegui adaptar as telas para ambos os dispositivos, ficou legalzão exceto pelo fato de que: quando construi as telas utilizando o storyboard, adicionei uma UITabBar e referenciei a mesma como Outlet na minha controladora. Quando adaptei para a tela do iPad, tive de adicionar outra UITabBar (na verdade tive de adicionar todos os componentes, pois a mesma estava vazia). Ao tentar referenciar como Outlet na classe, eu não consegui, pois ela "sobrescreve", perdendo meu outlet da tela do iPhone e vice versa.
As minhas dúvida é a seguinte:
Qual a melhor forma de se fazer isso?
Toda vez que eu criar uma tela para o iPhone e adaptar a tela para o iPad, terei de adicionar todos os componentes novamente?
Em caso de sobrescrever, qual a alternativa correta para fazer isso?
Eu precisarei ter duas controladoras? Uma para iPad e outra para iPhone?
IMPORTANTE: Para saber como eu crio o layout e códigos: não escrevi nenhum código, ainda estou na fase da criação das telas e crio o layout da mesma maneira que neste vídeo: https://www.youtube.com/watch?v=p5wD8dvSDbM
49194,android|ios,Como obter o número serial de um dispositivo móvel?
Preciso da solução em delphi, firemonkey que funcione tanto em Android quanto no iOS.
49238,python,Estou dando uma estudada no Python e me deparei com esse tal de with.
Conheço ele do javascript, mas não sei como ele funciona no Python
A maioria dos exemplos que vi mostra ele sendo usado em leitura de arquivos.
Exemplo:
with open("my_file.txt") as file:
data = file.read()
#faça algo com "data"
49312,python,Estou estudando Django e me perguntei se é realmente uma boa prática configurar URL's de remoções via GET, por exemplo: http://meusite.com.br/usuario/deletar?id=10.
Essa é realmente uma boa prática? Tendo em vista que alguma biblioteca de acesso HTTP pode, de repente, ser utilizada para fazer um loop e apagar várias entradas baseado nesse modelo de URL.
Sei que existem os cookies para registrar guardar os dados da sessão e que talvez é imprudente permitir a deleção leviana de itens sem nenhum controle, mas não sei como fazer isso.
O Django provê alguma proteção quanto a esse modelo de mapeamento? Caso seja uma má ideia mapear dessa maneira, qual uma boa prática para fazer uma remoção de objetos mais segura?
49519,ios,Eu possuo uma imagem e gostaria de pegar a cor predominante desta imagem.
Por exemplo:
Tenho esta imagem: http://etc.piktureplanet.com/wp-content/uploads/2014/11/Natural-Green-Wallpaper-for-Desktop-26.jpg
A cor predominante é o verde, gostaria de saber como identificar esta cor, em diferentes imagens, independente da cor que seja predominante.
49764,ios,Estou elaborando um modo de saber se os dados foram baixados e registrados corretamente no Core Data.
Devido a má qualidade das conexões 3G e a possibilidades de falha, gostaria de saber se há um modo de consultar o core data e ver se há como retornar os registros vazios em uma array.
A idéia inicial que tive é pegar os registros nas entidades e fazer uma varredura buscando por campos com valores NULL. E depois criar um request para preencher os dados corretamente.
Mas gostaria de saber se o Core Data tem um método ou função que providencie isso, retornando um array com os registros com falhas.
Entidade Exemplo com campos preenchidos com falha :
ID | NOME  | VALOR | IMAGEM
-------------------------------
0 | arroz | NULL  | skms.png
-------------------------------
1 | feijao| NULL  | ksle.png
-------------------------------
2 | carne | 5,00  | NULL
-------------------------------
3 | uva   | 6,00  | NULL
-------------------------------
4 | pera  | 7,00  | lskx.png
-------------------------------
5 | NULL  | NULL  | NULL
-------------------------------
// Codigo usado para Download
AFHTTPRequestOperationManager *operationManager = [AFHTTPRequestOperationManager manager];
operationManager.responseSerializer = [AFJSONResponseSerializer serializer];
[operationManager.requestSerializer setValue:urlGlobalToken forHTTPHeaderField:urlGlobalHttpHeader];
[operationManager GET:url parameters:nil success:^(AFHTTPRequestOperation *operation, id responseObject) {
NSMutableArray* arrayDataReceived =  [responseObject objectForKey:@"data"];
cleanArray = [[NSMutableArray alloc]init];
arrayURLImagens = [[NSMutableArray alloc]init];
for ( NSMutableDictionary* valuesDict in arrayDataReceived) {
// Este modelo é somente para exemplo.
// This model is only for example.
NSMutableDictionary* cleanDict = [[NSMutableDictionary alloc]init];
[cleanDict setObject: [valuesDict objectForKey:@"id"]         forKey:@"id"];
[cleanDict setObject: [valuesDict objectForKey:@"nome"]       forKey:@"nome"];
[cleanDict setObject: [valuesDict objectForKey:@"data"]       forKey:@"data"];
[cleanDict setObject: [valuesDict objectForKey:@"descricao"]  forKey:@"descricao"];
[cleanDict setObject: [valuesDict objectForKey:@"updated_at"] forKey:@"updateat"];
// Imagens para update
[cleanDict setObject: [valuesDict objectForKey:@"imagem"]forKey:@"urlimagem"];
// Armazena os dicionarios em um Array
[cleanArray addObject:cleanDict];
}
_dadosBrutosRecebidos = [[NSMutableDictionary alloc]init];
[_dadosBrutosRecebidos setObject:arrayURLImagens forKey:@"urlimagem"];
[_dadosBrutosRecebidos setObject:cleanArray forKey:@"strings"];
[self.delegate performSelector:@selector(downloadDadosEventosCompleto)];
app.networkActivityIndicatorVisible = NO;
} failure:^(AFHTTPRequestOperation *operation, NSError *error) {
app.networkActivityIndicatorVisible = NO;
NSLog(@"failure. Error:%@. URL ERRO: %@",error, url);
}];
}
49871,ios,Estou elaborando um app e já tenho o tratamento do banco de dados finalizado.
Mas surgiu uma dúvida de como posso criar um sistema de sincronização em tempo real do banco local do app com o banco do servidor remoto.
Se alguém souber explicar ou tiver um tutorial relacionado fico grato.
50080,ios,Notei um problema com o código, quando tento inserir um novo registro em uma entidade, perco todos os antigos registros e somente o novo fica guardado.
Código usado:
NSManagedObjectContext * context = [self managedObjectContext];
NSManagedObjectContext * novoObjeto = [NSEntityDescription insertNewObjectForEntityForName: entidadeBebidas inManagedObjectContext: context];
[novoObjeto setValue: novoValor forKey: @ "id"];
NSError * error = nil;
if (![context save: & error]) {
//[self alertaErroCadastro];
//NSLog(@"Erro ao salvar no banco local");
}
Antes da inserção:
| id |
12542
12542
25412
21452
Depois da inserção do novo registro:
| id |
998698
Os registros anteriores são perdidos.
50401,ios,Gostaria de saber como funciona o processo de distribuição de iOS apps fora da AppStore. Gostaria de realizar o processo como o "AppNana", no qual ao você entrar no site deles (www.appnana.com) através de um iDevice, é solicitada a instalação do aplicativo.
*OBS: Não se trata de um atalho na área de trabalho apenas, pois o app é realmente instalado e carregado no iDevice.
O objetivo é fornecer o .ipa do meu app a todos que quiserem baixar, assim como o AppNana.
Qual é o esquema e quanto custa?
50526,ios,Alguém poderia por favor me explicar em que situação e como usar delegates e protocolos, estou um pouco confuso quando ao que li por aí, Obrigado!
50581,ios,Estou usando a API Maps da Google para iOS. Estava fazendo alguns testes e ajustei uma UIView como subclasse de GMSMapView e mantive um ponteiro para ela na ViewController, ficando:
#import <UIKit/UIKit.h>
#import <GoogleMaps/GoogleMaps.h>
#import <CoreLocation/CoreLocation.h>
@interface ViewController : UIViewController<GMSMapViewDelegate, CLLocationManagerDelegate>
{
CLLocationManager *locationManager;
}
@property (strong, nonatomic) IBOutlet GMSMapView *meuMapa;
@end
E fiz sua implementação em outra classe, deste modo:
-(GMSMapView*)criaMapa{
// Create a GMSCameraPosition that tells the map to display the
// coordinate -33.86,151.20 at zoom level 6.
GMSCameraPosition *camera = [GMSCameraPosition
cameraWithLatitude:-22.530351
longitude:-43.071199
zoom:17];
_mapaCriado = [GMSMapView mapWithFrame:CGRectZero camera:camera];
#pragma mark - Coloca Pinos no Mapa
// Uma posição em Niteroi
GMSMarker *marker = [[GMSMarker alloc] init];
marker.position = CLLocationCoordinate2DMake(-22.530303,-43.071033);
marker.title = @"Ponto B";
marker.snippet = @"Detalhes";
marker.map = _mapaCriado;
return _mapaCriado;
}
Voltando em ViewController.m no método -(void)viewDidLoad eu recebo o mapa que foi criado em outra classe:
- (void)viewDidLoad {
CriaMapas mapFact = [[CriaMapas alloc]init];
self.meuMapa = [mapFact criaMapa];
}
Porém o mapa é iniciado sem nada, como se não houvesse feito inicialização e nenhuma criação de Marker.
Como poderia fazer isso: Criar o mapa em outra classe e retornar ele para ser exibido?
50696,ios,Como faço para converter RTSP stream para HTTP Live stream?
Possuo uma IP Câmera que usa o protocolo RTSP para realizar streaming de vídeo, e gostaria de fazer ele funcionar no iOS utilizando o navegador Safari. Segundo a documentação do Safari 1
Safari on the desktop plays the RTSP stream, while Safari on iOS plays
the HTTP Live stream.
O navegador no iOS só suporta o protocolo HTTP Live stream. Como converter esse fluxo?
1 Safari HTML5 Audio and Video Guide
50786,ios,Estou criando um app onde pego a atual posição do usuário e criaria uma rota para um determinado ponto.
Um amigo comentou que este serviço de rotas oferecido pela Google é pago.
Alguem poderia ou saberia informar com mais detalhes sobre estes valores ?
Obrigado.
50801,ios,Como posso agrupar os markers de uma área quando o usuário diminui o zoom do mapa, para reduzir a poluição visual de marker's no mapa e mostrar somente um marker, com um número dentro para indicar a quantidade de pontos daquela região?
51176,php|ios,Em um Get usando PHP estou fazendo a requisição de 2 colunas deste modo:
<?php
include 'conexao.php';
header('Content-Type: text/html; charset=UTF-8');
//Converte para UTF8 os resultados da query
mysql_set_charset('UTF8');
//Retorna resultado query idRegistro e updateatRegistro
$sql = "SELECT idRegistro,updateatRegistro FROM jump";
$resultado = mysql_query($sql) or die ("Erro: ".mysql_error());
// Crinha variável linha do tipo array
$linha = array();
while($r = mysql_fetch_assoc($resultado))
{
$linha [] = $r;
}
echo json_encode($linha);
mysql_close();
?>
E estou tentando pegar os valores. Porém percebi que no responseData, estou recebendo uma resposta com 2 camadas de arrays e 1 dicionário:
deste modo:
1º Array |2º Array| Dicionario
[0] =    [0]    = idRegistro: 1;
[1]    = updateAt: 2015/02/18 19:55:42;
QUando tento extrair os dados da primeira camada do array, o retorno deveria ser outro array, porém está sendo reconhecido como um dicionario. Acredito que seja devido a codificação do Json.
Acredito que devo fazer a query destas colunas de um outro modo. Alguém poderia sugerir uma melhor maneira?
51364,ios,Estou com um problema entre o iOS 8 e o iOS 7. Estou utilizando o Core Data, tenho uma entidade chamada Pessoa (NSManagedObject), só que ao efetuar um update nos dados acontece um EXC_BAD_ACCESS, somente isso, nenhuma outra descrição ou erro mais.
Acontece no seguinte trecho:
let batchUpdateRequest = NSBatchUpdateRequest(entityName: "Company")
Estranho pois no iOS 8 funciona normalmente e atualiza os dados.
O código do método basicamente é:
func update (people: People) {
var error: NSErrorPointer = nil
//O erro ocorre aqui
let batchUpdateRequest       = NSBatchUpdateRequest(entityName: "People")
batchUpdateRequest.predicate = NSPredicate(format: "idObject == \(people.idObject)")
batchUpdateRequest.propertiesToUpdate = [
"name" : people.name,
"phone" : people.phone,
"address" : people.address,
"email" : people.email
]
batchUpdateRequest.resultType = NSBatchUpdateRequestResultType.UpdatedObjectsCountResultType
let result = managedObjectContext?.executeRequest(batchUpdateRequest, error: error) as NSBatchUpdateResult
}
Ja tentei alterar para:
let batchUpdateRequest = NSBatchUpdateRequest(entityName: "Company" as NSString)
Porém tudo sem sucesso.
51647,android|ios,Boa noite, estou acabando de desenvolver uma aplicação para festas. Nessa aplicação lista as festas da cidade com data e horário, ingressos e tals.. Estou com uma dificuldade em criar uma funcionalidade, eu preciso notificar o usuário que a festa vai começar com a antecedência solicitada por ele.
Preciso do plugin para emitir um aviso sonoro e exibir uma mensagem de notificação para informar que o evento esta para ocorrer, esse plugin precisaria funcionar em android/ios com o Apache Cordova.
O plugin deveria notificar mesmo que o aplicativo estivesse fechado, como se fosse um serviço do android.
51758,ios,Estou alterando um aplicativo.
Esse aplicativo utiliza um framework chamado Ushahidi que é compatível apenas com iOS7.
Eu detectei uma alteração para que uma coisa no framework funcione no iOS8.
Minha dúvida é como eu posso alterar o framework para corrigir o bug?
Estou pensando em fazer a correção e enviar para o github deles, mas preciso testar no aplicativo para ver se vai funcionar. Como fazer isso!?
51895,ios,Estou utilizando uma UIPageViewController. A mesma exibe conteúdos e é trocada de página através de um NSTimer. Basicamente como os slider de conteúdos em destaques nos sites.
O problema é que eu preciso identificar exatamente para que lado o usuário está movendo a mesma.
Quero lembrar que em muitos dos casos que pesquisei os usuários respondiam de qual maneira eu posso definir a direção ou pelos métodos:
func pageViewController(pageViewController: UIPageViewController, viewControllerBeforeViewController viewController: UIViewController) -> UIViewController?
func pageViewController(pageViewController: UIPageViewController, viewControllerAfterViewController viewController: UIViewController) -> UIViewController?
Quando na verdade eu preciso, diretamente "capturar" este evento para que eu possa adicionar definir propriedades de acordo com a direção.
Obs.: Se por um acaso alguém tenha mais alguma sugestão de outro componente para utilizar em casos como esse, será bem aceita.
51903,,Possuo uma página de detalhes onde o título do produto ao redimensionar o navegador ou visto em um dispositivo móvel o texto fica completamente alinhado a esquerda, gostaria que o alinhamento permaneça mas que texto ficasse melhor distribuído, a estrutura onde se encontra o título é essa:
<div class="one-fourth-pers column-last"><h3 class="entry-title"><?php echo $row_rsProdutos['descricao']; ?></h3></div>
.one-fourth-pers {
width: 40.5%;
float:left;
/*max-width: 220px;*/
}
Ao tentar alterar o width o conteúdo todo é jogado para baixo.
A página pode ser visto aqui: Página de Detalhes
51904,c#,Existe algum serviço que faça o reconhecimento se um determinado tipo de palavra é uma preposição?
Quero fazer um ranking de palavras de um feeder rss, mas ignorando preposições.
Ignorar palavras com menos de N caracteres é um bom começo, mas talvez não seja o suficiente, pois ainda sobram grandes preposições. Segue duas listas:
Preposições essenciais: a, ante, após, até, com, contra, de, desde, em, entre, para, per, perante, por, sem, sob, sobre, trás.
Preposições acidentais:
como (= na qualidade de), conforme (= de acordo com), segundo (= conforme), consoante (= conforme), durante, salvo, fora, mediante, tirante, exceto, senão, visto (=por).
Vocês conhecem algum serviço que faça essa identificação ou têm alguma ideia de como implementar um método razoável, isto é, não precisa ser 100% abrangente, mas que cubra uma parte significativa das palavras?
Pode ser em qualquer linguagem.
Obrigado.
Segue um trecho de código C# que estou utilizando no protótipo, mas que tem se mostrado pouco eficiente:
private static IEnumerable<IGrouping<string, string>> MostCommonWords(string str, int maxNumWords)
{
var prepositions = new string[] {/*...*/};
var mostCommonWords =
Regex.Split(str.ToLower(), @"\W+")
.Where(s => s.Length > 3 && !prepositions.Contains(s))
.GroupBy(s => s)
.OrderByDescending(g => g.Count()).Take(maxNumWords);
return mostCommonWords;
}
51910,,Olá, estou fazendo um spider para capturar com XPath alguns dados da web.
Porem a criação de xpath é meio trabalhosa. Alguém conhece alguma forma de treinar XPath? Exemplo; Clico 5 vezes em um link e alguma ferramenta gera o xpath.
Qualquer dica é bem vinda.
Obrigado!
51912,php,No mesmo servidor de alojamento, algumas contas suportam ob_gzhandler e enviam a página com compressão para o navegador:
/* Sending gz-encoded data to web browsers
* that support compressed web pages
*/
ob_start("ob_gzhandler");
Mas outras contas com o código em cima falham e despoletam o seguinte erro:
Content Encoding erro
A página que você está tentando abrir não pode ser exibida porque usa uma forma não suportada ou inválida de compactação.
Entre em contato com os responsáveis pelo site para informá-los sobre este problema.
Pergunta
Como discernir a causa do erro de codificação inválida?
Nota: A configuração do PHP para ambos os domínios está rigorosamente igual, tal como as diretivas do Apache.
51915,java,Minha dúvida é em relação a como obter uma string e manipulá-la. O usuário irá informar dd/mm/aaaa em forma de String. Como faço essa captura? E depois preciso transformar essa data em inteiro para que eu possa fazer as validações, como por exemplo se o dia informado não excede 31.
Por exemplo, o usuário irá informar a seguinte String: "21/03/2014", e eu preciso obter esta string e passá-la como parâmetro para um método.
Meu código é o seguinte:
public static void main(String[] args) {
Scanner input = new Scanner(System.in);
TAD01 verificacoes = new TAD01();
String data;
boolean resultado;
System.out.print("Informe a data: ");
data = input.nextLine();
resultado = verificacoes.converteData(data);
System.out.println(data);
}
Obrigado desde já a todos.
51917,,Imagine que eu tenha um repositório remoto no Github, mas também gostaria de replicá-lo em um servidor local, desta forma permitindo que minha equipe trabalhe (e compartilhe código) mesmo sem acesso remoto.
E, por exemplo, ao fim do dia ou da semana, seria feito um commit deste repositório "comunitário" local, para o repositório oficial, remoto.
Pelo que eu pesquisei, é possível replicar um repositório na minha própria máquina e comitar "localmente", mas só eu veria esses meus commits. Não achei nada a respeito de um repositório local "comunitário".
É possível fazer isso com Git?
51921,,Problema:-Somar as linhas que têm anos iguais através de comando no mysql.
Query que estou utilizando:
SELECT produtividade, ano
FROM area_e_producao_05_15
INNER JOIN dados_cidades
ON edr_id={$edr['edr_id']}
WHERE area_e_producao_05_15.id_municipio=dados_cidades.dados_cidades_id AND Ano BETWEEN {$ano} and {$ano2} Order By Ano
O meu resultado foi:
Nesse caso o resultado foi pouco,mas em alguns casos são gerados muitos anos iguais.
Existe alguma forma de somar essas produtividades e apresentar uma linha com cada ano?
Exemplo da foto o resultado esperado é:
produtividade|Ano
50           |2010
50           |2011
51923,,Em meu site estou usando o fancyBox para mostrar imagem de um produto, está funcionando certo, mas preciso deixar as setas "Anterior" e "Próximo" sempre visíveis para deixar mais claro ao usuário que existe uma navegação, não possuo conhecimento suficiente para tal feito.
Em meu site estou usando esse FancyBox: FancyBox
As referências que encontrei para uma tentativa de mudança, são essas:
.fancybox-prev, .fancybox-next {
position: absolute;
top: 0;
width: 40%;
height: 100%;
cursor: pointer;
background: transparent url('../../images/fancybox/blank.gif'); /* helps IE */
z-index: 1003;
}
.fancybox-prev {
left: 0;
}
.fancybox-next {
right: 0;
}
.fancybox-prev span, .fancybox-next span {
position: absolute;
top: 50%;
left: -9999px;
width: 36px;
height: 36px;
margin-top: -18px;
cursor: pointer;
z-index: 1003;
}
.fancybox-prev span {
background-position: 0 -36px;
}
.fancybox-next span {
background-position: 0 -72px;
}
.fancybox-prev:hover, .fancybox-next:hover {
visibility: visible;
}
.fancybox-prev:hover span {
left: 20px;
}
.fancybox-next:hover span {
left: auto;
right: 20px;
}
51928,,Estou tentando criar uma consulta que retorne o custo calculado de determinados produtos, e estou curioso de saber por que quando fazemos joins - no caso um left join - o resultado que deveria ser x passa a ser w.
A consulta é mais ou menos assim:
select * from
(
select
mbr_1.name 'Sabor',
mbr_2.name 'Tipo_Produto',
mbr_3.name 'Produtos',
mbr_4.name 'null',
vps.period_name 'periodo',
sum(mba_dest.calculated_cost) 'custo'
from mdl_member_instances mbi
--origem
left join mdl_assignments mba_org on mba_org.source_mbi_id = mbi.id
--membros
left join mdl_members mbr_1 on mbr_1.id = mbi.member_id
left join mdl_members mbr_2 on mbr_2.id = mbr_1.parent_id
left join mdl_members mbr_3 on mbr_3.id = mbr_2.parent_id
left join mdl_members mbr_4 on mbr_3.id = mbr_3.parent_id
--destino
left join mdl_assignments mba_dest on mba_dest.destination_mbi_id = mbi.id
--periodo
left join view_period_scenarios vps on vps.id = mbi.period_scenario_id
--filtros do select
where mbr_3.module_type = 2
group by
mbr_1.name,
mbr_2.name,
mbr_3.name,
mbr_4.name,
vps.period_name,
mba_dest.calculated_cost
union all
SELECT
MBR_1.[name]  'MBR_1',
MBR_2.[name]  'MBR_2',
MBR_3.[name]  'MBR_3',
MBR_SOURCE.[name]  'MBR_SOURCE',
VPS.[period_name]  'PERIOD',
sum(MBA_SOURCE.[calculated_cost]) AS 'COST'
FROM MDL_MEMBER_INSTANCES MBI_ORG
--ORIGEM
LEFT JOIN
MDL_ASSIGNMENTS MBA_SOURCE ON MBA_SOURCE.[source_mbi_id] = MBI_ORG.[id]
--DESTINO
LEFT JOIN
MDL_ASSIGNMENTS MBA_DESTINATION ON MBA_DESTINATION.[destination_mbi_id] = MBI_ORG.[id]
--PERÍODO-CENARIO
LEFT JOIN VIEW_PERIOD_SCENARIOS VPS ON VPS.[id] = MBI_ORG.[period_scenario_id]
--MEMBROS
LEFT JOIN MDL_MEMBERS MBR_SOURCE ON MBR_SOURCE.[id] = MBI_ORG.[member_id]
LEFT JOIN MDL_MEMBERS MBR_1 ON MBR_1.[id] = MBR_SOURCE.[parent_id]
LEFT JOIN MDL_MEMBERS MBR_2 ON MBR_2.[id] = MBR_1.[parent_id]
LEFT JOIN MDL_MEMBERS MBR_3 ON MBR_3.[id] = MBR_2.[parent_id]
--FILTROS
WHERE MBR_SOURCE.[module_type] = 0 AND MBR_SOURCE.[type] = 1
group by
MBR_1.[name],
MBR_2.[name],
MBR_3.[name],
MBR_SOURCE.[name],
VPS.[period_name],
MBA_SOURCE.[calculated_cost]
) mdl_members
51931,php,Eu consegui com a ajuda do @QMechanic73
, fazer um parser em um site remoto, e capturar os valores entre as tags span que está dentro de várias div com seu determinado id, e os span com suas class e valores entre suas tags, tive que capturar e diminuir os valores originais em -20%, o código ficou exatamente assim:
$opts = array(
'http'=>array(
'method'=>"GET",
'header'=>"Accept-language: en\r\n" .
"Cookie: foo=bar\r\n"
)
);
$context = stream_context_create($opts);
$html = file_get_contents('https://pt.sportingbet.com/services/InPlayApp.mvc/GetInPlaySports?CurrentOddsFormat=', false, $context);
$DOM =  new DOMDocument();
$DOM->loadHTML($html);
$xpath = new DomXpath($DOM);
$prices = $xpath->query('//*[contains(concat(" ", normalize-space(@class), " "), "priceText ")]');
$percent = 20.0 / 100.0; // 20%
foreach($prices as $price){
$value = $price->nodeValue;
$floatValue = floatval($value);
$finalValue = $floatValue - ($percent * $floatValue);
$price->nodeValue = $finalValue; // Salva o valor final com desconto de 20%
}
echo $DOM->saveHTML();
Ok, tudo funcionou bonitinho e de acordo com o que eu queria, mas depois eu vi que para o site recuperar essas informações eu preciso alterar mais do que os valores das span, preciso alterar os valores entre 2 campos input.
HTML
<div id="isOffered">
<a class="price  " href="javascript:;">
<span class="priceText wide  UK">1/4</span>
<span class="priceText wide  EU">1.25</span>
<span class="priceText wide  US">-400</span>
<span class="priceText wide  CH">1.25</span>
<span class="priceChangeArrow" ></span>
<input type="hidden" class="betCode" value="0]SK@84899932@323698807@NB*1~4*0*-1*0*0"/>
<input type="hidden" class="decValue" value="1.25"/>
<input type="hidden" class="originalBetCode" value="0]SK@84899932@323698807@NB*1~4*0*-1*0*0"/>
</a>
</div>
<div class="market-item ">
<div class="outright-label">Empate</div>
<div class="outright-odds" title="Vencedor do Encontro">
<div id="s_323698809" class="odds draw">   <div id="isNotOffered" class="hide">
<span class="price priceReadonly"></span>
</div>
<div id="isOffered">
<a class="price  " href="javascript:;">
<span class="priceText wide  UK">3/1</span>
<span class="priceText wide  EU">4.00</span>
<span class="priceText wide  US">+300</span>
<span class="priceText wide  CH">4.00</span>
<span class="priceChangeArrow" ></span>
<input type="hidden" class="betCode" value="0]SK@84899932@323698809@NB*3~1*0*-1*0*0"/>
<input type="hidden" class="decValue" value="4.00"/>
<input type="hidden" class="originalBetCode" value="0]SK@84899932@323698809@NB*3~1*0*-1*0*0"/>
</a>
</div></div>
</div>
</div>
Os campos que precisam de alteração são as input de class= "decValue" e class= "betCode" e se possível também a class = "originalBetCode". O campo input com a class de decValue é mais simples, pois só precisamos diminuir em 20% como nos campos span.
Mas quero voltar a atenção para o input com a class = "BetCode" e originalBetCode, pois precisarei alterar apenas os 2 números que estão entre ~, e pra fazer isso eu precisarei seguir um esquema de cálculos que será assim:
Eu terei que capturar cada valor obtido nas span priceText EU já com a diminuição de 20%, ou seja, se no site remoto o valor é 2.30, o script do QMechanic73 irá diminuir em 20% como desejado, então nosso valor ficará 2.30 - 20% = 1.84, agora eu terei que pegar este 1.84 e diminuir 1 dele, (lá na frente explico porque), depois de diminuir este 1.84 por 1, terei que pegar o resultado 0.84 e multiplicar por um valor fixo, que pode ser qualquer número, irei usar então o 5, então *0.84 * 5* será igual a 4.2, o que iremos fazer com este valor? simples! mandar ele pra substituir aqueles dois números no campo BetCode, só que da seguinte maneira; se por exemplo o nosso código estiver value="0]SK@84899932@323698807@NB*1~4*0*-1*0*0" iremos substituir o 1 que está depois do @NB pelo nosso valor multiplicado, que no caso é 4.2, e o 4 que está depois do ~ é o divisor, então se nosso multiplicador for sempre 5, nosso divisor também será, então iremos substituir o 1~4 por 4.2~5, por quê assim iremos obter o resultado de 0.84, então este script irá automaticamente somar +1 em todos os resultados obtido por nossa divisão!
Se quisermos que o valor seja 3.2, teremos que diminuir isso por 1, e multiplicar o 2.2 por 5 por exemplo, e o resultado obtido 11 ser enviado ao BetCode da seguinte maneira:
11~5, 11 é o valor total, dividido por 5 que é nosso multiplicador +1 automático do script original.
Então quero fazer isso adaptando o script do @QMechanic73, desculpa pela longa explicação, mas queria uma ajuda de como fazer isso! alguém tem ideia?
e se possível, um limitador, pra que se um valor diminuído em 20% dê apenas centavos, ele retorne o valor 1.00 por exemplo; o valor original é 1.20, se eu diminuir em 20% ele ficaria 0.96, o que daria errado, então o PHP iria analisar os números que viesse abaixo de 1.00 e elevar ele pra 1.00.
Sei que é extenso, é chato, mas preciso mesmo da ajuda de vocês.
Obrigado desde já pessoal
51934,,Como eu faço uma paleta de cores no MATLAB? Eu só quero a paleta, como na imagem, e não gráficos ou coisas do tipo....
51935,php|javascript,Estou desenvolvendo de uma tela que irá gerar uma NF-e e no momento que fui trabalhar com as datas descobri que precisam ser enviadas num formato específico que não conheço e nem achei nada na internet. O formato é esse:
2015-02-12T15:20:16-02:00
Alguém saberia me explicar que formato seria esse? E como o montá-lo, pois preciso trabalhar com ele.
51937,jquery,Estou trabalhando com uma plataforma de e-commerce, no caso a loja integrada. Tenho acesso a incluir html para personalizar, porém o código é ativado para todas as páginas do site, existe algo que eu possa fazer para que fique apenas na home sob as atuais condições que estou?
$(document).ready(function() {
var maskHeight = $(document).height();
var maskWidth = $(window).width();
$('#mask').css({'width':maskWidth,'height':maskHeight});
$('#mask').fadeIn(1000);
$('#mask').fadeTo("slow",0.8);
//Get the window height and width
var winH = $(window).height();
var winW = $(window).width();
$('#dialog2').css('top',  winH/2-$('#dialog2').height()/2);
$('#dialog2').css('left', winW/2-$('#dialog2').width()/2);
$('#dialog2').fadeIn(2000);
$('.window .close').click(function (e) {
e.preventDefault();
$('#mask').hide();
$('.window').hide();
});
$('#mask').click(function () {
$(this).hide();
$('.window').hide();
});
});
51939,,Criei uma coluna inclusao na tabela app, ela funciona pra registrar a data de compra do aplicativo e terei que atualizar os registros antigos com a data de criação de usuário.
Fiz uma query para resolver o problema, mas o postgreSQL acusa um erro:
ERROR:  table name "app" specified more than once
Essa é minha query:
UPDATE app
SET app.inclusao = usuario.inclusao
FROM app, usuario
WHERE app.usuario = usuario.codigo
Como faço pra resolver isso?
51942,javascript,Estou criando uma aplicação Phonegap que consome uma Web API (Web Service), e preciso acessar um domínio externo. Pesquisando pela web encontrei que devia habilitar o CORS via JavaScript para ter a possibilidade de acessar outros domínios. Desta maneira gostaria de saber de que maneira faria isso.
Segue abaixo o código de uma busca feita pelo app.
function find()
{
var urlAl = 'http://*********/api/Produtos';
header("Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS");
$.ajax({
type : "GET",
dataType : "jsonp",
url : urlAl,
success: function(data){
alert(data);
},
error: function()
{
alert("erro");
}
});
51944,javascript|jquery,O seguinte JS tem o intuito de promover a rolagem suave quando clicamos em âncoras em um site one-page. Há como restringir a atuação do mesmo somente com a resoluções superiores a 760px?
$(document).ready(function () {
function filterPath(string) {
return string
.replace(/^\//, '')
.replace(/(index|default).[a-zA-Z]{3,4}$/, '')
.replace(/\/$/, '');
}
$('a[href*=#]').each(function () {
if (filterPath(location.pathname) == filterPath(this.pathname)
&& location.hostname == this.hostname
&& this.hash.replace(/#/, '')) {
var $targetId = $(this.hash), $targetAnchor = $('[name=' + this.hash.slice(1) + ']');
var $target = $targetId.length ? $targetId : $targetAnchor.length ? $targetAnchor : false;
if ($target) {
var targetOffset = $target.offset().top;
$(this).click(function () {
$('html, body').animate({scrollTop: targetOffset}, 300);
return false;
});
}
}
});
});
51947,php,Tenho essa consulta a baixo que me retorna dados de duas tabelas relacionadas.
Ela pega todos os campos de veículo e todos campos de produtos com "id_transfer" iguais
$cmd = "SELECT p.*, v.* FROM produtos AS p
INNER JOIN veiculos AS v
ON p.id_veiculo= v.id_veiculo where p.id_transfer = '$id_transfer' AND
v.id_transfer = '$id_transfer' AND  nome LIKE '%$pesq%' ORDER by nome limit
$inicio,$registros
Não estou sabendo como inserir uma 3ª tabela que não precisa ser relacionada.
Seria assim:
Selecione
todos tabala veiculo
todos tabela produtos
com seu id_tranfer iguais
e selecione
todos da tabela agenda_saidas
com status iguais ativo
Produto
+--------+----------------+---------------+
|   id   |     Destino    |    Data       |
+--------+----------------+---------------+
|  01    | Rio de Janeiro | 01/01/2015    |
|  02    | São Paulo      | 01/01/2015    |
+--------+----------------+---------------+
Veiculo
+--------+----------------+---------------+
|   id   |     Veiculo    |    Cor        |
+--------+----------------+---------------+
|  01    |     Palio      |   Preto       |
|  02    |     GOL        |   Branco      |
+--------+----------------+---------------+
agenda_saidas
+--------+----------------+---------------+
|   x1   |      x2        |    x3         |
+--------+----------------+---------------+
|   xxx  |      xxx       |    xxx        |
|   xxx  |      xxx       |    xxx        |
+--------+----------------+---------------+
while{
Resultado = Rio de Janeiro 01/01/2015 Palio Preto
Resultado = São Paulo 01/01/2015 GOL Branco
.....
Resultado = xxx xxx xxx
Resultado = xxx xxx xxx
.....
Se é que isso e possível..
}
51948,javascript|jquery,Sempre fiquei em dúvida quando a isso, pois lembro que fazia meus teste com ajax, e toda vez que atualizava, perdia o evento registrado.
Exemplo:
Um lista de nomes
<script>
$(document).ready(function(){
$(".clickLi").click(function(){
console.log($(this).data("age"));
});
});
</script>
<ul>
<li class="clickLi" data-age="18">Nome 1</li>
<li class="clickLi" data-age="6">Nome 2</li>
<li class="clickLi" data-age="32">Nome 3</li>
</ul>
Nesse código, após clicar em um li, a idade vai ser escrita no console.
Ok, mas e se tivesse um botão que, por ajax, atualizasse essa lista, perderia a função de click. Como eu faço pra manter um listener na lista?
Muito obrigado.
51949,,Gostaria de gerar um relatório de previsão de impostos de PIS e COFINS, que são calculados baseado num código CFOP das notas emitidas num determinado período, mas gostaria de separar essas informações em "blocos", pois posteriormente vou inserir outras informações.
Espero o resultado dessa forma:
+--------------------------------------------------------------+
|                           CRÉDITO                            |
+---------+----------------+--------------+---------+----------+
|  CFOP   |    Descrição   |  Valor Base  |   PIS   |   COFINS |
+---------+----------------+--------------+---------+----------+
+--------------------------------------------------------------+
|                      DÉBITO - Cumulativo                     |
+---------+----------------+--------------+---------+----------+
|  CFOP   |    Descrição   |  Valor Base  |   PIS   |   COFINS |
+---------+----------------+--------------+---------+----------+
+--------------------------------------------------------------+
|                    DÉBITO - Não-Cumulativo                   |
+---------+----------------+--------------+---------+----------+
|  CFOP   |    Descrição   |  Valor Base  |   PIS   |   COFINS |
+---------+----------------+--------------+---------+----------+
Acredito que para isso precisarei usar SubReports no Crystal Reports, mas não estou conseguindo pensar em como organizar os grupos no relatório e nos subrelatórios. Lembrando que todos os dados serão baseados num mesmo período que será passado como parâmetro.
O SQL utilizado é basicamente igual em todos os relatórios, mudando apenas o valor de porcentagem para base de cálculo dos impostos dependendo da CFOP.
Segue a SQL de exemplo que retorna as NF emitidas (que vão gerar os "blocos" de débito):
DECLARE @PIS decimal(5,4) = 0.0165;
DECLARE @COFINS decimal(5,4) = 0.076;
DECLARE @PIS_I decimal(5,4) = 0.0065;
DECLARE @COFINS_I decimal(5,4) = 0.03;
SELECT
DataEmissao
,CFOP
,Base
,Natureza
,'Categoria' = UPPER(CASE
WHEN Base = 'A' THEN 'Imune'
WHEN Base = 'B' THEN 'Deferido'
WHEN BASE = 'C' THEN 'Tributado'
ELSE '' END)
,[Valor Base]
,'PIS' = CASE
WHEN Base = 'A' THEN [Valor Base]*@PIS_I
ELSE [Valor Base]*@PIS END
,'COFINS' = CASE
WHEN Base = 'A' THEN [Valor Base]*@COFINS_I
ELSE [Valor Base]*@COFINS END
FROM
(SELECT
NotasFiscais.DataEmissao
,'CFOP' = SUBSTRING(REPLACE(REPLACE(NotasFiscais.cfop1,' ',''),'.',''),1,4)
,'Base' = CASE
WHEN SUBSTRING(REPLACE(REPLACE(NotasFiscais.cfop1,' ',''),'.',''),5,1) = 'P' THEN SUBSTRING(REPLACE(REPLACE(NotasFiscais.cfop1,' ',''),'.',''),6,1)
ELSE SUBSTRING(REPLACE(REPLACE(NotasFiscais.cfop1,' ',''),'.',''),5,1)
END
,'Natureza' = UPPER((SELECT NatOperacao FROM MT_MAZER.dbo.CFOP CFOP_Desc
WHERE REPLACE(REPLACE(CFOP_Desc.CFOP,' ',''),'.','') = REPLACE(REPLACE(CFOP.CFOP,' ',''),'.','') AND
LEN(CFOP_Desc.NatOperacao) = MAX(LEN(CFOP.NatOperacao))))
,'Valor Base' = SUM(NotasFiscais.ValorTotalNota)
FROM
DB.dbo.NotasFiscais
INNER JOIN DB.dbo.CFOP ON NotasFiscais.cfop1 = CFOP.CFOP
WHERE
CFOP.Fatura = 'S' AND
CFOP.Devolucao = 'N' AND
NotasFiscais.CodEmpresa = 1 AND
NotasFiscais.Situacao = 'N' AND
NotasFiscais.TipoNota = 'S'
GROUP BY
NotasFiscais.DataEmissao
,REPLACE(REPLACE(NotasFiscais.cfop1,' ',''),'.','')
,CFOP.CFOP
,NotasFiscais.CodEmpresa) Impostos
51954,javascript,Eu preciso criar um menu drop-down com a seguinte estilização:
Como podem notar, obrigatoriamente ele deve estar alinhado com a 'arrow' apontando para o centro do elemento-pai. Tentei inúmeras combinações de estilização, mas nada funcionou. Ou ele é alinhado à esquerda do elemento, ou à direita. Não consigo de maneira alguma alinhar ao centro. Estou postando aqui somente as partes mais importantes do código para facilitar a compreensão. Segue:
O HTML fiz assim:
<li class="user-actions-menu-item dropdown-trigger" id="admin-dropdown-trigger">
<a href="#">
<i class="icon-help-circled"></i>
</a>
<ul class="user-actions-dropdown">
<li class="user-actions-dropdown-item">
<a href="#">
<i class="icon-user"></i>
Conta
</a>
</li>
<li class="user-actions-dropdown-item">
<a href="#">
<i class="icon-info-circled"></i>
Notificações
</a>
</li>
<ul>
</li>
O CSS (Usando SASS):
.dropdown-trigger {
position: relative;
}
.user-actions-dropdown {
display: block;
position: absolute;
width: 180px;
height: auto;
background-color: $light-blue;
z-index: 12;
list-style: none;
padding: 0;
font-size: 1em;
margin: auto;
@include bordered(1px, solid, $light-gray);
margin-top: 15px;
left: 0;
right: 0%;
}
Procurei por algumas horas na internet afora por uma solução, e ao que tudo indica somente com JavaScript poderei atingir este resultado. Alguém saberia me dizer como fazer isso com ou sem JavaScript?
51956,c#,Estou com uma grande dúvida em relação onde devo colocar a minha query SQL, se no código ou no banco.
Atualmente tenho uma procedure que é montada de acordo com os parâmetros que tenho, ou seja, filtros.
Procedure
@escopoVerificacao varchar(MAX) = NULL
SET @sql = 'SELECT OrdemOrigem, OrdemTipo, IDCal, FROM  NormasCALClientes AS NCC'
IF @escopoVerificacao IS NOT NULL BEGIN
SET @sql = @sql + ' inner join VerificacoesClientes on VerificacoesClientes.IDCalCliente = NCC.IDCalCliente
AND VerificacoesClientes.IDCal = NCC.IDCal ' END exec(SQL)
No C#.
StringBuilder query = new StringBuilder();
query.Append("SELECT OrdemOrigem, OrdemTipo, IDCal, FROM  NormasCALClientes AS NCC");
if (!String.IsNullOrEmpty(escopoVerificacao.Text))
query.Append("inner join VerificacoesClientes on VerificacoesClientes.IDCalCliente = NCC.IDCalCliente
AND VerificacoesClientes.IDCal = NCC.IDCal");`
Dúvidas:
É boa pratica trafegar o texto criado no C# para o banco
como no 2º exemplo? Já ouvi falar que não seria uma boa pratica.
Em questões de Manutenibilidade e legibilidade, qual dos exemplos é
melhor?
O exemplo 1 poderia afetar o desempenho do banco, pelo fato de executar os ifs?
Qual usar?
51961,,Possuo um código em PHP dentro de um componente de imobiliária que estou utilizando.
<fieldset>
<legend><?php echo JText::_('COM_JEA_LOCALIZATION')?></legend>
<?php foreach ($this->form->getFieldset('localization') as $field): ?>
<div class="formelm"><?php echo $field->label . "\n" . $field->input ?></div>
<?php endforeach ?>
</fieldset>
Este Código faz com que no site a estrutura html mostre um  com várias  e dentro de cada uma um label e um input.
Saberiam apenas olhando para o código ter uma base do que se passa por trás?
51962,javascript,Eu estou com um problema que eu não consigo solucionar de forma alguma. O problema é o seguinte:
Eu utilizo o Grunt para automatizar as tarefas dos meus projetos, e neste caso, eu estou utilizando ele da seguinte forma:
Como eu fiz no desenho acima, eu gostaria de pegar todos os arquivos Javascript da pasta "DEV" e juntar com o arquivo "scripts.js" para resultar em arquivos com o mesmo nome e subdiretório, mas localizados na pasta "JS". Eu queria fazer tudo isso dinamicamente, com diretórios e subdiretórios.
Meu código (de teste) é este:
extras2: {
options: {
log: true
},
expand: true, // set to true to enable options following options:
cwd: '<%= dirs.folder %>dev/js', // all sources relative to this path
src: ['**/*.js', '!**/scripts.js', '!**/_base/**'], // source folder patterns to match, relative to cwd
dest: '<%= dirs.folder %>js', // destination folder path prefix
ext: '.js' // replace any existing extension with this value in dest folder
}
Lembrando que o arquivo scripts está na pasta "dev".
51965,,Eu tenho um vetor com quatro elementos que são números representados em forma hexadecimal.
O que eu preciso fazer é concatenar esses quatro elementos (creio que essa não seja a palavra certa, mas não encontrei outra melhor)?
Por exemplo:
int v[4]={0xA, 0xBB, 0x4B, 0x18};
Eu preciso de um resultado que seja semelhante a:
int resultado=0xABB4B18;
51968,,Como faço uma consulta SQL nesta tabela:
ID Col2 Col1
-- ---- ----
11   1    A
12   2    D
13   3    G
14   1    B
15   2    E
16   3    H
17   1    C
18   2    F
19   3    I
Para retornar este resultado:
1   A   B   C
2   D   E   F
3   G   H   I
Será que isso é possível?
51973,c#,Estou desenvolvendo uma tela de bloqueio estilo a de lan-house onde o usuário não sai da tela sem a permissão do servidor, gostaria de saber se tem como impedir o usuário de utilizar teclado e mouse ou de ele deixar o Form aberto (exemplo ALT + TAB), tem algumas funções da DLL user32, mas ela só funciona com privilégios de Administrador, e para mim fica inviável abrir a aplicação neste modo.
Obs: Já consegui bloquear o fechamento da tela via ALT + F4, e também já consegui impedir que o usuário abra o gerenciador de tarefas.
Grato pela ajuda.
51976,php,Acabei de subir um site para a Locaweb numa hospedagem simples e compartilhada Linux, só que para variar não funcionou.
Imagino que seja porque o index não está no raiz do site, e sim dentro da pasta public.
Pergunta: Como eu faço para fazer o index dentro do public funcionar, já que não tenho como mudar a configuração do virtualhost?
Obrigado
Ps. o htaccess esta assim:
RewriteEngine on
#AddHandler php53-script .php .php5 .php53 .pht .phtm .phtml
#suPHP_ConfigPath /home/site1389376316/
AddHandler php55-script .php
DirectoryIndex public/index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?p=$1 [QSA]
Consegui resolver em partes o problema. Fiz uma pequena alteração no htaccess.
Removi esta linha:
DirectoryIndex public/index.php
E alterei esta:
RewriteRule ^(.*)$ public/index.php?p=$1 [QSA]
Desta forma o site carrega mas por consequência os arquivos de imagem, css, js que estam todos na pasta public não são encontrados.
O que eu posso fazer?
51985,c#,E um exemplo de model:
public class Grupo
{
public int Id {get;set;}
public string Nome {get;set;}
public ICollection<Item> Itens {get;set:}
}
E os itens
public class Item
{
publit int Id {get;set;}
public int GrupoId {get;set;}
public string Nome {get;set;}
}
Existe alguma forma de eu filtrar via EF apenas os grupos que contenham Itens ?
51991,javascript,function getMensages(){
var xhr = new XMLHttpRequest();
xhr.open('GET', '../mensagens.php');
xhr.send();
xhr.onload=function(){
if (xhr.readyState==4 && xhr.status==200){
jsonText = xhr.responseText;
jsonObj = JSON.parse(jsonText);
}
return jsonObj;
}
}
getMensages();
console.log(jsonObj);
Como faço para pegar a variável jsonObj fora do escopo da função xhr.onload() e fora da função getMensages()? Ao chamar a função xhr.onload() já esta retornando objeto que quero mas preciso do objeto na variável fora dos escopos.
51992,,Estou criando um sistema para cadastrado de funcionário, porem, gostaria de começar de forma normalizada; pensei algo assim
tb_funcionario (id_func, id_funcao, id_depto, nome_func, data_nasc, end_fun, dt_admissao, dt_demissao)
tb_funcao (id_func,id_depto,nome_funcao)
tb_depto (id_depto, nome_depto)
O que da para melhorar ou acrescentar de tal forma que fique dentro dos padrões., grato pela colaboração.
51994,,Estou fazendo um modulo para exibição da quantidade de estoque na pagina do produto apenas se a quantidade for menor que a definida nas opções. beleza, mas a minha dúvida é:
O estoque está com menos que %s unidades . Quero saber como faço pra referenciar a variável %s dentro da minha mensagem!?
código usado para construção do config.xml
<stockmessages>
<option>
<stockmessages_enable>1</stockmessages_enable>
<stockmessages_min_qty>5</stockmessages_min_qty>
<stockmessages_message>The stock is below than %s items</stockmessages_message>
</option>
</stockmessages>
Isso permite que eu carregue uma mensagem padrao, certo, e segue o codigo ao utilizá-la em meu default.phtml:
<p class="availability in-stock"><?php $quantity=Mage::getModel('cataloginventory/stock_item')->loadByProduct($_product)->getQty(); if($quantity<= Mage::getStoreConfig('stockmessages/option/stockmessages_min_qty')) { echo Mage::getStoreConfig('stockmessages/option/stockmessages_message') . intval($quantity) . " ";} ?></p>
A dúvida é como inserir uma variável dentro da mensagem customizada e pegar pela opção para que o valor carregue na mensagem final. Obrigado
52000,php,Olá eu tenho o seguinte código:
Código antigo:
public function historicoAction() {
$entity = new Intervencao();
$em = $this->getDoctrine()->getManager();
$entities = $em->getRepository('RoqSysControlManutencaoBundle:Intervencao')->findAll();
$maquinas = $em->getRepository('RoqSysControlManutencaoBundle:Maquina')->findAll();
$prevista = $em->getRepository('RoqSysControlManutencaoBundle:Prevista')->findAll();
$entity->setDescricao($prevista->getDescricao());
return array(
'entity' => $entity,
'entities' => $entities,
'maquinas' => $maquinas,
);
}
Esta-me a dar o seguinte erro:
Error: Call to a member function getDescricao() on a non-object in /var/www/roqsys/src/RoqSys/Control/ManutencaoBundle/Controller/IntervencaoController.php line 76
Edit**
Código novo:
Tentei o seguinte:
public function historicoAction() {
$entity = new Intervencao();
$em = $this->getDoctrine()->getManager();
$entities = $em->getRepository('RoqSysControlManutencaoBundle:Intervencao')->findAll();
$maquinas = $em->getRepository('RoqSysControlManutencaoBundle:Maquina')->findAll();
$prevista = $em->getRepository('RoqSysControlManutencaoBundle:Prevista')->findAll();
var_dump($prevista);
foreach($prevista as $obj) {
echo $prevista->getDescricao();
}
$entity->setDescricao($prevista->getDescricao());
return array(
'entity' => $entity,
'entities' => $entities,
'prevista' => $prevista,
'maquinas' => $maquinas,
);
}
E mesmo assim dá-me o mesmo erro.
52005,javascript,Gostaria de saber qual a melhor forma de tratar url com parâmetros string em angular.js.
Ao ser acessado:
www.app.net/nomeDaPessoa/ServicoDaPessoa
Iria responder a uma determinada rota que esta recebendo o nomeDaPessoa e ServicoDaPessoa como parâmetro.
Outro exemplo seria:
www.app.net/nomeDaPessoa
No caso receberia como parâmetro o nomeDaPessoa!
Utilizo Node.js com Express.js para fazer a entrega dos arquivos.
52007,,Olá, estou fazendo um site de filme e gostaria de uma ajuda nessa parte.
Após conseguir conexão com a BD, quero que cada registro aparece dentro da grid que fiz.
Vou explicar melhor com fotos.
Cada filme tem seu registro contendo cada informação que desejo manipular.
Acima mostra como eu chamo meu script PHP que contem a conexão com BD.
porém ele mostra os 2 registro no mesmo local,
queria que o filme 1 fosse no local do 1 e assim por diante. segue a grid do layout!
Esse é o arquivo PHP
<?php
$conecta = mysql_connect("127.0.0.1", "root", "") or print (mysql_error());
mysql_select_db("bd", $conecta) or print(mysql_error());
$filmes = mysql_query("SELECT * FROM filmes");
while($dados = mysql_fetch_array($filmes)){
echo $dados['nome'] . "<br>";
echo $dados['sinopse'] . "<br>";
echo $dados['categoria'] . "<br>";
}
?>
52013,javascript|html,Bom dia, tenho o seguinte código:
function exibe() {
var tipo = "${mainForm.tipo}";
var man_tipo = "${mainForm.man_tipo}";
if ((man_tipo == 'B' && tipo.search('V').toFixed(0) < 0)) {
if (document.form_folhatd_teste.teste.checked) {
document.getElementById('pressao_min').style.display = '';
document.getElementById('pressao_max').style.display = '';
document.getElementById('vazao_min').style.display = '';
document.getElementById('vazao_max').style.display = '';
} else {
document.getElementById('pressao_min').style.display = 'none';
document.getElementById('pressao_max').style.display = 'none';
document.getElementById('vazao_min').style.display = 'none';
document.getElementById('vazao_max').style.display = 'none';
}
}
}
<td>
<input type="checkbox" value="true" name="teste" id="teste" <#if (folhaTDMecanicoForm.lub_forcada)>checkbox</#if>onclick="javascript: exibe();">
</td>
Que faz o seguinte: Quando o usuário clica no checkbok, abre uma div com uma série de campos. Até aí tudo certo e funcionando. Porém, preciso que ao invés de type="checkbox" tenha type="radio" .Vejam o HTML abaixo.
<td>
Quando selecionado não abre nada
<input type="radio" value="nao_abri" name="teste" id="teste">
</td>
<td>
Quando selecionada abre a div 1
<input type="radio" value="abri1" name="teste" id="teste" <#if (folhaTDTesteForm.teste)>checked</#if>onclick="javascript: exibe();">
</td>
<td>
Quando selecionada abre a div 2
<input type="radio" value="abri2" name="teste" id="teste" <#if (folhaTDTesteForm.teste)>checked</#if>onclick="javascript: exibe();">
</td>
Como posso adaptar o script acima para funcionar com o type="radio"?
52014,,Estou com o seguinte problema:
Meu .htaccess define minha reescrita de URL que funciona perfeitamente quando acesso por http porém quando acesso por https ele informa que a página não foi encontrada.
Segue abaixo o meu .htaccess.
AddDefaultCharset UTF-8
RewriteEngine on
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/\.]+)/?$ index.php?area=$1 [L]
RewriteRule ^([^/\.]+)/([^/\.]+)/?$ index.php?area=$1&sub=$2 [L]
RewriteRule ^([^/\.]+)/([^/\.]+)/([^/\.]+)/?$ index.php?area=$1&sub=$2&subitem=$3 [L]
Alguém já passou pelo mesmo? Tem alguma ideia de o que pode ser?
52015,c#,Estou com um problema, pois tenha uma variável do tipo string e preciso converter para o tipo double sem perder o "ponto". Exemplo: string latitude = "-8.709006" ao converter seja igual a: -8.709006 Mas até então já fiz vários teste diferentes e nada.
string latitude = "-8.709006";
double lat = Double.Parse(latitude);
//Mas ele esta me trazendo: -8709006 e nao -8.709006
Já fiz de outra forma também mas não obtiver resultado:
string latitude = "-8.709006";
System.Globalization.CultureInfo cult = new System.Globalization.CultureInfo("en-US");
double lat = double.Parse(latitude, cult);
//Desta vez o resultado foi: -8,709006 e nao -8.709006
Como também tentei assim:
string latitude = "-8.709006";
double lat = Double.Parse(latitude, System.Globalization.CultureInfo.InvariantCulture);
//E o resultado foi: -8,709006 e nao -8.709006
52022,,Digamos que eu esteja criando um Atributo como esse:
TCompareAttribute = class(TCustomAttribute)
private
FPropertyToCompare: string;
public
constructor Create(APropertyToCompare: string);
function IsValid: boolean;
end;
implementation
...
function TCompareAttribute.IsValid: boolean;
var
ctx: TRttiContext;
begin
ctx := TRttiContext.Create;
try
prop := ctx.GetType(self.ClassParent).GetProperty(FPropertyToComparer);
if prop = nil then
raise Exception.Create('A propriedade não existe!');
result := prop.GetValue() = ??
finally
ctx.Free;
end;
end;
A finalidade desse atributo é para comparar duas propriedades e verificar se possuem o mesmo valor, se estão iguais.
Tenho duas perguntas:
1ª. Como obter o valor da propriedade na variável "prop" sem a instância do objeto
e;
2ª. Como obter a propriedade onde o atributo está declarado para então comparar os valores?
52025,,Estou com um problema aqui no IE.
Estou estilizando o componente select do form, ocultando a seta que vem por default do browser para carregar uma imagem no lugar da mesma.
No FF e Chrome foi tranquilo, porém no IE está aparecendo a seta default do browser, dei uma pesquisada e testes sobre todas as possíveis variantes do mesmo mas o dito cujo continua aparecendo, mesmo utilizando:
select::-ms-expand {
display: none;
}
Código:
form select{
background: transparent;
border: 1px solid #DDDDDD;
border-radius: 5px 0 0 5px;
box-shadow: 1px 0 2px rgba(0, 0, 0, 0.2) inset;
color: #999;
font-size: 14px;
height: 45px;
padding: 0 5px;
width: 250px;
-webkit-appearance: none;
-moz-appearance: none;
-ms-appearance: none;
-o-appearance: none;
background: url("http://www.iconesbr.net/iconesbr/2009/06/8383/8383_32x32.png") 100% / 17% no-repeat;
text-transform: uppercase;
select::-ms-expand { display: none; }/* Remove seta padrão do IE*/
}
select::-ms-expand {
display: none;
}
<form method="post" action="">
<label>
<select name="depto" id="selectDepto">
<option selected value=""> Busca por departamento</option>
<option value="administração">Administração</option>
<option value="comercial">Comercial</option>
<option value="consultoria">Consultoria</option>
<option value="controle de qualidade">Qualidade</option>
<option value="desenvolvimento">Desenvolvimento</option>
<option value="diretoria">Diretoria</option>
<option value="endomarketing">EndoMarketing</option>
<option value="financeiro">Financeiro</option>
<option value="implantação">Implantação</option>
<option value="marketing">Marketing</option>
<option value="pré implantação">Pré-Implantação</option>
<option value="recursos humanos">Recursos Humanos</option>
<option value="tecnologia">Tecnologia</option>
<option value="treinamento">Treinamento</option>
</select>
</label>
</form>
Como posso resolver isto?
JSFiddle
52027,,Estou fazendo uma query em uma tabela. O campo filiais retorna o seguinte valor
["005","001"]
Queria diretamente na query transformar essa string(varchar) em:
['005','001']
Com as aspas simples
Minha query
SELECT * FROM bancos WHERE ativo=1
52029,c#,Gostaria de desenvolver um sistema que possibilitasse conectar uma máquina em outra máquina e me desse o controle total dessa 2° maquina, Ex: Team Viewer, Ammy Admin, Log me In.
Não gostaria de fazer nada muito avançado, apenas algo que eu ficasse independente desses softwares de terceiros.
Bem, vocês teriam uma ideia de como começar isso?
Algum artigo do conhecimento de vocês que possar me auxiliar nesse desenvolvimento?
Também se é algo que compensa investir tempo para desenvolver?
52032,,Estou migrando o DB do meu app pro Heroku, o deploy funcionou:
$ git push heroku master
Ao tentar migrar a base de dados de acordo com o comando $ heroku run rake db:migrate não funciona e retorna o seguinte erro:
$ : No such file or directory
No log do heroku tem a seguinte entrada:
> $ heroku logs
> $ : No such file or directory00:00 app[web.1]: /usr/bin/env: ruby
Como eu resolvo isso?
52033,php,Problema:
Consultar uma página em outro site, passando parâmetros via POST e recebendo o resultado no PHP.
Eu tenho o seguinte site:
http://www.ciiagro.sp.gov.br/ciiagroonline/Listagens/BH/LBalancoHidricoEDR.asp
No console quando uma pesquisa é feita aparece os seguintes parâmetros:
EDR
Inicio
Existe algum comando no PHP em que você faz o POST para uma página qualquer e ele faz o "download" dessa página?
52038,android,Estou a trabalhar num projecto em que tenho de fazer uma App que vá buscar informação à base  de dados via Json. Já fiz dezenas de tutoriais e acabo sempre por não conseguir receber uma resposta do Server e nem sequer chega pedido algum ao Server.
Aqui está o código do último que fiz e que tinha esperanças de resultar:
Json
{
"Device": {
"id": "1198",
"activo": "1",
"designacao": "alvaro-digisilent",
"data_entrada": "2014-07-25",
"username": "*****",
"password_admin": "*******",
"so": "Microsoft Windows",
"so_versao": "7",
"obs": "",
"local_id": "4",
"cliente_id": "1",
"tipo_maquina_id": "2",
"colaboradore_id": "148",
"factura_id": "1"
}
}
MainActivity.java
public class MainActivity extends ListActivity {
private ProgressDialog pDialog;
//URL para ir buscar os Devices JSON
private static String url = "<linkdapaginaquedáojson>";
//Nomes dos JSON Nodes
private static final String TAG_DEVICE = "Device";
private static final String TAG_LOCAL = "local";
private static final String TAG_FACTURA = "factura";
//Devices JSONArray
JSONArray devices = null;
//Hashmap para a ListView
ArrayList<HashMap<String, String>> deviceList;
@Override
protected void onCreate(Bundle savedInstanceState) {
super.onCreate(savedInstanceState);
setContentView(R.layout.activity_main);
deviceList = new ArrayList<HashMap<String, String>>();
ListView listView = getListView();
//Chamar a ASyncTask para ir buscar o JSON
new GetDevice().execute();
}
//ASyncTask para receber o JSON ao fazer a HTTP Call
private class GetDevice extends AsyncTask<Void, Void, Void> {
@Override
protected void onPreExecute() {
super.onPreExecute();
//Mostra a barra de progresso
pDialog = new ProgressDialog(MainActivity.this);
pDialog.setMessage("Espera que eu tambem esperei");
pDialog.setCancelable(false);
pDialog.show();
}
@Override
protected Void doInBackground(Void... arg0) {
//Criar uma instance da class Service Handler
ServiceHandler sh = new ServiceHandler();
//Faz um request ao url e recebe a resposta
String jsonStr = sh.makeServiceCall(url, ServiceHandler.GET);
Log.d("MYLOG", "Response= " + jsonStr);
if (jsonStr != null) {
try {
//Criar um JSON Object
JSONObject jsonObj = new JSONObject(jsonStr);
devices = jsonObj.getJSONArray(TAG_DEVICE);
JSONObject d = devices.getJSONObject(0);
String device = d.getString(TAG_DEVICE);
String local = d.getString(TAG_LOCAL);
String factura = d.getString(TAG_FACTURA);
//Hashmap temporario para apenas um device
HashMap<String, String> dev = new HashMap<String, String>();
dev.put(TAG_DEVICE, device);
dev.put(TAG_FACTURA, factura);
dev.put(TAG_LOCAL, local);
deviceList.add(dev);
} catch (JSONException e) {
e.printStackTrace();
}
} else {
Log.e("ServiceHandler", "Couldn't get any data from the url");
}
return null;
}
@Override
protected void onPostExecute(Void result){
super.onPostExecute(result);
//Dismiss da progress bar
if(pDialog.isShowing())
pDialog.dismiss();
//update do parsed JSON para a listview
ListAdapter adapter = new SimpleAdapter(MainActivity.this, deviceList, R.layout.list_item, new String[]{TAG_DEVICE,
TAG_FACTURA, TAG_LOCAL}, new int[]{R.id.name, R.id.factura, R.id.local});
setListAdapter(adapter);
}
}
}
ServiceHandler.java
public class ServiceHandler {
static String response = null;
public final static int GET = 1;
public ServiceHandler() {
}
/**
* Making service call
* @url - url to make request
* @method - http request method
* */
public String makeServiceCall(String url, int method) {
return this.makeServiceCall(url, method, null);
}
/**
* Making service call
* @url - url to make request
* @method - http request method
* @params - http request params
* */
public String makeServiceCall(String url, int method,
List<NameValuePair> params) {
try {
// http client
DefaultHttpClient httpClient = new DefaultHttpClient();
HttpEntity httpEntity = null;
HttpResponse httpResponse = null;
if (method == GET) {
// appending params to url
if (params != null) {
String paramString = URLEncodedUtils
.format(params, "utf-8");
url += "?" + paramString;
}
HttpGet httpGet = new HttpGet(url);
httpResponse = httpClient.execute(httpGet);
}
httpEntity = httpResponse.getEntity();
response = EntityUtils.toString(httpEntity);
} catch (UnsupportedEncodingException e) {
e.printStackTrace();
} catch (ClientProtocolException e) {
e.printStackTrace();
} catch (IOException e) {
e.printStackTrace();
}
return response;
}
}
No tutorial tinha também o método POST mas como só quero ir buscar informação, tirei.
O que é que tenho de errado? Que outra solução pode ser utilizada para resolver este entrave?
52039,javascript,Tentei algo como:
function Objeto(){
this.del = function(){
delete this;
}
}
var a = new Objeto();
a.del();
Mas a variável a ainda está existindo
Eu conheço o método citado na resposta do @bfavaretto, mas para o código em que estou trabalhando não consigo 'subir um nível' na estrutura de variáveis para executar este delete, ou obj = null;
Eis o trecho em que pretendo utilizar isto:
Bullet.prototype.step = function() {
for (var i = 0; i < mobs.length; i++){
if ((this.x >= mobs[i].x && this.x <= mobs[i].x + mobs[i].size) && (this.y >= mobs[i].y && this.y <= mobs[i].y + mobs[i].size)){
mobs[i].getHit(this.damage);
delete this;
}
}
};
Ou a referência completa:http://codepen.io/GabrielMaia/pen/LEmROB
52040,java,Bom, antes de tudo, eu procurei em vários sites, inclusive aqui, como fazer isso. Testei códigos e modifiquei mas mesmo assim, continuei recebendo erros.
O problema são os sockets para fazer a conexão. Não faço ideia de como usá-los, e eu   preciso criar um programa que funcione como servidor/cliente. Ele enviará algo tipo 5     Strings, para um outro programa que irá fazer umas reorganizações e enviará Strings para um outro servidor/cliente e retornará mais Strings para o primeiro, basicamente ele será um Chat com um Servidor, um Chat.jar e um Servidor.jar.
Gostaria de fazer o Servidor.jar funcionar em um computador com o no-ip instalado.
Eis o código que tenho no momento:
Socket clientSocket = null;
BufferedReader inputLine;
PrintStream os = null;
BufferedReader is = null;
InetSocketAddress addr = new InetSocketAddress("servidor.ddns.net", 15980);
try {
ServerSocket serverSocket = new ServerSocket(15980);
clientSocket = serverSocket.accept();
clientSocket = new Socket("servidor.ddns.net", 15980);
System.out.println("Connected");
inputLine = new BufferedReader(new InputStreamReader(System.in));
os = new PrintStream(clientSocket.getOutputStream());
is = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));
serverSocket.close();
} catch (UnknownHostException e) {
System.err.println("Don't know about host");
} catch (IOException e) {
System.err.println("Couldn't get I/O for the connection to the host \nServer must be down! NOOO!!");
}
Numa forma mais ilustrativa, seria pra ser algo mais ou menos assim:
Servidor/Cliente¹ ----> Servidor/Cliente Principal ----> Servidor/Cliente²
Depois...
Servidor/Cliente² ----> Servidor/Cliente Principal ----> Servidor/Cliente¹
O Servidor/Cliente principal seria o Servidor.Jar e os outros, Chat.jar.
Usando um código parecido com esse código de cima, só recebia a mensagem do "IOException e" e de outras formas, recebia algo tipo "Connect: refused connect".
Bom... Resumindo, preciso enviar várias Strings, enquanto continuo podendo receber Strings. Não sei como explicar direito e nem como pedir, estou totalmente perdido. Espero que tenham entendido.
OBS: O código do resto do programa está feito. Só está faltando isso.
Essa parte do código é nova e já está funcionando normal, agora só sobrou um problema, eu queria trocar de 127.0.0.1, para uma conexão com o host no-ip, por exemplo: meuservidor.ddns.net
Tem como fazer isso? Se sim, como?
Socket cliente = new Socket("127.0.0.1", 12342);
System.out.println("O cliente conectou ao servidor");
ObjectOutputStream dados = new ObjectOutputStream(cliente.getOutputStream());
// O código dessa forma está funcionando
dados.writeUTF("Projeto");
dados.writeUTF("Outra Mensagem");
dados.writeUTF("Projeto");
dados.flush();
cliente.close();
Esse é o que aparece quando troco o localhost pelo "meuservidor.ddns.net" usando essa porta: 12342
Exception in thread "main" java.net.ConnectException: Connection refused: connect
at java.net.DualStackPlainSocketImpl.connect0(Native Method)
at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source)
at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source)
at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source)
at java.net.AbstractPlainSocketImpl.connect(Unknown Source)
at java.net.PlainSocketImpl.connect(Unknown Source)
at java.net.SocksSocketImpl.connect(Unknown Source)
at java.net.Socket.connect(Unknown Source)
at java.net.Socket.connect(Unknown Source)
at java.net.Socket.<init>(Unknown Source)
at java.net.Socket.<init>(Unknown Source)
at calc.cliente.main(cliente.java:10)
A solução tem de ser algo que não envolva liberar portas no firewall/roteador.
52044,c#,Estou montando um pequeno sistema onde eu criei um Formulario em que há um Combobox que lista o nome dos funcionários armazenados no banco e um DataGrid que mostra os serviços feito por eles (valor, descrição e cliente).
Ao selecionar o funcionario no Combobox,eu queria que mostrasse os servicos feito por ele,entao eu criei
SELECT func_nome, serv_desc, serv_cliente, serv_valor FROM func_serv
INNER JOIN func_dados ON func_serv.func_id = func_dados.func_id
WHERE func_serv.func_id = //codigo da funcionaria;
Minha duvida é, ao pegar o índice do combobox selecionado, como posso usa-lo como parâmetro para minha consulta sql, substituindo aquela parte comentada do código.
Eu pensei em criar vários ifs, mas se for criado um novo funcionário, irei ter de por mais um if.
Me ajudem, por favor
52045,java,Como calcular o resto com "%" a partir de dois números BigInteger?
52053,,Eu tenho duas tabelas:
monitor_carro
id serial | setor_id |  modelo | ano | placa
monitor_evento
id serial | lat | long | data | fkfuncionario_id | time | carro
A tabela monitor_evento só tem uma chave estrangeira que é funcionario e em ambas as tabelas a chave primaria é a id serial.
Supondo que eu tenha diversos carros inseridos na tabela monitor_carro e que tenha diversas entradas desses carros no meu bd. Gostaria de uma ajuda para retornar a ultima entrada de cada carro na tabela monitor_evento.
Alguém poderia me ajudar com isso?
Desde já agradeço.
52057,,Buenas
Tenho um post_type do wordpress que chama produtos.
Criei um archive-produtos.php e dentro dele tenho o loop. Dentro dela preciso ter, antes da lista um conteúdo editável, e pra isso tem a página chamada Produtos, dentro de Pages no wordpress.
Qual a melhor maneira de fazer isso sem que haja conflitos na url?
Att,
52058,,Os Objetos não aparecem no Visual do XAML.
Eles só aparecem se for um projeto usando Silverlight.
Mas no Emulador ao Compilar exibir normal, é ruim só pra editar Visual do Aplicativo.
52059,c#,Preciso calcular o O dígito verificador geral corresponde à 5ª posição do código de barras,
tenho os seguinte dados.
O dígito verificador será o resultado da subtração: 11 - resto da divisão. Se o resultado da subtração for 0 (zero), 1 (um) ou maior que 9 (nove), o dígito verificador será 1 (um).
52060,c#,Preciso fazer uma comparação para setar o valor dentro do meu select new. Vou tentar explicar melhor.
var tipo= from t in p
select new
{
t.Key,
t.Value,
};
return Ok(tipo);
Queria comprar se t.key == "azul" se fosse, ele setaria somente esse valor. Caso ele fosse outra coisa, setaria o valor referente.
Tentei criar um if() dentro do linq, porém a linguagem n permite. Alguém tem alguma ideia de como posso comprar?
O valor que quero comprar é com um Enummeration.
52062,,Existe alguma maneira de se inserir um UUID automaticamente em um campo da tabela, da mesma maneira que se faz com um campo do tipo AUTO_INCREMENT?
Em um framework para PHP, o CakePHP, quando definimos a chave primária como VARCHAR(40), ele insere um UUID automaticamente, como se fosse o auto incremento da tabela.
Existe uma maneira de fazer isso diretamente pelo MySQL? Ou sempre temos que definir o UUID na hora do INSERT?
Exemplo:
Usuarios
- uuid
- nome
- senha
52065,java,Gostaria de saber uma forma eficaz e estruturada para ler os Arquivos de Remessa de Boletos que são enviados aos Bancos. Já encontrei algumas bibliotecas que geram esses arquivos, mas nenhuma que leia esses arquivos.
Se ao menos existir uma biblioteca simples que já contém a estrutura lógica da CNAB, eu poderia continuar.
Sendo mais específico, eu preciso ler os arquivos que seguem esse layout do Itaú (http://download.itau.com.br/bankline/layout_cobranca_400bytes_cnab_itau.pdf) e do Bradesco (http://www.bradesco.com.br/portal/PDF/pessoajuridica/solucoes-integradas/outros/layout-de-arquivo/cobranca/4008-524-0121-08-layout-cobranca-versao-portugues.pdf)
Estou começando a conhecer a poderosa biblioteca jabuticava, mas é dificil entender quais os Objetos ou Transfer Objects que devo utilizar caso não exista um método fácil para isso e caso eu mesmo desenvolva a leitura dos arquivos.
52073,java,Bancos, certificados digitais, sites de serviços governamentais ainda dependem do plugin do Java.
A ideia do Java, "escreva uma vez, rode em qualquer lugar" nem sempre é uma verdade.
Muitos serviços ainda tem requerimentos específicos de plataforma, só rodam no Windows e representam um problema para usuários de outras plataformas.
O que o plugin do Java oferece em termos funcionais que os navegadores modernos não conseguem resolver?
52074,python,Olá, não estou conseguindo codificar corretamente a seguinte string no Python:
algor\u00edtimo
Já tentei as seguintes alternativas:
u'algor\u00edtimo'.encode('utf-8')
'algor\u00edtimo'.decode('utf-8')
u'algor\u00edtimo'.encode('ascii')
u'algor\u00edtimo'.encode('ascii')
52075,c#,Olá, eu tenho um webservice que me retorna uma lista de "categorias" com suas sub-categorias .
Necessito de ajuda para fazer a "filtragem disto", por exemplo:
Categoria 1 tem as sub-categoria 1 e 2;
Categoria 2 tem a sub-categoria 3;
Categoria 3 tem a sub-categoria 4, 5 e 6;
Quero que ao selecionar a categoria 1, venha na próxima tela as sub-categorias 1 e 2.
O meu web-service, já retorna para mim todas as categorias e sub-categorias de cada uma, quero saber como manusear elas para operar dessa maneira..
O parse feito para pegar os códigos de categoria, seriam estas e são adicionadas à um ObservableCollection:
string strDataTable = e.Result;
try
{
if (strDataTable.Length < 20)
{
MessageBox.Show("Não há dados disponíveis no momento, tente novamente mais tarde.\nCaso o erro persista, contactar o suporte técnico.");
return;
}
XElement doc = XElement.Parse(strDataTable);
foreach (XElement row in doc.Elements("GWDataTable"))
{
Produtos produto = new Produtos();
produto.descCateg = row.Element("DESCRICAOCATEGORIA").Value.ToString();
produto.descFamil = row.Element("DESCRICAOFAMILIA").Value.ToString();
produto.descGrupo = row.Element("DESCRICAOGRUPO").Value.ToString();
produto.descReceita = row.Element("DESCRICAOCRECEITA").Value.ToString();
produto.descricao = row.Element("OBS").Value.ToString();
produto.produto = row.Element("DESCRICAOPROD").Value.ToString();
produto.unidade = row.Element("UNIDADE").Value.ToString();
produto.precoN = row.Element("PRECONORMAL").Value.ToString();
produto.precoP = row.Element("PRECOPROMOCIONAL").Value.ToString();
produto.codCategoria = row.Element("CODCATEGORIA").Value.ToString();
produto.codFamilia = row.Element("CODFAMILIA").Value.ToString();
produto.codGrupo = row.Element("CODGRUPO").Value.ToString();
produto.codReceita = row.Element("CODCRECEITA").Value.ToString();
Resultados.ResProdutos.Add(produto);
}
try
{
SelectorProdutos.ItemsSource = Resultados.ResProdutos;
SetProgressIndicator(false);
}
catch (Exception)
{
MessageBox.Show("ERRO");
}
}
Resultados.ResProdutos.Add(produto);}
Produtos:
public class Produtos
{
public string descReceita { get; set; }
public string descGrupo { get; set; }
public string descCateg { get; set; }
public string descFamil { get; set; }
public string produto { get; set; }
public string codReceita { get; set; }
public string codGrupo { get; set; }
public string codCategoria { get; set; }
public string codFamilia { get; set; }
public string precoN { get; set; }
public string precoP { get; set; }
public string unidade { get; set; }
public string descricao { get; set; }
}
}
Prefiro usar um SelectionChanged para começar a partir do usuário clicando no item do LongListSelector, passar para a próxima tela, com a próxima categoria:
private void SelectorProdutos_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
if (SelectorProdutos.SelectedItem != null)
{
NavigationService.Navigate(new Uri("/Telas/frm5Grupo.xaml", UriKind.Relative));
}
else
{
MessageBox.Show("Erro");
}
}
De primeira eu envio para a tela o CODRECEITA para o meu LongListSelector, para o usuário selecionar o item que deseja, mas após ser selecionado, como posso prosseguir a filtragem?
Código XML de resposta do webservice:
<string xmlns="http://tempuri.org/">
<NewDataSet>
<xs:schema id="NewDataSet" xmlns="" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:msdata="urn:schemas-microsoft-com:xml-msdata">
<xs:element name="NewDataSet" msdata:IsDataSet="true" msdata:MainDataTable="GWDataTable" msdata:UseCurrentLocale="true">
<xs:complexType>
<xs:choice minOccurs="0" maxOccurs="unbounded">
<xs:element name="GWDataTable">
<xs:complexType>
<xs:sequence>
<xs:element name="CODPROD" type="xs:int" minOccurs="0" />
<xs:element name="DESCRICAOPROD" type="xs:string" minOccurs="0" />
<xs:element name="CODCRECEITA" type="xs:int" minOccurs="0" />
<xs:element name="DESCRICAOCRECEITA" type="xs:string" minOccurs="0" />
<xs:element name="CODGRUPO" type="xs:int" minOccurs="0" />
<xs:element name="DESCRICAOGRUPO" type="xs:string" minOccurs="0" />
<xs:element name="CODCATEGORIA" type="xs:int" minOccurs="0" />
<xs:element name="DESCRICAOCATEGORIA" type="xs:string" minOccurs="0" />
<xs:element name="CODFAMILIA" type="xs:int" minOccurs="0" />
<xs:element name="DESCRICAOFAMILIA" type="xs:string" minOccurs="0" />
<xs:element name="PRECONORMAL" type="xs:double" minOccurs="0" />
<xs:element name="PRECOPROMOCIONAL" type="xs:double" minOccurs="0" />
<xs:element name="UNIDADE" type="xs:string" minOccurs="0" />
<xs:element name="OBS" type="xs:string" minOccurs="0" />
</xs:sequence>
</xs:complexType>
</xs:element>
</xs:choice>
</xs:complexType>
</xs:element>
</xs:schema>
<GWDataTable>
<CODPROD>1</CODPROD>
<DESCRICAOPROD>CERVEJA ANTARCTICA</DESCRICAOPROD>
<CODCRECEITA>12</CODCRECEITA>
<DESCRICAOCRECEITA>BEBIDAS</DESCRICAOCRECEITA>
<CODGRUPO>15</CODGRUPO>
<DESCRICAOGRUPO>BEBIBAS ALCOOLICA</DESCRICAOGRUPO>
<CODCATEGORIA>200</CODCATEGORIA>
<DESCRICAOCATEGORIA>EM LATA</DESCRICAOCATEGORIA>
<CODFAMILIA>105</CODFAMILIA>
<DESCRICAOFAMILIA>CERVEJA</DESCRICAOFAMILIA>
<PRECONORMAL>2.6</PRECONORMAL>
<PRECOPROMOCIONAL>2.3</PRECOPROMOCIONAL>
<UNIDADE>LATA</UNIDADE>
<OBS>Quantidade máxima por cliente (5).</OBS>
</GWDataTable>
<GWDataTable>
<CODPROD>14</CODPROD>
<DESCRICAOPROD>AMACIANTE OMO</DESCRICAOPROD>
<CODCRECEITA>19</CODCRECEITA>
<DESCRICAOCRECEITA>LIMPEZA</DESCRICAOCRECEITA>
<CODGRUPO>121</CODGRUPO>
<DESCRICAOGRUPO>LAVA ROUPAS</DESCRICAOGRUPO>
<CODCATEGORIA>76</CODCATEGORIA>
<DESCRICAOCATEGORIA>EM PÓ</DESCRICAOCATEGORIA>
<CODFAMILIA>15</CODFAMILIA>
<DESCRICAOFAMILIA>AMACIANTES</DESCRICAOFAMILIA>
<PRECONORMAL>7.4</PRECONORMAL>
<PRECOPROMOCIONAL>6.99</PRECOPROMOCIONAL>
<UNIDADE>CX</UNIDADE>
<OBS>Validade da oferta 15/05.</OBS>
</GWDataTable>
</NewDataSet>
</string>
52076,,Imagine que você tenha 3 entidades: Aluno, Disciplina e AlunoDisciplina.
A entidade AlunoDisciplina , além de relacionar o Aluno com a Disciplina, também inclui outras informações, como a nota final do aluno. Logo basicamente temos algo assim:
class AlunoDisciplina {
Aluno aluno;
Disciplina disciplina;
double notaFinal;
}
Da maneira como está exposta a entidade acima, aluno e disciplina compõem uma chave primária composta, dado que um aluno não pode estar associado à mesma disciplina mais de uma vez.
Algumas operações que eu preciso implementar:
Lista de alunos matriculados na disciplina (com as respectivas notas);
Lista de disciplinas em que o aluno está matriculado (com as respectivas notas);
Adicionar/Remover um aluno de uma disciplina;
Editar a nota final do aluno na disciplina.
Como posso expor este relacionamento de forma RESTful?
O que pensei até o momento
Para os itens 1 e 2, respectivamente, imagino os recursos abaixo.
(GET) /disciplinas/{idDisciplina}/alunos-matriculados.json
{
"alunosMatriculados": [{
"aluno": {
"id": 2,
"nome": "Pedro"
},
"notaFinal": 9.5
}, {
"aluno": {
"id": 6,
"nome": "Maria"
},
"notaFinal": 10
}]
}
(GET) /alunos/{idAluno}/disciplinas.json
{
"matriculadoNasDisciplinas": [{
"disciplina": {
"id": 1,
"nome": "Matemática"
},
"notaFinal": 9.5
}, {
"disciplina": {
"id": 2,
"nome": "Filosofia"
},
"notaFinal": 7
}]
}
Para os itens 3 e 4 não estou encontrando a melhor forma de resolver.
A melhor solução seria esta mesmo ou existe alguma outra maneira melhor?
Têm alguma sugestão para os itens 3 e 4?
52077,html,Preciso utilizar um texto centralizado na página e entre duas linhas horizontais em todas títulos do projeto, conforme abaixo:
O texto do título possui magin: 0 35px, é dinâmico e as linhas horizontais devem aumentar ou diminuir de acordo.
52083,,Assumi um site para dar continuidade no desenvolvimento, mas estou com um problema legado, não estou conseguindo deixar o texto preto quando o usuário passar o mouse sobre uma opção do menu, por exemplo, ao passar o mouse sobre a opção CATEGORIAS as opções do submenu deveriam ficar pretas.
O css está assim:
#bt-menu, #bt-menu ul {
margin: 0;
padding: 0;
list-style: none;
}
#bt-menu {
width: 1176px;
margin: 0px auto;
background: #102983;
}
#bt-menu:before, #bt-menu:after {
content: "";
display: table;
}
#bt-menu:after {
clear: both;
}
#bt-menu {
zoom: 1;
}
#bt-menu li {
float: left;
position: relative;
color: #000;
}
/* OPÇÕES DO MENU - AQUI QUANDO ALTERO 000 O TEXTO FICA EM PRETO */
#bt-menu a {
float: left;
padding: 12px 30px;
color: #FFF;
text-transform: uppercase;
font:12px Arial, Helvetica;
text-decoration: none;
}
/* COR DO TEXTO DO MENU */
#bt-menu li:hover > a {
background: #FFEC01;
color: #000;
}
*html #bt-menu li a:hover { /* IE6 only */
color: #000;
}
#bt-menu ul {
margin: 20px 0 0 0;
_margin: 0; /*IE6 only*/
opacity: 0;
visibility: hidden;
position: absolute;
top: 39px;
left: 0;
z-index: 9999;
background: #FFEC01;
}
#bt-menu li:hover > ul {
opacity: 1;
visibility: visible;
margin: 0;
}
#bt-menu ul ul {
top: 0;
left: 150px;
margin: 0 0 0 0px;
_margin: 0; /*IE6 only*/
}
#bt-menu ul li {
float: none;
display: block;
border: 0;
_line-height: 0; /*IE6 only*/
}
#bt-menu ul li:last-child {
-moz-box-shadow: none;
-webkit-box-shadow: none;
box-shadow: none;
}
#bt-menu ul a {
padding: 10px;
width: 190px;
_height: 10px; /*IE6 only*/
display: block;
white-space: nowrap;
float: none;
text-transform: none;
}
#bt-menu ul a:hover {
background-color: #FFEC01;
}
#bt-menu ul li:first-child > a:after {
content: '';
position: absolute;
left: 40px;
top: -6px;
}
#bt-menu ul ul li:first-child a:after {
left: -6px;
top: 50%;
margin-top: -6px;
}
Um exemplo pode ser visto aqui:
Possione o ponteiro sobre CATEGORIA
52086,,Eu tenho um ImageButton em webform que representa diretorios em um grid usando repeater.
Como fazer para que com 1 clique apenas selecione o botão, e só abra com dois cliques?
<asp:Repeater ID="rtInlineBlock" runat="server">
<ItemTemplate>
<div class="block">
<asp:HiddenField ID="idDirectorio" runat="server" Value='<%# Eval("guid") %>' />
<asp:ImageButton ID="btSend" runat="server" ImageUrl='<%# Eval("imgPath") %>' OnClick="btSend_Click" />
<div class="bottom">
<asp:Label ID="lblNome" runat="server" Text='<%# Eval("xInfo") %>' />
</div>
</div>
</ItemTemplate>
</asp:Repeater>
Codebehind:
protected void btSend_Click(object sender, ImageClickEventArgs e)
{
var btSend = sender as ImageButton;
var rtItem = btSend.Parent as RepeaterItem;
var idDiretorioSelecionado = rtItem.FindControl("idDirectorio") as HiddenField;
//faz algo
}
so quero que entre nesse exemplo com duplo clique.
Dessa forma ele ja chama o evento ao clicar 1 vez, queria que ao clicar 1 vez apenas selecione e eu possa tratar isso, e com dois abrir o evento.
52093,c#,Estou utilizando o método HttpRequestHeader para efetuar requisições (GET e POST), porém estou necessitando pegar o parâmetro Location da resposta de um POST e não estou conseguindo evoluir. Tem um exemplo da minha requisição abaixo:
url = "https://www.google.com"
req = HttpWebRequest.Create(url)
req.Method = "POST"
req.Headers.Add(HttpRequestHeader.Cookie, sessao)
req.Headers.Add(HttpRequestHeader.AcceptLanguage, "pt-BR")
req.UserAgent = "Mozilla/5.0 (Windows NT 6.3; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0"
req.Referer = "www.google.com.br"
req.ContentType = " multipart/form-data; boundary=---------------------------24708330210100"
req.ContentLength = postData.Length
Dim swRequestWriter As StreamWriter = New StreamWriter(req.GetRequestStream())
swRequestWriter.Write(postData)
swRequestWriter.Close()
Dim srResponseReader As StreamReader = New StreamReader(req.GetResponse().GetResponseStream(), System.Text.Encoding.UTF7)
html = srResponseReader.ReadToEnd().Trim
Lembrando-se que os endereços são fictícios, gostaria de uma ajuda urgente.
52094,android,Configurei um WebService em PHP e preciso saber como consumir ele, sempre que faço uma busca nele ele me retorna assim:
Todos os Alertas:
get_all_alerts.php
{"table_alerts":[{"id":"1",
"category":"Visitante",
"name":"Rosana",
"city":"Sao Paulo",
"description":
"Veio tirar ferias...",
"created_at":"2015-02-25 16:53:23"},
{"id":"2",
"category":"Visitante",
"name":"Sergio",
"city":"Santa Cruz",
"description":"Mudou de Cidade",
"created_at":"2015-02-25 16:54:51"}],"success":1}
Como pego esses dados e exibo ele numa ListView no Android? Já tentei fazer isso usando usando este tutorial mas não consegui, ele não conseguia converter o valor. Alguém poderia disponibilizar um tutorial simples de como fazer isso?
52097,,Existe uma tabela de Centro de Custo chamada "ccusto", nela, contém IDs (campo "codigo") que gostaria que fosse retornado em um SELECT. O porém é que o dado necessita ser comparado a uma string com separação por virgula, que são os valores que preciso selecionar.
Exemplo:
SELECT  codigo
FROM    ccusto
WHERE   codigo  IN('1,2,3');
Returno da consulta:
1
Retorno esperado da consulta:
1
2
3
Qual operador ou função pode ser usado neste caso?
52098,javascript|jquery,Nos outros navegadores consigo através do
$(document).scrollTop();
Mas no IE isso sempre retorna 0;
52102,ios,Estou tentando fazer um login num aplicativo no objective-c usando RestKit porem quando eu digito o email e a senha ele apresenta o seguinte erro no console:
AFNetworkingOperationFailingURLResponseErrorKey=<NSHTTPURLResponse: 0x7ffbd0f5f130> { URL: http://localhost:3000/users/sign_in.json } { status code: 401, headers {
"Cache-Control" = "no-cache";
Connection = "Keep-Alive";
"Content-Length" = 61;
"Content-Type" = "application/json; charset=utf-8";
Date = "Wed, 25 Feb 2015 21:18:57 GMT";
Server = "WEBrick/1.3.1 (Ruby/2.0.0/2014-05-08)";
"X-Content-Type-Options" = nosniff;
"X-Frame-Options" = SAMEORIGIN;
"X-Request-Id" = "c8c3c7c6-db3b-432d-82bb-c14b882f42a9";
"X-Runtime" = "0.011115";
"X-Ua-Compatible" = "chrome=1";
"X-Xss-Protection" = "1; mode=block";
} }, NSLocalizedDescription=Expected status code in (200-299), got 401}
Acredito que nao seja minha api pois ja verifiquei ela e esta tudo certo, mais provável que seja em obj-c pois sou novo nessa linguagem.
ESTE É MEU WEBSERVICE
#import "JVWebService.h"
#import <RestKit/RestKit.h>
#import "AppDelegate.h"
#import "JVUtils.h"
static NSString *kServerURL = @"http://localhost:3000";
@interface JVWebService ()
@property (strong, nonatomic) RKObjectManager *restKitObjectManager;
@property (strong, nonatomic) NSDictionary *adAttributes;
@property (strong, nonatomic) NSDictionary *postAdAttributes;
@property (strong, nonatomic) NSDictionary *userAttributes;
@property (strong, nonatomic) NSDictionary *postUserAttributes;
@end
#define kSuccessStatusCode RKStatusCodeIndexSetForClass(RKStatusCodeClassSuccessful)
@implementation JVWebService
+ (instancetype)sharedService {
static JVWebService *sharedService = nil;
static dispatch_once_t onceToken;
dispatch_once(&onceToken, ^{
sharedService = [[self alloc] init];
[AFNetworkActivityIndicatorManager sharedManager].enabled = YES;
sharedService.restKitObjectManager = [RKObjectManager managerWithBaseURL:[NSURL URLWithString:kServerURL]];
[sharedService.restKitObjectManager.HTTPClient setAuthorizationHeaderWithUsername:[[[AppDelegate sharedDelegate] currentUser] email]
password:[[[AppDelegate sharedDelegate] currentUser] password]];
});
return sharedService;
}
#pragma mark - User
- (void)getUserForEmail:(NSString *)email andPassword:(NSString *)password {
RKObjectMapping *objectMapping = [RKObjectMapping mappingForClass:User.class];
[objectMapping addAttributeMappingsFromDictionary:self.userAttributes];
RKObjectMapping *requestMapping = [RKObjectMapping requestMapping];
[requestMapping addAttributeMappingsFromDictionary:self.postUserAttributes];
NSString *path = @"/users/sign_in.json";
RKRequestDescriptor *requestDescriptor = [RKRequestDescriptor requestDescriptorWithMapping:requestMapping
objectClass:User.class
rootKeyPath:@"user"
method:RKRequestMethodAny];
RKResponseDescriptor *responseDescriptor = [RKResponseDescriptor responseDescriptorWithMapping:objectMapping
method:RKRequestMethodAny
pathPattern:path
keyPath:@"user"
statusCodes:kSuccessStatusCode];
[self.restKitObjectManager addRequestDescriptor:requestDescriptor];
[self.restKitObjectManager addResponseDescriptor:responseDescriptor];
User *user = [User new];
user.email = email;
user.password = password;
[[NSUserDefaults standardUserDefaults] setObject:[[NSUUID UUID] UUIDString] forKey:@"authencity_token"];
NSDictionary *params = @{@"authenticity_token" : [[NSUserDefaults standardUserDefaults] objectForKey:@"authencity_token"]};
[self.restKitObjectManager.HTTPClient setAuthorizationHeaderWithUsername:email password:password];
[self.restKitObjectManager postObject:user path:path parameters:params success:^(RKObjectRequestOperation *operation,
RKMappingResult *result){
User *user = (User *)result.array.firstObject;
user.password = password;
[[AppDelegate sharedDelegate] login:user];
[[AppDelegate sharedDelegate] setLoggedViaFacebook:NO];
if ([self.serviceDelegate respondsToSelector:@selector(successfulRequestDidReturnObject:)])
[self.serviceDelegate successfulRequestDidReturnObject:user];
} failure:^(RKObjectRequestOperation *operation, NSError *error){
RKLogError(@"Operation failed with error: %@", error);
if ([self.serviceDelegate respondsToSelector:@selector(requestDidFailWithError:)])
[self.serviceDelegate requestDidFailWithError:error];
}];
[self.restKitObjectManager removeResponseDescriptor:responseDescriptor];
/*
RKObjectMapping *objectMapping = [RKObjectMapping mappingForClass:User.class];
[objectMapping addAttributeMappingsFromDictionary:self.userAttributes];
NSString *path = @"/login.json";
RKResponseDescriptor *responseDescriptor = [RKResponseDescriptor responseDescriptorWithMapping:objectMapping
method:RKRequestMethodAny
pathPattern:path
keyPath:@"user"
statusCodes:kSuccessStatusCode];
[self.restKitObjectManager addResponseDescriptor:responseDescriptor];
[self.restKitObjectManager.HTTPClient setAuthorizationHeaderWithUsername:email password:password];
[self.restKitObjectManager getObjectsAtPath:path parameters:nil success:^(RKObjectRequestOperation *operation,
RKMappingResult *result){
User *user = (User *)result.array.firstObject;
user.password = password;
if ([self.serviceDelegate respondsToSelector:@selector(successfulRequestDidReturnObject:)])
[self.serviceDelegate successfulRequestDidReturnObject:user];
} failure:^(RKObjectRequestOperation *operation, NSError *error){
RKLogError(@"Operation failed with error: %@", error);
if ([self.serviceDelegate respondsToSelector:@selector(requestDidFailWithError:)])
[self.serviceDelegate requestDidFailWithError:error];
}];
[self.restKitObjectManager removeResponseDescriptor:responseDescriptor];
*/
}
- (void)createUser:(User *)user withProfileImage:(UIImage *)profileImage {
NSString *path = @"/users.json";
RKObjectMapping *objectMapping = [RKObjectMapping mappingForClass:User.class];
[objectMapping addAttributeMappingsFromDictionary:self.userAttributes];
RKObjectMapping *requestMapping = [RKObjectMapping requestMapping];
[requestMapping addAttributeMappingsFromDictionary:self.postUserAttributes];
RKRequestDescriptor *requestDescriptor = [RKRequestDescriptor requestDescriptorWithMapping:requestMapping
objectClass:User.class
rootKeyPath:@"user"
method:RKRequestMethodAny];
RKResponseDescriptor *responseDescriptor = [RKResponseDescriptor responseDescriptorWithMapping:objectMapping
method:RKRequestMethodAny
pathPattern:path
keyPath:@"user"
statusCodes:kSuccessStatusCode];
[self.restKitObjectManager addRequestDescriptor:requestDescriptor];
[self.restKitObjectManager addResponseDescriptor:responseDescriptor];
NSMutableURLRequest *request = [self.restKitObjectManager multipartFormRequestWithObject:user method:RKRequestMethodPOST path:path parameters:nil constructingBodyWithBlock:^(id<AFMultipartFormData> formData) {
[formData appendPartWithFileData:UIImagePNGRepresentation(profileImage)
name:@"user[avatar]"
fileName:@"profileImage.jpg"
mimeType:@"image/jpg"];
}];
RKObjectRequestOperation *operation = [self.restKitObjectManager objectRequestOperationWithRequest:request success:^(RKObjectRequestOperation *operation, RKMappingResult *result) {
User *user = (User *)result.array.firstObject;
if ([self.serviceDelegate respondsToSelector:@selector(successfulRequestDidReturnObject:)])
[self.serviceDelegate successfulRequestDidReturnObject:user];
} failure:^(RKObjectRequestOperation *operation, NSError *error) {
if ([self.serviceDelegate respondsToSelector:@selector(requestDidFailWithError:)])
[self.serviceDelegate requestDidFailWithError:error];
}];
[self.restKitObjectManager enqueueObjectRequestOperation:operation];
[self.restKitObjectManager removeRequestDescriptor:requestDescriptor];
[self.restKitObjectManager removeResponseDescriptor:responseDescriptor];
}
- (void)updateUser:(User *)user withProfileImage:(UIImage *)profileImage {
NSString *path = @"/users.json";
RKObjectMapping *objectMapping = [RKObjectMapping mappingForClass:User.class];
[objectMapping addAttributeMappingsFromDictionary:self.userAttributes];
RKObjectMapping *requestMapping = [RKObjectMapping requestMapping];
[requestMapping addAttributeMappingsFromDictionary:self.postUserAttributes];
RKRequestDescriptor *requestDescriptor = [RKRequestDescriptor requestDescriptorWithMapping:requestMapping
objectClass:User.class
rootKeyPath:@"user"
method:RKRequestMethodAny];
RKResponseDescriptor *responseDescriptor = [RKResponseDescriptor responseDescriptorWithMapping:objectMapping
method:RKRequestMethodAny
pathPattern:path
keyPath:@"user"
statusCodes:kSuccessStatusCode];
[self.restKitObjectManager addRequestDescriptor:requestDescriptor];
[self.restKitObjectManager addResponseDescriptor:responseDescriptor];
NSDictionary *params = @{@"authencity_token" : [[NSUserDefaults standardUserDefaults] objectForKey:@"authencity_token"]};
NSMutableURLRequest *request = [self.restKitObjectManager multipartFormRequestWithObject:user method:RKRequestMethodPATCH path:path parameters:params constructingBodyWithBlock:^(id<AFMultipartFormData> formData) {
//        [formData appendPartWithFileData:UIImagePNGRepresentation(profileImage)
//                                    name:@"user[avatar]"
//                                fileName:@"profileImage.jpg"
//                                mimeType:@"image/jpg"];
}];
RKObjectRequestOperation *operation = [self.restKitObjectManager objectRequestOperationWithRequest:request success:^(RKObjectRequestOperation *operation, RKMappingResult *result) {
[[AppDelegate sharedDelegate] login:(User *) result.array.firstObject];
if ([self.serviceDelegate respondsToSelector:@selector(successfulRequestDidReturnObject:)])
[self.serviceDelegate successfulRequestDidReturnObject:result.firstObject];
} failure:^(RKObjectRequestOperation *operation, NSError *error) {
if ([self.serviceDelegate respondsToSelector:@selector(requestDidFailWithError:)])
[self.serviceDelegate requestDidFailWithError:error];
}];
[self.restKitObjectManager enqueueObjectRequestOperation:operation];
[self.restKitObjectManager removeRequestDescriptor:requestDescriptor];
[self.restKitObjectManager removeResponseDescriptor:responseDescriptor];
}
- (void)logout {
NSString *path = @"/users/sign_out.json";
RKObjectMapping *objectMapping = [RKObjectMapping mappingForClass:User.class];
[objectMapping addAttributeMappingsFromDictionary:self.userAttributes];
RKObjectMapping *requestMapping = [RKObjectMapping requestMapping];
[requestMapping addAttributeMappingsFromDictionary:self.postUserAttributes];
RKRequestDescriptor *requestDescriptor = [RKRequestDescriptor requestDescriptorWithMapping:requestMapping
objectClass:User.class
rootKeyPath:@"user"
method:RKRequestMethodAny];
RKResponseDescriptor *responseDescriptor = [RKResponseDescriptor responseDescriptorWithMapping:objectMapping
method:RKRequestMethodAny
pathPattern:path
keyPath:@"user"
statusCodes:kSuccessStatusCode];
[self.restKitObjectManager addRequestDescriptor:requestDescriptor];
[self.restKitObjectManager addResponseDescriptor:responseDescriptor];
NSDictionary *params = @{@"authenticity_token" : [[NSUserDefaults standardUserDefaults] objectForKey:@"authencity_token"]};
[self.restKitObjectManager deleteObject:[[AppDelegate sharedDelegate] currentUser] path:path parameters:params success:^(RKObjectRequestOperation *operation, RKMappingResult *result) {
[[AppDelegate sharedDelegate] logout];
if ([[AppDelegate sharedDelegate] isLoggedViaFacebook]) [[AppDelegate sharedDelegate] closeFacebookSession];
if ([self.serviceDelegate respondsToSelector:@selector(successfulRequestDidReturnObject:)])
[self.serviceDelegate successfulRequestDidReturnObject:nil];
} failure:^(RKObjectRequestOperation *operation, NSError *error) {
RKLogError(@"Operation failed with error: %@", error);
if ([self.serviceDelegate respondsToSelector:@selector(requestDidFailWithError:)])
[self.serviceDelegate requestDidFailWithError:error];
}];
[self.restKitObjectManager removeRequestDescriptor:requestDescriptor];
[self.restKitObjectManager removeResponseDescriptor:responseDescriptor];
}
- (void)sendResetPasswordInstructionsToEmail:(NSString *)email {
NSString *path = @"/send_lost_password.json";
NSDictionary *params = @{@"email" : email};
[self.restKitObjectManager getObject:nil path:path parameters:params success:^(RKObjectRequestOperation *operation, RKMappingResult *result) {
if ([self.serviceDelegate respondsToSelector:@selector(successfulRequestDidReturnObject:)])
[self.serviceDelegate successfulRequestDidReturnObject:nil];
} failure:^(RKObjectRequestOperation *operation, NSError *error) {
RKLogError(@"Operation failed with error: %@", error);
if ([self.serviceDelegate respondsToSelector:@selector(requestDidFailWithError:)])
[self.serviceDelegate requestDidFailWithError:error];
}];
}
@end
52104,php,E o seguinte tenho um script ajax que me retorna um array com dados novos que existem na base dados de 1 em 1 segundo, esta a funcionar o problema e que ele sempre me repete o conteúdo que já esta presente na base de dados.
Script
<script>
$(document).ready(function() {
setInterval(function() {
var ultimo_post = 0;
console.log($('#mostra_posts section').lenght);
if ($('#mostra_posts section').lenght) {
ultimo_post = $('#mostra_posts section').attr('id');
}
$.ajax({
type: "POST",
url: "ajax/mostra_posts.php",
dataType: "JSON",
data: {
id_estabelecimento: "<?php echo $row->id; ?>",
ultimo_post: ultimo_post
},
cache: false
}).done(function(data) {
console.log(data);
$.each(data, function(index, value) {
$('#mostra_posts').append(value);
});
}).fail(function(data) {
console.log(data);
});
}, 2000); //Aqui você informa a cada quantos segundos irá fazer a requisição, no caso está 5 segundos
});
</script>
Mostra_posts.php
<?php
header('Cache-Control: no-cache, must-revalidate');
//Alteramos o cabeçalho para que o retorno seja do tipo JSON
header('Content-Type: application/json; charset=utf-8');
session_start();
require_once("../gtm/bd/funcoes.php");
ligarBd();
$id_estabelecimento = filter_input(INPUT_POST, 'id_estabelecimento', FILTER_VALIDATE_INT);
$ultimo_post = filter_input(INPUT_POST, 'ultimo_post');
//Caso tenha sido informado ou carregado algum post já..., caso contrário carregara todos;
if ($ultimo_post === 0) {
$result_post = mysql_query("SELECT * FROM posts WHERE estabelecimento_id = $id_estabelecimento ORDER BY data DESC");
//Você não precisa quebrar as aspas, quando são aspas o PHP entende que existe uma variável em algum lugar e ele vai substitui-lá;
} else {
$result_post = mysql_query("SELECT * FROM posts WHERE estabelecimento_id = $id_estabelecimento AND id_post > $ultimo_post ORDER BY data DESC");
//Você não precisa quebrar as aspas, quando são aspas o PHP entende que existe uma variável em algum lugar e ele vai substitui-lá;
}
$return = array();
while ($row_posts = mysql_fetch_object($result_post)) {
$result_user_anex = mysql_query("SELECT * FROM users_social WHERE id = $row_posts->user_id");
$row_user_anex = mysql_fetch_object($result_user_anex);
//Você não precisa quebrar as aspas, quando são aspas o PHP entende que existe uma variável em algum lugar e ele vai substitui-lá;
//Aqui precisei quebrar pois estou usando apóstrofos e quando uso eles o php não interpreta as variáveis;
$return[] = '
<section class="container" id='.$row_posts->id_post.' style="margin:15px 0px 0px 0px; border-top-left-radius: 2px; border-top-right-radius: 2px;">
<table border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<div style="float:left; margin:0px 0px 10px 0px; "><img width="50" height="50" src='.$row_user_anex->user_foto.'/></div>
<h3 style="float:left; margin:15px 0px 0px 10px;">'.utf8_encode($row_user_anex->fb_nome).'</h3>
</td>
</tr>
</table>
<p>'.utf8_encode($row_posts->opiniao).'</p>
<div style="float:left; margin:0px 5px 10px 0px;"><a href="#">Gosto</a></div>
<div style="float:left; margin:0px 5px 10px 0px;"><a href="#" >Comentar</a></div>
<div style="float:left; margin:0px 5px 10px 0px;"><a href="#" onClick="post_fb<?php echo $row_posts->id_post; ?>()">Partilhar</a></div>
<input type="hidden" name="post_id" id="post_id" value='.$row_posts->id_post.'/>
</section>
<table border="0" bgcolor="#E9EAED" style="border-bottom-left-radius: 2px; border-bottom-right-radius: 2px;" width="100%" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" width="10%">
<div style="padding:15px 5px 5px 20px;"><img width="33" height="33" src='.$_SESSION["user_foto"].'/></div>
</td>
<td valign="top" width="90%">
<div style="padding:15px 20px 15px 5px;">
<input type="text" style="width:100%; height:33px;" placeholder="Escreve um comentário..." id="comentario" name="comentario" value="">
</div>
<input type="submit" class="submit" style="display:none;" value=" Submit Comment " />
</td>
</tr>
</table>
';
}
echo json_encode($return);
?>
52106,php,Tenho uma tabela anúncios com um campo chamado destaque, por default seu valor é 0.
Eu listo todos os anúncios em uma table no HTML. Queria fazer com que quando o usuário clique em "Ativar destaque" o mesmo envie um update no MySQL alterando o campo de 0 para 1 sem refresh na página.
É possível?
Obs.: Antes que digam que eu não fui atras e quero pronto, eu fui sim, mas não consigo de forma alguma. Não estou pedindo código pronto, apenas um rumo.
52110,,Boa noite, pessoal! Sou noob em SQL e pretendo me esforçar para aprender mais com a ajuda de vocês.
Detalhes:
As colunas pertencem a mesma tabela
A parte do registro a ser retirado é comum em todas as rows, ou seja, essa seria a referência que usaria para não alterar informações erradas!
CONSULTA:
ID - PARAMS                                                          - LAYERS
1 / {"image":"http:\/\/www.meussite.com.br\/imagens_a\/banner1.png"} /  ....
2 / {"image":"http:\/\/www.meussite.com.br\/imagens_c\/banner2.png"} /  ....
3 / {"image":"http:\/\/www.meussite.com.br\/imagens_b\/banner3.png"} /  ....
...
Como eu substituo esse valor www.meussite.com.br, que está tanto na coluna PARAMS quanto na coluna LAYERS por este: www.meunovosite.com.br?
52114,php,A dúvida é a seguinte, se tenho um foreach ou qual;quer outra estrutura de repetição que recebe dados da tabela e exibe as categorias:
foreach ($categories as $c){
$c.nome . ' - ';
}
supondo que esse código fosse exibir como resultado:
Categoria_1 - Categoria_2 - Categoria_3 -
Como fazer para que  esse "-" não apareça após a última repetição do laço, como oculta-lo?
A minha intenção é que ao invés de exibir como mostrado a cima o resultado final seja:
Categoria_1 - Categoria_2 - Categoria_3
com o "-" não aparecendo nem no início nem no final, mas somente entre os nomes das categorias.
52117,php,Um mês atrás tudo está funcionando bem, até que fui fazer o deploy de um projeto e...
Quando execute o comando envoy run deploy, utilizando as configurações abaixo...
@servers([
'mt' => 'user@xxxx.xxxx.xxxx'
])
@task('deploy', ['on' => 'mt'])
cd /var/www/html/xxx.xxxxxx.xxxx
git pull origin dev
composer dump-autoload -o
php artisan cache:clear
@endtask
Eu obtive o seguinte erro:
git:(dev) ✗ envoy run deploy
[]: Pseudo-terminal will not be allocated because stdin is not a terminal.
[]: ssh: Could not resolve hostname bash -s: nodename nor servname provided, or not known
Coloquei o conteúdo do arquivo id_rsa.pub do meu mac no servidor, dentro do arquivo authorized_keys, e consigo fazer o login normalmente da maneira tradicional: ssh user@xxx.xxx.xxx - (sem a senha).
Então... o que estou fazendo errado? O que mudou no Envoy?
Se precisarem de mais informações, me avisem antes de negativarem a questão.
Desde já agradeço.
